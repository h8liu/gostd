<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html" class="current">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1743720">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1743775">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1743829">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1743880">package</span>&nbsp;<span class="ident" id="1743888">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1743897">import</span>&nbsp;<span class="op" id="1743904">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1743907">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="1743916">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1743919">const</span>&nbsp;<span class="op" id="1743925">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1743928">hashSize</span>&nbsp;<span class="op" id="1743937">=</span>&nbsp;<span class="num" id="1743939">1009</span><br>
<span class="lineno"></span><span class="op" id="1743944">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="1743947">var</span>&nbsp;<span class="op" id="1743951">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1743954">ifaceLock</span>&nbsp;<span class="ident" id="1743964">mutex</span>&nbsp;<span class="comment" id="1743970">//&nbsp;lock&nbsp;for&nbsp;accessing&nbsp;hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1743998">hash</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1744008">[</span><span class="ident" id="1744009">hashSize</span><span class="op" id="1744017">]</span><span class="op" id="1744018">*</span><span class="ident" id="1744019">itab</span><br>
<span class="lineno"></span><span class="op" id="1744024">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="1744027">//&nbsp;fInterface&nbsp;is&nbsp;our&nbsp;standard&nbsp;non-empty&nbsp;interface.&nbsp;&nbsp;We&nbsp;use&nbsp;it&nbsp;instead</span><br>
<span class="lineno"></span><span class="comment" id="1744097">//&nbsp;of&nbsp;interface{f()}&nbsp;in&nbsp;function&nbsp;prototypes&nbsp;because&nbsp;gofmt&nbsp;insists&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="1744166">//&nbsp;putting&nbsp;lots&nbsp;of&nbsp;newlines&nbsp;in&nbsp;the&nbsp;otherwise&nbsp;concise&nbsp;interface{f()}.</span><br>
<span class="lineno"></span><span class="keyword" id="1744235">type</span>&nbsp;<span class="ident" id="1744240">fInterface</span>&nbsp;<span class="keyword" id="1744251">interface</span>&nbsp;<span class="op" id="1744261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1744264">f</span><span class="op" id="1744265">(</span><span class="op" id="1744266">)</span><br>
<span class="lineno">25</span><span class="op" id="1744268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1744271">func</span>&nbsp;<span class="ident" id="1744276">getitab</span><span class="op" id="1744283">(</span><span class="ident" id="1744284">inter</span>&nbsp;<span class="op" id="1744290">*</span><span class="ident" id="1744291">interfacetype</span><span class="op" id="1744304">,</span>&nbsp;<span class="ident" id="1744306">typ</span>&nbsp;<span class="op" id="1744310">*</span><span class="ident" id="1744311">_type</span><span class="op" id="1744316">,</span>&nbsp;<span class="ident" id="1744318">canfail</span>&nbsp;<span class="builtintype" id="1744326">bool</span><span class="op" id="1744330">)</span>&nbsp;<span class="op" id="1744332">*</span><span class="ident" id="1744333">itab</span>&nbsp;<span class="op" id="1744338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1744341">if</span>&nbsp;<span class="builtinfunc" id="1744344">len</span><span class="op" id="1744347">(</span><span class="ident" id="1744348">inter</span><span class="op" id="1744353">.</span><span class="ident" id="1744354">mhdr</span><span class="op" id="1744358">)</span>&nbsp;<span class="op" id="1744360">==</span>&nbsp;<span class="num" id="1744363">0</span>&nbsp;<span class="op" id="1744365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1744369">gothrow</span><span class="op" id="1744376">(</span><span class="string" id="1744377">&#34;internal&nbsp;error&nbsp;-&nbsp;misuse&nbsp;of&nbsp;itab&#34;</span><span class="op" id="1744410">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1744413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1744417">//&nbsp;easy&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1744431">x</span>&nbsp;<span class="op" id="1744433">:=</span>&nbsp;<span class="ident" id="1744436">typ</span><span class="op" id="1744439">.</span><span class="ident" id="1744440">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1744443">if</span>&nbsp;<span class="ident" id="1744446">x</span>&nbsp;<span class="op" id="1744448">==</span>&nbsp;<span class="ident" id="1744451">nil</span>&nbsp;<span class="op" id="1744455">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1744459">if</span>&nbsp;<span class="ident" id="1744462">canfail</span>&nbsp;<span class="op" id="1744470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1744475">return</span>&nbsp;<span class="ident" id="1744482">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1744488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1744492">i</span>&nbsp;<span class="op" id="1744494">:=</span>&nbsp;<span class="op" id="1744497">(</span><span class="op" id="1744498">*</span><span class="ident" id="1744499">imethod</span><span class="op" id="1744506">)</span><span class="op" id="1744507">(</span><span class="ident" id="1744508">add</span><span class="op" id="1744511">(</span><span class="ident" id="1744512">unsafe</span><span class="op" id="1744518">.</span><span class="ident" id="1744519">Pointer</span><span class="op" id="1744526">(</span><span class="ident" id="1744527">inter</span><span class="op" id="1744532">)</span><span class="op" id="1744533">,</span>&nbsp;<span class="ident" id="1744535">unsafe</span><span class="op" id="1744541">.</span><span class="ident" id="1744542">Sizeof</span><span class="op" id="1744548">(</span><span class="ident" id="1744549">interfacetype</span><span class="op" id="1744562">{</span><span class="op" id="1744563">}</span><span class="op" id="1744564">)</span><span class="op" id="1744565">)</span><span class="op" id="1744566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1744570">panic</span><span class="op" id="1744575">(</span><span class="op" id="1744576">&amp;</span><span class="ident" id="1744577">TypeAssertionError</span><span class="op" id="1744595">{</span><span class="string" id="1744596">&#34;&#34;</span><span class="op" id="1744598">,</span>&nbsp;<span class="op" id="1744600">*</span><span class="ident" id="1744601">typ</span><span class="op" id="1744604">.</span><span class="ident" id="1744605">_string</span><span class="op" id="1744612">,</span>&nbsp;<span class="op" id="1744614">*</span><span class="ident" id="1744615">inter</span><span class="op" id="1744620">.</span><span class="ident" id="1744621">typ</span><span class="op" id="1744624">.</span><span class="ident" id="1744625">_string</span><span class="op" id="1744632">,</span>&nbsp;<span class="op" id="1744634">*</span><span class="ident" id="1744635">i</span><span class="op" id="1744636">.</span><span class="ident" id="1744637">name</span><span class="op" id="1744641">}</span><span class="op" id="1744642">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1744645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1744649">//&nbsp;compiler&nbsp;has&nbsp;provided&nbsp;some&nbsp;good&nbsp;hash&nbsp;codes&nbsp;for&nbsp;us.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1744704">h</span>&nbsp;<span class="op" id="1744706">:=</span>&nbsp;<span class="ident" id="1744709">inter</span><span class="op" id="1744714">.</span><span class="ident" id="1744715">typ</span><span class="op" id="1744718">.</span><span class="ident" id="1744719">hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1744725">h</span>&nbsp;<span class="op" id="1744727">+=</span>&nbsp;<span class="num" id="1744730">17</span>&nbsp;<span class="op" id="1744733">*</span>&nbsp;<span class="ident" id="1744735">typ</span><span class="op" id="1744738">.</span><span class="ident" id="1744739">hash</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1744745">//&nbsp;TODO(rsc):&nbsp;h&nbsp;+=&nbsp;23&nbsp;*&nbsp;x.mhash&nbsp;?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1744780">h</span>&nbsp;<span class="op" id="1744782">%=</span>&nbsp;<span class="ident" id="1744785">hashSize</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1744796">//&nbsp;look&nbsp;twice&nbsp;-&nbsp;once&nbsp;without&nbsp;lock,&nbsp;once&nbsp;with.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1744843">//&nbsp;common&nbsp;case&nbsp;will&nbsp;be&nbsp;no&nbsp;lock&nbsp;contention.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1744887">var</span>&nbsp;<span class="ident" id="1744891">m</span>&nbsp;<span class="op" id="1744893">*</span><span class="ident" id="1744894">itab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1744900">var</span>&nbsp;<span class="ident" id="1744904">locked</span>&nbsp;<span class="builtintype" id="1744911">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1744916">for</span>&nbsp;<span class="ident" id="1744920">locked</span>&nbsp;<span class="op" id="1744927">=</span>&nbsp;<span class="num" id="1744929">0</span><span class="op" id="1744930">;</span>&nbsp;<span class="ident" id="1744932">locked</span>&nbsp;<span class="op" id="1744939">&lt;</span>&nbsp;<span class="num" id="1744941">2</span><span class="op" id="1744942">;</span>&nbsp;<span class="ident" id="1744944">locked</span><span class="op" id="1744950">++</span>&nbsp;<span class="op" id="1744953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1744957">if</span>&nbsp;<span class="ident" id="1744960">locked</span>&nbsp;<span class="op" id="1744967">!=</span>&nbsp;<span class="num" id="1744970">0</span>&nbsp;<span class="op" id="1744972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1744977">lock</span><span class="op" id="1744981">(</span><span class="op" id="1744982">&amp;</span><span class="ident" id="1744983">ifaceLock</span><span class="op" id="1744992">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1744996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1745000">for</span>&nbsp;<span class="ident" id="1745004">m</span>&nbsp;<span class="op" id="1745006">=</span>&nbsp;<span class="op" id="1745008">(</span><span class="op" id="1745009">*</span><span class="ident" id="1745010">itab</span><span class="op" id="1745014">)</span><span class="op" id="1745015">(</span><span class="ident" id="1745016">atomicloadp</span><span class="op" id="1745027">(</span><span class="ident" id="1745028">unsafe</span><span class="op" id="1745034">.</span><span class="ident" id="1745035">Pointer</span><span class="op" id="1745042">(</span><span class="op" id="1745043">&amp;</span><span class="ident" id="1745044">hash</span><span class="op" id="1745048">[</span><span class="ident" id="1745049">h</span><span class="op" id="1745050">]</span><span class="op" id="1745051">)</span><span class="op" id="1745052">)</span><span class="op" id="1745053">)</span><span class="op" id="1745054">;</span>&nbsp;<span class="ident" id="1745056">m</span>&nbsp;<span class="op" id="1745058">!=</span>&nbsp;<span class="ident" id="1745061">nil</span><span class="op" id="1745064">;</span>&nbsp;<span class="ident" id="1745066">m</span>&nbsp;<span class="op" id="1745068">=</span>&nbsp;<span class="ident" id="1745070">m</span><span class="op" id="1745071">.</span><span class="ident" id="1745072">link</span>&nbsp;<span class="op" id="1745077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1745082">if</span>&nbsp;<span class="ident" id="1745085">m</span><span class="op" id="1745086">.</span><span class="ident" id="1745087">inter</span>&nbsp;<span class="op" id="1745093">==</span>&nbsp;<span class="ident" id="1745096">inter</span>&nbsp;<span class="op" id="1745102">&amp;&amp;</span>&nbsp;<span class="ident" id="1745105">m</span><span class="op" id="1745106">.</span><span class="ident" id="1745107">_type</span>&nbsp;<span class="op" id="1745113">==</span>&nbsp;<span class="ident" id="1745116">typ</span>&nbsp;<span class="op" id="1745120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1745126">if</span>&nbsp;<span class="ident" id="1745129">m</span><span class="op" id="1745130">.</span><span class="ident" id="1745131">bad</span>&nbsp;<span class="op" id="1745135">!=</span>&nbsp;<span class="num" id="1745138">0</span>&nbsp;<span class="op" id="1745140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1745147">m</span>&nbsp;<span class="op" id="1745149">=</span>&nbsp;<span class="ident" id="1745151">nil</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1745160">if</span>&nbsp;<span class="op" id="1745163">!</span><span class="ident" id="1745164">canfail</span>&nbsp;<span class="op" id="1745172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1745180">//&nbsp;this&nbsp;can&nbsp;only&nbsp;happen&nbsp;if&nbsp;the&nbsp;conversion</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1745228">//&nbsp;was&nbsp;already&nbsp;done&nbsp;once&nbsp;using&nbsp;the&nbsp;,&nbsp;ok&nbsp;form</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1745279">//&nbsp;and&nbsp;we&nbsp;have&nbsp;a&nbsp;cached&nbsp;negative&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1745326">//&nbsp;the&nbsp;cached&nbsp;result&nbsp;doesn&#39;t&nbsp;record&nbsp;which</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1745374">//&nbsp;interface&nbsp;function&nbsp;was&nbsp;missing,&nbsp;so&nbsp;jump</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1745423">//&nbsp;down&nbsp;to&nbsp;the&nbsp;interface&nbsp;check,&nbsp;which&nbsp;will</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1745472">//&nbsp;do&nbsp;more&nbsp;work&nbsp;but&nbsp;give&nbsp;a&nbsp;better&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1745519">goto</span>&nbsp;<span class="ident" id="1745524">search</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1745536">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1745542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1745548">if</span>&nbsp;<span class="ident" id="1745551">locked</span>&nbsp;<span class="op" id="1745558">!=</span>&nbsp;<span class="num" id="1745561">0</span>&nbsp;<span class="op" id="1745563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1745570">unlock</span><span class="op" id="1745576">(</span><span class="op" id="1745577">&amp;</span><span class="ident" id="1745578">ifaceLock</span><span class="op" id="1745587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1745593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1745599">return</span>&nbsp;<span class="ident" id="1745606">m</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1745611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1745615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1745618">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1745622">m</span>&nbsp;<span class="op" id="1745624">=</span>&nbsp;<span class="op" id="1745626">(</span><span class="op" id="1745627">*</span><span class="ident" id="1745628">itab</span><span class="op" id="1745632">)</span><span class="op" id="1745633">(</span><span class="ident" id="1745634">persistentalloc</span><span class="op" id="1745649">(</span><span class="ident" id="1745650">unsafe</span><span class="op" id="1745656">.</span><span class="ident" id="1745657">Sizeof</span><span class="op" id="1745663">(</span><span class="ident" id="1745664">itab</span><span class="op" id="1745668">{</span><span class="op" id="1745669">}</span><span class="op" id="1745670">)</span><span class="op" id="1745671">+</span><span class="builtintype" id="1745672">uintptr</span><span class="op" id="1745679">(</span><span class="builtinfunc" id="1745680">len</span><span class="op" id="1745683">(</span><span class="ident" id="1745684">inter</span><span class="op" id="1745689">.</span><span class="ident" id="1745690">mhdr</span><span class="op" id="1745694">)</span><span class="op" id="1745695">)</span><span class="op" id="1745696">*</span><span class="ident" id="1745697">ptrSize</span><span class="op" id="1745704">,</span>&nbsp;<span class="num" id="1745706">0</span><span class="op" id="1745707">,</span>&nbsp;<span class="op" id="1745709">&amp;</span><span class="ident" id="1745710">memstats</span><span class="op" id="1745718">.</span><span class="ident" id="1745719">other_sys</span><span class="op" id="1745728">)</span><span class="op" id="1745729">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1745732">m</span><span class="op" id="1745733">.</span><span class="ident" id="1745734">inter</span>&nbsp;<span class="op" id="1745740">=</span>&nbsp;<span class="ident" id="1745742">inter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1745749">m</span><span class="op" id="1745750">.</span><span class="ident" id="1745751">_type</span>&nbsp;<span class="op" id="1745757">=</span>&nbsp;<span class="ident" id="1745759">typ</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="ident" id="1745764">search</span><span class="op" id="1745770">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1745773">//&nbsp;both&nbsp;inter&nbsp;and&nbsp;typ&nbsp;have&nbsp;method&nbsp;sorted&nbsp;by&nbsp;name,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1745824">//&nbsp;and&nbsp;interface&nbsp;names&nbsp;are&nbsp;unique,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1745860">//&nbsp;so&nbsp;can&nbsp;iterate&nbsp;over&nbsp;both&nbsp;in&nbsp;lock&nbsp;step;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1745903">//&nbsp;the&nbsp;loop&nbsp;is&nbsp;O(ni+nt)&nbsp;not&nbsp;O(ni*nt).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1745942">ni</span>&nbsp;<span class="op" id="1745945">:=</span>&nbsp;<span class="builtinfunc" id="1745948">len</span><span class="op" id="1745951">(</span><span class="ident" id="1745952">inter</span><span class="op" id="1745957">.</span><span class="ident" id="1745958">mhdr</span><span class="op" id="1745962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1745965">nt</span>&nbsp;<span class="op" id="1745968">:=</span>&nbsp;<span class="builtinfunc" id="1745971">len</span><span class="op" id="1745974">(</span><span class="ident" id="1745975">x</span><span class="op" id="1745976">.</span><span class="ident" id="1745977">mhdr</span><span class="op" id="1745981">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1745984">j</span>&nbsp;<span class="op" id="1745986">:=</span>&nbsp;<span class="num" id="1745989">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1745992">for</span>&nbsp;<span class="ident" id="1745996">k</span>&nbsp;<span class="op" id="1745998">:=</span>&nbsp;<span class="num" id="1746001">0</span><span class="op" id="1746002">;</span>&nbsp;<span class="ident" id="1746004">k</span>&nbsp;<span class="op" id="1746006">&lt;</span>&nbsp;<span class="ident" id="1746008">ni</span><span class="op" id="1746010">;</span>&nbsp;<span class="ident" id="1746012">k</span><span class="op" id="1746013">++</span>&nbsp;<span class="op" id="1746016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1746020">i</span>&nbsp;<span class="op" id="1746022">:=</span>&nbsp;<span class="op" id="1746025">(</span><span class="op" id="1746026">*</span><span class="ident" id="1746027">imethod</span><span class="op" id="1746034">)</span><span class="op" id="1746035">(</span><span class="ident" id="1746036">add</span><span class="op" id="1746039">(</span><span class="ident" id="1746040">unsafe</span><span class="op" id="1746046">.</span><span class="ident" id="1746047">Pointer</span><span class="op" id="1746054">(</span><span class="ident" id="1746055">inter</span><span class="op" id="1746060">)</span><span class="op" id="1746061">,</span>&nbsp;<span class="ident" id="1746063">unsafe</span><span class="op" id="1746069">.</span><span class="ident" id="1746070">Sizeof</span><span class="op" id="1746076">(</span><span class="ident" id="1746077">interfacetype</span><span class="op" id="1746090">{</span><span class="op" id="1746091">}</span><span class="op" id="1746092">)</span><span class="op" id="1746093">+</span><span class="builtintype" id="1746094">uintptr</span><span class="op" id="1746101">(</span><span class="ident" id="1746102">k</span><span class="op" id="1746103">)</span><span class="op" id="1746104">*</span><span class="ident" id="1746105">unsafe</span><span class="op" id="1746111">.</span><span class="ident" id="1746112">Sizeof</span><span class="op" id="1746118">(</span><span class="ident" id="1746119">imethod</span><span class="op" id="1746126">{</span><span class="op" id="1746127">}</span><span class="op" id="1746128">)</span><span class="op" id="1746129">)</span><span class="op" id="1746130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1746134">iname</span>&nbsp;<span class="op" id="1746140">:=</span>&nbsp;<span class="ident" id="1746143">i</span><span class="op" id="1746144">.</span><span class="ident" id="1746145">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1746152">ipkgpath</span>&nbsp;<span class="op" id="1746161">:=</span>&nbsp;<span class="ident" id="1746164">i</span><span class="op" id="1746165">.</span><span class="ident" id="1746166">pkgpath</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1746176">itype</span>&nbsp;<span class="op" id="1746182">:=</span>&nbsp;<span class="ident" id="1746185">i</span><span class="op" id="1746186">.</span><span class="ident" id="1746187">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1746195">for</span>&nbsp;<span class="op" id="1746199">;</span>&nbsp;<span class="ident" id="1746201">j</span>&nbsp;<span class="op" id="1746203">&lt;</span>&nbsp;<span class="ident" id="1746205">nt</span><span class="op" id="1746207">;</span>&nbsp;<span class="ident" id="1746209">j</span><span class="op" id="1746210">++</span>&nbsp;<span class="op" id="1746213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1746218">t</span>&nbsp;<span class="op" id="1746220">:=</span>&nbsp;<span class="op" id="1746223">(</span><span class="op" id="1746224">*</span><span class="ident" id="1746225">method</span><span class="op" id="1746231">)</span><span class="op" id="1746232">(</span><span class="ident" id="1746233">add</span><span class="op" id="1746236">(</span><span class="ident" id="1746237">unsafe</span><span class="op" id="1746243">.</span><span class="ident" id="1746244">Pointer</span><span class="op" id="1746251">(</span><span class="ident" id="1746252">x</span><span class="op" id="1746253">)</span><span class="op" id="1746254">,</span>&nbsp;<span class="ident" id="1746256">unsafe</span><span class="op" id="1746262">.</span><span class="ident" id="1746263">Sizeof</span><span class="op" id="1746269">(</span><span class="ident" id="1746270">uncommontype</span><span class="op" id="1746282">{</span><span class="op" id="1746283">}</span><span class="op" id="1746284">)</span><span class="op" id="1746285">+</span><span class="builtintype" id="1746286">uintptr</span><span class="op" id="1746293">(</span><span class="ident" id="1746294">j</span><span class="op" id="1746295">)</span><span class="op" id="1746296">*</span><span class="ident" id="1746297">unsafe</span><span class="op" id="1746303">.</span><span class="ident" id="1746304">Sizeof</span><span class="op" id="1746310">(</span><span class="ident" id="1746311">method</span><span class="op" id="1746317">{</span><span class="op" id="1746318">}</span><span class="op" id="1746319">)</span><span class="op" id="1746320">)</span><span class="op" id="1746321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1746326">if</span>&nbsp;<span class="ident" id="1746329">t</span><span class="op" id="1746330">.</span><span class="ident" id="1746331">mtyp</span>&nbsp;<span class="op" id="1746336">==</span>&nbsp;<span class="ident" id="1746339">itype</span>&nbsp;<span class="op" id="1746345">&amp;&amp;</span>&nbsp;<span class="ident" id="1746348">t</span><span class="op" id="1746349">.</span><span class="ident" id="1746350">name</span>&nbsp;<span class="op" id="1746355">==</span>&nbsp;<span class="ident" id="1746358">iname</span>&nbsp;<span class="op" id="1746364">&amp;&amp;</span>&nbsp;<span class="ident" id="1746367">t</span><span class="op" id="1746368">.</span><span class="ident" id="1746369">pkgpath</span>&nbsp;<span class="op" id="1746377">==</span>&nbsp;<span class="ident" id="1746380">ipkgpath</span>&nbsp;<span class="op" id="1746389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1746395">if</span>&nbsp;<span class="ident" id="1746398">m</span>&nbsp;<span class="op" id="1746400">!=</span>&nbsp;<span class="ident" id="1746403">nil</span>&nbsp;<span class="op" id="1746407">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1746414">*</span><span class="op" id="1746415">(</span><span class="op" id="1746416">*</span><span class="ident" id="1746417">unsafe</span><span class="op" id="1746423">.</span><span class="ident" id="1746424">Pointer</span><span class="op" id="1746431">)</span><span class="op" id="1746432">(</span><span class="ident" id="1746433">add</span><span class="op" id="1746436">(</span><span class="ident" id="1746437">unsafe</span><span class="op" id="1746443">.</span><span class="ident" id="1746444">Pointer</span><span class="op" id="1746451">(</span><span class="ident" id="1746452">m</span><span class="op" id="1746453">)</span><span class="op" id="1746454">,</span>&nbsp;<span class="ident" id="1746456">unsafe</span><span class="op" id="1746462">.</span><span class="ident" id="1746463">Sizeof</span><span class="op" id="1746469">(</span><span class="ident" id="1746470">itab</span><span class="op" id="1746474">{</span><span class="op" id="1746475">}</span><span class="op" id="1746476">)</span><span class="op" id="1746477">+</span><span class="builtintype" id="1746478">uintptr</span><span class="op" id="1746485">(</span><span class="ident" id="1746486">k</span><span class="op" id="1746487">)</span><span class="op" id="1746488">*</span><span class="ident" id="1746489">ptrSize</span><span class="op" id="1746496">)</span><span class="op" id="1746497">)</span>&nbsp;<span class="op" id="1746499">=</span>&nbsp;<span class="ident" id="1746501">t</span><span class="op" id="1746502">.</span><span class="ident" id="1746503">ifn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1746511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1746517">goto</span>&nbsp;<span class="ident" id="1746522">nextimethod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1746537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1746541">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1746545">//&nbsp;didn&#39;t&nbsp;find&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1746569">if</span>&nbsp;<span class="op" id="1746572">!</span><span class="ident" id="1746573">canfail</span>&nbsp;<span class="op" id="1746581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1746586">if</span>&nbsp;<span class="ident" id="1746589">locked</span>&nbsp;<span class="op" id="1746596">!=</span>&nbsp;<span class="num" id="1746599">0</span>&nbsp;<span class="op" id="1746601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1746607">unlock</span><span class="op" id="1746613">(</span><span class="op" id="1746614">&amp;</span><span class="ident" id="1746615">ifaceLock</span><span class="op" id="1746624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1746629">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1746634">panic</span><span class="op" id="1746639">(</span><span class="op" id="1746640">&amp;</span><span class="ident" id="1746641">TypeAssertionError</span><span class="op" id="1746659">{</span><span class="string" id="1746660">&#34;&#34;</span><span class="op" id="1746662">,</span>&nbsp;<span class="op" id="1746664">*</span><span class="ident" id="1746665">typ</span><span class="op" id="1746668">.</span><span class="ident" id="1746669">_string</span><span class="op" id="1746676">,</span>&nbsp;<span class="op" id="1746678">*</span><span class="ident" id="1746679">inter</span><span class="op" id="1746684">.</span><span class="ident" id="1746685">typ</span><span class="op" id="1746688">.</span><span class="ident" id="1746689">_string</span><span class="op" id="1746696">,</span>&nbsp;<span class="op" id="1746698">*</span><span class="ident" id="1746699">iname</span><span class="op" id="1746704">}</span><span class="op" id="1746705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1746709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1746713">m</span><span class="op" id="1746714">.</span><span class="ident" id="1746715">bad</span>&nbsp;<span class="op" id="1746719">=</span>&nbsp;<span class="num" id="1746721">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1746725">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1746732">nextimethod</span><span class="op" id="1746743">:</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1746746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1746749">if</span>&nbsp;<span class="ident" id="1746752">locked</span>&nbsp;<span class="op" id="1746759">==</span>&nbsp;<span class="num" id="1746762">0</span>&nbsp;<span class="op" id="1746764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1746768">gothrow</span><span class="op" id="1746775">(</span><span class="string" id="1746776">&#34;invalid&nbsp;itab&nbsp;locking&#34;</span><span class="op" id="1746798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1746801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1746804">m</span><span class="op" id="1746805">.</span><span class="ident" id="1746806">link</span>&nbsp;<span class="op" id="1746811">=</span>&nbsp;<span class="ident" id="1746813">hash</span><span class="op" id="1746817">[</span><span class="ident" id="1746818">h</span><span class="op" id="1746819">]</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1746822">atomicstorep</span><span class="op" id="1746834">(</span><span class="ident" id="1746835">unsafe</span><span class="op" id="1746841">.</span><span class="ident" id="1746842">Pointer</span><span class="op" id="1746849">(</span><span class="op" id="1746850">&amp;</span><span class="ident" id="1746851">hash</span><span class="op" id="1746855">[</span><span class="ident" id="1746856">h</span><span class="op" id="1746857">]</span><span class="op" id="1746858">)</span><span class="op" id="1746859">,</span>&nbsp;<span class="ident" id="1746861">unsafe</span><span class="op" id="1746867">.</span><span class="ident" id="1746868">Pointer</span><span class="op" id="1746875">(</span><span class="ident" id="1746876">m</span><span class="op" id="1746877">)</span><span class="op" id="1746878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1746881">unlock</span><span class="op" id="1746887">(</span><span class="op" id="1746888">&amp;</span><span class="ident" id="1746889">ifaceLock</span><span class="op" id="1746898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1746901">if</span>&nbsp;<span class="ident" id="1746904">m</span><span class="op" id="1746905">.</span><span class="ident" id="1746906">bad</span>&nbsp;<span class="op" id="1746910">!=</span>&nbsp;<span class="num" id="1746913">0</span>&nbsp;<span class="op" id="1746915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1746919">return</span>&nbsp;<span class="ident" id="1746926">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1746931">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1746934">return</span>&nbsp;<span class="ident" id="1746941">m</span><br>
<span class="lineno"></span><span class="op" id="1746943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1746946">func</span>&nbsp;<span class="ident" id="1746951">typ2Itab</span><span class="op" id="1746959">(</span><span class="ident" id="1746960">t</span>&nbsp;<span class="op" id="1746962">*</span><span class="ident" id="1746963">_type</span><span class="op" id="1746968">,</span>&nbsp;<span class="ident" id="1746970">inter</span>&nbsp;<span class="op" id="1746976">*</span><span class="ident" id="1746977">interfacetype</span><span class="op" id="1746990">,</span>&nbsp;<span class="ident" id="1746992">cache</span>&nbsp;<span class="op" id="1746998">*</span><span class="op" id="1746999">*</span><span class="ident" id="1747000">itab</span><span class="op" id="1747004">)</span>&nbsp;<span class="op" id="1747006">*</span><span class="ident" id="1747007">itab</span>&nbsp;<span class="op" id="1747012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747015">tab</span>&nbsp;<span class="op" id="1747019">:=</span>&nbsp;<span class="ident" id="1747022">getitab</span><span class="op" id="1747029">(</span><span class="ident" id="1747030">inter</span><span class="op" id="1747035">,</span>&nbsp;<span class="ident" id="1747037">t</span><span class="op" id="1747038">,</span>&nbsp;<span class="builtintype" id="1747040">false</span><span class="op" id="1747045">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747048">atomicstorep</span><span class="op" id="1747060">(</span><span class="ident" id="1747061">unsafe</span><span class="op" id="1747067">.</span><span class="ident" id="1747068">Pointer</span><span class="op" id="1747075">(</span><span class="ident" id="1747076">cache</span><span class="op" id="1747081">)</span><span class="op" id="1747082">,</span>&nbsp;<span class="ident" id="1747084">unsafe</span><span class="op" id="1747090">.</span><span class="ident" id="1747091">Pointer</span><span class="op" id="1747098">(</span><span class="ident" id="1747099">tab</span><span class="op" id="1747102">)</span><span class="op" id="1747103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1747106">return</span>&nbsp;<span class="ident" id="1747113">tab</span><br>
<span class="lineno"></span><span class="op" id="1747117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1747120">func</span>&nbsp;<span class="ident" id="1747125">convT2E</span><span class="op" id="1747132">(</span><span class="ident" id="1747133">t</span>&nbsp;<span class="op" id="1747135">*</span><span class="ident" id="1747136">_type</span><span class="op" id="1747141">,</span>&nbsp;<span class="ident" id="1747143">elem</span>&nbsp;<span class="ident" id="1747148">unsafe</span><span class="op" id="1747154">.</span><span class="ident" id="1747155">Pointer</span><span class="op" id="1747162">)</span>&nbsp;<span class="op" id="1747164">(</span><span class="ident" id="1747165">e</span>&nbsp;<span class="keyword" id="1747167">interface</span><span class="op" id="1747176">{</span><span class="op" id="1747177">}</span><span class="op" id="1747178">)</span>&nbsp;<span class="op" id="1747180">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747183">size</span>&nbsp;<span class="op" id="1747188">:=</span>&nbsp;<span class="builtintype" id="1747191">uintptr</span><span class="op" id="1747198">(</span><span class="ident" id="1747199">t</span><span class="op" id="1747200">.</span><span class="ident" id="1747201">size</span><span class="op" id="1747205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747208">ep</span>&nbsp;<span class="op" id="1747211">:=</span>&nbsp;<span class="op" id="1747214">(</span><span class="op" id="1747215">*</span><span class="ident" id="1747216">eface</span><span class="op" id="1747221">)</span><span class="op" id="1747222">(</span><span class="ident" id="1747223">unsafe</span><span class="op" id="1747229">.</span><span class="ident" id="1747230">Pointer</span><span class="op" id="1747237">(</span><span class="op" id="1747238">&amp;</span><span class="ident" id="1747239">e</span><span class="op" id="1747240">)</span><span class="op" id="1747241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1747244">if</span>&nbsp;<span class="ident" id="1747247">isDirectIface</span><span class="op" id="1747260">(</span><span class="ident" id="1747261">t</span><span class="op" id="1747262">)</span>&nbsp;<span class="op" id="1747264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747268">ep</span><span class="op" id="1747270">.</span><span class="ident" id="1747271">_type</span>&nbsp;<span class="op" id="1747277">=</span>&nbsp;<span class="ident" id="1747279">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747283">memmove</span><span class="op" id="1747290">(</span><span class="ident" id="1747291">unsafe</span><span class="op" id="1747297">.</span><span class="ident" id="1747298">Pointer</span><span class="op" id="1747305">(</span><span class="op" id="1747306">&amp;</span><span class="ident" id="1747307">ep</span><span class="op" id="1747309">.</span><span class="ident" id="1747310">data</span><span class="op" id="1747314">)</span><span class="op" id="1747315">,</span>&nbsp;<span class="ident" id="1747317">elem</span><span class="op" id="1747321">,</span>&nbsp;<span class="ident" id="1747323">size</span><span class="op" id="1747327">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1747330">}</span>&nbsp;<span class="keyword" id="1747332">else</span>&nbsp;<span class="op" id="1747337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747341">x</span>&nbsp;<span class="op" id="1747343">:=</span>&nbsp;<span class="ident" id="1747346">newobject</span><span class="op" id="1747355">(</span><span class="ident" id="1747356">t</span><span class="op" id="1747357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1747361">//&nbsp;TODO:&nbsp;We&nbsp;allocate&nbsp;a&nbsp;zeroed&nbsp;object&nbsp;only&nbsp;to&nbsp;overwrite&nbsp;it&nbsp;with</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1747426">//&nbsp;actual&nbsp;data.&nbsp;&nbsp;Figure&nbsp;out&nbsp;how&nbsp;to&nbsp;avoid&nbsp;zeroing.&nbsp;&nbsp;Also&nbsp;below&nbsp;in&nbsp;convT2I.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747502">memmove</span><span class="op" id="1747509">(</span><span class="ident" id="1747510">x</span><span class="op" id="1747511">,</span>&nbsp;<span class="ident" id="1747513">elem</span><span class="op" id="1747517">,</span>&nbsp;<span class="ident" id="1747519">size</span><span class="op" id="1747523">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747527">ep</span><span class="op" id="1747529">.</span><span class="ident" id="1747530">_type</span>&nbsp;<span class="op" id="1747536">=</span>&nbsp;<span class="ident" id="1747538">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747542">ep</span><span class="op" id="1747544">.</span><span class="ident" id="1747545">data</span>&nbsp;<span class="op" id="1747550">=</span>&nbsp;<span class="ident" id="1747552">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1747555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1747558">return</span><br>
<span class="lineno"></span><span class="op" id="1747565">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="1747568">func</span>&nbsp;<span class="ident" id="1747573">convT2I</span><span class="op" id="1747580">(</span><span class="ident" id="1747581">t</span>&nbsp;<span class="op" id="1747583">*</span><span class="ident" id="1747584">_type</span><span class="op" id="1747589">,</span>&nbsp;<span class="ident" id="1747591">inter</span>&nbsp;<span class="op" id="1747597">*</span><span class="ident" id="1747598">interfacetype</span><span class="op" id="1747611">,</span>&nbsp;<span class="ident" id="1747613">cache</span>&nbsp;<span class="op" id="1747619">*</span><span class="op" id="1747620">*</span><span class="ident" id="1747621">itab</span><span class="op" id="1747625">,</span>&nbsp;<span class="ident" id="1747627">elem</span>&nbsp;<span class="ident" id="1747632">unsafe</span><span class="op" id="1747638">.</span><span class="ident" id="1747639">Pointer</span><span class="op" id="1747646">)</span>&nbsp;<span class="op" id="1747648">(</span><span class="ident" id="1747649">i</span>&nbsp;<span class="ident" id="1747651">fInterface</span><span class="op" id="1747661">)</span>&nbsp;<span class="op" id="1747663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747666">tab</span>&nbsp;<span class="op" id="1747670">:=</span>&nbsp;<span class="op" id="1747673">(</span><span class="op" id="1747674">*</span><span class="ident" id="1747675">itab</span><span class="op" id="1747679">)</span><span class="op" id="1747680">(</span><span class="ident" id="1747681">atomicloadp</span><span class="op" id="1747692">(</span><span class="ident" id="1747693">unsafe</span><span class="op" id="1747699">.</span><span class="ident" id="1747700">Pointer</span><span class="op" id="1747707">(</span><span class="ident" id="1747708">cache</span><span class="op" id="1747713">)</span><span class="op" id="1747714">)</span><span class="op" id="1747715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1747718">if</span>&nbsp;<span class="ident" id="1747721">tab</span>&nbsp;<span class="op" id="1747725">==</span>&nbsp;<span class="ident" id="1747728">nil</span>&nbsp;<span class="op" id="1747732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747736">tab</span>&nbsp;<span class="op" id="1747740">=</span>&nbsp;<span class="ident" id="1747742">getitab</span><span class="op" id="1747749">(</span><span class="ident" id="1747750">inter</span><span class="op" id="1747755">,</span>&nbsp;<span class="ident" id="1747757">t</span><span class="op" id="1747758">,</span>&nbsp;<span class="builtintype" id="1747760">false</span><span class="op" id="1747765">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747769">atomicstorep</span><span class="op" id="1747781">(</span><span class="ident" id="1747782">unsafe</span><span class="op" id="1747788">.</span><span class="ident" id="1747789">Pointer</span><span class="op" id="1747796">(</span><span class="ident" id="1747797">cache</span><span class="op" id="1747802">)</span><span class="op" id="1747803">,</span>&nbsp;<span class="ident" id="1747805">unsafe</span><span class="op" id="1747811">.</span><span class="ident" id="1747812">Pointer</span><span class="op" id="1747819">(</span><span class="ident" id="1747820">tab</span><span class="op" id="1747823">)</span><span class="op" id="1747824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1747827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747830">size</span>&nbsp;<span class="op" id="1747835">:=</span>&nbsp;<span class="builtintype" id="1747838">uintptr</span><span class="op" id="1747845">(</span><span class="ident" id="1747846">t</span><span class="op" id="1747847">.</span><span class="ident" id="1747848">size</span><span class="op" id="1747852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747855">pi</span>&nbsp;<span class="op" id="1747858">:=</span>&nbsp;<span class="op" id="1747861">(</span><span class="op" id="1747862">*</span><span class="ident" id="1747863">iface</span><span class="op" id="1747868">)</span><span class="op" id="1747869">(</span><span class="ident" id="1747870">unsafe</span><span class="op" id="1747876">.</span><span class="ident" id="1747877">Pointer</span><span class="op" id="1747884">(</span><span class="op" id="1747885">&amp;</span><span class="ident" id="1747886">i</span><span class="op" id="1747887">)</span><span class="op" id="1747888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1747891">if</span>&nbsp;<span class="ident" id="1747894">isDirectIface</span><span class="op" id="1747907">(</span><span class="ident" id="1747908">t</span><span class="op" id="1747909">)</span>&nbsp;<span class="op" id="1747911">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747915">pi</span><span class="op" id="1747917">.</span><span class="ident" id="1747918">tab</span>&nbsp;<span class="op" id="1747922">=</span>&nbsp;<span class="ident" id="1747924">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747930">memmove</span><span class="op" id="1747937">(</span><span class="ident" id="1747938">unsafe</span><span class="op" id="1747944">.</span><span class="ident" id="1747945">Pointer</span><span class="op" id="1747952">(</span><span class="op" id="1747953">&amp;</span><span class="ident" id="1747954">pi</span><span class="op" id="1747956">.</span><span class="ident" id="1747957">data</span><span class="op" id="1747961">)</span><span class="op" id="1747962">,</span>&nbsp;<span class="ident" id="1747964">elem</span><span class="op" id="1747968">,</span>&nbsp;<span class="ident" id="1747970">size</span><span class="op" id="1747974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1747977">}</span>&nbsp;<span class="keyword" id="1747979">else</span>&nbsp;<span class="op" id="1747984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1747988">x</span>&nbsp;<span class="op" id="1747990">:=</span>&nbsp;<span class="ident" id="1747993">newobject</span><span class="op" id="1748002">(</span><span class="ident" id="1748003">t</span><span class="op" id="1748004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1748008">memmove</span><span class="op" id="1748015">(</span><span class="ident" id="1748016">x</span><span class="op" id="1748017">,</span>&nbsp;<span class="ident" id="1748019">elem</span><span class="op" id="1748023">,</span>&nbsp;<span class="ident" id="1748025">size</span><span class="op" id="1748029">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1748033">pi</span><span class="op" id="1748035">.</span><span class="ident" id="1748036">tab</span>&nbsp;<span class="op" id="1748040">=</span>&nbsp;<span class="ident" id="1748042">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1748048">pi</span><span class="op" id="1748050">.</span><span class="ident" id="1748051">data</span>&nbsp;<span class="op" id="1748056">=</span>&nbsp;<span class="ident" id="1748058">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1748061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1748064">return</span><br>
<span class="lineno"></span><span class="op" id="1748071">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="comment" id="1748074">//&nbsp;TODO:&nbsp;give&nbsp;these&nbsp;routines&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;result&nbsp;area&nbsp;instead&nbsp;of&nbsp;writing</span><br>
<span class="lineno"></span><span class="comment" id="1748151">//&nbsp;extra&nbsp;data&nbsp;in&nbsp;the&nbsp;outargs&nbsp;section.&nbsp;&nbsp;Then&nbsp;we&nbsp;can&nbsp;get&nbsp;rid&nbsp;of&nbsp;go:nosplit.</span><br>
<span class="lineno"></span><span class="comment" id="1748225">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1748238">func</span>&nbsp;<span class="ident" id="1748243">assertI2T</span><span class="op" id="1748252">(</span><span class="ident" id="1748253">t</span>&nbsp;<span class="op" id="1748255">*</span><span class="ident" id="1748256">_type</span><span class="op" id="1748261">,</span>&nbsp;<span class="ident" id="1748263">i</span>&nbsp;<span class="ident" id="1748265">fInterface</span><span class="op" id="1748275">)</span>&nbsp;<span class="op" id="1748277">(</span><span class="ident" id="1748278">r</span>&nbsp;<span class="keyword" id="1748280">struct</span><span class="op" id="1748286">{</span><span class="op" id="1748287">}</span><span class="op" id="1748288">)</span>&nbsp;<span class="op" id="1748290">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1748293">ip</span>&nbsp;<span class="op" id="1748296">:=</span>&nbsp;<span class="op" id="1748299">(</span><span class="op" id="1748300">*</span><span class="ident" id="1748301">iface</span><span class="op" id="1748306">)</span><span class="op" id="1748307">(</span><span class="ident" id="1748308">unsafe</span><span class="op" id="1748314">.</span><span class="ident" id="1748315">Pointer</span><span class="op" id="1748322">(</span><span class="op" id="1748323">&amp;</span><span class="ident" id="1748324">i</span><span class="op" id="1748325">)</span><span class="op" id="1748326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1748329">tab</span>&nbsp;<span class="op" id="1748333">:=</span>&nbsp;<span class="ident" id="1748336">ip</span><span class="op" id="1748338">.</span><span class="ident" id="1748339">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1748344">if</span>&nbsp;<span class="ident" id="1748347">tab</span>&nbsp;<span class="op" id="1748351">==</span>&nbsp;<span class="ident" id="1748354">nil</span>&nbsp;<span class="op" id="1748358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1748362">panic</span><span class="op" id="1748367">(</span><span class="op" id="1748368">&amp;</span><span class="ident" id="1748369">TypeAssertionError</span><span class="op" id="1748387">{</span><span class="string" id="1748388">&#34;&#34;</span><span class="op" id="1748390">,</span>&nbsp;<span class="string" id="1748392">&#34;&#34;</span><span class="op" id="1748394">,</span>&nbsp;<span class="op" id="1748396">*</span><span class="ident" id="1748397">t</span><span class="op" id="1748398">.</span><span class="ident" id="1748399">_string</span><span class="op" id="1748406">,</span>&nbsp;<span class="string" id="1748408">&#34;&#34;</span><span class="op" id="1748410">}</span><span class="op" id="1748411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1748414">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1748417">if</span>&nbsp;<span class="ident" id="1748420">tab</span><span class="op" id="1748423">.</span><span class="ident" id="1748424">_type</span>&nbsp;<span class="op" id="1748430">!=</span>&nbsp;<span class="ident" id="1748433">t</span>&nbsp;<span class="op" id="1748435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1748439">panic</span><span class="op" id="1748444">(</span><span class="op" id="1748445">&amp;</span><span class="ident" id="1748446">TypeAssertionError</span><span class="op" id="1748464">{</span><span class="op" id="1748465">*</span><span class="ident" id="1748466">tab</span><span class="op" id="1748469">.</span><span class="ident" id="1748470">inter</span><span class="op" id="1748475">.</span><span class="ident" id="1748476">typ</span><span class="op" id="1748479">.</span><span class="ident" id="1748480">_string</span><span class="op" id="1748487">,</span>&nbsp;<span class="op" id="1748489">*</span><span class="ident" id="1748490">tab</span><span class="op" id="1748493">.</span><span class="ident" id="1748494">_type</span><span class="op" id="1748499">.</span><span class="ident" id="1748500">_string</span><span class="op" id="1748507">,</span>&nbsp;<span class="op" id="1748509">*</span><span class="ident" id="1748510">t</span><span class="op" id="1748511">.</span><span class="ident" id="1748512">_string</span><span class="op" id="1748519">,</span>&nbsp;<span class="string" id="1748521">&#34;&#34;</span><span class="op" id="1748523">}</span><span class="op" id="1748524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1748527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1748530">size</span>&nbsp;<span class="op" id="1748535">:=</span>&nbsp;<span class="builtintype" id="1748538">uintptr</span><span class="op" id="1748545">(</span><span class="ident" id="1748546">t</span><span class="op" id="1748547">.</span><span class="ident" id="1748548">size</span><span class="op" id="1748552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1748555">if</span>&nbsp;<span class="ident" id="1748558">isDirectIface</span><span class="op" id="1748571">(</span><span class="ident" id="1748572">t</span><span class="op" id="1748573">)</span>&nbsp;<span class="op" id="1748575">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1748579">memmove</span><span class="op" id="1748586">(</span><span class="ident" id="1748587">unsafe</span><span class="op" id="1748593">.</span><span class="ident" id="1748594">Pointer</span><span class="op" id="1748601">(</span><span class="op" id="1748602">&amp;</span><span class="ident" id="1748603">r</span><span class="op" id="1748604">)</span><span class="op" id="1748605">,</span>&nbsp;<span class="ident" id="1748607">unsafe</span><span class="op" id="1748613">.</span><span class="ident" id="1748614">Pointer</span><span class="op" id="1748621">(</span><span class="op" id="1748622">&amp;</span><span class="ident" id="1748623">ip</span><span class="op" id="1748625">.</span><span class="ident" id="1748626">data</span><span class="op" id="1748630">)</span><span class="op" id="1748631">,</span>&nbsp;<span class="ident" id="1748633">size</span><span class="op" id="1748637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1748640">}</span>&nbsp;<span class="keyword" id="1748642">else</span>&nbsp;<span class="op" id="1748647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1748651">memmove</span><span class="op" id="1748658">(</span><span class="ident" id="1748659">unsafe</span><span class="op" id="1748665">.</span><span class="ident" id="1748666">Pointer</span><span class="op" id="1748673">(</span><span class="op" id="1748674">&amp;</span><span class="ident" id="1748675">r</span><span class="op" id="1748676">)</span><span class="op" id="1748677">,</span>&nbsp;<span class="ident" id="1748679">ip</span><span class="op" id="1748681">.</span><span class="ident" id="1748682">data</span><span class="op" id="1748686">,</span>&nbsp;<span class="ident" id="1748688">size</span><span class="op" id="1748692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1748695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1748698">return</span><br>
<span class="lineno">190</span><span class="op" id="1748705">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1748708">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1748721">func</span>&nbsp;<span class="ident" id="1748726">assertI2T2</span><span class="op" id="1748736">(</span><span class="ident" id="1748737">t</span>&nbsp;<span class="op" id="1748739">*</span><span class="ident" id="1748740">_type</span><span class="op" id="1748745">,</span>&nbsp;<span class="ident" id="1748747">i</span>&nbsp;<span class="ident" id="1748749">fInterface</span><span class="op" id="1748759">)</span>&nbsp;<span class="op" id="1748761">(</span><span class="ident" id="1748762">r</span>&nbsp;<span class="builtintype" id="1748764">byte</span><span class="op" id="1748768">)</span>&nbsp;<span class="op" id="1748770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1748773">ip</span>&nbsp;<span class="op" id="1748776">:=</span>&nbsp;<span class="op" id="1748779">(</span><span class="op" id="1748780">*</span><span class="ident" id="1748781">iface</span><span class="op" id="1748786">)</span><span class="op" id="1748787">(</span><span class="ident" id="1748788">unsafe</span><span class="op" id="1748794">.</span><span class="ident" id="1748795">Pointer</span><span class="op" id="1748802">(</span><span class="op" id="1748803">&amp;</span><span class="ident" id="1748804">i</span><span class="op" id="1748805">)</span><span class="op" id="1748806">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1748809">size</span>&nbsp;<span class="op" id="1748814">:=</span>&nbsp;<span class="builtintype" id="1748817">uintptr</span><span class="op" id="1748824">(</span><span class="ident" id="1748825">t</span><span class="op" id="1748826">.</span><span class="ident" id="1748827">size</span><span class="op" id="1748831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1748834">ok</span>&nbsp;<span class="op" id="1748837">:=</span>&nbsp;<span class="op" id="1748840">(</span><span class="op" id="1748841">*</span><span class="builtintype" id="1748842">bool</span><span class="op" id="1748846">)</span><span class="op" id="1748847">(</span><span class="ident" id="1748848">add</span><span class="op" id="1748851">(</span><span class="ident" id="1748852">unsafe</span><span class="op" id="1748858">.</span><span class="ident" id="1748859">Pointer</span><span class="op" id="1748866">(</span><span class="op" id="1748867">&amp;</span><span class="ident" id="1748868">r</span><span class="op" id="1748869">)</span><span class="op" id="1748870">,</span>&nbsp;<span class="ident" id="1748872">size</span><span class="op" id="1748876">)</span><span class="op" id="1748877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1748880">tab</span>&nbsp;<span class="op" id="1748884">:=</span>&nbsp;<span class="ident" id="1748887">ip</span><span class="op" id="1748889">.</span><span class="ident" id="1748890">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1748895">if</span>&nbsp;<span class="ident" id="1748898">tab</span>&nbsp;<span class="op" id="1748902">==</span>&nbsp;<span class="ident" id="1748905">nil</span>&nbsp;<span class="op" id="1748909">||</span>&nbsp;<span class="ident" id="1748912">tab</span><span class="op" id="1748915">.</span><span class="ident" id="1748916">_type</span>&nbsp;<span class="op" id="1748922">!=</span>&nbsp;<span class="ident" id="1748925">t</span>&nbsp;<span class="op" id="1748927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1748931">*</span><span class="ident" id="1748932">ok</span>&nbsp;<span class="op" id="1748935">=</span>&nbsp;<span class="builtintype" id="1748937">false</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1748945">memclr</span><span class="op" id="1748951">(</span><span class="ident" id="1748952">unsafe</span><span class="op" id="1748958">.</span><span class="ident" id="1748959">Pointer</span><span class="op" id="1748966">(</span><span class="op" id="1748967">&amp;</span><span class="ident" id="1748968">r</span><span class="op" id="1748969">)</span><span class="op" id="1748970">,</span>&nbsp;<span class="ident" id="1748972">size</span><span class="op" id="1748976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1748980">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1748988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1748991">*</span><span class="ident" id="1748992">ok</span>&nbsp;<span class="op" id="1748995">=</span>&nbsp;<span class="builtintype" id="1748997">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1749003">if</span>&nbsp;<span class="ident" id="1749006">isDirectIface</span><span class="op" id="1749019">(</span><span class="ident" id="1749020">t</span><span class="op" id="1749021">)</span>&nbsp;<span class="op" id="1749023">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1749027">memmove</span><span class="op" id="1749034">(</span><span class="ident" id="1749035">unsafe</span><span class="op" id="1749041">.</span><span class="ident" id="1749042">Pointer</span><span class="op" id="1749049">(</span><span class="op" id="1749050">&amp;</span><span class="ident" id="1749051">r</span><span class="op" id="1749052">)</span><span class="op" id="1749053">,</span>&nbsp;<span class="ident" id="1749055">unsafe</span><span class="op" id="1749061">.</span><span class="ident" id="1749062">Pointer</span><span class="op" id="1749069">(</span><span class="op" id="1749070">&amp;</span><span class="ident" id="1749071">ip</span><span class="op" id="1749073">.</span><span class="ident" id="1749074">data</span><span class="op" id="1749078">)</span><span class="op" id="1749079">,</span>&nbsp;<span class="ident" id="1749081">size</span><span class="op" id="1749085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1749088">}</span>&nbsp;<span class="keyword" id="1749090">else</span>&nbsp;<span class="op" id="1749095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1749099">memmove</span><span class="op" id="1749106">(</span><span class="ident" id="1749107">unsafe</span><span class="op" id="1749113">.</span><span class="ident" id="1749114">Pointer</span><span class="op" id="1749121">(</span><span class="op" id="1749122">&amp;</span><span class="ident" id="1749123">r</span><span class="op" id="1749124">)</span><span class="op" id="1749125">,</span>&nbsp;<span class="ident" id="1749127">ip</span><span class="op" id="1749129">.</span><span class="ident" id="1749130">data</span><span class="op" id="1749134">,</span>&nbsp;<span class="ident" id="1749136">size</span><span class="op" id="1749140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1749143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1749146">return</span><br>
<span class="lineno">210</span><span class="op" id="1749153">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1749156">func</span>&nbsp;<span class="ident" id="1749161">assertI2TOK</span><span class="op" id="1749172">(</span><span class="ident" id="1749173">t</span>&nbsp;<span class="op" id="1749175">*</span><span class="ident" id="1749176">_type</span><span class="op" id="1749181">,</span>&nbsp;<span class="ident" id="1749183">i</span>&nbsp;<span class="ident" id="1749185">fInterface</span><span class="op" id="1749195">)</span>&nbsp;<span class="builtintype" id="1749197">bool</span>&nbsp;<span class="op" id="1749202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1749205">ip</span>&nbsp;<span class="op" id="1749208">:=</span>&nbsp;<span class="op" id="1749211">(</span><span class="op" id="1749212">*</span><span class="ident" id="1749213">iface</span><span class="op" id="1749218">)</span><span class="op" id="1749219">(</span><span class="ident" id="1749220">unsafe</span><span class="op" id="1749226">.</span><span class="ident" id="1749227">Pointer</span><span class="op" id="1749234">(</span><span class="op" id="1749235">&amp;</span><span class="ident" id="1749236">i</span><span class="op" id="1749237">)</span><span class="op" id="1749238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1749241">tab</span>&nbsp;<span class="op" id="1749245">:=</span>&nbsp;<span class="ident" id="1749248">ip</span><span class="op" id="1749250">.</span><span class="ident" id="1749251">tab</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1749256">return</span>&nbsp;<span class="ident" id="1749263">tab</span>&nbsp;<span class="op" id="1749267">!=</span>&nbsp;<span class="ident" id="1749270">nil</span>&nbsp;<span class="op" id="1749274">&amp;&amp;</span>&nbsp;<span class="ident" id="1749277">tab</span><span class="op" id="1749280">.</span><span class="ident" id="1749281">_type</span>&nbsp;<span class="op" id="1749287">==</span>&nbsp;<span class="ident" id="1749290">t</span><br>
<span class="lineno"></span><span class="op" id="1749292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1749295">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1749308">func</span>&nbsp;<span class="ident" id="1749313">assertE2T</span><span class="op" id="1749322">(</span><span class="ident" id="1749323">t</span>&nbsp;<span class="op" id="1749325">*</span><span class="ident" id="1749326">_type</span><span class="op" id="1749331">,</span>&nbsp;<span class="ident" id="1749333">e</span>&nbsp;<span class="keyword" id="1749335">interface</span><span class="op" id="1749344">{</span><span class="op" id="1749345">}</span><span class="op" id="1749346">)</span>&nbsp;<span class="op" id="1749348">(</span><span class="ident" id="1749349">r</span>&nbsp;<span class="keyword" id="1749351">struct</span><span class="op" id="1749357">{</span><span class="op" id="1749358">}</span><span class="op" id="1749359">)</span>&nbsp;<span class="op" id="1749361">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1749364">ep</span>&nbsp;<span class="op" id="1749367">:=</span>&nbsp;<span class="op" id="1749370">(</span><span class="op" id="1749371">*</span><span class="ident" id="1749372">eface</span><span class="op" id="1749377">)</span><span class="op" id="1749378">(</span><span class="ident" id="1749379">unsafe</span><span class="op" id="1749385">.</span><span class="ident" id="1749386">Pointer</span><span class="op" id="1749393">(</span><span class="op" id="1749394">&amp;</span><span class="ident" id="1749395">e</span><span class="op" id="1749396">)</span><span class="op" id="1749397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1749400">if</span>&nbsp;<span class="ident" id="1749403">ep</span><span class="op" id="1749405">.</span><span class="ident" id="1749406">_type</span>&nbsp;<span class="op" id="1749412">==</span>&nbsp;<span class="ident" id="1749415">nil</span>&nbsp;<span class="op" id="1749419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1749423">panic</span><span class="op" id="1749428">(</span><span class="op" id="1749429">&amp;</span><span class="ident" id="1749430">TypeAssertionError</span><span class="op" id="1749448">{</span><span class="string" id="1749449">&#34;&#34;</span><span class="op" id="1749451">,</span>&nbsp;<span class="string" id="1749453">&#34;&#34;</span><span class="op" id="1749455">,</span>&nbsp;<span class="op" id="1749457">*</span><span class="ident" id="1749458">t</span><span class="op" id="1749459">.</span><span class="ident" id="1749460">_string</span><span class="op" id="1749467">,</span>&nbsp;<span class="string" id="1749469">&#34;&#34;</span><span class="op" id="1749471">}</span><span class="op" id="1749472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1749475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1749478">if</span>&nbsp;<span class="ident" id="1749481">ep</span><span class="op" id="1749483">.</span><span class="ident" id="1749484">_type</span>&nbsp;<span class="op" id="1749490">!=</span>&nbsp;<span class="ident" id="1749493">t</span>&nbsp;<span class="op" id="1749495">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1749499">panic</span><span class="op" id="1749504">(</span><span class="op" id="1749505">&amp;</span><span class="ident" id="1749506">TypeAssertionError</span><span class="op" id="1749524">{</span><span class="string" id="1749525">&#34;&#34;</span><span class="op" id="1749527">,</span>&nbsp;<span class="op" id="1749529">*</span><span class="ident" id="1749530">ep</span><span class="op" id="1749532">.</span><span class="ident" id="1749533">_type</span><span class="op" id="1749538">.</span><span class="ident" id="1749539">_string</span><span class="op" id="1749546">,</span>&nbsp;<span class="op" id="1749548">*</span><span class="ident" id="1749549">t</span><span class="op" id="1749550">.</span><span class="ident" id="1749551">_string</span><span class="op" id="1749558">,</span>&nbsp;<span class="string" id="1749560">&#34;&#34;</span><span class="op" id="1749562">}</span><span class="op" id="1749563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1749566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1749569">size</span>&nbsp;<span class="op" id="1749574">:=</span>&nbsp;<span class="builtintype" id="1749577">uintptr</span><span class="op" id="1749584">(</span><span class="ident" id="1749585">t</span><span class="op" id="1749586">.</span><span class="ident" id="1749587">size</span><span class="op" id="1749591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1749594">if</span>&nbsp;<span class="ident" id="1749597">isDirectIface</span><span class="op" id="1749610">(</span><span class="ident" id="1749611">t</span><span class="op" id="1749612">)</span>&nbsp;<span class="op" id="1749614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1749618">memmove</span><span class="op" id="1749625">(</span><span class="ident" id="1749626">unsafe</span><span class="op" id="1749632">.</span><span class="ident" id="1749633">Pointer</span><span class="op" id="1749640">(</span><span class="op" id="1749641">&amp;</span><span class="ident" id="1749642">r</span><span class="op" id="1749643">)</span><span class="op" id="1749644">,</span>&nbsp;<span class="ident" id="1749646">unsafe</span><span class="op" id="1749652">.</span><span class="ident" id="1749653">Pointer</span><span class="op" id="1749660">(</span><span class="op" id="1749661">&amp;</span><span class="ident" id="1749662">ep</span><span class="op" id="1749664">.</span><span class="ident" id="1749665">data</span><span class="op" id="1749669">)</span><span class="op" id="1749670">,</span>&nbsp;<span class="ident" id="1749672">size</span><span class="op" id="1749676">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1749679">}</span>&nbsp;<span class="keyword" id="1749681">else</span>&nbsp;<span class="op" id="1749686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1749690">memmove</span><span class="op" id="1749697">(</span><span class="ident" id="1749698">unsafe</span><span class="op" id="1749704">.</span><span class="ident" id="1749705">Pointer</span><span class="op" id="1749712">(</span><span class="op" id="1749713">&amp;</span><span class="ident" id="1749714">r</span><span class="op" id="1749715">)</span><span class="op" id="1749716">,</span>&nbsp;<span class="ident" id="1749718">ep</span><span class="op" id="1749720">.</span><span class="ident" id="1749721">data</span><span class="op" id="1749725">,</span>&nbsp;<span class="ident" id="1749727">size</span><span class="op" id="1749731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1749734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1749737">return</span><br>
<span class="lineno"></span><span class="op" id="1749744">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="comment" id="1749747">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1749760">func</span>&nbsp;<span class="ident" id="1749765">assertE2T2</span><span class="op" id="1749775">(</span><span class="ident" id="1749776">t</span>&nbsp;<span class="op" id="1749778">*</span><span class="ident" id="1749779">_type</span><span class="op" id="1749784">,</span>&nbsp;<span class="ident" id="1749786">e</span>&nbsp;<span class="keyword" id="1749788">interface</span><span class="op" id="1749797">{</span><span class="op" id="1749798">}</span><span class="op" id="1749799">)</span>&nbsp;<span class="op" id="1749801">(</span><span class="ident" id="1749802">r</span>&nbsp;<span class="builtintype" id="1749804">byte</span><span class="op" id="1749808">)</span>&nbsp;<span class="op" id="1749810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1749813">ep</span>&nbsp;<span class="op" id="1749816">:=</span>&nbsp;<span class="op" id="1749819">(</span><span class="op" id="1749820">*</span><span class="ident" id="1749821">eface</span><span class="op" id="1749826">)</span><span class="op" id="1749827">(</span><span class="ident" id="1749828">unsafe</span><span class="op" id="1749834">.</span><span class="ident" id="1749835">Pointer</span><span class="op" id="1749842">(</span><span class="op" id="1749843">&amp;</span><span class="ident" id="1749844">e</span><span class="op" id="1749845">)</span><span class="op" id="1749846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1749849">size</span>&nbsp;<span class="op" id="1749854">:=</span>&nbsp;<span class="builtintype" id="1749857">uintptr</span><span class="op" id="1749864">(</span><span class="ident" id="1749865">t</span><span class="op" id="1749866">.</span><span class="ident" id="1749867">size</span><span class="op" id="1749871">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1749874">ok</span>&nbsp;<span class="op" id="1749877">:=</span>&nbsp;<span class="op" id="1749880">(</span><span class="op" id="1749881">*</span><span class="builtintype" id="1749882">bool</span><span class="op" id="1749886">)</span><span class="op" id="1749887">(</span><span class="ident" id="1749888">add</span><span class="op" id="1749891">(</span><span class="ident" id="1749892">unsafe</span><span class="op" id="1749898">.</span><span class="ident" id="1749899">Pointer</span><span class="op" id="1749906">(</span><span class="op" id="1749907">&amp;</span><span class="ident" id="1749908">r</span><span class="op" id="1749909">)</span><span class="op" id="1749910">,</span>&nbsp;<span class="ident" id="1749912">size</span><span class="op" id="1749916">)</span><span class="op" id="1749917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1749920">if</span>&nbsp;<span class="ident" id="1749923">ep</span><span class="op" id="1749925">.</span><span class="ident" id="1749926">_type</span>&nbsp;<span class="op" id="1749932">!=</span>&nbsp;<span class="ident" id="1749935">t</span>&nbsp;<span class="op" id="1749937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1749941">*</span><span class="ident" id="1749942">ok</span>&nbsp;<span class="op" id="1749945">=</span>&nbsp;<span class="builtintype" id="1749947">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1749955">memclr</span><span class="op" id="1749961">(</span><span class="ident" id="1749962">unsafe</span><span class="op" id="1749968">.</span><span class="ident" id="1749969">Pointer</span><span class="op" id="1749976">(</span><span class="op" id="1749977">&amp;</span><span class="ident" id="1749978">r</span><span class="op" id="1749979">)</span><span class="op" id="1749980">,</span>&nbsp;<span class="ident" id="1749982">size</span><span class="op" id="1749986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1749990">return</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1749998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1750001">*</span><span class="ident" id="1750002">ok</span>&nbsp;<span class="op" id="1750005">=</span>&nbsp;<span class="builtintype" id="1750007">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1750013">if</span>&nbsp;<span class="ident" id="1750016">isDirectIface</span><span class="op" id="1750029">(</span><span class="ident" id="1750030">t</span><span class="op" id="1750031">)</span>&nbsp;<span class="op" id="1750033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750037">memmove</span><span class="op" id="1750044">(</span><span class="ident" id="1750045">unsafe</span><span class="op" id="1750051">.</span><span class="ident" id="1750052">Pointer</span><span class="op" id="1750059">(</span><span class="op" id="1750060">&amp;</span><span class="ident" id="1750061">r</span><span class="op" id="1750062">)</span><span class="op" id="1750063">,</span>&nbsp;<span class="ident" id="1750065">unsafe</span><span class="op" id="1750071">.</span><span class="ident" id="1750072">Pointer</span><span class="op" id="1750079">(</span><span class="op" id="1750080">&amp;</span><span class="ident" id="1750081">ep</span><span class="op" id="1750083">.</span><span class="ident" id="1750084">data</span><span class="op" id="1750088">)</span><span class="op" id="1750089">,</span>&nbsp;<span class="ident" id="1750091">size</span><span class="op" id="1750095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1750098">}</span>&nbsp;<span class="keyword" id="1750100">else</span>&nbsp;<span class="op" id="1750105">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750109">memmove</span><span class="op" id="1750116">(</span><span class="ident" id="1750117">unsafe</span><span class="op" id="1750123">.</span><span class="ident" id="1750124">Pointer</span><span class="op" id="1750131">(</span><span class="op" id="1750132">&amp;</span><span class="ident" id="1750133">r</span><span class="op" id="1750134">)</span><span class="op" id="1750135">,</span>&nbsp;<span class="ident" id="1750137">ep</span><span class="op" id="1750139">.</span><span class="ident" id="1750140">data</span><span class="op" id="1750144">,</span>&nbsp;<span class="ident" id="1750146">size</span><span class="op" id="1750150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1750153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1750156">return</span><br>
<span class="lineno"></span><span class="op" id="1750163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="1750166">func</span>&nbsp;<span class="ident" id="1750171">assertE2TOK</span><span class="op" id="1750182">(</span><span class="ident" id="1750183">t</span>&nbsp;<span class="op" id="1750185">*</span><span class="ident" id="1750186">_type</span><span class="op" id="1750191">,</span>&nbsp;<span class="ident" id="1750193">e</span>&nbsp;<span class="keyword" id="1750195">interface</span><span class="op" id="1750204">{</span><span class="op" id="1750205">}</span><span class="op" id="1750206">)</span>&nbsp;<span class="builtintype" id="1750208">bool</span>&nbsp;<span class="op" id="1750213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750216">ep</span>&nbsp;<span class="op" id="1750219">:=</span>&nbsp;<span class="op" id="1750222">(</span><span class="op" id="1750223">*</span><span class="ident" id="1750224">eface</span><span class="op" id="1750229">)</span><span class="op" id="1750230">(</span><span class="ident" id="1750231">unsafe</span><span class="op" id="1750237">.</span><span class="ident" id="1750238">Pointer</span><span class="op" id="1750245">(</span><span class="op" id="1750246">&amp;</span><span class="ident" id="1750247">e</span><span class="op" id="1750248">)</span><span class="op" id="1750249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1750252">return</span>&nbsp;<span class="ident" id="1750259">t</span>&nbsp;<span class="op" id="1750261">==</span>&nbsp;<span class="ident" id="1750264">ep</span><span class="op" id="1750266">.</span><span class="ident" id="1750267">_type</span><br>
<span class="lineno"></span><span class="op" id="1750273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="1750276">func</span>&nbsp;<span class="ident" id="1750281">convI2E</span><span class="op" id="1750288">(</span><span class="ident" id="1750289">i</span>&nbsp;<span class="ident" id="1750291">fInterface</span><span class="op" id="1750301">)</span>&nbsp;<span class="op" id="1750303">(</span><span class="ident" id="1750304">r</span>&nbsp;<span class="keyword" id="1750306">interface</span><span class="op" id="1750315">{</span><span class="op" id="1750316">}</span><span class="op" id="1750317">)</span>&nbsp;<span class="op" id="1750319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750322">ip</span>&nbsp;<span class="op" id="1750325">:=</span>&nbsp;<span class="op" id="1750328">(</span><span class="op" id="1750329">*</span><span class="ident" id="1750330">iface</span><span class="op" id="1750335">)</span><span class="op" id="1750336">(</span><span class="ident" id="1750337">unsafe</span><span class="op" id="1750343">.</span><span class="ident" id="1750344">Pointer</span><span class="op" id="1750351">(</span><span class="op" id="1750352">&amp;</span><span class="ident" id="1750353">i</span><span class="op" id="1750354">)</span><span class="op" id="1750355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750358">tab</span>&nbsp;<span class="op" id="1750362">:=</span>&nbsp;<span class="ident" id="1750365">ip</span><span class="op" id="1750367">.</span><span class="ident" id="1750368">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1750373">if</span>&nbsp;<span class="ident" id="1750376">tab</span>&nbsp;<span class="op" id="1750380">==</span>&nbsp;<span class="ident" id="1750383">nil</span>&nbsp;<span class="op" id="1750387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1750391">return</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1750399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750402">rp</span>&nbsp;<span class="op" id="1750405">:=</span>&nbsp;<span class="op" id="1750408">(</span><span class="op" id="1750409">*</span><span class="ident" id="1750410">eface</span><span class="op" id="1750415">)</span><span class="op" id="1750416">(</span><span class="ident" id="1750417">unsafe</span><span class="op" id="1750423">.</span><span class="ident" id="1750424">Pointer</span><span class="op" id="1750431">(</span><span class="op" id="1750432">&amp;</span><span class="ident" id="1750433">r</span><span class="op" id="1750434">)</span><span class="op" id="1750435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750438">rp</span><span class="op" id="1750440">.</span><span class="ident" id="1750441">_type</span>&nbsp;<span class="op" id="1750447">=</span>&nbsp;<span class="ident" id="1750449">tab</span><span class="op" id="1750452">.</span><span class="ident" id="1750453">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750460">rp</span><span class="op" id="1750462">.</span><span class="ident" id="1750463">data</span>&nbsp;<span class="op" id="1750468">=</span>&nbsp;<span class="ident" id="1750470">ip</span><span class="op" id="1750472">.</span><span class="ident" id="1750473">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1750479">return</span><br>
<span class="lineno">270</span><span class="op" id="1750486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1750489">func</span>&nbsp;<span class="ident" id="1750494">assertI2E</span><span class="op" id="1750503">(</span><span class="ident" id="1750504">inter</span>&nbsp;<span class="op" id="1750510">*</span><span class="ident" id="1750511">interfacetype</span><span class="op" id="1750524">,</span>&nbsp;<span class="ident" id="1750526">i</span>&nbsp;<span class="ident" id="1750528">fInterface</span><span class="op" id="1750538">)</span>&nbsp;<span class="op" id="1750540">(</span><span class="ident" id="1750541">r</span>&nbsp;<span class="keyword" id="1750543">interface</span><span class="op" id="1750552">{</span><span class="op" id="1750553">}</span><span class="op" id="1750554">)</span>&nbsp;<span class="op" id="1750556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750559">ip</span>&nbsp;<span class="op" id="1750562">:=</span>&nbsp;<span class="op" id="1750565">(</span><span class="op" id="1750566">*</span><span class="ident" id="1750567">iface</span><span class="op" id="1750572">)</span><span class="op" id="1750573">(</span><span class="ident" id="1750574">unsafe</span><span class="op" id="1750580">.</span><span class="ident" id="1750581">Pointer</span><span class="op" id="1750588">(</span><span class="op" id="1750589">&amp;</span><span class="ident" id="1750590">i</span><span class="op" id="1750591">)</span><span class="op" id="1750592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750595">tab</span>&nbsp;<span class="op" id="1750599">:=</span>&nbsp;<span class="ident" id="1750602">ip</span><span class="op" id="1750604">.</span><span class="ident" id="1750605">tab</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1750610">if</span>&nbsp;<span class="ident" id="1750613">tab</span>&nbsp;<span class="op" id="1750617">==</span>&nbsp;<span class="ident" id="1750620">nil</span>&nbsp;<span class="op" id="1750624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1750628">//&nbsp;explicit&nbsp;conversions&nbsp;require&nbsp;non-nil&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1750687">panic</span><span class="op" id="1750692">(</span><span class="op" id="1750693">&amp;</span><span class="ident" id="1750694">TypeAssertionError</span><span class="op" id="1750712">{</span><span class="string" id="1750713">&#34;&#34;</span><span class="op" id="1750715">,</span>&nbsp;<span class="string" id="1750717">&#34;&#34;</span><span class="op" id="1750719">,</span>&nbsp;<span class="op" id="1750721">*</span><span class="ident" id="1750722">inter</span><span class="op" id="1750727">.</span><span class="ident" id="1750728">typ</span><span class="op" id="1750731">.</span><span class="ident" id="1750732">_string</span><span class="op" id="1750739">,</span>&nbsp;<span class="string" id="1750741">&#34;&#34;</span><span class="op" id="1750743">}</span><span class="op" id="1750744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1750747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750750">rp</span>&nbsp;<span class="op" id="1750753">:=</span>&nbsp;<span class="op" id="1750756">(</span><span class="op" id="1750757">*</span><span class="ident" id="1750758">eface</span><span class="op" id="1750763">)</span><span class="op" id="1750764">(</span><span class="ident" id="1750765">unsafe</span><span class="op" id="1750771">.</span><span class="ident" id="1750772">Pointer</span><span class="op" id="1750779">(</span><span class="op" id="1750780">&amp;</span><span class="ident" id="1750781">r</span><span class="op" id="1750782">)</span><span class="op" id="1750783">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750786">rp</span><span class="op" id="1750788">.</span><span class="ident" id="1750789">_type</span>&nbsp;<span class="op" id="1750795">=</span>&nbsp;<span class="ident" id="1750797">tab</span><span class="op" id="1750800">.</span><span class="ident" id="1750801">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750808">rp</span><span class="op" id="1750810">.</span><span class="ident" id="1750811">data</span>&nbsp;<span class="op" id="1750816">=</span>&nbsp;<span class="ident" id="1750818">ip</span><span class="op" id="1750820">.</span><span class="ident" id="1750821">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1750827">return</span><br>
<span class="lineno"></span><span class="op" id="1750834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="1750837">func</span>&nbsp;<span class="ident" id="1750842">assertI2E2</span><span class="op" id="1750852">(</span><span class="ident" id="1750853">inter</span>&nbsp;<span class="op" id="1750859">*</span><span class="ident" id="1750860">interfacetype</span><span class="op" id="1750873">,</span>&nbsp;<span class="ident" id="1750875">i</span>&nbsp;<span class="ident" id="1750877">fInterface</span><span class="op" id="1750887">)</span>&nbsp;<span class="op" id="1750889">(</span><span class="ident" id="1750890">r</span>&nbsp;<span class="keyword" id="1750892">interface</span><span class="op" id="1750901">{</span><span class="op" id="1750902">}</span><span class="op" id="1750903">,</span>&nbsp;<span class="ident" id="1750905">ok</span>&nbsp;<span class="builtintype" id="1750908">bool</span><span class="op" id="1750912">)</span>&nbsp;<span class="op" id="1750914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750917">ip</span>&nbsp;<span class="op" id="1750920">:=</span>&nbsp;<span class="op" id="1750923">(</span><span class="op" id="1750924">*</span><span class="ident" id="1750925">iface</span><span class="op" id="1750930">)</span><span class="op" id="1750931">(</span><span class="ident" id="1750932">unsafe</span><span class="op" id="1750938">.</span><span class="ident" id="1750939">Pointer</span><span class="op" id="1750946">(</span><span class="op" id="1750947">&amp;</span><span class="ident" id="1750948">i</span><span class="op" id="1750949">)</span><span class="op" id="1750950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750953">tab</span>&nbsp;<span class="op" id="1750957">:=</span>&nbsp;<span class="ident" id="1750960">ip</span><span class="op" id="1750962">.</span><span class="ident" id="1750963">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1750968">if</span>&nbsp;<span class="ident" id="1750971">tab</span>&nbsp;<span class="op" id="1750975">==</span>&nbsp;<span class="ident" id="1750978">nil</span>&nbsp;<span class="op" id="1750982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1750986">return</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1750994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1750997">rp</span>&nbsp;<span class="op" id="1751000">:=</span>&nbsp;<span class="op" id="1751003">(</span><span class="op" id="1751004">*</span><span class="ident" id="1751005">eface</span><span class="op" id="1751010">)</span><span class="op" id="1751011">(</span><span class="ident" id="1751012">unsafe</span><span class="op" id="1751018">.</span><span class="ident" id="1751019">Pointer</span><span class="op" id="1751026">(</span><span class="op" id="1751027">&amp;</span><span class="ident" id="1751028">r</span><span class="op" id="1751029">)</span><span class="op" id="1751030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751033">rp</span><span class="op" id="1751035">.</span><span class="ident" id="1751036">_type</span>&nbsp;<span class="op" id="1751042">=</span>&nbsp;<span class="ident" id="1751044">tab</span><span class="op" id="1751047">.</span><span class="ident" id="1751048">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751055">rp</span><span class="op" id="1751057">.</span><span class="ident" id="1751058">data</span>&nbsp;<span class="op" id="1751063">=</span>&nbsp;<span class="ident" id="1751065">ip</span><span class="op" id="1751067">.</span><span class="ident" id="1751068">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751074">ok</span>&nbsp;<span class="op" id="1751077">=</span>&nbsp;<span class="builtintype" id="1751079">true</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1751085">return</span><br>
<span class="lineno"></span><span class="op" id="1751092">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1751095">func</span>&nbsp;<span class="ident" id="1751100">convI2I</span><span class="op" id="1751107">(</span><span class="ident" id="1751108">inter</span>&nbsp;<span class="op" id="1751114">*</span><span class="ident" id="1751115">interfacetype</span><span class="op" id="1751128">,</span>&nbsp;<span class="ident" id="1751130">i</span>&nbsp;<span class="ident" id="1751132">fInterface</span><span class="op" id="1751142">)</span>&nbsp;<span class="op" id="1751144">(</span><span class="ident" id="1751145">r</span>&nbsp;<span class="ident" id="1751147">fInterface</span><span class="op" id="1751157">)</span>&nbsp;<span class="op" id="1751159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751162">ip</span>&nbsp;<span class="op" id="1751165">:=</span>&nbsp;<span class="op" id="1751168">(</span><span class="op" id="1751169">*</span><span class="ident" id="1751170">iface</span><span class="op" id="1751175">)</span><span class="op" id="1751176">(</span><span class="ident" id="1751177">unsafe</span><span class="op" id="1751183">.</span><span class="ident" id="1751184">Pointer</span><span class="op" id="1751191">(</span><span class="op" id="1751192">&amp;</span><span class="ident" id="1751193">i</span><span class="op" id="1751194">)</span><span class="op" id="1751195">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751198">tab</span>&nbsp;<span class="op" id="1751202">:=</span>&nbsp;<span class="ident" id="1751205">ip</span><span class="op" id="1751207">.</span><span class="ident" id="1751208">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1751213">if</span>&nbsp;<span class="ident" id="1751216">tab</span>&nbsp;<span class="op" id="1751220">==</span>&nbsp;<span class="ident" id="1751223">nil</span>&nbsp;<span class="op" id="1751227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1751231">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1751239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751242">rp</span>&nbsp;<span class="op" id="1751245">:=</span>&nbsp;<span class="op" id="1751248">(</span><span class="op" id="1751249">*</span><span class="ident" id="1751250">iface</span><span class="op" id="1751255">)</span><span class="op" id="1751256">(</span><span class="ident" id="1751257">unsafe</span><span class="op" id="1751263">.</span><span class="ident" id="1751264">Pointer</span><span class="op" id="1751271">(</span><span class="op" id="1751272">&amp;</span><span class="ident" id="1751273">r</span><span class="op" id="1751274">)</span><span class="op" id="1751275">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1751278">if</span>&nbsp;<span class="ident" id="1751281">tab</span><span class="op" id="1751284">.</span><span class="ident" id="1751285">inter</span>&nbsp;<span class="op" id="1751291">==</span>&nbsp;<span class="ident" id="1751294">inter</span>&nbsp;<span class="op" id="1751300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751304">rp</span><span class="op" id="1751306">.</span><span class="ident" id="1751307">tab</span>&nbsp;<span class="op" id="1751311">=</span>&nbsp;<span class="ident" id="1751313">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751319">rp</span><span class="op" id="1751321">.</span><span class="ident" id="1751322">data</span>&nbsp;<span class="op" id="1751327">=</span>&nbsp;<span class="ident" id="1751329">ip</span><span class="op" id="1751331">.</span><span class="ident" id="1751332">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1751339">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1751347">}</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751350">rp</span><span class="op" id="1751352">.</span><span class="ident" id="1751353">tab</span>&nbsp;<span class="op" id="1751357">=</span>&nbsp;<span class="ident" id="1751359">getitab</span><span class="op" id="1751366">(</span><span class="ident" id="1751367">inter</span><span class="op" id="1751372">,</span>&nbsp;<span class="ident" id="1751374">tab</span><span class="op" id="1751377">.</span><span class="ident" id="1751378">_type</span><span class="op" id="1751383">,</span>&nbsp;<span class="builtintype" id="1751385">false</span><span class="op" id="1751390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751393">rp</span><span class="op" id="1751395">.</span><span class="ident" id="1751396">data</span>&nbsp;<span class="op" id="1751401">=</span>&nbsp;<span class="ident" id="1751403">ip</span><span class="op" id="1751405">.</span><span class="ident" id="1751406">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1751412">return</span><br>
<span class="lineno"></span><span class="op" id="1751419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="1751422">func</span>&nbsp;<span class="ident" id="1751427">assertI2I</span><span class="op" id="1751436">(</span><span class="ident" id="1751437">inter</span>&nbsp;<span class="op" id="1751443">*</span><span class="ident" id="1751444">interfacetype</span><span class="op" id="1751457">,</span>&nbsp;<span class="ident" id="1751459">i</span>&nbsp;<span class="ident" id="1751461">fInterface</span><span class="op" id="1751471">)</span>&nbsp;<span class="op" id="1751473">(</span><span class="ident" id="1751474">r</span>&nbsp;<span class="ident" id="1751476">fInterface</span><span class="op" id="1751486">)</span>&nbsp;<span class="op" id="1751488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751491">ip</span>&nbsp;<span class="op" id="1751494">:=</span>&nbsp;<span class="op" id="1751497">(</span><span class="op" id="1751498">*</span><span class="ident" id="1751499">iface</span><span class="op" id="1751504">)</span><span class="op" id="1751505">(</span><span class="ident" id="1751506">unsafe</span><span class="op" id="1751512">.</span><span class="ident" id="1751513">Pointer</span><span class="op" id="1751520">(</span><span class="op" id="1751521">&amp;</span><span class="ident" id="1751522">i</span><span class="op" id="1751523">)</span><span class="op" id="1751524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751527">tab</span>&nbsp;<span class="op" id="1751531">:=</span>&nbsp;<span class="ident" id="1751534">ip</span><span class="op" id="1751536">.</span><span class="ident" id="1751537">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1751542">if</span>&nbsp;<span class="ident" id="1751545">tab</span>&nbsp;<span class="op" id="1751549">==</span>&nbsp;<span class="ident" id="1751552">nil</span>&nbsp;<span class="op" id="1751556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1751560">//&nbsp;explicit&nbsp;conversions&nbsp;require&nbsp;non-nil&nbsp;interface&nbsp;value.</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1751619">panic</span><span class="op" id="1751624">(</span><span class="op" id="1751625">&amp;</span><span class="ident" id="1751626">TypeAssertionError</span><span class="op" id="1751644">{</span><span class="string" id="1751645">&#34;&#34;</span><span class="op" id="1751647">,</span>&nbsp;<span class="string" id="1751649">&#34;&#34;</span><span class="op" id="1751651">,</span>&nbsp;<span class="op" id="1751653">*</span><span class="ident" id="1751654">inter</span><span class="op" id="1751659">.</span><span class="ident" id="1751660">typ</span><span class="op" id="1751663">.</span><span class="ident" id="1751664">_string</span><span class="op" id="1751671">,</span>&nbsp;<span class="string" id="1751673">&#34;&#34;</span><span class="op" id="1751675">}</span><span class="op" id="1751676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1751679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751682">rp</span>&nbsp;<span class="op" id="1751685">:=</span>&nbsp;<span class="op" id="1751688">(</span><span class="op" id="1751689">*</span><span class="ident" id="1751690">iface</span><span class="op" id="1751695">)</span><span class="op" id="1751696">(</span><span class="ident" id="1751697">unsafe</span><span class="op" id="1751703">.</span><span class="ident" id="1751704">Pointer</span><span class="op" id="1751711">(</span><span class="op" id="1751712">&amp;</span><span class="ident" id="1751713">r</span><span class="op" id="1751714">)</span><span class="op" id="1751715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1751718">if</span>&nbsp;<span class="ident" id="1751721">tab</span><span class="op" id="1751724">.</span><span class="ident" id="1751725">inter</span>&nbsp;<span class="op" id="1751731">==</span>&nbsp;<span class="ident" id="1751734">inter</span>&nbsp;<span class="op" id="1751740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751744">rp</span><span class="op" id="1751746">.</span><span class="ident" id="1751747">tab</span>&nbsp;<span class="op" id="1751751">=</span>&nbsp;<span class="ident" id="1751753">tab</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751759">rp</span><span class="op" id="1751761">.</span><span class="ident" id="1751762">data</span>&nbsp;<span class="op" id="1751767">=</span>&nbsp;<span class="ident" id="1751769">ip</span><span class="op" id="1751771">.</span><span class="ident" id="1751772">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1751779">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1751787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751790">rp</span><span class="op" id="1751792">.</span><span class="ident" id="1751793">tab</span>&nbsp;<span class="op" id="1751797">=</span>&nbsp;<span class="ident" id="1751799">getitab</span><span class="op" id="1751806">(</span><span class="ident" id="1751807">inter</span><span class="op" id="1751812">,</span>&nbsp;<span class="ident" id="1751814">tab</span><span class="op" id="1751817">.</span><span class="ident" id="1751818">_type</span><span class="op" id="1751823">,</span>&nbsp;<span class="builtintype" id="1751825">false</span><span class="op" id="1751830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751833">rp</span><span class="op" id="1751835">.</span><span class="ident" id="1751836">data</span>&nbsp;<span class="op" id="1751841">=</span>&nbsp;<span class="ident" id="1751843">ip</span><span class="op" id="1751845">.</span><span class="ident" id="1751846">data</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1751852">return</span><br>
<span class="lineno"></span><span class="op" id="1751859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1751862">func</span>&nbsp;<span class="ident" id="1751867">assertI2I2</span><span class="op" id="1751877">(</span><span class="ident" id="1751878">inter</span>&nbsp;<span class="op" id="1751884">*</span><span class="ident" id="1751885">interfacetype</span><span class="op" id="1751898">,</span>&nbsp;<span class="ident" id="1751900">i</span>&nbsp;<span class="ident" id="1751902">fInterface</span><span class="op" id="1751912">)</span>&nbsp;<span class="op" id="1751914">(</span><span class="ident" id="1751915">r</span>&nbsp;<span class="ident" id="1751917">fInterface</span><span class="op" id="1751927">,</span>&nbsp;<span class="ident" id="1751929">ok</span>&nbsp;<span class="builtintype" id="1751932">bool</span><span class="op" id="1751936">)</span>&nbsp;<span class="op" id="1751938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751941">ip</span>&nbsp;<span class="op" id="1751944">:=</span>&nbsp;<span class="op" id="1751947">(</span><span class="op" id="1751948">*</span><span class="ident" id="1751949">iface</span><span class="op" id="1751954">)</span><span class="op" id="1751955">(</span><span class="ident" id="1751956">unsafe</span><span class="op" id="1751962">.</span><span class="ident" id="1751963">Pointer</span><span class="op" id="1751970">(</span><span class="op" id="1751971">&amp;</span><span class="ident" id="1751972">i</span><span class="op" id="1751973">)</span><span class="op" id="1751974">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1751977">tab</span>&nbsp;<span class="op" id="1751981">:=</span>&nbsp;<span class="ident" id="1751984">ip</span><span class="op" id="1751986">.</span><span class="ident" id="1751987">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1751992">if</span>&nbsp;<span class="ident" id="1751995">tab</span>&nbsp;<span class="op" id="1751999">==</span>&nbsp;<span class="ident" id="1752002">nil</span>&nbsp;<span class="op" id="1752006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1752010">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1752018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752021">rp</span>&nbsp;<span class="op" id="1752024">:=</span>&nbsp;<span class="op" id="1752027">(</span><span class="op" id="1752028">*</span><span class="ident" id="1752029">iface</span><span class="op" id="1752034">)</span><span class="op" id="1752035">(</span><span class="ident" id="1752036">unsafe</span><span class="op" id="1752042">.</span><span class="ident" id="1752043">Pointer</span><span class="op" id="1752050">(</span><span class="op" id="1752051">&amp;</span><span class="ident" id="1752052">r</span><span class="op" id="1752053">)</span><span class="op" id="1752054">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1752057">if</span>&nbsp;<span class="ident" id="1752060">tab</span><span class="op" id="1752063">.</span><span class="ident" id="1752064">inter</span>&nbsp;<span class="op" id="1752070">==</span>&nbsp;<span class="ident" id="1752073">inter</span>&nbsp;<span class="op" id="1752079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752083">rp</span><span class="op" id="1752085">.</span><span class="ident" id="1752086">tab</span>&nbsp;<span class="op" id="1752090">=</span>&nbsp;<span class="ident" id="1752092">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752098">rp</span><span class="op" id="1752100">.</span><span class="ident" id="1752101">data</span>&nbsp;<span class="op" id="1752106">=</span>&nbsp;<span class="ident" id="1752108">ip</span><span class="op" id="1752110">.</span><span class="ident" id="1752111">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752118">ok</span>&nbsp;<span class="op" id="1752121">=</span>&nbsp;<span class="builtintype" id="1752123">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1752130">return</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1752138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752141">tab</span>&nbsp;<span class="op" id="1752145">=</span>&nbsp;<span class="ident" id="1752147">getitab</span><span class="op" id="1752154">(</span><span class="ident" id="1752155">inter</span><span class="op" id="1752160">,</span>&nbsp;<span class="ident" id="1752162">tab</span><span class="op" id="1752165">.</span><span class="ident" id="1752166">_type</span><span class="op" id="1752171">,</span>&nbsp;<span class="builtintype" id="1752173">true</span><span class="op" id="1752177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1752180">if</span>&nbsp;<span class="ident" id="1752183">tab</span>&nbsp;<span class="op" id="1752187">==</span>&nbsp;<span class="ident" id="1752190">nil</span>&nbsp;<span class="op" id="1752194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752198">rp</span><span class="op" id="1752200">.</span><span class="ident" id="1752201">data</span>&nbsp;<span class="op" id="1752206">=</span>&nbsp;<span class="ident" id="1752208">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752214">rp</span><span class="op" id="1752216">.</span><span class="ident" id="1752217">tab</span>&nbsp;<span class="op" id="1752221">=</span>&nbsp;<span class="ident" id="1752223">nil</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752229">ok</span>&nbsp;<span class="op" id="1752232">=</span>&nbsp;<span class="builtintype" id="1752234">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1752242">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1752250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752253">rp</span><span class="op" id="1752255">.</span><span class="ident" id="1752256">tab</span>&nbsp;<span class="op" id="1752260">=</span>&nbsp;<span class="ident" id="1752262">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752267">rp</span><span class="op" id="1752269">.</span><span class="ident" id="1752270">data</span>&nbsp;<span class="op" id="1752275">=</span>&nbsp;<span class="ident" id="1752277">ip</span><span class="op" id="1752279">.</span><span class="ident" id="1752280">data</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752286">ok</span>&nbsp;<span class="op" id="1752289">=</span>&nbsp;<span class="builtintype" id="1752291">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1752297">return</span><br>
<span class="lineno"></span><span class="op" id="1752304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1752307">func</span>&nbsp;<span class="ident" id="1752312">assertE2I</span><span class="op" id="1752321">(</span><span class="ident" id="1752322">inter</span>&nbsp;<span class="op" id="1752328">*</span><span class="ident" id="1752329">interfacetype</span><span class="op" id="1752342">,</span>&nbsp;<span class="ident" id="1752344">e</span>&nbsp;<span class="keyword" id="1752346">interface</span><span class="op" id="1752355">{</span><span class="op" id="1752356">}</span><span class="op" id="1752357">)</span>&nbsp;<span class="op" id="1752359">(</span><span class="ident" id="1752360">r</span>&nbsp;<span class="ident" id="1752362">fInterface</span><span class="op" id="1752372">)</span>&nbsp;<span class="op" id="1752374">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752377">ep</span>&nbsp;<span class="op" id="1752380">:=</span>&nbsp;<span class="op" id="1752383">(</span><span class="op" id="1752384">*</span><span class="ident" id="1752385">eface</span><span class="op" id="1752390">)</span><span class="op" id="1752391">(</span><span class="ident" id="1752392">unsafe</span><span class="op" id="1752398">.</span><span class="ident" id="1752399">Pointer</span><span class="op" id="1752406">(</span><span class="op" id="1752407">&amp;</span><span class="ident" id="1752408">e</span><span class="op" id="1752409">)</span><span class="op" id="1752410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752413">t</span>&nbsp;<span class="op" id="1752415">:=</span>&nbsp;<span class="ident" id="1752418">ep</span><span class="op" id="1752420">.</span><span class="ident" id="1752421">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1752428">if</span>&nbsp;<span class="ident" id="1752431">t</span>&nbsp;<span class="op" id="1752433">==</span>&nbsp;<span class="ident" id="1752436">nil</span>&nbsp;<span class="op" id="1752440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1752444">//&nbsp;explicit&nbsp;conversions&nbsp;require&nbsp;non-nil&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1752503">panic</span><span class="op" id="1752508">(</span><span class="op" id="1752509">&amp;</span><span class="ident" id="1752510">TypeAssertionError</span><span class="op" id="1752528">{</span><span class="string" id="1752529">&#34;&#34;</span><span class="op" id="1752531">,</span>&nbsp;<span class="string" id="1752533">&#34;&#34;</span><span class="op" id="1752535">,</span>&nbsp;<span class="op" id="1752537">*</span><span class="ident" id="1752538">inter</span><span class="op" id="1752543">.</span><span class="ident" id="1752544">typ</span><span class="op" id="1752547">.</span><span class="ident" id="1752548">_string</span><span class="op" id="1752555">,</span>&nbsp;<span class="string" id="1752557">&#34;&#34;</span><span class="op" id="1752559">}</span><span class="op" id="1752560">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1752563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752566">rp</span>&nbsp;<span class="op" id="1752569">:=</span>&nbsp;<span class="op" id="1752572">(</span><span class="op" id="1752573">*</span><span class="ident" id="1752574">iface</span><span class="op" id="1752579">)</span><span class="op" id="1752580">(</span><span class="ident" id="1752581">unsafe</span><span class="op" id="1752587">.</span><span class="ident" id="1752588">Pointer</span><span class="op" id="1752595">(</span><span class="op" id="1752596">&amp;</span><span class="ident" id="1752597">r</span><span class="op" id="1752598">)</span><span class="op" id="1752599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752602">rp</span><span class="op" id="1752604">.</span><span class="ident" id="1752605">tab</span>&nbsp;<span class="op" id="1752609">=</span>&nbsp;<span class="ident" id="1752611">getitab</span><span class="op" id="1752618">(</span><span class="ident" id="1752619">inter</span><span class="op" id="1752624">,</span>&nbsp;<span class="ident" id="1752626">t</span><span class="op" id="1752627">,</span>&nbsp;<span class="builtintype" id="1752629">false</span><span class="op" id="1752634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752637">rp</span><span class="op" id="1752639">.</span><span class="ident" id="1752640">data</span>&nbsp;<span class="op" id="1752645">=</span>&nbsp;<span class="ident" id="1752647">ep</span><span class="op" id="1752649">.</span><span class="ident" id="1752650">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1752656">return</span><br>
<span class="lineno">370</span><span class="op" id="1752663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1752666">func</span>&nbsp;<span class="ident" id="1752671">assertE2I2</span><span class="op" id="1752681">(</span><span class="ident" id="1752682">inter</span>&nbsp;<span class="op" id="1752688">*</span><span class="ident" id="1752689">interfacetype</span><span class="op" id="1752702">,</span>&nbsp;<span class="ident" id="1752704">e</span>&nbsp;<span class="keyword" id="1752706">interface</span><span class="op" id="1752715">{</span><span class="op" id="1752716">}</span><span class="op" id="1752717">)</span>&nbsp;<span class="op" id="1752719">(</span><span class="ident" id="1752720">r</span>&nbsp;<span class="ident" id="1752722">fInterface</span><span class="op" id="1752732">,</span>&nbsp;<span class="ident" id="1752734">ok</span>&nbsp;<span class="builtintype" id="1752737">bool</span><span class="op" id="1752741">)</span>&nbsp;<span class="op" id="1752743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752746">ep</span>&nbsp;<span class="op" id="1752749">:=</span>&nbsp;<span class="op" id="1752752">(</span><span class="op" id="1752753">*</span><span class="ident" id="1752754">eface</span><span class="op" id="1752759">)</span><span class="op" id="1752760">(</span><span class="ident" id="1752761">unsafe</span><span class="op" id="1752767">.</span><span class="ident" id="1752768">Pointer</span><span class="op" id="1752775">(</span><span class="op" id="1752776">&amp;</span><span class="ident" id="1752777">e</span><span class="op" id="1752778">)</span><span class="op" id="1752779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752782">t</span>&nbsp;<span class="op" id="1752784">:=</span>&nbsp;<span class="ident" id="1752787">ep</span><span class="op" id="1752789">.</span><span class="ident" id="1752790">_type</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1752797">if</span>&nbsp;<span class="ident" id="1752800">t</span>&nbsp;<span class="op" id="1752802">==</span>&nbsp;<span class="ident" id="1752805">nil</span>&nbsp;<span class="op" id="1752809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1752813">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1752821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752824">tab</span>&nbsp;<span class="op" id="1752828">:=</span>&nbsp;<span class="ident" id="1752831">getitab</span><span class="op" id="1752838">(</span><span class="ident" id="1752839">inter</span><span class="op" id="1752844">,</span>&nbsp;<span class="ident" id="1752846">t</span><span class="op" id="1752847">,</span>&nbsp;<span class="builtintype" id="1752849">true</span><span class="op" id="1752853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1752856">if</span>&nbsp;<span class="ident" id="1752859">tab</span>&nbsp;<span class="op" id="1752863">==</span>&nbsp;<span class="ident" id="1752866">nil</span>&nbsp;<span class="op" id="1752870">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1752874">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1752882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752885">rp</span>&nbsp;<span class="op" id="1752888">:=</span>&nbsp;<span class="op" id="1752891">(</span><span class="op" id="1752892">*</span><span class="ident" id="1752893">iface</span><span class="op" id="1752898">)</span><span class="op" id="1752899">(</span><span class="ident" id="1752900">unsafe</span><span class="op" id="1752906">.</span><span class="ident" id="1752907">Pointer</span><span class="op" id="1752914">(</span><span class="op" id="1752915">&amp;</span><span class="ident" id="1752916">r</span><span class="op" id="1752917">)</span><span class="op" id="1752918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752921">rp</span><span class="op" id="1752923">.</span><span class="ident" id="1752924">tab</span>&nbsp;<span class="op" id="1752928">=</span>&nbsp;<span class="ident" id="1752930">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752935">rp</span><span class="op" id="1752937">.</span><span class="ident" id="1752938">data</span>&nbsp;<span class="op" id="1752943">=</span>&nbsp;<span class="ident" id="1752945">ep</span><span class="op" id="1752947">.</span><span class="ident" id="1752948">data</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1752954">ok</span>&nbsp;<span class="op" id="1752957">=</span>&nbsp;<span class="builtintype" id="1752959">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1752965">return</span><br>
<span class="lineno"></span><span class="op" id="1752972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1752975">func</span>&nbsp;<span class="ident" id="1752980">reflect_ifaceE2I</span><span class="op" id="1752996">(</span><span class="ident" id="1752997">inter</span>&nbsp;<span class="op" id="1753003">*</span><span class="ident" id="1753004">interfacetype</span><span class="op" id="1753017">,</span>&nbsp;<span class="ident" id="1753019">e</span>&nbsp;<span class="keyword" id="1753021">interface</span><span class="op" id="1753030">{</span><span class="op" id="1753031">}</span><span class="op" id="1753032">,</span>&nbsp;<span class="ident" id="1753034">dst</span>&nbsp;<span class="op" id="1753038">*</span><span class="ident" id="1753039">fInterface</span><span class="op" id="1753049">)</span>&nbsp;<span class="op" id="1753051">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1753054">*</span><span class="ident" id="1753055">dst</span>&nbsp;<span class="op" id="1753059">=</span>&nbsp;<span class="ident" id="1753061">assertE2I</span><span class="op" id="1753070">(</span><span class="ident" id="1753071">inter</span><span class="op" id="1753076">,</span>&nbsp;<span class="ident" id="1753078">e</span><span class="op" id="1753079">)</span><br>
<span class="lineno"></span><span class="op" id="1753081">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1753084">func</span>&nbsp;<span class="ident" id="1753089">assertE2E</span><span class="op" id="1753098">(</span><span class="ident" id="1753099">inter</span>&nbsp;<span class="op" id="1753105">*</span><span class="ident" id="1753106">interfacetype</span><span class="op" id="1753119">,</span>&nbsp;<span class="ident" id="1753121">e</span>&nbsp;<span class="keyword" id="1753123">interface</span><span class="op" id="1753132">{</span><span class="op" id="1753133">}</span><span class="op" id="1753134">)</span>&nbsp;<span class="keyword" id="1753136">interface</span><span class="op" id="1753145">{</span><span class="op" id="1753146">}</span>&nbsp;<span class="op" id="1753148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1753151">ep</span>&nbsp;<span class="op" id="1753154">:=</span>&nbsp;<span class="op" id="1753157">(</span><span class="op" id="1753158">*</span><span class="ident" id="1753159">eface</span><span class="op" id="1753164">)</span><span class="op" id="1753165">(</span><span class="ident" id="1753166">unsafe</span><span class="op" id="1753172">.</span><span class="ident" id="1753173">Pointer</span><span class="op" id="1753180">(</span><span class="op" id="1753181">&amp;</span><span class="ident" id="1753182">e</span><span class="op" id="1753183">)</span><span class="op" id="1753184">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1753187">if</span>&nbsp;<span class="ident" id="1753190">ep</span><span class="op" id="1753192">.</span><span class="ident" id="1753193">_type</span>&nbsp;<span class="op" id="1753199">==</span>&nbsp;<span class="ident" id="1753202">nil</span>&nbsp;<span class="op" id="1753206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1753210">//&nbsp;explicit&nbsp;conversions&nbsp;require&nbsp;non-nil&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1753269">panic</span><span class="op" id="1753274">(</span><span class="op" id="1753275">&amp;</span><span class="ident" id="1753276">TypeAssertionError</span><span class="op" id="1753294">{</span><span class="string" id="1753295">&#34;&#34;</span><span class="op" id="1753297">,</span>&nbsp;<span class="string" id="1753299">&#34;&#34;</span><span class="op" id="1753301">,</span>&nbsp;<span class="op" id="1753303">*</span><span class="ident" id="1753304">inter</span><span class="op" id="1753309">.</span><span class="ident" id="1753310">typ</span><span class="op" id="1753313">.</span><span class="ident" id="1753314">_string</span><span class="op" id="1753321">,</span>&nbsp;<span class="string" id="1753323">&#34;&#34;</span><span class="op" id="1753325">}</span><span class="op" id="1753326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1753329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1753332">return</span>&nbsp;<span class="ident" id="1753339">e</span><br>
<span class="lineno">400</span><span class="op" id="1753341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1753344">func</span>&nbsp;<span class="ident" id="1753349">assertE2E2</span><span class="op" id="1753359">(</span><span class="ident" id="1753360">inter</span>&nbsp;<span class="op" id="1753366">*</span><span class="ident" id="1753367">interfacetype</span><span class="op" id="1753380">,</span>&nbsp;<span class="ident" id="1753382">e</span>&nbsp;<span class="keyword" id="1753384">interface</span><span class="op" id="1753393">{</span><span class="op" id="1753394">}</span><span class="op" id="1753395">)</span>&nbsp;<span class="op" id="1753397">(</span><span class="keyword" id="1753398">interface</span><span class="op" id="1753407">{</span><span class="op" id="1753408">}</span><span class="op" id="1753409">,</span>&nbsp;<span class="builtintype" id="1753411">bool</span><span class="op" id="1753415">)</span>&nbsp;<span class="op" id="1753417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1753420">ep</span>&nbsp;<span class="op" id="1753423">:=</span>&nbsp;<span class="op" id="1753426">(</span><span class="op" id="1753427">*</span><span class="ident" id="1753428">eface</span><span class="op" id="1753433">)</span><span class="op" id="1753434">(</span><span class="ident" id="1753435">unsafe</span><span class="op" id="1753441">.</span><span class="ident" id="1753442">Pointer</span><span class="op" id="1753449">(</span><span class="op" id="1753450">&amp;</span><span class="ident" id="1753451">e</span><span class="op" id="1753452">)</span><span class="op" id="1753453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1753456">if</span>&nbsp;<span class="ident" id="1753459">ep</span><span class="op" id="1753461">.</span><span class="ident" id="1753462">_type</span>&nbsp;<span class="op" id="1753468">==</span>&nbsp;<span class="ident" id="1753471">nil</span>&nbsp;<span class="op" id="1753475">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1753479">return</span>&nbsp;<span class="ident" id="1753486">nil</span><span class="op" id="1753489">,</span>&nbsp;<span class="builtintype" id="1753491">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1753498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1753501">return</span>&nbsp;<span class="ident" id="1753508">e</span><span class="op" id="1753509">,</span>&nbsp;<span class="builtintype" id="1753511">true</span><br>
<span class="lineno"></span><span class="op" id="1753516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="1753519">func</span>&nbsp;<span class="ident" id="1753524">ifacethash</span><span class="op" id="1753534">(</span><span class="ident" id="1753535">i</span>&nbsp;<span class="ident" id="1753537">fInterface</span><span class="op" id="1753547">)</span>&nbsp;<span class="builtintype" id="1753549">uint32</span>&nbsp;<span class="op" id="1753556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1753559">ip</span>&nbsp;<span class="op" id="1753562">:=</span>&nbsp;<span class="op" id="1753565">(</span><span class="op" id="1753566">*</span><span class="ident" id="1753567">iface</span><span class="op" id="1753572">)</span><span class="op" id="1753573">(</span><span class="ident" id="1753574">unsafe</span><span class="op" id="1753580">.</span><span class="ident" id="1753581">Pointer</span><span class="op" id="1753588">(</span><span class="op" id="1753589">&amp;</span><span class="ident" id="1753590">i</span><span class="op" id="1753591">)</span><span class="op" id="1753592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1753595">tab</span>&nbsp;<span class="op" id="1753599">:=</span>&nbsp;<span class="ident" id="1753602">ip</span><span class="op" id="1753604">.</span><span class="ident" id="1753605">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1753610">if</span>&nbsp;<span class="ident" id="1753613">tab</span>&nbsp;<span class="op" id="1753617">==</span>&nbsp;<span class="ident" id="1753620">nil</span>&nbsp;<span class="op" id="1753624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1753628">return</span>&nbsp;<span class="num" id="1753635">0</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1753638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1753641">return</span>&nbsp;<span class="ident" id="1753648">tab</span><span class="op" id="1753651">.</span><span class="ident" id="1753652">_type</span><span class="op" id="1753657">.</span><span class="ident" id="1753658">hash</span><br>
<span class="lineno"></span><span class="op" id="1753663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1753666">func</span>&nbsp;<span class="ident" id="1753671">efacethash</span><span class="op" id="1753681">(</span><span class="ident" id="1753682">e</span>&nbsp;<span class="keyword" id="1753684">interface</span><span class="op" id="1753693">{</span><span class="op" id="1753694">}</span><span class="op" id="1753695">)</span>&nbsp;<span class="builtintype" id="1753697">uint32</span>&nbsp;<span class="op" id="1753704">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1753707">ep</span>&nbsp;<span class="op" id="1753710">:=</span>&nbsp;<span class="op" id="1753713">(</span><span class="op" id="1753714">*</span><span class="ident" id="1753715">eface</span><span class="op" id="1753720">)</span><span class="op" id="1753721">(</span><span class="ident" id="1753722">unsafe</span><span class="op" id="1753728">.</span><span class="ident" id="1753729">Pointer</span><span class="op" id="1753736">(</span><span class="op" id="1753737">&amp;</span><span class="ident" id="1753738">e</span><span class="op" id="1753739">)</span><span class="op" id="1753740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1753743">t</span>&nbsp;<span class="op" id="1753745">:=</span>&nbsp;<span class="ident" id="1753748">ep</span><span class="op" id="1753750">.</span><span class="ident" id="1753751">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1753758">if</span>&nbsp;<span class="ident" id="1753761">t</span>&nbsp;<span class="op" id="1753763">==</span>&nbsp;<span class="ident" id="1753766">nil</span>&nbsp;<span class="op" id="1753770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1753774">return</span>&nbsp;<span class="num" id="1753781">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1753784">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1753787">return</span>&nbsp;<span class="ident" id="1753794">t</span><span class="op" id="1753795">.</span><span class="ident" id="1753796">hash</span><br>
<span class="lineno"></span><span class="op" id="1753801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1753804">func</span>&nbsp;<span class="ident" id="1753809">iterate_itabs</span><span class="op" id="1753822">(</span><span class="ident" id="1753823">fn</span>&nbsp;<span class="keyword" id="1753826">func</span><span class="op" id="1753830">(</span><span class="op" id="1753831">*</span><span class="ident" id="1753832">itab</span><span class="op" id="1753836">)</span><span class="op" id="1753837">)</span>&nbsp;<span class="op" id="1753839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1753842">for</span>&nbsp;<span class="ident" id="1753846">_</span><span class="op" id="1753847">,</span>&nbsp;<span class="ident" id="1753849">h</span>&nbsp;<span class="op" id="1753851">:=</span>&nbsp;<span class="keyword" id="1753854">range</span>&nbsp;<span class="op" id="1753860">&amp;</span><span class="ident" id="1753861">hash</span>&nbsp;<span class="op" id="1753866">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1753870">for</span>&nbsp;<span class="op" id="1753874">;</span>&nbsp;<span class="ident" id="1753876">h</span>&nbsp;<span class="op" id="1753878">!=</span>&nbsp;<span class="ident" id="1753881">nil</span><span class="op" id="1753884">;</span>&nbsp;<span class="ident" id="1753886">h</span>&nbsp;<span class="op" id="1753888">=</span>&nbsp;<span class="ident" id="1753890">h</span><span class="op" id="1753891">.</span><span class="ident" id="1753892">link</span>&nbsp;<span class="op" id="1753897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1753902">fn</span><span class="op" id="1753904">(</span><span class="ident" id="1753905">h</span><span class="op" id="1753906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1753910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1753913">}</span><br>
<span class="lineno"></span><span class="op" id="1753915">}</span><br>
<span class="lineno">435</span><br>
<span class="lineno"></span><span class="keyword" id="1753918">func</span>&nbsp;<span class="ident" id="1753923">ifaceE2I2</span><span class="op" id="1753932">(</span><span class="ident" id="1753933">inter</span>&nbsp;<span class="op" id="1753939">*</span><span class="ident" id="1753940">interfacetype</span><span class="op" id="1753953">,</span>&nbsp;<span class="ident" id="1753955">e</span>&nbsp;<span class="keyword" id="1753957">interface</span><span class="op" id="1753966">{</span><span class="op" id="1753967">}</span><span class="op" id="1753968">,</span>&nbsp;<span class="ident" id="1753970">r</span>&nbsp;<span class="op" id="1753972">*</span><span class="ident" id="1753973">fInterface</span><span class="op" id="1753983">)</span>&nbsp;<span class="op" id="1753985">(</span><span class="ident" id="1753986">ok</span>&nbsp;<span class="builtintype" id="1753989">bool</span><span class="op" id="1753993">)</span>&nbsp;<span class="op" id="1753995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1753998">*</span><span class="ident" id="1753999">r</span><span class="op" id="1754000">,</span>&nbsp;<span class="ident" id="1754002">ok</span>&nbsp;<span class="op" id="1754005">=</span>&nbsp;<span class="ident" id="1754007">assertE2I2</span><span class="op" id="1754017">(</span><span class="ident" id="1754018">inter</span><span class="op" id="1754023">,</span>&nbsp;<span class="ident" id="1754025">e</span><span class="op" id="1754026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1754029">return</span><br>
<span class="lineno"></span><span class="op" id="1754036">}</span>
</div>
</body>
</html>
