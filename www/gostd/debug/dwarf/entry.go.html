<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5235845">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5235901">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5235955">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5236006">//&nbsp;DWARF&nbsp;debug&nbsp;information&nbsp;entry&nbsp;parser.</span><br>
<span class="lineno"></span><span class="comment" id="5236047">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;data&nbsp;items&nbsp;of&nbsp;a&nbsp;given&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="5236106">//&nbsp;The&nbsp;first&nbsp;word&nbsp;in&nbsp;the&nbsp;entry&nbsp;is&nbsp;an&nbsp;index&nbsp;into&nbsp;what&nbsp;DWARF</span><br>
<span class="lineno"></span><span class="comment" id="5236165">//&nbsp;calls&nbsp;the&nbsp;``abbreviation&nbsp;table.&#39;&#39;&nbsp;&nbsp;An&nbsp;abbreviation&nbsp;is&nbsp;really</span><br>
<span class="lineno"></span><span class="comment" id="5236229">//&nbsp;just&nbsp;a&nbsp;type&nbsp;descriptor:&nbsp;it&#39;s&nbsp;an&nbsp;array&nbsp;of&nbsp;attribute&nbsp;tag/value&nbsp;format&nbsp;pairs.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5236308">package</span>&nbsp;<span class="ident" id="5236316">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5236323">import</span>&nbsp;<span class="op" id="5236330">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5236333">&#34;errors&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5236343">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="5236353">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5236356">//&nbsp;a&nbsp;single&nbsp;entry&#39;s&nbsp;description:&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attributes</span><br>
<span class="lineno"></span><span class="keyword" id="5236414">type</span>&nbsp;<span class="ident" id="5236419">abbrev</span>&nbsp;<span class="keyword" id="5236426">struct</span>&nbsp;<span class="op" id="5236433">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5236436">tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5236445">Tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5236450">children</span>&nbsp;<span class="builtintype" id="5236459">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5236465">field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5236474">[</span><span class="op" id="5236475">]</span><span class="ident" id="5236476">afield</span><br>
<span class="lineno"></span><span class="op" id="5236483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="5236486">type</span>&nbsp;<span class="ident" id="5236491">afield</span>&nbsp;<span class="keyword" id="5236498">struct</span>&nbsp;<span class="op" id="5236505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5236508">attr</span>&nbsp;<span class="ident" id="5236513">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5236519">fmt</span>&nbsp;&nbsp;<span class="ident" id="5236524">format</span><br>
<span class="lineno"></span><span class="op" id="5236531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5236534">//&nbsp;a&nbsp;map&nbsp;from&nbsp;entry&nbsp;format&nbsp;ids&nbsp;to&nbsp;their&nbsp;descriptions</span><br>
<span class="lineno"></span><span class="keyword" id="5236587">type</span>&nbsp;<span class="ident" id="5236592">abbrevTable</span>&nbsp;<span class="keyword" id="5236604">map</span><span class="op" id="5236607">[</span><span class="builtintype" id="5236608">uint32</span><span class="op" id="5236614">]</span><span class="ident" id="5236615">abbrev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5236623">//&nbsp;ParseAbbrev&nbsp;returns&nbsp;the&nbsp;abbreviation&nbsp;table&nbsp;that&nbsp;starts&nbsp;at&nbsp;byte&nbsp;off</span><br>
<span class="lineno"></span><span class="comment" id="5236693">//&nbsp;in&nbsp;the&nbsp;.debug_abbrev&nbsp;section.</span><br>
<span class="lineno">35</span><span class="keyword" id="5236726">func</span>&nbsp;<span class="op" id="5236731">(</span><span class="ident" id="5236732">d</span>&nbsp;<span class="op" id="5236734">*</span><span class="ident" id="5236735">Data</span><span class="op" id="5236739">)</span>&nbsp;<span class="ident" id="5236741">parseAbbrev</span><span class="op" id="5236752">(</span><span class="ident" id="5236753">off</span>&nbsp;<span class="builtintype" id="5236757">uint32</span><span class="op" id="5236763">)</span>&nbsp;<span class="op" id="5236765">(</span><span class="ident" id="5236766">abbrevTable</span><span class="op" id="5236777">,</span>&nbsp;<span class="builtintype" id="5236779">error</span><span class="op" id="5236784">)</span>&nbsp;<span class="op" id="5236786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5236789">if</span>&nbsp;<span class="ident" id="5236792">m</span><span class="op" id="5236793">,</span>&nbsp;<span class="ident" id="5236795">ok</span>&nbsp;<span class="op" id="5236798">:=</span>&nbsp;<span class="ident" id="5236801">d</span><span class="op" id="5236802">.</span><span class="ident" id="5236803">abbrevCache</span><span class="op" id="5236814">[</span><span class="ident" id="5236815">off</span><span class="op" id="5236818">]</span><span class="op" id="5236819">;</span>&nbsp;<span class="ident" id="5236821">ok</span>&nbsp;<span class="op" id="5236824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5236828">return</span>&nbsp;<span class="ident" id="5236835">m</span><span class="op" id="5236836">,</span>&nbsp;<span class="ident" id="5236838">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5236843">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5236847">data</span>&nbsp;<span class="op" id="5236852">:=</span>&nbsp;<span class="ident" id="5236855">d</span><span class="op" id="5236856">.</span><span class="ident" id="5236857">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5236865">if</span>&nbsp;<span class="ident" id="5236868">off</span>&nbsp;<span class="op" id="5236872">&gt;</span>&nbsp;<span class="builtintype" id="5236874">uint32</span><span class="op" id="5236880">(</span><span class="builtinfunc" id="5236881">len</span><span class="op" id="5236884">(</span><span class="ident" id="5236885">data</span><span class="op" id="5236889">)</span><span class="op" id="5236890">)</span>&nbsp;<span class="op" id="5236892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5236896">data</span>&nbsp;<span class="op" id="5236901">=</span>&nbsp;<span class="ident" id="5236903">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5236908">}</span>&nbsp;<span class="keyword" id="5236910">else</span>&nbsp;<span class="op" id="5236915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5236919">data</span>&nbsp;<span class="op" id="5236924">=</span>&nbsp;<span class="ident" id="5236926">data</span><span class="op" id="5236930">[</span><span class="ident" id="5236931">off</span><span class="op" id="5236934">:</span><span class="op" id="5236935">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5236938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5236941">b</span>&nbsp;<span class="op" id="5236943">:=</span>&nbsp;<span class="ident" id="5236946">makeBuf</span><span class="op" id="5236953">(</span><span class="ident" id="5236954">d</span><span class="op" id="5236955">,</span>&nbsp;<span class="ident" id="5236957">unknownFormat</span><span class="op" id="5236970">{</span><span class="op" id="5236971">}</span><span class="op" id="5236972">,</span>&nbsp;<span class="string" id="5236974">&#34;abbrev&#34;</span><span class="op" id="5236982">,</span>&nbsp;<span class="num" id="5236984">0</span><span class="op" id="5236985">,</span>&nbsp;<span class="ident" id="5236987">data</span><span class="op" id="5236991">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5236995">//&nbsp;Error&nbsp;handling&nbsp;is&nbsp;simplified&nbsp;by&nbsp;the&nbsp;buf&nbsp;getters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5237047">//&nbsp;returning&nbsp;an&nbsp;endless&nbsp;stream&nbsp;of&nbsp;0s&nbsp;after&nbsp;an&nbsp;error.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237101">m</span>&nbsp;<span class="op" id="5237103">:=</span>&nbsp;<span class="builtinfunc" id="5237106">make</span><span class="op" id="5237110">(</span><span class="ident" id="5237111">abbrevTable</span><span class="op" id="5237122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5237125">for</span>&nbsp;<span class="op" id="5237129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5237133">//&nbsp;Table&nbsp;ends&nbsp;with&nbsp;id&nbsp;==&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237163">id</span>&nbsp;<span class="op" id="5237166">:=</span>&nbsp;<span class="builtintype" id="5237169">uint32</span><span class="op" id="5237175">(</span><span class="ident" id="5237176">b</span><span class="op" id="5237177">.</span><span class="builtintype" id="5237178">uint</span><span class="op" id="5237182">(</span><span class="op" id="5237183">)</span><span class="op" id="5237184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5237188">if</span>&nbsp;<span class="ident" id="5237191">id</span>&nbsp;<span class="op" id="5237194">==</span>&nbsp;<span class="num" id="5237197">0</span>&nbsp;<span class="op" id="5237199">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5237204">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5237212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5237217">//&nbsp;Walk&nbsp;over&nbsp;attributes,&nbsp;counting.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237254">n</span>&nbsp;<span class="op" id="5237256">:=</span>&nbsp;<span class="num" id="5237259">0</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237263">b1</span>&nbsp;<span class="op" id="5237266">:=</span>&nbsp;<span class="ident" id="5237269">b</span>&nbsp;<span class="comment" id="5237271">//&nbsp;Read&nbsp;from&nbsp;copy&nbsp;of&nbsp;b.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237297">b1</span><span class="op" id="5237299">.</span><span class="builtintype" id="5237300">uint</span><span class="op" id="5237304">(</span><span class="op" id="5237305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237309">b1</span><span class="op" id="5237311">.</span><span class="builtintype" id="5237312">uint8</span><span class="op" id="5237317">(</span><span class="op" id="5237318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5237322">for</span>&nbsp;<span class="op" id="5237326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237331">tag</span>&nbsp;<span class="op" id="5237335">:=</span>&nbsp;<span class="ident" id="5237338">b1</span><span class="op" id="5237340">.</span><span class="builtintype" id="5237341">uint</span><span class="op" id="5237345">(</span><span class="op" id="5237346">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237351">fmt</span>&nbsp;<span class="op" id="5237355">:=</span>&nbsp;<span class="ident" id="5237358">b1</span><span class="op" id="5237360">.</span><span class="builtintype" id="5237361">uint</span><span class="op" id="5237365">(</span><span class="op" id="5237366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5237371">if</span>&nbsp;<span class="ident" id="5237374">tag</span>&nbsp;<span class="op" id="5237378">==</span>&nbsp;<span class="num" id="5237381">0</span>&nbsp;<span class="op" id="5237383">&amp;&amp;</span>&nbsp;<span class="ident" id="5237386">fmt</span>&nbsp;<span class="op" id="5237390">==</span>&nbsp;<span class="num" id="5237393">0</span>&nbsp;<span class="op" id="5237395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5237401">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5237410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237415">n</span><span class="op" id="5237416">++</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5237421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5237425">if</span>&nbsp;<span class="ident" id="5237428">b1</span><span class="op" id="5237430">.</span><span class="ident" id="5237431">err</span>&nbsp;<span class="op" id="5237435">!=</span>&nbsp;<span class="ident" id="5237438">nil</span>&nbsp;<span class="op" id="5237442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5237447">return</span>&nbsp;<span class="ident" id="5237454">nil</span><span class="op" id="5237457">,</span>&nbsp;<span class="ident" id="5237459">b1</span><span class="op" id="5237461">.</span><span class="ident" id="5237462">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5237468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5237473">//&nbsp;Walk&nbsp;over&nbsp;attributes&nbsp;again,&nbsp;this&nbsp;time&nbsp;writing&nbsp;them&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5237535">var</span>&nbsp;<span class="ident" id="5237539">a</span>&nbsp;<span class="ident" id="5237541">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237550">a</span><span class="op" id="5237551">.</span><span class="ident" id="5237552">tag</span>&nbsp;<span class="op" id="5237556">=</span>&nbsp;<span class="ident" id="5237558">Tag</span><span class="op" id="5237561">(</span><span class="ident" id="5237562">b</span><span class="op" id="5237563">.</span><span class="builtintype" id="5237564">uint</span><span class="op" id="5237568">(</span><span class="op" id="5237569">)</span><span class="op" id="5237570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237574">a</span><span class="op" id="5237575">.</span><span class="ident" id="5237576">children</span>&nbsp;<span class="op" id="5237585">=</span>&nbsp;<span class="ident" id="5237587">b</span><span class="op" id="5237588">.</span><span class="builtintype" id="5237589">uint8</span><span class="op" id="5237594">(</span><span class="op" id="5237595">)</span>&nbsp;<span class="op" id="5237597">!=</span>&nbsp;<span class="num" id="5237600">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237604">a</span><span class="op" id="5237605">.</span><span class="ident" id="5237606">field</span>&nbsp;<span class="op" id="5237612">=</span>&nbsp;<span class="builtinfunc" id="5237614">make</span><span class="op" id="5237618">(</span><span class="op" id="5237619">[</span><span class="op" id="5237620">]</span><span class="ident" id="5237621">afield</span><span class="op" id="5237627">,</span>&nbsp;<span class="ident" id="5237629">n</span><span class="op" id="5237630">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5237634">for</span>&nbsp;<span class="ident" id="5237638">i</span>&nbsp;<span class="op" id="5237640">:=</span>&nbsp;<span class="keyword" id="5237643">range</span>&nbsp;<span class="ident" id="5237649">a</span><span class="op" id="5237650">.</span><span class="ident" id="5237651">field</span>&nbsp;<span class="op" id="5237657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237662">a</span><span class="op" id="5237663">.</span><span class="ident" id="5237664">field</span><span class="op" id="5237669">[</span><span class="ident" id="5237670">i</span><span class="op" id="5237671">]</span><span class="op" id="5237672">.</span><span class="ident" id="5237673">attr</span>&nbsp;<span class="op" id="5237678">=</span>&nbsp;<span class="ident" id="5237680">Attr</span><span class="op" id="5237684">(</span><span class="ident" id="5237685">b</span><span class="op" id="5237686">.</span><span class="builtintype" id="5237687">uint</span><span class="op" id="5237691">(</span><span class="op" id="5237692">)</span><span class="op" id="5237693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237698">a</span><span class="op" id="5237699">.</span><span class="ident" id="5237700">field</span><span class="op" id="5237705">[</span><span class="ident" id="5237706">i</span><span class="op" id="5237707">]</span><span class="op" id="5237708">.</span><span class="ident" id="5237709">fmt</span>&nbsp;<span class="op" id="5237713">=</span>&nbsp;<span class="ident" id="5237715">format</span><span class="op" id="5237721">(</span><span class="ident" id="5237722">b</span><span class="op" id="5237723">.</span><span class="builtintype" id="5237724">uint</span><span class="op" id="5237728">(</span><span class="op" id="5237729">)</span><span class="op" id="5237730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5237734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237738">b</span><span class="op" id="5237739">.</span><span class="builtintype" id="5237740">uint</span><span class="op" id="5237744">(</span><span class="op" id="5237745">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237749">b</span><span class="op" id="5237750">.</span><span class="builtintype" id="5237751">uint</span><span class="op" id="5237755">(</span><span class="op" id="5237756">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237761">m</span><span class="op" id="5237762">[</span><span class="ident" id="5237763">id</span><span class="op" id="5237765">]</span>&nbsp;<span class="op" id="5237767">=</span>&nbsp;<span class="ident" id="5237769">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5237772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5237775">if</span>&nbsp;<span class="ident" id="5237778">b</span><span class="op" id="5237779">.</span><span class="ident" id="5237780">err</span>&nbsp;<span class="op" id="5237784">!=</span>&nbsp;<span class="ident" id="5237787">nil</span>&nbsp;<span class="op" id="5237791">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5237795">return</span>&nbsp;<span class="ident" id="5237802">nil</span><span class="op" id="5237805">,</span>&nbsp;<span class="ident" id="5237807">b</span><span class="op" id="5237808">.</span><span class="ident" id="5237809">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5237814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237817">d</span><span class="op" id="5237818">.</span><span class="ident" id="5237819">abbrevCache</span><span class="op" id="5237830">[</span><span class="ident" id="5237831">off</span><span class="op" id="5237834">]</span>&nbsp;<span class="op" id="5237836">=</span>&nbsp;<span class="ident" id="5237838">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5237841">return</span>&nbsp;<span class="ident" id="5237848">m</span><span class="op" id="5237849">,</span>&nbsp;<span class="ident" id="5237851">nil</span><br>
<span class="lineno"></span><span class="op" id="5237855">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="5237858">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attribute/value&nbsp;pairs.</span><br>
<span class="lineno"></span><span class="keyword" id="5237910">type</span>&nbsp;<span class="ident" id="5237915">Entry</span>&nbsp;<span class="keyword" id="5237921">struct</span>&nbsp;<span class="op" id="5237928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237931">Offset</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5237940">Offset</span>&nbsp;<span class="comment" id="5237947">//&nbsp;offset&nbsp;of&nbsp;Entry&nbsp;in&nbsp;DWARF&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5237981">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5237990">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5237997">//&nbsp;tag&nbsp;(kind&nbsp;of&nbsp;Entry)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5238021">Children</span>&nbsp;<span class="builtintype" id="5238030">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5238037">//&nbsp;whether&nbsp;Entry&nbsp;is&nbsp;followed&nbsp;by&nbsp;children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5238079">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5238088">[</span><span class="op" id="5238089">]</span><span class="ident" id="5238090">Field</span><br>
<span class="lineno"></span><span class="op" id="5238096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5238099">//&nbsp;A&nbsp;Field&nbsp;is&nbsp;a&nbsp;single&nbsp;attribute/value&nbsp;pair&nbsp;in&nbsp;an&nbsp;Entry.</span><br>
<span class="lineno">105</span><span class="keyword" id="5238156">type</span>&nbsp;<span class="ident" id="5238161">Field</span>&nbsp;<span class="keyword" id="5238167">struct</span>&nbsp;<span class="op" id="5238174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5238177">Attr</span>&nbsp;<span class="ident" id="5238182">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5238188">Val</span>&nbsp;&nbsp;<span class="keyword" id="5238193">interface</span><span class="op" id="5238202">{</span><span class="op" id="5238203">}</span><br>
<span class="lineno"></span><span class="op" id="5238205">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="5238208">//&nbsp;Val&nbsp;returns&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;attribute&nbsp;Attr&nbsp;in&nbsp;Entry,</span><br>
<span class="lineno"></span><span class="comment" id="5238274">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;attribute.</span><br>
<span class="lineno"></span><span class="comment" id="5238315">//</span><br>
<span class="lineno"></span><span class="comment" id="5238318">//&nbsp;A&nbsp;common&nbsp;idiom&nbsp;is&nbsp;to&nbsp;merge&nbsp;the&nbsp;check&nbsp;for&nbsp;nil&nbsp;return&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5238378">//&nbsp;the&nbsp;check&nbsp;that&nbsp;the&nbsp;value&nbsp;has&nbsp;the&nbsp;expected&nbsp;dynamic&nbsp;type,&nbsp;as&nbsp;in:</span><br>
<span class="lineno">115</span><span class="comment" id="5238444">//&nbsp;&nbsp;&nbsp;&nbspv,&nbsp;ok&nbsp;:=&nbsp;e.Val(AttrSibling).(int64);</span><br>
<span class="lineno"></span><span class="comment" id="5238484">//</span><br>
<span class="lineno"></span><span class="keyword" id="5238487">func</span>&nbsp;<span class="op" id="5238492">(</span><span class="ident" id="5238493">e</span>&nbsp;<span class="op" id="5238495">*</span><span class="ident" id="5238496">Entry</span><span class="op" id="5238501">)</span>&nbsp;<span class="ident" id="5238503">Val</span><span class="op" id="5238506">(</span><span class="ident" id="5238507">a</span>&nbsp;<span class="ident" id="5238509">Attr</span><span class="op" id="5238513">)</span>&nbsp;<span class="keyword" id="5238515">interface</span><span class="op" id="5238524">{</span><span class="op" id="5238525">}</span>&nbsp;<span class="op" id="5238527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5238530">for</span>&nbsp;<span class="ident" id="5238534">_</span><span class="op" id="5238535">,</span>&nbsp;<span class="ident" id="5238537">f</span>&nbsp;<span class="op" id="5238539">:=</span>&nbsp;<span class="keyword" id="5238542">range</span>&nbsp;<span class="ident" id="5238548">e</span><span class="op" id="5238549">.</span><span class="ident" id="5238550">Field</span>&nbsp;<span class="op" id="5238556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5238560">if</span>&nbsp;<span class="ident" id="5238563">f</span><span class="op" id="5238564">.</span><span class="ident" id="5238565">Attr</span>&nbsp;<span class="op" id="5238570">==</span>&nbsp;<span class="ident" id="5238573">a</span>&nbsp;<span class="op" id="5238575">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5238580">return</span>&nbsp;<span class="ident" id="5238587">f</span><span class="op" id="5238588">.</span><span class="ident" id="5238589">Val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5238595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5238598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5238601">return</span>&nbsp;<span class="ident" id="5238608">nil</span><br>
<span class="lineno"></span><span class="op" id="5238612">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="5238615">//&nbsp;An&nbsp;Offset&nbsp;represents&nbsp;the&nbsp;location&nbsp;of&nbsp;an&nbsp;Entry&nbsp;within&nbsp;the&nbsp;DWARF&nbsp;info.</span><br>
<span class="lineno"></span><span class="comment" id="5238687">//&nbsp;(See&nbsp;Reader.Seek.)</span><br>
<span class="lineno"></span><span class="keyword" id="5238709">type</span>&nbsp;<span class="ident" id="5238714">Offset</span>&nbsp;<span class="builtintype" id="5238721">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="5238729">//&nbsp;Entry&nbsp;reads&nbsp;a&nbsp;single&nbsp;entry&nbsp;from&nbsp;buf,&nbsp;decoding</span><br>
<span class="lineno"></span><span class="comment" id="5238778">//&nbsp;according&nbsp;to&nbsp;the&nbsp;given&nbsp;abbreviation&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="5238824">func</span>&nbsp;<span class="op" id="5238829">(</span><span class="ident" id="5238830">b</span>&nbsp;<span class="op" id="5238832">*</span><span class="ident" id="5238833">buf</span><span class="op" id="5238836">)</span>&nbsp;<span class="ident" id="5238838">entry</span><span class="op" id="5238843">(</span><span class="ident" id="5238844">atab</span>&nbsp;<span class="ident" id="5238849">abbrevTable</span><span class="op" id="5238860">,</span>&nbsp;<span class="ident" id="5238862">ubase</span>&nbsp;<span class="ident" id="5238868">Offset</span><span class="op" id="5238874">)</span>&nbsp;<span class="op" id="5238876">*</span><span class="ident" id="5238877">Entry</span>&nbsp;<span class="op" id="5238883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5238886">off</span>&nbsp;<span class="op" id="5238890">:=</span>&nbsp;<span class="ident" id="5238893">b</span><span class="op" id="5238894">.</span><span class="ident" id="5238895">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5238900">id</span>&nbsp;<span class="op" id="5238903">:=</span>&nbsp;<span class="builtintype" id="5238906">uint32</span><span class="op" id="5238912">(</span><span class="ident" id="5238913">b</span><span class="op" id="5238914">.</span><span class="builtintype" id="5238915">uint</span><span class="op" id="5238919">(</span><span class="op" id="5238920">)</span><span class="op" id="5238921">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5238924">if</span>&nbsp;<span class="ident" id="5238927">id</span>&nbsp;<span class="op" id="5238930">==</span>&nbsp;<span class="num" id="5238933">0</span>&nbsp;<span class="op" id="5238935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5238939">return</span>&nbsp;<span class="op" id="5238946">&amp;</span><span class="ident" id="5238947">Entry</span><span class="op" id="5238952">{</span><span class="op" id="5238953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5238956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5238959">a</span><span class="op" id="5238960">,</span>&nbsp;<span class="ident" id="5238962">ok</span>&nbsp;<span class="op" id="5238965">:=</span>&nbsp;<span class="ident" id="5238968">atab</span><span class="op" id="5238972">[</span><span class="ident" id="5238973">id</span><span class="op" id="5238975">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5238978">if</span>&nbsp;<span class="op" id="5238981">!</span><span class="ident" id="5238982">ok</span>&nbsp;<span class="op" id="5238985">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5238989">b</span><span class="op" id="5238990">.</span><span class="builtintype" id="5238991">error</span><span class="op" id="5238996">(</span><span class="string" id="5238997">&#34;unknown&nbsp;abbreviation&nbsp;table&nbsp;index&#34;</span><span class="op" id="5239031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239035">return</span>&nbsp;<span class="ident" id="5239042">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5239047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239050">e</span>&nbsp;<span class="op" id="5239052">:=</span>&nbsp;<span class="op" id="5239055">&amp;</span><span class="ident" id="5239056">Entry</span><span class="op" id="5239061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239065">Offset</span><span class="op" id="5239071">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5239075">off</span><span class="op" id="5239078">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239082">Tag</span><span class="op" id="5239085">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5239092">a</span><span class="op" id="5239093">.</span><span class="ident" id="5239094">tag</span><span class="op" id="5239097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239101">Children</span><span class="op" id="5239109">:</span>&nbsp;<span class="ident" id="5239111">a</span><span class="op" id="5239112">.</span><span class="ident" id="5239113">children</span><span class="op" id="5239121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239125">Field</span><span class="op" id="5239130">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5239135">make</span><span class="op" id="5239139">(</span><span class="op" id="5239140">[</span><span class="op" id="5239141">]</span><span class="ident" id="5239142">Field</span><span class="op" id="5239147">,</span>&nbsp;<span class="builtinfunc" id="5239149">len</span><span class="op" id="5239152">(</span><span class="ident" id="5239153">a</span><span class="op" id="5239154">.</span><span class="ident" id="5239155">field</span><span class="op" id="5239160">)</span><span class="op" id="5239161">)</span><span class="op" id="5239162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5239165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239168">for</span>&nbsp;<span class="ident" id="5239172">i</span>&nbsp;<span class="op" id="5239174">:=</span>&nbsp;<span class="keyword" id="5239177">range</span>&nbsp;<span class="ident" id="5239183">e</span><span class="op" id="5239184">.</span><span class="ident" id="5239185">Field</span>&nbsp;<span class="op" id="5239191">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239195">e</span><span class="op" id="5239196">.</span><span class="ident" id="5239197">Field</span><span class="op" id="5239202">[</span><span class="ident" id="5239203">i</span><span class="op" id="5239204">]</span><span class="op" id="5239205">.</span><span class="ident" id="5239206">Attr</span>&nbsp;<span class="op" id="5239211">=</span>&nbsp;<span class="ident" id="5239213">a</span><span class="op" id="5239214">.</span><span class="ident" id="5239215">field</span><span class="op" id="5239220">[</span><span class="ident" id="5239221">i</span><span class="op" id="5239222">]</span><span class="op" id="5239223">.</span><span class="ident" id="5239224">attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239231">fmt</span>&nbsp;<span class="op" id="5239235">:=</span>&nbsp;<span class="ident" id="5239238">a</span><span class="op" id="5239239">.</span><span class="ident" id="5239240">field</span><span class="op" id="5239245">[</span><span class="ident" id="5239246">i</span><span class="op" id="5239247">]</span><span class="op" id="5239248">.</span><span class="ident" id="5239249">fmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239255">if</span>&nbsp;<span class="ident" id="5239258">fmt</span>&nbsp;<span class="op" id="5239262">==</span>&nbsp;<span class="ident" id="5239265">formIndirect</span>&nbsp;<span class="op" id="5239278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239283">fmt</span>&nbsp;<span class="op" id="5239287">=</span>&nbsp;<span class="ident" id="5239289">format</span><span class="op" id="5239295">(</span><span class="ident" id="5239296">b</span><span class="op" id="5239297">.</span><span class="builtintype" id="5239298">uint</span><span class="op" id="5239302">(</span><span class="op" id="5239303">)</span><span class="op" id="5239304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5239308">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239312">var</span>&nbsp;<span class="ident" id="5239316">val</span>&nbsp;<span class="keyword" id="5239320">interface</span><span class="op" id="5239329">{</span><span class="op" id="5239330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239334">switch</span>&nbsp;<span class="ident" id="5239341">fmt</span>&nbsp;<span class="op" id="5239345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239349">default</span><span class="op" id="5239356">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239361">b</span><span class="op" id="5239362">.</span><span class="builtintype" id="5239363">error</span><span class="op" id="5239368">(</span><span class="string" id="5239369">&#34;unknown&nbsp;entry&nbsp;attr&nbsp;format&nbsp;0x&#34;</span>&nbsp;<span class="op" id="5239400">+</span>&nbsp;<span class="ident" id="5239402">strconv</span><span class="op" id="5239409">.</span><span class="ident" id="5239410">FormatInt</span><span class="op" id="5239419">(</span><span class="ident" id="5239420">int64</span><span class="op" id="5239425">(</span><span class="ident" id="5239426">fmt</span><span class="op" id="5239429">)</span><span class="op" id="5239430">,</span>&nbsp;<span class="num" id="5239432">16</span><span class="op" id="5239434">)</span><span class="op" id="5239435">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5239440">//&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239453">case</span>&nbsp;<span class="ident" id="5239458">formAddr</span><span class="op" id="5239466">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239471">val</span>&nbsp;<span class="op" id="5239475">=</span>&nbsp;<span class="ident" id="5239477">b</span><span class="op" id="5239478">.</span><span class="ident" id="5239479">addr</span><span class="op" id="5239483">(</span><span class="op" id="5239484">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5239489">//&nbsp;block</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239500">case</span>&nbsp;<span class="ident" id="5239505">formDwarfBlock1</span><span class="op" id="5239520">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239525">val</span>&nbsp;<span class="op" id="5239529">=</span>&nbsp;<span class="ident" id="5239531">b</span><span class="op" id="5239532">.</span><span class="ident" id="5239533">bytes</span><span class="op" id="5239538">(</span><span class="builtintype" id="5239539">int</span><span class="op" id="5239542">(</span><span class="ident" id="5239543">b</span><span class="op" id="5239544">.</span><span class="builtintype" id="5239545">uint8</span><span class="op" id="5239550">(</span><span class="op" id="5239551">)</span><span class="op" id="5239552">)</span><span class="op" id="5239553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239557">case</span>&nbsp;<span class="ident" id="5239562">formDwarfBlock2</span><span class="op" id="5239577">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239582">val</span>&nbsp;<span class="op" id="5239586">=</span>&nbsp;<span class="ident" id="5239588">b</span><span class="op" id="5239589">.</span><span class="ident" id="5239590">bytes</span><span class="op" id="5239595">(</span><span class="builtintype" id="5239596">int</span><span class="op" id="5239599">(</span><span class="ident" id="5239600">b</span><span class="op" id="5239601">.</span><span class="builtintype" id="5239602">uint16</span><span class="op" id="5239608">(</span><span class="op" id="5239609">)</span><span class="op" id="5239610">)</span><span class="op" id="5239611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239615">case</span>&nbsp;<span class="ident" id="5239620">formDwarfBlock4</span><span class="op" id="5239635">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239640">val</span>&nbsp;<span class="op" id="5239644">=</span>&nbsp;<span class="ident" id="5239646">b</span><span class="op" id="5239647">.</span><span class="ident" id="5239648">bytes</span><span class="op" id="5239653">(</span><span class="builtintype" id="5239654">int</span><span class="op" id="5239657">(</span><span class="ident" id="5239658">b</span><span class="op" id="5239659">.</span><span class="builtintype" id="5239660">uint32</span><span class="op" id="5239666">(</span><span class="op" id="5239667">)</span><span class="op" id="5239668">)</span><span class="op" id="5239669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239673">case</span>&nbsp;<span class="ident" id="5239678">formDwarfBlock</span><span class="op" id="5239692">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239697">val</span>&nbsp;<span class="op" id="5239701">=</span>&nbsp;<span class="ident" id="5239703">b</span><span class="op" id="5239704">.</span><span class="ident" id="5239705">bytes</span><span class="op" id="5239710">(</span><span class="builtintype" id="5239711">int</span><span class="op" id="5239714">(</span><span class="ident" id="5239715">b</span><span class="op" id="5239716">.</span><span class="builtintype" id="5239717">uint</span><span class="op" id="5239721">(</span><span class="op" id="5239722">)</span><span class="op" id="5239723">)</span><span class="op" id="5239724">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5239729">//&nbsp;constant</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239743">case</span>&nbsp;<span class="ident" id="5239748">formData1</span><span class="op" id="5239757">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239762">val</span>&nbsp;<span class="op" id="5239766">=</span>&nbsp;<span class="ident" id="5239768">int64</span><span class="op" id="5239773">(</span><span class="ident" id="5239774">b</span><span class="op" id="5239775">.</span><span class="builtintype" id="5239776">uint8</span><span class="op" id="5239781">(</span><span class="op" id="5239782">)</span><span class="op" id="5239783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239787">case</span>&nbsp;<span class="ident" id="5239792">formData2</span><span class="op" id="5239801">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239806">val</span>&nbsp;<span class="op" id="5239810">=</span>&nbsp;<span class="ident" id="5239812">int64</span><span class="op" id="5239817">(</span><span class="ident" id="5239818">b</span><span class="op" id="5239819">.</span><span class="builtintype" id="5239820">uint16</span><span class="op" id="5239826">(</span><span class="op" id="5239827">)</span><span class="op" id="5239828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239832">case</span>&nbsp;<span class="ident" id="5239837">formData4</span><span class="op" id="5239846">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239851">val</span>&nbsp;<span class="op" id="5239855">=</span>&nbsp;<span class="ident" id="5239857">int64</span><span class="op" id="5239862">(</span><span class="ident" id="5239863">b</span><span class="op" id="5239864">.</span><span class="builtintype" id="5239865">uint32</span><span class="op" id="5239871">(</span><span class="op" id="5239872">)</span><span class="op" id="5239873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239877">case</span>&nbsp;<span class="ident" id="5239882">formData8</span><span class="op" id="5239891">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239896">val</span>&nbsp;<span class="op" id="5239900">=</span>&nbsp;<span class="ident" id="5239902">int64</span><span class="op" id="5239907">(</span><span class="ident" id="5239908">b</span><span class="op" id="5239909">.</span><span class="ident" id="5239910">uint64</span><span class="op" id="5239916">(</span><span class="op" id="5239917">)</span><span class="op" id="5239918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239922">case</span>&nbsp;<span class="ident" id="5239927">formSdata</span><span class="op" id="5239936">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239941">val</span>&nbsp;<span class="op" id="5239945">=</span>&nbsp;<span class="ident" id="5239947">int64</span><span class="op" id="5239952">(</span><span class="ident" id="5239953">b</span><span class="op" id="5239954">.</span><span class="builtintype" id="5239955">int</span><span class="op" id="5239958">(</span><span class="op" id="5239959">)</span><span class="op" id="5239960">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5239964">case</span>&nbsp;<span class="ident" id="5239969">formUdata</span><span class="op" id="5239978">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5239983">val</span>&nbsp;<span class="op" id="5239987">=</span>&nbsp;<span class="ident" id="5239989">int64</span><span class="op" id="5239994">(</span><span class="ident" id="5239995">b</span><span class="op" id="5239996">.</span><span class="builtintype" id="5239997">uint</span><span class="op" id="5240001">(</span><span class="op" id="5240002">)</span><span class="op" id="5240003">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5240008">//&nbsp;flag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5240018">case</span>&nbsp;<span class="ident" id="5240023">formFlag</span><span class="op" id="5240031">:</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5240036">val</span>&nbsp;<span class="op" id="5240040">=</span>&nbsp;<span class="ident" id="5240042">b</span><span class="op" id="5240043">.</span><span class="builtintype" id="5240044">uint8</span><span class="op" id="5240049">(</span><span class="op" id="5240050">)</span>&nbsp;<span class="op" id="5240052">==</span>&nbsp;<span class="num" id="5240055">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5240059">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5240080">case</span>&nbsp;<span class="ident" id="5240085">formFlagPresent</span><span class="op" id="5240100">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5240105">//&nbsp;The&nbsp;attribute&nbsp;is&nbsp;implicitly&nbsp;indicated&nbsp;as&nbsp;present,&nbsp;and&nbsp;no&nbsp;value&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5240177">//&nbsp;encoded&nbsp;in&nbsp;the&nbsp;debugging&nbsp;information&nbsp;entry&nbsp;itself.</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5240234">val</span>&nbsp;<span class="op" id="5240238">=</span>&nbsp;<span class="builtintype" id="5240240">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5240248">//&nbsp;reference&nbsp;to&nbsp;other&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5240278">case</span>&nbsp;<span class="ident" id="5240283">formRefAddr</span><span class="op" id="5240294">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5240299">vers</span>&nbsp;<span class="op" id="5240304">:=</span>&nbsp;<span class="ident" id="5240307">b</span><span class="op" id="5240308">.</span><span class="ident" id="5240309">format</span><span class="op" id="5240315">.</span><span class="ident" id="5240316">version</span><span class="op" id="5240323">(</span><span class="op" id="5240324">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5240329">if</span>&nbsp;<span class="ident" id="5240332">vers</span>&nbsp;<span class="op" id="5240337">==</span>&nbsp;<span class="num" id="5240340">0</span>&nbsp;<span class="op" id="5240342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5240348">b</span><span class="op" id="5240349">.</span><span class="builtintype" id="5240350">error</span><span class="op" id="5240355">(</span><span class="string" id="5240356">&#34;unknown&nbsp;version&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="5240394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5240399">}</span>&nbsp;<span class="keyword" id="5240401">else</span>&nbsp;<span class="keyword" id="5240406">if</span>&nbsp;<span class="ident" id="5240409">vers</span>&nbsp;<span class="op" id="5240414">==</span>&nbsp;<span class="num" id="5240417">2</span>&nbsp;<span class="op" id="5240419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5240425">val</span>&nbsp;<span class="op" id="5240429">=</span>&nbsp;<span class="ident" id="5240431">Offset</span><span class="op" id="5240437">(</span><span class="ident" id="5240438">b</span><span class="op" id="5240439">.</span><span class="ident" id="5240440">addr</span><span class="op" id="5240444">(</span><span class="op" id="5240445">)</span><span class="op" id="5240446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5240451">}</span>&nbsp;<span class="keyword" id="5240453">else</span>&nbsp;<span class="op" id="5240458">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5240464">is64</span><span class="op" id="5240468">,</span>&nbsp;<span class="ident" id="5240470">known</span>&nbsp;<span class="op" id="5240476">:=</span>&nbsp;<span class="ident" id="5240479">b</span><span class="op" id="5240480">.</span><span class="ident" id="5240481">format</span><span class="op" id="5240487">.</span><span class="ident" id="5240488">dwarf64</span><span class="op" id="5240495">(</span><span class="op" id="5240496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5240502">if</span>&nbsp;<span class="op" id="5240505">!</span><span class="ident" id="5240506">known</span>&nbsp;<span class="op" id="5240512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5240519">b</span><span class="op" id="5240520">.</span><span class="builtintype" id="5240521">error</span><span class="op" id="5240526">(</span><span class="string" id="5240527">&#34;unknown&nbsp;size&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="5240562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5240568">}</span>&nbsp;<span class="keyword" id="5240570">else</span>&nbsp;<span class="keyword" id="5240575">if</span>&nbsp;<span class="ident" id="5240578">is64</span>&nbsp;<span class="op" id="5240583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5240590">val</span>&nbsp;<span class="op" id="5240594">=</span>&nbsp;<span class="ident" id="5240596">Offset</span><span class="op" id="5240602">(</span><span class="ident" id="5240603">b</span><span class="op" id="5240604">.</span><span class="ident" id="5240605">uint64</span><span class="op" id="5240611">(</span><span class="op" id="5240612">)</span><span class="op" id="5240613">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5240619">}</span>&nbsp;<span class="keyword" id="5240621">else</span>&nbsp;<span class="op" id="5240626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5240633">val</span>&nbsp;<span class="op" id="5240637">=</span>&nbsp;<span class="ident" id="5240639">Offset</span><span class="op" id="5240645">(</span><span class="ident" id="5240646">b</span><span class="op" id="5240647">.</span><span class="builtintype" id="5240648">uint32</span><span class="op" id="5240654">(</span><span class="op" id="5240655">)</span><span class="op" id="5240656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5240662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5240667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5240671">case</span>&nbsp;<span class="ident" id="5240676">formRef1</span><span class="op" id="5240684">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5240689">val</span>&nbsp;<span class="op" id="5240693">=</span>&nbsp;<span class="ident" id="5240695">Offset</span><span class="op" id="5240701">(</span><span class="ident" id="5240702">b</span><span class="op" id="5240703">.</span><span class="builtintype" id="5240704">uint8</span><span class="op" id="5240709">(</span><span class="op" id="5240710">)</span><span class="op" id="5240711">)</span>&nbsp;<span class="op" id="5240713">+</span>&nbsp;<span class="ident" id="5240715">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5240723">case</span>&nbsp;<span class="ident" id="5240728">formRef2</span><span class="op" id="5240736">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5240741">val</span>&nbsp;<span class="op" id="5240745">=</span>&nbsp;<span class="ident" id="5240747">Offset</span><span class="op" id="5240753">(</span><span class="ident" id="5240754">b</span><span class="op" id="5240755">.</span><span class="builtintype" id="5240756">uint16</span><span class="op" id="5240762">(</span><span class="op" id="5240763">)</span><span class="op" id="5240764">)</span>&nbsp;<span class="op" id="5240766">+</span>&nbsp;<span class="ident" id="5240768">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5240776">case</span>&nbsp;<span class="ident" id="5240781">formRef4</span><span class="op" id="5240789">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5240794">val</span>&nbsp;<span class="op" id="5240798">=</span>&nbsp;<span class="ident" id="5240800">Offset</span><span class="op" id="5240806">(</span><span class="ident" id="5240807">b</span><span class="op" id="5240808">.</span><span class="builtintype" id="5240809">uint32</span><span class="op" id="5240815">(</span><span class="op" id="5240816">)</span><span class="op" id="5240817">)</span>&nbsp;<span class="op" id="5240819">+</span>&nbsp;<span class="ident" id="5240821">ubase</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5240829">case</span>&nbsp;<span class="ident" id="5240834">formRef8</span><span class="op" id="5240842">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5240847">val</span>&nbsp;<span class="op" id="5240851">=</span>&nbsp;<span class="ident" id="5240853">Offset</span><span class="op" id="5240859">(</span><span class="ident" id="5240860">b</span><span class="op" id="5240861">.</span><span class="ident" id="5240862">uint64</span><span class="op" id="5240868">(</span><span class="op" id="5240869">)</span><span class="op" id="5240870">)</span>&nbsp;<span class="op" id="5240872">+</span>&nbsp;<span class="ident" id="5240874">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5240882">case</span>&nbsp;<span class="ident" id="5240887">formRefUdata</span><span class="op" id="5240899">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5240904">val</span>&nbsp;<span class="op" id="5240908">=</span>&nbsp;<span class="ident" id="5240910">Offset</span><span class="op" id="5240916">(</span><span class="ident" id="5240917">b</span><span class="op" id="5240918">.</span><span class="builtintype" id="5240919">uint</span><span class="op" id="5240923">(</span><span class="op" id="5240924">)</span><span class="op" id="5240925">)</span>&nbsp;<span class="op" id="5240927">+</span>&nbsp;<span class="ident" id="5240929">ubase</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5240938">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5240950">case</span>&nbsp;<span class="ident" id="5240955">formString</span><span class="op" id="5240965">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5240970">val</span>&nbsp;<span class="op" id="5240974">=</span>&nbsp;<span class="ident" id="5240976">b</span><span class="op" id="5240977">.</span><span class="builtintype" id="5240978">string</span><span class="op" id="5240984">(</span><span class="op" id="5240985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5240989">case</span>&nbsp;<span class="ident" id="5240994">formStrp</span><span class="op" id="5241002">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5241007">off</span>&nbsp;<span class="op" id="5241011">:=</span>&nbsp;<span class="ident" id="5241014">b</span><span class="op" id="5241015">.</span><span class="builtintype" id="5241016">uint32</span><span class="op" id="5241022">(</span><span class="op" id="5241023">)</span>&nbsp;<span class="comment" id="5241025">//&nbsp;offset&nbsp;into&nbsp;.debug_str</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5241054">if</span>&nbsp;<span class="ident" id="5241057">b</span><span class="op" id="5241058">.</span><span class="ident" id="5241059">err</span>&nbsp;<span class="op" id="5241063">!=</span>&nbsp;<span class="ident" id="5241066">nil</span>&nbsp;<span class="op" id="5241070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5241076">return</span>&nbsp;<span class="ident" id="5241083">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5241090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5241095">b1</span>&nbsp;<span class="op" id="5241098">:=</span>&nbsp;<span class="ident" id="5241101">makeBuf</span><span class="op" id="5241108">(</span><span class="ident" id="5241109">b</span><span class="op" id="5241110">.</span><span class="ident" id="5241111">dwarf</span><span class="op" id="5241116">,</span>&nbsp;<span class="ident" id="5241118">unknownFormat</span><span class="op" id="5241131">{</span><span class="op" id="5241132">}</span><span class="op" id="5241133">,</span>&nbsp;<span class="string" id="5241135">&#34;str&#34;</span><span class="op" id="5241140">,</span>&nbsp;<span class="num" id="5241142">0</span><span class="op" id="5241143">,</span>&nbsp;<span class="ident" id="5241145">b</span><span class="op" id="5241146">.</span><span class="ident" id="5241147">dwarf</span><span class="op" id="5241152">.</span><span class="ident" id="5241153">str</span><span class="op" id="5241156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5241161">b1</span><span class="op" id="5241163">.</span><span class="ident" id="5241164">skip</span><span class="op" id="5241168">(</span><span class="builtintype" id="5241169">int</span><span class="op" id="5241172">(</span><span class="ident" id="5241173">off</span><span class="op" id="5241176">)</span><span class="op" id="5241177">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5241182">val</span>&nbsp;<span class="op" id="5241186">=</span>&nbsp;<span class="ident" id="5241188">b1</span><span class="op" id="5241190">.</span><span class="builtintype" id="5241191">string</span><span class="op" id="5241197">(</span><span class="op" id="5241198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5241203">if</span>&nbsp;<span class="ident" id="5241206">b1</span><span class="op" id="5241208">.</span><span class="ident" id="5241209">err</span>&nbsp;<span class="op" id="5241213">!=</span>&nbsp;<span class="ident" id="5241216">nil</span>&nbsp;<span class="op" id="5241220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5241226">b</span><span class="op" id="5241227">.</span><span class="ident" id="5241228">err</span>&nbsp;<span class="op" id="5241232">=</span>&nbsp;<span class="ident" id="5241234">b1</span><span class="op" id="5241236">.</span><span class="ident" id="5241237">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5241245">return</span>&nbsp;<span class="ident" id="5241252">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5241259">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5241264">//&nbsp;lineptr,&nbsp;loclistptr,&nbsp;macptr,&nbsp;rangelistptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5241311">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4,&nbsp;but&nbsp;clang&nbsp;can&nbsp;generate&nbsp;them&nbsp;with&nbsp;-gdwarf-2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5241376">//&nbsp;Section&nbsp;reference,&nbsp;replacing&nbsp;use&nbsp;of&nbsp;formData4&nbsp;and&nbsp;formData8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5241442">case</span>&nbsp;<span class="ident" id="5241447">formSecOffset</span><span class="op" id="5241460">,</span>&nbsp;<span class="ident" id="5241462">formGnuRefAlt</span><span class="op" id="5241475">,</span>&nbsp;<span class="ident" id="5241477">formGnuStrpAlt</span><span class="op" id="5241491">:</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5241496">is64</span><span class="op" id="5241500">,</span>&nbsp;<span class="ident" id="5241502">known</span>&nbsp;<span class="op" id="5241508">:=</span>&nbsp;<span class="ident" id="5241511">b</span><span class="op" id="5241512">.</span><span class="ident" id="5241513">format</span><span class="op" id="5241519">.</span><span class="ident" id="5241520">dwarf64</span><span class="op" id="5241527">(</span><span class="op" id="5241528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5241533">if</span>&nbsp;<span class="op" id="5241536">!</span><span class="ident" id="5241537">known</span>&nbsp;<span class="op" id="5241543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5241549">b</span><span class="op" id="5241550">.</span><span class="builtintype" id="5241551">error</span><span class="op" id="5241556">(</span><span class="string" id="5241557">&#34;unknown&nbsp;size&nbsp;for&nbsp;form&nbsp;0x&#34;</span>&nbsp;<span class="op" id="5241584">+</span>&nbsp;<span class="ident" id="5241586">strconv</span><span class="op" id="5241593">.</span><span class="ident" id="5241594">FormatInt</span><span class="op" id="5241603">(</span><span class="ident" id="5241604">int64</span><span class="op" id="5241609">(</span><span class="ident" id="5241610">fmt</span><span class="op" id="5241613">)</span><span class="op" id="5241614">,</span>&nbsp;<span class="num" id="5241616">16</span><span class="op" id="5241618">)</span><span class="op" id="5241619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5241624">}</span>&nbsp;<span class="keyword" id="5241626">else</span>&nbsp;<span class="keyword" id="5241631">if</span>&nbsp;<span class="ident" id="5241634">is64</span>&nbsp;<span class="op" id="5241639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5241645">val</span>&nbsp;<span class="op" id="5241649">=</span>&nbsp;<span class="ident" id="5241651">int64</span><span class="op" id="5241656">(</span><span class="ident" id="5241657">b</span><span class="op" id="5241658">.</span><span class="ident" id="5241659">uint64</span><span class="op" id="5241665">(</span><span class="op" id="5241666">)</span><span class="op" id="5241667">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5241672">}</span>&nbsp;<span class="keyword" id="5241674">else</span>&nbsp;<span class="op" id="5241679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5241685">val</span>&nbsp;<span class="op" id="5241689">=</span>&nbsp;<span class="ident" id="5241691">int64</span><span class="op" id="5241696">(</span><span class="ident" id="5241697">b</span><span class="op" id="5241698">.</span><span class="builtintype" id="5241699">uint32</span><span class="op" id="5241705">(</span><span class="op" id="5241706">)</span><span class="op" id="5241707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5241712">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5241717">//&nbsp;exprloc</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5241730">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5241751">case</span>&nbsp;<span class="ident" id="5241756">formExprloc</span><span class="op" id="5241767">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5241772">val</span>&nbsp;<span class="op" id="5241776">=</span>&nbsp;<span class="ident" id="5241778">b</span><span class="op" id="5241779">.</span><span class="ident" id="5241780">bytes</span><span class="op" id="5241785">(</span><span class="builtintype" id="5241786">int</span><span class="op" id="5241789">(</span><span class="ident" id="5241790">b</span><span class="op" id="5241791">.</span><span class="builtintype" id="5241792">uint</span><span class="op" id="5241796">(</span><span class="op" id="5241797">)</span><span class="op" id="5241798">)</span><span class="op" id="5241799">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5241804">//&nbsp;reference</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5241819">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5241840">case</span>&nbsp;<span class="ident" id="5241845">formRefSig8</span><span class="op" id="5241856">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5241861">//&nbsp;64-bit&nbsp;type&nbsp;signature.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5241890">val</span>&nbsp;<span class="op" id="5241894">=</span>&nbsp;<span class="ident" id="5241896">b</span><span class="op" id="5241897">.</span><span class="ident" id="5241898">uint64</span><span class="op" id="5241904">(</span><span class="op" id="5241905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5241909">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5241913">e</span><span class="op" id="5241914">.</span><span class="ident" id="5241915">Field</span><span class="op" id="5241920">[</span><span class="ident" id="5241921">i</span><span class="op" id="5241922">]</span><span class="op" id="5241923">.</span><span class="ident" id="5241924">Val</span>&nbsp;<span class="op" id="5241928">=</span>&nbsp;<span class="ident" id="5241930">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5241935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5241938">if</span>&nbsp;<span class="ident" id="5241941">b</span><span class="op" id="5241942">.</span><span class="ident" id="5241943">err</span>&nbsp;<span class="op" id="5241947">!=</span>&nbsp;<span class="ident" id="5241950">nil</span>&nbsp;<span class="op" id="5241954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5241958">return</span>&nbsp;<span class="ident" id="5241965">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5241970">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5241973">return</span>&nbsp;<span class="ident" id="5241980">e</span><br>
<span class="lineno"></span><span class="op" id="5241982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5241985">//&nbsp;A&nbsp;Reader&nbsp;allows&nbsp;reading&nbsp;Entry&nbsp;structures&nbsp;from&nbsp;a&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="5242060">//&nbsp;The&nbsp;Entry&nbsp;structures&nbsp;are&nbsp;arranged&nbsp;in&nbsp;a&nbsp;tree.&nbsp;&nbsp;The&nbsp;Reader&#39;s&nbsp;Next&nbsp;function</span><br>
<span class="lineno">275</span><span class="comment" id="5242136">//&nbsp;return&nbsp;successive&nbsp;entries&nbsp;from&nbsp;a&nbsp;pre-order&nbsp;traversal&nbsp;of&nbsp;the&nbsp;tree.</span><br>
<span class="lineno"></span><span class="comment" id="5242205">//&nbsp;If&nbsp;an&nbsp;entry&nbsp;has&nbsp;children,&nbsp;its&nbsp;Children&nbsp;field&nbsp;will&nbsp;be&nbsp;true,&nbsp;and&nbsp;the&nbsp;children</span><br>
<span class="lineno"></span><span class="comment" id="5242284">//&nbsp;follow,&nbsp;terminated&nbsp;by&nbsp;an&nbsp;Entry&nbsp;with&nbsp;Tag&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="5242330">type</span>&nbsp;<span class="ident" id="5242335">Reader</span>&nbsp;<span class="keyword" id="5242342">struct</span>&nbsp;<span class="op" id="5242349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5242352">b</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5242365">buf</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5242370">d</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5242383">*</span><span class="ident" id="5242384">Data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5242390">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5242403">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5242410">unit</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5242423">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5242428">lastChildren</span>&nbsp;<span class="builtintype" id="5242441">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5242448">//&nbsp;.Children&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5242493">lastSibling</span>&nbsp;&nbsp;<span class="ident" id="5242506">Offset</span>&nbsp;<span class="comment" id="5242513">//&nbsp;.Val(AttrSibling)&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno">285</span><span class="op" id="5242565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5242568">//&nbsp;Reader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;for&nbsp;Data.</span><br>
<span class="lineno"></span><span class="comment" id="5242609">//&nbsp;The&nbsp;reader&nbsp;is&nbsp;positioned&nbsp;at&nbsp;byte&nbsp;offset&nbsp;0&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5242685">func</span>&nbsp;<span class="op" id="5242690">(</span><span class="ident" id="5242691">d</span>&nbsp;<span class="op" id="5242693">*</span><span class="ident" id="5242694">Data</span><span class="op" id="5242698">)</span>&nbsp;<span class="ident" id="5242700">Reader</span><span class="op" id="5242706">(</span><span class="op" id="5242707">)</span>&nbsp;<span class="op" id="5242709">*</span><span class="ident" id="5242710">Reader</span>&nbsp;<span class="op" id="5242717">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5242720">r</span>&nbsp;<span class="op" id="5242722">:=</span>&nbsp;<span class="op" id="5242725">&amp;</span><span class="ident" id="5242726">Reader</span><span class="op" id="5242732">{</span><span class="ident" id="5242733">d</span><span class="op" id="5242734">:</span>&nbsp;<span class="ident" id="5242736">d</span><span class="op" id="5242737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5242740">r</span><span class="op" id="5242741">.</span><span class="ident" id="5242742">Seek</span><span class="op" id="5242746">(</span><span class="num" id="5242747">0</span><span class="op" id="5242748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5242751">return</span>&nbsp;<span class="ident" id="5242758">r</span><br>
<span class="lineno"></span><span class="op" id="5242760">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="comment" id="5242763">//&nbsp;Seek&nbsp;positions&nbsp;the&nbsp;Reader&nbsp;at&nbsp;offset&nbsp;off&nbsp;in&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno"></span><span class="comment" id="5242835">//&nbsp;Offset&nbsp;0&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;denote&nbsp;the&nbsp;first&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="5242886">func</span>&nbsp;<span class="op" id="5242891">(</span><span class="ident" id="5242892">r</span>&nbsp;<span class="op" id="5242894">*</span><span class="ident" id="5242895">Reader</span><span class="op" id="5242901">)</span>&nbsp;<span class="ident" id="5242903">Seek</span><span class="op" id="5242907">(</span><span class="ident" id="5242908">off</span>&nbsp;<span class="ident" id="5242912">Offset</span><span class="op" id="5242918">)</span>&nbsp;<span class="op" id="5242920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5242923">d</span>&nbsp;<span class="op" id="5242925">:=</span>&nbsp;<span class="ident" id="5242928">r</span><span class="op" id="5242929">.</span><span class="ident" id="5242930">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5242933">r</span><span class="op" id="5242934">.</span><span class="ident" id="5242935">err</span>&nbsp;<span class="op" id="5242939">=</span>&nbsp;<span class="ident" id="5242941">nil</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5242946">r</span><span class="op" id="5242947">.</span><span class="ident" id="5242948">lastChildren</span>&nbsp;<span class="op" id="5242961">=</span>&nbsp;<span class="builtintype" id="5242963">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5242970">if</span>&nbsp;<span class="ident" id="5242973">off</span>&nbsp;<span class="op" id="5242977">==</span>&nbsp;<span class="num" id="5242980">0</span>&nbsp;<span class="op" id="5242982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5242986">if</span>&nbsp;<span class="builtinfunc" id="5242989">len</span><span class="op" id="5242992">(</span><span class="ident" id="5242993">d</span><span class="op" id="5242994">.</span><span class="ident" id="5242995">unit</span><span class="op" id="5242999">)</span>&nbsp;<span class="op" id="5243001">==</span>&nbsp;<span class="num" id="5243004">0</span>&nbsp;<span class="op" id="5243006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5243011">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5243020">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5243024">u</span>&nbsp;<span class="op" id="5243026">:=</span>&nbsp;<span class="op" id="5243029">&amp;</span><span class="ident" id="5243030">d</span><span class="op" id="5243031">.</span><span class="ident" id="5243032">unit</span><span class="op" id="5243036">[</span><span class="num" id="5243037">0</span><span class="op" id="5243038">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5243042">r</span><span class="op" id="5243043">.</span><span class="ident" id="5243044">unit</span>&nbsp;<span class="op" id="5243049">=</span>&nbsp;<span class="num" id="5243051">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5243055">r</span><span class="op" id="5243056">.</span><span class="ident" id="5243057">b</span>&nbsp;<span class="op" id="5243059">=</span>&nbsp;<span class="ident" id="5243061">makeBuf</span><span class="op" id="5243068">(</span><span class="ident" id="5243069">r</span><span class="op" id="5243070">.</span><span class="ident" id="5243071">d</span><span class="op" id="5243072">,</span>&nbsp;<span class="ident" id="5243074">u</span><span class="op" id="5243075">,</span>&nbsp;<span class="string" id="5243077">&#34;info&#34;</span><span class="op" id="5243083">,</span>&nbsp;<span class="ident" id="5243085">u</span><span class="op" id="5243086">.</span><span class="ident" id="5243087">off</span><span class="op" id="5243090">,</span>&nbsp;<span class="ident" id="5243092">u</span><span class="op" id="5243093">.</span><span class="ident" id="5243094">data</span><span class="op" id="5243098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5243102">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5243110">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5243114">//&nbsp;TODO(rsc):&nbsp;binary&nbsp;search&nbsp;(maybe&nbsp;a&nbsp;new&nbsp;package)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5243165">var</span>&nbsp;<span class="ident" id="5243169">i</span>&nbsp;<span class="builtintype" id="5243171">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5243176">var</span>&nbsp;<span class="ident" id="5243180">u</span>&nbsp;<span class="op" id="5243182">*</span><span class="ident" id="5243183">unit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5243189">for</span>&nbsp;<span class="ident" id="5243193">i</span>&nbsp;<span class="op" id="5243195">=</span>&nbsp;<span class="keyword" id="5243197">range</span>&nbsp;<span class="ident" id="5243203">d</span><span class="op" id="5243204">.</span><span class="ident" id="5243205">unit</span>&nbsp;<span class="op" id="5243210">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5243214">u</span>&nbsp;<span class="op" id="5243216">=</span>&nbsp;<span class="op" id="5243218">&amp;</span><span class="ident" id="5243219">d</span><span class="op" id="5243220">.</span><span class="ident" id="5243221">unit</span><span class="op" id="5243225">[</span><span class="ident" id="5243226">i</span><span class="op" id="5243227">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5243231">if</span>&nbsp;<span class="ident" id="5243234">u</span><span class="op" id="5243235">.</span><span class="ident" id="5243236">off</span>&nbsp;<span class="op" id="5243240">&lt;=</span>&nbsp;<span class="ident" id="5243243">off</span>&nbsp;<span class="op" id="5243247">&amp;&amp;</span>&nbsp;<span class="ident" id="5243250">off</span>&nbsp;<span class="op" id="5243254">&lt;</span>&nbsp;<span class="ident" id="5243256">u</span><span class="op" id="5243257">.</span><span class="ident" id="5243258">off</span><span class="op" id="5243261">+</span><span class="ident" id="5243262">Offset</span><span class="op" id="5243268">(</span><span class="builtinfunc" id="5243269">len</span><span class="op" id="5243272">(</span><span class="ident" id="5243273">u</span><span class="op" id="5243274">.</span><span class="ident" id="5243275">data</span><span class="op" id="5243279">)</span><span class="op" id="5243280">)</span>&nbsp;<span class="op" id="5243282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5243287">r</span><span class="op" id="5243288">.</span><span class="ident" id="5243289">unit</span>&nbsp;<span class="op" id="5243294">=</span>&nbsp;<span class="ident" id="5243296">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5243301">r</span><span class="op" id="5243302">.</span><span class="ident" id="5243303">b</span>&nbsp;<span class="op" id="5243305">=</span>&nbsp;<span class="ident" id="5243307">makeBuf</span><span class="op" id="5243314">(</span><span class="ident" id="5243315">r</span><span class="op" id="5243316">.</span><span class="ident" id="5243317">d</span><span class="op" id="5243318">,</span>&nbsp;<span class="ident" id="5243320">u</span><span class="op" id="5243321">,</span>&nbsp;<span class="string" id="5243323">&#34;info&#34;</span><span class="op" id="5243329">,</span>&nbsp;<span class="ident" id="5243331">off</span><span class="op" id="5243334">,</span>&nbsp;<span class="ident" id="5243336">u</span><span class="op" id="5243337">.</span><span class="ident" id="5243338">data</span><span class="op" id="5243342">[</span><span class="ident" id="5243343">off</span><span class="op" id="5243346">-</span><span class="ident" id="5243347">u</span><span class="op" id="5243348">.</span><span class="ident" id="5243349">off</span><span class="op" id="5243352">:</span><span class="op" id="5243353">]</span><span class="op" id="5243354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5243359">return</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5243368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5243371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5243374">r</span><span class="op" id="5243375">.</span><span class="ident" id="5243376">err</span>&nbsp;<span class="op" id="5243380">=</span>&nbsp;<span class="ident" id="5243382">errors</span><span class="op" id="5243388">.</span><span class="ident" id="5243389">New</span><span class="op" id="5243392">(</span><span class="string" id="5243393">&#34;offset&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="5243414">)</span><br>
<span class="lineno"></span><span class="op" id="5243416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span><span class="comment" id="5243419">//&nbsp;maybeNextUnit&nbsp;advances&nbsp;to&nbsp;the&nbsp;next&nbsp;unit&nbsp;if&nbsp;this&nbsp;one&nbsp;is&nbsp;finished.</span><br>
<span class="lineno"></span><span class="keyword" id="5243487">func</span>&nbsp;<span class="op" id="5243492">(</span><span class="ident" id="5243493">r</span>&nbsp;<span class="op" id="5243495">*</span><span class="ident" id="5243496">Reader</span><span class="op" id="5243502">)</span>&nbsp;<span class="ident" id="5243504">maybeNextUnit</span><span class="op" id="5243517">(</span><span class="op" id="5243518">)</span>&nbsp;<span class="op" id="5243520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5243523">for</span>&nbsp;<span class="builtinfunc" id="5243527">len</span><span class="op" id="5243530">(</span><span class="ident" id="5243531">r</span><span class="op" id="5243532">.</span><span class="ident" id="5243533">b</span><span class="op" id="5243534">.</span><span class="ident" id="5243535">data</span><span class="op" id="5243539">)</span>&nbsp;<span class="op" id="5243541">==</span>&nbsp;<span class="num" id="5243544">0</span>&nbsp;<span class="op" id="5243546">&amp;&amp;</span>&nbsp;<span class="ident" id="5243549">r</span><span class="op" id="5243550">.</span><span class="ident" id="5243551">unit</span><span class="op" id="5243555">+</span><span class="num" id="5243556">1</span>&nbsp;<span class="op" id="5243558">&lt;</span>&nbsp;<span class="builtinfunc" id="5243560">len</span><span class="op" id="5243563">(</span><span class="ident" id="5243564">r</span><span class="op" id="5243565">.</span><span class="ident" id="5243566">d</span><span class="op" id="5243567">.</span><span class="ident" id="5243568">unit</span><span class="op" id="5243572">)</span>&nbsp;<span class="op" id="5243574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5243578">r</span><span class="op" id="5243579">.</span><span class="ident" id="5243580">unit</span><span class="op" id="5243584">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5243589">u</span>&nbsp;<span class="op" id="5243591">:=</span>&nbsp;<span class="op" id="5243594">&amp;</span><span class="ident" id="5243595">r</span><span class="op" id="5243596">.</span><span class="ident" id="5243597">d</span><span class="op" id="5243598">.</span><span class="ident" id="5243599">unit</span><span class="op" id="5243603">[</span><span class="ident" id="5243604">r</span><span class="op" id="5243605">.</span><span class="ident" id="5243606">unit</span><span class="op" id="5243610">]</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5243614">r</span><span class="op" id="5243615">.</span><span class="ident" id="5243616">b</span>&nbsp;<span class="op" id="5243618">=</span>&nbsp;<span class="ident" id="5243620">makeBuf</span><span class="op" id="5243627">(</span><span class="ident" id="5243628">r</span><span class="op" id="5243629">.</span><span class="ident" id="5243630">d</span><span class="op" id="5243631">,</span>&nbsp;<span class="ident" id="5243633">u</span><span class="op" id="5243634">,</span>&nbsp;<span class="string" id="5243636">&#34;info&#34;</span><span class="op" id="5243642">,</span>&nbsp;<span class="ident" id="5243644">u</span><span class="op" id="5243645">.</span><span class="ident" id="5243646">off</span><span class="op" id="5243649">,</span>&nbsp;<span class="ident" id="5243651">u</span><span class="op" id="5243652">.</span><span class="ident" id="5243653">data</span><span class="op" id="5243657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5243660">}</span><br>
<span class="lineno"></span><span class="op" id="5243662">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5243665">//&nbsp;Next&nbsp;reads&nbsp;the&nbsp;next&nbsp;entry&nbsp;from&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno">335</span><span class="comment" id="5243725">//&nbsp;It&nbsp;returns&nbsp;nil,&nbsp;nil&nbsp;when&nbsp;it&nbsp;reaches&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="5243788">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;error&nbsp;if&nbsp;the&nbsp;current&nbsp;offset&nbsp;is&nbsp;invalid&nbsp;or&nbsp;the&nbsp;data&nbsp;at&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5243863">//&nbsp;offset&nbsp;cannot&nbsp;be&nbsp;decoded&nbsp;as&nbsp;a&nbsp;valid&nbsp;Entry.</span><br>
<span class="lineno"></span><span class="keyword" id="5243909">func</span>&nbsp;<span class="op" id="5243914">(</span><span class="ident" id="5243915">r</span>&nbsp;<span class="op" id="5243917">*</span><span class="ident" id="5243918">Reader</span><span class="op" id="5243924">)</span>&nbsp;<span class="ident" id="5243926">Next</span><span class="op" id="5243930">(</span><span class="op" id="5243931">)</span>&nbsp;<span class="op" id="5243933">(</span><span class="op" id="5243934">*</span><span class="ident" id="5243935">Entry</span><span class="op" id="5243940">,</span>&nbsp;<span class="builtintype" id="5243942">error</span><span class="op" id="5243947">)</span>&nbsp;<span class="op" id="5243949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5243952">if</span>&nbsp;<span class="ident" id="5243955">r</span><span class="op" id="5243956">.</span><span class="ident" id="5243957">err</span>&nbsp;<span class="op" id="5243961">!=</span>&nbsp;<span class="ident" id="5243964">nil</span>&nbsp;<span class="op" id="5243968">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5243972">return</span>&nbsp;<span class="ident" id="5243979">nil</span><span class="op" id="5243982">,</span>&nbsp;<span class="ident" id="5243984">r</span><span class="op" id="5243985">.</span><span class="ident" id="5243986">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5243991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5243994">r</span><span class="op" id="5243995">.</span><span class="ident" id="5243996">maybeNextUnit</span><span class="op" id="5244009">(</span><span class="op" id="5244010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5244013">if</span>&nbsp;<span class="builtinfunc" id="5244016">len</span><span class="op" id="5244019">(</span><span class="ident" id="5244020">r</span><span class="op" id="5244021">.</span><span class="ident" id="5244022">b</span><span class="op" id="5244023">.</span><span class="ident" id="5244024">data</span><span class="op" id="5244028">)</span>&nbsp;<span class="op" id="5244030">==</span>&nbsp;<span class="num" id="5244033">0</span>&nbsp;<span class="op" id="5244035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5244039">return</span>&nbsp;<span class="ident" id="5244046">nil</span><span class="op" id="5244049">,</span>&nbsp;<span class="ident" id="5244051">nil</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5244056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5244059">u</span>&nbsp;<span class="op" id="5244061">:=</span>&nbsp;<span class="op" id="5244064">&amp;</span><span class="ident" id="5244065">r</span><span class="op" id="5244066">.</span><span class="ident" id="5244067">d</span><span class="op" id="5244068">.</span><span class="ident" id="5244069">unit</span><span class="op" id="5244073">[</span><span class="ident" id="5244074">r</span><span class="op" id="5244075">.</span><span class="ident" id="5244076">unit</span><span class="op" id="5244080">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5244083">e</span>&nbsp;<span class="op" id="5244085">:=</span>&nbsp;<span class="ident" id="5244088">r</span><span class="op" id="5244089">.</span><span class="ident" id="5244090">b</span><span class="op" id="5244091">.</span><span class="ident" id="5244092">entry</span><span class="op" id="5244097">(</span><span class="ident" id="5244098">u</span><span class="op" id="5244099">.</span><span class="ident" id="5244100">atable</span><span class="op" id="5244106">,</span>&nbsp;<span class="ident" id="5244108">u</span><span class="op" id="5244109">.</span><span class="ident" id="5244110">base</span><span class="op" id="5244114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5244117">if</span>&nbsp;<span class="ident" id="5244120">r</span><span class="op" id="5244121">.</span><span class="ident" id="5244122">b</span><span class="op" id="5244123">.</span><span class="ident" id="5244124">err</span>&nbsp;<span class="op" id="5244128">!=</span>&nbsp;<span class="ident" id="5244131">nil</span>&nbsp;<span class="op" id="5244135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5244139">r</span><span class="op" id="5244140">.</span><span class="ident" id="5244141">err</span>&nbsp;<span class="op" id="5244145">=</span>&nbsp;<span class="ident" id="5244147">r</span><span class="op" id="5244148">.</span><span class="ident" id="5244149">b</span><span class="op" id="5244150">.</span><span class="ident" id="5244151">err</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5244157">return</span>&nbsp;<span class="ident" id="5244164">nil</span><span class="op" id="5244167">,</span>&nbsp;<span class="ident" id="5244169">r</span><span class="op" id="5244170">.</span><span class="ident" id="5244171">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5244176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5244179">if</span>&nbsp;<span class="ident" id="5244182">e</span>&nbsp;<span class="op" id="5244184">!=</span>&nbsp;<span class="ident" id="5244187">nil</span>&nbsp;<span class="op" id="5244191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5244195">r</span><span class="op" id="5244196">.</span><span class="ident" id="5244197">lastChildren</span>&nbsp;<span class="op" id="5244210">=</span>&nbsp;<span class="ident" id="5244212">e</span><span class="op" id="5244213">.</span><span class="ident" id="5244214">Children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5244225">if</span>&nbsp;<span class="ident" id="5244228">r</span><span class="op" id="5244229">.</span><span class="ident" id="5244230">lastChildren</span>&nbsp;<span class="op" id="5244243">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5244248">r</span><span class="op" id="5244249">.</span><span class="ident" id="5244250">lastSibling</span><span class="op" id="5244261">,</span>&nbsp;<span class="ident" id="5244263">_</span>&nbsp;<span class="op" id="5244265">=</span>&nbsp;<span class="ident" id="5244267">e</span><span class="op" id="5244268">.</span><span class="ident" id="5244269">Val</span><span class="op" id="5244272">(</span><span class="ident" id="5244273">AttrSibling</span><span class="op" id="5244284">)</span><span class="op" id="5244285">.</span><span class="op" id="5244286">(</span><span class="ident" id="5244287">Offset</span><span class="op" id="5244293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5244297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5244300">}</span>&nbsp;<span class="keyword" id="5244302">else</span>&nbsp;<span class="op" id="5244307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5244311">r</span><span class="op" id="5244312">.</span><span class="ident" id="5244313">lastChildren</span>&nbsp;<span class="op" id="5244326">=</span>&nbsp;<span class="builtintype" id="5244328">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5244335">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5244338">return</span>&nbsp;<span class="ident" id="5244345">e</span><span class="op" id="5244346">,</span>&nbsp;<span class="ident" id="5244348">nil</span><br>
<span class="lineno"></span><span class="op" id="5244352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5244355">//&nbsp;SkipChildren&nbsp;skips&nbsp;over&nbsp;the&nbsp;child&nbsp;entries&nbsp;associated&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5244416">//&nbsp;the&nbsp;last&nbsp;Entry&nbsp;returned&nbsp;by&nbsp;Next.&nbsp;&nbsp;If&nbsp;that&nbsp;Entry&nbsp;did&nbsp;not&nbsp;have</span><br>
<span class="lineno">365</span><span class="comment" id="5244480">//&nbsp;children&nbsp;or&nbsp;Next&nbsp;has&nbsp;not&nbsp;been&nbsp;called,&nbsp;SkipChildren&nbsp;is&nbsp;a&nbsp;no-op.</span><br>
<span class="lineno"></span><span class="keyword" id="5244546">func</span>&nbsp;<span class="op" id="5244551">(</span><span class="ident" id="5244552">r</span>&nbsp;<span class="op" id="5244554">*</span><span class="ident" id="5244555">Reader</span><span class="op" id="5244561">)</span>&nbsp;<span class="ident" id="5244563">SkipChildren</span><span class="op" id="5244575">(</span><span class="op" id="5244576">)</span>&nbsp;<span class="op" id="5244578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5244581">if</span>&nbsp;<span class="ident" id="5244584">r</span><span class="op" id="5244585">.</span><span class="ident" id="5244586">err</span>&nbsp;<span class="op" id="5244590">!=</span>&nbsp;<span class="ident" id="5244593">nil</span>&nbsp;<span class="op" id="5244597">||</span>&nbsp;<span class="op" id="5244600">!</span><span class="ident" id="5244601">r</span><span class="op" id="5244602">.</span><span class="ident" id="5244603">lastChildren</span>&nbsp;<span class="op" id="5244616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5244620">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5244628">}</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5244632">//&nbsp;If&nbsp;the&nbsp;last&nbsp;entry&nbsp;had&nbsp;a&nbsp;sibling&nbsp;attribute,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5244679">//&nbsp;that&nbsp;attribute&nbsp;gives&nbsp;the&nbsp;offset&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5244727">//&nbsp;sibling,&nbsp;so&nbsp;we&nbsp;can&nbsp;avoid&nbsp;decoding&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5244769">//&nbsp;child&nbsp;subtrees.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5244789">if</span>&nbsp;<span class="ident" id="5244792">r</span><span class="op" id="5244793">.</span><span class="ident" id="5244794">lastSibling</span>&nbsp;<span class="op" id="5244806">&gt;=</span>&nbsp;<span class="ident" id="5244809">r</span><span class="op" id="5244810">.</span><span class="ident" id="5244811">b</span><span class="op" id="5244812">.</span><span class="ident" id="5244813">off</span>&nbsp;<span class="op" id="5244817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5244821">r</span><span class="op" id="5244822">.</span><span class="ident" id="5244823">Seek</span><span class="op" id="5244827">(</span><span class="ident" id="5244828">r</span><span class="op" id="5244829">.</span><span class="ident" id="5244830">lastSibling</span><span class="op" id="5244841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5244845">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5244853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5244857">for</span>&nbsp;<span class="op" id="5244861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5244865">e</span><span class="op" id="5244866">,</span>&nbsp;<span class="ident" id="5244868">err</span>&nbsp;<span class="op" id="5244872">:=</span>&nbsp;<span class="ident" id="5244875">r</span><span class="op" id="5244876">.</span><span class="ident" id="5244877">Next</span><span class="op" id="5244881">(</span><span class="op" id="5244882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5244886">if</span>&nbsp;<span class="ident" id="5244889">err</span>&nbsp;<span class="op" id="5244893">!=</span>&nbsp;<span class="ident" id="5244896">nil</span>&nbsp;<span class="op" id="5244900">||</span>&nbsp;<span class="ident" id="5244903">e</span>&nbsp;<span class="op" id="5244905">==</span>&nbsp;<span class="ident" id="5244908">nil</span>&nbsp;<span class="op" id="5244912">||</span>&nbsp;<span class="ident" id="5244915">e</span><span class="op" id="5244916">.</span><span class="ident" id="5244917">Tag</span>&nbsp;<span class="op" id="5244921">==</span>&nbsp;<span class="num" id="5244924">0</span>&nbsp;<span class="op" id="5244926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5244931">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5244939">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5244943">if</span>&nbsp;<span class="ident" id="5244946">e</span><span class="op" id="5244947">.</span><span class="ident" id="5244948">Children</span>&nbsp;<span class="op" id="5244957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5244962">r</span><span class="op" id="5244963">.</span><span class="ident" id="5244964">SkipChildren</span><span class="op" id="5244976">(</span><span class="op" id="5244977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5244981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5244984">}</span><br>
<span class="lineno"></span><span class="op" id="5244986">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span><span class="comment" id="5244989">//&nbsp;clone&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;reader.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the&nbsp;typeReader</span><br>
<span class="lineno"></span><span class="comment" id="5245060">//&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="5245074">func</span>&nbsp;<span class="op" id="5245079">(</span><span class="ident" id="5245080">r</span>&nbsp;<span class="op" id="5245082">*</span><span class="ident" id="5245083">Reader</span><span class="op" id="5245089">)</span>&nbsp;<span class="ident" id="5245091">clone</span><span class="op" id="5245096">(</span><span class="op" id="5245097">)</span>&nbsp;<span class="ident" id="5245099">typeReader</span>&nbsp;<span class="op" id="5245110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5245113">return</span>&nbsp;<span class="ident" id="5245120">r</span><span class="op" id="5245121">.</span><span class="ident" id="5245122">d</span><span class="op" id="5245123">.</span><span class="ident" id="5245124">Reader</span><span class="op" id="5245130">(</span><span class="op" id="5245131">)</span><br>
<span class="lineno">395</span><span class="op" id="5245133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5245136">//&nbsp;offset&nbsp;returns&nbsp;the&nbsp;current&nbsp;buffer&nbsp;offset.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5245202">//&nbsp;typeReader&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="5245227">func</span>&nbsp;<span class="op" id="5245232">(</span><span class="ident" id="5245233">r</span>&nbsp;<span class="op" id="5245235">*</span><span class="ident" id="5245236">Reader</span><span class="op" id="5245242">)</span>&nbsp;<span class="ident" id="5245244">offset</span><span class="op" id="5245250">(</span><span class="op" id="5245251">)</span>&nbsp;<span class="ident" id="5245253">Offset</span>&nbsp;<span class="op" id="5245260">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5245263">return</span>&nbsp;<span class="ident" id="5245270">r</span><span class="op" id="5245271">.</span><span class="ident" id="5245272">b</span><span class="op" id="5245273">.</span><span class="ident" id="5245274">off</span><br>
<span class="lineno"></span><span class="op" id="5245278">}</span>
</div>
</body>
</html>
