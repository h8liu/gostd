<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3011287">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3011343">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3011397">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3011448">package</span>&nbsp;<span class="ident" id="3011456">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3011464">import</span>&nbsp;<span class="op" id="3011471">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3011474">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3011480">&#34;path/filepath&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3011497">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3011508">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3011516">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="3011523">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3011526">//&nbsp;Random&nbsp;number&nbsp;state.</span><br>
<span class="lineno"></span><span class="comment" id="3011550">//&nbsp;We&nbsp;generate&nbsp;random&nbsp;temporary&nbsp;file&nbsp;names&nbsp;so&nbsp;that&nbsp;there&#39;s&nbsp;a&nbsp;good</span><br>
<span class="lineno"></span><span class="comment" id="3011616">//&nbsp;chance&nbsp;the&nbsp;file&nbsp;doesn&#39;t&nbsp;exist&nbsp;yet&nbsp;-&nbsp;keeps&nbsp;the&nbsp;number&nbsp;of&nbsp;tries&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="3011684">//&nbsp;TempFile&nbsp;to&nbsp;a&nbsp;minimum.</span><br>
<span class="lineno"></span><span class="keyword" id="3011710">var</span>&nbsp;<span class="ident" id="3011714">rand</span>&nbsp;<span class="builtintype" id="3011719">uint32</span><br>
<span class="lineno">20</span><span class="keyword" id="3011726">var</span>&nbsp;<span class="ident" id="3011730">randmu</span>&nbsp;<span class="ident" id="3011737">sync</span><span class="op" id="3011741">.</span><span class="ident" id="3011742">Mutex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3011749">func</span>&nbsp;<span class="ident" id="3011754">reseed</span><span class="op" id="3011760">(</span><span class="op" id="3011761">)</span>&nbsp;<span class="builtintype" id="3011763">uint32</span>&nbsp;<span class="op" id="3011770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3011773">return</span>&nbsp;<span class="builtintype" id="3011780">uint32</span><span class="op" id="3011786">(</span><span class="ident" id="3011787">time</span><span class="op" id="3011791">.</span><span class="ident" id="3011792">Now</span><span class="op" id="3011795">(</span><span class="op" id="3011796">)</span><span class="op" id="3011797">.</span><span class="ident" id="3011798">UnixNano</span><span class="op" id="3011806">(</span><span class="op" id="3011807">)</span>&nbsp;<span class="op" id="3011809">+</span>&nbsp;<span class="ident" id="3011811">int64</span><span class="op" id="3011816">(</span><span class="ident" id="3011817">os</span><span class="op" id="3011819">.</span><span class="ident" id="3011820">Getpid</span><span class="op" id="3011826">(</span><span class="op" id="3011827">)</span><span class="op" id="3011828">)</span><span class="op" id="3011829">)</span><br>
<span class="lineno"></span><span class="op" id="3011831">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="3011834">func</span>&nbsp;<span class="ident" id="3011839">nextSuffix</span><span class="op" id="3011849">(</span><span class="op" id="3011850">)</span>&nbsp;<span class="builtintype" id="3011852">string</span>&nbsp;<span class="op" id="3011859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3011862">randmu</span><span class="op" id="3011868">.</span><span class="ident" id="3011869">Lock</span><span class="op" id="3011873">(</span><span class="op" id="3011874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3011877">r</span>&nbsp;<span class="op" id="3011879">:=</span>&nbsp;<span class="ident" id="3011882">rand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3011888">if</span>&nbsp;<span class="ident" id="3011891">r</span>&nbsp;<span class="op" id="3011893">==</span>&nbsp;<span class="num" id="3011896">0</span>&nbsp;<span class="op" id="3011898">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3011902">r</span>&nbsp;<span class="op" id="3011904">=</span>&nbsp;<span class="ident" id="3011906">reseed</span><span class="op" id="3011912">(</span><span class="op" id="3011913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3011916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3011919">r</span>&nbsp;<span class="op" id="3011921">=</span>&nbsp;<span class="ident" id="3011923">r</span><span class="op" id="3011924">*</span><span class="num" id="3011925">1664525</span>&nbsp;<span class="op" id="3011933">+</span>&nbsp;<span class="num" id="3011935">1013904223</span>&nbsp;<span class="comment" id="3011946">//&nbsp;constants&nbsp;from&nbsp;Numerical&nbsp;Recipes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3011983">rand</span>&nbsp;<span class="op" id="3011988">=</span>&nbsp;<span class="ident" id="3011990">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3011993">randmu</span><span class="op" id="3011999">.</span><span class="ident" id="3012000">Unlock</span><span class="op" id="3012006">(</span><span class="op" id="3012007">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3012010">return</span>&nbsp;<span class="ident" id="3012017">strconv</span><span class="op" id="3012024">.</span><span class="ident" id="3012025">Itoa</span><span class="op" id="3012029">(</span><span class="builtintype" id="3012030">int</span><span class="op" id="3012033">(</span><span class="num" id="3012034">1e9</span>&nbsp;<span class="op" id="3012038">+</span>&nbsp;<span class="ident" id="3012040">r</span><span class="op" id="3012041">%</span><span class="num" id="3012042">1e9</span><span class="op" id="3012045">)</span><span class="op" id="3012046">)</span><span class="op" id="3012047">[</span><span class="num" id="3012048">1</span><span class="op" id="3012049">:</span><span class="op" id="3012050">]</span><br>
<span class="lineno"></span><span class="op" id="3012052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3012055">//&nbsp;TempFile&nbsp;creates&nbsp;a&nbsp;new&nbsp;temporary&nbsp;file&nbsp;in&nbsp;the&nbsp;directory&nbsp;dir</span><br>
<span class="lineno"></span><span class="comment" id="3012117">//&nbsp;with&nbsp;a&nbsp;name&nbsp;beginning&nbsp;with&nbsp;prefix,&nbsp;opens&nbsp;the&nbsp;file&nbsp;for&nbsp;reading</span><br>
<span class="lineno">40</span><span class="comment" id="3012182">//&nbsp;and&nbsp;writing,&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;*os.File.</span><br>
<span class="lineno"></span><span class="comment" id="3012234">//&nbsp;If&nbsp;dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;TempFile&nbsp;uses&nbsp;the&nbsp;default&nbsp;directory</span><br>
<span class="lineno"></span><span class="comment" id="3012301">//&nbsp;for&nbsp;temporary&nbsp;files&nbsp;(see&nbsp;os.TempDir).</span><br>
<span class="lineno"></span><span class="comment" id="3012342">//&nbsp;Multiple&nbsp;programs&nbsp;calling&nbsp;TempFile&nbsp;simultaneously</span><br>
<span class="lineno"></span><span class="comment" id="3012395">//&nbsp;will&nbsp;not&nbsp;choose&nbsp;the&nbsp;same&nbsp;file.&nbsp;&nbsp;The&nbsp;caller&nbsp;can&nbsp;use&nbsp;f.Name()</span><br>
<span class="lineno">45</span><span class="comment" id="3012458">//&nbsp;to&nbsp;find&nbsp;the&nbsp;pathname&nbsp;of&nbsp;the&nbsp;file.&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility</span><br>
<span class="lineno"></span><span class="comment" id="3012530">//&nbsp;to&nbsp;remove&nbsp;the&nbsp;file&nbsp;when&nbsp;no&nbsp;longer&nbsp;needed.</span><br>
<span class="lineno"></span><span class="keyword" id="3012575">func</span>&nbsp;<span class="ident" id="3012580">TempFile</span><span class="op" id="3012588">(</span><span class="ident" id="3012589">dir</span><span class="op" id="3012592">,</span>&nbsp;<span class="ident" id="3012594">prefix</span>&nbsp;<span class="builtintype" id="3012601">string</span><span class="op" id="3012607">)</span>&nbsp;<span class="op" id="3012609">(</span><span class="ident" id="3012610">f</span>&nbsp;<span class="op" id="3012612">*</span><span class="ident" id="3012613">os</span><span class="op" id="3012615">.</span><span class="ident" id="3012616">File</span><span class="op" id="3012620">,</span>&nbsp;<span class="ident" id="3012622">err</span>&nbsp;<span class="builtintype" id="3012626">error</span><span class="op" id="3012631">)</span>&nbsp;<span class="op" id="3012633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3012636">if</span>&nbsp;<span class="ident" id="3012639">dir</span>&nbsp;<span class="op" id="3012643">==</span>&nbsp;<span class="string" id="3012646">&#34;&#34;</span>&nbsp;<span class="op" id="3012649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3012653">dir</span>&nbsp;<span class="op" id="3012657">=</span>&nbsp;<span class="ident" id="3012659">os</span><span class="op" id="3012661">.</span><span class="ident" id="3012662">TempDir</span><span class="op" id="3012669">(</span><span class="op" id="3012670">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3012673">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3012677">nconflict</span>&nbsp;<span class="op" id="3012687">:=</span>&nbsp;<span class="num" id="3012690">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3012693">for</span>&nbsp;<span class="ident" id="3012697">i</span>&nbsp;<span class="op" id="3012699">:=</span>&nbsp;<span class="num" id="3012702">0</span><span class="op" id="3012703">;</span>&nbsp;<span class="ident" id="3012705">i</span>&nbsp;<span class="op" id="3012707">&lt;</span>&nbsp;<span class="num" id="3012709">10000</span><span class="op" id="3012714">;</span>&nbsp;<span class="ident" id="3012716">i</span><span class="op" id="3012717">++</span>&nbsp;<span class="op" id="3012720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3012724">name</span>&nbsp;<span class="op" id="3012729">:=</span>&nbsp;<span class="ident" id="3012732">filepath</span><span class="op" id="3012740">.</span><span class="ident" id="3012741">Join</span><span class="op" id="3012745">(</span><span class="ident" id="3012746">dir</span><span class="op" id="3012749">,</span>&nbsp;<span class="ident" id="3012751">prefix</span><span class="op" id="3012757">+</span><span class="ident" id="3012758">nextSuffix</span><span class="op" id="3012768">(</span><span class="op" id="3012769">)</span><span class="op" id="3012770">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3012774">f</span><span class="op" id="3012775">,</span>&nbsp;<span class="ident" id="3012777">err</span>&nbsp;<span class="op" id="3012781">=</span>&nbsp;<span class="ident" id="3012783">os</span><span class="op" id="3012785">.</span><span class="ident" id="3012786">OpenFile</span><span class="op" id="3012794">(</span><span class="ident" id="3012795">name</span><span class="op" id="3012799">,</span>&nbsp;<span class="ident" id="3012801">os</span><span class="op" id="3012803">.</span><span class="ident" id="3012804">O_RDWR</span><span class="op" id="3012810">|</span><span class="ident" id="3012811">os</span><span class="op" id="3012813">.</span><span class="ident" id="3012814">O_CREATE</span><span class="op" id="3012822">|</span><span class="ident" id="3012823">os</span><span class="op" id="3012825">.</span><span class="ident" id="3012826">O_EXCL</span><span class="op" id="3012832">,</span>&nbsp;<span class="num" id="3012834">0600</span><span class="op" id="3012838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3012842">if</span>&nbsp;<span class="ident" id="3012845">os</span><span class="op" id="3012847">.</span><span class="ident" id="3012848">IsExist</span><span class="op" id="3012855">(</span><span class="ident" id="3012856">err</span><span class="op" id="3012859">)</span>&nbsp;<span class="op" id="3012861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3012866">if</span>&nbsp;<span class="ident" id="3012869">nconflict</span><span class="op" id="3012878">++</span><span class="op" id="3012880">;</span>&nbsp;<span class="ident" id="3012882">nconflict</span>&nbsp;<span class="op" id="3012892">&gt;</span>&nbsp;<span class="num" id="3012894">10</span>&nbsp;<span class="op" id="3012897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3012903">rand</span>&nbsp;<span class="op" id="3012908">=</span>&nbsp;<span class="ident" id="3012910">reseed</span><span class="op" id="3012916">(</span><span class="op" id="3012917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3012922">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3012927">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3012938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3012942">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3012949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3012952">return</span><br>
<span class="lineno">65</span><span class="op" id="3012959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3012962">//&nbsp;TempDir&nbsp;creates&nbsp;a&nbsp;new&nbsp;temporary&nbsp;directory&nbsp;in&nbsp;the&nbsp;directory&nbsp;dir</span><br>
<span class="lineno"></span><span class="comment" id="3013028">//&nbsp;with&nbsp;a&nbsp;name&nbsp;beginning&nbsp;with&nbsp;prefix&nbsp;and&nbsp;returns&nbsp;the&nbsp;path&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3013093">//&nbsp;new&nbsp;directory.&nbsp;&nbsp;If&nbsp;dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;TempDir&nbsp;uses&nbsp;the</span><br>
<span class="lineno">70</span><span class="comment" id="3013157">//&nbsp;default&nbsp;directory&nbsp;for&nbsp;temporary&nbsp;files&nbsp;(see&nbsp;os.TempDir).</span><br>
<span class="lineno"></span><span class="comment" id="3013216">//&nbsp;Multiple&nbsp;programs&nbsp;calling&nbsp;TempDir&nbsp;simultaneously</span><br>
<span class="lineno"></span><span class="comment" id="3013268">//&nbsp;will&nbsp;not&nbsp;choose&nbsp;the&nbsp;same&nbsp;directory.&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility</span><br>
<span class="lineno"></span><span class="comment" id="3013342">//&nbsp;to&nbsp;remove&nbsp;the&nbsp;directory&nbsp;when&nbsp;no&nbsp;longer&nbsp;needed.</span><br>
<span class="lineno"></span><span class="keyword" id="3013392">func</span>&nbsp;<span class="ident" id="3013397">TempDir</span><span class="op" id="3013404">(</span><span class="ident" id="3013405">dir</span><span class="op" id="3013408">,</span>&nbsp;<span class="ident" id="3013410">prefix</span>&nbsp;<span class="builtintype" id="3013417">string</span><span class="op" id="3013423">)</span>&nbsp;<span class="op" id="3013425">(</span><span class="ident" id="3013426">name</span>&nbsp;<span class="builtintype" id="3013431">string</span><span class="op" id="3013437">,</span>&nbsp;<span class="ident" id="3013439">err</span>&nbsp;<span class="builtintype" id="3013443">error</span><span class="op" id="3013448">)</span>&nbsp;<span class="op" id="3013450">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3013453">if</span>&nbsp;<span class="ident" id="3013456">dir</span>&nbsp;<span class="op" id="3013460">==</span>&nbsp;<span class="string" id="3013463">&#34;&#34;</span>&nbsp;<span class="op" id="3013466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3013470">dir</span>&nbsp;<span class="op" id="3013474">=</span>&nbsp;<span class="ident" id="3013476">os</span><span class="op" id="3013478">.</span><span class="ident" id="3013479">TempDir</span><span class="op" id="3013486">(</span><span class="op" id="3013487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3013490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3013494">nconflict</span>&nbsp;<span class="op" id="3013504">:=</span>&nbsp;<span class="num" id="3013507">0</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3013510">for</span>&nbsp;<span class="ident" id="3013514">i</span>&nbsp;<span class="op" id="3013516">:=</span>&nbsp;<span class="num" id="3013519">0</span><span class="op" id="3013520">;</span>&nbsp;<span class="ident" id="3013522">i</span>&nbsp;<span class="op" id="3013524">&lt;</span>&nbsp;<span class="num" id="3013526">10000</span><span class="op" id="3013531">;</span>&nbsp;<span class="ident" id="3013533">i</span><span class="op" id="3013534">++</span>&nbsp;<span class="op" id="3013537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3013541">try</span>&nbsp;<span class="op" id="3013545">:=</span>&nbsp;<span class="ident" id="3013548">filepath</span><span class="op" id="3013556">.</span><span class="ident" id="3013557">Join</span><span class="op" id="3013561">(</span><span class="ident" id="3013562">dir</span><span class="op" id="3013565">,</span>&nbsp;<span class="ident" id="3013567">prefix</span><span class="op" id="3013573">+</span><span class="ident" id="3013574">nextSuffix</span><span class="op" id="3013584">(</span><span class="op" id="3013585">)</span><span class="op" id="3013586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3013590">err</span>&nbsp;<span class="op" id="3013594">=</span>&nbsp;<span class="ident" id="3013596">os</span><span class="op" id="3013598">.</span><span class="ident" id="3013599">Mkdir</span><span class="op" id="3013604">(</span><span class="ident" id="3013605">try</span><span class="op" id="3013608">,</span>&nbsp;<span class="num" id="3013610">0700</span><span class="op" id="3013614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3013618">if</span>&nbsp;<span class="ident" id="3013621">os</span><span class="op" id="3013623">.</span><span class="ident" id="3013624">IsExist</span><span class="op" id="3013631">(</span><span class="ident" id="3013632">err</span><span class="op" id="3013635">)</span>&nbsp;<span class="op" id="3013637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3013642">if</span>&nbsp;<span class="ident" id="3013645">nconflict</span><span class="op" id="3013654">++</span><span class="op" id="3013656">;</span>&nbsp;<span class="ident" id="3013658">nconflict</span>&nbsp;<span class="op" id="3013668">&gt;</span>&nbsp;<span class="num" id="3013670">10</span>&nbsp;<span class="op" id="3013673">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3013679">rand</span>&nbsp;<span class="op" id="3013684">=</span>&nbsp;<span class="ident" id="3013686">reseed</span><span class="op" id="3013692">(</span><span class="op" id="3013693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3013698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3013703">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3013714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3013718">if</span>&nbsp;<span class="ident" id="3013721">err</span>&nbsp;<span class="op" id="3013725">==</span>&nbsp;<span class="ident" id="3013728">nil</span>&nbsp;<span class="op" id="3013732">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3013737">name</span>&nbsp;<span class="op" id="3013742">=</span>&nbsp;<span class="ident" id="3013744">try</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3013750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3013754">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3013761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3013764">return</span><br>
<span class="lineno">95</span><span class="op" id="3013771">}</span>
</div>
</body>
</html>
