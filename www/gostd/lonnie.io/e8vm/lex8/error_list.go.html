<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>lonnie.io/e8vm/lex8</h2>
<ul>
<li><a href="/gostd/lonnie.io/e8vm/lex8/error.go.html">error.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/error_list.go.html">error_list.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/lex_scanner.go.html">lex_scanner.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/lexer.go.html">lexer.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/pos.go.html">pos.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/rune_scanner.go.html">rune_scanner.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/token.go.html">token.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="keyword" id="4895161">package</span>&nbsp;<span class="ident" id="4895169">lex8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4895175">import</span>&nbsp;<span class="op" id="4895182">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4895185">&#34;fmt&#34;</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4895192">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="4895197">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4895200">//&nbsp;ErrorList&nbsp;saves&nbsp;a&nbsp;list&nbsp;of&nbsp;error</span><br>
<span class="lineno"></span><span class="keyword" id="4895235">type</span>&nbsp;<span class="ident" id="4895240">ErrorList</span>&nbsp;<span class="keyword" id="4895250">struct</span>&nbsp;<span class="op" id="4895257">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4895260">Errs</span>&nbsp;<span class="op" id="4895265">[</span><span class="op" id="4895266">]</span><span class="op" id="4895267">*</span><span class="ident" id="4895268">Error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4895276">Max</span>&nbsp;<span class="builtintype" id="4895280">int</span><br>
<span class="lineno"></span><span class="op" id="4895284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="4895287">//&nbsp;NewErrList&nbsp;creates&nbsp;a&nbsp;new&nbsp;error&nbsp;list&nbsp;with&nbsp;default&nbsp;(20)&nbsp;maximum</span><br>
<span class="lineno"></span><span class="comment" id="4895352">//&nbsp;lines&nbsp;of&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="4895372">func</span>&nbsp;<span class="ident" id="4895377">NewErrList</span><span class="op" id="4895387">(</span><span class="op" id="4895388">)</span>&nbsp;<span class="op" id="4895390">*</span><span class="ident" id="4895391">ErrorList</span>&nbsp;<span class="op" id="4895401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4895404">ret</span>&nbsp;<span class="op" id="4895408">:=</span>&nbsp;<span class="builtinfunc" id="4895411">new</span><span class="op" id="4895414">(</span><span class="ident" id="4895415">ErrorList</span><span class="op" id="4895424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4895427">ret</span><span class="op" id="4895430">.</span><span class="ident" id="4895431">Max</span>&nbsp;<span class="op" id="4895435">=</span>&nbsp;<span class="num" id="4895437">20</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895442">return</span>&nbsp;<span class="ident" id="4895449">ret</span><br>
<span class="lineno"></span><span class="op" id="4895453">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4895456">//&nbsp;Add&nbsp;appends&nbsp;the&nbsp;error&nbsp;to&nbsp;the&nbsp;list</span><br>
<span class="lineno">25</span><span class="keyword" id="4895493">func</span>&nbsp;<span class="op" id="4895498">(</span><span class="ident" id="4895499">lst</span>&nbsp;<span class="op" id="4895503">*</span><span class="ident" id="4895504">ErrorList</span><span class="op" id="4895513">)</span>&nbsp;<span class="ident" id="4895515">Add</span><span class="op" id="4895518">(</span><span class="ident" id="4895519">e</span>&nbsp;<span class="op" id="4895521">*</span><span class="ident" id="4895522">Error</span><span class="op" id="4895527">)</span>&nbsp;<span class="op" id="4895529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895532">if</span>&nbsp;<span class="builtinfunc" id="4895535">len</span><span class="op" id="4895538">(</span><span class="ident" id="4895539">lst</span><span class="op" id="4895542">.</span><span class="ident" id="4895543">Errs</span><span class="op" id="4895547">)</span>&nbsp;<span class="op" id="4895549">&gt;=</span>&nbsp;<span class="ident" id="4895552">lst</span><span class="op" id="4895555">.</span><span class="ident" id="4895556">Max</span>&nbsp;<span class="op" id="4895560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895564">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4895572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4895576">lst</span><span class="op" id="4895579">.</span><span class="ident" id="4895580">Errs</span>&nbsp;<span class="op" id="4895585">=</span>&nbsp;<span class="builtinfunc" id="4895587">append</span><span class="op" id="4895593">(</span><span class="ident" id="4895594">lst</span><span class="op" id="4895597">.</span><span class="ident" id="4895598">Errs</span><span class="op" id="4895602">,</span>&nbsp;<span class="ident" id="4895604">e</span><span class="op" id="4895605">)</span><br>
<span class="lineno"></span><span class="op" id="4895607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4895610">//&nbsp;Addf&nbsp;appends&nbsp;a&nbsp;new&nbsp;error&nbsp;with&nbsp;particular&nbsp;position&nbsp;and&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="4895675">func</span>&nbsp;<span class="op" id="4895680">(</span><span class="ident" id="4895681">lst</span>&nbsp;<span class="op" id="4895685">*</span><span class="ident" id="4895686">ErrorList</span><span class="op" id="4895695">)</span>&nbsp;<span class="ident" id="4895697">Addf</span><span class="op" id="4895701">(</span><span class="ident" id="4895702">p</span>&nbsp;<span class="op" id="4895704">*</span><span class="ident" id="4895705">Pos</span><span class="op" id="4895708">,</span>&nbsp;<span class="ident" id="4895710">f</span>&nbsp;<span class="builtintype" id="4895712">string</span><span class="op" id="4895718">,</span>&nbsp;<span class="ident" id="4895720">args</span>&nbsp;<span class="op" id="4895725">...</span><span class="keyword" id="4895728">interface</span><span class="op" id="4895737">{</span><span class="op" id="4895738">}</span><span class="op" id="4895739">)</span>&nbsp;<span class="op" id="4895741">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4895744">lst</span><span class="op" id="4895747">.</span><span class="ident" id="4895748">Add</span><span class="op" id="4895751">(</span><span class="op" id="4895752">&amp;</span><span class="ident" id="4895753">Error</span><span class="op" id="4895758">{</span><span class="ident" id="4895759">p</span><span class="op" id="4895760">,</span>&nbsp;<span class="ident" id="4895762">fmt</span><span class="op" id="4895765">.</span><span class="ident" id="4895766">Errorf</span><span class="op" id="4895772">(</span><span class="ident" id="4895773">f</span><span class="op" id="4895774">,</span>&nbsp;<span class="ident" id="4895776">args</span><span class="op" id="4895780">...</span><span class="op" id="4895783">)</span><span class="op" id="4895784">}</span><span class="op" id="4895785">)</span><br>
<span class="lineno"></span><span class="op" id="4895787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4895790">//&nbsp;Print&nbsp;prints&nbsp;to&nbsp;the&nbsp;writer&nbsp;(maximume&nbsp;lst.MaxPrint&nbsp;errors).</span><br>
<span class="lineno"></span><span class="keyword" id="4895852">func</span>&nbsp;<span class="op" id="4895857">(</span><span class="ident" id="4895858">lst</span>&nbsp;<span class="op" id="4895862">*</span><span class="ident" id="4895863">ErrorList</span><span class="op" id="4895872">)</span>&nbsp;<span class="ident" id="4895874">Print</span><span class="op" id="4895879">(</span><span class="ident" id="4895880">w</span>&nbsp;<span class="ident" id="4895882">io</span><span class="op" id="4895884">.</span><span class="ident" id="4895885">Writer</span><span class="op" id="4895891">)</span>&nbsp;<span class="builtintype" id="4895893">error</span>&nbsp;<span class="op" id="4895899">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895902">for</span>&nbsp;<span class="ident" id="4895906">_</span><span class="op" id="4895907">,</span>&nbsp;<span class="ident" id="4895909">e</span>&nbsp;<span class="op" id="4895911">:=</span>&nbsp;<span class="keyword" id="4895914">range</span>&nbsp;<span class="ident" id="4895920">lst</span><span class="op" id="4895923">.</span><span class="ident" id="4895924">Errs</span>&nbsp;<span class="op" id="4895929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4895933">_</span><span class="op" id="4895934">,</span>&nbsp;<span class="ident" id="4895936">pe</span>&nbsp;<span class="op" id="4895939">:=</span>&nbsp;<span class="ident" id="4895942">fmt</span><span class="op" id="4895945">.</span><span class="ident" id="4895946">Fprintln</span><span class="op" id="4895954">(</span><span class="ident" id="4895955">w</span><span class="op" id="4895956">,</span>&nbsp;<span class="ident" id="4895958">e</span><span class="op" id="4895959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895963">if</span>&nbsp;<span class="ident" id="4895966">pe</span>&nbsp;<span class="op" id="4895969">!=</span>&nbsp;<span class="ident" id="4895972">nil</span>&nbsp;<span class="op" id="4895976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4895981">return</span>&nbsp;<span class="ident" id="4895988">pe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4895993">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4895996">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4896000">return</span>&nbsp;<span class="ident" id="4896007">nil</span><br>
<span class="lineno"></span><span class="op" id="4896011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="4896014">//&nbsp;SingleErr&nbsp;returns&nbsp;an&nbsp;error&nbsp;array&nbsp;with&nbsp;one&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="4896066">func</span>&nbsp;<span class="ident" id="4896071">SingleErr</span><span class="op" id="4896080">(</span><span class="ident" id="4896081">e</span>&nbsp;<span class="builtintype" id="4896083">error</span><span class="op" id="4896088">)</span>&nbsp;<span class="op" id="4896090">[</span><span class="op" id="4896091">]</span><span class="op" id="4896092">*</span><span class="ident" id="4896093">Error</span>&nbsp;<span class="op" id="4896099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4896102">return</span>&nbsp;<span class="op" id="4896109">[</span><span class="op" id="4896110">]</span><span class="op" id="4896111">*</span><span class="ident" id="4896112">Error</span><span class="op" id="4896117">{</span><span class="op" id="4896118">{</span><span class="ident" id="4896119">Err</span><span class="op" id="4896122">:</span>&nbsp;<span class="ident" id="4896124">e</span><span class="op" id="4896125">}</span><span class="op" id="4896126">}</span><br>
<span class="lineno"></span><span class="op" id="4896128">}</span>
</div>
</body>
</html>
