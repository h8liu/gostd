<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8241871">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8241927">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8241981">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8242032">package</span>&nbsp;<span class="ident" id="8242040">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8242047">import</span>&nbsp;<span class="op" id="8242054">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8242057">&#34;debug/elf&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8242070">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8242077">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8242090">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8242096">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8242107">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8242124">&#34;runtime&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8242135">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8242146">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8242156">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8242159">var</span>&nbsp;<span class="op" id="8242163">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242166">pclineTempDir</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8242183">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242191">pclinetestBinary</span>&nbsp;<span class="builtintype" id="8242208">string</span><br>
<span class="lineno"></span><span class="op" id="8242215">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8242218">func</span>&nbsp;<span class="ident" id="8242223">dotest</span><span class="op" id="8242229">(</span><span class="ident" id="8242230">self</span>&nbsp;<span class="builtintype" id="8242235">bool</span><span class="op" id="8242239">)</span>&nbsp;<span class="builtintype" id="8242241">bool</span>&nbsp;<span class="op" id="8242246">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8242249">//&nbsp;For&nbsp;now,&nbsp;only&nbsp;works&nbsp;on&nbsp;amd64&nbsp;platforms.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242293">if</span>&nbsp;<span class="ident" id="8242296">runtime</span><span class="op" id="8242303">.</span><span class="ident" id="8242304">GOARCH</span>&nbsp;<span class="op" id="8242311">!=</span>&nbsp;<span class="string" id="8242314">&#34;amd64&#34;</span>&nbsp;<span class="op" id="8242322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242326">return</span>&nbsp;<span class="builtintype" id="8242333">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8242343">//&nbsp;Self&nbsp;test&nbsp;reads&nbsp;test&nbsp;binary;&nbsp;only&nbsp;works&nbsp;on&nbsp;Linux.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242397">if</span>&nbsp;<span class="ident" id="8242400">self</span>&nbsp;<span class="op" id="8242405">&amp;&amp;</span>&nbsp;<span class="ident" id="8242408">runtime</span><span class="op" id="8242415">.</span><span class="ident" id="8242416">GOOS</span>&nbsp;<span class="op" id="8242421">!=</span>&nbsp;<span class="string" id="8242424">&#34;linux&#34;</span>&nbsp;<span class="op" id="8242432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242436">return</span>&nbsp;<span class="builtintype" id="8242443">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8242453">//&nbsp;Command&nbsp;below&nbsp;expects&nbsp;&#34;sh&#34;,&nbsp;so&nbsp;Unix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242494">if</span>&nbsp;<span class="ident" id="8242497">runtime</span><span class="op" id="8242504">.</span><span class="ident" id="8242505">GOOS</span>&nbsp;<span class="op" id="8242510">==</span>&nbsp;<span class="string" id="8242513">&#34;windows&#34;</span>&nbsp;<span class="op" id="8242523">||</span>&nbsp;<span class="ident" id="8242526">runtime</span><span class="op" id="8242533">.</span><span class="ident" id="8242534">GOOS</span>&nbsp;<span class="op" id="8242539">==</span>&nbsp;<span class="string" id="8242542">&#34;plan9&#34;</span>&nbsp;<span class="op" id="8242550">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242554">return</span>&nbsp;<span class="builtintype" id="8242561">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242571">if</span>&nbsp;<span class="ident" id="8242574">pclinetestBinary</span>&nbsp;<span class="op" id="8242591">!=</span>&nbsp;<span class="string" id="8242594">&#34;&#34;</span>&nbsp;<span class="op" id="8242597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242601">return</span>&nbsp;<span class="builtintype" id="8242608">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242614">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242617">var</span>&nbsp;<span class="ident" id="8242621">err</span>&nbsp;<span class="builtintype" id="8242625">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242632">pclineTempDir</span><span class="op" id="8242645">,</span>&nbsp;<span class="ident" id="8242647">err</span>&nbsp;<span class="op" id="8242651">=</span>&nbsp;<span class="ident" id="8242653">ioutil</span><span class="op" id="8242659">.</span><span class="ident" id="8242660">TempDir</span><span class="op" id="8242667">(</span><span class="string" id="8242668">&#34;&#34;</span><span class="op" id="8242670">,</span>&nbsp;<span class="string" id="8242672">&#34;pclinetest&#34;</span><span class="op" id="8242684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242687">if</span>&nbsp;<span class="ident" id="8242690">err</span>&nbsp;<span class="op" id="8242694">!=</span>&nbsp;<span class="ident" id="8242697">nil</span>&nbsp;<span class="op" id="8242701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8242705">panic</span><span class="op" id="8242710">(</span><span class="ident" id="8242711">err</span><span class="op" id="8242714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242717">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242720">if</span>&nbsp;<span class="ident" id="8242723">strings</span><span class="op" id="8242730">.</span><span class="ident" id="8242731">Contains</span><span class="op" id="8242739">(</span><span class="ident" id="8242740">pclineTempDir</span><span class="op" id="8242753">,</span>&nbsp;<span class="string" id="8242755">&#34;&nbsp;&#34;</span><span class="op" id="8242758">)</span>&nbsp;<span class="op" id="8242760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8242764">panic</span><span class="op" id="8242769">(</span><span class="string" id="8242770">&#34;unexpected&nbsp;space&nbsp;in&nbsp;tempdir&#34;</span><span class="op" id="8242799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8242805">//&nbsp;This&nbsp;command&nbsp;builds&nbsp;pclinetest&nbsp;from&nbsp;pclinetest.asm;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8242861">//&nbsp;the&nbsp;resulting&nbsp;binary&nbsp;looks&nbsp;like&nbsp;it&nbsp;was&nbsp;built&nbsp;from&nbsp;pclinetest.s,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8242929">//&nbsp;but&nbsp;we&nbsp;have&nbsp;renamed&nbsp;it&nbsp;to&nbsp;keep&nbsp;it&nbsp;away&nbsp;from&nbsp;the&nbsp;go&nbsp;tool.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242990">pclinetestBinary</span>&nbsp;<span class="op" id="8243007">=</span>&nbsp;<span class="ident" id="8243009">filepath</span><span class="op" id="8243017">.</span><span class="ident" id="8243018">Join</span><span class="op" id="8243022">(</span><span class="ident" id="8243023">pclineTempDir</span><span class="op" id="8243036">,</span>&nbsp;<span class="string" id="8243038">&#34;pclinetest&#34;</span><span class="op" id="8243050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243053">command</span>&nbsp;<span class="op" id="8243061">:=</span>&nbsp;<span class="ident" id="8243064">fmt</span><span class="op" id="8243067">.</span><span class="ident" id="8243068">Sprintf</span><span class="op" id="8243075">(</span><span class="string" id="8243076">&#34;go&nbsp;tool&nbsp;6a&nbsp;-o&nbsp;%s.6&nbsp;pclinetest.asm&nbsp;&amp;&amp;&nbsp;go&nbsp;tool&nbsp;6l&nbsp;-H&nbsp;linux&nbsp;-E&nbsp;main&nbsp;-o&nbsp;%s&nbsp;%s.6&#34;</span><span class="op" id="8243153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243157">pclinetestBinary</span><span class="op" id="8243173">,</span>&nbsp;<span class="ident" id="8243175">pclinetestBinary</span><span class="op" id="8243191">,</span>&nbsp;<span class="ident" id="8243193">pclinetestBinary</span><span class="op" id="8243209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243212">cmd</span>&nbsp;<span class="op" id="8243216">:=</span>&nbsp;<span class="ident" id="8243219">exec</span><span class="op" id="8243223">.</span><span class="ident" id="8243224">Command</span><span class="op" id="8243231">(</span><span class="string" id="8243232">&#34;sh&#34;</span><span class="op" id="8243236">,</span>&nbsp;<span class="string" id="8243238">&#34;-c&#34;</span><span class="op" id="8243242">,</span>&nbsp;<span class="ident" id="8243244">command</span><span class="op" id="8243251">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243254">cmd</span><span class="op" id="8243257">.</span><span class="ident" id="8243258">Stdout</span>&nbsp;<span class="op" id="8243265">=</span>&nbsp;<span class="ident" id="8243267">os</span><span class="op" id="8243269">.</span><span class="ident" id="8243270">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243278">cmd</span><span class="op" id="8243281">.</span><span class="ident" id="8243282">Stderr</span>&nbsp;<span class="op" id="8243289">=</span>&nbsp;<span class="ident" id="8243291">os</span><span class="op" id="8243293">.</span><span class="ident" id="8243294">Stderr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243302">if</span>&nbsp;<span class="ident" id="8243305">err</span>&nbsp;<span class="op" id="8243309">:=</span>&nbsp;<span class="ident" id="8243312">cmd</span><span class="op" id="8243315">.</span><span class="ident" id="8243316">Run</span><span class="op" id="8243319">(</span><span class="op" id="8243320">)</span><span class="op" id="8243321">;</span>&nbsp;<span class="ident" id="8243323">err</span>&nbsp;<span class="op" id="8243327">!=</span>&nbsp;<span class="ident" id="8243330">nil</span>&nbsp;<span class="op" id="8243334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8243338">panic</span><span class="op" id="8243343">(</span><span class="ident" id="8243344">err</span><span class="op" id="8243347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243350">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243353">return</span>&nbsp;<span class="builtintype" id="8243360">true</span><br>
<span class="lineno"></span><span class="op" id="8243365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8243368">func</span>&nbsp;<span class="ident" id="8243373">endtest</span><span class="op" id="8243380">(</span><span class="op" id="8243381">)</span>&nbsp;<span class="op" id="8243383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243386">if</span>&nbsp;<span class="ident" id="8243389">pclineTempDir</span>&nbsp;<span class="op" id="8243403">!=</span>&nbsp;<span class="string" id="8243406">&#34;&#34;</span>&nbsp;<span class="op" id="8243409">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243413">os</span><span class="op" id="8243415">.</span><span class="ident" id="8243416">RemoveAll</span><span class="op" id="8243425">(</span><span class="ident" id="8243426">pclineTempDir</span><span class="op" id="8243439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243443">pclineTempDir</span>&nbsp;<span class="op" id="8243457">=</span>&nbsp;<span class="string" id="8243459">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243464">pclinetestBinary</span>&nbsp;<span class="op" id="8243481">=</span>&nbsp;<span class="string" id="8243483">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243487">}</span><br>
<span class="lineno"></span><span class="op" id="8243489">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="8243492">func</span>&nbsp;<span class="ident" id="8243497">getTable</span><span class="op" id="8243505">(</span><span class="ident" id="8243506">t</span>&nbsp;<span class="op" id="8243508">*</span><span class="ident" id="8243509">testing</span><span class="op" id="8243516">.</span><span class="ident" id="8243517">T</span><span class="op" id="8243518">)</span>&nbsp;<span class="op" id="8243520">*</span><span class="ident" id="8243521">Table</span>&nbsp;<span class="op" id="8243527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243530">f</span><span class="op" id="8243531">,</span>&nbsp;<span class="ident" id="8243533">tab</span>&nbsp;<span class="op" id="8243537">:=</span>&nbsp;<span class="ident" id="8243540">crack</span><span class="op" id="8243545">(</span><span class="ident" id="8243546">os</span><span class="op" id="8243548">.</span><span class="ident" id="8243549">Args</span><span class="op" id="8243553">[</span><span class="num" id="8243554">0</span><span class="op" id="8243555">]</span><span class="op" id="8243556">,</span>&nbsp;<span class="ident" id="8243558">t</span><span class="op" id="8243559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243562">f</span><span class="op" id="8243563">.</span><span class="ident" id="8243564">Close</span><span class="op" id="8243569">(</span><span class="op" id="8243570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243573">return</span>&nbsp;<span class="ident" id="8243580">tab</span><br>
<span class="lineno">75</span><span class="op" id="8243584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8243587">func</span>&nbsp;<span class="ident" id="8243592">crack</span><span class="op" id="8243597">(</span><span class="ident" id="8243598">file</span>&nbsp;<span class="builtintype" id="8243603">string</span><span class="op" id="8243609">,</span>&nbsp;<span class="ident" id="8243611">t</span>&nbsp;<span class="op" id="8243613">*</span><span class="ident" id="8243614">testing</span><span class="op" id="8243621">.</span><span class="ident" id="8243622">T</span><span class="op" id="8243623">)</span>&nbsp;<span class="op" id="8243625">(</span><span class="op" id="8243626">*</span><span class="ident" id="8243627">elf</span><span class="op" id="8243630">.</span><span class="ident" id="8243631">File</span><span class="op" id="8243635">,</span>&nbsp;<span class="op" id="8243637">*</span><span class="ident" id="8243638">Table</span><span class="op" id="8243643">)</span>&nbsp;<span class="op" id="8243645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8243648">//&nbsp;Open&nbsp;self</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243662">f</span><span class="op" id="8243663">,</span>&nbsp;<span class="ident" id="8243665">err</span>&nbsp;<span class="op" id="8243669">:=</span>&nbsp;<span class="ident" id="8243672">elf</span><span class="op" id="8243675">.</span><span class="ident" id="8243676">Open</span><span class="op" id="8243680">(</span><span class="ident" id="8243681">file</span><span class="op" id="8243685">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243688">if</span>&nbsp;<span class="ident" id="8243691">err</span>&nbsp;<span class="op" id="8243695">!=</span>&nbsp;<span class="ident" id="8243698">nil</span>&nbsp;<span class="op" id="8243702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243706">t</span><span class="op" id="8243707">.</span><span class="ident" id="8243708">Fatal</span><span class="op" id="8243713">(</span><span class="ident" id="8243714">err</span><span class="op" id="8243717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243723">return</span>&nbsp;<span class="ident" id="8243730">parse</span><span class="op" id="8243735">(</span><span class="ident" id="8243736">file</span><span class="op" id="8243740">,</span>&nbsp;<span class="ident" id="8243742">f</span><span class="op" id="8243743">,</span>&nbsp;<span class="ident" id="8243745">t</span><span class="op" id="8243746">)</span><br>
<span class="lineno"></span><span class="op" id="8243748">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="8243751">func</span>&nbsp;<span class="ident" id="8243756">parse</span><span class="op" id="8243761">(</span><span class="ident" id="8243762">file</span>&nbsp;<span class="builtintype" id="8243767">string</span><span class="op" id="8243773">,</span>&nbsp;<span class="ident" id="8243775">f</span>&nbsp;<span class="op" id="8243777">*</span><span class="ident" id="8243778">elf</span><span class="op" id="8243781">.</span><span class="ident" id="8243782">File</span><span class="op" id="8243786">,</span>&nbsp;<span class="ident" id="8243788">t</span>&nbsp;<span class="op" id="8243790">*</span><span class="ident" id="8243791">testing</span><span class="op" id="8243798">.</span><span class="ident" id="8243799">T</span><span class="op" id="8243800">)</span>&nbsp;<span class="op" id="8243802">(</span><span class="op" id="8243803">*</span><span class="ident" id="8243804">elf</span><span class="op" id="8243807">.</span><span class="ident" id="8243808">File</span><span class="op" id="8243812">,</span>&nbsp;<span class="op" id="8243814">*</span><span class="ident" id="8243815">Table</span><span class="op" id="8243820">)</span>&nbsp;<span class="op" id="8243822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243825">symdat</span><span class="op" id="8243831">,</span>&nbsp;<span class="ident" id="8243833">err</span>&nbsp;<span class="op" id="8243837">:=</span>&nbsp;<span class="ident" id="8243840">f</span><span class="op" id="8243841">.</span><span class="ident" id="8243842">Section</span><span class="op" id="8243849">(</span><span class="string" id="8243850">&#34;.gosymtab&#34;</span><span class="op" id="8243861">)</span><span class="op" id="8243862">.</span><span class="ident" id="8243863">Data</span><span class="op" id="8243867">(</span><span class="op" id="8243868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243871">if</span>&nbsp;<span class="ident" id="8243874">err</span>&nbsp;<span class="op" id="8243878">!=</span>&nbsp;<span class="ident" id="8243881">nil</span>&nbsp;<span class="op" id="8243885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243889">f</span><span class="op" id="8243890">.</span><span class="ident" id="8243891">Close</span><span class="op" id="8243896">(</span><span class="op" id="8243897">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243901">t</span><span class="op" id="8243902">.</span><span class="ident" id="8243903">Fatalf</span><span class="op" id="8243909">(</span><span class="string" id="8243910">&#34;reading&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="8243935">,</span>&nbsp;<span class="ident" id="8243937">file</span><span class="op" id="8243941">,</span>&nbsp;<span class="ident" id="8243943">err</span><span class="op" id="8243946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243952">pclndat</span><span class="op" id="8243959">,</span>&nbsp;<span class="ident" id="8243961">err</span>&nbsp;<span class="op" id="8243965">:=</span>&nbsp;<span class="ident" id="8243968">f</span><span class="op" id="8243969">.</span><span class="ident" id="8243970">Section</span><span class="op" id="8243977">(</span><span class="string" id="8243978">&#34;.gopclntab&#34;</span><span class="op" id="8243990">)</span><span class="op" id="8243991">.</span><span class="ident" id="8243992">Data</span><span class="op" id="8243996">(</span><span class="op" id="8243997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244000">if</span>&nbsp;<span class="ident" id="8244003">err</span>&nbsp;<span class="op" id="8244007">!=</span>&nbsp;<span class="ident" id="8244010">nil</span>&nbsp;<span class="op" id="8244014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244018">f</span><span class="op" id="8244019">.</span><span class="ident" id="8244020">Close</span><span class="op" id="8244025">(</span><span class="op" id="8244026">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244030">t</span><span class="op" id="8244031">.</span><span class="ident" id="8244032">Fatalf</span><span class="op" id="8244038">(</span><span class="string" id="8244039">&#34;reading&nbsp;%s&nbsp;gopclntab:&nbsp;%v&#34;</span><span class="op" id="8244065">,</span>&nbsp;<span class="ident" id="8244067">file</span><span class="op" id="8244071">,</span>&nbsp;<span class="ident" id="8244073">err</span><span class="op" id="8244076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244083">pcln</span>&nbsp;<span class="op" id="8244088">:=</span>&nbsp;<span class="ident" id="8244091">NewLineTable</span><span class="op" id="8244103">(</span><span class="ident" id="8244104">pclndat</span><span class="op" id="8244111">,</span>&nbsp;<span class="ident" id="8244113">f</span><span class="op" id="8244114">.</span><span class="ident" id="8244115">Section</span><span class="op" id="8244122">(</span><span class="string" id="8244123">&#34;.text&#34;</span><span class="op" id="8244130">)</span><span class="op" id="8244131">.</span><span class="ident" id="8244132">Addr</span><span class="op" id="8244136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244139">tab</span><span class="op" id="8244142">,</span>&nbsp;<span class="ident" id="8244144">err</span>&nbsp;<span class="op" id="8244148">:=</span>&nbsp;<span class="ident" id="8244151">NewTable</span><span class="op" id="8244159">(</span><span class="ident" id="8244160">symdat</span><span class="op" id="8244166">,</span>&nbsp;<span class="ident" id="8244168">pcln</span><span class="op" id="8244172">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244175">if</span>&nbsp;<span class="ident" id="8244178">err</span>&nbsp;<span class="op" id="8244182">!=</span>&nbsp;<span class="ident" id="8244185">nil</span>&nbsp;<span class="op" id="8244189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244193">f</span><span class="op" id="8244194">.</span><span class="ident" id="8244195">Close</span><span class="op" id="8244200">(</span><span class="op" id="8244201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244205">t</span><span class="op" id="8244206">.</span><span class="ident" id="8244207">Fatalf</span><span class="op" id="8244213">(</span><span class="string" id="8244214">&#34;parsing&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="8244239">,</span>&nbsp;<span class="ident" id="8244241">file</span><span class="op" id="8244245">,</span>&nbsp;<span class="ident" id="8244247">err</span><span class="op" id="8244250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244257">return</span>&nbsp;<span class="ident" id="8244264">f</span><span class="op" id="8244265">,</span>&nbsp;<span class="ident" id="8244267">tab</span><br>
<span class="lineno"></span><span class="op" id="8244271">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8244274">var</span>&nbsp;<span class="ident" id="8244278">goarch</span>&nbsp;<span class="op" id="8244285">=</span>&nbsp;<span class="ident" id="8244287">os</span><span class="op" id="8244289">.</span><span class="ident" id="8244290">Getenv</span><span class="op" id="8244296">(</span><span class="string" id="8244297">&#34;O&#34;</span><span class="op" id="8244300">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="8244303">func</span>&nbsp;<span class="ident" id="8244308">TestLineFromAline</span><span class="op" id="8244325">(</span><span class="ident" id="8244326">t</span>&nbsp;<span class="op" id="8244328">*</span><span class="ident" id="8244329">testing</span><span class="op" id="8244336">.</span><span class="ident" id="8244337">T</span><span class="op" id="8244338">)</span>&nbsp;<span class="op" id="8244340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244343">if</span>&nbsp;<span class="op" id="8244346">!</span><span class="ident" id="8244347">dotest</span><span class="op" id="8244353">(</span><span class="builtintype" id="8244354">true</span><span class="op" id="8244358">)</span>&nbsp;<span class="op" id="8244360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244364">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244375">defer</span>&nbsp;<span class="ident" id="8244381">endtest</span><span class="op" id="8244388">(</span><span class="op" id="8244389">)</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244393">tab</span>&nbsp;<span class="op" id="8244397">:=</span>&nbsp;<span class="ident" id="8244400">getTable</span><span class="op" id="8244408">(</span><span class="ident" id="8244409">t</span><span class="op" id="8244410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244413">if</span>&nbsp;<span class="ident" id="8244416">tab</span><span class="op" id="8244419">.</span><span class="ident" id="8244420">go12line</span>&nbsp;<span class="op" id="8244429">!=</span>&nbsp;<span class="ident" id="8244432">nil</span>&nbsp;<span class="op" id="8244436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244440">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244486">t</span><span class="op" id="8244487">.</span><span class="ident" id="8244488">Skip</span><span class="op" id="8244492">(</span><span class="string" id="8244493">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="8244530">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244537">//&nbsp;Find&nbsp;the&nbsp;sym&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244562">pkg</span>&nbsp;<span class="op" id="8244566">:=</span>&nbsp;<span class="ident" id="8244569">tab</span><span class="op" id="8244572">.</span><span class="ident" id="8244573">LookupFunc</span><span class="op" id="8244583">(</span><span class="string" id="8244584">&#34;debug/gosym.TestLineFromAline&#34;</span><span class="op" id="8244615">)</span><span class="op" id="8244616">.</span><span class="ident" id="8244617">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244622">if</span>&nbsp;<span class="ident" id="8244625">pkg</span>&nbsp;<span class="op" id="8244629">==</span>&nbsp;<span class="ident" id="8244632">nil</span>&nbsp;<span class="op" id="8244636">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244640">t</span><span class="op" id="8244641">.</span><span class="ident" id="8244642">Fatalf</span><span class="op" id="8244648">(</span><span class="string" id="8244649">&#34;nil&nbsp;pkg&#34;</span><span class="op" id="8244658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244665">//&nbsp;Walk&nbsp;every&nbsp;absolute&nbsp;line&nbsp;and&nbsp;ensure&nbsp;that&nbsp;we&nbsp;hit&nbsp;every</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244723">//&nbsp;source&nbsp;line&nbsp;monotonically</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244753">lastline</span>&nbsp;<span class="op" id="8244762">:=</span>&nbsp;<span class="builtinfunc" id="8244765">make</span><span class="op" id="8244769">(</span><span class="keyword" id="8244770">map</span><span class="op" id="8244773">[</span><span class="builtintype" id="8244774">string</span><span class="op" id="8244780">]</span><span class="builtintype" id="8244781">int</span><span class="op" id="8244784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244787">final</span>&nbsp;<span class="op" id="8244793">:=</span>&nbsp;<span class="op" id="8244796">-</span><span class="num" id="8244797">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244800">for</span>&nbsp;<span class="ident" id="8244804">i</span>&nbsp;<span class="op" id="8244806">:=</span>&nbsp;<span class="num" id="8244809">0</span><span class="op" id="8244810">;</span>&nbsp;<span class="ident" id="8244812">i</span>&nbsp;<span class="op" id="8244814">&lt;</span>&nbsp;<span class="num" id="8244816">10000</span><span class="op" id="8244821">;</span>&nbsp;<span class="ident" id="8244823">i</span><span class="op" id="8244824">++</span>&nbsp;<span class="op" id="8244827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244831">path</span><span class="op" id="8244835">,</span>&nbsp;<span class="ident" id="8244837">line</span>&nbsp;<span class="op" id="8244842">:=</span>&nbsp;<span class="ident" id="8244845">pkg</span><span class="op" id="8244848">.</span><span class="ident" id="8244849">lineFromAline</span><span class="op" id="8244862">(</span><span class="ident" id="8244863">i</span><span class="op" id="8244864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244868">//&nbsp;Check&nbsp;for&nbsp;end&nbsp;of&nbsp;object</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244897">if</span>&nbsp;<span class="ident" id="8244900">path</span>&nbsp;<span class="op" id="8244905">==</span>&nbsp;<span class="string" id="8244908">&#34;&#34;</span>&nbsp;<span class="op" id="8244911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244916">if</span>&nbsp;<span class="ident" id="8244919">final</span>&nbsp;<span class="op" id="8244925">==</span>&nbsp;<span class="op" id="8244928">-</span><span class="num" id="8244929">1</span>&nbsp;<span class="op" id="8244931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244937">final</span>&nbsp;<span class="op" id="8244943">=</span>&nbsp;<span class="ident" id="8244945">i</span>&nbsp;<span class="op" id="8244947">-</span>&nbsp;<span class="num" id="8244949">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244954">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244959">continue</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244970">}</span>&nbsp;<span class="keyword" id="8244972">else</span>&nbsp;<span class="keyword" id="8244977">if</span>&nbsp;<span class="ident" id="8244980">final</span>&nbsp;<span class="op" id="8244986">!=</span>&nbsp;<span class="op" id="8244989">-</span><span class="num" id="8244990">1</span>&nbsp;<span class="op" id="8244992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244997">t</span><span class="op" id="8244998">.</span><span class="ident" id="8244999">Fatalf</span><span class="op" id="8245005">(</span><span class="string" id="8245006">&#34;reached&nbsp;end&nbsp;of&nbsp;package&nbsp;at&nbsp;absolute&nbsp;line&nbsp;%d,&nbsp;but&nbsp;absolute&nbsp;line&nbsp;%d&nbsp;mapped&nbsp;to&nbsp;%s:%d&#34;</span><span class="op" id="8245088">,</span>&nbsp;<span class="ident" id="8245090">final</span><span class="op" id="8245095">,</span>&nbsp;<span class="ident" id="8245097">i</span><span class="op" id="8245098">,</span>&nbsp;<span class="ident" id="8245100">path</span><span class="op" id="8245104">,</span>&nbsp;<span class="ident" id="8245106">line</span><span class="op" id="8245110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245118">//&nbsp;It&#39;s&nbsp;okay&nbsp;to&nbsp;see&nbsp;files&nbsp;multiple&nbsp;times&nbsp;(e.g.,&nbsp;sys.a)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245175">if</span>&nbsp;<span class="ident" id="8245178">line</span>&nbsp;<span class="op" id="8245183">==</span>&nbsp;<span class="num" id="8245186">1</span>&nbsp;<span class="op" id="8245188">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245193">lastline</span><span class="op" id="8245201">[</span><span class="ident" id="8245202">path</span><span class="op" id="8245206">]</span>&nbsp;<span class="op" id="8245208">=</span>&nbsp;<span class="num" id="8245210">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245215">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245230">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;is&nbsp;the&nbsp;next&nbsp;line&nbsp;in&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245275">ll</span><span class="op" id="8245277">,</span>&nbsp;<span class="ident" id="8245279">ok</span>&nbsp;<span class="op" id="8245282">:=</span>&nbsp;<span class="ident" id="8245285">lastline</span><span class="op" id="8245293">[</span><span class="ident" id="8245294">path</span><span class="op" id="8245298">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245302">if</span>&nbsp;<span class="op" id="8245305">!</span><span class="ident" id="8245306">ok</span>&nbsp;<span class="op" id="8245309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245314">t</span><span class="op" id="8245315">.</span><span class="ident" id="8245316">Errorf</span><span class="op" id="8245322">(</span><span class="string" id="8245323">&#34;file&nbsp;%s&nbsp;starts&nbsp;on&nbsp;line&nbsp;%d&#34;</span><span class="op" id="8245350">,</span>&nbsp;<span class="ident" id="8245352">path</span><span class="op" id="8245356">,</span>&nbsp;<span class="ident" id="8245358">line</span><span class="op" id="8245362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245366">}</span>&nbsp;<span class="keyword" id="8245368">else</span>&nbsp;<span class="keyword" id="8245373">if</span>&nbsp;<span class="ident" id="8245376">line</span>&nbsp;<span class="op" id="8245381">!=</span>&nbsp;<span class="ident" id="8245384">ll</span><span class="op" id="8245386">+</span><span class="num" id="8245387">1</span>&nbsp;<span class="op" id="8245389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245394">t</span><span class="op" id="8245395">.</span><span class="ident" id="8245396">Fatalf</span><span class="op" id="8245402">(</span><span class="string" id="8245403">&#34;expected&nbsp;next&nbsp;line&nbsp;of&nbsp;file&nbsp;%s&nbsp;to&nbsp;be&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8245451">,</span>&nbsp;<span class="ident" id="8245453">path</span><span class="op" id="8245457">,</span>&nbsp;<span class="ident" id="8245459">ll</span><span class="op" id="8245461">+</span><span class="num" id="8245462">1</span><span class="op" id="8245463">,</span>&nbsp;<span class="ident" id="8245465">line</span><span class="op" id="8245469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245473">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245477">lastline</span><span class="op" id="8245485">[</span><span class="ident" id="8245486">path</span><span class="op" id="8245490">]</span>&nbsp;<span class="op" id="8245492">=</span>&nbsp;<span class="ident" id="8245494">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245503">if</span>&nbsp;<span class="ident" id="8245506">final</span>&nbsp;<span class="op" id="8245512">==</span>&nbsp;<span class="op" id="8245515">-</span><span class="num" id="8245516">1</span>&nbsp;<span class="op" id="8245518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245522">t</span><span class="op" id="8245523">.</span><span class="ident" id="8245524">Errorf</span><span class="op" id="8245530">(</span><span class="string" id="8245531">&#34;never&nbsp;reached&nbsp;end&nbsp;of&nbsp;object&#34;</span><span class="op" id="8245560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245563">}</span><br>
<span class="lineno">160</span><span class="op" id="8245565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8245568">func</span>&nbsp;<span class="ident" id="8245573">TestLineAline</span><span class="op" id="8245586">(</span><span class="ident" id="8245587">t</span>&nbsp;<span class="op" id="8245589">*</span><span class="ident" id="8245590">testing</span><span class="op" id="8245597">.</span><span class="ident" id="8245598">T</span><span class="op" id="8245599">)</span>&nbsp;<span class="op" id="8245601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245604">if</span>&nbsp;<span class="op" id="8245607">!</span><span class="ident" id="8245608">dotest</span><span class="op" id="8245614">(</span><span class="builtintype" id="8245615">true</span><span class="op" id="8245619">)</span>&nbsp;<span class="op" id="8245621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245625">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245636">defer</span>&nbsp;<span class="ident" id="8245642">endtest</span><span class="op" id="8245649">(</span><span class="op" id="8245650">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245654">tab</span>&nbsp;<span class="op" id="8245658">:=</span>&nbsp;<span class="ident" id="8245661">getTable</span><span class="op" id="8245669">(</span><span class="ident" id="8245670">t</span><span class="op" id="8245671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245674">if</span>&nbsp;<span class="ident" id="8245677">tab</span><span class="op" id="8245680">.</span><span class="ident" id="8245681">go12line</span>&nbsp;<span class="op" id="8245690">!=</span>&nbsp;<span class="ident" id="8245693">nil</span>&nbsp;<span class="op" id="8245697">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245701">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245747">t</span><span class="op" id="8245748">.</span><span class="ident" id="8245749">Skip</span><span class="op" id="8245753">(</span><span class="string" id="8245754">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="8245791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245798">for</span>&nbsp;<span class="ident" id="8245802">_</span><span class="op" id="8245803">,</span>&nbsp;<span class="ident" id="8245805">o</span>&nbsp;<span class="op" id="8245807">:=</span>&nbsp;<span class="keyword" id="8245810">range</span>&nbsp;<span class="ident" id="8245816">tab</span><span class="op" id="8245819">.</span><span class="ident" id="8245820">Files</span>&nbsp;<span class="op" id="8245826">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245830">//&nbsp;A&nbsp;source&nbsp;file&nbsp;can&nbsp;appear&nbsp;multiple&nbsp;times&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245880">//&nbsp;object.&nbsp;&nbsp;alineFromLine&nbsp;will&nbsp;always&nbsp;return&nbsp;alines&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245937">//&nbsp;the&nbsp;first&nbsp;file,&nbsp;so&nbsp;track&nbsp;which&nbsp;lines&nbsp;we&#39;ve&nbsp;seen.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245991">found</span>&nbsp;<span class="op" id="8245997">:=</span>&nbsp;<span class="builtinfunc" id="8246000">make</span><span class="op" id="8246004">(</span><span class="keyword" id="8246005">map</span><span class="op" id="8246008">[</span><span class="builtintype" id="8246009">string</span><span class="op" id="8246015">]</span><span class="builtintype" id="8246016">int</span><span class="op" id="8246019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246023">for</span>&nbsp;<span class="ident" id="8246027">i</span>&nbsp;<span class="op" id="8246029">:=</span>&nbsp;<span class="num" id="8246032">0</span><span class="op" id="8246033">;</span>&nbsp;<span class="ident" id="8246035">i</span>&nbsp;<span class="op" id="8246037">&lt;</span>&nbsp;<span class="num" id="8246039">1000</span><span class="op" id="8246043">;</span>&nbsp;<span class="ident" id="8246045">i</span><span class="op" id="8246046">++</span>&nbsp;<span class="op" id="8246049">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246054">path</span><span class="op" id="8246058">,</span>&nbsp;<span class="ident" id="8246060">line</span>&nbsp;<span class="op" id="8246065">:=</span>&nbsp;<span class="ident" id="8246068">o</span><span class="op" id="8246069">.</span><span class="ident" id="8246070">lineFromAline</span><span class="op" id="8246083">(</span><span class="ident" id="8246084">i</span><span class="op" id="8246085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246090">if</span>&nbsp;<span class="ident" id="8246093">path</span>&nbsp;<span class="op" id="8246098">==</span>&nbsp;<span class="string" id="8246101">&#34;&#34;</span>&nbsp;<span class="op" id="8246104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246110">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8246119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246125">//&nbsp;cgo&nbsp;files&nbsp;are&nbsp;full&nbsp;of&nbsp;&#39;Z&#39;&nbsp;symbols,&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246188">if</span>&nbsp;<span class="builtinfunc" id="8246191">len</span><span class="op" id="8246194">(</span><span class="ident" id="8246195">path</span><span class="op" id="8246199">)</span>&nbsp;<span class="op" id="8246201">&gt;</span>&nbsp;<span class="num" id="8246203">4</span>&nbsp;<span class="op" id="8246205">&amp;&amp;</span>&nbsp;<span class="ident" id="8246208">path</span><span class="op" id="8246212">[</span><span class="builtinfunc" id="8246213">len</span><span class="op" id="8246216">(</span><span class="ident" id="8246217">path</span><span class="op" id="8246221">)</span><span class="op" id="8246222">-</span><span class="num" id="8246223">4</span><span class="op" id="8246224">:</span><span class="op" id="8246225">]</span>&nbsp;<span class="op" id="8246227">==</span>&nbsp;<span class="string" id="8246230">&#34;.cgo&#34;</span>&nbsp;<span class="op" id="8246237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246243">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8246255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246261">if</span>&nbsp;<span class="ident" id="8246264">minline</span><span class="op" id="8246271">,</span>&nbsp;<span class="ident" id="8246273">ok</span>&nbsp;<span class="op" id="8246276">:=</span>&nbsp;<span class="ident" id="8246279">found</span><span class="op" id="8246284">[</span><span class="ident" id="8246285">path</span><span class="op" id="8246289">]</span><span class="op" id="8246290">;</span>&nbsp;<span class="ident" id="8246292">path</span>&nbsp;<span class="op" id="8246297">!=</span>&nbsp;<span class="string" id="8246300">&#34;&#34;</span>&nbsp;<span class="op" id="8246303">&amp;&amp;</span>&nbsp;<span class="ident" id="8246306">ok</span>&nbsp;<span class="op" id="8246309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246315">if</span>&nbsp;<span class="ident" id="8246318">minline</span>&nbsp;<span class="op" id="8246326">&gt;=</span>&nbsp;<span class="ident" id="8246329">line</span>&nbsp;<span class="op" id="8246334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246341">//&nbsp;We&#39;ve&nbsp;already&nbsp;covered&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246381">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8246394">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8246399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246404">found</span><span class="op" id="8246409">[</span><span class="ident" id="8246410">path</span><span class="op" id="8246414">]</span>&nbsp;<span class="op" id="8246416">=</span>&nbsp;<span class="ident" id="8246418">line</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246427">a</span><span class="op" id="8246428">,</span>&nbsp;<span class="ident" id="8246430">err</span>&nbsp;<span class="op" id="8246434">:=</span>&nbsp;<span class="ident" id="8246437">o</span><span class="op" id="8246438">.</span><span class="ident" id="8246439">alineFromLine</span><span class="op" id="8246452">(</span><span class="ident" id="8246453">path</span><span class="op" id="8246457">,</span>&nbsp;<span class="ident" id="8246459">line</span><span class="op" id="8246463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246468">if</span>&nbsp;<span class="ident" id="8246471">err</span>&nbsp;<span class="op" id="8246475">!=</span>&nbsp;<span class="ident" id="8246478">nil</span>&nbsp;<span class="op" id="8246482">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246488">t</span><span class="op" id="8246489">.</span><span class="ident" id="8246490">Errorf</span><span class="op" id="8246496">(</span><span class="string" id="8246497">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;but&nbsp;mapping&nbsp;that&nbsp;back&nbsp;gives&nbsp;error&nbsp;%s&#34;</span><span class="op" id="8246580">,</span>&nbsp;<span class="ident" id="8246582">i</span><span class="op" id="8246583">,</span>&nbsp;<span class="ident" id="8246585">o</span><span class="op" id="8246586">.</span><span class="ident" id="8246587">Paths</span><span class="op" id="8246592">[</span><span class="num" id="8246593">0</span><span class="op" id="8246594">]</span><span class="op" id="8246595">.</span><span class="ident" id="8246596">Name</span><span class="op" id="8246600">,</span>&nbsp;<span class="ident" id="8246602">path</span><span class="op" id="8246606">,</span>&nbsp;<span class="ident" id="8246608">line</span><span class="op" id="8246612">,</span>&nbsp;<span class="ident" id="8246614">err</span><span class="op" id="8246617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8246622">}</span>&nbsp;<span class="keyword" id="8246624">else</span>&nbsp;<span class="keyword" id="8246629">if</span>&nbsp;<span class="ident" id="8246632">a</span>&nbsp;<span class="op" id="8246634">!=</span>&nbsp;<span class="ident" id="8246637">i</span>&nbsp;<span class="op" id="8246639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246645">t</span><span class="op" id="8246646">.</span><span class="ident" id="8246647">Errorf</span><span class="op" id="8246653">(</span><span class="string" id="8246654">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;which&nbsp;maps&nbsp;back&nbsp;to&nbsp;absolute&nbsp;line&nbsp;%d\n&#34;</span><span class="op" id="8246738">,</span>&nbsp;<span class="ident" id="8246740">i</span><span class="op" id="8246741">,</span>&nbsp;<span class="ident" id="8246743">o</span><span class="op" id="8246744">.</span><span class="ident" id="8246745">Paths</span><span class="op" id="8246750">[</span><span class="num" id="8246751">0</span><span class="op" id="8246752">]</span><span class="op" id="8246753">.</span><span class="ident" id="8246754">Name</span><span class="op" id="8246758">,</span>&nbsp;<span class="ident" id="8246760">path</span><span class="op" id="8246764">,</span>&nbsp;<span class="ident" id="8246766">line</span><span class="op" id="8246770">,</span>&nbsp;<span class="ident" id="8246772">a</span><span class="op" id="8246773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8246778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8246782">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8246785">}</span><br>
<span class="lineno"></span><span class="op" id="8246787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8246790">func</span>&nbsp;<span class="ident" id="8246795">TestPCLine</span><span class="op" id="8246805">(</span><span class="ident" id="8246806">t</span>&nbsp;<span class="op" id="8246808">*</span><span class="ident" id="8246809">testing</span><span class="op" id="8246816">.</span><span class="ident" id="8246817">T</span><span class="op" id="8246818">)</span>&nbsp;<span class="op" id="8246820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246823">if</span>&nbsp;<span class="op" id="8246826">!</span><span class="ident" id="8246827">dotest</span><span class="op" id="8246833">(</span><span class="builtintype" id="8246834">false</span><span class="op" id="8246839">)</span>&nbsp;<span class="op" id="8246841">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246845">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8246853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246856">defer</span>&nbsp;<span class="ident" id="8246862">endtest</span><span class="op" id="8246869">(</span><span class="op" id="8246870">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246874">f</span><span class="op" id="8246875">,</span>&nbsp;<span class="ident" id="8246877">tab</span>&nbsp;<span class="op" id="8246881">:=</span>&nbsp;<span class="ident" id="8246884">crack</span><span class="op" id="8246889">(</span><span class="ident" id="8246890">pclinetestBinary</span><span class="op" id="8246906">,</span>&nbsp;<span class="ident" id="8246908">t</span><span class="op" id="8246909">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246912">text</span>&nbsp;<span class="op" id="8246917">:=</span>&nbsp;<span class="ident" id="8246920">f</span><span class="op" id="8246921">.</span><span class="ident" id="8246922">Section</span><span class="op" id="8246929">(</span><span class="string" id="8246930">&#34;.text&#34;</span><span class="op" id="8246937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246940">textdat</span><span class="op" id="8246947">,</span>&nbsp;<span class="ident" id="8246949">err</span>&nbsp;<span class="op" id="8246953">:=</span>&nbsp;<span class="ident" id="8246956">text</span><span class="op" id="8246960">.</span><span class="ident" id="8246961">Data</span><span class="op" id="8246965">(</span><span class="op" id="8246966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246969">if</span>&nbsp;<span class="ident" id="8246972">err</span>&nbsp;<span class="op" id="8246976">!=</span>&nbsp;<span class="ident" id="8246979">nil</span>&nbsp;<span class="op" id="8246983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246987">t</span><span class="op" id="8246988">.</span><span class="ident" id="8246989">Fatalf</span><span class="op" id="8246995">(</span><span class="string" id="8246996">&#34;reading&nbsp;.text:&nbsp;%v&#34;</span><span class="op" id="8247015">,</span>&nbsp;<span class="ident" id="8247017">err</span><span class="op" id="8247020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8247023">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247027">//&nbsp;Test&nbsp;PCToLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247045">sym</span>&nbsp;<span class="op" id="8247049">:=</span>&nbsp;<span class="ident" id="8247052">tab</span><span class="op" id="8247055">.</span><span class="ident" id="8247056">LookupFunc</span><span class="op" id="8247066">(</span><span class="string" id="8247067">&#34;linefrompc&#34;</span><span class="op" id="8247079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247082">wantLine</span>&nbsp;<span class="op" id="8247091">:=</span>&nbsp;<span class="num" id="8247094">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247097">for</span>&nbsp;<span class="ident" id="8247101">pc</span>&nbsp;<span class="op" id="8247104">:=</span>&nbsp;<span class="ident" id="8247107">sym</span><span class="op" id="8247110">.</span><span class="ident" id="8247111">Entry</span><span class="op" id="8247116">;</span>&nbsp;<span class="ident" id="8247118">pc</span>&nbsp;<span class="op" id="8247121">&lt;</span>&nbsp;<span class="ident" id="8247123">sym</span><span class="op" id="8247126">.</span><span class="ident" id="8247127">End</span><span class="op" id="8247130">;</span>&nbsp;<span class="ident" id="8247132">pc</span><span class="op" id="8247134">++</span>&nbsp;<span class="op" id="8247137">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247141">off</span>&nbsp;<span class="op" id="8247145">:=</span>&nbsp;<span class="ident" id="8247148">pc</span>&nbsp;<span class="op" id="8247151">-</span>&nbsp;<span class="ident" id="8247153">text</span><span class="op" id="8247157">.</span><span class="ident" id="8247158">Addr</span>&nbsp;<span class="comment" id="8247163">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247210">if</span>&nbsp;<span class="ident" id="8247213">textdat</span><span class="op" id="8247220">[</span><span class="ident" id="8247221">off</span><span class="op" id="8247224">]</span>&nbsp;<span class="op" id="8247226">==</span>&nbsp;<span class="num" id="8247229">255</span>&nbsp;<span class="op" id="8247233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247238">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8247246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247250">wantLine</span>&nbsp;<span class="op" id="8247259">+=</span>&nbsp;<span class="builtintype" id="8247262">int</span><span class="op" id="8247265">(</span><span class="ident" id="8247266">textdat</span><span class="op" id="8247273">[</span><span class="ident" id="8247274">off</span><span class="op" id="8247277">]</span><span class="op" id="8247278">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247282">t</span><span class="op" id="8247283">.</span><span class="ident" id="8247284">Logf</span><span class="op" id="8247288">(</span><span class="string" id="8247289">&#34;off&nbsp;is&nbsp;%d&nbsp;%#x&nbsp;(max&nbsp;%d)&#34;</span><span class="op" id="8247313">,</span>&nbsp;<span class="ident" id="8247315">off</span><span class="op" id="8247318">,</span>&nbsp;<span class="ident" id="8247320">textdat</span><span class="op" id="8247327">[</span><span class="ident" id="8247328">off</span><span class="op" id="8247331">]</span><span class="op" id="8247332">,</span>&nbsp;<span class="ident" id="8247334">sym</span><span class="op" id="8247337">.</span><span class="ident" id="8247338">End</span><span class="op" id="8247341">-</span><span class="ident" id="8247342">pc</span><span class="op" id="8247344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247348">file</span><span class="op" id="8247352">,</span>&nbsp;<span class="ident" id="8247354">line</span><span class="op" id="8247358">,</span>&nbsp;<span class="ident" id="8247360">fn</span>&nbsp;<span class="op" id="8247363">:=</span>&nbsp;<span class="ident" id="8247366">tab</span><span class="op" id="8247369">.</span><span class="ident" id="8247370">PCToLine</span><span class="op" id="8247378">(</span><span class="ident" id="8247379">pc</span><span class="op" id="8247381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247385">if</span>&nbsp;<span class="ident" id="8247388">fn</span>&nbsp;<span class="op" id="8247391">==</span>&nbsp;<span class="ident" id="8247394">nil</span>&nbsp;<span class="op" id="8247398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247403">t</span><span class="op" id="8247404">.</span><span class="ident" id="8247405">Errorf</span><span class="op" id="8247411">(</span><span class="string" id="8247412">&#34;failed&nbsp;to&nbsp;get&nbsp;line&nbsp;of&nbsp;PC&nbsp;%#x&#34;</span><span class="op" id="8247442">,</span>&nbsp;<span class="ident" id="8247444">pc</span><span class="op" id="8247446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8247450">}</span>&nbsp;<span class="keyword" id="8247452">else</span>&nbsp;<span class="keyword" id="8247457">if</span>&nbsp;<span class="op" id="8247460">!</span><span class="ident" id="8247461">strings</span><span class="op" id="8247468">.</span><span class="ident" id="8247469">HasSuffix</span><span class="op" id="8247478">(</span><span class="ident" id="8247479">file</span><span class="op" id="8247483">,</span>&nbsp;<span class="string" id="8247485">&#34;pclinetest.asm&#34;</span><span class="op" id="8247501">)</span>&nbsp;<span class="op" id="8247503">||</span>&nbsp;<span class="ident" id="8247506">line</span>&nbsp;<span class="op" id="8247511">!=</span>&nbsp;<span class="ident" id="8247514">wantLine</span>&nbsp;<span class="op" id="8247523">||</span>&nbsp;<span class="ident" id="8247526">fn</span>&nbsp;<span class="op" id="8247529">!=</span>&nbsp;<span class="ident" id="8247532">sym</span>&nbsp;<span class="op" id="8247536">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247541">t</span><span class="op" id="8247542">.</span><span class="ident" id="8247543">Errorf</span><span class="op" id="8247549">(</span><span class="string" id="8247550">&#34;PCToLine(%#x)&nbsp;=&nbsp;%s:%d&nbsp;(%s),&nbsp;want&nbsp;%s:%d&nbsp;(%s)&#34;</span><span class="op" id="8247595">,</span>&nbsp;<span class="ident" id="8247597">pc</span><span class="op" id="8247599">,</span>&nbsp;<span class="ident" id="8247601">file</span><span class="op" id="8247605">,</span>&nbsp;<span class="ident" id="8247607">line</span><span class="op" id="8247611">,</span>&nbsp;<span class="ident" id="8247613">fn</span><span class="op" id="8247615">.</span><span class="ident" id="8247616">Name</span><span class="op" id="8247620">,</span>&nbsp;<span class="string" id="8247622">&#34;pclinetest.asm&#34;</span><span class="op" id="8247638">,</span>&nbsp;<span class="ident" id="8247640">wantLine</span><span class="op" id="8247648">,</span>&nbsp;<span class="ident" id="8247650">sym</span><span class="op" id="8247653">.</span><span class="ident" id="8247654">Name</span><span class="op" id="8247658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8247662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8247665">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247669">//&nbsp;Test&nbsp;LineToPC</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247687">sym</span>&nbsp;<span class="op" id="8247691">=</span>&nbsp;<span class="ident" id="8247693">tab</span><span class="op" id="8247696">.</span><span class="ident" id="8247697">LookupFunc</span><span class="op" id="8247707">(</span><span class="string" id="8247708">&#34;pcfromline&#34;</span><span class="op" id="8247720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247723">lookupline</span>&nbsp;<span class="op" id="8247734">:=</span>&nbsp;<span class="op" id="8247737">-</span><span class="num" id="8247738">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247741">wantLine</span>&nbsp;<span class="op" id="8247750">=</span>&nbsp;<span class="num" id="8247752">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247755">off</span>&nbsp;<span class="op" id="8247759">:=</span>&nbsp;<span class="ident" id="8247762">uint64</span><span class="op" id="8247768">(</span><span class="num" id="8247769">0</span><span class="op" id="8247770">)</span>&nbsp;<span class="comment" id="8247772">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247818">for</span>&nbsp;<span class="ident" id="8247822">pc</span>&nbsp;<span class="op" id="8247825">:=</span>&nbsp;<span class="ident" id="8247828">sym</span><span class="op" id="8247831">.</span><span class="ident" id="8247832">Value</span><span class="op" id="8247837">;</span>&nbsp;<span class="ident" id="8247839">pc</span>&nbsp;<span class="op" id="8247842">&lt;</span>&nbsp;<span class="ident" id="8247844">sym</span><span class="op" id="8247847">.</span><span class="ident" id="8247848">End</span><span class="op" id="8247851">;</span>&nbsp;<span class="ident" id="8247853">pc</span>&nbsp;<span class="op" id="8247856">+=</span>&nbsp;<span class="num" id="8247859">2</span>&nbsp;<span class="op" id="8247861">+</span>&nbsp;<span class="ident" id="8247863">uint64</span><span class="op" id="8247869">(</span><span class="ident" id="8247870">textdat</span><span class="op" id="8247877">[</span><span class="ident" id="8247878">off</span><span class="op" id="8247881">]</span><span class="op" id="8247882">)</span>&nbsp;<span class="op" id="8247884">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247888">file</span><span class="op" id="8247892">,</span>&nbsp;<span class="ident" id="8247894">line</span><span class="op" id="8247898">,</span>&nbsp;<span class="ident" id="8247900">fn</span>&nbsp;<span class="op" id="8247903">:=</span>&nbsp;<span class="ident" id="8247906">tab</span><span class="op" id="8247909">.</span><span class="ident" id="8247910">PCToLine</span><span class="op" id="8247918">(</span><span class="ident" id="8247919">pc</span><span class="op" id="8247921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247925">off</span>&nbsp;<span class="op" id="8247929">=</span>&nbsp;<span class="ident" id="8247931">pc</span>&nbsp;<span class="op" id="8247934">-</span>&nbsp;<span class="ident" id="8247936">text</span><span class="op" id="8247940">.</span><span class="ident" id="8247941">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247948">if</span>&nbsp;<span class="ident" id="8247951">textdat</span><span class="op" id="8247958">[</span><span class="ident" id="8247959">off</span><span class="op" id="8247962">]</span>&nbsp;<span class="op" id="8247964">==</span>&nbsp;<span class="num" id="8247967">255</span>&nbsp;<span class="op" id="8247971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247976">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8247984">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247988">wantLine</span>&nbsp;<span class="op" id="8247997">+=</span>&nbsp;<span class="builtintype" id="8248000">int</span><span class="op" id="8248003">(</span><span class="ident" id="8248004">textdat</span><span class="op" id="8248011">[</span><span class="ident" id="8248012">off</span><span class="op" id="8248015">]</span><span class="op" id="8248016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8248020">if</span>&nbsp;<span class="ident" id="8248023">line</span>&nbsp;<span class="op" id="8248028">!=</span>&nbsp;<span class="ident" id="8248031">wantLine</span>&nbsp;<span class="op" id="8248040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248045">t</span><span class="op" id="8248046">.</span><span class="ident" id="8248047">Errorf</span><span class="op" id="8248053">(</span><span class="string" id="8248054">&#34;expected&nbsp;line&nbsp;%d&nbsp;at&nbsp;PC&nbsp;%#x&nbsp;in&nbsp;pcfromline,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8248104">,</span>&nbsp;<span class="ident" id="8248106">wantLine</span><span class="op" id="8248114">,</span>&nbsp;<span class="ident" id="8248116">pc</span><span class="op" id="8248118">,</span>&nbsp;<span class="ident" id="8248120">line</span><span class="op" id="8248124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248129">off</span>&nbsp;<span class="op" id="8248133">=</span>&nbsp;<span class="ident" id="8248135">pc</span>&nbsp;<span class="op" id="8248138">+</span>&nbsp;<span class="num" id="8248140">1</span>&nbsp;<span class="op" id="8248142">-</span>&nbsp;<span class="ident" id="8248144">text</span><span class="op" id="8248148">.</span><span class="ident" id="8248149">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8248157">continue</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8248168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8248172">if</span>&nbsp;<span class="ident" id="8248175">lookupline</span>&nbsp;<span class="op" id="8248186">==</span>&nbsp;<span class="op" id="8248189">-</span><span class="num" id="8248190">1</span>&nbsp;<span class="op" id="8248192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248197">lookupline</span>&nbsp;<span class="op" id="8248208">=</span>&nbsp;<span class="ident" id="8248210">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8248217">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8248221">for</span>&nbsp;<span class="op" id="8248225">;</span>&nbsp;<span class="ident" id="8248227">lookupline</span>&nbsp;<span class="op" id="8248238">&lt;=</span>&nbsp;<span class="ident" id="8248241">line</span><span class="op" id="8248245">;</span>&nbsp;<span class="ident" id="8248247">lookupline</span><span class="op" id="8248257">++</span>&nbsp;<span class="op" id="8248260">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248265">pc2</span><span class="op" id="8248268">,</span>&nbsp;<span class="ident" id="8248270">fn2</span><span class="op" id="8248273">,</span>&nbsp;<span class="ident" id="8248275">err</span>&nbsp;<span class="op" id="8248279">:=</span>&nbsp;<span class="ident" id="8248282">tab</span><span class="op" id="8248285">.</span><span class="ident" id="8248286">LineToPC</span><span class="op" id="8248294">(</span><span class="ident" id="8248295">file</span><span class="op" id="8248299">,</span>&nbsp;<span class="ident" id="8248301">lookupline</span><span class="op" id="8248311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8248316">if</span>&nbsp;<span class="ident" id="8248319">lookupline</span>&nbsp;<span class="op" id="8248330">!=</span>&nbsp;<span class="ident" id="8248333">line</span>&nbsp;<span class="op" id="8248338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8248344">//&nbsp;Should&nbsp;be&nbsp;nothing&nbsp;on&nbsp;this&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8248382">if</span>&nbsp;<span class="ident" id="8248385">err</span>&nbsp;<span class="op" id="8248389">==</span>&nbsp;<span class="ident" id="8248392">nil</span>&nbsp;<span class="op" id="8248396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248403">t</span><span class="op" id="8248404">.</span><span class="ident" id="8248405">Errorf</span><span class="op" id="8248411">(</span><span class="string" id="8248412">&#34;expected&nbsp;no&nbsp;PC&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="8248453">,</span>&nbsp;<span class="ident" id="8248455">lookupline</span><span class="op" id="8248465">,</span>&nbsp;<span class="ident" id="8248467">pc2</span><span class="op" id="8248470">,</span>&nbsp;<span class="ident" id="8248472">fn2</span><span class="op" id="8248475">.</span><span class="ident" id="8248476">Name</span><span class="op" id="8248480">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8248486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8248491">}</span>&nbsp;<span class="keyword" id="8248493">else</span>&nbsp;<span class="keyword" id="8248498">if</span>&nbsp;<span class="ident" id="8248501">err</span>&nbsp;<span class="op" id="8248505">!=</span>&nbsp;<span class="ident" id="8248508">nil</span>&nbsp;<span class="op" id="8248512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248518">t</span><span class="op" id="8248519">.</span><span class="ident" id="8248520">Errorf</span><span class="op" id="8248526">(</span><span class="string" id="8248527">&#34;failed&nbsp;to&nbsp;get&nbsp;PC&nbsp;of&nbsp;line&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8248560">,</span>&nbsp;<span class="ident" id="8248562">lookupline</span><span class="op" id="8248572">,</span>&nbsp;<span class="ident" id="8248574">err</span><span class="op" id="8248577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8248582">}</span>&nbsp;<span class="keyword" id="8248584">else</span>&nbsp;<span class="keyword" id="8248589">if</span>&nbsp;<span class="ident" id="8248592">pc</span>&nbsp;<span class="op" id="8248595">!=</span>&nbsp;<span class="ident" id="8248598">pc2</span>&nbsp;<span class="op" id="8248602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248608">t</span><span class="op" id="8248609">.</span><span class="ident" id="8248610">Errorf</span><span class="op" id="8248616">(</span><span class="string" id="8248617">&#34;expected&nbsp;PC&nbsp;%#x&nbsp;(%s)&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;PC&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="8248667">,</span>&nbsp;<span class="ident" id="8248669">pc</span><span class="op" id="8248671">,</span>&nbsp;<span class="ident" id="8248673">fn</span><span class="op" id="8248675">.</span><span class="ident" id="8248676">Name</span><span class="op" id="8248680">,</span>&nbsp;<span class="ident" id="8248682">line</span><span class="op" id="8248686">,</span>&nbsp;<span class="ident" id="8248688">pc2</span><span class="op" id="8248691">,</span>&nbsp;<span class="ident" id="8248693">fn2</span><span class="op" id="8248696">.</span><span class="ident" id="8248697">Name</span><span class="op" id="8248701">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8248706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8248710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248714">off</span>&nbsp;<span class="op" id="8248718">=</span>&nbsp;<span class="ident" id="8248720">pc</span>&nbsp;<span class="op" id="8248723">+</span>&nbsp;<span class="num" id="8248725">1</span>&nbsp;<span class="op" id="8248727">-</span>&nbsp;<span class="ident" id="8248729">text</span><span class="op" id="8248733">.</span><span class="ident" id="8248734">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8248740">}</span><br>
<span class="lineno"></span><span class="op" id="8248742">}</span>
</div>
</body>
</html>
