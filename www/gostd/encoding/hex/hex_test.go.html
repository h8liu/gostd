<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html" class="current">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7335181">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7335236">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7335290">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7335341">package</span>&nbsp;<span class="ident" id="7335349">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7335354">import</span>&nbsp;<span class="op" id="7335361">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7335364">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7335373">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7335383">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7335386">type</span>&nbsp;<span class="ident" id="7335391">encDecTest</span>&nbsp;<span class="keyword" id="7335402">struct</span>&nbsp;<span class="op" id="7335409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7335412">enc</span>&nbsp;<span class="builtintype" id="7335416">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7335424">dec</span>&nbsp;<span class="op" id="7335428">[</span><span class="op" id="7335429">]</span><span class="builtintype" id="7335430">byte</span><br>
<span class="lineno">15</span><span class="op" id="7335435">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7335438">var</span>&nbsp;<span class="ident" id="7335442">encDecTests</span>&nbsp;<span class="op" id="7335454">=</span>&nbsp;<span class="op" id="7335456">[</span><span class="op" id="7335457">]</span><span class="ident" id="7335458">encDecTest</span><span class="op" id="7335468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7335471">{</span><span class="string" id="7335472">&#34;&#34;</span><span class="op" id="7335474">,</span>&nbsp;<span class="op" id="7335476">[</span><span class="op" id="7335477">]</span><span class="builtintype" id="7335478">byte</span><span class="op" id="7335482">{</span><span class="op" id="7335483">}</span><span class="op" id="7335484">}</span><span class="op" id="7335485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7335488">{</span><span class="string" id="7335489">&#34;0001020304050607&#34;</span><span class="op" id="7335507">,</span>&nbsp;<span class="op" id="7335509">[</span><span class="op" id="7335510">]</span><span class="builtintype" id="7335511">byte</span><span class="op" id="7335515">{</span><span class="num" id="7335516">0</span><span class="op" id="7335517">,</span>&nbsp;<span class="num" id="7335519">1</span><span class="op" id="7335520">,</span>&nbsp;<span class="num" id="7335522">2</span><span class="op" id="7335523">,</span>&nbsp;<span class="num" id="7335525">3</span><span class="op" id="7335526">,</span>&nbsp;<span class="num" id="7335528">4</span><span class="op" id="7335529">,</span>&nbsp;<span class="num" id="7335531">5</span><span class="op" id="7335532">,</span>&nbsp;<span class="num" id="7335534">6</span><span class="op" id="7335535">,</span>&nbsp;<span class="num" id="7335537">7</span><span class="op" id="7335538">}</span><span class="op" id="7335539">}</span><span class="op" id="7335540">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7335543">{</span><span class="string" id="7335544">&#34;08090a0b0c0d0e0f&#34;</span><span class="op" id="7335562">,</span>&nbsp;<span class="op" id="7335564">[</span><span class="op" id="7335565">]</span><span class="builtintype" id="7335566">byte</span><span class="op" id="7335570">{</span><span class="num" id="7335571">8</span><span class="op" id="7335572">,</span>&nbsp;<span class="num" id="7335574">9</span><span class="op" id="7335575">,</span>&nbsp;<span class="num" id="7335577">10</span><span class="op" id="7335579">,</span>&nbsp;<span class="num" id="7335581">11</span><span class="op" id="7335583">,</span>&nbsp;<span class="num" id="7335585">12</span><span class="op" id="7335587">,</span>&nbsp;<span class="num" id="7335589">13</span><span class="op" id="7335591">,</span>&nbsp;<span class="num" id="7335593">14</span><span class="op" id="7335595">,</span>&nbsp;<span class="num" id="7335597">15</span><span class="op" id="7335599">}</span><span class="op" id="7335600">}</span><span class="op" id="7335601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7335604">{</span><span class="string" id="7335605">&#34;f0f1f2f3f4f5f6f7&#34;</span><span class="op" id="7335623">,</span>&nbsp;<span class="op" id="7335625">[</span><span class="op" id="7335626">]</span><span class="builtintype" id="7335627">byte</span><span class="op" id="7335631">{</span><span class="num" id="7335632">0xf0</span><span class="op" id="7335636">,</span>&nbsp;<span class="num" id="7335638">0xf1</span><span class="op" id="7335642">,</span>&nbsp;<span class="num" id="7335644">0xf2</span><span class="op" id="7335648">,</span>&nbsp;<span class="num" id="7335650">0xf3</span><span class="op" id="7335654">,</span>&nbsp;<span class="num" id="7335656">0xf4</span><span class="op" id="7335660">,</span>&nbsp;<span class="num" id="7335662">0xf5</span><span class="op" id="7335666">,</span>&nbsp;<span class="num" id="7335668">0xf6</span><span class="op" id="7335672">,</span>&nbsp;<span class="num" id="7335674">0xf7</span><span class="op" id="7335678">}</span><span class="op" id="7335679">}</span><span class="op" id="7335680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7335683">{</span><span class="string" id="7335684">&#34;f8f9fafbfcfdfeff&#34;</span><span class="op" id="7335702">,</span>&nbsp;<span class="op" id="7335704">[</span><span class="op" id="7335705">]</span><span class="builtintype" id="7335706">byte</span><span class="op" id="7335710">{</span><span class="num" id="7335711">0xf8</span><span class="op" id="7335715">,</span>&nbsp;<span class="num" id="7335717">0xf9</span><span class="op" id="7335721">,</span>&nbsp;<span class="num" id="7335723">0xfa</span><span class="op" id="7335727">,</span>&nbsp;<span class="num" id="7335729">0xfb</span><span class="op" id="7335733">,</span>&nbsp;<span class="num" id="7335735">0xfc</span><span class="op" id="7335739">,</span>&nbsp;<span class="num" id="7335741">0xfd</span><span class="op" id="7335745">,</span>&nbsp;<span class="num" id="7335747">0xfe</span><span class="op" id="7335751">,</span>&nbsp;<span class="num" id="7335753">0xff</span><span class="op" id="7335757">}</span><span class="op" id="7335758">}</span><span class="op" id="7335759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7335762">{</span><span class="string" id="7335763">&#34;67&#34;</span><span class="op" id="7335767">,</span>&nbsp;<span class="op" id="7335769">[</span><span class="op" id="7335770">]</span><span class="builtintype" id="7335771">byte</span><span class="op" id="7335775">{</span><span class="string" id="7335776">&#39;g&#39;</span><span class="op" id="7335779">}</span><span class="op" id="7335780">}</span><span class="op" id="7335781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7335784">{</span><span class="string" id="7335785">&#34;e3a1&#34;</span><span class="op" id="7335791">,</span>&nbsp;<span class="op" id="7335793">[</span><span class="op" id="7335794">]</span><span class="builtintype" id="7335795">byte</span><span class="op" id="7335799">{</span><span class="num" id="7335800">0xe3</span><span class="op" id="7335804">,</span>&nbsp;<span class="num" id="7335806">0xa1</span><span class="op" id="7335810">}</span><span class="op" id="7335811">}</span><span class="op" id="7335812">,</span><br>
<span class="lineno">25</span><span class="op" id="7335814">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7335817">func</span>&nbsp;<span class="ident" id="7335822">TestEncode</span><span class="op" id="7335832">(</span><span class="ident" id="7335833">t</span>&nbsp;<span class="op" id="7335835">*</span><span class="ident" id="7335836">testing</span><span class="op" id="7335843">.</span><span class="ident" id="7335844">T</span><span class="op" id="7335845">)</span>&nbsp;<span class="op" id="7335847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7335850">for</span>&nbsp;<span class="ident" id="7335854">i</span><span class="op" id="7335855">,</span>&nbsp;<span class="ident" id="7335857">test</span>&nbsp;<span class="op" id="7335862">:=</span>&nbsp;<span class="keyword" id="7335865">range</span>&nbsp;<span class="ident" id="7335871">encDecTests</span>&nbsp;<span class="op" id="7335883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7335887">dst</span>&nbsp;<span class="op" id="7335891">:=</span>&nbsp;<span class="builtinfunc" id="7335894">make</span><span class="op" id="7335898">(</span><span class="op" id="7335899">[</span><span class="op" id="7335900">]</span><span class="builtintype" id="7335901">byte</span><span class="op" id="7335905">,</span>&nbsp;<span class="ident" id="7335907">EncodedLen</span><span class="op" id="7335917">(</span><span class="builtinfunc" id="7335918">len</span><span class="op" id="7335921">(</span><span class="ident" id="7335922">test</span><span class="op" id="7335926">.</span><span class="ident" id="7335927">dec</span><span class="op" id="7335930">)</span><span class="op" id="7335931">)</span><span class="op" id="7335932">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7335936">n</span>&nbsp;<span class="op" id="7335938">:=</span>&nbsp;<span class="ident" id="7335941">Encode</span><span class="op" id="7335947">(</span><span class="ident" id="7335948">dst</span><span class="op" id="7335951">,</span>&nbsp;<span class="ident" id="7335953">test</span><span class="op" id="7335957">.</span><span class="ident" id="7335958">dec</span><span class="op" id="7335961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7335965">if</span>&nbsp;<span class="ident" id="7335968">n</span>&nbsp;<span class="op" id="7335970">!=</span>&nbsp;<span class="builtinfunc" id="7335973">len</span><span class="op" id="7335976">(</span><span class="ident" id="7335977">dst</span><span class="op" id="7335980">)</span>&nbsp;<span class="op" id="7335982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7335987">t</span><span class="op" id="7335988">.</span><span class="ident" id="7335989">Errorf</span><span class="op" id="7335995">(</span><span class="string" id="7335996">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:&nbsp;%d&nbsp;want:&nbsp;%d&#34;</span><span class="op" id="7336037">,</span>&nbsp;<span class="ident" id="7336039">i</span><span class="op" id="7336040">,</span>&nbsp;<span class="ident" id="7336042">n</span><span class="op" id="7336043">,</span>&nbsp;<span class="builtinfunc" id="7336045">len</span><span class="op" id="7336048">(</span><span class="ident" id="7336049">dst</span><span class="op" id="7336052">)</span><span class="op" id="7336053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7336057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7336061">if</span>&nbsp;<span class="builtintype" id="7336064">string</span><span class="op" id="7336070">(</span><span class="ident" id="7336071">dst</span><span class="op" id="7336074">)</span>&nbsp;<span class="op" id="7336076">!=</span>&nbsp;<span class="ident" id="7336079">test</span><span class="op" id="7336083">.</span><span class="ident" id="7336084">enc</span>&nbsp;<span class="op" id="7336088">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336093">t</span><span class="op" id="7336094">.</span><span class="ident" id="7336095">Errorf</span><span class="op" id="7336101">(</span><span class="string" id="7336102">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="7336127">,</span>&nbsp;<span class="ident" id="7336129">i</span><span class="op" id="7336130">,</span>&nbsp;<span class="ident" id="7336132">dst</span><span class="op" id="7336135">,</span>&nbsp;<span class="ident" id="7336137">test</span><span class="op" id="7336141">.</span><span class="ident" id="7336142">enc</span><span class="op" id="7336145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7336149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7336152">}</span><br>
<span class="lineno"></span><span class="op" id="7336154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7336157">func</span>&nbsp;<span class="ident" id="7336162">TestDecode</span><span class="op" id="7336172">(</span><span class="ident" id="7336173">t</span>&nbsp;<span class="op" id="7336175">*</span><span class="ident" id="7336176">testing</span><span class="op" id="7336183">.</span><span class="ident" id="7336184">T</span><span class="op" id="7336185">)</span>&nbsp;<span class="op" id="7336187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7336190">//&nbsp;Case&nbsp;for&nbsp;decoding&nbsp;uppercase&nbsp;hex&nbsp;characters,&nbsp;since</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7336244">//&nbsp;Encode&nbsp;always&nbsp;uses&nbsp;lowercase.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336278">decTests</span>&nbsp;<span class="op" id="7336287">:=</span>&nbsp;<span class="builtinfunc" id="7336290">append</span><span class="op" id="7336296">(</span><span class="ident" id="7336297">encDecTests</span><span class="op" id="7336308">,</span>&nbsp;<span class="ident" id="7336310">encDecTest</span><span class="op" id="7336320">{</span><span class="string" id="7336321">&#34;F8F9FAFBFCFDFEFF&#34;</span><span class="op" id="7336339">,</span>&nbsp;<span class="op" id="7336341">[</span><span class="op" id="7336342">]</span><span class="builtintype" id="7336343">byte</span><span class="op" id="7336347">{</span><span class="num" id="7336348">0xf8</span><span class="op" id="7336352">,</span>&nbsp;<span class="num" id="7336354">0xf9</span><span class="op" id="7336358">,</span>&nbsp;<span class="num" id="7336360">0xfa</span><span class="op" id="7336364">,</span>&nbsp;<span class="num" id="7336366">0xfb</span><span class="op" id="7336370">,</span>&nbsp;<span class="num" id="7336372">0xfc</span><span class="op" id="7336376">,</span>&nbsp;<span class="num" id="7336378">0xfd</span><span class="op" id="7336382">,</span>&nbsp;<span class="num" id="7336384">0xfe</span><span class="op" id="7336388">,</span>&nbsp;<span class="num" id="7336390">0xff</span><span class="op" id="7336394">}</span><span class="op" id="7336395">}</span><span class="op" id="7336396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7336399">for</span>&nbsp;<span class="ident" id="7336403">i</span><span class="op" id="7336404">,</span>&nbsp;<span class="ident" id="7336406">test</span>&nbsp;<span class="op" id="7336411">:=</span>&nbsp;<span class="keyword" id="7336414">range</span>&nbsp;<span class="ident" id="7336420">decTests</span>&nbsp;<span class="op" id="7336429">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336433">dst</span>&nbsp;<span class="op" id="7336437">:=</span>&nbsp;<span class="builtinfunc" id="7336440">make</span><span class="op" id="7336444">(</span><span class="op" id="7336445">[</span><span class="op" id="7336446">]</span><span class="builtintype" id="7336447">byte</span><span class="op" id="7336451">,</span>&nbsp;<span class="ident" id="7336453">DecodedLen</span><span class="op" id="7336463">(</span><span class="builtinfunc" id="7336464">len</span><span class="op" id="7336467">(</span><span class="ident" id="7336468">test</span><span class="op" id="7336472">.</span><span class="ident" id="7336473">enc</span><span class="op" id="7336476">)</span><span class="op" id="7336477">)</span><span class="op" id="7336478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336482">n</span><span class="op" id="7336483">,</span>&nbsp;<span class="ident" id="7336485">err</span>&nbsp;<span class="op" id="7336489">:=</span>&nbsp;<span class="ident" id="7336492">Decode</span><span class="op" id="7336498">(</span><span class="ident" id="7336499">dst</span><span class="op" id="7336502">,</span>&nbsp;<span class="op" id="7336504">[</span><span class="op" id="7336505">]</span><span class="builtintype" id="7336506">byte</span><span class="op" id="7336510">(</span><span class="ident" id="7336511">test</span><span class="op" id="7336515">.</span><span class="ident" id="7336516">enc</span><span class="op" id="7336519">)</span><span class="op" id="7336520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7336524">if</span>&nbsp;<span class="ident" id="7336527">err</span>&nbsp;<span class="op" id="7336531">!=</span>&nbsp;<span class="ident" id="7336534">nil</span>&nbsp;<span class="op" id="7336538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336543">t</span><span class="op" id="7336544">.</span><span class="ident" id="7336545">Errorf</span><span class="op" id="7336551">(</span><span class="string" id="7336552">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:%d&nbsp;want:%d&#34;</span><span class="op" id="7336591">,</span>&nbsp;<span class="ident" id="7336593">i</span><span class="op" id="7336594">,</span>&nbsp;<span class="ident" id="7336596">n</span><span class="op" id="7336597">,</span>&nbsp;<span class="builtinfunc" id="7336599">len</span><span class="op" id="7336602">(</span><span class="ident" id="7336603">dst</span><span class="op" id="7336606">)</span><span class="op" id="7336607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7336611">}</span>&nbsp;<span class="keyword" id="7336613">else</span>&nbsp;<span class="keyword" id="7336618">if</span>&nbsp;<span class="op" id="7336621">!</span><span class="ident" id="7336622">bytes</span><span class="op" id="7336627">.</span><span class="ident" id="7336628">Equal</span><span class="op" id="7336633">(</span><span class="ident" id="7336634">dst</span><span class="op" id="7336637">,</span>&nbsp;<span class="ident" id="7336639">test</span><span class="op" id="7336643">.</span><span class="ident" id="7336644">dec</span><span class="op" id="7336647">)</span>&nbsp;<span class="op" id="7336649">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336654">t</span><span class="op" id="7336655">.</span><span class="ident" id="7336656">Errorf</span><span class="op" id="7336662">(</span><span class="string" id="7336663">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="7336688">,</span>&nbsp;<span class="ident" id="7336690">i</span><span class="op" id="7336691">,</span>&nbsp;<span class="ident" id="7336693">dst</span><span class="op" id="7336696">,</span>&nbsp;<span class="ident" id="7336698">test</span><span class="op" id="7336702">.</span><span class="ident" id="7336703">dec</span><span class="op" id="7336706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7336710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7336713">}</span><br>
<span class="lineno"></span><span class="op" id="7336715">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7336718">func</span>&nbsp;<span class="ident" id="7336723">TestEncodeToString</span><span class="op" id="7336741">(</span><span class="ident" id="7336742">t</span>&nbsp;<span class="op" id="7336744">*</span><span class="ident" id="7336745">testing</span><span class="op" id="7336752">.</span><span class="ident" id="7336753">T</span><span class="op" id="7336754">)</span>&nbsp;<span class="op" id="7336756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7336759">for</span>&nbsp;<span class="ident" id="7336763">i</span><span class="op" id="7336764">,</span>&nbsp;<span class="ident" id="7336766">test</span>&nbsp;<span class="op" id="7336771">:=</span>&nbsp;<span class="keyword" id="7336774">range</span>&nbsp;<span class="ident" id="7336780">encDecTests</span>&nbsp;<span class="op" id="7336792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336796">s</span>&nbsp;<span class="op" id="7336798">:=</span>&nbsp;<span class="ident" id="7336801">EncodeToString</span><span class="op" id="7336815">(</span><span class="ident" id="7336816">test</span><span class="op" id="7336820">.</span><span class="ident" id="7336821">dec</span><span class="op" id="7336824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7336828">if</span>&nbsp;<span class="ident" id="7336831">s</span>&nbsp;<span class="op" id="7336833">!=</span>&nbsp;<span class="ident" id="7336836">test</span><span class="op" id="7336840">.</span><span class="ident" id="7336841">enc</span>&nbsp;<span class="op" id="7336845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336850">t</span><span class="op" id="7336851">.</span><span class="ident" id="7336852">Errorf</span><span class="op" id="7336858">(</span><span class="string" id="7336859">&#34;#%d&nbsp;got:%s&nbsp;want:%s&#34;</span><span class="op" id="7336879">,</span>&nbsp;<span class="ident" id="7336881">i</span><span class="op" id="7336882">,</span>&nbsp;<span class="ident" id="7336884">s</span><span class="op" id="7336885">,</span>&nbsp;<span class="ident" id="7336887">test</span><span class="op" id="7336891">.</span><span class="ident" id="7336892">enc</span><span class="op" id="7336895">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7336899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7336902">}</span><br>
<span class="lineno"></span><span class="op" id="7336904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7336907">func</span>&nbsp;<span class="ident" id="7336912">TestDecodeString</span><span class="op" id="7336928">(</span><span class="ident" id="7336929">t</span>&nbsp;<span class="op" id="7336931">*</span><span class="ident" id="7336932">testing</span><span class="op" id="7336939">.</span><span class="ident" id="7336940">T</span><span class="op" id="7336941">)</span>&nbsp;<span class="op" id="7336943">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7336946">for</span>&nbsp;<span class="ident" id="7336950">i</span><span class="op" id="7336951">,</span>&nbsp;<span class="ident" id="7336953">test</span>&nbsp;<span class="op" id="7336958">:=</span>&nbsp;<span class="keyword" id="7336961">range</span>&nbsp;<span class="ident" id="7336967">encDecTests</span>&nbsp;<span class="op" id="7336979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7336983">dst</span><span class="op" id="7336986">,</span>&nbsp;<span class="ident" id="7336988">err</span>&nbsp;<span class="op" id="7336992">:=</span>&nbsp;<span class="ident" id="7336995">DecodeString</span><span class="op" id="7337007">(</span><span class="ident" id="7337008">test</span><span class="op" id="7337012">.</span><span class="ident" id="7337013">enc</span><span class="op" id="7337016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337020">if</span>&nbsp;<span class="ident" id="7337023">err</span>&nbsp;<span class="op" id="7337027">!=</span>&nbsp;<span class="ident" id="7337030">nil</span>&nbsp;<span class="op" id="7337034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337039">t</span><span class="op" id="7337040">.</span><span class="ident" id="7337041">Errorf</span><span class="op" id="7337047">(</span><span class="string" id="7337048">&#34;#%d:&nbsp;unexpected&nbsp;err&nbsp;value:&nbsp;%s&#34;</span><span class="op" id="7337079">,</span>&nbsp;<span class="ident" id="7337081">i</span><span class="op" id="7337082">,</span>&nbsp;<span class="ident" id="7337084">err</span><span class="op" id="7337087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337092">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337107">if</span>&nbsp;<span class="op" id="7337110">!</span><span class="ident" id="7337111">bytes</span><span class="op" id="7337116">.</span><span class="ident" id="7337117">Equal</span><span class="op" id="7337122">(</span><span class="ident" id="7337123">dst</span><span class="op" id="7337126">,</span>&nbsp;<span class="ident" id="7337128">test</span><span class="op" id="7337132">.</span><span class="ident" id="7337133">dec</span><span class="op" id="7337136">)</span>&nbsp;<span class="op" id="7337138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337143">t</span><span class="op" id="7337144">.</span><span class="ident" id="7337145">Errorf</span><span class="op" id="7337151">(</span><span class="string" id="7337152">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;#%v&#34;</span><span class="op" id="7337177">,</span>&nbsp;<span class="ident" id="7337179">i</span><span class="op" id="7337180">,</span>&nbsp;<span class="ident" id="7337182">dst</span><span class="op" id="7337185">,</span>&nbsp;<span class="ident" id="7337187">test</span><span class="op" id="7337191">.</span><span class="ident" id="7337192">dec</span><span class="op" id="7337195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337202">}</span><br>
<span class="lineno">75</span><span class="op" id="7337204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7337207">type</span>&nbsp;<span class="ident" id="7337212">errTest</span>&nbsp;<span class="keyword" id="7337220">struct</span>&nbsp;<span class="op" id="7337227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337230">in</span>&nbsp;&nbsp;<span class="builtintype" id="7337234">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337242">err</span>&nbsp;<span class="builtintype" id="7337246">string</span><br>
<span class="lineno">80</span><span class="op" id="7337253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7337256">var</span>&nbsp;<span class="ident" id="7337260">errTests</span>&nbsp;<span class="op" id="7337269">=</span>&nbsp;<span class="op" id="7337271">[</span><span class="op" id="7337272">]</span><span class="ident" id="7337273">errTest</span><span class="op" id="7337280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337283">{</span><span class="string" id="7337284">&#34;0&#34;</span><span class="op" id="7337287">,</span>&nbsp;<span class="string" id="7337289">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="7337326">}</span><span class="op" id="7337327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337330">{</span><span class="string" id="7337331">&#34;0g&#34;</span><span class="op" id="7337335">,</span>&nbsp;<span class="string" id="7337337">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="7337377">}</span><span class="op" id="7337378">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337381">{</span><span class="string" id="7337382">&#34;00gg&#34;</span><span class="op" id="7337388">,</span>&nbsp;<span class="string" id="7337390">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="7337430">}</span><span class="op" id="7337431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337434">{</span><span class="string" id="7337435">&#34;0\x01&#34;</span><span class="op" id="7337442">,</span>&nbsp;<span class="string" id="7337444">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0001&#34;</span><span class="op" id="7337480">}</span><span class="op" id="7337481">,</span><br>
<span class="lineno"></span><span class="op" id="7337483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7337486">func</span>&nbsp;<span class="ident" id="7337491">TestInvalidErr</span><span class="op" id="7337505">(</span><span class="ident" id="7337506">t</span>&nbsp;<span class="op" id="7337508">*</span><span class="ident" id="7337509">testing</span><span class="op" id="7337516">.</span><span class="ident" id="7337517">T</span><span class="op" id="7337518">)</span>&nbsp;<span class="op" id="7337520">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337523">for</span>&nbsp;<span class="ident" id="7337527">i</span><span class="op" id="7337528">,</span>&nbsp;<span class="ident" id="7337530">test</span>&nbsp;<span class="op" id="7337535">:=</span>&nbsp;<span class="keyword" id="7337538">range</span>&nbsp;<span class="ident" id="7337544">errTests</span>&nbsp;<span class="op" id="7337553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337557">dst</span>&nbsp;<span class="op" id="7337561">:=</span>&nbsp;<span class="builtinfunc" id="7337564">make</span><span class="op" id="7337568">(</span><span class="op" id="7337569">[</span><span class="op" id="7337570">]</span><span class="builtintype" id="7337571">byte</span><span class="op" id="7337575">,</span>&nbsp;<span class="ident" id="7337577">DecodedLen</span><span class="op" id="7337587">(</span><span class="builtinfunc" id="7337588">len</span><span class="op" id="7337591">(</span><span class="ident" id="7337592">test</span><span class="op" id="7337596">.</span><span class="ident" id="7337597">in</span><span class="op" id="7337599">)</span><span class="op" id="7337600">)</span><span class="op" id="7337601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337605">_</span><span class="op" id="7337606">,</span>&nbsp;<span class="ident" id="7337608">err</span>&nbsp;<span class="op" id="7337612">:=</span>&nbsp;<span class="ident" id="7337615">Decode</span><span class="op" id="7337621">(</span><span class="ident" id="7337622">dst</span><span class="op" id="7337625">,</span>&nbsp;<span class="op" id="7337627">[</span><span class="op" id="7337628">]</span><span class="builtintype" id="7337629">byte</span><span class="op" id="7337633">(</span><span class="ident" id="7337634">test</span><span class="op" id="7337638">.</span><span class="ident" id="7337639">in</span><span class="op" id="7337641">)</span><span class="op" id="7337642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337646">if</span>&nbsp;<span class="ident" id="7337649">err</span>&nbsp;<span class="op" id="7337653">==</span>&nbsp;<span class="ident" id="7337656">nil</span>&nbsp;<span class="op" id="7337660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337665">t</span><span class="op" id="7337666">.</span><span class="ident" id="7337667">Errorf</span><span class="op" id="7337673">(</span><span class="string" id="7337674">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7337705">,</span>&nbsp;<span class="ident" id="7337707">i</span><span class="op" id="7337708">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337712">}</span>&nbsp;<span class="keyword" id="7337714">else</span>&nbsp;<span class="keyword" id="7337719">if</span>&nbsp;<span class="ident" id="7337722">err</span><span class="op" id="7337725">.</span><span class="ident" id="7337726">Error</span><span class="op" id="7337731">(</span><span class="op" id="7337732">)</span>&nbsp;<span class="op" id="7337734">!=</span>&nbsp;<span class="ident" id="7337737">test</span><span class="op" id="7337741">.</span><span class="ident" id="7337742">err</span>&nbsp;<span class="op" id="7337746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337751">t</span><span class="op" id="7337752">.</span><span class="ident" id="7337753">Errorf</span><span class="op" id="7337759">(</span><span class="string" id="7337760">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="7337783">,</span>&nbsp;<span class="ident" id="7337785">i</span><span class="op" id="7337786">,</span>&nbsp;<span class="ident" id="7337788">err</span><span class="op" id="7337791">,</span>&nbsp;<span class="ident" id="7337793">test</span><span class="op" id="7337797">.</span><span class="ident" id="7337798">err</span><span class="op" id="7337801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337808">}</span><br>
<span class="lineno"></span><span class="op" id="7337810">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="7337813">func</span>&nbsp;<span class="ident" id="7337818">TestInvalidStringErr</span><span class="op" id="7337838">(</span><span class="ident" id="7337839">t</span>&nbsp;<span class="op" id="7337841">*</span><span class="ident" id="7337842">testing</span><span class="op" id="7337849">.</span><span class="ident" id="7337850">T</span><span class="op" id="7337851">)</span>&nbsp;<span class="op" id="7337853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337856">for</span>&nbsp;<span class="ident" id="7337860">i</span><span class="op" id="7337861">,</span>&nbsp;<span class="ident" id="7337863">test</span>&nbsp;<span class="op" id="7337868">:=</span>&nbsp;<span class="keyword" id="7337871">range</span>&nbsp;<span class="ident" id="7337877">errTests</span>&nbsp;<span class="op" id="7337886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337890">_</span><span class="op" id="7337891">,</span>&nbsp;<span class="ident" id="7337893">err</span>&nbsp;<span class="op" id="7337897">:=</span>&nbsp;<span class="ident" id="7337900">DecodeString</span><span class="op" id="7337912">(</span><span class="ident" id="7337913">test</span><span class="op" id="7337917">.</span><span class="ident" id="7337918">in</span><span class="op" id="7337920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7337924">if</span>&nbsp;<span class="ident" id="7337927">err</span>&nbsp;<span class="op" id="7337931">==</span>&nbsp;<span class="ident" id="7337934">nil</span>&nbsp;<span class="op" id="7337938">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7337943">t</span><span class="op" id="7337944">.</span><span class="ident" id="7337945">Errorf</span><span class="op" id="7337951">(</span><span class="string" id="7337952">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7337983">,</span>&nbsp;<span class="ident" id="7337985">i</span><span class="op" id="7337986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7337990">}</span>&nbsp;<span class="keyword" id="7337992">else</span>&nbsp;<span class="keyword" id="7337997">if</span>&nbsp;<span class="ident" id="7338000">err</span><span class="op" id="7338003">.</span><span class="ident" id="7338004">Error</span><span class="op" id="7338009">(</span><span class="op" id="7338010">)</span>&nbsp;<span class="op" id="7338012">!=</span>&nbsp;<span class="ident" id="7338015">test</span><span class="op" id="7338019">.</span><span class="ident" id="7338020">err</span>&nbsp;<span class="op" id="7338024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338029">t</span><span class="op" id="7338030">.</span><span class="ident" id="7338031">Errorf</span><span class="op" id="7338037">(</span><span class="string" id="7338038">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="7338061">,</span>&nbsp;<span class="ident" id="7338063">i</span><span class="op" id="7338064">,</span>&nbsp;<span class="ident" id="7338066">err</span><span class="op" id="7338069">,</span>&nbsp;<span class="ident" id="7338071">test</span><span class="op" id="7338075">.</span><span class="ident" id="7338076">err</span><span class="op" id="7338079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338086">}</span><br>
<span class="lineno">110</span><span class="op" id="7338088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7338091">func</span>&nbsp;<span class="ident" id="7338096">TestDumper</span><span class="op" id="7338106">(</span><span class="ident" id="7338107">t</span>&nbsp;<span class="op" id="7338109">*</span><span class="ident" id="7338110">testing</span><span class="op" id="7338117">.</span><span class="ident" id="7338118">T</span><span class="op" id="7338119">)</span>&nbsp;<span class="op" id="7338121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338124">var</span>&nbsp;<span class="ident" id="7338128">in</span>&nbsp;<span class="op" id="7338131">[</span><span class="num" id="7338132">40</span><span class="op" id="7338134">]</span><span class="builtintype" id="7338135">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338141">for</span>&nbsp;<span class="ident" id="7338145">i</span>&nbsp;<span class="op" id="7338147">:=</span>&nbsp;<span class="keyword" id="7338150">range</span>&nbsp;<span class="ident" id="7338156">in</span>&nbsp;<span class="op" id="7338159">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338163">in</span><span class="op" id="7338165">[</span><span class="ident" id="7338166">i</span><span class="op" id="7338167">]</span>&nbsp;<span class="op" id="7338169">=</span>&nbsp;<span class="builtintype" id="7338171">byte</span><span class="op" id="7338175">(</span><span class="ident" id="7338176">i</span>&nbsp;<span class="op" id="7338178">+</span>&nbsp;<span class="num" id="7338180">30</span><span class="op" id="7338182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338189">for</span>&nbsp;<span class="ident" id="7338193">stride</span>&nbsp;<span class="op" id="7338200">:=</span>&nbsp;<span class="num" id="7338203">1</span><span class="op" id="7338204">;</span>&nbsp;<span class="ident" id="7338206">stride</span>&nbsp;<span class="op" id="7338213">&lt;</span>&nbsp;<span class="builtinfunc" id="7338215">len</span><span class="op" id="7338218">(</span><span class="ident" id="7338219">in</span><span class="op" id="7338221">)</span><span class="op" id="7338222">;</span>&nbsp;<span class="ident" id="7338224">stride</span><span class="op" id="7338230">++</span>&nbsp;<span class="op" id="7338233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338237">var</span>&nbsp;<span class="ident" id="7338241">out</span>&nbsp;<span class="ident" id="7338245">bytes</span><span class="op" id="7338250">.</span><span class="ident" id="7338251">Buffer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338260">dumper</span>&nbsp;<span class="op" id="7338267">:=</span>&nbsp;<span class="ident" id="7338270">Dumper</span><span class="op" id="7338276">(</span><span class="op" id="7338277">&amp;</span><span class="ident" id="7338278">out</span><span class="op" id="7338281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338285">done</span>&nbsp;<span class="op" id="7338290">:=</span>&nbsp;<span class="num" id="7338293">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338297">for</span>&nbsp;<span class="ident" id="7338301">done</span>&nbsp;<span class="op" id="7338306">&lt;</span>&nbsp;<span class="builtinfunc" id="7338308">len</span><span class="op" id="7338311">(</span><span class="ident" id="7338312">in</span><span class="op" id="7338314">)</span>&nbsp;<span class="op" id="7338316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338321">todo</span>&nbsp;<span class="op" id="7338326">:=</span>&nbsp;<span class="ident" id="7338329">done</span>&nbsp;<span class="op" id="7338334">+</span>&nbsp;<span class="ident" id="7338336">stride</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338346">if</span>&nbsp;<span class="ident" id="7338349">todo</span>&nbsp;<span class="op" id="7338354">&gt;</span>&nbsp;<span class="builtinfunc" id="7338356">len</span><span class="op" id="7338359">(</span><span class="ident" id="7338360">in</span><span class="op" id="7338362">)</span>&nbsp;<span class="op" id="7338364">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338370">todo</span>&nbsp;<span class="op" id="7338375">=</span>&nbsp;<span class="builtinfunc" id="7338377">len</span><span class="op" id="7338380">(</span><span class="ident" id="7338381">in</span><span class="op" id="7338383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338393">dumper</span><span class="op" id="7338399">.</span><span class="ident" id="7338400">Write</span><span class="op" id="7338405">(</span><span class="ident" id="7338406">in</span><span class="op" id="7338408">[</span><span class="ident" id="7338409">done</span><span class="op" id="7338413">:</span><span class="ident" id="7338414">todo</span><span class="op" id="7338418">]</span><span class="op" id="7338419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338424">done</span>&nbsp;<span class="op" id="7338429">=</span>&nbsp;<span class="ident" id="7338431">todo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338438">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338443">dumper</span><span class="op" id="7338449">.</span><span class="ident" id="7338450">Close</span><span class="op" id="7338455">(</span><span class="op" id="7338456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338460">if</span>&nbsp;<span class="op" id="7338463">!</span><span class="ident" id="7338464">bytes</span><span class="op" id="7338469">.</span><span class="ident" id="7338470">Equal</span><span class="op" id="7338475">(</span><span class="ident" id="7338476">out</span><span class="op" id="7338479">.</span><span class="ident" id="7338480">Bytes</span><span class="op" id="7338485">(</span><span class="op" id="7338486">)</span><span class="op" id="7338487">,</span>&nbsp;<span class="ident" id="7338489">expectedHexDump</span><span class="op" id="7338504">)</span>&nbsp;<span class="op" id="7338506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338511">t</span><span class="op" id="7338512">.</span><span class="ident" id="7338513">Errorf</span><span class="op" id="7338519">(</span><span class="string" id="7338520">&#34;stride:&nbsp;%d&nbsp;failed.&nbsp;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="7338560">,</span>&nbsp;<span class="ident" id="7338562">stride</span><span class="op" id="7338568">,</span>&nbsp;<span class="ident" id="7338570">out</span><span class="op" id="7338573">.</span><span class="ident" id="7338574">Bytes</span><span class="op" id="7338579">(</span><span class="op" id="7338580">)</span><span class="op" id="7338581">,</span>&nbsp;<span class="ident" id="7338583">expectedHexDump</span><span class="op" id="7338598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338602">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338605">}</span><br>
<span class="lineno"></span><span class="op" id="7338607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7338610">func</span>&nbsp;<span class="ident" id="7338615">TestDump</span><span class="op" id="7338623">(</span><span class="ident" id="7338624">t</span>&nbsp;<span class="op" id="7338626">*</span><span class="ident" id="7338627">testing</span><span class="op" id="7338634">.</span><span class="ident" id="7338635">T</span><span class="op" id="7338636">)</span>&nbsp;<span class="op" id="7338638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338641">var</span>&nbsp;<span class="ident" id="7338645">in</span>&nbsp;<span class="op" id="7338648">[</span><span class="num" id="7338649">40</span><span class="op" id="7338651">]</span><span class="builtintype" id="7338652">byte</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338658">for</span>&nbsp;<span class="ident" id="7338662">i</span>&nbsp;<span class="op" id="7338664">:=</span>&nbsp;<span class="keyword" id="7338667">range</span>&nbsp;<span class="ident" id="7338673">in</span>&nbsp;<span class="op" id="7338676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338680">in</span><span class="op" id="7338682">[</span><span class="ident" id="7338683">i</span><span class="op" id="7338684">]</span>&nbsp;<span class="op" id="7338686">=</span>&nbsp;<span class="builtintype" id="7338688">byte</span><span class="op" id="7338692">(</span><span class="ident" id="7338693">i</span>&nbsp;<span class="op" id="7338695">+</span>&nbsp;<span class="num" id="7338697">30</span><span class="op" id="7338699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338706">out</span>&nbsp;<span class="op" id="7338710">:=</span>&nbsp;<span class="op" id="7338713">[</span><span class="op" id="7338714">]</span><span class="builtintype" id="7338715">byte</span><span class="op" id="7338719">(</span><span class="ident" id="7338720">Dump</span><span class="op" id="7338724">(</span><span class="ident" id="7338725">in</span><span class="op" id="7338727">[</span><span class="op" id="7338728">:</span><span class="op" id="7338729">]</span><span class="op" id="7338730">)</span><span class="op" id="7338731">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7338734">if</span>&nbsp;<span class="op" id="7338737">!</span><span class="ident" id="7338738">bytes</span><span class="op" id="7338743">.</span><span class="ident" id="7338744">Equal</span><span class="op" id="7338749">(</span><span class="ident" id="7338750">out</span><span class="op" id="7338753">,</span>&nbsp;<span class="ident" id="7338755">expectedHexDump</span><span class="op" id="7338770">)</span>&nbsp;<span class="op" id="7338772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7338776">t</span><span class="op" id="7338777">.</span><span class="ident" id="7338778">Errorf</span><span class="op" id="7338784">(</span><span class="string" id="7338785">&#34;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="7338806">,</span>&nbsp;<span class="ident" id="7338808">out</span><span class="op" id="7338811">,</span>&nbsp;<span class="ident" id="7338813">expectedHexDump</span><span class="op" id="7338828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7338831">}</span><br>
<span class="lineno"></span><span class="op" id="7338833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="7338836">var</span>&nbsp;<span class="ident" id="7338840">expectedHexDump</span>&nbsp;<span class="op" id="7338856">=</span>&nbsp;<span class="op" id="7338858">[</span><span class="op" id="7338859">]</span><span class="builtintype" id="7338860">byte</span><span class="op" id="7338864">(</span><span class="string" id="7338865">`00000000&nbsp;&nbsp;1e&nbsp;1f&nbsp;20&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;2a&nbsp;2b&nbsp;2c&nbsp;2d&nbsp;&nbsp;|..&nbsp;!&#34;#$%&amp;&#39;()*+,-|<br>
<span class="lineno"></span>00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|<br>
<span class="lineno"></span>00000020&nbsp;&nbsp;3e&nbsp;3f&nbsp;40&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&gt;?@ABCDE|<br>
<span class="lineno"></span>`</span><span class="op" id="7339096">)</span>
</div>
</body>
</html>
