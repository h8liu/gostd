<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template/parse</h2>
<ul>
<li><a href="/gostd/text/template/parse/lex.go.html">lex.go</a></li>
<li><a href="/gostd/text/template/parse/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/text/template/parse/node.go.html">node.go</a></li>
<li><a href="/gostd/text/template/parse/parse.go.html">parse.go</a></li>
<li><a href="/gostd/text/template/parse/parse_test.go.html">parse_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7763817">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7763872">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7763926">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7763977">package</span>&nbsp;<span class="ident" id="7763985">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7763992">import</span>&nbsp;<span class="op" id="7763999">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7764002">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7764010">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7764017">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7764028">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7764038">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7764041">var</span>&nbsp;<span class="ident" id="7764045">debug</span>&nbsp;<span class="op" id="7764051">=</span>&nbsp;<span class="ident" id="7764053">flag</span><span class="op" id="7764057">.</span><span class="ident" id="7764058">Bool</span><span class="op" id="7764062">(</span><span class="string" id="7764063">&#34;debug&#34;</span><span class="op" id="7764070">,</span>&nbsp;<span class="builtintype" id="7764072">false</span><span class="op" id="7764077">,</span>&nbsp;<span class="string" id="7764079">&#34;show&nbsp;the&nbsp;errors&nbsp;produced&nbsp;by&nbsp;the&nbsp;main&nbsp;tests&#34;</span><span class="op" id="7764123">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7764126">type</span>&nbsp;<span class="ident" id="7764131">numberTest</span>&nbsp;<span class="keyword" id="7764142">struct</span>&nbsp;<span class="op" id="7764149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764152">text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7764162">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764170">isInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7764180">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764186">isUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7764196">bool</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764202">isFloat</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7764212">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764218">isComplex</span>&nbsp;<span class="builtintype" id="7764228">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764234">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764241">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7764249">float64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7764258">complex128</span><br>
<span class="lineno"></span><span class="op" id="7764269">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7764272">var</span>&nbsp;<span class="ident" id="7764276">numberTests</span>&nbsp;<span class="op" id="7764288">=</span>&nbsp;<span class="op" id="7764290">[</span><span class="op" id="7764291">]</span><span class="ident" id="7764292">numberTest</span><span class="op" id="7764302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7764305">//&nbsp;basics</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764316">{</span><span class="string" id="7764317">&#34;0&#34;</span><span class="op" id="7764320">,</span>&nbsp;<span class="builtintype" id="7764322">true</span><span class="op" id="7764326">,</span>&nbsp;<span class="builtintype" id="7764328">true</span><span class="op" id="7764332">,</span>&nbsp;<span class="builtintype" id="7764334">true</span><span class="op" id="7764338">,</span>&nbsp;<span class="builtintype" id="7764340">false</span><span class="op" id="7764345">,</span>&nbsp;<span class="num" id="7764347">0</span><span class="op" id="7764348">,</span>&nbsp;<span class="num" id="7764350">0</span><span class="op" id="7764351">,</span>&nbsp;<span class="num" id="7764353">0</span><span class="op" id="7764354">,</span>&nbsp;<span class="num" id="7764356">0</span><span class="op" id="7764357">}</span><span class="op" id="7764358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764361">{</span><span class="string" id="7764362">&#34;-0&#34;</span><span class="op" id="7764366">,</span>&nbsp;<span class="builtintype" id="7764368">true</span><span class="op" id="7764372">,</span>&nbsp;<span class="builtintype" id="7764374">true</span><span class="op" id="7764378">,</span>&nbsp;<span class="builtintype" id="7764380">true</span><span class="op" id="7764384">,</span>&nbsp;<span class="builtintype" id="7764386">false</span><span class="op" id="7764391">,</span>&nbsp;<span class="num" id="7764393">0</span><span class="op" id="7764394">,</span>&nbsp;<span class="num" id="7764396">0</span><span class="op" id="7764397">,</span>&nbsp;<span class="num" id="7764399">0</span><span class="op" id="7764400">,</span>&nbsp;<span class="num" id="7764402">0</span><span class="op" id="7764403">}</span><span class="op" id="7764404">,</span>&nbsp;<span class="comment" id="7764406">//&nbsp;check&nbsp;that&nbsp;-0&nbsp;is&nbsp;a&nbsp;uint.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764435">{</span><span class="string" id="7764436">&#34;73&#34;</span><span class="op" id="7764440">,</span>&nbsp;<span class="builtintype" id="7764442">true</span><span class="op" id="7764446">,</span>&nbsp;<span class="builtintype" id="7764448">true</span><span class="op" id="7764452">,</span>&nbsp;<span class="builtintype" id="7764454">true</span><span class="op" id="7764458">,</span>&nbsp;<span class="builtintype" id="7764460">false</span><span class="op" id="7764465">,</span>&nbsp;<span class="num" id="7764467">73</span><span class="op" id="7764469">,</span>&nbsp;<span class="num" id="7764471">73</span><span class="op" id="7764473">,</span>&nbsp;<span class="num" id="7764475">73</span><span class="op" id="7764477">,</span>&nbsp;<span class="num" id="7764479">0</span><span class="op" id="7764480">}</span><span class="op" id="7764481">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764484">{</span><span class="string" id="7764485">&#34;073&#34;</span><span class="op" id="7764490">,</span>&nbsp;<span class="builtintype" id="7764492">true</span><span class="op" id="7764496">,</span>&nbsp;<span class="builtintype" id="7764498">true</span><span class="op" id="7764502">,</span>&nbsp;<span class="builtintype" id="7764504">true</span><span class="op" id="7764508">,</span>&nbsp;<span class="builtintype" id="7764510">false</span><span class="op" id="7764515">,</span>&nbsp;<span class="num" id="7764517">073</span><span class="op" id="7764520">,</span>&nbsp;<span class="num" id="7764522">073</span><span class="op" id="7764525">,</span>&nbsp;<span class="num" id="7764527">073</span><span class="op" id="7764530">,</span>&nbsp;<span class="num" id="7764532">0</span><span class="op" id="7764533">}</span><span class="op" id="7764534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764537">{</span><span class="string" id="7764538">&#34;0x73&#34;</span><span class="op" id="7764544">,</span>&nbsp;<span class="builtintype" id="7764546">true</span><span class="op" id="7764550">,</span>&nbsp;<span class="builtintype" id="7764552">true</span><span class="op" id="7764556">,</span>&nbsp;<span class="builtintype" id="7764558">true</span><span class="op" id="7764562">,</span>&nbsp;<span class="builtintype" id="7764564">false</span><span class="op" id="7764569">,</span>&nbsp;<span class="num" id="7764571">0x73</span><span class="op" id="7764575">,</span>&nbsp;<span class="num" id="7764577">0x73</span><span class="op" id="7764581">,</span>&nbsp;<span class="num" id="7764583">0x73</span><span class="op" id="7764587">,</span>&nbsp;<span class="num" id="7764589">0</span><span class="op" id="7764590">}</span><span class="op" id="7764591">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764594">{</span><span class="string" id="7764595">&#34;-73&#34;</span><span class="op" id="7764600">,</span>&nbsp;<span class="builtintype" id="7764602">true</span><span class="op" id="7764606">,</span>&nbsp;<span class="builtintype" id="7764608">false</span><span class="op" id="7764613">,</span>&nbsp;<span class="builtintype" id="7764615">true</span><span class="op" id="7764619">,</span>&nbsp;<span class="builtintype" id="7764621">false</span><span class="op" id="7764626">,</span>&nbsp;<span class="op" id="7764628">-</span><span class="num" id="7764629">73</span><span class="op" id="7764631">,</span>&nbsp;<span class="num" id="7764633">0</span><span class="op" id="7764634">,</span>&nbsp;<span class="op" id="7764636">-</span><span class="num" id="7764637">73</span><span class="op" id="7764639">,</span>&nbsp;<span class="num" id="7764641">0</span><span class="op" id="7764642">}</span><span class="op" id="7764643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764646">{</span><span class="string" id="7764647">&#34;+73&#34;</span><span class="op" id="7764652">,</span>&nbsp;<span class="builtintype" id="7764654">true</span><span class="op" id="7764658">,</span>&nbsp;<span class="builtintype" id="7764660">false</span><span class="op" id="7764665">,</span>&nbsp;<span class="builtintype" id="7764667">true</span><span class="op" id="7764671">,</span>&nbsp;<span class="builtintype" id="7764673">false</span><span class="op" id="7764678">,</span>&nbsp;<span class="num" id="7764680">73</span><span class="op" id="7764682">,</span>&nbsp;<span class="num" id="7764684">0</span><span class="op" id="7764685">,</span>&nbsp;<span class="num" id="7764687">73</span><span class="op" id="7764689">,</span>&nbsp;<span class="num" id="7764691">0</span><span class="op" id="7764692">}</span><span class="op" id="7764693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764696">{</span><span class="string" id="7764697">&#34;100&#34;</span><span class="op" id="7764702">,</span>&nbsp;<span class="builtintype" id="7764704">true</span><span class="op" id="7764708">,</span>&nbsp;<span class="builtintype" id="7764710">true</span><span class="op" id="7764714">,</span>&nbsp;<span class="builtintype" id="7764716">true</span><span class="op" id="7764720">,</span>&nbsp;<span class="builtintype" id="7764722">false</span><span class="op" id="7764727">,</span>&nbsp;<span class="num" id="7764729">100</span><span class="op" id="7764732">,</span>&nbsp;<span class="num" id="7764734">100</span><span class="op" id="7764737">,</span>&nbsp;<span class="num" id="7764739">100</span><span class="op" id="7764742">,</span>&nbsp;<span class="num" id="7764744">0</span><span class="op" id="7764745">}</span><span class="op" id="7764746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764749">{</span><span class="string" id="7764750">&#34;1e9&#34;</span><span class="op" id="7764755">,</span>&nbsp;<span class="builtintype" id="7764757">true</span><span class="op" id="7764761">,</span>&nbsp;<span class="builtintype" id="7764763">true</span><span class="op" id="7764767">,</span>&nbsp;<span class="builtintype" id="7764769">true</span><span class="op" id="7764773">,</span>&nbsp;<span class="builtintype" id="7764775">false</span><span class="op" id="7764780">,</span>&nbsp;<span class="num" id="7764782">1e9</span><span class="op" id="7764785">,</span>&nbsp;<span class="num" id="7764787">1e9</span><span class="op" id="7764790">,</span>&nbsp;<span class="num" id="7764792">1e9</span><span class="op" id="7764795">,</span>&nbsp;<span class="num" id="7764797">0</span><span class="op" id="7764798">}</span><span class="op" id="7764799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764802">{</span><span class="string" id="7764803">&#34;-1e9&#34;</span><span class="op" id="7764809">,</span>&nbsp;<span class="builtintype" id="7764811">true</span><span class="op" id="7764815">,</span>&nbsp;<span class="builtintype" id="7764817">false</span><span class="op" id="7764822">,</span>&nbsp;<span class="builtintype" id="7764824">true</span><span class="op" id="7764828">,</span>&nbsp;<span class="builtintype" id="7764830">false</span><span class="op" id="7764835">,</span>&nbsp;<span class="op" id="7764837">-</span><span class="num" id="7764838">1e9</span><span class="op" id="7764841">,</span>&nbsp;<span class="num" id="7764843">0</span><span class="op" id="7764844">,</span>&nbsp;<span class="op" id="7764846">-</span><span class="num" id="7764847">1e9</span><span class="op" id="7764850">,</span>&nbsp;<span class="num" id="7764852">0</span><span class="op" id="7764853">}</span><span class="op" id="7764854">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764857">{</span><span class="string" id="7764858">&#34;-1.2&#34;</span><span class="op" id="7764864">,</span>&nbsp;<span class="builtintype" id="7764866">false</span><span class="op" id="7764871">,</span>&nbsp;<span class="builtintype" id="7764873">false</span><span class="op" id="7764878">,</span>&nbsp;<span class="builtintype" id="7764880">true</span><span class="op" id="7764884">,</span>&nbsp;<span class="builtintype" id="7764886">false</span><span class="op" id="7764891">,</span>&nbsp;<span class="num" id="7764893">0</span><span class="op" id="7764894">,</span>&nbsp;<span class="num" id="7764896">0</span><span class="op" id="7764897">,</span>&nbsp;<span class="op" id="7764899">-</span><span class="num" id="7764900">1.2</span><span class="op" id="7764903">,</span>&nbsp;<span class="num" id="7764905">0</span><span class="op" id="7764906">}</span><span class="op" id="7764907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764910">{</span><span class="string" id="7764911">&#34;1e19&#34;</span><span class="op" id="7764917">,</span>&nbsp;<span class="builtintype" id="7764919">false</span><span class="op" id="7764924">,</span>&nbsp;<span class="builtintype" id="7764926">true</span><span class="op" id="7764930">,</span>&nbsp;<span class="builtintype" id="7764932">true</span><span class="op" id="7764936">,</span>&nbsp;<span class="builtintype" id="7764938">false</span><span class="op" id="7764943">,</span>&nbsp;<span class="num" id="7764945">0</span><span class="op" id="7764946">,</span>&nbsp;<span class="num" id="7764948">1e19</span><span class="op" id="7764952">,</span>&nbsp;<span class="num" id="7764954">1e19</span><span class="op" id="7764958">,</span>&nbsp;<span class="num" id="7764960">0</span><span class="op" id="7764961">}</span><span class="op" id="7764962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764965">{</span><span class="string" id="7764966">&#34;-1e19&#34;</span><span class="op" id="7764973">,</span>&nbsp;<span class="builtintype" id="7764975">false</span><span class="op" id="7764980">,</span>&nbsp;<span class="builtintype" id="7764982">false</span><span class="op" id="7764987">,</span>&nbsp;<span class="builtintype" id="7764989">true</span><span class="op" id="7764993">,</span>&nbsp;<span class="builtintype" id="7764995">false</span><span class="op" id="7765000">,</span>&nbsp;<span class="num" id="7765002">0</span><span class="op" id="7765003">,</span>&nbsp;<span class="num" id="7765005">0</span><span class="op" id="7765006">,</span>&nbsp;<span class="op" id="7765008">-</span><span class="num" id="7765009">1e19</span><span class="op" id="7765013">,</span>&nbsp;<span class="num" id="7765015">0</span><span class="op" id="7765016">}</span><span class="op" id="7765017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765020">{</span><span class="string" id="7765021">&#34;4i&#34;</span><span class="op" id="7765025">,</span>&nbsp;<span class="builtintype" id="7765027">false</span><span class="op" id="7765032">,</span>&nbsp;<span class="builtintype" id="7765034">false</span><span class="op" id="7765039">,</span>&nbsp;<span class="builtintype" id="7765041">false</span><span class="op" id="7765046">,</span>&nbsp;<span class="builtintype" id="7765048">true</span><span class="op" id="7765052">,</span>&nbsp;<span class="num" id="7765054">0</span><span class="op" id="7765055">,</span>&nbsp;<span class="num" id="7765057">0</span><span class="op" id="7765058">,</span>&nbsp;<span class="num" id="7765060">0</span><span class="op" id="7765061">,</span>&nbsp;<span class="num" id="7765063">4i</span><span class="op" id="7765065">}</span><span class="op" id="7765066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765069">{</span><span class="string" id="7765070">&#34;-1.2+4.2i&#34;</span><span class="op" id="7765081">,</span>&nbsp;<span class="builtintype" id="7765083">false</span><span class="op" id="7765088">,</span>&nbsp;<span class="builtintype" id="7765090">false</span><span class="op" id="7765095">,</span>&nbsp;<span class="builtintype" id="7765097">false</span><span class="op" id="7765102">,</span>&nbsp;<span class="builtintype" id="7765104">true</span><span class="op" id="7765108">,</span>&nbsp;<span class="num" id="7765110">0</span><span class="op" id="7765111">,</span>&nbsp;<span class="num" id="7765113">0</span><span class="op" id="7765114">,</span>&nbsp;<span class="num" id="7765116">0</span><span class="op" id="7765117">,</span>&nbsp;<span class="op" id="7765119">-</span><span class="num" id="7765120">1.2</span>&nbsp;<span class="op" id="7765124">+</span>&nbsp;<span class="num" id="7765126">4.2i</span><span class="op" id="7765130">}</span><span class="op" id="7765131">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765134">{</span><span class="string" id="7765135">&#34;073i&#34;</span><span class="op" id="7765141">,</span>&nbsp;<span class="builtintype" id="7765143">false</span><span class="op" id="7765148">,</span>&nbsp;<span class="builtintype" id="7765150">false</span><span class="op" id="7765155">,</span>&nbsp;<span class="builtintype" id="7765157">false</span><span class="op" id="7765162">,</span>&nbsp;<span class="builtintype" id="7765164">true</span><span class="op" id="7765168">,</span>&nbsp;<span class="num" id="7765170">0</span><span class="op" id="7765171">,</span>&nbsp;<span class="num" id="7765173">0</span><span class="op" id="7765174">,</span>&nbsp;<span class="num" id="7765176">0</span><span class="op" id="7765177">,</span>&nbsp;<span class="num" id="7765179">73i</span><span class="op" id="7765182">}</span><span class="op" id="7765183">,</span>&nbsp;<span class="comment" id="7765185">//&nbsp;not&nbsp;octal!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7765200">//&nbsp;complex&nbsp;with&nbsp;0&nbsp;imaginary&nbsp;are&nbsp;float&nbsp;(and&nbsp;maybe&nbsp;integer)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765259">{</span><span class="string" id="7765260">&#34;0i&#34;</span><span class="op" id="7765264">,</span>&nbsp;<span class="builtintype" id="7765266">true</span><span class="op" id="7765270">,</span>&nbsp;<span class="builtintype" id="7765272">true</span><span class="op" id="7765276">,</span>&nbsp;<span class="builtintype" id="7765278">true</span><span class="op" id="7765282">,</span>&nbsp;<span class="builtintype" id="7765284">true</span><span class="op" id="7765288">,</span>&nbsp;<span class="num" id="7765290">0</span><span class="op" id="7765291">,</span>&nbsp;<span class="num" id="7765293">0</span><span class="op" id="7765294">,</span>&nbsp;<span class="num" id="7765296">0</span><span class="op" id="7765297">,</span>&nbsp;<span class="num" id="7765299">0</span><span class="op" id="7765300">}</span><span class="op" id="7765301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765304">{</span><span class="string" id="7765305">&#34;-1.2+0i&#34;</span><span class="op" id="7765314">,</span>&nbsp;<span class="builtintype" id="7765316">false</span><span class="op" id="7765321">,</span>&nbsp;<span class="builtintype" id="7765323">false</span><span class="op" id="7765328">,</span>&nbsp;<span class="builtintype" id="7765330">true</span><span class="op" id="7765334">,</span>&nbsp;<span class="builtintype" id="7765336">true</span><span class="op" id="7765340">,</span>&nbsp;<span class="num" id="7765342">0</span><span class="op" id="7765343">,</span>&nbsp;<span class="num" id="7765345">0</span><span class="op" id="7765346">,</span>&nbsp;<span class="op" id="7765348">-</span><span class="num" id="7765349">1.2</span><span class="op" id="7765352">,</span>&nbsp;<span class="op" id="7765354">-</span><span class="num" id="7765355">1.2</span><span class="op" id="7765358">}</span><span class="op" id="7765359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765362">{</span><span class="string" id="7765363">&#34;-12+0i&#34;</span><span class="op" id="7765371">,</span>&nbsp;<span class="builtintype" id="7765373">true</span><span class="op" id="7765377">,</span>&nbsp;<span class="builtintype" id="7765379">false</span><span class="op" id="7765384">,</span>&nbsp;<span class="builtintype" id="7765386">true</span><span class="op" id="7765390">,</span>&nbsp;<span class="builtintype" id="7765392">true</span><span class="op" id="7765396">,</span>&nbsp;<span class="op" id="7765398">-</span><span class="num" id="7765399">12</span><span class="op" id="7765401">,</span>&nbsp;<span class="num" id="7765403">0</span><span class="op" id="7765404">,</span>&nbsp;<span class="op" id="7765406">-</span><span class="num" id="7765407">12</span><span class="op" id="7765409">,</span>&nbsp;<span class="op" id="7765411">-</span><span class="num" id="7765412">12</span><span class="op" id="7765414">}</span><span class="op" id="7765415">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765418">{</span><span class="string" id="7765419">&#34;13+0i&#34;</span><span class="op" id="7765426">,</span>&nbsp;<span class="builtintype" id="7765428">true</span><span class="op" id="7765432">,</span>&nbsp;<span class="builtintype" id="7765434">true</span><span class="op" id="7765438">,</span>&nbsp;<span class="builtintype" id="7765440">true</span><span class="op" id="7765444">,</span>&nbsp;<span class="builtintype" id="7765446">true</span><span class="op" id="7765450">,</span>&nbsp;<span class="num" id="7765452">13</span><span class="op" id="7765454">,</span>&nbsp;<span class="num" id="7765456">13</span><span class="op" id="7765458">,</span>&nbsp;<span class="num" id="7765460">13</span><span class="op" id="7765462">,</span>&nbsp;<span class="num" id="7765464">13</span><span class="op" id="7765466">}</span><span class="op" id="7765467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7765470">//&nbsp;funny&nbsp;bases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765486">{</span><span class="string" id="7765487">&#34;0123&#34;</span><span class="op" id="7765493">,</span>&nbsp;<span class="builtintype" id="7765495">true</span><span class="op" id="7765499">,</span>&nbsp;<span class="builtintype" id="7765501">true</span><span class="op" id="7765505">,</span>&nbsp;<span class="builtintype" id="7765507">true</span><span class="op" id="7765511">,</span>&nbsp;<span class="builtintype" id="7765513">false</span><span class="op" id="7765518">,</span>&nbsp;<span class="num" id="7765520">0123</span><span class="op" id="7765524">,</span>&nbsp;<span class="num" id="7765526">0123</span><span class="op" id="7765530">,</span>&nbsp;<span class="num" id="7765532">0123</span><span class="op" id="7765536">,</span>&nbsp;<span class="num" id="7765538">0</span><span class="op" id="7765539">}</span><span class="op" id="7765540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765543">{</span><span class="string" id="7765544">&#34;-0x0&#34;</span><span class="op" id="7765550">,</span>&nbsp;<span class="builtintype" id="7765552">true</span><span class="op" id="7765556">,</span>&nbsp;<span class="builtintype" id="7765558">true</span><span class="op" id="7765562">,</span>&nbsp;<span class="builtintype" id="7765564">true</span><span class="op" id="7765568">,</span>&nbsp;<span class="builtintype" id="7765570">false</span><span class="op" id="7765575">,</span>&nbsp;<span class="num" id="7765577">0</span><span class="op" id="7765578">,</span>&nbsp;<span class="num" id="7765580">0</span><span class="op" id="7765581">,</span>&nbsp;<span class="num" id="7765583">0</span><span class="op" id="7765584">,</span>&nbsp;<span class="num" id="7765586">0</span><span class="op" id="7765587">}</span><span class="op" id="7765588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765591">{</span><span class="string" id="7765592">&#34;0xdeadbeef&#34;</span><span class="op" id="7765604">,</span>&nbsp;<span class="builtintype" id="7765606">true</span><span class="op" id="7765610">,</span>&nbsp;<span class="builtintype" id="7765612">true</span><span class="op" id="7765616">,</span>&nbsp;<span class="builtintype" id="7765618">true</span><span class="op" id="7765622">,</span>&nbsp;<span class="builtintype" id="7765624">false</span><span class="op" id="7765629">,</span>&nbsp;<span class="num" id="7765631">0xdeadbeef</span><span class="op" id="7765641">,</span>&nbsp;<span class="num" id="7765643">0xdeadbeef</span><span class="op" id="7765653">,</span>&nbsp;<span class="num" id="7765655">0xdeadbeef</span><span class="op" id="7765665">,</span>&nbsp;<span class="num" id="7765667">0</span><span class="op" id="7765668">}</span><span class="op" id="7765669">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7765672">//&nbsp;character&nbsp;constants</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765696">{</span><span class="string" id="7765697">`&#39;a&#39;`</span><span class="op" id="7765702">,</span>&nbsp;<span class="builtintype" id="7765704">true</span><span class="op" id="7765708">,</span>&nbsp;<span class="builtintype" id="7765710">true</span><span class="op" id="7765714">,</span>&nbsp;<span class="builtintype" id="7765716">true</span><span class="op" id="7765720">,</span>&nbsp;<span class="builtintype" id="7765722">false</span><span class="op" id="7765727">,</span>&nbsp;<span class="string" id="7765729">&#39;a&#39;</span><span class="op" id="7765732">,</span>&nbsp;<span class="string" id="7765734">&#39;a&#39;</span><span class="op" id="7765737">,</span>&nbsp;<span class="string" id="7765739">&#39;a&#39;</span><span class="op" id="7765742">,</span>&nbsp;<span class="num" id="7765744">0</span><span class="op" id="7765745">}</span><span class="op" id="7765746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765749">{</span><span class="string" id="7765750">`&#39;\n&#39;`</span><span class="op" id="7765756">,</span>&nbsp;<span class="builtintype" id="7765758">true</span><span class="op" id="7765762">,</span>&nbsp;<span class="builtintype" id="7765764">true</span><span class="op" id="7765768">,</span>&nbsp;<span class="builtintype" id="7765770">true</span><span class="op" id="7765774">,</span>&nbsp;<span class="builtintype" id="7765776">false</span><span class="op" id="7765781">,</span>&nbsp;<span class="string" id="7765783">&#39;\n&#39;</span><span class="op" id="7765787">,</span>&nbsp;<span class="string" id="7765789">&#39;\n&#39;</span><span class="op" id="7765793">,</span>&nbsp;<span class="string" id="7765795">&#39;\n&#39;</span><span class="op" id="7765799">,</span>&nbsp;<span class="num" id="7765801">0</span><span class="op" id="7765802">}</span><span class="op" id="7765803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765806">{</span><span class="string" id="7765807">`&#39;\\&#39;`</span><span class="op" id="7765813">,</span>&nbsp;<span class="builtintype" id="7765815">true</span><span class="op" id="7765819">,</span>&nbsp;<span class="builtintype" id="7765821">true</span><span class="op" id="7765825">,</span>&nbsp;<span class="builtintype" id="7765827">true</span><span class="op" id="7765831">,</span>&nbsp;<span class="builtintype" id="7765833">false</span><span class="op" id="7765838">,</span>&nbsp;<span class="string" id="7765840">&#39;\\&#39;</span><span class="op" id="7765844">,</span>&nbsp;<span class="string" id="7765846">&#39;\\&#39;</span><span class="op" id="7765850">,</span>&nbsp;<span class="string" id="7765852">&#39;\\&#39;</span><span class="op" id="7765856">,</span>&nbsp;<span class="num" id="7765858">0</span><span class="op" id="7765859">}</span><span class="op" id="7765860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765863">{</span><span class="string" id="7765864">`&#39;\&#39;&#39;`</span><span class="op" id="7765870">,</span>&nbsp;<span class="builtintype" id="7765872">true</span><span class="op" id="7765876">,</span>&nbsp;<span class="builtintype" id="7765878">true</span><span class="op" id="7765882">,</span>&nbsp;<span class="builtintype" id="7765884">true</span><span class="op" id="7765888">,</span>&nbsp;<span class="builtintype" id="7765890">false</span><span class="op" id="7765895">,</span>&nbsp;<span class="string" id="7765897">&#39;\&#39;&#39;</span><span class="op" id="7765901">,</span>&nbsp;<span class="string" id="7765903">&#39;\&#39;&#39;</span><span class="op" id="7765907">,</span>&nbsp;<span class="string" id="7765909">&#39;\&#39;&#39;</span><span class="op" id="7765913">,</span>&nbsp;<span class="num" id="7765915">0</span><span class="op" id="7765916">}</span><span class="op" id="7765917">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765920">{</span><span class="string" id="7765921">`&#39;\xFF&#39;`</span><span class="op" id="7765929">,</span>&nbsp;<span class="builtintype" id="7765931">true</span><span class="op" id="7765935">,</span>&nbsp;<span class="builtintype" id="7765937">true</span><span class="op" id="7765941">,</span>&nbsp;<span class="builtintype" id="7765943">true</span><span class="op" id="7765947">,</span>&nbsp;<span class="builtintype" id="7765949">false</span><span class="op" id="7765954">,</span>&nbsp;<span class="num" id="7765956">0xFF</span><span class="op" id="7765960">,</span>&nbsp;<span class="num" id="7765962">0xFF</span><span class="op" id="7765966">,</span>&nbsp;<span class="num" id="7765968">0xFF</span><span class="op" id="7765972">,</span>&nbsp;<span class="num" id="7765974">0</span><span class="op" id="7765975">}</span><span class="op" id="7765976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765979">{</span><span class="string" id="7765980">`&#39;ãƒ‘&#39;`</span><span class="op" id="7765987">,</span>&nbsp;<span class="builtintype" id="7765989">true</span><span class="op" id="7765993">,</span>&nbsp;<span class="builtintype" id="7765995">true</span><span class="op" id="7765999">,</span>&nbsp;<span class="builtintype" id="7766001">true</span><span class="op" id="7766005">,</span>&nbsp;<span class="builtintype" id="7766007">false</span><span class="op" id="7766012">,</span>&nbsp;<span class="num" id="7766014">0x30d1</span><span class="op" id="7766020">,</span>&nbsp;<span class="num" id="7766022">0x30d1</span><span class="op" id="7766028">,</span>&nbsp;<span class="num" id="7766030">0x30d1</span><span class="op" id="7766036">,</span>&nbsp;<span class="num" id="7766038">0</span><span class="op" id="7766039">}</span><span class="op" id="7766040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766043">{</span><span class="string" id="7766044">`&#39;\u30d1&#39;`</span><span class="op" id="7766054">,</span>&nbsp;<span class="builtintype" id="7766056">true</span><span class="op" id="7766060">,</span>&nbsp;<span class="builtintype" id="7766062">true</span><span class="op" id="7766066">,</span>&nbsp;<span class="builtintype" id="7766068">true</span><span class="op" id="7766072">,</span>&nbsp;<span class="builtintype" id="7766074">false</span><span class="op" id="7766079">,</span>&nbsp;<span class="num" id="7766081">0x30d1</span><span class="op" id="7766087">,</span>&nbsp;<span class="num" id="7766089">0x30d1</span><span class="op" id="7766095">,</span>&nbsp;<span class="num" id="7766097">0x30d1</span><span class="op" id="7766103">,</span>&nbsp;<span class="num" id="7766105">0</span><span class="op" id="7766106">}</span><span class="op" id="7766107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766110">{</span><span class="string" id="7766111">`&#39;\U000030d1&#39;`</span><span class="op" id="7766125">,</span>&nbsp;<span class="builtintype" id="7766127">true</span><span class="op" id="7766131">,</span>&nbsp;<span class="builtintype" id="7766133">true</span><span class="op" id="7766137">,</span>&nbsp;<span class="builtintype" id="7766139">true</span><span class="op" id="7766143">,</span>&nbsp;<span class="builtintype" id="7766145">false</span><span class="op" id="7766150">,</span>&nbsp;<span class="num" id="7766152">0x30d1</span><span class="op" id="7766158">,</span>&nbsp;<span class="num" id="7766160">0x30d1</span><span class="op" id="7766166">,</span>&nbsp;<span class="num" id="7766168">0x30d1</span><span class="op" id="7766174">,</span>&nbsp;<span class="num" id="7766176">0</span><span class="op" id="7766177">}</span><span class="op" id="7766178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7766181">//&nbsp;some&nbsp;broken&nbsp;syntax</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766204">{</span><span class="ident" id="7766205">text</span><span class="op" id="7766209">:</span>&nbsp;<span class="string" id="7766211">&#34;+-2&#34;</span><span class="op" id="7766216">}</span><span class="op" id="7766217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766220">{</span><span class="ident" id="7766221">text</span><span class="op" id="7766225">:</span>&nbsp;<span class="string" id="7766227">&#34;0x123.&#34;</span><span class="op" id="7766235">}</span><span class="op" id="7766236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766239">{</span><span class="ident" id="7766240">text</span><span class="op" id="7766244">:</span>&nbsp;<span class="string" id="7766246">&#34;1e.&#34;</span><span class="op" id="7766251">}</span><span class="op" id="7766252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766255">{</span><span class="ident" id="7766256">text</span><span class="op" id="7766260">:</span>&nbsp;<span class="string" id="7766262">&#34;0xi.&#34;</span><span class="op" id="7766268">}</span><span class="op" id="7766269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766272">{</span><span class="ident" id="7766273">text</span><span class="op" id="7766277">:</span>&nbsp;<span class="string" id="7766279">&#34;1+2.&#34;</span><span class="op" id="7766285">}</span><span class="op" id="7766286">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766289">{</span><span class="ident" id="7766290">text</span><span class="op" id="7766294">:</span>&nbsp;<span class="string" id="7766296">&#34;&#39;x&#34;</span><span class="op" id="7766300">}</span><span class="op" id="7766301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766304">{</span><span class="ident" id="7766305">text</span><span class="op" id="7766309">:</span>&nbsp;<span class="string" id="7766311">&#34;&#39;xx&#39;&#34;</span><span class="op" id="7766317">}</span><span class="op" id="7766318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7766321">//&nbsp;Issue&nbsp;8622&nbsp;-&nbsp;0xe&nbsp;parsed&nbsp;as&nbsp;floating&nbsp;point.&nbsp;Very&nbsp;embarrassing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766387">{</span><span class="string" id="7766388">&#34;0xef&#34;</span><span class="op" id="7766394">,</span>&nbsp;<span class="builtintype" id="7766396">true</span><span class="op" id="7766400">,</span>&nbsp;<span class="builtintype" id="7766402">true</span><span class="op" id="7766406">,</span>&nbsp;<span class="builtintype" id="7766408">true</span><span class="op" id="7766412">,</span>&nbsp;<span class="builtintype" id="7766414">false</span><span class="op" id="7766419">,</span>&nbsp;<span class="num" id="7766421">0xef</span><span class="op" id="7766425">,</span>&nbsp;<span class="num" id="7766427">0xef</span><span class="op" id="7766431">,</span>&nbsp;<span class="num" id="7766433">0xef</span><span class="op" id="7766437">,</span>&nbsp;<span class="num" id="7766439">0</span><span class="op" id="7766440">}</span><span class="op" id="7766441">,</span><br>
<span class="lineno"></span><span class="op" id="7766443">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="7766446">func</span>&nbsp;<span class="ident" id="7766451">TestNumberParse</span><span class="op" id="7766466">(</span><span class="ident" id="7766467">t</span>&nbsp;<span class="op" id="7766469">*</span><span class="ident" id="7766470">testing</span><span class="op" id="7766477">.</span><span class="ident" id="7766478">T</span><span class="op" id="7766479">)</span>&nbsp;<span class="op" id="7766481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766484">for</span>&nbsp;<span class="ident" id="7766488">_</span><span class="op" id="7766489">,</span>&nbsp;<span class="ident" id="7766491">test</span>&nbsp;<span class="op" id="7766496">:=</span>&nbsp;<span class="keyword" id="7766499">range</span>&nbsp;<span class="ident" id="7766505">numberTests</span>&nbsp;<span class="op" id="7766517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7766521">//&nbsp;If&nbsp;fmt.Sscan&nbsp;thinks&nbsp;it&#39;s&nbsp;complex,&nbsp;it&#39;s&nbsp;complex.&nbsp;&nbsp;We&nbsp;can&#39;t&nbsp;trust&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7766601">//&nbsp;because&nbsp;imaginary&nbsp;comes&nbsp;out&nbsp;as&nbsp;a&nbsp;number.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766647">var</span>&nbsp;<span class="ident" id="7766651">c</span>&nbsp;<span class="builtintype" id="7766653">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766666">typ</span>&nbsp;<span class="op" id="7766670">:=</span>&nbsp;<span class="ident" id="7766673">itemNumber</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766686">var</span>&nbsp;<span class="ident" id="7766690">tree</span>&nbsp;<span class="op" id="7766695">*</span><span class="ident" id="7766696">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766703">if</span>&nbsp;<span class="ident" id="7766706">test</span><span class="op" id="7766710">.</span><span class="ident" id="7766711">text</span><span class="op" id="7766715">[</span><span class="num" id="7766716">0</span><span class="op" id="7766717">]</span>&nbsp;<span class="op" id="7766719">==</span>&nbsp;<span class="string" id="7766722">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="7766727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766732">typ</span>&nbsp;<span class="op" id="7766736">=</span>&nbsp;<span class="ident" id="7766738">itemCharConstant</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766757">}</span>&nbsp;<span class="keyword" id="7766759">else</span>&nbsp;<span class="op" id="7766764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766769">_</span><span class="op" id="7766770">,</span>&nbsp;<span class="ident" id="7766772">err</span>&nbsp;<span class="op" id="7766776">:=</span>&nbsp;<span class="ident" id="7766779">fmt</span><span class="op" id="7766782">.</span><span class="ident" id="7766783">Sscan</span><span class="op" id="7766788">(</span><span class="ident" id="7766789">test</span><span class="op" id="7766793">.</span><span class="ident" id="7766794">text</span><span class="op" id="7766798">,</span>&nbsp;<span class="op" id="7766800">&amp;</span><span class="ident" id="7766801">c</span><span class="op" id="7766802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766807">if</span>&nbsp;<span class="ident" id="7766810">err</span>&nbsp;<span class="op" id="7766814">==</span>&nbsp;<span class="ident" id="7766817">nil</span>&nbsp;<span class="op" id="7766821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766827">typ</span>&nbsp;<span class="op" id="7766831">=</span>&nbsp;<span class="ident" id="7766833">itemComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766848">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766856">n</span><span class="op" id="7766857">,</span>&nbsp;<span class="ident" id="7766859">err</span>&nbsp;<span class="op" id="7766863">:=</span>&nbsp;<span class="ident" id="7766866">tree</span><span class="op" id="7766870">.</span><span class="ident" id="7766871">newNumber</span><span class="op" id="7766880">(</span><span class="num" id="7766881">0</span><span class="op" id="7766882">,</span>&nbsp;<span class="ident" id="7766884">test</span><span class="op" id="7766888">.</span><span class="ident" id="7766889">text</span><span class="op" id="7766893">,</span>&nbsp;<span class="ident" id="7766895">typ</span><span class="op" id="7766898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766902">ok</span>&nbsp;<span class="op" id="7766905">:=</span>&nbsp;<span class="ident" id="7766908">test</span><span class="op" id="7766912">.</span><span class="ident" id="7766913">isInt</span>&nbsp;<span class="op" id="7766919">||</span>&nbsp;<span class="ident" id="7766922">test</span><span class="op" id="7766926">.</span><span class="ident" id="7766927">isUint</span>&nbsp;<span class="op" id="7766934">||</span>&nbsp;<span class="ident" id="7766937">test</span><span class="op" id="7766941">.</span><span class="ident" id="7766942">isFloat</span>&nbsp;<span class="op" id="7766950">||</span>&nbsp;<span class="ident" id="7766953">test</span><span class="op" id="7766957">.</span><span class="ident" id="7766958">isComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766970">if</span>&nbsp;<span class="ident" id="7766973">ok</span>&nbsp;<span class="op" id="7766976">&amp;&amp;</span>&nbsp;<span class="ident" id="7766979">err</span>&nbsp;<span class="op" id="7766983">!=</span>&nbsp;<span class="ident" id="7766986">nil</span>&nbsp;<span class="op" id="7766990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766995">t</span><span class="op" id="7766996">.</span><span class="ident" id="7766997">Errorf</span><span class="op" id="7767003">(</span><span class="string" id="7767004">&#34;unexpected&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7767033">,</span>&nbsp;<span class="ident" id="7767035">test</span><span class="op" id="7767039">.</span><span class="ident" id="7767040">text</span><span class="op" id="7767044">,</span>&nbsp;<span class="ident" id="7767046">err</span><span class="op" id="7767049">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767054">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767069">if</span>&nbsp;<span class="op" id="7767072">!</span><span class="ident" id="7767073">ok</span>&nbsp;<span class="op" id="7767076">&amp;&amp;</span>&nbsp;<span class="ident" id="7767079">err</span>&nbsp;<span class="op" id="7767083">==</span>&nbsp;<span class="ident" id="7767086">nil</span>&nbsp;<span class="op" id="7767090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767095">t</span><span class="op" id="7767096">.</span><span class="ident" id="7767097">Errorf</span><span class="op" id="7767103">(</span><span class="string" id="7767104">&#34;expected&nbsp;error&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7767127">,</span>&nbsp;<span class="ident" id="7767129">test</span><span class="op" id="7767133">.</span><span class="ident" id="7767134">text</span><span class="op" id="7767138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767143">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767154">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767158">if</span>&nbsp;<span class="op" id="7767161">!</span><span class="ident" id="7767162">ok</span>&nbsp;<span class="op" id="7767165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767170">if</span>&nbsp;<span class="op" id="7767173">*</span><span class="ident" id="7767174">debug</span>&nbsp;<span class="op" id="7767180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767186">fmt</span><span class="op" id="7767189">.</span><span class="ident" id="7767190">Printf</span><span class="op" id="7767196">(</span><span class="string" id="7767197">&#34;%s\n\t%s\n&#34;</span><span class="op" id="7767209">,</span>&nbsp;<span class="ident" id="7767211">test</span><span class="op" id="7767215">.</span><span class="ident" id="7767216">text</span><span class="op" id="7767220">,</span>&nbsp;<span class="ident" id="7767222">err</span><span class="op" id="7767225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767230">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767235">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767250">if</span>&nbsp;<span class="ident" id="7767253">n</span><span class="op" id="7767254">.</span><span class="ident" id="7767255">IsComplex</span>&nbsp;<span class="op" id="7767265">!=</span>&nbsp;<span class="ident" id="7767268">test</span><span class="op" id="7767272">.</span><span class="ident" id="7767273">isComplex</span>&nbsp;<span class="op" id="7767283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767288">t</span><span class="op" id="7767289">.</span><span class="ident" id="7767290">Errorf</span><span class="op" id="7767296">(</span><span class="string" id="7767297">&#34;complex&nbsp;incorrect&nbsp;for&nbsp;%q;&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7767337">,</span>&nbsp;<span class="ident" id="7767339">test</span><span class="op" id="7767343">.</span><span class="ident" id="7767344">text</span><span class="op" id="7767348">,</span>&nbsp;<span class="ident" id="7767350">test</span><span class="op" id="7767354">.</span><span class="ident" id="7767355">isComplex</span><span class="op" id="7767364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767368">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767372">if</span>&nbsp;<span class="ident" id="7767375">test</span><span class="op" id="7767379">.</span><span class="ident" id="7767380">isInt</span>&nbsp;<span class="op" id="7767386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767391">if</span>&nbsp;<span class="op" id="7767394">!</span><span class="ident" id="7767395">n</span><span class="op" id="7767396">.</span><span class="ident" id="7767397">IsInt</span>&nbsp;<span class="op" id="7767403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767409">t</span><span class="op" id="7767410">.</span><span class="ident" id="7767411">Errorf</span><span class="op" id="7767417">(</span><span class="string" id="7767418">&#34;expected&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7767443">,</span>&nbsp;<span class="ident" id="7767445">test</span><span class="op" id="7767449">.</span><span class="ident" id="7767450">text</span><span class="op" id="7767454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767464">if</span>&nbsp;<span class="ident" id="7767467">n</span><span class="op" id="7767468">.</span><span class="ident" id="7767469">Int64</span>&nbsp;<span class="op" id="7767475">!=</span>&nbsp;<span class="ident" id="7767478">test</span><span class="op" id="7767482">.</span><span class="ident" id="7767483">int64</span>&nbsp;<span class="op" id="7767489">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767495">t</span><span class="op" id="7767496">.</span><span class="ident" id="7767497">Errorf</span><span class="op" id="7767503">(</span><span class="string" id="7767504">&#34;int64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="7767537">,</span>&nbsp;<span class="ident" id="7767539">test</span><span class="op" id="7767543">.</span><span class="ident" id="7767544">text</span><span class="op" id="7767548">,</span>&nbsp;<span class="ident" id="7767550">test</span><span class="op" id="7767554">.</span><span class="ident" id="7767555">int64</span><span class="op" id="7767560">,</span>&nbsp;<span class="ident" id="7767562">n</span><span class="op" id="7767563">.</span><span class="ident" id="7767564">Int64</span><span class="op" id="7767569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767578">}</span>&nbsp;<span class="keyword" id="7767580">else</span>&nbsp;<span class="keyword" id="7767585">if</span>&nbsp;<span class="ident" id="7767588">n</span><span class="op" id="7767589">.</span><span class="ident" id="7767590">IsInt</span>&nbsp;<span class="op" id="7767596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767601">t</span><span class="op" id="7767602">.</span><span class="ident" id="7767603">Errorf</span><span class="op" id="7767609">(</span><span class="string" id="7767610">&#34;did&nbsp;not&nbsp;expect&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7767641">,</span>&nbsp;<span class="ident" id="7767643">test</span><span class="op" id="7767647">.</span><span class="ident" id="7767648">text</span><span class="op" id="7767652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767656">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767660">if</span>&nbsp;<span class="ident" id="7767663">test</span><span class="op" id="7767667">.</span><span class="ident" id="7767668">isUint</span>&nbsp;<span class="op" id="7767675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767680">if</span>&nbsp;<span class="op" id="7767683">!</span><span class="ident" id="7767684">n</span><span class="op" id="7767685">.</span><span class="ident" id="7767686">IsUint</span>&nbsp;<span class="op" id="7767693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767699">t</span><span class="op" id="7767700">.</span><span class="ident" id="7767701">Errorf</span><span class="op" id="7767707">(</span><span class="string" id="7767708">&#34;expected&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7767742">,</span>&nbsp;<span class="ident" id="7767744">test</span><span class="op" id="7767748">.</span><span class="ident" id="7767749">text</span><span class="op" id="7767753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767763">if</span>&nbsp;<span class="ident" id="7767766">n</span><span class="op" id="7767767">.</span><span class="ident" id="7767768">Uint64</span>&nbsp;<span class="op" id="7767775">!=</span>&nbsp;<span class="ident" id="7767778">test</span><span class="op" id="7767782">.</span><span class="ident" id="7767783">uint64</span>&nbsp;<span class="op" id="7767790">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767796">t</span><span class="op" id="7767797">.</span><span class="ident" id="7767798">Errorf</span><span class="op" id="7767804">(</span><span class="string" id="7767805">&#34;uint64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="7767839">,</span>&nbsp;<span class="ident" id="7767841">test</span><span class="op" id="7767845">.</span><span class="ident" id="7767846">text</span><span class="op" id="7767850">,</span>&nbsp;<span class="ident" id="7767852">test</span><span class="op" id="7767856">.</span><span class="ident" id="7767857">uint64</span><span class="op" id="7767863">,</span>&nbsp;<span class="ident" id="7767865">n</span><span class="op" id="7767866">.</span><span class="ident" id="7767867">Uint64</span><span class="op" id="7767873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767882">}</span>&nbsp;<span class="keyword" id="7767884">else</span>&nbsp;<span class="keyword" id="7767889">if</span>&nbsp;<span class="ident" id="7767892">n</span><span class="op" id="7767893">.</span><span class="ident" id="7767894">IsUint</span>&nbsp;<span class="op" id="7767901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767906">t</span><span class="op" id="7767907">.</span><span class="ident" id="7767908">Errorf</span><span class="op" id="7767914">(</span><span class="string" id="7767915">&#34;did&nbsp;not&nbsp;expect&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7767955">,</span>&nbsp;<span class="ident" id="7767957">test</span><span class="op" id="7767961">.</span><span class="ident" id="7767962">text</span><span class="op" id="7767966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767970">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767974">if</span>&nbsp;<span class="ident" id="7767977">test</span><span class="op" id="7767981">.</span><span class="ident" id="7767982">isFloat</span>&nbsp;<span class="op" id="7767990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767995">if</span>&nbsp;<span class="op" id="7767998">!</span><span class="ident" id="7767999">n</span><span class="op" id="7768000">.</span><span class="ident" id="7768001">IsFloat</span>&nbsp;<span class="op" id="7768009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768015">t</span><span class="op" id="7768016">.</span><span class="ident" id="7768017">Errorf</span><span class="op" id="7768023">(</span><span class="string" id="7768024">&#34;expected&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7768047">,</span>&nbsp;<span class="ident" id="7768049">test</span><span class="op" id="7768053">.</span><span class="ident" id="7768054">text</span><span class="op" id="7768058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7768068">if</span>&nbsp;<span class="ident" id="7768071">n</span><span class="op" id="7768072">.</span><span class="ident" id="7768073">Float64</span>&nbsp;<span class="op" id="7768081">!=</span>&nbsp;<span class="ident" id="7768084">test</span><span class="op" id="7768088">.</span><span class="builtintype" id="7768089">float64</span>&nbsp;<span class="op" id="7768097">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768103">t</span><span class="op" id="7768104">.</span><span class="ident" id="7768105">Errorf</span><span class="op" id="7768111">(</span><span class="string" id="7768112">&#34;float64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="7768147">,</span>&nbsp;<span class="ident" id="7768149">test</span><span class="op" id="7768153">.</span><span class="ident" id="7768154">text</span><span class="op" id="7768158">,</span>&nbsp;<span class="ident" id="7768160">test</span><span class="op" id="7768164">.</span><span class="builtintype" id="7768165">float64</span><span class="op" id="7768172">,</span>&nbsp;<span class="ident" id="7768174">n</span><span class="op" id="7768175">.</span><span class="ident" id="7768176">Float64</span><span class="op" id="7768183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768192">}</span>&nbsp;<span class="keyword" id="7768194">else</span>&nbsp;<span class="keyword" id="7768199">if</span>&nbsp;<span class="ident" id="7768202">n</span><span class="op" id="7768203">.</span><span class="ident" id="7768204">IsFloat</span>&nbsp;<span class="op" id="7768212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768217">t</span><span class="op" id="7768218">.</span><span class="ident" id="7768219">Errorf</span><span class="op" id="7768225">(</span><span class="string" id="7768226">&#34;did&nbsp;not&nbsp;expect&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7768255">,</span>&nbsp;<span class="ident" id="7768257">test</span><span class="op" id="7768261">.</span><span class="ident" id="7768262">text</span><span class="op" id="7768266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768270">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7768274">if</span>&nbsp;<span class="ident" id="7768277">test</span><span class="op" id="7768281">.</span><span class="ident" id="7768282">isComplex</span>&nbsp;<span class="op" id="7768292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7768297">if</span>&nbsp;<span class="op" id="7768300">!</span><span class="ident" id="7768301">n</span><span class="op" id="7768302">.</span><span class="ident" id="7768303">IsComplex</span>&nbsp;<span class="op" id="7768313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768319">t</span><span class="op" id="7768320">.</span><span class="ident" id="7768321">Errorf</span><span class="op" id="7768327">(</span><span class="string" id="7768328">&#34;expected&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7768353">,</span>&nbsp;<span class="ident" id="7768355">test</span><span class="op" id="7768359">.</span><span class="ident" id="7768360">text</span><span class="op" id="7768364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7768374">if</span>&nbsp;<span class="ident" id="7768377">n</span><span class="op" id="7768378">.</span><span class="ident" id="7768379">Complex128</span>&nbsp;<span class="op" id="7768390">!=</span>&nbsp;<span class="ident" id="7768393">test</span><span class="op" id="7768397">.</span><span class="builtintype" id="7768398">complex128</span>&nbsp;<span class="op" id="7768409">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768415">t</span><span class="op" id="7768416">.</span><span class="ident" id="7768417">Errorf</span><span class="op" id="7768423">(</span><span class="string" id="7768424">&#34;complex128&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="7768462">,</span>&nbsp;<span class="ident" id="7768464">test</span><span class="op" id="7768468">.</span><span class="ident" id="7768469">text</span><span class="op" id="7768473">,</span>&nbsp;<span class="ident" id="7768475">test</span><span class="op" id="7768479">.</span><span class="builtintype" id="7768480">complex128</span><span class="op" id="7768490">,</span>&nbsp;<span class="ident" id="7768492">n</span><span class="op" id="7768493">.</span><span class="ident" id="7768494">Complex128</span><span class="op" id="7768504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768513">}</span>&nbsp;<span class="keyword" id="7768515">else</span>&nbsp;<span class="keyword" id="7768520">if</span>&nbsp;<span class="ident" id="7768523">n</span><span class="op" id="7768524">.</span><span class="ident" id="7768525">IsComplex</span>&nbsp;<span class="op" id="7768535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768540">t</span><span class="op" id="7768541">.</span><span class="ident" id="7768542">Errorf</span><span class="op" id="7768548">(</span><span class="string" id="7768549">&#34;did&nbsp;not&nbsp;expect&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7768580">,</span>&nbsp;<span class="ident" id="7768582">test</span><span class="op" id="7768586">.</span><span class="ident" id="7768587">text</span><span class="op" id="7768591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768595">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768598">}</span><br>
<span class="lineno"></span><span class="op" id="7768600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7768603">type</span>&nbsp;<span class="ident" id="7768608">parseTest</span>&nbsp;<span class="keyword" id="7768618">struct</span>&nbsp;<span class="op" id="7768625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768628">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7768635">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768643">input</span>&nbsp;&nbsp;<span class="builtintype" id="7768650">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768658">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7768665">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768671">result</span>&nbsp;<span class="builtintype" id="7768678">string</span>&nbsp;<span class="comment" id="7768685">//&nbsp;what&nbsp;the&nbsp;user&nbsp;would&nbsp;see&nbsp;in&nbsp;an&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="op" id="7768733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="7768736">const</span>&nbsp;<span class="op" id="7768742">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768745">noError</span>&nbsp;&nbsp;<span class="op" id="7768754">=</span>&nbsp;<span class="builtintype" id="7768756">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768762">hasError</span>&nbsp;<span class="op" id="7768771">=</span>&nbsp;<span class="builtintype" id="7768773">false</span><br>
<span class="lineno"></span><span class="op" id="7768779">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="7768782">var</span>&nbsp;<span class="ident" id="7768786">parseTests</span>&nbsp;<span class="op" id="7768797">=</span>&nbsp;<span class="op" id="7768799">[</span><span class="op" id="7768800">]</span><span class="ident" id="7768801">parseTest</span><span class="op" id="7768810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768813">{</span><span class="string" id="7768814">&#34;empty&#34;</span><span class="op" id="7768821">,</span>&nbsp;<span class="string" id="7768823">&#34;&#34;</span><span class="op" id="7768825">,</span>&nbsp;<span class="ident" id="7768827">noError</span><span class="op" id="7768834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7768838">``</span><span class="op" id="7768840">}</span><span class="op" id="7768841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768844">{</span><span class="string" id="7768845">&#34;comment&#34;</span><span class="op" id="7768854">,</span>&nbsp;<span class="string" id="7768856">&#34;{{/*\n\n\n*/}}&#34;</span><span class="op" id="7768872">,</span>&nbsp;<span class="ident" id="7768874">noError</span><span class="op" id="7768881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7768885">``</span><span class="op" id="7768887">}</span><span class="op" id="7768888">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768891">{</span><span class="string" id="7768892">&#34;spaces&#34;</span><span class="op" id="7768900">,</span>&nbsp;<span class="string" id="7768902">&#34;&nbsp;\t\n&#34;</span><span class="op" id="7768909">,</span>&nbsp;<span class="ident" id="7768911">noError</span><span class="op" id="7768918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7768922">`&#34;&nbsp;\t\n&#34;`</span><span class="op" id="7768931">}</span><span class="op" id="7768932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768935">{</span><span class="string" id="7768936">&#34;text&#34;</span><span class="op" id="7768942">,</span>&nbsp;<span class="string" id="7768944">&#34;some&nbsp;text&#34;</span><span class="op" id="7768955">,</span>&nbsp;<span class="ident" id="7768957">noError</span><span class="op" id="7768964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7768968">`&#34;some&nbsp;text&#34;`</span><span class="op" id="7768981">}</span><span class="op" id="7768982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768985">{</span><span class="string" id="7768986">&#34;emptyAction&#34;</span><span class="op" id="7768999">,</span>&nbsp;<span class="string" id="7769001">&#34;{{}}&#34;</span><span class="op" id="7769007">,</span>&nbsp;<span class="ident" id="7769009">hasError</span><span class="op" id="7769017">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7769021">`{{}}`</span><span class="op" id="7769027">}</span><span class="op" id="7769028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769031">{</span><span class="string" id="7769032">&#34;field&#34;</span><span class="op" id="7769039">,</span>&nbsp;<span class="string" id="7769041">&#34;{{.X}}&#34;</span><span class="op" id="7769049">,</span>&nbsp;<span class="ident" id="7769051">noError</span><span class="op" id="7769058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7769062">`{{.X}}`</span><span class="op" id="7769070">}</span><span class="op" id="7769071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769074">{</span><span class="string" id="7769075">&#34;simple&nbsp;command&#34;</span><span class="op" id="7769091">,</span>&nbsp;<span class="string" id="7769093">&#34;{{printf}}&#34;</span><span class="op" id="7769105">,</span>&nbsp;<span class="ident" id="7769107">noError</span><span class="op" id="7769114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7769118">`{{printf}}`</span><span class="op" id="7769130">}</span><span class="op" id="7769131">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769134">{</span><span class="string" id="7769135">&#34;$&nbsp;invocation&#34;</span><span class="op" id="7769149">,</span>&nbsp;<span class="string" id="7769151">&#34;{{$}}&#34;</span><span class="op" id="7769158">,</span>&nbsp;<span class="ident" id="7769160">noError</span><span class="op" id="7769167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7769171">&#34;{{$}}&#34;</span><span class="op" id="7769178">}</span><span class="op" id="7769179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769182">{</span><span class="string" id="7769183">&#34;variable&nbsp;invocation&#34;</span><span class="op" id="7769204">,</span>&nbsp;<span class="string" id="7769206">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="7769240">,</span>&nbsp;<span class="ident" id="7769242">noError</span><span class="op" id="7769249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7769253">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="7769287">}</span><span class="op" id="7769288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769291">{</span><span class="string" id="7769292">&#34;variable&nbsp;with&nbsp;fields&#34;</span><span class="op" id="7769314">,</span>&nbsp;<span class="string" id="7769316">&#34;{{$.I}}&#34;</span><span class="op" id="7769325">,</span>&nbsp;<span class="ident" id="7769327">noError</span><span class="op" id="7769334">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7769338">&#34;{{$.I}}&#34;</span><span class="op" id="7769347">}</span><span class="op" id="7769348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769351">{</span><span class="string" id="7769352">&#34;multi-word&nbsp;command&#34;</span><span class="op" id="7769372">,</span>&nbsp;<span class="string" id="7769374">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="7769394">,</span>&nbsp;<span class="ident" id="7769396">noError</span><span class="op" id="7769403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7769407">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="7769427">}</span><span class="op" id="7769428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769431">{</span><span class="string" id="7769432">&#34;pipeline&#34;</span><span class="op" id="7769442">,</span>&nbsp;<span class="string" id="7769444">&#34;{{.X|.Y}}&#34;</span><span class="op" id="7769455">,</span>&nbsp;<span class="ident" id="7769457">noError</span><span class="op" id="7769464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7769468">`{{.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="7769481">}</span><span class="op" id="7769482">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769485">{</span><span class="string" id="7769486">&#34;pipeline&nbsp;with&nbsp;decl&#34;</span><span class="op" id="7769506">,</span>&nbsp;<span class="string" id="7769508">&#34;{{$x&nbsp;:=&nbsp;.X|.Y}}&#34;</span><span class="op" id="7769525">,</span>&nbsp;<span class="ident" id="7769527">noError</span><span class="op" id="7769534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7769538">`{{$x&nbsp;:=&nbsp;.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="7769557">}</span><span class="op" id="7769558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769561">{</span><span class="string" id="7769562">&#34;nested&nbsp;pipeline&#34;</span><span class="op" id="7769579">,</span>&nbsp;<span class="string" id="7769581">&#34;{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}&#34;</span><span class="op" id="7769615">,</span>&nbsp;<span class="ident" id="7769617">noError</span><span class="op" id="7769624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7769628">`{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}`</span><span class="op" id="7769662">}</span><span class="op" id="7769663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769666">{</span><span class="string" id="7769667">&#34;field&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="7769697">,</span>&nbsp;<span class="string" id="7769699">&#34;{{(.Y&nbsp;.Z).Field}}&#34;</span><span class="op" id="7769718">,</span>&nbsp;<span class="ident" id="7769720">noError</span><span class="op" id="7769727">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7769731">`{{(.Y&nbsp;.Z).Field}}`</span><span class="op" id="7769750">}</span><span class="op" id="7769751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769754">{</span><span class="string" id="7769755">&#34;simple&nbsp;if&#34;</span><span class="op" id="7769766">,</span>&nbsp;<span class="string" id="7769768">&#34;{{if&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="7769791">,</span>&nbsp;<span class="ident" id="7769793">noError</span><span class="op" id="7769800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7769804">`{{if&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="7769829">}</span><span class="op" id="7769830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769833">{</span><span class="string" id="7769834">&#34;if&nbsp;with&nbsp;else&#34;</span><span class="op" id="7769848">,</span>&nbsp;<span class="string" id="7769850">&#34;{{if&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="7769885">,</span>&nbsp;<span class="ident" id="7769887">noError</span><span class="op" id="7769894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7769898">`{{if&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="7769937">}</span><span class="op" id="7769938">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769941">{</span><span class="string" id="7769942">&#34;if&nbsp;with&nbsp;else&nbsp;if&#34;</span><span class="op" id="7769959">,</span>&nbsp;<span class="string" id="7769961">&#34;{{if&nbsp;.X}}true{{else&nbsp;if&nbsp;.Y}}false{{end}}&#34;</span><span class="op" id="7770002">,</span>&nbsp;<span class="ident" id="7770004">noError</span><span class="op" id="7770011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7770015">`{{if&nbsp;.X}}&#34;true&#34;{{else}}{{if&nbsp;.Y}}&#34;false&#34;{{end}}{{end}}`</span><span class="op" id="7770070">}</span><span class="op" id="7770071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770074">{</span><span class="string" id="7770075">&#34;if&nbsp;else&nbsp;chain&#34;</span><span class="op" id="7770090">,</span>&nbsp;<span class="string" id="7770092">&#34;+{{if&nbsp;.X}}X{{else&nbsp;if&nbsp;.Y}}Y{{else&nbsp;if&nbsp;.Z}}Z{{end}}+&#34;</span><span class="op" id="7770143">,</span>&nbsp;<span class="ident" id="7770145">noError</span><span class="op" id="7770152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7770156">`&#34;+&#34;{{if&nbsp;.X}}&#34;X&#34;{{else}}{{if&nbsp;.Y}}&#34;Y&#34;{{else}}{{if&nbsp;.Z}}&#34;Z&#34;{{end}}{{end}}{{end}}&#34;+&#34;`</span><span class="op" id="7770237">}</span><span class="op" id="7770238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770241">{</span><span class="string" id="7770242">&#34;simple&nbsp;range&#34;</span><span class="op" id="7770256">,</span>&nbsp;<span class="string" id="7770258">&#34;{{range&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="7770284">,</span>&nbsp;<span class="ident" id="7770286">noError</span><span class="op" id="7770293">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7770297">`{{range&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="7770325">}</span><span class="op" id="7770326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770329">{</span><span class="string" id="7770330">&#34;chained&nbsp;field&nbsp;range&#34;</span><span class="op" id="7770351">,</span>&nbsp;<span class="string" id="7770353">&#34;{{range&nbsp;.X.Y.Z}}hello{{end}}&#34;</span><span class="op" id="7770383">,</span>&nbsp;<span class="ident" id="7770385">noError</span><span class="op" id="7770392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7770396">`{{range&nbsp;.X.Y.Z}}&#34;hello&#34;{{end}}`</span><span class="op" id="7770428">}</span><span class="op" id="7770429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770432">{</span><span class="string" id="7770433">&#34;nested&nbsp;range&#34;</span><span class="op" id="7770447">,</span>&nbsp;<span class="string" id="7770449">&#34;{{range&nbsp;.X}}hello{{range&nbsp;.Y}}goodbye{{end}}{{end}}&#34;</span><span class="op" id="7770501">,</span>&nbsp;<span class="ident" id="7770503">noError</span><span class="op" id="7770510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7770514">`{{range&nbsp;.X}}&#34;hello&#34;{{range&nbsp;.Y}}&#34;goodbye&#34;{{end}}{{end}}`</span><span class="op" id="7770570">}</span><span class="op" id="7770571">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770574">{</span><span class="string" id="7770575">&#34;range&nbsp;with&nbsp;else&#34;</span><span class="op" id="7770592">,</span>&nbsp;<span class="string" id="7770594">&#34;{{range&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="7770632">,</span>&nbsp;<span class="ident" id="7770634">noError</span><span class="op" id="7770641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7770645">`{{range&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="7770687">}</span><span class="op" id="7770688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770691">{</span><span class="string" id="7770692">&#34;range&nbsp;over&nbsp;pipeline&#34;</span><span class="op" id="7770713">,</span>&nbsp;<span class="string" id="7770715">&#34;{{range&nbsp;.X|.M}}true{{else}}false{{end}}&#34;</span><span class="op" id="7770756">,</span>&nbsp;<span class="ident" id="7770758">noError</span><span class="op" id="7770765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7770769">`{{range&nbsp;.X&nbsp;|&nbsp;.M}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="7770816">}</span><span class="op" id="7770817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770820">{</span><span class="string" id="7770821">&#34;range&nbsp;[]int&#34;</span><span class="op" id="7770834">,</span>&nbsp;<span class="string" id="7770836">&#34;{{range&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="7770863">,</span>&nbsp;<span class="ident" id="7770865">noError</span><span class="op" id="7770872">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7770876">`{{range&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="7770903">}</span><span class="op" id="7770904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770907">{</span><span class="string" id="7770908">&#34;range&nbsp;1&nbsp;var&#34;</span><span class="op" id="7770921">,</span>&nbsp;<span class="string" id="7770923">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="7770956">,</span>&nbsp;<span class="ident" id="7770958">noError</span><span class="op" id="7770965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7770969">`{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="7771002">}</span><span class="op" id="7771003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771006">{</span><span class="string" id="7771007">&#34;range&nbsp;2&nbsp;vars&#34;</span><span class="op" id="7771021">,</span>&nbsp;<span class="string" id="7771023">&#34;{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="7771060">,</span>&nbsp;<span class="ident" id="7771062">noError</span><span class="op" id="7771069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7771073">`{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="7771110">}</span><span class="op" id="7771111">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771114">{</span><span class="string" id="7771115">&#34;constants&#34;</span><span class="op" id="7771126">,</span>&nbsp;<span class="string" id="7771128">&#34;{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}&#34;</span><span class="op" id="7771177">,</span>&nbsp;<span class="ident" id="7771179">noError</span><span class="op" id="7771186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7771190">`{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}`</span><span class="op" id="7771239">}</span><span class="op" id="7771240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771243">{</span><span class="string" id="7771244">&#34;template&#34;</span><span class="op" id="7771254">,</span>&nbsp;<span class="string" id="7771256">&#34;{{template&nbsp;`x`}}&#34;</span><span class="op" id="7771274">,</span>&nbsp;<span class="ident" id="7771276">noError</span><span class="op" id="7771283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7771287">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="7771305">}</span><span class="op" id="7771306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771309">{</span><span class="string" id="7771310">&#34;template&nbsp;with&nbsp;arg&#34;</span><span class="op" id="7771329">,</span>&nbsp;<span class="string" id="7771331">&#34;{{template&nbsp;`x`&nbsp;.Y}}&#34;</span><span class="op" id="7771352">,</span>&nbsp;<span class="ident" id="7771354">noError</span><span class="op" id="7771361">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7771365">`{{template&nbsp;&#34;x&#34;&nbsp;.Y}}`</span><span class="op" id="7771386">}</span><span class="op" id="7771387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771390">{</span><span class="string" id="7771391">&#34;with&#34;</span><span class="op" id="7771397">,</span>&nbsp;<span class="string" id="7771399">&#34;{{with&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="7771424">,</span>&nbsp;<span class="ident" id="7771426">noError</span><span class="op" id="7771433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7771437">`{{with&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="7771464">}</span><span class="op" id="7771465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771468">{</span><span class="string" id="7771469">&#34;with&nbsp;with&nbsp;else&#34;</span><span class="op" id="7771485">,</span>&nbsp;<span class="string" id="7771487">&#34;{{with&nbsp;.X}}hello{{else}}goodbye{{end}}&#34;</span><span class="op" id="7771527">,</span>&nbsp;<span class="ident" id="7771529">noError</span><span class="op" id="7771536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7771540">`{{with&nbsp;.X}}&#34;hello&#34;{{else}}&#34;goodbye&#34;{{end}}`</span><span class="op" id="7771584">}</span><span class="op" id="7771585">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7771588">//&nbsp;Errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771600">{</span><span class="string" id="7771601">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="7771618">,</span>&nbsp;<span class="string" id="7771620">&#34;hello{{range&#34;</span><span class="op" id="7771634">,</span>&nbsp;<span class="ident" id="7771636">hasError</span><span class="op" id="7771644">,</span>&nbsp;<span class="string" id="7771646">&#34;&#34;</span><span class="op" id="7771648">}</span><span class="op" id="7771649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771652">{</span><span class="string" id="7771653">&#34;unmatched&nbsp;end&#34;</span><span class="op" id="7771668">,</span>&nbsp;<span class="string" id="7771670">&#34;{{end}}&#34;</span><span class="op" id="7771679">,</span>&nbsp;<span class="ident" id="7771681">hasError</span><span class="op" id="7771689">,</span>&nbsp;<span class="string" id="7771691">&#34;&#34;</span><span class="op" id="7771693">}</span><span class="op" id="7771694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771697">{</span><span class="string" id="7771698">&#34;missing&nbsp;end&#34;</span><span class="op" id="7771711">,</span>&nbsp;<span class="string" id="7771713">&#34;hello{{range&nbsp;.x}}&#34;</span><span class="op" id="7771732">,</span>&nbsp;<span class="ident" id="7771734">hasError</span><span class="op" id="7771742">,</span>&nbsp;<span class="string" id="7771744">&#34;&#34;</span><span class="op" id="7771746">}</span><span class="op" id="7771747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771750">{</span><span class="string" id="7771751">&#34;missing&nbsp;end&nbsp;after&nbsp;else&#34;</span><span class="op" id="7771775">,</span>&nbsp;<span class="string" id="7771777">&#34;hello{{range&nbsp;.x}}{{else}}&#34;</span><span class="op" id="7771804">,</span>&nbsp;<span class="ident" id="7771806">hasError</span><span class="op" id="7771814">,</span>&nbsp;<span class="string" id="7771816">&#34;&#34;</span><span class="op" id="7771818">}</span><span class="op" id="7771819">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771822">{</span><span class="string" id="7771823">&#34;undefined&nbsp;function&#34;</span><span class="op" id="7771843">,</span>&nbsp;<span class="string" id="7771845">&#34;hello{{undefined}}&#34;</span><span class="op" id="7771865">,</span>&nbsp;<span class="ident" id="7771867">hasError</span><span class="op" id="7771875">,</span>&nbsp;<span class="string" id="7771877">&#34;&#34;</span><span class="op" id="7771879">}</span><span class="op" id="7771880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771883">{</span><span class="string" id="7771884">&#34;undefined&nbsp;variable&#34;</span><span class="op" id="7771904">,</span>&nbsp;<span class="string" id="7771906">&#34;{{$x}}&#34;</span><span class="op" id="7771914">,</span>&nbsp;<span class="ident" id="7771916">hasError</span><span class="op" id="7771924">,</span>&nbsp;<span class="string" id="7771926">&#34;&#34;</span><span class="op" id="7771928">}</span><span class="op" id="7771929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771932">{</span><span class="string" id="7771933">&#34;variable&nbsp;undefined&nbsp;after&nbsp;end&#34;</span><span class="op" id="7771963">,</span>&nbsp;<span class="string" id="7771965">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;4}}{{end}}{{$x}}&#34;</span><span class="op" id="7771996">,</span>&nbsp;<span class="ident" id="7771998">hasError</span><span class="op" id="7772006">,</span>&nbsp;<span class="string" id="7772008">&#34;&#34;</span><span class="op" id="7772010">}</span><span class="op" id="7772011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772014">{</span><span class="string" id="7772015">&#34;variable&nbsp;undefined&nbsp;in&nbsp;template&#34;</span><span class="op" id="7772047">,</span>&nbsp;<span class="string" id="7772049">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="7772066">,</span>&nbsp;<span class="ident" id="7772068">hasError</span><span class="op" id="7772076">,</span>&nbsp;<span class="string" id="7772078">&#34;&#34;</span><span class="op" id="7772080">}</span><span class="op" id="7772081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772084">{</span><span class="string" id="7772085">&#34;declare&nbsp;with&nbsp;field&#34;</span><span class="op" id="7772105">,</span>&nbsp;<span class="string" id="7772107">&#34;{{with&nbsp;$x.Y&nbsp;:=&nbsp;4}}{{end}}&#34;</span><span class="op" id="7772134">,</span>&nbsp;<span class="ident" id="7772136">hasError</span><span class="op" id="7772144">,</span>&nbsp;<span class="string" id="7772146">&#34;&#34;</span><span class="op" id="7772148">}</span><span class="op" id="7772149">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772152">{</span><span class="string" id="7772153">&#34;template&nbsp;with&nbsp;field&nbsp;ref&#34;</span><span class="op" id="7772178">,</span>&nbsp;<span class="string" id="7772180">&#34;{{template&nbsp;.X}}&#34;</span><span class="op" id="7772197">,</span>&nbsp;<span class="ident" id="7772199">hasError</span><span class="op" id="7772207">,</span>&nbsp;<span class="string" id="7772209">&#34;&#34;</span><span class="op" id="7772211">}</span><span class="op" id="7772212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772215">{</span><span class="string" id="7772216">&#34;template&nbsp;with&nbsp;var&#34;</span><span class="op" id="7772235">,</span>&nbsp;<span class="string" id="7772237">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="7772254">,</span>&nbsp;<span class="ident" id="7772256">hasError</span><span class="op" id="7772264">,</span>&nbsp;<span class="string" id="7772266">&#34;&#34;</span><span class="op" id="7772268">}</span><span class="op" id="7772269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772272">{</span><span class="string" id="7772273">&#34;invalid&nbsp;punctuation&#34;</span><span class="op" id="7772294">,</span>&nbsp;<span class="string" id="7772296">&#34;{{printf&nbsp;3,&nbsp;4}}&#34;</span><span class="op" id="7772313">,</span>&nbsp;<span class="ident" id="7772315">hasError</span><span class="op" id="7772323">,</span>&nbsp;<span class="string" id="7772325">&#34;&#34;</span><span class="op" id="7772327">}</span><span class="op" id="7772328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772331">{</span><span class="string" id="7772332">&#34;multidecl&nbsp;outside&nbsp;range&#34;</span><span class="op" id="7772357">,</span>&nbsp;<span class="string" id="7772359">&#34;{{with&nbsp;$v,&nbsp;$u&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="7772388">,</span>&nbsp;<span class="ident" id="7772390">hasError</span><span class="op" id="7772398">,</span>&nbsp;<span class="string" id="7772400">&#34;&#34;</span><span class="op" id="7772402">}</span><span class="op" id="7772403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772406">{</span><span class="string" id="7772407">&#34;too&nbsp;many&nbsp;decls&nbsp;in&nbsp;range&#34;</span><span class="op" id="7772432">,</span>&nbsp;<span class="string" id="7772434">&#34;{{range&nbsp;$u,&nbsp;$v,&nbsp;$w&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="7772468">,</span>&nbsp;<span class="ident" id="7772470">hasError</span><span class="op" id="7772478">,</span>&nbsp;<span class="string" id="7772480">&#34;&#34;</span><span class="op" id="7772482">}</span><span class="op" id="7772483">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772486">{</span><span class="string" id="7772487">&#34;dot&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="7772515">,</span>&nbsp;<span class="string" id="7772517">&#34;{{printf&nbsp;(printf&nbsp;.).}}&#34;</span><span class="op" id="7772541">,</span>&nbsp;<span class="ident" id="7772543">hasError</span><span class="op" id="7772551">,</span>&nbsp;<span class="string" id="7772553">&#34;&#34;</span><span class="op" id="7772555">}</span><span class="op" id="7772556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772559">{</span><span class="string" id="7772560">&#34;adjacent&nbsp;args&#34;</span><span class="op" id="7772575">,</span>&nbsp;<span class="string" id="7772577">&#34;{{printf&nbsp;3`x`}}&#34;</span><span class="op" id="7772594">,</span>&nbsp;<span class="ident" id="7772596">hasError</span><span class="op" id="7772604">,</span>&nbsp;<span class="string" id="7772606">&#34;&#34;</span><span class="op" id="7772608">}</span><span class="op" id="7772609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772612">{</span><span class="string" id="7772613">&#34;adjacent&nbsp;args&nbsp;with&nbsp;.&#34;</span><span class="op" id="7772635">,</span>&nbsp;<span class="string" id="7772637">&#34;{{printf&nbsp;`x`.}}&#34;</span><span class="op" id="7772654">,</span>&nbsp;<span class="ident" id="7772656">hasError</span><span class="op" id="7772664">,</span>&nbsp;<span class="string" id="7772666">&#34;&#34;</span><span class="op" id="7772668">}</span><span class="op" id="7772669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772672">{</span><span class="string" id="7772673">&#34;extra&nbsp;end&nbsp;after&nbsp;if&#34;</span><span class="op" id="7772693">,</span>&nbsp;<span class="string" id="7772695">&#34;{{if&nbsp;.X}}a{{else&nbsp;if&nbsp;.Y}}b{{end}}{{end}}&#34;</span><span class="op" id="7772736">,</span>&nbsp;<span class="ident" id="7772738">hasError</span><span class="op" id="7772746">,</span>&nbsp;<span class="string" id="7772748">&#34;&#34;</span><span class="op" id="7772750">}</span><span class="op" id="7772751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7772754">//&nbsp;Equals&nbsp;(and&nbsp;other&nbsp;chars)&nbsp;do&nbsp;not&nbsp;assignments&nbsp;make&nbsp;(yet).</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772814">{</span><span class="string" id="7772815">&#34;bug0a&#34;</span><span class="op" id="7772822">,</span>&nbsp;<span class="string" id="7772824">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="7772843">,</span>&nbsp;<span class="ident" id="7772845">noError</span><span class="op" id="7772852">,</span>&nbsp;<span class="string" id="7772854">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="7772873">}</span><span class="op" id="7772874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772877">{</span><span class="string" id="7772878">&#34;bug0b&#34;</span><span class="op" id="7772885">,</span>&nbsp;<span class="string" id="7772887">&#34;{{$x&nbsp;=&nbsp;1}}{{$x}}&#34;</span><span class="op" id="7772905">,</span>&nbsp;<span class="ident" id="7772907">hasError</span><span class="op" id="7772915">,</span>&nbsp;<span class="string" id="7772917">&#34;&#34;</span><span class="op" id="7772919">}</span><span class="op" id="7772920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772923">{</span><span class="string" id="7772924">&#34;bug0c&#34;</span><span class="op" id="7772931">,</span>&nbsp;<span class="string" id="7772933">&#34;{{$x&nbsp;!&nbsp;2}}{{$x}}&#34;</span><span class="op" id="7772951">,</span>&nbsp;<span class="ident" id="7772953">hasError</span><span class="op" id="7772961">,</span>&nbsp;<span class="string" id="7772963">&#34;&#34;</span><span class="op" id="7772965">}</span><span class="op" id="7772966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772969">{</span><span class="string" id="7772970">&#34;bug0d&#34;</span><span class="op" id="7772977">,</span>&nbsp;<span class="string" id="7772979">&#34;{{$x&nbsp;%&nbsp;3}}{{$x}}&#34;</span><span class="op" id="7772997">,</span>&nbsp;<span class="ident" id="7772999">hasError</span><span class="op" id="7773007">,</span>&nbsp;<span class="string" id="7773009">&#34;&#34;</span><span class="op" id="7773011">}</span><span class="op" id="7773012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7773015">//&nbsp;Check&nbsp;the&nbsp;parse&nbsp;fails&nbsp;for&nbsp;:=&nbsp;rather&nbsp;than&nbsp;comma.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773067">{</span><span class="string" id="7773068">&#34;bug0e&#34;</span><span class="op" id="7773075">,</span>&nbsp;<span class="string" id="7773077">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;$y&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="7773109">,</span>&nbsp;<span class="ident" id="7773111">hasError</span><span class="op" id="7773119">,</span>&nbsp;<span class="string" id="7773121">&#34;&#34;</span><span class="op" id="7773123">}</span><span class="op" id="7773124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7773127">//&nbsp;Another&nbsp;bug:&nbsp;variable&nbsp;read&nbsp;must&nbsp;ignore&nbsp;following&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773193">{</span><span class="string" id="7773194">&#34;bug1a&#34;</span><span class="op" id="7773201">,</span>&nbsp;<span class="string" id="7773203">&#34;{{$x:=.}}{{$x!2}}&#34;</span><span class="op" id="7773222">,</span>&nbsp;<span class="ident" id="7773224">hasError</span><span class="op" id="7773232">,</span>&nbsp;<span class="string" id="7773234">&#34;&#34;</span><span class="op" id="7773236">}</span><span class="op" id="7773237">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7773259">//&nbsp;!&nbsp;is&nbsp;just&nbsp;illegal&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773287">{</span><span class="string" id="7773288">&#34;bug1b&#34;</span><span class="op" id="7773295">,</span>&nbsp;<span class="string" id="7773297">&#34;{{$x:=.}}{{$x+2}}&#34;</span><span class="op" id="7773316">,</span>&nbsp;<span class="ident" id="7773318">hasError</span><span class="op" id="7773326">,</span>&nbsp;<span class="string" id="7773328">&#34;&#34;</span><span class="op" id="7773330">}</span><span class="op" id="7773331">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7773353">//&nbsp;$x+2&nbsp;should&nbsp;not&nbsp;parse&nbsp;as&nbsp;($x)&nbsp;(+2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773393">{</span><span class="string" id="7773394">&#34;bug1c&#34;</span><span class="op" id="7773401">,</span>&nbsp;<span class="string" id="7773403">&#34;{{$x:=.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="7773423">,</span>&nbsp;<span class="ident" id="7773425">noError</span><span class="op" id="7773432">,</span>&nbsp;<span class="string" id="7773434">&#34;{{$x&nbsp;:=&nbsp;.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="7773456">}</span><span class="op" id="7773457">,</span>&nbsp;<span class="comment" id="7773459">//&nbsp;It&#39;s&nbsp;OK&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">260</span><span class="op" id="7773484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7773487">var</span>&nbsp;<span class="ident" id="7773491">builtins</span>&nbsp;<span class="op" id="7773500">=</span>&nbsp;<span class="keyword" id="7773502">map</span><span class="op" id="7773505">[</span><span class="builtintype" id="7773506">string</span><span class="op" id="7773512">]</span><span class="keyword" id="7773513">interface</span><span class="op" id="7773522">{</span><span class="op" id="7773523">}</span><span class="op" id="7773524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7773527">&#34;printf&#34;</span><span class="op" id="7773535">:</span>&nbsp;<span class="ident" id="7773537">fmt</span><span class="op" id="7773540">.</span><span class="ident" id="7773541">Sprintf</span><span class="op" id="7773548">,</span><br>
<span class="lineno"></span><span class="op" id="7773550">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="7773553">func</span>&nbsp;<span class="ident" id="7773558">testParse</span><span class="op" id="7773567">(</span><span class="ident" id="7773568">doCopy</span>&nbsp;<span class="builtintype" id="7773575">bool</span><span class="op" id="7773579">,</span>&nbsp;<span class="ident" id="7773581">t</span>&nbsp;<span class="op" id="7773583">*</span><span class="ident" id="7773584">testing</span><span class="op" id="7773591">.</span><span class="ident" id="7773592">T</span><span class="op" id="7773593">)</span>&nbsp;<span class="op" id="7773595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7773598">textFormat</span>&nbsp;<span class="op" id="7773609">=</span>&nbsp;<span class="string" id="7773611">&#34;%q&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773617">defer</span>&nbsp;<span class="keyword" id="7773623">func</span><span class="op" id="7773627">(</span><span class="op" id="7773628">)</span>&nbsp;<span class="op" id="7773630">{</span>&nbsp;<span class="ident" id="7773632">textFormat</span>&nbsp;<span class="op" id="7773643">=</span>&nbsp;<span class="string" id="7773645">&#34;%s&#34;</span>&nbsp;<span class="op" id="7773650">}</span><span class="op" id="7773651">(</span><span class="op" id="7773652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773655">for</span>&nbsp;<span class="ident" id="7773659">_</span><span class="op" id="7773660">,</span>&nbsp;<span class="ident" id="7773662">test</span>&nbsp;<span class="op" id="7773667">:=</span>&nbsp;<span class="keyword" id="7773670">range</span>&nbsp;<span class="ident" id="7773676">parseTests</span>&nbsp;<span class="op" id="7773687">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7773691">tmpl</span><span class="op" id="7773695">,</span>&nbsp;<span class="ident" id="7773697">err</span>&nbsp;<span class="op" id="7773701">:=</span>&nbsp;<span class="ident" id="7773704">New</span><span class="op" id="7773707">(</span><span class="ident" id="7773708">test</span><span class="op" id="7773712">.</span><span class="ident" id="7773713">name</span><span class="op" id="7773717">)</span><span class="op" id="7773718">.</span><span class="ident" id="7773719">Parse</span><span class="op" id="7773724">(</span><span class="ident" id="7773725">test</span><span class="op" id="7773729">.</span><span class="ident" id="7773730">input</span><span class="op" id="7773735">,</span>&nbsp;<span class="string" id="7773737">&#34;&#34;</span><span class="op" id="7773739">,</span>&nbsp;<span class="string" id="7773741">&#34;&#34;</span><span class="op" id="7773743">,</span>&nbsp;<span class="builtinfunc" id="7773745">make</span><span class="op" id="7773749">(</span><span class="keyword" id="7773750">map</span><span class="op" id="7773753">[</span><span class="builtintype" id="7773754">string</span><span class="op" id="7773760">]</span><span class="op" id="7773761">*</span><span class="ident" id="7773762">Tree</span><span class="op" id="7773766">)</span><span class="op" id="7773767">,</span>&nbsp;<span class="ident" id="7773769">builtins</span><span class="op" id="7773777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773781">switch</span>&nbsp;<span class="op" id="7773788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773792">case</span>&nbsp;<span class="ident" id="7773797">err</span>&nbsp;<span class="op" id="7773801">==</span>&nbsp;<span class="ident" id="7773804">nil</span>&nbsp;<span class="op" id="7773808">&amp;&amp;</span>&nbsp;<span class="op" id="7773811">!</span><span class="ident" id="7773812">test</span><span class="op" id="7773816">.</span><span class="ident" id="7773817">ok</span><span class="op" id="7773819">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7773824">t</span><span class="op" id="7773825">.</span><span class="ident" id="7773826">Errorf</span><span class="op" id="7773832">(</span><span class="string" id="7773833">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7773863">,</span>&nbsp;<span class="ident" id="7773865">test</span><span class="op" id="7773869">.</span><span class="ident" id="7773870">name</span><span class="op" id="7773874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773879">continue</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773890">case</span>&nbsp;<span class="ident" id="7773895">err</span>&nbsp;<span class="op" id="7773899">!=</span>&nbsp;<span class="ident" id="7773902">nil</span>&nbsp;<span class="op" id="7773906">&amp;&amp;</span>&nbsp;<span class="ident" id="7773909">test</span><span class="op" id="7773913">.</span><span class="ident" id="7773914">ok</span><span class="op" id="7773916">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7773921">t</span><span class="op" id="7773922">.</span><span class="ident" id="7773923">Errorf</span><span class="op" id="7773929">(</span><span class="string" id="7773930">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7773956">,</span>&nbsp;<span class="ident" id="7773958">test</span><span class="op" id="7773962">.</span><span class="ident" id="7773963">name</span><span class="op" id="7773967">,</span>&nbsp;<span class="ident" id="7773969">err</span><span class="op" id="7773972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773977">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773988">case</span>&nbsp;<span class="ident" id="7773993">err</span>&nbsp;<span class="op" id="7773997">!=</span>&nbsp;<span class="ident" id="7774000">nil</span>&nbsp;<span class="op" id="7774004">&amp;&amp;</span>&nbsp;<span class="op" id="7774007">!</span><span class="ident" id="7774008">test</span><span class="op" id="7774012">.</span><span class="ident" id="7774013">ok</span><span class="op" id="7774015">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7774020">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774050">if</span>&nbsp;<span class="op" id="7774053">*</span><span class="ident" id="7774054">debug</span>&nbsp;<span class="op" id="7774060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774066">fmt</span><span class="op" id="7774069">.</span><span class="ident" id="7774070">Printf</span><span class="op" id="7774076">(</span><span class="string" id="7774077">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="7774093">,</span>&nbsp;<span class="ident" id="7774095">test</span><span class="op" id="7774099">.</span><span class="ident" id="7774100">name</span><span class="op" id="7774104">,</span>&nbsp;<span class="ident" id="7774106">test</span><span class="op" id="7774110">.</span><span class="ident" id="7774111">input</span><span class="op" id="7774116">,</span>&nbsp;<span class="ident" id="7774118">err</span><span class="op" id="7774121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774131">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774142">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774146">var</span>&nbsp;<span class="ident" id="7774150">result</span>&nbsp;<span class="builtintype" id="7774157">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774166">if</span>&nbsp;<span class="ident" id="7774169">doCopy</span>&nbsp;<span class="op" id="7774176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774181">result</span>&nbsp;<span class="op" id="7774188">=</span>&nbsp;<span class="ident" id="7774190">tmpl</span><span class="op" id="7774194">.</span><span class="ident" id="7774195">Root</span><span class="op" id="7774199">.</span><span class="ident" id="7774200">Copy</span><span class="op" id="7774204">(</span><span class="op" id="7774205">)</span><span class="op" id="7774206">.</span><span class="ident" id="7774207">String</span><span class="op" id="7774213">(</span><span class="op" id="7774214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774218">}</span>&nbsp;<span class="keyword" id="7774220">else</span>&nbsp;<span class="op" id="7774225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774230">result</span>&nbsp;<span class="op" id="7774237">=</span>&nbsp;<span class="ident" id="7774239">tmpl</span><span class="op" id="7774243">.</span><span class="ident" id="7774244">Root</span><span class="op" id="7774248">.</span><span class="ident" id="7774249">String</span><span class="op" id="7774255">(</span><span class="op" id="7774256">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774264">if</span>&nbsp;<span class="ident" id="7774267">result</span>&nbsp;<span class="op" id="7774274">!=</span>&nbsp;<span class="ident" id="7774277">test</span><span class="op" id="7774281">.</span><span class="ident" id="7774282">result</span>&nbsp;<span class="op" id="7774289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774294">t</span><span class="op" id="7774295">.</span><span class="ident" id="7774296">Errorf</span><span class="op" id="7774302">(</span><span class="string" id="7774303">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="7774339">,</span>&nbsp;<span class="ident" id="7774341">test</span><span class="op" id="7774345">.</span><span class="ident" id="7774346">name</span><span class="op" id="7774350">,</span>&nbsp;<span class="ident" id="7774352">test</span><span class="op" id="7774356">.</span><span class="ident" id="7774357">input</span><span class="op" id="7774362">,</span>&nbsp;<span class="ident" id="7774364">result</span><span class="op" id="7774370">,</span>&nbsp;<span class="ident" id="7774372">test</span><span class="op" id="7774376">.</span><span class="ident" id="7774377">result</span><span class="op" id="7774383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774390">}</span><br>
<span class="lineno">295</span><span class="op" id="7774392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7774395">func</span>&nbsp;<span class="ident" id="7774400">TestParse</span><span class="op" id="7774409">(</span><span class="ident" id="7774410">t</span>&nbsp;<span class="op" id="7774412">*</span><span class="ident" id="7774413">testing</span><span class="op" id="7774420">.</span><span class="ident" id="7774421">T</span><span class="op" id="7774422">)</span>&nbsp;<span class="op" id="7774424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774427">testParse</span><span class="op" id="7774436">(</span><span class="builtintype" id="7774437">false</span><span class="op" id="7774442">,</span>&nbsp;<span class="ident" id="7774444">t</span><span class="op" id="7774445">)</span><br>
<span class="lineno"></span><span class="op" id="7774447">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="7774450">//&nbsp;Same&nbsp;as&nbsp;TestParse,&nbsp;but&nbsp;we&nbsp;copy&nbsp;the&nbsp;node&nbsp;first</span><br>
<span class="lineno"></span><span class="keyword" id="7774499">func</span>&nbsp;<span class="ident" id="7774504">TestParseCopy</span><span class="op" id="7774517">(</span><span class="ident" id="7774518">t</span>&nbsp;<span class="op" id="7774520">*</span><span class="ident" id="7774521">testing</span><span class="op" id="7774528">.</span><span class="ident" id="7774529">T</span><span class="op" id="7774530">)</span>&nbsp;<span class="op" id="7774532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774535">testParse</span><span class="op" id="7774544">(</span><span class="builtintype" id="7774545">true</span><span class="op" id="7774549">,</span>&nbsp;<span class="ident" id="7774551">t</span><span class="op" id="7774552">)</span><br>
<span class="lineno"></span><span class="op" id="7774554">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="7774557">type</span>&nbsp;<span class="ident" id="7774562">isEmptyTest</span>&nbsp;<span class="keyword" id="7774574">struct</span>&nbsp;<span class="op" id="7774581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774584">name</span>&nbsp;&nbsp;<span class="builtintype" id="7774590">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774598">input</span>&nbsp;<span class="builtintype" id="7774604">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774612">empty</span>&nbsp;<span class="builtintype" id="7774618">bool</span><br>
<span class="lineno">310</span><span class="op" id="7774623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7774626">var</span>&nbsp;<span class="ident" id="7774630">isEmptyTests</span>&nbsp;<span class="op" id="7774643">=</span>&nbsp;<span class="op" id="7774645">[</span><span class="op" id="7774646">]</span><span class="ident" id="7774647">isEmptyTest</span><span class="op" id="7774658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774661">{</span><span class="string" id="7774662">&#34;empty&#34;</span><span class="op" id="7774669">,</span>&nbsp;<span class="string" id="7774671">``</span><span class="op" id="7774673">,</span>&nbsp;<span class="builtintype" id="7774675">true</span><span class="op" id="7774679">}</span><span class="op" id="7774680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774683">{</span><span class="string" id="7774684">&#34;nonempty&#34;</span><span class="op" id="7774694">,</span>&nbsp;<span class="string" id="7774696">`hello`</span><span class="op" id="7774703">,</span>&nbsp;<span class="builtintype" id="7774705">false</span><span class="op" id="7774710">}</span><span class="op" id="7774711">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774714">{</span><span class="string" id="7774715">&#34;spaces&nbsp;only&#34;</span><span class="op" id="7774728">,</span>&nbsp;<span class="string" id="7774730">&#34;&nbsp;\t\n&nbsp;\t\n&#34;</span><span class="op" id="7774742">,</span>&nbsp;<span class="builtintype" id="7774744">true</span><span class="op" id="7774748">}</span><span class="op" id="7774749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774752">{</span><span class="string" id="7774753">&#34;definition&#34;</span><span class="op" id="7774765">,</span>&nbsp;<span class="string" id="7774767">`{{define&nbsp;&#34;x&#34;}}something{{end}}`</span><span class="op" id="7774799">,</span>&nbsp;<span class="builtintype" id="7774801">true</span><span class="op" id="7774805">}</span><span class="op" id="7774806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774809">{</span><span class="string" id="7774810">&#34;definitions&nbsp;and&nbsp;space&#34;</span><span class="op" id="7774833">,</span>&nbsp;<span class="string" id="7774835">&#34;{{define&nbsp;`x`}}something{{end}}\n\n{{define&nbsp;`y`}}something{{end}}\n\n&#34;</span><span class="op" id="7774905">,</span>&nbsp;<span class="builtintype" id="7774907">true</span><span class="op" id="7774911">}</span><span class="op" id="7774912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774915">{</span><span class="string" id="7774916">&#34;definitions&nbsp;and&nbsp;text&#34;</span><span class="op" id="7774938">,</span>&nbsp;<span class="string" id="7774940">&#34;{{define&nbsp;`x`}}something{{end}}\nx\n{{define&nbsp;`y`}}something{{end}}\ny\n&#34;</span><span class="op" id="7775012">,</span>&nbsp;<span class="builtintype" id="7775014">false</span><span class="op" id="7775019">}</span><span class="op" id="7775020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7775023">{</span><span class="string" id="7775024">&#34;definition&nbsp;and&nbsp;action&#34;</span><span class="op" id="7775047">,</span>&nbsp;<span class="string" id="7775049">&#34;{{define&nbsp;`x`}}something{{end}}{{if&nbsp;3}}foo{{end}}&#34;</span><span class="op" id="7775099">,</span>&nbsp;<span class="builtintype" id="7775101">false</span><span class="op" id="7775106">}</span><span class="op" id="7775107">,</span><br>
<span class="lineno">320</span><span class="op" id="7775109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7775112">func</span>&nbsp;<span class="ident" id="7775117">TestIsEmpty</span><span class="op" id="7775128">(</span><span class="ident" id="7775129">t</span>&nbsp;<span class="op" id="7775131">*</span><span class="ident" id="7775132">testing</span><span class="op" id="7775139">.</span><span class="ident" id="7775140">T</span><span class="op" id="7775141">)</span>&nbsp;<span class="op" id="7775143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775146">if</span>&nbsp;<span class="op" id="7775149">!</span><span class="ident" id="7775150">IsEmptyTree</span><span class="op" id="7775161">(</span><span class="ident" id="7775162">nil</span><span class="op" id="7775165">)</span>&nbsp;<span class="op" id="7775167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775171">t</span><span class="op" id="7775172">.</span><span class="ident" id="7775173">Errorf</span><span class="op" id="7775179">(</span><span class="string" id="7775180">&#34;nil&nbsp;tree&nbsp;is&nbsp;not&nbsp;empty&#34;</span><span class="op" id="7775203">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7775206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775209">for</span>&nbsp;<span class="ident" id="7775213">_</span><span class="op" id="7775214">,</span>&nbsp;<span class="ident" id="7775216">test</span>&nbsp;<span class="op" id="7775221">:=</span>&nbsp;<span class="keyword" id="7775224">range</span>&nbsp;<span class="ident" id="7775230">isEmptyTests</span>&nbsp;<span class="op" id="7775243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775247">tree</span><span class="op" id="7775251">,</span>&nbsp;<span class="ident" id="7775253">err</span>&nbsp;<span class="op" id="7775257">:=</span>&nbsp;<span class="ident" id="7775260">New</span><span class="op" id="7775263">(</span><span class="string" id="7775264">&#34;root&#34;</span><span class="op" id="7775270">)</span><span class="op" id="7775271">.</span><span class="ident" id="7775272">Parse</span><span class="op" id="7775277">(</span><span class="ident" id="7775278">test</span><span class="op" id="7775282">.</span><span class="ident" id="7775283">input</span><span class="op" id="7775288">,</span>&nbsp;<span class="string" id="7775290">&#34;&#34;</span><span class="op" id="7775292">,</span>&nbsp;<span class="string" id="7775294">&#34;&#34;</span><span class="op" id="7775296">,</span>&nbsp;<span class="builtinfunc" id="7775298">make</span><span class="op" id="7775302">(</span><span class="keyword" id="7775303">map</span><span class="op" id="7775306">[</span><span class="builtintype" id="7775307">string</span><span class="op" id="7775313">]</span><span class="op" id="7775314">*</span><span class="ident" id="7775315">Tree</span><span class="op" id="7775319">)</span><span class="op" id="7775320">,</span>&nbsp;<span class="ident" id="7775322">nil</span><span class="op" id="7775325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775329">if</span>&nbsp;<span class="ident" id="7775332">err</span>&nbsp;<span class="op" id="7775336">!=</span>&nbsp;<span class="ident" id="7775339">nil</span>&nbsp;<span class="op" id="7775343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775348">t</span><span class="op" id="7775349">.</span><span class="ident" id="7775350">Errorf</span><span class="op" id="7775356">(</span><span class="string" id="7775357">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7775383">,</span>&nbsp;<span class="ident" id="7775385">test</span><span class="op" id="7775389">.</span><span class="ident" id="7775390">name</span><span class="op" id="7775394">,</span>&nbsp;<span class="ident" id="7775396">err</span><span class="op" id="7775399">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775404">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7775415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775419">if</span>&nbsp;<span class="ident" id="7775422">empty</span>&nbsp;<span class="op" id="7775428">:=</span>&nbsp;<span class="ident" id="7775431">IsEmptyTree</span><span class="op" id="7775442">(</span><span class="ident" id="7775443">tree</span><span class="op" id="7775447">.</span><span class="ident" id="7775448">Root</span><span class="op" id="7775452">)</span><span class="op" id="7775453">;</span>&nbsp;<span class="ident" id="7775455">empty</span>&nbsp;<span class="op" id="7775461">!=</span>&nbsp;<span class="ident" id="7775464">test</span><span class="op" id="7775468">.</span><span class="ident" id="7775469">empty</span>&nbsp;<span class="op" id="7775475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775480">t</span><span class="op" id="7775481">.</span><span class="ident" id="7775482">Errorf</span><span class="op" id="7775488">(</span><span class="string" id="7775489">&#34;%q:&nbsp;expected&nbsp;%t&nbsp;got&nbsp;%t&#34;</span><span class="op" id="7775513">,</span>&nbsp;<span class="ident" id="7775515">test</span><span class="op" id="7775519">.</span><span class="ident" id="7775520">name</span><span class="op" id="7775524">,</span>&nbsp;<span class="ident" id="7775526">test</span><span class="op" id="7775530">.</span><span class="ident" id="7775531">empty</span><span class="op" id="7775536">,</span>&nbsp;<span class="ident" id="7775538">empty</span><span class="op" id="7775543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7775547">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7775550">}</span><br>
<span class="lineno"></span><span class="op" id="7775552">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7775555">func</span>&nbsp;<span class="ident" id="7775560">TestErrorContextWithTreeCopy</span><span class="op" id="7775588">(</span><span class="ident" id="7775589">t</span>&nbsp;<span class="op" id="7775591">*</span><span class="ident" id="7775592">testing</span><span class="op" id="7775599">.</span><span class="ident" id="7775600">T</span><span class="op" id="7775601">)</span>&nbsp;<span class="op" id="7775603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775606">tree</span><span class="op" id="7775610">,</span>&nbsp;<span class="ident" id="7775612">err</span>&nbsp;<span class="op" id="7775616">:=</span>&nbsp;<span class="ident" id="7775619">New</span><span class="op" id="7775622">(</span><span class="string" id="7775623">&#34;root&#34;</span><span class="op" id="7775629">)</span><span class="op" id="7775630">.</span><span class="ident" id="7775631">Parse</span><span class="op" id="7775636">(</span><span class="string" id="7775637">&#34;{{if&nbsp;true}}{{end}}&#34;</span><span class="op" id="7775657">,</span>&nbsp;<span class="string" id="7775659">&#34;&#34;</span><span class="op" id="7775661">,</span>&nbsp;<span class="string" id="7775663">&#34;&#34;</span><span class="op" id="7775665">,</span>&nbsp;<span class="builtinfunc" id="7775667">make</span><span class="op" id="7775671">(</span><span class="keyword" id="7775672">map</span><span class="op" id="7775675">[</span><span class="builtintype" id="7775676">string</span><span class="op" id="7775682">]</span><span class="op" id="7775683">*</span><span class="ident" id="7775684">Tree</span><span class="op" id="7775688">)</span><span class="op" id="7775689">,</span>&nbsp;<span class="ident" id="7775691">nil</span><span class="op" id="7775694">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775697">if</span>&nbsp;<span class="ident" id="7775700">err</span>&nbsp;<span class="op" id="7775704">!=</span>&nbsp;<span class="ident" id="7775707">nil</span>&nbsp;<span class="op" id="7775711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775715">t</span><span class="op" id="7775716">.</span><span class="ident" id="7775717">Fatalf</span><span class="op" id="7775723">(</span><span class="string" id="7775724">&#34;unexpected&nbsp;tree&nbsp;parse&nbsp;failure:&nbsp;%v&#34;</span><span class="op" id="7775759">,</span>&nbsp;<span class="ident" id="7775761">err</span><span class="op" id="7775764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7775767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775770">treeCopy</span>&nbsp;<span class="op" id="7775779">:=</span>&nbsp;<span class="ident" id="7775782">tree</span><span class="op" id="7775786">.</span><span class="ident" id="7775787">Copy</span><span class="op" id="7775791">(</span><span class="op" id="7775792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775795">wantLocation</span><span class="op" id="7775807">,</span>&nbsp;<span class="ident" id="7775809">wantContext</span>&nbsp;<span class="op" id="7775821">:=</span>&nbsp;<span class="ident" id="7775824">tree</span><span class="op" id="7775828">.</span><span class="ident" id="7775829">ErrorContext</span><span class="op" id="7775841">(</span><span class="ident" id="7775842">tree</span><span class="op" id="7775846">.</span><span class="ident" id="7775847">Root</span><span class="op" id="7775851">.</span><span class="ident" id="7775852">Nodes</span><span class="op" id="7775857">[</span><span class="num" id="7775858">0</span><span class="op" id="7775859">]</span><span class="op" id="7775860">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775863">gotLocation</span><span class="op" id="7775874">,</span>&nbsp;<span class="ident" id="7775876">gotContext</span>&nbsp;<span class="op" id="7775887">:=</span>&nbsp;<span class="ident" id="7775890">treeCopy</span><span class="op" id="7775898">.</span><span class="ident" id="7775899">ErrorContext</span><span class="op" id="7775911">(</span><span class="ident" id="7775912">treeCopy</span><span class="op" id="7775920">.</span><span class="ident" id="7775921">Root</span><span class="op" id="7775925">.</span><span class="ident" id="7775926">Nodes</span><span class="op" id="7775931">[</span><span class="num" id="7775932">0</span><span class="op" id="7775933">]</span><span class="op" id="7775934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775937">if</span>&nbsp;<span class="ident" id="7775940">wantLocation</span>&nbsp;<span class="op" id="7775953">!=</span>&nbsp;<span class="ident" id="7775956">gotLocation</span>&nbsp;<span class="op" id="7775968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775972">t</span><span class="op" id="7775973">.</span><span class="ident" id="7775974">Errorf</span><span class="op" id="7775980">(</span><span class="string" id="7775981">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7776018">,</span>&nbsp;<span class="ident" id="7776020">wantLocation</span><span class="op" id="7776032">,</span>&nbsp;<span class="ident" id="7776034">gotLocation</span><span class="op" id="7776045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7776051">if</span>&nbsp;<span class="ident" id="7776054">wantContext</span>&nbsp;<span class="op" id="7776066">!=</span>&nbsp;<span class="ident" id="7776069">gotContext</span>&nbsp;<span class="op" id="7776080">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776084">t</span><span class="op" id="7776085">.</span><span class="ident" id="7776086">Errorf</span><span class="op" id="7776092">(</span><span class="string" id="7776093">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7776130">,</span>&nbsp;<span class="ident" id="7776132">wantContext</span><span class="op" id="7776143">,</span>&nbsp;<span class="ident" id="7776145">gotContext</span><span class="op" id="7776155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776158">}</span><br>
<span class="lineno"></span><span class="op" id="7776160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7776163">//&nbsp;All&nbsp;failures,&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;must&nbsp;appear&nbsp;in&nbsp;the&nbsp;error&nbsp;message.</span><br>
<span class="lineno">355</span><span class="keyword" id="7776246">var</span>&nbsp;<span class="ident" id="7776250">errorTests</span>&nbsp;<span class="op" id="7776261">=</span>&nbsp;<span class="op" id="7776263">[</span><span class="op" id="7776264">]</span><span class="ident" id="7776265">parseTest</span><span class="op" id="7776274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7776277">//&nbsp;Check&nbsp;line&nbsp;numbers&nbsp;are&nbsp;accurate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776314">{</span><span class="string" id="7776315">&#34;unclosed1&#34;</span><span class="op" id="7776326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7776330">&#34;line1\n{{&#34;</span><span class="op" id="7776341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776345">hasError</span><span class="op" id="7776353">,</span>&nbsp;<span class="string" id="7776355">`unclosed1:2:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="7776407">}</span><span class="op" id="7776408">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776411">{</span><span class="string" id="7776412">&#34;unclosed2&#34;</span><span class="op" id="7776423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7776427">&#34;line1\n{{define&nbsp;`x`}}line2\n{{&#34;</span><span class="op" id="7776459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776463">hasError</span><span class="op" id="7776471">,</span>&nbsp;<span class="string" id="7776473">`unclosed2:3:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="7776525">}</span><span class="op" id="7776526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7776529">//&nbsp;Specific&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776550">{</span><span class="string" id="7776551">&#34;function&#34;</span><span class="op" id="7776561">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7776565">&#34;{{foo}}&#34;</span><span class="op" id="7776574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776578">hasError</span><span class="op" id="7776586">,</span>&nbsp;<span class="string" id="7776588">`function&nbsp;&#34;foo&#34;&nbsp;not&nbsp;defined`</span><span class="op" id="7776616">}</span><span class="op" id="7776617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776620">{</span><span class="string" id="7776621">&#34;comment&#34;</span><span class="op" id="7776630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7776634">&#34;{{/*}}&#34;</span><span class="op" id="7776642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776646">hasError</span><span class="op" id="7776654">,</span>&nbsp;<span class="string" id="7776656">`unclosed&nbsp;comment`</span><span class="op" id="7776674">}</span><span class="op" id="7776675">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776678">{</span><span class="string" id="7776679">&#34;lparen&#34;</span><span class="op" id="7776687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7776691">&#34;{{.X&nbsp;(1&nbsp;2&nbsp;3}}&#34;</span><span class="op" id="7776706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776710">hasError</span><span class="op" id="7776718">,</span>&nbsp;<span class="string" id="7776720">`unclosed&nbsp;left&nbsp;paren`</span><span class="op" id="7776741">}</span><span class="op" id="7776742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776745">{</span><span class="string" id="7776746">&#34;rparen&#34;</span><span class="op" id="7776754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7776758">&#34;{{.X&nbsp;1&nbsp;2&nbsp;3)}}&#34;</span><span class="op" id="7776773">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776777">hasError</span><span class="op" id="7776785">,</span>&nbsp;<span class="string" id="7776787">`unexpected&nbsp;&#34;)&#34;`</span><span class="op" id="7776803">}</span><span class="op" id="7776804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776807">{</span><span class="string" id="7776808">&#34;space&#34;</span><span class="op" id="7776815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7776819">&#34;{{`x`3}}&#34;</span><span class="op" id="7776829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776833">hasError</span><span class="op" id="7776841">,</span>&nbsp;<span class="string" id="7776843">`missing&nbsp;space?`</span><span class="op" id="7776859">}</span><span class="op" id="7776860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776863">{</span><span class="string" id="7776864">&#34;idchar&#34;</span><span class="op" id="7776872">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7776876">&#34;{{a#}}&#34;</span><span class="op" id="7776884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776888">hasError</span><span class="op" id="7776896">,</span>&nbsp;<span class="string" id="7776898">`&#39;#&#39;`</span><span class="op" id="7776903">}</span><span class="op" id="7776904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776907">{</span><span class="string" id="7776908">&#34;charconst&#34;</span><span class="op" id="7776919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7776923">&#34;{{&#39;a}}&#34;</span><span class="op" id="7776931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776935">hasError</span><span class="op" id="7776943">,</span>&nbsp;<span class="string" id="7776945">`unterminated&nbsp;character&nbsp;constant`</span><span class="op" id="7776978">}</span><span class="op" id="7776979">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776982">{</span><span class="string" id="7776983">&#34;stringconst&#34;</span><span class="op" id="7776996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777000">`{{&#34;a}}`</span><span class="op" id="7777008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777012">hasError</span><span class="op" id="7777020">,</span>&nbsp;<span class="string" id="7777022">`unterminated&nbsp;quoted&nbsp;string`</span><span class="op" id="7777050">}</span><span class="op" id="7777051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7777054">{</span><span class="string" id="7777055">&#34;rawstringconst&#34;</span><span class="op" id="7777071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777075">&#34;{{`a}}&#34;</span><span class="op" id="7777083">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777087">hasError</span><span class="op" id="7777095">,</span>&nbsp;<span class="string" id="7777097">`unterminated&nbsp;raw&nbsp;quoted&nbsp;string`</span><span class="op" id="7777129">}</span><span class="op" id="7777130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7777133">{</span><span class="string" id="7777134">&#34;number&#34;</span><span class="op" id="7777142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777146">&#34;{{0xi}}&#34;</span><span class="op" id="7777155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777159">hasError</span><span class="op" id="7777167">,</span>&nbsp;<span class="string" id="7777169">`number&nbsp;syntax`</span><span class="op" id="7777184">}</span><span class="op" id="7777185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7777188">{</span><span class="string" id="7777189">&#34;multidefine&#34;</span><span class="op" id="7777202">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777206">&#34;{{define&nbsp;`a`}}a{{end}}{{define&nbsp;`a`}}b{{end}}&#34;</span><span class="op" id="7777252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777256">hasError</span><span class="op" id="7777264">,</span>&nbsp;<span class="string" id="7777266">`multiple&nbsp;definition&nbsp;of&nbsp;template`</span><span class="op" id="7777299">}</span><span class="op" id="7777300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7777303">{</span><span class="string" id="7777304">&#34;eof&#34;</span><span class="op" id="7777309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777313">&#34;{{range&nbsp;.X}}&#34;</span><span class="op" id="7777327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777331">hasError</span><span class="op" id="7777339">,</span>&nbsp;<span class="string" id="7777341">`unexpected&nbsp;EOF`</span><span class="op" id="7777357">}</span><span class="op" id="7777358">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7777361">{</span><span class="string" id="7777362">&#34;variable&#34;</span><span class="op" id="7777372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7777376">//&nbsp;Declare&nbsp;$x&nbsp;so&nbsp;it&#39;s&nbsp;defined,&nbsp;to&nbsp;avoid&nbsp;that&nbsp;error,&nbsp;and&nbsp;then&nbsp;check&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777475">&#34;{{$x&nbsp;:=&nbsp;23}}{{with&nbsp;$x.y&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="7777523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777527">hasError</span><span class="op" id="7777535">,</span>&nbsp;<span class="string" id="7777537">`unexpected&nbsp;&#34;:=&#34;`</span><span class="op" id="7777554">}</span><span class="op" id="7777555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7777558">{</span><span class="string" id="7777559">&#34;multidecl&#34;</span><span class="op" id="7777570">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777574">&#34;{{$a,$b,$c&nbsp;:=&nbsp;23}}&#34;</span><span class="op" id="7777594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777598">hasError</span><span class="op" id="7777606">,</span>&nbsp;<span class="string" id="7777608">`too&nbsp;many&nbsp;declarations`</span><span class="op" id="7777631">}</span><span class="op" id="7777632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7777635">{</span><span class="string" id="7777636">&#34;undefvar&#34;</span><span class="op" id="7777646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777650">&#34;{{$a}}&#34;</span><span class="op" id="7777658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777662">hasError</span><span class="op" id="7777670">,</span>&nbsp;<span class="string" id="7777672">`undefined&nbsp;variable`</span><span class="op" id="7777692">}</span><span class="op" id="7777693">,</span><br>
<span class="lineno">410</span><span class="op" id="7777695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7777698">func</span>&nbsp;<span class="ident" id="7777703">TestErrors</span><span class="op" id="7777713">(</span><span class="ident" id="7777714">t</span>&nbsp;<span class="op" id="7777716">*</span><span class="ident" id="7777717">testing</span><span class="op" id="7777724">.</span><span class="ident" id="7777725">T</span><span class="op" id="7777726">)</span>&nbsp;<span class="op" id="7777728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7777731">for</span>&nbsp;<span class="ident" id="7777735">_</span><span class="op" id="7777736">,</span>&nbsp;<span class="ident" id="7777738">test</span>&nbsp;<span class="op" id="7777743">:=</span>&nbsp;<span class="keyword" id="7777746">range</span>&nbsp;<span class="ident" id="7777752">errorTests</span>&nbsp;<span class="op" id="7777763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777767">_</span><span class="op" id="7777768">,</span>&nbsp;<span class="ident" id="7777770">err</span>&nbsp;<span class="op" id="7777774">:=</span>&nbsp;<span class="ident" id="7777777">New</span><span class="op" id="7777780">(</span><span class="ident" id="7777781">test</span><span class="op" id="7777785">.</span><span class="ident" id="7777786">name</span><span class="op" id="7777790">)</span><span class="op" id="7777791">.</span><span class="ident" id="7777792">Parse</span><span class="op" id="7777797">(</span><span class="ident" id="7777798">test</span><span class="op" id="7777802">.</span><span class="ident" id="7777803">input</span><span class="op" id="7777808">,</span>&nbsp;<span class="string" id="7777810">&#34;&#34;</span><span class="op" id="7777812">,</span>&nbsp;<span class="string" id="7777814">&#34;&#34;</span><span class="op" id="7777816">,</span>&nbsp;<span class="builtinfunc" id="7777818">make</span><span class="op" id="7777822">(</span><span class="keyword" id="7777823">map</span><span class="op" id="7777826">[</span><span class="builtintype" id="7777827">string</span><span class="op" id="7777833">]</span><span class="op" id="7777834">*</span><span class="ident" id="7777835">Tree</span><span class="op" id="7777839">)</span><span class="op" id="7777840">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7777844">if</span>&nbsp;<span class="ident" id="7777847">err</span>&nbsp;<span class="op" id="7777851">==</span>&nbsp;<span class="ident" id="7777854">nil</span>&nbsp;<span class="op" id="7777858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777863">t</span><span class="op" id="7777864">.</span><span class="ident" id="7777865">Errorf</span><span class="op" id="7777871">(</span><span class="string" id="7777872">&#34;%q:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="7777892">,</span>&nbsp;<span class="ident" id="7777894">test</span><span class="op" id="7777898">.</span><span class="ident" id="7777899">name</span><span class="op" id="7777903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7777908">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7777919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7777923">if</span>&nbsp;<span class="op" id="7777926">!</span><span class="ident" id="7777927">strings</span><span class="op" id="7777934">.</span><span class="ident" id="7777935">Contains</span><span class="op" id="7777943">(</span><span class="ident" id="7777944">err</span><span class="op" id="7777947">.</span><span class="ident" id="7777948">Error</span><span class="op" id="7777953">(</span><span class="op" id="7777954">)</span><span class="op" id="7777955">,</span>&nbsp;<span class="ident" id="7777957">test</span><span class="op" id="7777961">.</span><span class="ident" id="7777962">result</span><span class="op" id="7777968">)</span>&nbsp;<span class="op" id="7777970">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777975">t</span><span class="op" id="7777976">.</span><span class="ident" id="7777977">Errorf</span><span class="op" id="7777983">(</span><span class="string" id="7777984">&#34;%q:&nbsp;error&nbsp;%q&nbsp;does&nbsp;not&nbsp;contain&nbsp;%q&#34;</span><span class="op" id="7778018">,</span>&nbsp;<span class="ident" id="7778020">test</span><span class="op" id="7778024">.</span><span class="ident" id="7778025">name</span><span class="op" id="7778029">,</span>&nbsp;<span class="ident" id="7778031">err</span><span class="op" id="7778034">,</span>&nbsp;<span class="ident" id="7778036">test</span><span class="op" id="7778040">.</span><span class="ident" id="7778041">result</span><span class="op" id="7778047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7778051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7778054">}</span><br>
<span class="lineno"></span><span class="op" id="7778056">}</span>
</div>
</body>
</html>
