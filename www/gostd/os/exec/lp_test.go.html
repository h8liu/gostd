<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os/exec</h2>
<ul>
<li><a href="/gostd/os/exec/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/os/exec/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/os/exec/lp_test.go.html">lp_test.go</a></li>
<li><a href="/gostd/os/exec/lp_unix.go.html">lp_unix.go</a></li>
<li><a href="/gostd/os/exec/lp_unix_test.go.html">lp_unix_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7414330">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7414385">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7414439">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7414490">package</span>&nbsp;<span class="ident" id="7414498">exec</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7414504">import</span>&nbsp;<span class="op" id="7414511">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7414514">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7414524">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7414527">var</span>&nbsp;<span class="ident" id="7414531">nonExistentPaths</span>&nbsp;<span class="op" id="7414548">=</span>&nbsp;<span class="op" id="7414550">[</span><span class="op" id="7414551">]</span><span class="builtintype" id="7414552">string</span><span class="op" id="7414558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7414561">&#34;some-non-existent-path&#34;</span><span class="op" id="7414585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7414588">&#34;non-existent-path/slashed&#34;</span><span class="op" id="7414615">,</span><br>
<span class="lineno"></span><span class="op" id="7414617">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7414620">func</span>&nbsp;<span class="ident" id="7414625">TestLookPathNotFound</span><span class="op" id="7414645">(</span><span class="ident" id="7414646">t</span>&nbsp;<span class="op" id="7414648">*</span><span class="ident" id="7414649">testing</span><span class="op" id="7414656">.</span><span class="ident" id="7414657">T</span><span class="op" id="7414658">)</span>&nbsp;<span class="op" id="7414660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7414663">for</span>&nbsp;<span class="ident" id="7414667">_</span><span class="op" id="7414668">,</span>&nbsp;<span class="ident" id="7414670">name</span>&nbsp;<span class="op" id="7414675">:=</span>&nbsp;<span class="keyword" id="7414678">range</span>&nbsp;<span class="ident" id="7414684">nonExistentPaths</span>&nbsp;<span class="op" id="7414701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414705">path</span><span class="op" id="7414709">,</span>&nbsp;<span class="ident" id="7414711">err</span>&nbsp;<span class="op" id="7414715">:=</span>&nbsp;<span class="ident" id="7414718">LookPath</span><span class="op" id="7414726">(</span><span class="ident" id="7414727">name</span><span class="op" id="7414731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7414735">if</span>&nbsp;<span class="ident" id="7414738">err</span>&nbsp;<span class="op" id="7414742">==</span>&nbsp;<span class="ident" id="7414745">nil</span>&nbsp;<span class="op" id="7414749">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414754">t</span><span class="op" id="7414755">.</span><span class="ident" id="7414756">Fatalf</span><span class="op" id="7414762">(</span><span class="string" id="7414763">&#34;LookPath&nbsp;found&nbsp;%q&nbsp;in&nbsp;$PATH&#34;</span><span class="op" id="7414791">,</span>&nbsp;<span class="ident" id="7414793">name</span><span class="op" id="7414797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7414805">if</span>&nbsp;<span class="ident" id="7414808">path</span>&nbsp;<span class="op" id="7414813">!=</span>&nbsp;<span class="string" id="7414816">&#34;&#34;</span>&nbsp;<span class="op" id="7414819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414824">t</span><span class="op" id="7414825">.</span><span class="ident" id="7414826">Fatalf</span><span class="op" id="7414832">(</span><span class="string" id="7414833">&#34;LookPath&nbsp;path&nbsp;==&nbsp;%q&nbsp;when&nbsp;err&nbsp;!=&nbsp;nil&#34;</span><span class="op" id="7414870">,</span>&nbsp;<span class="ident" id="7414872">path</span><span class="op" id="7414876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414880">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414884">perr</span><span class="op" id="7414888">,</span>&nbsp;<span class="ident" id="7414890">ok</span>&nbsp;<span class="op" id="7414893">:=</span>&nbsp;<span class="ident" id="7414896">err</span><span class="op" id="7414899">.</span><span class="op" id="7414900">(</span><span class="op" id="7414901">*</span><span class="ident" id="7414902">Error</span><span class="op" id="7414907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7414911">if</span>&nbsp;<span class="op" id="7414914">!</span><span class="ident" id="7414915">ok</span>&nbsp;<span class="op" id="7414918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414923">t</span><span class="op" id="7414924">.</span><span class="ident" id="7414925">Fatal</span><span class="op" id="7414930">(</span><span class="string" id="7414931">&#34;LookPath&nbsp;error&nbsp;is&nbsp;not&nbsp;an&nbsp;exec.Error&#34;</span><span class="op" id="7414968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7414976">if</span>&nbsp;<span class="ident" id="7414979">perr</span><span class="op" id="7414983">.</span><span class="ident" id="7414984">Name</span>&nbsp;<span class="op" id="7414989">!=</span>&nbsp;<span class="ident" id="7414992">name</span>&nbsp;<span class="op" id="7414997">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7415002">t</span><span class="op" id="7415003">.</span><span class="ident" id="7415004">Fatalf</span><span class="op" id="7415010">(</span><span class="string" id="7415011">&#34;want&nbsp;Error&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7415039">,</span>&nbsp;<span class="ident" id="7415041">name</span><span class="op" id="7415045">,</span>&nbsp;<span class="ident" id="7415047">perr</span><span class="op" id="7415051">.</span><span class="ident" id="7415052">Name</span><span class="op" id="7415056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7415063">}</span><br>
<span class="lineno"></span><span class="op" id="7415065">}</span>
</div>
</body>
</html>
