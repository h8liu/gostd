<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html" class="current">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1756711">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1756766">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1756820">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1756871">//&nbsp;Time-related&nbsp;runtime&nbsp;and&nbsp;pieces&nbsp;of&nbsp;package&nbsp;time.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1756924">package</span>&nbsp;<span class="ident" id="1756932">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1756941">import</span>&nbsp;<span class="string" id="1756948">&#34;unsafe&#34;</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="1756958">//&nbsp;Package&nbsp;time&nbsp;knows&nbsp;the&nbsp;layout&nbsp;of&nbsp;this&nbsp;structure.</span><br>
<span class="lineno"></span><span class="comment" id="1757010">//&nbsp;If&nbsp;this&nbsp;struct&nbsp;changes,&nbsp;adjust&nbsp;../time/sleep.go:/runtimeTimer.</span><br>
<span class="lineno"></span><span class="comment" id="1757076">//&nbsp;For&nbsp;GOOS=nacl,&nbsp;package&nbsp;syscall&nbsp;knows&nbsp;the&nbsp;layout&nbsp;of&nbsp;this&nbsp;structure.</span><br>
<span class="lineno"></span><span class="comment" id="1757146">//&nbsp;If&nbsp;this&nbsp;struct&nbsp;changes,&nbsp;adjust&nbsp;../syscall/net_nacl.go:/runtimeTimer.</span><br>
<span class="lineno">15</span><span class="keyword" id="1757218">type</span>&nbsp;<span class="ident" id="1757223">timer</span>&nbsp;<span class="keyword" id="1757229">struct</span>&nbsp;<span class="op" id="1757236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1757239">i</span>&nbsp;<span class="builtintype" id="1757241">int</span>&nbsp;<span class="comment" id="1757245">//&nbsp;heap&nbsp;index</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1757261">//&nbsp;Timer&nbsp;wakes&nbsp;up&nbsp;at&nbsp;when,&nbsp;and&nbsp;then&nbsp;at&nbsp;when+period,&nbsp;...&nbsp;(period&nbsp;&gt;&nbsp;0&nbsp;only)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1757336">//&nbsp;each&nbsp;time&nbsp;calling&nbsp;f(now,&nbsp;arg)&nbsp;in&nbsp;the&nbsp;timer&nbsp;goroutine,&nbsp;so&nbsp;f&nbsp;must&nbsp;be</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1757407">//&nbsp;a&nbsp;well-behaved&nbsp;function&nbsp;and&nbsp;not&nbsp;block.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1757450">when</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1757457">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1757464">period</span>&nbsp;<span class="builtintype" id="1757471">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1757478">f</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1757485">func</span><span class="op" id="1757489">(</span><span class="keyword" id="1757490">interface</span><span class="op" id="1757499">{</span><span class="op" id="1757500">}</span><span class="op" id="1757501">,</span>&nbsp;<span class="builtintype" id="1757503">uintptr</span><span class="op" id="1757510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1757513">arg</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1757520">interface</span><span class="op" id="1757529">{</span><span class="op" id="1757530">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1757533">seq</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1757540">uintptr</span><br>
<span class="lineno"></span><span class="op" id="1757548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1757551">var</span>&nbsp;<span class="ident" id="1757555">timers</span>&nbsp;<span class="keyword" id="1757562">struct</span>&nbsp;<span class="op" id="1757569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1757572">lock</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1757585"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1786208">mutex</a></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1757592">gp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1757605">*</span><span class="ident" id="1757606"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1787271">g</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1757609">created</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1757622">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1757628">sleeping</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1757641">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1757647">rescheduling</span>&nbsp;<span class="builtintype" id="1757660">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1757666">waitnote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1757679"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1786244">note</a></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1757685">t</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1757698">[</span><span class="op" id="1757699">]</span><span class="op" id="1757700">*</span><span class="ident" id="1757701"><a href="/gostd/runtime/time.go.html#1757223">timer</a></span><br>
<span class="lineno"></span><span class="op" id="1757707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1757710">//&nbsp;nacl&nbsp;fake&nbsp;time&nbsp;support&nbsp;-&nbsp;time&nbsp;in&nbsp;nanoseconds&nbsp;since&nbsp;1970</span><br>
<span class="lineno"></span><span class="keyword" id="1757769">var</span>&nbsp;<span class="ident" id="1757773">faketime</span>&nbsp;<span class="builtintype" id="1757782">int64</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="1757789">//&nbsp;Package&nbsp;time&nbsp;APIs.</span><br>
<span class="lineno"></span><span class="comment" id="1757811">//&nbsp;Godoc&nbsp;uses&nbsp;the&nbsp;comments&nbsp;in&nbsp;package&nbsp;time,&nbsp;not&nbsp;these.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1757867">//&nbsp;time.now&nbsp;is&nbsp;implemented&nbsp;in&nbsp;assembly.</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1757908">//&nbsp;Sleep&nbsp;puts&nbsp;the&nbsp;current&nbsp;goroutine&nbsp;to&nbsp;sleep&nbsp;for&nbsp;at&nbsp;least&nbsp;ns&nbsp;nanoseconds.</span><br>
<span class="lineno"></span><span class="keyword" id="1757982">func</span>&nbsp;<span class="ident" id="1757987">timeSleep</span><span class="op" id="1757996">(</span><span class="ident" id="1757997">ns</span>&nbsp;<span class="builtintype" id="1758000">int64</span><span class="op" id="1758005">)</span>&nbsp;<span class="op" id="1758007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1758010">if</span>&nbsp;<span class="ident" id="1758013"><a href="/gostd/runtime/time.go.html#1757997">ns</a></span>&nbsp;<span class="op" id="1758016">&lt;=</span>&nbsp;<span class="num" id="1758019">0</span>&nbsp;<span class="op" id="1758021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1758025">return</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1758033">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1758037">t</span>&nbsp;<span class="op" id="1758039">:=</span>&nbsp;<span class="builtinfunc" id="1758042">new</span><span class="op" id="1758045">(</span><span class="ident" id="1758046"><a href="/gostd/runtime/time.go.html#1757223">timer</a></span><span class="op" id="1758051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1758054"><a href="/gostd/runtime/time.go.html#1758037">t</a></span><span class="op" id="1758055">.</span><span class="ident" id="1758056"><a href="/gostd/runtime/time.go.html#1757450">when</a></span>&nbsp;<span class="op" id="1758061">=</span>&nbsp;<span class="ident" id="1758063"><a href="/gostd/runtime/stubs.go.html#1743936">nanotime</a></span><span class="op" id="1758071">(</span><span class="op" id="1758072">)</span>&nbsp;<span class="op" id="1758074">+</span>&nbsp;<span class="ident" id="1758076"><a href="/gostd/runtime/time.go.html#1757997">ns</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1758080"><a href="/gostd/runtime/time.go.html#1758037">t</a></span><span class="op" id="1758081">.</span><span class="ident" id="1758082"><a href="/gostd/runtime/time.go.html#1757478">f</a></span>&nbsp;<span class="op" id="1758084">=</span>&nbsp;<span class="ident" id="1758086"><a href="/gostd/runtime/time.go.html#1758564">goroutineReady</a></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1758102"><a href="/gostd/runtime/time.go.html#1758037">t</a></span><span class="op" id="1758103">.</span><span class="ident" id="1758104"><a href="/gostd/runtime/time.go.html#1757513">arg</a></span>&nbsp;<span class="op" id="1758108">=</span>&nbsp;<span class="ident" id="1758110"><a href="/gostd/runtime/stubs.go.html#1738919">getg</a></span><span class="op" id="1758114">(</span><span class="op" id="1758115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1758118"><a href="/gostd/runtime/lock_futex.go.html#1585337">lock</a></span><span class="op" id="1758122">(</span><span class="op" id="1758123">&amp;</span><span class="ident" id="1758124"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1758130">.</span><span class="ident" id="1758131"><a href="/gostd/runtime/time.go.html#1757572">lock</a></span><span class="op" id="1758135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1758138"><a href="/gostd/runtime/time.go.html#1758866">addtimerLocked</a></span><span class="op" id="1758152">(</span><span class="ident" id="1758153"><a href="/gostd/runtime/time.go.html#1758037">t</a></span><span class="op" id="1758154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1758157"><a href="/gostd/runtime/proc.go.html#1673799">goparkunlock</a></span><span class="op" id="1758169">(</span><span class="op" id="1758170">&amp;</span><span class="ident" id="1758171"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1758177">.</span><span class="ident" id="1758178"><a href="/gostd/runtime/time.go.html#1757572">lock</a></span><span class="op" id="1758182">,</span>&nbsp;<span class="string" id="1758184">&#34;sleep&#34;</span><span class="op" id="1758191">)</span><br>
<span class="lineno"></span><span class="op" id="1758193">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="1758196">//&nbsp;startTimer&nbsp;adds&nbsp;t&nbsp;to&nbsp;the&nbsp;timer&nbsp;heap.</span><br>
<span class="lineno"></span><span class="keyword" id="1758236">func</span>&nbsp;<span class="ident" id="1758241">startTimer</span><span class="op" id="1758251">(</span><span class="ident" id="1758252">t</span>&nbsp;<span class="op" id="1758254">*</span><span class="ident" id="1758255"><a href="/gostd/runtime/time.go.html#1757223">timer</a></span><span class="op" id="1758260">)</span>&nbsp;<span class="op" id="1758262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1758265">if</span>&nbsp;<span class="ident" id="1758268"><a href="/gostd/runtime/race0.go.html#1676514">raceenabled</a></span>&nbsp;<span class="op" id="1758280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1758284"><a href="/gostd/runtime/race0.go.html#1677672">racerelease</a></span><span class="op" id="1758295">(</span><span class="ident" id="1758296"><a href="/gostd/runtime/time.go.html#1756948">unsafe</a></span><span class="op" id="1758302">.</span><span class="ident" id="1758303">Pointer</span><span class="op" id="1758310">(</span><span class="ident" id="1758311"><a href="/gostd/runtime/time.go.html#1758252">t</a></span><span class="op" id="1758312">)</span><span class="op" id="1758313">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1758316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1758319"><a href="/gostd/runtime/time.go.html#1758638">addtimer</a></span><span class="op" id="1758327">(</span><span class="ident" id="1758328"><a href="/gostd/runtime/time.go.html#1758252">t</a></span><span class="op" id="1758329">)</span><br>
<span class="lineno"></span><span class="op" id="1758331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1758334">//&nbsp;stopTimer&nbsp;removes&nbsp;t&nbsp;from&nbsp;the&nbsp;timer&nbsp;heap&nbsp;if&nbsp;it&nbsp;is&nbsp;there.</span><br>
<span class="lineno">70</span><span class="comment" id="1758393">//&nbsp;It&nbsp;returns&nbsp;true&nbsp;if&nbsp;t&nbsp;was&nbsp;removed,&nbsp;false&nbsp;if&nbsp;t&nbsp;wasn&#39;t&nbsp;even&nbsp;there.</span><br>
<span class="lineno"></span><span class="keyword" id="1758460">func</span>&nbsp;<span class="ident" id="1758465">stopTimer</span><span class="op" id="1758474">(</span><span class="ident" id="1758475">t</span>&nbsp;<span class="op" id="1758477">*</span><span class="ident" id="1758478"><a href="/gostd/runtime/time.go.html#1757223">timer</a></span><span class="op" id="1758483">)</span>&nbsp;<span class="builtintype" id="1758485">bool</span>&nbsp;<span class="op" id="1758490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1758493">return</span>&nbsp;<span class="ident" id="1758500"><a href="/gostd/runtime/time.go.html#1759564">deltimer</a></span><span class="op" id="1758508">(</span><span class="ident" id="1758509"><a href="/gostd/runtime/time.go.html#1758475">t</a></span><span class="op" id="1758510">)</span><br>
<span class="lineno"></span><span class="op" id="1758512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="1758515">//&nbsp;Go&nbsp;runtime.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1758531">//&nbsp;Ready&nbsp;the&nbsp;goroutine&nbsp;arg.</span><br>
<span class="lineno"></span><span class="keyword" id="1758559">func</span>&nbsp;<span class="ident" id="1758564">goroutineReady</span><span class="op" id="1758578">(</span><span class="ident" id="1758579">arg</span>&nbsp;<span class="keyword" id="1758583">interface</span><span class="op" id="1758592">{</span><span class="op" id="1758593">}</span><span class="op" id="1758594">,</span>&nbsp;<span class="ident" id="1758596">seq</span>&nbsp;<span class="builtintype" id="1758600">uintptr</span><span class="op" id="1758607">)</span>&nbsp;<span class="op" id="1758609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1758612"><a href="/gostd/runtime/proc.go.html#1673919">goready</a></span><span class="op" id="1758619">(</span><span class="ident" id="1758620"><a href="/gostd/runtime/time.go.html#1758579">arg</a></span><span class="op" id="1758623">.</span><span class="op" id="1758624">(</span><span class="op" id="1758625">*</span><span class="ident" id="1758626"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1787271">g</a></span><span class="op" id="1758627">)</span><span class="op" id="1758628">)</span><br>
<span class="lineno">80</span><span class="op" id="1758630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1758633">func</span>&nbsp;<span class="ident" id="1758638">addtimer</span><span class="op" id="1758646">(</span><span class="ident" id="1758647">t</span>&nbsp;<span class="op" id="1758649">*</span><span class="ident" id="1758650"><a href="/gostd/runtime/time.go.html#1757223">timer</a></span><span class="op" id="1758655">)</span>&nbsp;<span class="op" id="1758657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1758660"><a href="/gostd/runtime/lock_futex.go.html#1585337">lock</a></span><span class="op" id="1758664">(</span><span class="op" id="1758665">&amp;</span><span class="ident" id="1758666"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1758672">.</span><span class="ident" id="1758673"><a href="/gostd/runtime/time.go.html#1757572">lock</a></span><span class="op" id="1758677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1758680"><a href="/gostd/runtime/time.go.html#1758866">addtimerLocked</a></span><span class="op" id="1758694">(</span><span class="ident" id="1758695"><a href="/gostd/runtime/time.go.html#1758647">t</a></span><span class="op" id="1758696">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1758699"><a href="/gostd/runtime/lock_futex.go.html#1586629">unlock</a></span><span class="op" id="1758705">(</span><span class="op" id="1758706">&amp;</span><span class="ident" id="1758707"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1758713">.</span><span class="ident" id="1758714"><a href="/gostd/runtime/time.go.html#1757572">lock</a></span><span class="op" id="1758718">)</span><br>
<span class="lineno"></span><span class="op" id="1758720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1758723">//&nbsp;Add&nbsp;a&nbsp;timer&nbsp;to&nbsp;the&nbsp;heap&nbsp;and&nbsp;start&nbsp;or&nbsp;kick&nbsp;the&nbsp;timer&nbsp;proc.</span><br>
<span class="lineno"></span><span class="comment" id="1758784">//&nbsp;If&nbsp;the&nbsp;new&nbsp;timer&nbsp;is&nbsp;earlier&nbsp;than&nbsp;any&nbsp;of&nbsp;the&nbsp;others.</span><br>
<span class="lineno">90</span><span class="comment" id="1758839">//&nbsp;Timers&nbsp;are&nbsp;locked.</span><br>
<span class="lineno"></span><span class="keyword" id="1758861">func</span>&nbsp;<span class="ident" id="1758866">addtimerLocked</span><span class="op" id="1758880">(</span><span class="ident" id="1758881">t</span>&nbsp;<span class="op" id="1758883">*</span><span class="ident" id="1758884"><a href="/gostd/runtime/time.go.html#1757223">timer</a></span><span class="op" id="1758889">)</span>&nbsp;<span class="op" id="1758891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1758894">//&nbsp;when&nbsp;must&nbsp;never&nbsp;be&nbsp;negative;&nbsp;otherwise&nbsp;timerproc&nbsp;will&nbsp;overflow</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1758961">//&nbsp;during&nbsp;its&nbsp;delta&nbsp;calculation&nbsp;and&nbsp;never&nbsp;expire&nbsp;other&nbsp;runtime·timers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1759034">if</span>&nbsp;<span class="ident" id="1759037"><a href="/gostd/runtime/time.go.html#1758881">t</a></span><span class="op" id="1759038">.</span><span class="ident" id="1759039"><a href="/gostd/runtime/time.go.html#1757450">when</a></span>&nbsp;<span class="op" id="1759044">&lt;</span>&nbsp;<span class="num" id="1759046">0</span>&nbsp;<span class="op" id="1759048">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1759052"><a href="/gostd/runtime/time.go.html#1758881">t</a></span><span class="op" id="1759053">.</span><span class="ident" id="1759054"><a href="/gostd/runtime/time.go.html#1757450">when</a></span>&nbsp;<span class="op" id="1759059">=</span>&nbsp;<span class="num" id="1759061">1</span><span class="op" id="1759062">&lt;&lt;</span><span class="num" id="1759064">63</span>&nbsp;<span class="op" id="1759067">-</span>&nbsp;<span class="num" id="1759069">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1759072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1759075"><a href="/gostd/runtime/time.go.html#1758881">t</a></span><span class="op" id="1759076">.</span><span class="ident" id="1759077"><a href="/gostd/runtime/time.go.html#1757239">i</a></span>&nbsp;<span class="op" id="1759079">=</span>&nbsp;<span class="builtinfunc" id="1759081">len</span><span class="op" id="1759084">(</span><span class="ident" id="1759085"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1759091">.</span><span class="ident" id="1759092"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1759093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1759096"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1759102">.</span><span class="ident" id="1759103"><a href="/gostd/runtime/time.go.html#1757685">t</a></span>&nbsp;<span class="op" id="1759105">=</span>&nbsp;<span class="builtinfunc" id="1759107">append</span><span class="op" id="1759113">(</span><span class="ident" id="1759114"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1759120">.</span><span class="ident" id="1759121"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1759122">,</span>&nbsp;<span class="ident" id="1759124"><a href="/gostd/runtime/time.go.html#1758881">t</a></span><span class="op" id="1759125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1759128"><a href="/gostd/runtime/time.go.html#1762035">siftupTimer</a></span><span class="op" id="1759139">(</span><span class="ident" id="1759140"><a href="/gostd/runtime/time.go.html#1758881">t</a></span><span class="op" id="1759141">.</span><span class="ident" id="1759142"><a href="/gostd/runtime/time.go.html#1757239">i</a></span><span class="op" id="1759143">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1759146">if</span>&nbsp;<span class="ident" id="1759149"><a href="/gostd/runtime/time.go.html#1758881">t</a></span><span class="op" id="1759150">.</span><span class="ident" id="1759151"><a href="/gostd/runtime/time.go.html#1757239">i</a></span>&nbsp;<span class="op" id="1759153">==</span>&nbsp;<span class="num" id="1759156">0</span>&nbsp;<span class="op" id="1759158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1759162">//&nbsp;siftup&nbsp;moved&nbsp;to&nbsp;top:&nbsp;new&nbsp;earliest&nbsp;deadline.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1759211">if</span>&nbsp;<span class="ident" id="1759214"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1759220">.</span><span class="ident" id="1759221"><a href="/gostd/runtime/time.go.html#1757628">sleeping</a></span>&nbsp;<span class="op" id="1759230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1759235"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1759241">.</span><span class="ident" id="1759242"><a href="/gostd/runtime/time.go.html#1757628">sleeping</a></span>&nbsp;<span class="op" id="1759251">=</span>&nbsp;<span class="builtintype" id="1759253">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1759262"><a href="/gostd/runtime/lock_futex.go.html#1587128">notewakeup</a></span><span class="op" id="1759272">(</span><span class="op" id="1759273">&amp;</span><span class="ident" id="1759274"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1759280">.</span><span class="ident" id="1759281"><a href="/gostd/runtime/time.go.html#1757666">waitnote</a></span><span class="op" id="1759289">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1759293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1759297">if</span>&nbsp;<span class="ident" id="1759300"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1759306">.</span><span class="ident" id="1759307"><a href="/gostd/runtime/time.go.html#1757647">rescheduling</a></span>&nbsp;<span class="op" id="1759320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1759325"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1759331">.</span><span class="ident" id="1759332"><a href="/gostd/runtime/time.go.html#1757647">rescheduling</a></span>&nbsp;<span class="op" id="1759345">=</span>&nbsp;<span class="builtintype" id="1759347">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1759356"><a href="/gostd/runtime/proc.go.html#1673919">goready</a></span><span class="op" id="1759363">(</span><span class="ident" id="1759364"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1759370">.</span><span class="ident" id="1759371"><a href="/gostd/runtime/time.go.html#1757592">gp</a></span><span class="op" id="1759373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1759377">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1759380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1759383">if</span>&nbsp;<span class="op" id="1759386">!</span><span class="ident" id="1759387"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1759393">.</span><span class="ident" id="1759394"><a href="/gostd/runtime/time.go.html#1757609">created</a></span>&nbsp;<span class="op" id="1759402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1759406"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1759412">.</span><span class="ident" id="1759413"><a href="/gostd/runtime/time.go.html#1757609">created</a></span>&nbsp;<span class="op" id="1759421">=</span>&nbsp;<span class="builtintype" id="1759423">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1759430">go</span>&nbsp;<span class="ident" id="1759433"><a href="/gostd/runtime/time.go.html#1760392">timerproc</a></span><span class="op" id="1759442">(</span><span class="op" id="1759443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1759446">}</span><br>
<span class="lineno">115</span><span class="op" id="1759448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1759451">//&nbsp;Delete&nbsp;timer&nbsp;t&nbsp;from&nbsp;the&nbsp;heap.</span><br>
<span class="lineno"></span><span class="comment" id="1759484">//&nbsp;Do&nbsp;not&nbsp;need&nbsp;to&nbsp;update&nbsp;the&nbsp;timerproc:&nbsp;if&nbsp;it&nbsp;wakes&nbsp;up&nbsp;early,&nbsp;no&nbsp;big&nbsp;deal.</span><br>
<span class="lineno"></span><span class="keyword" id="1759559">func</span>&nbsp;<span class="ident" id="1759564">deltimer</span><span class="op" id="1759572">(</span><span class="ident" id="1759573">t</span>&nbsp;<span class="op" id="1759575">*</span><span class="ident" id="1759576"><a href="/gostd/runtime/time.go.html#1757223">timer</a></span><span class="op" id="1759581">)</span>&nbsp;<span class="builtintype" id="1759583">bool</span>&nbsp;<span class="op" id="1759588">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1759591">//&nbsp;Dereference&nbsp;t&nbsp;so&nbsp;that&nbsp;any&nbsp;panic&nbsp;happens&nbsp;before&nbsp;the&nbsp;lock&nbsp;is&nbsp;held.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1759660">//&nbsp;Discard&nbsp;result,&nbsp;because&nbsp;t&nbsp;might&nbsp;be&nbsp;moving&nbsp;in&nbsp;the&nbsp;heap.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1759719">_</span>&nbsp;<span class="op" id="1759721">=</span>&nbsp;<span class="ident" id="1759723"><a href="/gostd/runtime/time.go.html#1759573">t</a></span><span class="op" id="1759724">.</span><span class="ident" id="1759725"><a href="/gostd/runtime/time.go.html#1757239">i</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1759729"><a href="/gostd/runtime/lock_futex.go.html#1585337">lock</a></span><span class="op" id="1759733">(</span><span class="op" id="1759734">&amp;</span><span class="ident" id="1759735"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1759741">.</span><span class="ident" id="1759742"><a href="/gostd/runtime/time.go.html#1757572">lock</a></span><span class="op" id="1759746">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1759749">//&nbsp;t&nbsp;may&nbsp;not&nbsp;be&nbsp;registered&nbsp;anymore&nbsp;and&nbsp;may&nbsp;have</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1759798">//&nbsp;a&nbsp;bogus&nbsp;i&nbsp;(typically&nbsp;0,&nbsp;if&nbsp;generated&nbsp;by&nbsp;Go).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1759847">//&nbsp;Verify&nbsp;it&nbsp;before&nbsp;proceeding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1759880">i</span>&nbsp;<span class="op" id="1759882">:=</span>&nbsp;<span class="ident" id="1759885"><a href="/gostd/runtime/time.go.html#1759573">t</a></span><span class="op" id="1759886">.</span><span class="ident" id="1759887"><a href="/gostd/runtime/time.go.html#1757239">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1759890">last</span>&nbsp;<span class="op" id="1759895">:=</span>&nbsp;<span class="builtinfunc" id="1759898">len</span><span class="op" id="1759901">(</span><span class="ident" id="1759902"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1759908">.</span><span class="ident" id="1759909"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1759910">)</span>&nbsp;<span class="op" id="1759912">-</span>&nbsp;<span class="num" id="1759914">1</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1759917">if</span>&nbsp;<span class="ident" id="1759920"><a href="/gostd/runtime/time.go.html#1759880">i</a></span>&nbsp;<span class="op" id="1759922">&lt;</span>&nbsp;<span class="num" id="1759924">0</span>&nbsp;<span class="op" id="1759926">||</span>&nbsp;<span class="ident" id="1759929"><a href="/gostd/runtime/time.go.html#1759880">i</a></span>&nbsp;<span class="op" id="1759931">&gt;</span>&nbsp;<span class="ident" id="1759933"><a href="/gostd/runtime/time.go.html#1759890">last</a></span>&nbsp;<span class="op" id="1759938">||</span>&nbsp;<span class="ident" id="1759941"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1759947">.</span><span class="ident" id="1759948"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1759949">[</span><span class="ident" id="1759950"><a href="/gostd/runtime/time.go.html#1759880">i</a></span><span class="op" id="1759951">]</span>&nbsp;<span class="op" id="1759953">!=</span>&nbsp;<span class="ident" id="1759956"><a href="/gostd/runtime/time.go.html#1759573">t</a></span>&nbsp;<span class="op" id="1759958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1759962"><a href="/gostd/runtime/lock_futex.go.html#1586629">unlock</a></span><span class="op" id="1759968">(</span><span class="op" id="1759969">&amp;</span><span class="ident" id="1759970"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1759976">.</span><span class="ident" id="1759977"><a href="/gostd/runtime/time.go.html#1757572">lock</a></span><span class="op" id="1759981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1759985">return</span>&nbsp;<span class="builtintype" id="1759992">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1759999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1760002">if</span>&nbsp;<span class="ident" id="1760005"><a href="/gostd/runtime/time.go.html#1759880">i</a></span>&nbsp;<span class="op" id="1760007">!=</span>&nbsp;<span class="ident" id="1760010"><a href="/gostd/runtime/time.go.html#1759890">last</a></span>&nbsp;<span class="op" id="1760015">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760019"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760025">.</span><span class="ident" id="1760026"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1760027">[</span><span class="ident" id="1760028"><a href="/gostd/runtime/time.go.html#1759880">i</a></span><span class="op" id="1760029">]</span>&nbsp;<span class="op" id="1760031">=</span>&nbsp;<span class="ident" id="1760033"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760039">.</span><span class="ident" id="1760040"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1760041">[</span><span class="ident" id="1760042"><a href="/gostd/runtime/time.go.html#1759890">last</a></span><span class="op" id="1760046">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760050"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760056">.</span><span class="ident" id="1760057"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1760058">[</span><span class="ident" id="1760059"><a href="/gostd/runtime/time.go.html#1759880">i</a></span><span class="op" id="1760060">]</span><span class="op" id="1760061">.</span><span class="ident" id="1760062"><a href="/gostd/runtime/time.go.html#1757239">i</a></span>&nbsp;<span class="op" id="1760064">=</span>&nbsp;<span class="ident" id="1760066"><a href="/gostd/runtime/time.go.html#1759880">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1760069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760072"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760078">.</span><span class="ident" id="1760079"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1760080">[</span><span class="ident" id="1760081"><a href="/gostd/runtime/time.go.html#1759890">last</a></span><span class="op" id="1760085">]</span>&nbsp;<span class="op" id="1760087">=</span>&nbsp;<span class="builtintype" id="1760089">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760094"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760100">.</span><span class="ident" id="1760101"><a href="/gostd/runtime/time.go.html#1757685">t</a></span>&nbsp;<span class="op" id="1760103">=</span>&nbsp;<span class="ident" id="1760105"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760111">.</span><span class="ident" id="1760112"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1760113">[</span><span class="op" id="1760114">:</span><span class="ident" id="1760115"><a href="/gostd/runtime/time.go.html#1759890">last</a></span><span class="op" id="1760119">]</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1760122">if</span>&nbsp;<span class="ident" id="1760125"><a href="/gostd/runtime/time.go.html#1759880">i</a></span>&nbsp;<span class="op" id="1760127">!=</span>&nbsp;<span class="ident" id="1760130"><a href="/gostd/runtime/time.go.html#1759890">last</a></span>&nbsp;<span class="op" id="1760135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760139"><a href="/gostd/runtime/time.go.html#1762035">siftupTimer</a></span><span class="op" id="1760150">(</span><span class="ident" id="1760151"><a href="/gostd/runtime/time.go.html#1759880">i</a></span><span class="op" id="1760152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760156"><a href="/gostd/runtime/time.go.html#1762255">siftdownTimer</a></span><span class="op" id="1760169">(</span><span class="ident" id="1760170"><a href="/gostd/runtime/time.go.html#1759880">i</a></span><span class="op" id="1760171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1760174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760177"><a href="/gostd/runtime/lock_futex.go.html#1586629">unlock</a></span><span class="op" id="1760183">(</span><span class="op" id="1760184">&amp;</span><span class="ident" id="1760185"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760191">.</span><span class="ident" id="1760192"><a href="/gostd/runtime/time.go.html#1757572">lock</a></span><span class="op" id="1760196">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1760199">return</span>&nbsp;<span class="builtintype" id="1760206">true</span><br>
<span class="lineno"></span><span class="op" id="1760211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1760214">//&nbsp;Timerproc&nbsp;runs&nbsp;the&nbsp;time-driven&nbsp;events.</span><br>
<span class="lineno"></span><span class="comment" id="1760256">//&nbsp;It&nbsp;sleeps&nbsp;until&nbsp;the&nbsp;next&nbsp;event&nbsp;in&nbsp;the&nbsp;timers&nbsp;heap.</span><br>
<span class="lineno">150</span><span class="comment" id="1760310">//&nbsp;If&nbsp;addtimer&nbsp;inserts&nbsp;a&nbsp;new&nbsp;earlier&nbsp;event,&nbsp;addtimer1&nbsp;wakes&nbsp;timerproc&nbsp;early.</span><br>
<span class="lineno"></span><span class="keyword" id="1760387">func</span>&nbsp;<span class="ident" id="1760392">timerproc</span><span class="op" id="1760401">(</span><span class="op" id="1760402">)</span>&nbsp;<span class="op" id="1760404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760407"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760413">.</span><span class="ident" id="1760414"><a href="/gostd/runtime/time.go.html#1757592">gp</a></span>&nbsp;<span class="op" id="1760417">=</span>&nbsp;<span class="ident" id="1760419"><a href="/gostd/runtime/stubs.go.html#1738919">getg</a></span><span class="op" id="1760423">(</span><span class="op" id="1760424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760427"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760433">.</span><span class="ident" id="1760434"><a href="/gostd/runtime/time.go.html#1757592">gp</a></span><span class="op" id="1760436">.</span><span class="ident" id="1760437"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1787526">issystem</a></span>&nbsp;<span class="op" id="1760446">=</span>&nbsp;<span class="builtintype" id="1760448">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1760454">for</span>&nbsp;<span class="op" id="1760458">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760462"><a href="/gostd/runtime/lock_futex.go.html#1585337">lock</a></span><span class="op" id="1760466">(</span><span class="op" id="1760467">&amp;</span><span class="ident" id="1760468"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760474">.</span><span class="ident" id="1760475"><a href="/gostd/runtime/time.go.html#1757572">lock</a></span><span class="op" id="1760479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760483"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760489">.</span><span class="ident" id="1760490"><a href="/gostd/runtime/time.go.html#1757628">sleeping</a></span>&nbsp;<span class="op" id="1760499">=</span>&nbsp;<span class="builtintype" id="1760501">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760509">now</span>&nbsp;<span class="op" id="1760513">:=</span>&nbsp;<span class="ident" id="1760516"><a href="/gostd/runtime/stubs.go.html#1743936">nanotime</a></span><span class="op" id="1760524">(</span><span class="op" id="1760525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760529">delta</span>&nbsp;<span class="op" id="1760535">:=</span>&nbsp;<span class="builtintype" id="1760538">int64</span><span class="op" id="1760543">(</span><span class="op" id="1760544">-</span><span class="num" id="1760545">1</span><span class="op" id="1760546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1760550">for</span>&nbsp;<span class="op" id="1760554">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1760559">if</span>&nbsp;<span class="builtinfunc" id="1760562">len</span><span class="op" id="1760565">(</span><span class="ident" id="1760566"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760572">.</span><span class="ident" id="1760573"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1760574">)</span>&nbsp;<span class="op" id="1760576">==</span>&nbsp;<span class="num" id="1760579">0</span>&nbsp;<span class="op" id="1760581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760587"><a href="/gostd/runtime/time.go.html#1760529">delta</a></span>&nbsp;<span class="op" id="1760593">=</span>&nbsp;<span class="op" id="1760595">-</span><span class="num" id="1760596">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1760602">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1760611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760616">t</span>&nbsp;<span class="op" id="1760618">:=</span>&nbsp;<span class="ident" id="1760621"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760627">.</span><span class="ident" id="1760628"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1760629">[</span><span class="num" id="1760630">0</span><span class="op" id="1760631">]</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760636"><a href="/gostd/runtime/time.go.html#1760529">delta</a></span>&nbsp;<span class="op" id="1760642">=</span>&nbsp;<span class="ident" id="1760644"><a href="/gostd/runtime/time.go.html#1760616">t</a></span><span class="op" id="1760645">.</span><span class="ident" id="1760646"><a href="/gostd/runtime/time.go.html#1757450">when</a></span>&nbsp;<span class="op" id="1760651">-</span>&nbsp;<span class="ident" id="1760653"><a href="/gostd/runtime/time.go.html#1760509">now</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1760660">if</span>&nbsp;<span class="ident" id="1760663"><a href="/gostd/runtime/time.go.html#1760529">delta</a></span>&nbsp;<span class="op" id="1760669">&gt;</span>&nbsp;<span class="num" id="1760671">0</span>&nbsp;<span class="op" id="1760673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1760679">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1760688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1760693">if</span>&nbsp;<span class="ident" id="1760696"><a href="/gostd/runtime/time.go.html#1760616">t</a></span><span class="op" id="1760697">.</span><span class="ident" id="1760698"><a href="/gostd/runtime/time.go.html#1757464">period</a></span>&nbsp;<span class="op" id="1760705">&gt;</span>&nbsp;<span class="num" id="1760707">0</span>&nbsp;<span class="op" id="1760709">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1760715">//&nbsp;leave&nbsp;in&nbsp;heap&nbsp;but&nbsp;adjust&nbsp;next&nbsp;time&nbsp;to&nbsp;fire</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760765"><a href="/gostd/runtime/time.go.html#1760616">t</a></span><span class="op" id="1760766">.</span><span class="ident" id="1760767"><a href="/gostd/runtime/time.go.html#1757450">when</a></span>&nbsp;<span class="op" id="1760772">+=</span>&nbsp;<span class="ident" id="1760775"><a href="/gostd/runtime/time.go.html#1760616">t</a></span><span class="op" id="1760776">.</span><span class="ident" id="1760777"><a href="/gostd/runtime/time.go.html#1757464">period</a></span>&nbsp;<span class="op" id="1760784">*</span>&nbsp;<span class="op" id="1760786">(</span><span class="num" id="1760787">1</span>&nbsp;<span class="op" id="1760789">+</span>&nbsp;<span class="op" id="1760791">-</span><span class="ident" id="1760792"><a href="/gostd/runtime/time.go.html#1760529">delta</a></span><span class="op" id="1760797">/</span><span class="ident" id="1760798"><a href="/gostd/runtime/time.go.html#1760616">t</a></span><span class="op" id="1760799">.</span><span class="ident" id="1760800"><a href="/gostd/runtime/time.go.html#1757464">period</a></span><span class="op" id="1760806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760812"><a href="/gostd/runtime/time.go.html#1762255">siftdownTimer</a></span><span class="op" id="1760825">(</span><span class="num" id="1760826">0</span><span class="op" id="1760827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1760832">}</span>&nbsp;<span class="keyword" id="1760834">else</span>&nbsp;<span class="op" id="1760839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1760845">//&nbsp;remove&nbsp;from&nbsp;heap</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760869">last</span>&nbsp;<span class="op" id="1760874">:=</span>&nbsp;<span class="builtinfunc" id="1760877">len</span><span class="op" id="1760880">(</span><span class="ident" id="1760881"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760887">.</span><span class="ident" id="1760888"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1760889">)</span>&nbsp;<span class="op" id="1760891">-</span>&nbsp;<span class="num" id="1760893">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1760899">if</span>&nbsp;<span class="ident" id="1760902"><a href="/gostd/runtime/time.go.html#1760869">last</a></span>&nbsp;<span class="op" id="1760907">&gt;</span>&nbsp;<span class="num" id="1760909">0</span>&nbsp;<span class="op" id="1760911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760918"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760924">.</span><span class="ident" id="1760925"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1760926">[</span><span class="num" id="1760927">0</span><span class="op" id="1760928">]</span>&nbsp;<span class="op" id="1760930">=</span>&nbsp;<span class="ident" id="1760932"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760938">.</span><span class="ident" id="1760939"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1760940">[</span><span class="ident" id="1760941"><a href="/gostd/runtime/time.go.html#1760869">last</a></span><span class="op" id="1760945">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760952"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760958">.</span><span class="ident" id="1760959"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1760960">[</span><span class="num" id="1760961">0</span><span class="op" id="1760962">]</span><span class="op" id="1760963">.</span><span class="ident" id="1760964"><a href="/gostd/runtime/time.go.html#1757239">i</a></span>&nbsp;<span class="op" id="1760966">=</span>&nbsp;<span class="num" id="1760968">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1760974">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1760980"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1760986">.</span><span class="ident" id="1760987"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1760988">[</span><span class="ident" id="1760989"><a href="/gostd/runtime/time.go.html#1760869">last</a></span><span class="op" id="1760993">]</span>&nbsp;<span class="op" id="1760995">=</span>&nbsp;<span class="builtintype" id="1760997">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761005"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761011">.</span><span class="ident" id="1761012"><a href="/gostd/runtime/time.go.html#1757685">t</a></span>&nbsp;<span class="op" id="1761014">=</span>&nbsp;<span class="ident" id="1761016"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761022">.</span><span class="ident" id="1761023"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1761024">[</span><span class="op" id="1761025">:</span><span class="ident" id="1761026"><a href="/gostd/runtime/time.go.html#1760869">last</a></span><span class="op" id="1761030">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1761036">if</span>&nbsp;<span class="ident" id="1761039"><a href="/gostd/runtime/time.go.html#1760869">last</a></span>&nbsp;<span class="op" id="1761044">&gt;</span>&nbsp;<span class="num" id="1761046">0</span>&nbsp;<span class="op" id="1761048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761055"><a href="/gostd/runtime/time.go.html#1762255">siftdownTimer</a></span><span class="op" id="1761068">(</span><span class="num" id="1761069">0</span><span class="op" id="1761070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1761076">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761082"><a href="/gostd/runtime/time.go.html#1760616">t</a></span><span class="op" id="1761083">.</span><span class="ident" id="1761084"><a href="/gostd/runtime/time.go.html#1757239">i</a></span>&nbsp;<span class="op" id="1761086">=</span>&nbsp;<span class="op" id="1761088">-</span><span class="num" id="1761089">1</span>&nbsp;<span class="comment" id="1761091">//&nbsp;mark&nbsp;as&nbsp;removed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1761113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761118">f</span>&nbsp;<span class="op" id="1761120">:=</span>&nbsp;<span class="ident" id="1761123"><a href="/gostd/runtime/time.go.html#1760616">t</a></span><span class="op" id="1761124">.</span><span class="ident" id="1761125"><a href="/gostd/runtime/time.go.html#1757478">f</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761130">arg</span>&nbsp;<span class="op" id="1761134">:=</span>&nbsp;<span class="ident" id="1761137"><a href="/gostd/runtime/time.go.html#1760616">t</a></span><span class="op" id="1761138">.</span><span class="ident" id="1761139"><a href="/gostd/runtime/time.go.html#1757513">arg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761146">seq</span>&nbsp;<span class="op" id="1761150">:=</span>&nbsp;<span class="ident" id="1761153"><a href="/gostd/runtime/time.go.html#1760616">t</a></span><span class="op" id="1761154">.</span><span class="ident" id="1761155"><a href="/gostd/runtime/time.go.html#1757533">seq</a></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761162"><a href="/gostd/runtime/lock_futex.go.html#1586629">unlock</a></span><span class="op" id="1761168">(</span><span class="op" id="1761169">&amp;</span><span class="ident" id="1761170"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761176">.</span><span class="ident" id="1761177"><a href="/gostd/runtime/time.go.html#1757572">lock</a></span><span class="op" id="1761181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1761186">if</span>&nbsp;<span class="ident" id="1761189"><a href="/gostd/runtime/race0.go.html#1676514">raceenabled</a></span>&nbsp;<span class="op" id="1761201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761207"><a href="/gostd/runtime/race0.go.html#1677480">raceacquire</a></span><span class="op" id="1761218">(</span><span class="ident" id="1761219"><a href="/gostd/runtime/time.go.html#1756948">unsafe</a></span><span class="op" id="1761225">.</span><span class="ident" id="1761226">Pointer</span><span class="op" id="1761233">(</span><span class="ident" id="1761234"><a href="/gostd/runtime/time.go.html#1760616">t</a></span><span class="op" id="1761235">)</span><span class="op" id="1761236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1761241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761246"><a href="/gostd/runtime/time.go.html#1761118">f</a></span><span class="op" id="1761247">(</span><span class="ident" id="1761248"><a href="/gostd/runtime/time.go.html#1761130">arg</a></span><span class="op" id="1761251">,</span>&nbsp;<span class="ident" id="1761253"><a href="/gostd/runtime/time.go.html#1761146">seq</a></span><span class="op" id="1761256">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761261"><a href="/gostd/runtime/lock_futex.go.html#1585337">lock</a></span><span class="op" id="1761265">(</span><span class="op" id="1761266">&amp;</span><span class="ident" id="1761267"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761273">.</span><span class="ident" id="1761274"><a href="/gostd/runtime/time.go.html#1757572">lock</a></span><span class="op" id="1761278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1761282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1761286">if</span>&nbsp;<span class="ident" id="1761289"><a href="/gostd/runtime/time.go.html#1760529">delta</a></span>&nbsp;<span class="op" id="1761295">&lt;</span>&nbsp;<span class="num" id="1761297">0</span>&nbsp;<span class="op" id="1761299">||</span>&nbsp;<span class="ident" id="1761302"><a href="/gostd/runtime/time.go.html#1757773">faketime</a></span>&nbsp;<span class="op" id="1761311">&gt;</span>&nbsp;<span class="num" id="1761313">0</span>&nbsp;<span class="op" id="1761315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1761320">//&nbsp;No&nbsp;timers&nbsp;left&nbsp;-&nbsp;put&nbsp;goroutine&nbsp;to&nbsp;sleep.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761367"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761373">.</span><span class="ident" id="1761374"><a href="/gostd/runtime/time.go.html#1757647">rescheduling</a></span>&nbsp;<span class="op" id="1761387">=</span>&nbsp;<span class="builtintype" id="1761389">true</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761397"><a href="/gostd/runtime/proc.go.html#1673799">goparkunlock</a></span><span class="op" id="1761409">(</span><span class="op" id="1761410">&amp;</span><span class="ident" id="1761411"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761417">.</span><span class="ident" id="1761418"><a href="/gostd/runtime/time.go.html#1757572">lock</a></span><span class="op" id="1761422">,</span>&nbsp;<span class="string" id="1761424">&#34;timer&nbsp;goroutine&nbsp;(idle)&#34;</span><span class="op" id="1761448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1761453">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1761464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1761468">//&nbsp;At&nbsp;least&nbsp;one&nbsp;timer&nbsp;pending.&nbsp;&nbsp;Sleep&nbsp;until&nbsp;then.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761520"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761526">.</span><span class="ident" id="1761527"><a href="/gostd/runtime/time.go.html#1757628">sleeping</a></span>&nbsp;<span class="op" id="1761536">=</span>&nbsp;<span class="builtintype" id="1761538">true</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761545"><a href="/gostd/runtime/lock_futex.go.html#1587088">noteclear</a></span><span class="op" id="1761554">(</span><span class="op" id="1761555">&amp;</span><span class="ident" id="1761556"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761562">.</span><span class="ident" id="1761563"><a href="/gostd/runtime/time.go.html#1757666">waitnote</a></span><span class="op" id="1761571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761575"><a href="/gostd/runtime/lock_futex.go.html#1586629">unlock</a></span><span class="op" id="1761581">(</span><span class="op" id="1761582">&amp;</span><span class="ident" id="1761583"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761589">.</span><span class="ident" id="1761590"><a href="/gostd/runtime/time.go.html#1757572">lock</a></span><span class="op" id="1761594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761598"><a href="/gostd/runtime/lock_futex.go.html#1588434">notetsleepg</a></span><span class="op" id="1761609">(</span><span class="op" id="1761610">&amp;</span><span class="ident" id="1761611"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761617">.</span><span class="ident" id="1761618"><a href="/gostd/runtime/time.go.html#1757666">waitnote</a></span><span class="op" id="1761626">,</span>&nbsp;<span class="ident" id="1761628"><a href="/gostd/runtime/time.go.html#1760529">delta</a></span><span class="op" id="1761633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1761636">}</span><br>
<span class="lineno"></span><span class="op" id="1761638">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="1761641">func</span>&nbsp;<span class="ident" id="1761646">timejump</span><span class="op" id="1761654">(</span><span class="op" id="1761655">)</span>&nbsp;<span class="op" id="1761657">*</span><span class="ident" id="1761658"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1787271">g</a></span>&nbsp;<span class="op" id="1761660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1761663">if</span>&nbsp;<span class="ident" id="1761666"><a href="/gostd/runtime/time.go.html#1757773">faketime</a></span>&nbsp;<span class="op" id="1761675">==</span>&nbsp;<span class="num" id="1761678">0</span>&nbsp;<span class="op" id="1761680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1761684">return</span>&nbsp;<span class="builtintype" id="1761691">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1761696">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761700"><a href="/gostd/runtime/lock_futex.go.html#1585337">lock</a></span><span class="op" id="1761704">(</span><span class="op" id="1761705">&amp;</span><span class="ident" id="1761706"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761712">.</span><span class="ident" id="1761713"><a href="/gostd/runtime/time.go.html#1757572">lock</a></span><span class="op" id="1761717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1761720">if</span>&nbsp;<span class="op" id="1761723">!</span><span class="ident" id="1761724"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761730">.</span><span class="ident" id="1761731"><a href="/gostd/runtime/time.go.html#1757609">created</a></span>&nbsp;<span class="op" id="1761739">||</span>&nbsp;<span class="builtinfunc" id="1761742">len</span><span class="op" id="1761745">(</span><span class="ident" id="1761746"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761752">.</span><span class="ident" id="1761753"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1761754">)</span>&nbsp;<span class="op" id="1761756">==</span>&nbsp;<span class="num" id="1761759">0</span>&nbsp;<span class="op" id="1761761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761765"><a href="/gostd/runtime/lock_futex.go.html#1586629">unlock</a></span><span class="op" id="1761771">(</span><span class="op" id="1761772">&amp;</span><span class="ident" id="1761773"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761779">.</span><span class="ident" id="1761780"><a href="/gostd/runtime/time.go.html#1757572">lock</a></span><span class="op" id="1761784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1761788">return</span>&nbsp;<span class="builtintype" id="1761795">nil</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1761800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1761804">var</span>&nbsp;<span class="ident" id="1761808">gp</span>&nbsp;<span class="op" id="1761811">*</span><span class="ident" id="1761812"><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html#1787271">g</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1761815">if</span>&nbsp;<span class="ident" id="1761818"><a href="/gostd/runtime/time.go.html#1757773">faketime</a></span>&nbsp;<span class="op" id="1761827">&lt;</span>&nbsp;<span class="ident" id="1761829"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761835">.</span><span class="ident" id="1761836"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1761837">[</span><span class="num" id="1761838">0</span><span class="op" id="1761839">]</span><span class="op" id="1761840">.</span><span class="ident" id="1761841"><a href="/gostd/runtime/time.go.html#1757450">when</a></span>&nbsp;<span class="op" id="1761846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761850"><a href="/gostd/runtime/time.go.html#1757773">faketime</a></span>&nbsp;<span class="op" id="1761859">=</span>&nbsp;<span class="ident" id="1761861"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761867">.</span><span class="ident" id="1761868"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><span class="op" id="1761869">[</span><span class="num" id="1761870">0</span><span class="op" id="1761871">]</span><span class="op" id="1761872">.</span><span class="ident" id="1761873"><a href="/gostd/runtime/time.go.html#1757450">when</a></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1761880">if</span>&nbsp;<span class="ident" id="1761883"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761889">.</span><span class="ident" id="1761890"><a href="/gostd/runtime/time.go.html#1757647">rescheduling</a></span>&nbsp;<span class="op" id="1761903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761908"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761914">.</span><span class="ident" id="1761915"><a href="/gostd/runtime/time.go.html#1757647">rescheduling</a></span>&nbsp;<span class="op" id="1761928">=</span>&nbsp;<span class="builtintype" id="1761930">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761939"><a href="/gostd/runtime/time.go.html#1761808">gp</a></span>&nbsp;<span class="op" id="1761942">=</span>&nbsp;<span class="ident" id="1761944"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761950">.</span><span class="ident" id="1761951"><a href="/gostd/runtime/time.go.html#1757592">gp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1761956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1761959">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1761962"><a href="/gostd/runtime/lock_futex.go.html#1586629">unlock</a></span><span class="op" id="1761968">(</span><span class="op" id="1761969">&amp;</span><span class="ident" id="1761970"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1761976">.</span><span class="ident" id="1761977"><a href="/gostd/runtime/time.go.html#1757572">lock</a></span><span class="op" id="1761981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1761984">return</span>&nbsp;<span class="ident" id="1761991"><a href="/gostd/runtime/time.go.html#1761808">gp</a></span><br>
<span class="lineno"></span><span class="op" id="1761994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1761997">//&nbsp;Heap&nbsp;maintenance&nbsp;algorithms.</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="1762030">func</span>&nbsp;<span class="ident" id="1762035">siftupTimer</span><span class="op" id="1762046">(</span><span class="ident" id="1762047">i</span>&nbsp;<span class="builtintype" id="1762049">int</span><span class="op" id="1762052">)</span>&nbsp;<span class="op" id="1762054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762057">t</span>&nbsp;<span class="op" id="1762059">:=</span>&nbsp;<span class="ident" id="1762062"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1762068">.</span><span class="ident" id="1762069"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762072">when</span>&nbsp;<span class="op" id="1762077">:=</span>&nbsp;<span class="ident" id="1762080"><a href="/gostd/runtime/time.go.html#1762057">t</a></span><span class="op" id="1762081">[</span><span class="ident" id="1762082"><a href="/gostd/runtime/time.go.html#1762047">i</a></span><span class="op" id="1762083">]</span><span class="op" id="1762084">.</span><span class="ident" id="1762085"><a href="/gostd/runtime/time.go.html#1757450">when</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762091">tmp</span>&nbsp;<span class="op" id="1762095">:=</span>&nbsp;<span class="ident" id="1762098"><a href="/gostd/runtime/time.go.html#1762057">t</a></span><span class="op" id="1762099">[</span><span class="ident" id="1762100"><a href="/gostd/runtime/time.go.html#1762047">i</a></span><span class="op" id="1762101">]</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1762104">for</span>&nbsp;<span class="ident" id="1762108"><a href="/gostd/runtime/time.go.html#1762047">i</a></span>&nbsp;<span class="op" id="1762110">&gt;</span>&nbsp;<span class="num" id="1762112">0</span>&nbsp;<span class="op" id="1762114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762118">p</span>&nbsp;<span class="op" id="1762120">:=</span>&nbsp;<span class="op" id="1762123">(</span><span class="ident" id="1762124"><a href="/gostd/runtime/time.go.html#1762047">i</a></span>&nbsp;<span class="op" id="1762126">-</span>&nbsp;<span class="num" id="1762128">1</span><span class="op" id="1762129">)</span>&nbsp;<span class="op" id="1762131">/</span>&nbsp;<span class="num" id="1762133">4</span>&nbsp;<span class="comment" id="1762135">//&nbsp;parent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1762147">if</span>&nbsp;<span class="ident" id="1762150"><a href="/gostd/runtime/time.go.html#1762072">when</a></span>&nbsp;<span class="op" id="1762155">&gt;=</span>&nbsp;<span class="ident" id="1762158"><a href="/gostd/runtime/time.go.html#1762057">t</a></span><span class="op" id="1762159">[</span><span class="ident" id="1762160"><a href="/gostd/runtime/time.go.html#1762118">p</a></span><span class="op" id="1762161">]</span><span class="op" id="1762162">.</span><span class="ident" id="1762163"><a href="/gostd/runtime/time.go.html#1757450">when</a></span>&nbsp;<span class="op" id="1762168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1762173">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1762181">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762185"><a href="/gostd/runtime/time.go.html#1762057">t</a></span><span class="op" id="1762186">[</span><span class="ident" id="1762187"><a href="/gostd/runtime/time.go.html#1762047">i</a></span><span class="op" id="1762188">]</span>&nbsp;<span class="op" id="1762190">=</span>&nbsp;<span class="ident" id="1762192"><a href="/gostd/runtime/time.go.html#1762057">t</a></span><span class="op" id="1762193">[</span><span class="ident" id="1762194"><a href="/gostd/runtime/time.go.html#1762118">p</a></span><span class="op" id="1762195">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762199"><a href="/gostd/runtime/time.go.html#1762057">t</a></span><span class="op" id="1762200">[</span><span class="ident" id="1762201"><a href="/gostd/runtime/time.go.html#1762047">i</a></span><span class="op" id="1762202">]</span><span class="op" id="1762203">.</span><span class="ident" id="1762204"><a href="/gostd/runtime/time.go.html#1757239">i</a></span>&nbsp;<span class="op" id="1762206">=</span>&nbsp;<span class="ident" id="1762208"><a href="/gostd/runtime/time.go.html#1762047">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762212"><a href="/gostd/runtime/time.go.html#1762057">t</a></span><span class="op" id="1762213">[</span><span class="ident" id="1762214"><a href="/gostd/runtime/time.go.html#1762118">p</a></span><span class="op" id="1762215">]</span>&nbsp;<span class="op" id="1762217">=</span>&nbsp;<span class="ident" id="1762219"><a href="/gostd/runtime/time.go.html#1762091">tmp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762225"><a href="/gostd/runtime/time.go.html#1762057">t</a></span><span class="op" id="1762226">[</span><span class="ident" id="1762227"><a href="/gostd/runtime/time.go.html#1762118">p</a></span><span class="op" id="1762228">]</span><span class="op" id="1762229">.</span><span class="ident" id="1762230"><a href="/gostd/runtime/time.go.html#1757239">i</a></span>&nbsp;<span class="op" id="1762232">=</span>&nbsp;<span class="ident" id="1762234"><a href="/gostd/runtime/time.go.html#1762118">p</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762238"><a href="/gostd/runtime/time.go.html#1762047">i</a></span>&nbsp;<span class="op" id="1762240">=</span>&nbsp;<span class="ident" id="1762242"><a href="/gostd/runtime/time.go.html#1762118">p</a></span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1762245">}</span><br>
<span class="lineno"></span><span class="op" id="1762247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1762250">func</span>&nbsp;<span class="ident" id="1762255">siftdownTimer</span><span class="op" id="1762268">(</span><span class="ident" id="1762269">i</span>&nbsp;<span class="builtintype" id="1762271">int</span><span class="op" id="1762274">)</span>&nbsp;<span class="op" id="1762276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762279">t</span>&nbsp;<span class="op" id="1762281">:=</span>&nbsp;<span class="ident" id="1762284"><a href="/gostd/runtime/time.go.html#1757555">timers</a></span><span class="op" id="1762290">.</span><span class="ident" id="1762291"><a href="/gostd/runtime/time.go.html#1757685">t</a></span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762294">n</span>&nbsp;<span class="op" id="1762296">:=</span>&nbsp;<span class="builtinfunc" id="1762299">len</span><span class="op" id="1762302">(</span><span class="ident" id="1762303"><a href="/gostd/runtime/time.go.html#1762279">t</a></span><span class="op" id="1762304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762307">when</span>&nbsp;<span class="op" id="1762312">:=</span>&nbsp;<span class="ident" id="1762315"><a href="/gostd/runtime/time.go.html#1762279">t</a></span><span class="op" id="1762316">[</span><span class="ident" id="1762317"><a href="/gostd/runtime/time.go.html#1762269">i</a></span><span class="op" id="1762318">]</span><span class="op" id="1762319">.</span><span class="ident" id="1762320"><a href="/gostd/runtime/time.go.html#1757450">when</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762326">tmp</span>&nbsp;<span class="op" id="1762330">:=</span>&nbsp;<span class="ident" id="1762333"><a href="/gostd/runtime/time.go.html#1762279">t</a></span><span class="op" id="1762334">[</span><span class="ident" id="1762335"><a href="/gostd/runtime/time.go.html#1762269">i</a></span><span class="op" id="1762336">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1762339">for</span>&nbsp;<span class="op" id="1762343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762347">c</span>&nbsp;<span class="op" id="1762349">:=</span>&nbsp;<span class="ident" id="1762352"><a href="/gostd/runtime/time.go.html#1762269">i</a></span><span class="op" id="1762353">*</span><span class="num" id="1762354">4</span>&nbsp;<span class="op" id="1762356">+</span>&nbsp;<span class="num" id="1762358">1</span>&nbsp;<span class="comment" id="1762360">//&nbsp;left&nbsp;child</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762376">c3</span>&nbsp;<span class="op" id="1762379">:=</span>&nbsp;<span class="ident" id="1762382"><a href="/gostd/runtime/time.go.html#1762347">c</a></span>&nbsp;<span class="op" id="1762384">+</span>&nbsp;<span class="num" id="1762386">2</span>&nbsp;&nbsp;<span class="comment" id="1762389">//&nbsp;mid&nbsp;child</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1762404">if</span>&nbsp;<span class="ident" id="1762407"><a href="/gostd/runtime/time.go.html#1762347">c</a></span>&nbsp;<span class="op" id="1762409">&gt;=</span>&nbsp;<span class="ident" id="1762412"><a href="/gostd/runtime/time.go.html#1762294">n</a></span>&nbsp;<span class="op" id="1762414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1762419">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1762427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762431">w</span>&nbsp;<span class="op" id="1762433">:=</span>&nbsp;<span class="ident" id="1762436"><a href="/gostd/runtime/time.go.html#1762279">t</a></span><span class="op" id="1762437">[</span><span class="ident" id="1762438"><a href="/gostd/runtime/time.go.html#1762347">c</a></span><span class="op" id="1762439">]</span><span class="op" id="1762440">.</span><span class="ident" id="1762441"><a href="/gostd/runtime/time.go.html#1757450">when</a></span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1762448">if</span>&nbsp;<span class="ident" id="1762451"><a href="/gostd/runtime/time.go.html#1762347">c</a></span><span class="op" id="1762452">+</span><span class="num" id="1762453">1</span>&nbsp;<span class="op" id="1762455">&lt;</span>&nbsp;<span class="ident" id="1762457"><a href="/gostd/runtime/time.go.html#1762294">n</a></span>&nbsp;<span class="op" id="1762459">&amp;&amp;</span>&nbsp;<span class="ident" id="1762462"><a href="/gostd/runtime/time.go.html#1762279">t</a></span><span class="op" id="1762463">[</span><span class="ident" id="1762464"><a href="/gostd/runtime/time.go.html#1762347">c</a></span><span class="op" id="1762465">+</span><span class="num" id="1762466">1</span><span class="op" id="1762467">]</span><span class="op" id="1762468">.</span><span class="ident" id="1762469"><a href="/gostd/runtime/time.go.html#1757450">when</a></span>&nbsp;<span class="op" id="1762474">&lt;</span>&nbsp;<span class="ident" id="1762476"><a href="/gostd/runtime/time.go.html#1762431">w</a></span>&nbsp;<span class="op" id="1762478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762483"><a href="/gostd/runtime/time.go.html#1762431">w</a></span>&nbsp;<span class="op" id="1762485">=</span>&nbsp;<span class="ident" id="1762487"><a href="/gostd/runtime/time.go.html#1762279">t</a></span><span class="op" id="1762488">[</span><span class="ident" id="1762489"><a href="/gostd/runtime/time.go.html#1762347">c</a></span><span class="op" id="1762490">+</span><span class="num" id="1762491">1</span><span class="op" id="1762492">]</span><span class="op" id="1762493">.</span><span class="ident" id="1762494"><a href="/gostd/runtime/time.go.html#1757450">when</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762502"><a href="/gostd/runtime/time.go.html#1762347">c</a></span><span class="op" id="1762503">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1762508">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1762512">if</span>&nbsp;<span class="ident" id="1762515"><a href="/gostd/runtime/time.go.html#1762376">c3</a></span>&nbsp;<span class="op" id="1762518">&lt;</span>&nbsp;<span class="ident" id="1762520"><a href="/gostd/runtime/time.go.html#1762294">n</a></span>&nbsp;<span class="op" id="1762522">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762527">w3</span>&nbsp;<span class="op" id="1762530">:=</span>&nbsp;<span class="ident" id="1762533"><a href="/gostd/runtime/time.go.html#1762279">t</a></span><span class="op" id="1762534">[</span><span class="ident" id="1762535"><a href="/gostd/runtime/time.go.html#1762376">c3</a></span><span class="op" id="1762537">]</span><span class="op" id="1762538">.</span><span class="ident" id="1762539"><a href="/gostd/runtime/time.go.html#1757450">when</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1762547">if</span>&nbsp;<span class="ident" id="1762550"><a href="/gostd/runtime/time.go.html#1762376">c3</a></span><span class="op" id="1762552">+</span><span class="num" id="1762553">1</span>&nbsp;<span class="op" id="1762555">&lt;</span>&nbsp;<span class="ident" id="1762557"><a href="/gostd/runtime/time.go.html#1762294">n</a></span>&nbsp;<span class="op" id="1762559">&amp;&amp;</span>&nbsp;<span class="ident" id="1762562"><a href="/gostd/runtime/time.go.html#1762279">t</a></span><span class="op" id="1762563">[</span><span class="ident" id="1762564"><a href="/gostd/runtime/time.go.html#1762376">c3</a></span><span class="op" id="1762566">+</span><span class="num" id="1762567">1</span><span class="op" id="1762568">]</span><span class="op" id="1762569">.</span><span class="ident" id="1762570"><a href="/gostd/runtime/time.go.html#1757450">when</a></span>&nbsp;<span class="op" id="1762575">&lt;</span>&nbsp;<span class="ident" id="1762577"><a href="/gostd/runtime/time.go.html#1762527">w3</a></span>&nbsp;<span class="op" id="1762580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762586"><a href="/gostd/runtime/time.go.html#1762527">w3</a></span>&nbsp;<span class="op" id="1762589">=</span>&nbsp;<span class="ident" id="1762591"><a href="/gostd/runtime/time.go.html#1762279">t</a></span><span class="op" id="1762592">[</span><span class="ident" id="1762593"><a href="/gostd/runtime/time.go.html#1762376">c3</a></span><span class="op" id="1762595">+</span><span class="num" id="1762596">1</span><span class="op" id="1762597">]</span><span class="op" id="1762598">.</span><span class="ident" id="1762599"><a href="/gostd/runtime/time.go.html#1757450">when</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762608"><a href="/gostd/runtime/time.go.html#1762376">c3</a></span><span class="op" id="1762610">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1762616">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1762621">if</span>&nbsp;<span class="ident" id="1762624"><a href="/gostd/runtime/time.go.html#1762527">w3</a></span>&nbsp;<span class="op" id="1762627">&lt;</span>&nbsp;<span class="ident" id="1762629"><a href="/gostd/runtime/time.go.html#1762431">w</a></span>&nbsp;<span class="op" id="1762631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762637"><a href="/gostd/runtime/time.go.html#1762431">w</a></span>&nbsp;<span class="op" id="1762639">=</span>&nbsp;<span class="ident" id="1762641"><a href="/gostd/runtime/time.go.html#1762527">w3</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762648"><a href="/gostd/runtime/time.go.html#1762347">c</a></span>&nbsp;<span class="op" id="1762650">=</span>&nbsp;<span class="ident" id="1762652"><a href="/gostd/runtime/time.go.html#1762376">c3</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1762658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1762662">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1762666">if</span>&nbsp;<span class="ident" id="1762669"><a href="/gostd/runtime/time.go.html#1762431">w</a></span>&nbsp;<span class="op" id="1762671">&gt;=</span>&nbsp;<span class="ident" id="1762674"><a href="/gostd/runtime/time.go.html#1762307">when</a></span>&nbsp;<span class="op" id="1762679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1762684">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1762692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762696"><a href="/gostd/runtime/time.go.html#1762279">t</a></span><span class="op" id="1762697">[</span><span class="ident" id="1762698"><a href="/gostd/runtime/time.go.html#1762269">i</a></span><span class="op" id="1762699">]</span>&nbsp;<span class="op" id="1762701">=</span>&nbsp;<span class="ident" id="1762703"><a href="/gostd/runtime/time.go.html#1762279">t</a></span><span class="op" id="1762704">[</span><span class="ident" id="1762705"><a href="/gostd/runtime/time.go.html#1762347">c</a></span><span class="op" id="1762706">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762710"><a href="/gostd/runtime/time.go.html#1762279">t</a></span><span class="op" id="1762711">[</span><span class="ident" id="1762712"><a href="/gostd/runtime/time.go.html#1762269">i</a></span><span class="op" id="1762713">]</span><span class="op" id="1762714">.</span><span class="ident" id="1762715"><a href="/gostd/runtime/time.go.html#1757239">i</a></span>&nbsp;<span class="op" id="1762717">=</span>&nbsp;<span class="ident" id="1762719"><a href="/gostd/runtime/time.go.html#1762269">i</a></span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762723"><a href="/gostd/runtime/time.go.html#1762279">t</a></span><span class="op" id="1762724">[</span><span class="ident" id="1762725"><a href="/gostd/runtime/time.go.html#1762347">c</a></span><span class="op" id="1762726">]</span>&nbsp;<span class="op" id="1762728">=</span>&nbsp;<span class="ident" id="1762730"><a href="/gostd/runtime/time.go.html#1762326">tmp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762736"><a href="/gostd/runtime/time.go.html#1762279">t</a></span><span class="op" id="1762737">[</span><span class="ident" id="1762738"><a href="/gostd/runtime/time.go.html#1762347">c</a></span><span class="op" id="1762739">]</span><span class="op" id="1762740">.</span><span class="ident" id="1762741"><a href="/gostd/runtime/time.go.html#1757239">i</a></span>&nbsp;<span class="op" id="1762743">=</span>&nbsp;<span class="ident" id="1762745"><a href="/gostd/runtime/time.go.html#1762347">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1762749"><a href="/gostd/runtime/time.go.html#1762269">i</a></span>&nbsp;<span class="op" id="1762751">=</span>&nbsp;<span class="ident" id="1762753"><a href="/gostd/runtime/time.go.html#1762347">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1762756">}</span><br>
<span class="lineno"></span><span class="op" id="1762758">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
