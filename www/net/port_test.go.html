<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7509630">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7509685">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7509739">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7509790">package</span>&nbsp;<span class="ident" id="7509798">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7509803">import</span>&nbsp;<span class="op" id="7509810">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7509813">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7509824">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7509834">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7509837">type</span>&nbsp;<span class="ident" id="7509842">portTest</span>&nbsp;<span class="keyword" id="7509851">struct</span>&nbsp;<span class="op" id="7509858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509861">netw</span>&nbsp;<span class="builtintype" id="7509866">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509874">name</span>&nbsp;<span class="builtintype" id="7509879">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509887">port</span>&nbsp;<span class="builtintype" id="7509892">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509897">ok</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7509902">bool</span><br>
<span class="lineno"></span><span class="op" id="7509907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7509910">var</span>&nbsp;<span class="ident" id="7509914">porttests</span>&nbsp;<span class="op" id="7509924">=</span>&nbsp;<span class="op" id="7509926">[</span><span class="op" id="7509927">]</span><span class="ident" id="7509928">portTest</span><span class="op" id="7509936">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509939">{</span><span class="string" id="7509940">&#34;tcp&#34;</span><span class="op" id="7509945">,</span>&nbsp;<span class="string" id="7509947">&#34;echo&#34;</span><span class="op" id="7509953">,</span>&nbsp;<span class="num" id="7509955">7</span><span class="op" id="7509956">,</span>&nbsp;<span class="ident" id="7509958">true</span><span class="op" id="7509962">}</span><span class="op" id="7509963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509966">{</span><span class="string" id="7509967">&#34;tcp&#34;</span><span class="op" id="7509972">,</span>&nbsp;<span class="string" id="7509974">&#34;discard&#34;</span><span class="op" id="7509983">,</span>&nbsp;<span class="num" id="7509985">9</span><span class="op" id="7509986">,</span>&nbsp;<span class="ident" id="7509988">true</span><span class="op" id="7509992">}</span><span class="op" id="7509993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509996">{</span><span class="string" id="7509997">&#34;tcp&#34;</span><span class="op" id="7510002">,</span>&nbsp;<span class="string" id="7510004">&#34;systat&#34;</span><span class="op" id="7510012">,</span>&nbsp;<span class="num" id="7510014">11</span><span class="op" id="7510016">,</span>&nbsp;<span class="ident" id="7510018">true</span><span class="op" id="7510022">}</span><span class="op" id="7510023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510026">{</span><span class="string" id="7510027">&#34;tcp&#34;</span><span class="op" id="7510032">,</span>&nbsp;<span class="string" id="7510034">&#34;daytime&#34;</span><span class="op" id="7510043">,</span>&nbsp;<span class="num" id="7510045">13</span><span class="op" id="7510047">,</span>&nbsp;<span class="ident" id="7510049">true</span><span class="op" id="7510053">}</span><span class="op" id="7510054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510057">{</span><span class="string" id="7510058">&#34;tcp&#34;</span><span class="op" id="7510063">,</span>&nbsp;<span class="string" id="7510065">&#34;chargen&#34;</span><span class="op" id="7510074">,</span>&nbsp;<span class="num" id="7510076">19</span><span class="op" id="7510078">,</span>&nbsp;<span class="ident" id="7510080">true</span><span class="op" id="7510084">}</span><span class="op" id="7510085">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510088">{</span><span class="string" id="7510089">&#34;tcp&#34;</span><span class="op" id="7510094">,</span>&nbsp;<span class="string" id="7510096">&#34;ftp-data&#34;</span><span class="op" id="7510106">,</span>&nbsp;<span class="num" id="7510108">20</span><span class="op" id="7510110">,</span>&nbsp;<span class="ident" id="7510112">true</span><span class="op" id="7510116">}</span><span class="op" id="7510117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510120">{</span><span class="string" id="7510121">&#34;tcp&#34;</span><span class="op" id="7510126">,</span>&nbsp;<span class="string" id="7510128">&#34;ftp&#34;</span><span class="op" id="7510133">,</span>&nbsp;<span class="num" id="7510135">21</span><span class="op" id="7510137">,</span>&nbsp;<span class="ident" id="7510139">true</span><span class="op" id="7510143">}</span><span class="op" id="7510144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510147">{</span><span class="string" id="7510148">&#34;tcp&#34;</span><span class="op" id="7510153">,</span>&nbsp;<span class="string" id="7510155">&#34;telnet&#34;</span><span class="op" id="7510163">,</span>&nbsp;<span class="num" id="7510165">23</span><span class="op" id="7510167">,</span>&nbsp;<span class="ident" id="7510169">true</span><span class="op" id="7510173">}</span><span class="op" id="7510174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510177">{</span><span class="string" id="7510178">&#34;tcp&#34;</span><span class="op" id="7510183">,</span>&nbsp;<span class="string" id="7510185">&#34;smtp&#34;</span><span class="op" id="7510191">,</span>&nbsp;<span class="num" id="7510193">25</span><span class="op" id="7510195">,</span>&nbsp;<span class="ident" id="7510197">true</span><span class="op" id="7510201">}</span><span class="op" id="7510202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510205">{</span><span class="string" id="7510206">&#34;tcp&#34;</span><span class="op" id="7510211">,</span>&nbsp;<span class="string" id="7510213">&#34;time&#34;</span><span class="op" id="7510219">,</span>&nbsp;<span class="num" id="7510221">37</span><span class="op" id="7510223">,</span>&nbsp;<span class="ident" id="7510225">true</span><span class="op" id="7510229">}</span><span class="op" id="7510230">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510233">{</span><span class="string" id="7510234">&#34;tcp&#34;</span><span class="op" id="7510239">,</span>&nbsp;<span class="string" id="7510241">&#34;domain&#34;</span><span class="op" id="7510249">,</span>&nbsp;<span class="num" id="7510251">53</span><span class="op" id="7510253">,</span>&nbsp;<span class="ident" id="7510255">true</span><span class="op" id="7510259">}</span><span class="op" id="7510260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510263">{</span><span class="string" id="7510264">&#34;tcp&#34;</span><span class="op" id="7510269">,</span>&nbsp;<span class="string" id="7510271">&#34;finger&#34;</span><span class="op" id="7510279">,</span>&nbsp;<span class="num" id="7510281">79</span><span class="op" id="7510283">,</span>&nbsp;<span class="ident" id="7510285">true</span><span class="op" id="7510289">}</span><span class="op" id="7510290">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510294">{</span><span class="string" id="7510295">&#34;udp&#34;</span><span class="op" id="7510300">,</span>&nbsp;<span class="string" id="7510302">&#34;echo&#34;</span><span class="op" id="7510308">,</span>&nbsp;<span class="num" id="7510310">7</span><span class="op" id="7510311">,</span>&nbsp;<span class="ident" id="7510313">true</span><span class="op" id="7510317">}</span><span class="op" id="7510318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510321">{</span><span class="string" id="7510322">&#34;udp&#34;</span><span class="op" id="7510327">,</span>&nbsp;<span class="string" id="7510329">&#34;tftp&#34;</span><span class="op" id="7510335">,</span>&nbsp;<span class="num" id="7510337">69</span><span class="op" id="7510339">,</span>&nbsp;<span class="ident" id="7510341">true</span><span class="op" id="7510345">}</span><span class="op" id="7510346">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510349">{</span><span class="string" id="7510350">&#34;udp&#34;</span><span class="op" id="7510355">,</span>&nbsp;<span class="string" id="7510357">&#34;bootpc&#34;</span><span class="op" id="7510365">,</span>&nbsp;<span class="num" id="7510367">68</span><span class="op" id="7510369">,</span>&nbsp;<span class="ident" id="7510371">true</span><span class="op" id="7510375">}</span><span class="op" id="7510376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510379">{</span><span class="string" id="7510380">&#34;udp&#34;</span><span class="op" id="7510385">,</span>&nbsp;<span class="string" id="7510387">&#34;bootps&#34;</span><span class="op" id="7510395">,</span>&nbsp;<span class="num" id="7510397">67</span><span class="op" id="7510399">,</span>&nbsp;<span class="ident" id="7510401">true</span><span class="op" id="7510405">}</span><span class="op" id="7510406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510409">{</span><span class="string" id="7510410">&#34;udp&#34;</span><span class="op" id="7510415">,</span>&nbsp;<span class="string" id="7510417">&#34;domain&#34;</span><span class="op" id="7510425">,</span>&nbsp;<span class="num" id="7510427">53</span><span class="op" id="7510429">,</span>&nbsp;<span class="ident" id="7510431">true</span><span class="op" id="7510435">}</span><span class="op" id="7510436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510439">{</span><span class="string" id="7510440">&#34;udp&#34;</span><span class="op" id="7510445">,</span>&nbsp;<span class="string" id="7510447">&#34;ntp&#34;</span><span class="op" id="7510452">,</span>&nbsp;<span class="num" id="7510454">123</span><span class="op" id="7510457">,</span>&nbsp;<span class="ident" id="7510459">true</span><span class="op" id="7510463">}</span><span class="op" id="7510464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510467">{</span><span class="string" id="7510468">&#34;udp&#34;</span><span class="op" id="7510473">,</span>&nbsp;<span class="string" id="7510475">&#34;snmp&#34;</span><span class="op" id="7510481">,</span>&nbsp;<span class="num" id="7510483">161</span><span class="op" id="7510486">,</span>&nbsp;<span class="ident" id="7510488">true</span><span class="op" id="7510492">}</span><span class="op" id="7510493">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510496">{</span><span class="string" id="7510497">&#34;udp&#34;</span><span class="op" id="7510502">,</span>&nbsp;<span class="string" id="7510504">&#34;syslog&#34;</span><span class="op" id="7510512">,</span>&nbsp;<span class="num" id="7510514">514</span><span class="op" id="7510517">,</span>&nbsp;<span class="ident" id="7510519">true</span><span class="op" id="7510523">}</span><span class="op" id="7510524">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510528">{</span><span class="string" id="7510529">&#34;--badnet--&#34;</span><span class="op" id="7510541">,</span>&nbsp;<span class="string" id="7510543">&#34;zzz&#34;</span><span class="op" id="7510548">,</span>&nbsp;<span class="num" id="7510550">0</span><span class="op" id="7510551">,</span>&nbsp;<span class="ident" id="7510553">false</span><span class="op" id="7510558">}</span><span class="op" id="7510559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510562">{</span><span class="string" id="7510563">&#34;tcp&#34;</span><span class="op" id="7510568">,</span>&nbsp;<span class="string" id="7510570">&#34;--badport--&#34;</span><span class="op" id="7510583">,</span>&nbsp;<span class="num" id="7510585">0</span><span class="op" id="7510586">,</span>&nbsp;<span class="ident" id="7510588">false</span><span class="op" id="7510593">}</span><span class="op" id="7510594">,</span><br>
<span class="lineno"></span><span class="op" id="7510596">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="7510599">func</span>&nbsp;<span class="ident" id="7510604">TestLookupPort</span><span class="op" id="7510618">(</span><span class="ident" id="7510619">t</span>&nbsp;<span class="op" id="7510621">*</span><span class="ident" id="7510622">testing</span><span class="op" id="7510629">.</span><span class="ident" id="7510630">T</span><span class="op" id="7510631">)</span>&nbsp;<span class="op" id="7510633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510636">switch</span>&nbsp;<span class="ident" id="7510643">runtime</span><span class="op" id="7510650">.</span><span class="ident" id="7510651">GOOS</span>&nbsp;<span class="op" id="7510656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510659">case</span>&nbsp;<span class="string" id="7510664">&#34;nacl&#34;</span><span class="op" id="7510670">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510674">t</span><span class="op" id="7510675">.</span><span class="ident" id="7510676">Skipf</span><span class="op" id="7510681">(</span><span class="string" id="7510682">&#34;skipping&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="7510703">,</span>&nbsp;<span class="ident" id="7510705">runtime</span><span class="op" id="7510712">.</span><span class="ident" id="7510713">GOOS</span><span class="op" id="7510717">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510724">for</span>&nbsp;<span class="ident" id="7510728">i</span>&nbsp;<span class="op" id="7510730">:=</span>&nbsp;<span class="num" id="7510733">0</span><span class="op" id="7510734">;</span>&nbsp;<span class="ident" id="7510736">i</span>&nbsp;<span class="op" id="7510738">&lt;</span>&nbsp;<span class="builtinfunc" id="7510740">len</span><span class="op" id="7510743">(</span><span class="ident" id="7510744">porttests</span><span class="op" id="7510753">)</span><span class="op" id="7510754">;</span>&nbsp;<span class="ident" id="7510756">i</span><span class="op" id="7510757">++</span>&nbsp;<span class="op" id="7510760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510764">tt</span>&nbsp;<span class="op" id="7510767">:=</span>&nbsp;<span class="ident" id="7510770">porttests</span><span class="op" id="7510779">[</span><span class="ident" id="7510780">i</span><span class="op" id="7510781">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7510785">if</span>&nbsp;<span class="ident" id="7510788">port</span><span class="op" id="7510792">,</span>&nbsp;<span class="ident" id="7510794">err</span>&nbsp;<span class="op" id="7510798">:=</span>&nbsp;<span class="ident" id="7510801">LookupPort</span><span class="op" id="7510811">(</span><span class="ident" id="7510812">tt</span><span class="op" id="7510814">.</span><span class="ident" id="7510815">netw</span><span class="op" id="7510819">,</span>&nbsp;<span class="ident" id="7510821">tt</span><span class="op" id="7510823">.</span><span class="ident" id="7510824">name</span><span class="op" id="7510828">)</span><span class="op" id="7510829">;</span>&nbsp;<span class="ident" id="7510831">port</span>&nbsp;<span class="op" id="7510836">!=</span>&nbsp;<span class="ident" id="7510839">tt</span><span class="op" id="7510841">.</span><span class="ident" id="7510842">port</span>&nbsp;<span class="op" id="7510847">||</span>&nbsp;<span class="op" id="7510850">(</span><span class="ident" id="7510851">err</span>&nbsp;<span class="op" id="7510855">==</span>&nbsp;<span class="ident" id="7510858">nil</span><span class="op" id="7510861">)</span>&nbsp;<span class="op" id="7510863">!=</span>&nbsp;<span class="ident" id="7510866">tt</span><span class="op" id="7510868">.</span><span class="ident" id="7510869">ok</span>&nbsp;<span class="op" id="7510872">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510877">t</span><span class="op" id="7510878">.</span><span class="ident" id="7510879">Errorf</span><span class="op" id="7510885">(</span><span class="string" id="7510886">&#34;LookupPort(%q,&nbsp;%q)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7510924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510930">tt</span><span class="op" id="7510932">.</span><span class="ident" id="7510933">netw</span><span class="op" id="7510937">,</span>&nbsp;<span class="ident" id="7510939">tt</span><span class="op" id="7510941">.</span><span class="ident" id="7510942">name</span><span class="op" id="7510946">,</span>&nbsp;<span class="ident" id="7510948">port</span><span class="op" id="7510952">,</span>&nbsp;<span class="ident" id="7510954">err</span><span class="op" id="7510957">,</span>&nbsp;<span class="ident" id="7510959">tt</span><span class="op" id="7510961">.</span><span class="ident" id="7510962">port</span><span class="op" id="7510966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510973">}</span><br>
<span class="lineno"></span><span class="op" id="7510975">}</span>
</div>
</body>
</html>
