<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5265236">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5265291">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5265345">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5265396">//&nbsp;Package&nbsp;color&nbsp;implements&nbsp;a&nbsp;basic&nbsp;color&nbsp;library.</span><br>
<span class="lineno"></span><span class="keyword" id="5265447">package</span>&nbsp;<span class="ident" id="5265455">color</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5265462">//&nbsp;Color&nbsp;can&nbsp;convert&nbsp;itself&nbsp;to&nbsp;alpha-premultiplied&nbsp;16-bits&nbsp;per&nbsp;channel&nbsp;RGBA.</span><br>
<span class="lineno"></span><span class="comment" id="5265539">//&nbsp;The&nbsp;conversion&nbsp;may&nbsp;be&nbsp;lossy.</span><br>
<span class="lineno">10</span><span class="keyword" id="5265571">type</span>&nbsp;<span class="ident" id="5265576">Color</span>&nbsp;<span class="keyword" id="5265582">interface</span>&nbsp;<span class="op" id="5265592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5265595">//&nbsp;RGBA&nbsp;returns&nbsp;the&nbsp;alpha-premultiplied&nbsp;red,&nbsp;green,&nbsp;blue&nbsp;and&nbsp;alpha&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5265670">//&nbsp;for&nbsp;the&nbsp;color.&nbsp;Each&nbsp;value&nbsp;ranges&nbsp;within&nbsp;[0,&nbsp;0xFFFF],&nbsp;but&nbsp;is&nbsp;represented</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5265746">//&nbsp;by&nbsp;a&nbsp;uint32&nbsp;so&nbsp;that&nbsp;multiplying&nbsp;by&nbsp;a&nbsp;blend&nbsp;factor&nbsp;up&nbsp;to&nbsp;0xFFFF&nbsp;will&nbsp;not</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5265822">//&nbsp;overflow.</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5265836">RGBA</span><span class="op" id="5265840">(</span><span class="op" id="5265841">)</span>&nbsp;<span class="op" id="5265843">(</span><span class="ident" id="5265844">r</span><span class="op" id="5265845">,</span>&nbsp;<span class="ident" id="5265847">g</span><span class="op" id="5265848">,</span>&nbsp;<span class="ident" id="5265850">b</span><span class="op" id="5265851">,</span>&nbsp;<span class="ident" id="5265853">a</span>&nbsp;<span class="builtintype" id="5265855">uint32</span><span class="op" id="5265861">)</span><br>
<span class="lineno"></span><span class="op" id="5265863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5265866">//&nbsp;RGBA&nbsp;represents&nbsp;a&nbsp;traditional&nbsp;32-bit&nbsp;alpha-premultiplied&nbsp;color,</span><br>
<span class="lineno"></span><span class="comment" id="5265933">//&nbsp;having&nbsp;8&nbsp;bits&nbsp;for&nbsp;each&nbsp;of&nbsp;red,&nbsp;green,&nbsp;blue&nbsp;and&nbsp;alpha.</span><br>
<span class="lineno">20</span><span class="keyword" id="5265990">type</span>&nbsp;<span class="ident" id="5265995">RGBA</span>&nbsp;<span class="keyword" id="5266000">struct</span>&nbsp;<span class="op" id="5266007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266010">R</span><span class="op" id="5266011">,</span>&nbsp;<span class="ident" id="5266013">G</span><span class="op" id="5266014">,</span>&nbsp;<span class="ident" id="5266016">B</span><span class="op" id="5266017">,</span>&nbsp;<span class="ident" id="5266019">A</span>&nbsp;<span class="builtintype" id="5266021">uint8</span><br>
<span class="lineno"></span><span class="op" id="5266027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5266030">func</span>&nbsp;<span class="op" id="5266035">(</span><span class="ident" id="5266036">c</span>&nbsp;<span class="ident" id="5266038"><a href="/image/color/color.go.html#5265995">RGBA</a></span><span class="op" id="5266042">)</span>&nbsp;<span class="ident" id="5266044">RGBA</span><span class="op" id="5266048">(</span><span class="op" id="5266049">)</span>&nbsp;<span class="op" id="5266051">(</span><span class="ident" id="5266052">r</span><span class="op" id="5266053">,</span>&nbsp;<span class="ident" id="5266055">g</span><span class="op" id="5266056">,</span>&nbsp;<span class="ident" id="5266058">b</span><span class="op" id="5266059">,</span>&nbsp;<span class="ident" id="5266061">a</span>&nbsp;<span class="builtintype" id="5266063">uint32</span><span class="op" id="5266069">)</span>&nbsp;<span class="op" id="5266071">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266074"><a href="/image/color/color.go.html#5266052">r</a></span>&nbsp;<span class="op" id="5266076">=</span>&nbsp;<span class="builtintype" id="5266078">uint32</span><span class="op" id="5266084">(</span><span class="ident" id="5266085"><a href="/image/color/color.go.html#5266036">c</a></span><span class="op" id="5266086">.</span><span class="ident" id="5266087">R</span><span class="op" id="5266088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266091"><a href="/image/color/color.go.html#5266052">r</a></span>&nbsp;<span class="op" id="5266093">|=</span>&nbsp;<span class="ident" id="5266096"><a href="/image/color/color.go.html#5266052">r</a></span>&nbsp;<span class="op" id="5266098">&lt;&lt;</span>&nbsp;<span class="num" id="5266101">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266104"><a href="/image/color/color.go.html#5266055">g</a></span>&nbsp;<span class="op" id="5266106">=</span>&nbsp;<span class="builtintype" id="5266108">uint32</span><span class="op" id="5266114">(</span><span class="ident" id="5266115"><a href="/image/color/color.go.html#5266036">c</a></span><span class="op" id="5266116">.</span><span class="ident" id="5266117">G</span><span class="op" id="5266118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266121"><a href="/image/color/color.go.html#5266055">g</a></span>&nbsp;<span class="op" id="5266123">|=</span>&nbsp;<span class="ident" id="5266126"><a href="/image/color/color.go.html#5266055">g</a></span>&nbsp;<span class="op" id="5266128">&lt;&lt;</span>&nbsp;<span class="num" id="5266131">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266134"><a href="/image/color/color.go.html#5266058">b</a></span>&nbsp;<span class="op" id="5266136">=</span>&nbsp;<span class="builtintype" id="5266138">uint32</span><span class="op" id="5266144">(</span><span class="ident" id="5266145"><a href="/image/color/color.go.html#5266036">c</a></span><span class="op" id="5266146">.</span><span class="ident" id="5266147">B</span><span class="op" id="5266148">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266151"><a href="/image/color/color.go.html#5266058">b</a></span>&nbsp;<span class="op" id="5266153">|=</span>&nbsp;<span class="ident" id="5266156"><a href="/image/color/color.go.html#5266058">b</a></span>&nbsp;<span class="op" id="5266158">&lt;&lt;</span>&nbsp;<span class="num" id="5266161">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266164"><a href="/image/color/color.go.html#5266061">a</a></span>&nbsp;<span class="op" id="5266166">=</span>&nbsp;<span class="builtintype" id="5266168">uint32</span><span class="op" id="5266174">(</span><span class="ident" id="5266175"><a href="/image/color/color.go.html#5266036">c</a></span><span class="op" id="5266176">.</span><span class="ident" id="5266177">A</span><span class="op" id="5266178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266181"><a href="/image/color/color.go.html#5266061">a</a></span>&nbsp;<span class="op" id="5266183">|=</span>&nbsp;<span class="ident" id="5266186"><a href="/image/color/color.go.html#5266061">a</a></span>&nbsp;<span class="op" id="5266188">&lt;&lt;</span>&nbsp;<span class="num" id="5266191">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5266194">return</span><br>
<span class="lineno"></span><span class="op" id="5266201">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="5266204">//&nbsp;RGBA64&nbsp;represents&nbsp;a&nbsp;64-bit&nbsp;alpha-premultiplied&nbsp;color,</span><br>
<span class="lineno"></span><span class="comment" id="5266261">//&nbsp;having&nbsp;16&nbsp;bits&nbsp;for&nbsp;each&nbsp;of&nbsp;red,&nbsp;green,&nbsp;blue&nbsp;and&nbsp;alpha.</span><br>
<span class="lineno"></span><span class="keyword" id="5266319">type</span>&nbsp;<span class="ident" id="5266324">RGBA64</span>&nbsp;<span class="keyword" id="5266331">struct</span>&nbsp;<span class="op" id="5266338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266341">R</span><span class="op" id="5266342">,</span>&nbsp;<span class="ident" id="5266344">G</span><span class="op" id="5266345">,</span>&nbsp;<span class="ident" id="5266347">B</span><span class="op" id="5266348">,</span>&nbsp;<span class="ident" id="5266350">A</span>&nbsp;<span class="builtintype" id="5266352">uint16</span><br>
<span class="lineno">40</span><span class="op" id="5266359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5266362">func</span>&nbsp;<span class="op" id="5266367">(</span><span class="ident" id="5266368">c</span>&nbsp;<span class="ident" id="5266370"><a href="/image/color/color.go.html#5266324">RGBA64</a></span><span class="op" id="5266376">)</span>&nbsp;<span class="ident" id="5266378">RGBA</span><span class="op" id="5266382">(</span><span class="op" id="5266383">)</span>&nbsp;<span class="op" id="5266385">(</span><span class="ident" id="5266386">r</span><span class="op" id="5266387">,</span>&nbsp;<span class="ident" id="5266389">g</span><span class="op" id="5266390">,</span>&nbsp;<span class="ident" id="5266392">b</span><span class="op" id="5266393">,</span>&nbsp;<span class="ident" id="5266395">a</span>&nbsp;<span class="builtintype" id="5266397">uint32</span><span class="op" id="5266403">)</span>&nbsp;<span class="op" id="5266405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5266408">return</span>&nbsp;<span class="builtintype" id="5266415">uint32</span><span class="op" id="5266421">(</span><span class="ident" id="5266422"><a href="/image/color/color.go.html#5266368">c</a></span><span class="op" id="5266423">.</span><span class="ident" id="5266424">R</span><span class="op" id="5266425">)</span><span class="op" id="5266426">,</span>&nbsp;<span class="builtintype" id="5266428">uint32</span><span class="op" id="5266434">(</span><span class="ident" id="5266435"><a href="/image/color/color.go.html#5266368">c</a></span><span class="op" id="5266436">.</span><span class="ident" id="5266437">G</span><span class="op" id="5266438">)</span><span class="op" id="5266439">,</span>&nbsp;<span class="builtintype" id="5266441">uint32</span><span class="op" id="5266447">(</span><span class="ident" id="5266448"><a href="/image/color/color.go.html#5266368">c</a></span><span class="op" id="5266449">.</span><span class="ident" id="5266450">B</span><span class="op" id="5266451">)</span><span class="op" id="5266452">,</span>&nbsp;<span class="builtintype" id="5266454">uint32</span><span class="op" id="5266460">(</span><span class="ident" id="5266461"><a href="/image/color/color.go.html#5266368">c</a></span><span class="op" id="5266462">.</span><span class="ident" id="5266463">A</span><span class="op" id="5266464">)</span><br>
<span class="lineno"></span><span class="op" id="5266466">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="5266469">//&nbsp;NRGBA&nbsp;represents&nbsp;a&nbsp;non-alpha-premultiplied&nbsp;32-bit&nbsp;color.</span><br>
<span class="lineno"></span><span class="keyword" id="5266529">type</span>&nbsp;<span class="ident" id="5266534">NRGBA</span>&nbsp;<span class="keyword" id="5266540">struct</span>&nbsp;<span class="op" id="5266547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266550">R</span><span class="op" id="5266551">,</span>&nbsp;<span class="ident" id="5266553">G</span><span class="op" id="5266554">,</span>&nbsp;<span class="ident" id="5266556">B</span><span class="op" id="5266557">,</span>&nbsp;<span class="ident" id="5266559">A</span>&nbsp;<span class="builtintype" id="5266561">uint8</span><br>
<span class="lineno"></span><span class="op" id="5266567">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="5266570">func</span>&nbsp;<span class="op" id="5266575">(</span><span class="ident" id="5266576">c</span>&nbsp;<span class="ident" id="5266578"><a href="/image/color/color.go.html#5266534">NRGBA</a></span><span class="op" id="5266583">)</span>&nbsp;<span class="ident" id="5266585">RGBA</span><span class="op" id="5266589">(</span><span class="op" id="5266590">)</span>&nbsp;<span class="op" id="5266592">(</span><span class="ident" id="5266593">r</span><span class="op" id="5266594">,</span>&nbsp;<span class="ident" id="5266596">g</span><span class="op" id="5266597">,</span>&nbsp;<span class="ident" id="5266599">b</span><span class="op" id="5266600">,</span>&nbsp;<span class="ident" id="5266602">a</span>&nbsp;<span class="builtintype" id="5266604">uint32</span><span class="op" id="5266610">)</span>&nbsp;<span class="op" id="5266612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266615"><a href="/image/color/color.go.html#5266593">r</a></span>&nbsp;<span class="op" id="5266617">=</span>&nbsp;<span class="builtintype" id="5266619">uint32</span><span class="op" id="5266625">(</span><span class="ident" id="5266626"><a href="/image/color/color.go.html#5266576">c</a></span><span class="op" id="5266627">.</span><span class="ident" id="5266628">R</span><span class="op" id="5266629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266632"><a href="/image/color/color.go.html#5266593">r</a></span>&nbsp;<span class="op" id="5266634">|=</span>&nbsp;<span class="ident" id="5266637"><a href="/image/color/color.go.html#5266593">r</a></span>&nbsp;<span class="op" id="5266639">&lt;&lt;</span>&nbsp;<span class="num" id="5266642">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266645"><a href="/image/color/color.go.html#5266593">r</a></span>&nbsp;<span class="op" id="5266647">*=</span>&nbsp;<span class="builtintype" id="5266650">uint32</span><span class="op" id="5266656">(</span><span class="ident" id="5266657"><a href="/image/color/color.go.html#5266576">c</a></span><span class="op" id="5266658">.</span><span class="ident" id="5266659">A</span><span class="op" id="5266660">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266663"><a href="/image/color/color.go.html#5266593">r</a></span>&nbsp;<span class="op" id="5266665">/=</span>&nbsp;<span class="num" id="5266668">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266674"><a href="/image/color/color.go.html#5266596">g</a></span>&nbsp;<span class="op" id="5266676">=</span>&nbsp;<span class="builtintype" id="5266678">uint32</span><span class="op" id="5266684">(</span><span class="ident" id="5266685"><a href="/image/color/color.go.html#5266576">c</a></span><span class="op" id="5266686">.</span><span class="ident" id="5266687">G</span><span class="op" id="5266688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266691"><a href="/image/color/color.go.html#5266596">g</a></span>&nbsp;<span class="op" id="5266693">|=</span>&nbsp;<span class="ident" id="5266696"><a href="/image/color/color.go.html#5266596">g</a></span>&nbsp;<span class="op" id="5266698">&lt;&lt;</span>&nbsp;<span class="num" id="5266701">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266704"><a href="/image/color/color.go.html#5266596">g</a></span>&nbsp;<span class="op" id="5266706">*=</span>&nbsp;<span class="builtintype" id="5266709">uint32</span><span class="op" id="5266715">(</span><span class="ident" id="5266716"><a href="/image/color/color.go.html#5266576">c</a></span><span class="op" id="5266717">.</span><span class="ident" id="5266718">A</span><span class="op" id="5266719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266722"><a href="/image/color/color.go.html#5266596">g</a></span>&nbsp;<span class="op" id="5266724">/=</span>&nbsp;<span class="num" id="5266727">0xff</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266733"><a href="/image/color/color.go.html#5266599">b</a></span>&nbsp;<span class="op" id="5266735">=</span>&nbsp;<span class="builtintype" id="5266737">uint32</span><span class="op" id="5266743">(</span><span class="ident" id="5266744"><a href="/image/color/color.go.html#5266576">c</a></span><span class="op" id="5266745">.</span><span class="ident" id="5266746">B</span><span class="op" id="5266747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266750"><a href="/image/color/color.go.html#5266599">b</a></span>&nbsp;<span class="op" id="5266752">|=</span>&nbsp;<span class="ident" id="5266755"><a href="/image/color/color.go.html#5266599">b</a></span>&nbsp;<span class="op" id="5266757">&lt;&lt;</span>&nbsp;<span class="num" id="5266760">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266763"><a href="/image/color/color.go.html#5266599">b</a></span>&nbsp;<span class="op" id="5266765">*=</span>&nbsp;<span class="builtintype" id="5266768">uint32</span><span class="op" id="5266774">(</span><span class="ident" id="5266775"><a href="/image/color/color.go.html#5266576">c</a></span><span class="op" id="5266776">.</span><span class="ident" id="5266777">A</span><span class="op" id="5266778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266781"><a href="/image/color/color.go.html#5266599">b</a></span>&nbsp;<span class="op" id="5266783">/=</span>&nbsp;<span class="num" id="5266786">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266792"><a href="/image/color/color.go.html#5266602">a</a></span>&nbsp;<span class="op" id="5266794">=</span>&nbsp;<span class="builtintype" id="5266796">uint32</span><span class="op" id="5266802">(</span><span class="ident" id="5266803"><a href="/image/color/color.go.html#5266576">c</a></span><span class="op" id="5266804">.</span><span class="ident" id="5266805">A</span><span class="op" id="5266806">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266809"><a href="/image/color/color.go.html#5266602">a</a></span>&nbsp;<span class="op" id="5266811">|=</span>&nbsp;<span class="ident" id="5266814"><a href="/image/color/color.go.html#5266602">a</a></span>&nbsp;<span class="op" id="5266816">&lt;&lt;</span>&nbsp;<span class="num" id="5266819">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5266822">return</span><br>
<span class="lineno"></span><span class="op" id="5266829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5266832">//&nbsp;NRGBA64&nbsp;represents&nbsp;a&nbsp;non-alpha-premultiplied&nbsp;64-bit&nbsp;color,</span><br>
<span class="lineno">70</span><span class="comment" id="5266894">//&nbsp;having&nbsp;16&nbsp;bits&nbsp;for&nbsp;each&nbsp;of&nbsp;red,&nbsp;green,&nbsp;blue&nbsp;and&nbsp;alpha.</span><br>
<span class="lineno"></span><span class="keyword" id="5266952">type</span>&nbsp;<span class="ident" id="5266957">NRGBA64</span>&nbsp;<span class="keyword" id="5266965">struct</span>&nbsp;<span class="op" id="5266972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5266975">R</span><span class="op" id="5266976">,</span>&nbsp;<span class="ident" id="5266978">G</span><span class="op" id="5266979">,</span>&nbsp;<span class="ident" id="5266981">B</span><span class="op" id="5266982">,</span>&nbsp;<span class="ident" id="5266984">A</span>&nbsp;<span class="builtintype" id="5266986">uint16</span><br>
<span class="lineno"></span><span class="op" id="5266993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="5266996">func</span>&nbsp;<span class="op" id="5267001">(</span><span class="ident" id="5267002">c</span>&nbsp;<span class="ident" id="5267004"><a href="/image/color/color.go.html#5266957">NRGBA64</a></span><span class="op" id="5267011">)</span>&nbsp;<span class="ident" id="5267013">RGBA</span><span class="op" id="5267017">(</span><span class="op" id="5267018">)</span>&nbsp;<span class="op" id="5267020">(</span><span class="ident" id="5267021">r</span><span class="op" id="5267022">,</span>&nbsp;<span class="ident" id="5267024">g</span><span class="op" id="5267025">,</span>&nbsp;<span class="ident" id="5267027">b</span><span class="op" id="5267028">,</span>&nbsp;<span class="ident" id="5267030">a</span>&nbsp;<span class="builtintype" id="5267032">uint32</span><span class="op" id="5267038">)</span>&nbsp;<span class="op" id="5267040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267043"><a href="/image/color/color.go.html#5267021">r</a></span>&nbsp;<span class="op" id="5267045">=</span>&nbsp;<span class="builtintype" id="5267047">uint32</span><span class="op" id="5267053">(</span><span class="ident" id="5267054"><a href="/image/color/color.go.html#5267002">c</a></span><span class="op" id="5267055">.</span><span class="ident" id="5267056">R</span><span class="op" id="5267057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267060"><a href="/image/color/color.go.html#5267021">r</a></span>&nbsp;<span class="op" id="5267062">*=</span>&nbsp;<span class="builtintype" id="5267065">uint32</span><span class="op" id="5267071">(</span><span class="ident" id="5267072"><a href="/image/color/color.go.html#5267002">c</a></span><span class="op" id="5267073">.</span><span class="ident" id="5267074">A</span><span class="op" id="5267075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267078"><a href="/image/color/color.go.html#5267021">r</a></span>&nbsp;<span class="op" id="5267080">/=</span>&nbsp;<span class="num" id="5267083">0xffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267091"><a href="/image/color/color.go.html#5267024">g</a></span>&nbsp;<span class="op" id="5267093">=</span>&nbsp;<span class="builtintype" id="5267095">uint32</span><span class="op" id="5267101">(</span><span class="ident" id="5267102"><a href="/image/color/color.go.html#5267002">c</a></span><span class="op" id="5267103">.</span><span class="ident" id="5267104">G</span><span class="op" id="5267105">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267108"><a href="/image/color/color.go.html#5267024">g</a></span>&nbsp;<span class="op" id="5267110">*=</span>&nbsp;<span class="builtintype" id="5267113">uint32</span><span class="op" id="5267119">(</span><span class="ident" id="5267120"><a href="/image/color/color.go.html#5267002">c</a></span><span class="op" id="5267121">.</span><span class="ident" id="5267122">A</span><span class="op" id="5267123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267126"><a href="/image/color/color.go.html#5267024">g</a></span>&nbsp;<span class="op" id="5267128">/=</span>&nbsp;<span class="num" id="5267131">0xffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267139"><a href="/image/color/color.go.html#5267027">b</a></span>&nbsp;<span class="op" id="5267141">=</span>&nbsp;<span class="builtintype" id="5267143">uint32</span><span class="op" id="5267149">(</span><span class="ident" id="5267150"><a href="/image/color/color.go.html#5267002">c</a></span><span class="op" id="5267151">.</span><span class="ident" id="5267152">B</span><span class="op" id="5267153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267156"><a href="/image/color/color.go.html#5267027">b</a></span>&nbsp;<span class="op" id="5267158">*=</span>&nbsp;<span class="builtintype" id="5267161">uint32</span><span class="op" id="5267167">(</span><span class="ident" id="5267168"><a href="/image/color/color.go.html#5267002">c</a></span><span class="op" id="5267169">.</span><span class="ident" id="5267170">A</span><span class="op" id="5267171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267174"><a href="/image/color/color.go.html#5267027">b</a></span>&nbsp;<span class="op" id="5267176">/=</span>&nbsp;<span class="num" id="5267179">0xffff</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267187"><a href="/image/color/color.go.html#5267030">a</a></span>&nbsp;<span class="op" id="5267189">=</span>&nbsp;<span class="builtintype" id="5267191">uint32</span><span class="op" id="5267197">(</span><span class="ident" id="5267198"><a href="/image/color/color.go.html#5267002">c</a></span><span class="op" id="5267199">.</span><span class="ident" id="5267200">A</span><span class="op" id="5267201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5267204">return</span><br>
<span class="lineno"></span><span class="op" id="5267211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5267214">//&nbsp;Alpha&nbsp;represents&nbsp;an&nbsp;8-bit&nbsp;alpha&nbsp;color.</span><br>
<span class="lineno">90</span><span class="keyword" id="5267256">type</span>&nbsp;<span class="ident" id="5267261">Alpha</span>&nbsp;<span class="keyword" id="5267267">struct</span>&nbsp;<span class="op" id="5267274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267277">A</span>&nbsp;<span class="builtintype" id="5267279">uint8</span><br>
<span class="lineno"></span><span class="op" id="5267285">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5267288">func</span>&nbsp;<span class="op" id="5267293">(</span><span class="ident" id="5267294">c</span>&nbsp;<span class="ident" id="5267296"><a href="/image/color/color.go.html#5267261">Alpha</a></span><span class="op" id="5267301">)</span>&nbsp;<span class="ident" id="5267303">RGBA</span><span class="op" id="5267307">(</span><span class="op" id="5267308">)</span>&nbsp;<span class="op" id="5267310">(</span><span class="ident" id="5267311">r</span><span class="op" id="5267312">,</span>&nbsp;<span class="ident" id="5267314">g</span><span class="op" id="5267315">,</span>&nbsp;<span class="ident" id="5267317">b</span><span class="op" id="5267318">,</span>&nbsp;<span class="ident" id="5267320">a</span>&nbsp;<span class="builtintype" id="5267322">uint32</span><span class="op" id="5267328">)</span>&nbsp;<span class="op" id="5267330">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267333"><a href="/image/color/color.go.html#5267320">a</a></span>&nbsp;<span class="op" id="5267335">=</span>&nbsp;<span class="builtintype" id="5267337">uint32</span><span class="op" id="5267343">(</span><span class="ident" id="5267344"><a href="/image/color/color.go.html#5267294">c</a></span><span class="op" id="5267345">.</span><span class="ident" id="5267346">A</span><span class="op" id="5267347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267350"><a href="/image/color/color.go.html#5267320">a</a></span>&nbsp;<span class="op" id="5267352">|=</span>&nbsp;<span class="ident" id="5267355"><a href="/image/color/color.go.html#5267320">a</a></span>&nbsp;<span class="op" id="5267357">&lt;&lt;</span>&nbsp;<span class="num" id="5267360">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5267363">return</span>&nbsp;<span class="ident" id="5267370"><a href="/image/color/color.go.html#5267320">a</a></span><span class="op" id="5267371">,</span>&nbsp;<span class="ident" id="5267373"><a href="/image/color/color.go.html#5267320">a</a></span><span class="op" id="5267374">,</span>&nbsp;<span class="ident" id="5267376"><a href="/image/color/color.go.html#5267320">a</a></span><span class="op" id="5267377">,</span>&nbsp;<span class="ident" id="5267379"><a href="/image/color/color.go.html#5267320">a</a></span><br>
<span class="lineno"></span><span class="op" id="5267381">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="comment" id="5267384">//&nbsp;Alpha16&nbsp;represents&nbsp;a&nbsp;16-bit&nbsp;alpha&nbsp;color.</span><br>
<span class="lineno"></span><span class="keyword" id="5267428">type</span>&nbsp;<span class="ident" id="5267433">Alpha16</span>&nbsp;<span class="keyword" id="5267441">struct</span>&nbsp;<span class="op" id="5267448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267451">A</span>&nbsp;<span class="builtintype" id="5267453">uint16</span><br>
<span class="lineno"></span><span class="op" id="5267460">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="5267463">func</span>&nbsp;<span class="op" id="5267468">(</span><span class="ident" id="5267469">c</span>&nbsp;<span class="ident" id="5267471"><a href="/image/color/color.go.html#5267433">Alpha16</a></span><span class="op" id="5267478">)</span>&nbsp;<span class="ident" id="5267480">RGBA</span><span class="op" id="5267484">(</span><span class="op" id="5267485">)</span>&nbsp;<span class="op" id="5267487">(</span><span class="ident" id="5267488">r</span><span class="op" id="5267489">,</span>&nbsp;<span class="ident" id="5267491">g</span><span class="op" id="5267492">,</span>&nbsp;<span class="ident" id="5267494">b</span><span class="op" id="5267495">,</span>&nbsp;<span class="ident" id="5267497">a</span>&nbsp;<span class="builtintype" id="5267499">uint32</span><span class="op" id="5267505">)</span>&nbsp;<span class="op" id="5267507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267510"><a href="/image/color/color.go.html#5267497">a</a></span>&nbsp;<span class="op" id="5267512">=</span>&nbsp;<span class="builtintype" id="5267514">uint32</span><span class="op" id="5267520">(</span><span class="ident" id="5267521"><a href="/image/color/color.go.html#5267469">c</a></span><span class="op" id="5267522">.</span><span class="ident" id="5267523">A</span><span class="op" id="5267524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5267527">return</span>&nbsp;<span class="ident" id="5267534"><a href="/image/color/color.go.html#5267497">a</a></span><span class="op" id="5267535">,</span>&nbsp;<span class="ident" id="5267537"><a href="/image/color/color.go.html#5267497">a</a></span><span class="op" id="5267538">,</span>&nbsp;<span class="ident" id="5267540"><a href="/image/color/color.go.html#5267497">a</a></span><span class="op" id="5267541">,</span>&nbsp;<span class="ident" id="5267543"><a href="/image/color/color.go.html#5267497">a</a></span><br>
<span class="lineno"></span><span class="op" id="5267545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="5267548">//&nbsp;Gray&nbsp;represents&nbsp;an&nbsp;8-bit&nbsp;grayscale&nbsp;color.</span><br>
<span class="lineno"></span><span class="keyword" id="5267593">type</span>&nbsp;<span class="ident" id="5267598">Gray</span>&nbsp;<span class="keyword" id="5267603">struct</span>&nbsp;<span class="op" id="5267610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267613">Y</span>&nbsp;<span class="builtintype" id="5267615">uint8</span><br>
<span class="lineno"></span><span class="op" id="5267621">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="keyword" id="5267624">func</span>&nbsp;<span class="op" id="5267629">(</span><span class="ident" id="5267630">c</span>&nbsp;<span class="ident" id="5267632"><a href="/image/color/color.go.html#5267598">Gray</a></span><span class="op" id="5267636">)</span>&nbsp;<span class="ident" id="5267638">RGBA</span><span class="op" id="5267642">(</span><span class="op" id="5267643">)</span>&nbsp;<span class="op" id="5267645">(</span><span class="ident" id="5267646">r</span><span class="op" id="5267647">,</span>&nbsp;<span class="ident" id="5267649">g</span><span class="op" id="5267650">,</span>&nbsp;<span class="ident" id="5267652">b</span><span class="op" id="5267653">,</span>&nbsp;<span class="ident" id="5267655">a</span>&nbsp;<span class="builtintype" id="5267657">uint32</span><span class="op" id="5267663">)</span>&nbsp;<span class="op" id="5267665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267668">y</span>&nbsp;<span class="op" id="5267670">:=</span>&nbsp;<span class="builtintype" id="5267673">uint32</span><span class="op" id="5267679">(</span><span class="ident" id="5267680"><a href="/image/color/color.go.html#5267630">c</a></span><span class="op" id="5267681">.</span><span class="ident" id="5267682">Y</span><span class="op" id="5267683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267686"><a href="/image/color/color.go.html#5267668">y</a></span>&nbsp;<span class="op" id="5267688">|=</span>&nbsp;<span class="ident" id="5267691"><a href="/image/color/color.go.html#5267668">y</a></span>&nbsp;<span class="op" id="5267693">&lt;&lt;</span>&nbsp;<span class="num" id="5267696">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5267699">return</span>&nbsp;<span class="ident" id="5267706"><a href="/image/color/color.go.html#5267668">y</a></span><span class="op" id="5267707">,</span>&nbsp;<span class="ident" id="5267709"><a href="/image/color/color.go.html#5267668">y</a></span><span class="op" id="5267710">,</span>&nbsp;<span class="ident" id="5267712"><a href="/image/color/color.go.html#5267668">y</a></span><span class="op" id="5267713">,</span>&nbsp;<span class="num" id="5267715">0xffff</span><br>
<span class="lineno"></span><span class="op" id="5267722">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="5267725">//&nbsp;Gray16&nbsp;represents&nbsp;a&nbsp;16-bit&nbsp;grayscale&nbsp;color.</span><br>
<span class="lineno"></span><span class="keyword" id="5267772">type</span>&nbsp;<span class="ident" id="5267777">Gray16</span>&nbsp;<span class="keyword" id="5267784">struct</span>&nbsp;<span class="op" id="5267791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267794">Y</span>&nbsp;<span class="builtintype" id="5267796">uint16</span><br>
<span class="lineno"></span><span class="op" id="5267803">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="5267806">func</span>&nbsp;<span class="op" id="5267811">(</span><span class="ident" id="5267812">c</span>&nbsp;<span class="ident" id="5267814"><a href="/image/color/color.go.html#5267777">Gray16</a></span><span class="op" id="5267820">)</span>&nbsp;<span class="ident" id="5267822">RGBA</span><span class="op" id="5267826">(</span><span class="op" id="5267827">)</span>&nbsp;<span class="op" id="5267829">(</span><span class="ident" id="5267830">r</span><span class="op" id="5267831">,</span>&nbsp;<span class="ident" id="5267833">g</span><span class="op" id="5267834">,</span>&nbsp;<span class="ident" id="5267836">b</span><span class="op" id="5267837">,</span>&nbsp;<span class="ident" id="5267839">a</span>&nbsp;<span class="builtintype" id="5267841">uint32</span><span class="op" id="5267847">)</span>&nbsp;<span class="op" id="5267849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5267852">y</span>&nbsp;<span class="op" id="5267854">:=</span>&nbsp;<span class="builtintype" id="5267857">uint32</span><span class="op" id="5267863">(</span><span class="ident" id="5267864"><a href="/image/color/color.go.html#5267812">c</a></span><span class="op" id="5267865">.</span><span class="ident" id="5267866">Y</span><span class="op" id="5267867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5267870">return</span>&nbsp;<span class="ident" id="5267877"><a href="/image/color/color.go.html#5267852">y</a></span><span class="op" id="5267878">,</span>&nbsp;<span class="ident" id="5267880"><a href="/image/color/color.go.html#5267852">y</a></span><span class="op" id="5267881">,</span>&nbsp;<span class="ident" id="5267883"><a href="/image/color/color.go.html#5267852">y</a></span><span class="op" id="5267884">,</span>&nbsp;<span class="num" id="5267886">0xffff</span><br>
<span class="lineno"></span><span class="op" id="5267893">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="5267896">//&nbsp;Model&nbsp;can&nbsp;convert&nbsp;any&nbsp;Color&nbsp;to&nbsp;one&nbsp;from&nbsp;its&nbsp;own&nbsp;color&nbsp;model.&nbsp;The&nbsp;conversion</span><br>
<span class="lineno"></span><span class="comment" id="5267975">//&nbsp;may&nbsp;be&nbsp;lossy.</span><br>
<span class="lineno"></span><span class="keyword" id="5267992">type</span>&nbsp;<span class="ident" id="5267997">Model</span>&nbsp;<span class="keyword" id="5268003">interface</span>&nbsp;<span class="op" id="5268013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5268016">Convert</span><span class="op" id="5268023">(</span><span class="ident" id="5268024">c</span>&nbsp;<span class="ident" id="5268026"><a href="/image/color/color.go.html#5265576">Color</a></span><span class="op" id="5268031">)</span>&nbsp;<span class="ident" id="5268033"><a href="/image/color/color.go.html#5265576">Color</a></span><br>
<span class="lineno">135</span><span class="op" id="5268039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5268042">//&nbsp;ModelFunc&nbsp;returns&nbsp;a&nbsp;Model&nbsp;that&nbsp;invokes&nbsp;f&nbsp;to&nbsp;implement&nbsp;the&nbsp;conversion.</span><br>
<span class="lineno"></span><span class="keyword" id="5268115">func</span>&nbsp;<span class="ident" id="5268120">ModelFunc</span><span class="op" id="5268129">(</span><span class="ident" id="5268130">f</span>&nbsp;<span class="keyword" id="5268132">func</span><span class="op" id="5268136">(</span><span class="ident" id="5268137"><a href="/image/color/color.go.html#5265576">Color</a></span><span class="op" id="5268142">)</span>&nbsp;<span class="ident" id="5268144"><a href="/image/color/color.go.html#5265576">Color</a></span><span class="op" id="5268149">)</span>&nbsp;<span class="ident" id="5268151"><a href="/image/color/color.go.html#5267997">Model</a></span>&nbsp;<span class="op" id="5268157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5268160">//&nbsp;Note:&nbsp;using&nbsp;*modelFunc&nbsp;as&nbsp;the&nbsp;implementation</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5268209">//&nbsp;means&nbsp;that&nbsp;callers&nbsp;can&nbsp;still&nbsp;use&nbsp;comparisons</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5268258">//&nbsp;like&nbsp;m&nbsp;==&nbsp;RGBAModel.&nbsp;&nbsp;This&nbsp;is&nbsp;not&nbsp;possible&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5268308">//&nbsp;we&nbsp;use&nbsp;the&nbsp;func&nbsp;value&nbsp;directly,&nbsp;because&nbsp;funcs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5268358">//&nbsp;are&nbsp;no&nbsp;longer&nbsp;comparable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5268388">return</span>&nbsp;<span class="op" id="5268395">&amp;</span><span class="ident" id="5268396"><a href="/image/color/color.go.html#5268417">modelFunc</a></span><span class="op" id="5268405">{</span><span class="ident" id="5268406"><a href="/image/color/color.go.html#5268130">f</a></span><span class="op" id="5268407">}</span><br>
<span class="lineno">145</span><span class="op" id="5268409">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5268412">type</span>&nbsp;<span class="ident" id="5268417">modelFunc</span>&nbsp;<span class="keyword" id="5268427">struct</span>&nbsp;<span class="op" id="5268434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5268437">f</span>&nbsp;<span class="keyword" id="5268439">func</span><span class="op" id="5268443">(</span><span class="ident" id="5268444"><a href="/image/color/color.go.html#5265576">Color</a></span><span class="op" id="5268449">)</span>&nbsp;<span class="ident" id="5268451"><a href="/image/color/color.go.html#5265576">Color</a></span><br>
<span class="lineno"></span><span class="op" id="5268457">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="5268460">func</span>&nbsp;<span class="op" id="5268465">(</span><span class="ident" id="5268466">m</span>&nbsp;<span class="op" id="5268468">*</span><span class="ident" id="5268469"><a href="/image/color/color.go.html#5268417">modelFunc</a></span><span class="op" id="5268478">)</span>&nbsp;<span class="ident" id="5268480">Convert</span><span class="op" id="5268487">(</span><span class="ident" id="5268488">c</span>&nbsp;<span class="ident" id="5268490"><a href="/image/color/color.go.html#5265576">Color</a></span><span class="op" id="5268495">)</span>&nbsp;<span class="ident" id="5268497"><a href="/image/color/color.go.html#5265576">Color</a></span>&nbsp;<span class="op" id="5268503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5268506">return</span>&nbsp;<span class="ident" id="5268513"><a href="/image/color/color.go.html#5268466">m</a></span><span class="op" id="5268514">.</span><span class="ident" id="5268515">f</span><span class="op" id="5268516">(</span><span class="ident" id="5268517"><a href="/image/color/color.go.html#5268488">c</a></span><span class="op" id="5268518">)</span><br>
<span class="lineno"></span><span class="op" id="5268520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="comment" id="5268523">//&nbsp;Models&nbsp;for&nbsp;the&nbsp;standard&nbsp;color&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="5268563">var</span>&nbsp;<span class="op" id="5268567">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5268570">RGBAModel</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5268583"><a href="/image/color/color.go.html#5267997">Model</a></span>&nbsp;<span class="op" id="5268589">=</span>&nbsp;<span class="ident" id="5268591"><a href="/image/color/color.go.html#5268120">ModelFunc</a></span><span class="op" id="5268600">(</span><span class="ident" id="5268601"><a href="/image/color/color.go.html#5268933">rgbaModel</a></span><span class="op" id="5268610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5268613">RGBA64Model</span>&nbsp;&nbsp;<span class="ident" id="5268626"><a href="/image/color/color.go.html#5267997">Model</a></span>&nbsp;<span class="op" id="5268632">=</span>&nbsp;<span class="ident" id="5268634"><a href="/image/color/color.go.html#5268120">ModelFunc</a></span><span class="op" id="5268643">(</span><span class="ident" id="5268644"><a href="/image/color/color.go.html#5269107">rgba64Model</a></span><span class="op" id="5268655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5268658">NRGBAModel</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5268671"><a href="/image/color/color.go.html#5267997">Model</a></span>&nbsp;<span class="op" id="5268677">=</span>&nbsp;<span class="ident" id="5268679"><a href="/image/color/color.go.html#5268120">ModelFunc</a></span><span class="op" id="5268688">(</span><span class="ident" id="5268689"><a href="/image/color/color.go.html#5269271">nrgbaModel</a></span><span class="op" id="5268699">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5268702">NRGBA64Model</span>&nbsp;<span class="ident" id="5268715"><a href="/image/color/color.go.html#5267997">Model</a></span>&nbsp;<span class="op" id="5268721">=</span>&nbsp;<span class="ident" id="5268723"><a href="/image/color/color.go.html#5268120">ModelFunc</a></span><span class="op" id="5268732">(</span><span class="ident" id="5268733"><a href="/image/color/color.go.html#5269745">nrgba64Model</a></span><span class="op" id="5268745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5268748">AlphaModel</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5268761"><a href="/image/color/color.go.html#5267997">Model</a></span>&nbsp;<span class="op" id="5268767">=</span>&nbsp;<span class="ident" id="5268769"><a href="/image/color/color.go.html#5268120">ModelFunc</a></span><span class="op" id="5268778">(</span><span class="ident" id="5268779"><a href="/image/color/color.go.html#5270203">alphaModel</a></span><span class="op" id="5268789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5268792">Alpha16Model</span>&nbsp;<span class="ident" id="5268805"><a href="/image/color/color.go.html#5267997">Model</a></span>&nbsp;<span class="op" id="5268811">=</span>&nbsp;<span class="ident" id="5268813"><a href="/image/color/color.go.html#5268120">ModelFunc</a></span><span class="op" id="5268822">(</span><span class="ident" id="5268823"><a href="/image/color/color.go.html#5270335">alpha16Model</a></span><span class="op" id="5268835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5268838">GrayModel</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5268851"><a href="/image/color/color.go.html#5267997">Model</a></span>&nbsp;<span class="op" id="5268857">=</span>&nbsp;<span class="ident" id="5268859"><a href="/image/color/color.go.html#5268120">ModelFunc</a></span><span class="op" id="5268868">(</span><span class="ident" id="5268869"><a href="/image/color/color.go.html#5270469">grayModel</a></span><span class="op" id="5268878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5268881">Gray16Model</span>&nbsp;&nbsp;<span class="ident" id="5268894"><a href="/image/color/color.go.html#5267997">Model</a></span>&nbsp;<span class="op" id="5268900">=</span>&nbsp;<span class="ident" id="5268902"><a href="/image/color/color.go.html#5268120">ModelFunc</a></span><span class="op" id="5268911">(</span><span class="ident" id="5268912"><a href="/image/color/color.go.html#5270641">gray16Model</a></span><span class="op" id="5268923">)</span><br>
<span class="lineno">165</span><span class="op" id="5268925">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5268928">func</span>&nbsp;<span class="ident" id="5268933">rgbaModel</span><span class="op" id="5268942">(</span><span class="ident" id="5268943">c</span>&nbsp;<span class="ident" id="5268945"><a href="/image/color/color.go.html#5265576">Color</a></span><span class="op" id="5268950">)</span>&nbsp;<span class="ident" id="5268952"><a href="/image/color/color.go.html#5265576">Color</a></span>&nbsp;<span class="op" id="5268958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5268961">if</span>&nbsp;<span class="ident" id="5268964">_</span><span class="op" id="5268965">,</span>&nbsp;<span class="ident" id="5268967">ok</span>&nbsp;<span class="op" id="5268970">:=</span>&nbsp;<span class="ident" id="5268973"><a href="/image/color/color.go.html#5268943">c</a></span><span class="op" id="5268974">.</span><span class="op" id="5268975">(</span><span class="ident" id="5268976"><a href="/image/color/color.go.html#5265995">RGBA</a></span><span class="op" id="5268980">)</span><span class="op" id="5268981">;</span>&nbsp;<span class="ident" id="5268983"><a href="/image/color/color.go.html#5268967">ok</a></span>&nbsp;<span class="op" id="5268986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5268990">return</span>&nbsp;<span class="ident" id="5268997"><a href="/image/color/color.go.html#5268943">c</a></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5269000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5269003">r</span><span class="op" id="5269004">,</span>&nbsp;<span class="ident" id="5269006">g</span><span class="op" id="5269007">,</span>&nbsp;<span class="ident" id="5269009">b</span><span class="op" id="5269010">,</span>&nbsp;<span class="ident" id="5269012">a</span>&nbsp;<span class="op" id="5269014">:=</span>&nbsp;<span class="ident" id="5269017"><a href="/image/color/color.go.html#5268943">c</a></span><span class="op" id="5269018">.</span><span class="ident" id="5269019">RGBA</span><span class="op" id="5269023">(</span><span class="op" id="5269024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269027">return</span>&nbsp;<span class="ident" id="5269034"><a href="/image/color/color.go.html#5265995">RGBA</a></span><span class="op" id="5269038">{</span><span class="builtintype" id="5269039">uint8</span><span class="op" id="5269044">(</span><span class="ident" id="5269045"><a href="/image/color/color.go.html#5269003">r</a></span>&nbsp;<span class="op" id="5269047">&gt;&gt;</span>&nbsp;<span class="num" id="5269050">8</span><span class="op" id="5269051">)</span><span class="op" id="5269052">,</span>&nbsp;<span class="builtintype" id="5269054">uint8</span><span class="op" id="5269059">(</span><span class="ident" id="5269060"><a href="/image/color/color.go.html#5269006">g</a></span>&nbsp;<span class="op" id="5269062">&gt;&gt;</span>&nbsp;<span class="num" id="5269065">8</span><span class="op" id="5269066">)</span><span class="op" id="5269067">,</span>&nbsp;<span class="builtintype" id="5269069">uint8</span><span class="op" id="5269074">(</span><span class="ident" id="5269075"><a href="/image/color/color.go.html#5269009">b</a></span>&nbsp;<span class="op" id="5269077">&gt;&gt;</span>&nbsp;<span class="num" id="5269080">8</span><span class="op" id="5269081">)</span><span class="op" id="5269082">,</span>&nbsp;<span class="builtintype" id="5269084">uint8</span><span class="op" id="5269089">(</span><span class="ident" id="5269090"><a href="/image/color/color.go.html#5269012">a</a></span>&nbsp;<span class="op" id="5269092">&gt;&gt;</span>&nbsp;<span class="num" id="5269095">8</span><span class="op" id="5269096">)</span><span class="op" id="5269097">}</span><br>
<span class="lineno"></span><span class="op" id="5269099">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="keyword" id="5269102">func</span>&nbsp;<span class="ident" id="5269107">rgba64Model</span><span class="op" id="5269118">(</span><span class="ident" id="5269119">c</span>&nbsp;<span class="ident" id="5269121"><a href="/image/color/color.go.html#5265576">Color</a></span><span class="op" id="5269126">)</span>&nbsp;<span class="ident" id="5269128"><a href="/image/color/color.go.html#5265576">Color</a></span>&nbsp;<span class="op" id="5269134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269137">if</span>&nbsp;<span class="ident" id="5269140">_</span><span class="op" id="5269141">,</span>&nbsp;<span class="ident" id="5269143">ok</span>&nbsp;<span class="op" id="5269146">:=</span>&nbsp;<span class="ident" id="5269149"><a href="/image/color/color.go.html#5269119">c</a></span><span class="op" id="5269150">.</span><span class="op" id="5269151">(</span><span class="ident" id="5269152"><a href="/image/color/color.go.html#5266324">RGBA64</a></span><span class="op" id="5269158">)</span><span class="op" id="5269159">;</span>&nbsp;<span class="ident" id="5269161"><a href="/image/color/color.go.html#5269143">ok</a></span>&nbsp;<span class="op" id="5269164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269168">return</span>&nbsp;<span class="ident" id="5269175"><a href="/image/color/color.go.html#5269119">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5269178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5269181">r</span><span class="op" id="5269182">,</span>&nbsp;<span class="ident" id="5269184">g</span><span class="op" id="5269185">,</span>&nbsp;<span class="ident" id="5269187">b</span><span class="op" id="5269188">,</span>&nbsp;<span class="ident" id="5269190">a</span>&nbsp;<span class="op" id="5269192">:=</span>&nbsp;<span class="ident" id="5269195"><a href="/image/color/color.go.html#5269119">c</a></span><span class="op" id="5269196">.</span><span class="ident" id="5269197">RGBA</span><span class="op" id="5269201">(</span><span class="op" id="5269202">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269205">return</span>&nbsp;<span class="ident" id="5269212"><a href="/image/color/color.go.html#5266324">RGBA64</a></span><span class="op" id="5269218">{</span><span class="builtintype" id="5269219">uint16</span><span class="op" id="5269225">(</span><span class="ident" id="5269226"><a href="/image/color/color.go.html#5269181">r</a></span><span class="op" id="5269227">)</span><span class="op" id="5269228">,</span>&nbsp;<span class="builtintype" id="5269230">uint16</span><span class="op" id="5269236">(</span><span class="ident" id="5269237"><a href="/image/color/color.go.html#5269184">g</a></span><span class="op" id="5269238">)</span><span class="op" id="5269239">,</span>&nbsp;<span class="builtintype" id="5269241">uint16</span><span class="op" id="5269247">(</span><span class="ident" id="5269248"><a href="/image/color/color.go.html#5269187">b</a></span><span class="op" id="5269249">)</span><span class="op" id="5269250">,</span>&nbsp;<span class="builtintype" id="5269252">uint16</span><span class="op" id="5269258">(</span><span class="ident" id="5269259"><a href="/image/color/color.go.html#5269190">a</a></span><span class="op" id="5269260">)</span><span class="op" id="5269261">}</span><br>
<span class="lineno"></span><span class="op" id="5269263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5269266">func</span>&nbsp;<span class="ident" id="5269271">nrgbaModel</span><span class="op" id="5269281">(</span><span class="ident" id="5269282">c</span>&nbsp;<span class="ident" id="5269284"><a href="/image/color/color.go.html#5265576">Color</a></span><span class="op" id="5269289">)</span>&nbsp;<span class="ident" id="5269291"><a href="/image/color/color.go.html#5265576">Color</a></span>&nbsp;<span class="op" id="5269297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269300">if</span>&nbsp;<span class="ident" id="5269303">_</span><span class="op" id="5269304">,</span>&nbsp;<span class="ident" id="5269306">ok</span>&nbsp;<span class="op" id="5269309">:=</span>&nbsp;<span class="ident" id="5269312"><a href="/image/color/color.go.html#5269282">c</a></span><span class="op" id="5269313">.</span><span class="op" id="5269314">(</span><span class="ident" id="5269315"><a href="/image/color/color.go.html#5266534">NRGBA</a></span><span class="op" id="5269320">)</span><span class="op" id="5269321">;</span>&nbsp;<span class="ident" id="5269323"><a href="/image/color/color.go.html#5269306">ok</a></span>&nbsp;<span class="op" id="5269326">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269330">return</span>&nbsp;<span class="ident" id="5269337"><a href="/image/color/color.go.html#5269282">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5269340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5269343">r</span><span class="op" id="5269344">,</span>&nbsp;<span class="ident" id="5269346">g</span><span class="op" id="5269347">,</span>&nbsp;<span class="ident" id="5269349">b</span><span class="op" id="5269350">,</span>&nbsp;<span class="ident" id="5269352">a</span>&nbsp;<span class="op" id="5269354">:=</span>&nbsp;<span class="ident" id="5269357"><a href="/image/color/color.go.html#5269282">c</a></span><span class="op" id="5269358">.</span><span class="ident" id="5269359">RGBA</span><span class="op" id="5269363">(</span><span class="op" id="5269364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269367">if</span>&nbsp;<span class="ident" id="5269370"><a href="/image/color/color.go.html#5269352">a</a></span>&nbsp;<span class="op" id="5269372">==</span>&nbsp;<span class="num" id="5269375">0xffff</span>&nbsp;<span class="op" id="5269382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269386">return</span>&nbsp;<span class="ident" id="5269393"><a href="/image/color/color.go.html#5266534">NRGBA</a></span><span class="op" id="5269398">{</span><span class="builtintype" id="5269399">uint8</span><span class="op" id="5269404">(</span><span class="ident" id="5269405"><a href="/image/color/color.go.html#5269343">r</a></span>&nbsp;<span class="op" id="5269407">&gt;&gt;</span>&nbsp;<span class="num" id="5269410">8</span><span class="op" id="5269411">)</span><span class="op" id="5269412">,</span>&nbsp;<span class="builtintype" id="5269414">uint8</span><span class="op" id="5269419">(</span><span class="ident" id="5269420"><a href="/image/color/color.go.html#5269346">g</a></span>&nbsp;<span class="op" id="5269422">&gt;&gt;</span>&nbsp;<span class="num" id="5269425">8</span><span class="op" id="5269426">)</span><span class="op" id="5269427">,</span>&nbsp;<span class="builtintype" id="5269429">uint8</span><span class="op" id="5269434">(</span><span class="ident" id="5269435"><a href="/image/color/color.go.html#5269349">b</a></span>&nbsp;<span class="op" id="5269437">&gt;&gt;</span>&nbsp;<span class="num" id="5269440">8</span><span class="op" id="5269441">)</span><span class="op" id="5269442">,</span>&nbsp;<span class="num" id="5269444">0xff</span><span class="op" id="5269448">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5269451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269454">if</span>&nbsp;<span class="ident" id="5269457"><a href="/image/color/color.go.html#5269352">a</a></span>&nbsp;<span class="op" id="5269459">==</span>&nbsp;<span class="num" id="5269462">0</span>&nbsp;<span class="op" id="5269464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269468">return</span>&nbsp;<span class="ident" id="5269475"><a href="/image/color/color.go.html#5266534">NRGBA</a></span><span class="op" id="5269480">{</span><span class="num" id="5269481">0</span><span class="op" id="5269482">,</span>&nbsp;<span class="num" id="5269484">0</span><span class="op" id="5269485">,</span>&nbsp;<span class="num" id="5269487">0</span><span class="op" id="5269488">,</span>&nbsp;<span class="num" id="5269490">0</span><span class="op" id="5269491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5269494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5269497">//&nbsp;Since&nbsp;Color.RGBA&nbsp;returns&nbsp;a&nbsp;alpha-premultiplied&nbsp;color,&nbsp;we&nbsp;should&nbsp;have&nbsp;r&nbsp;&lt;=&nbsp;a&nbsp;&amp;&amp;&nbsp;g&nbsp;&lt;=&nbsp;a&nbsp;&amp;&amp;&nbsp;b&nbsp;&lt;=&nbsp;a.</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5269598"><a href="/image/color/color.go.html#5269343">r</a></span>&nbsp;<span class="op" id="5269600">=</span>&nbsp;<span class="op" id="5269602">(</span><span class="ident" id="5269603"><a href="/image/color/color.go.html#5269343">r</a></span>&nbsp;<span class="op" id="5269605">*</span>&nbsp;<span class="num" id="5269607">0xffff</span><span class="op" id="5269613">)</span>&nbsp;<span class="op" id="5269615">/</span>&nbsp;<span class="ident" id="5269617"><a href="/image/color/color.go.html#5269352">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5269620"><a href="/image/color/color.go.html#5269346">g</a></span>&nbsp;<span class="op" id="5269622">=</span>&nbsp;<span class="op" id="5269624">(</span><span class="ident" id="5269625"><a href="/image/color/color.go.html#5269346">g</a></span>&nbsp;<span class="op" id="5269627">*</span>&nbsp;<span class="num" id="5269629">0xffff</span><span class="op" id="5269635">)</span>&nbsp;<span class="op" id="5269637">/</span>&nbsp;<span class="ident" id="5269639"><a href="/image/color/color.go.html#5269352">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5269642"><a href="/image/color/color.go.html#5269349">b</a></span>&nbsp;<span class="op" id="5269644">=</span>&nbsp;<span class="op" id="5269646">(</span><span class="ident" id="5269647"><a href="/image/color/color.go.html#5269349">b</a></span>&nbsp;<span class="op" id="5269649">*</span>&nbsp;<span class="num" id="5269651">0xffff</span><span class="op" id="5269657">)</span>&nbsp;<span class="op" id="5269659">/</span>&nbsp;<span class="ident" id="5269661"><a href="/image/color/color.go.html#5269352">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269664">return</span>&nbsp;<span class="ident" id="5269671"><a href="/image/color/color.go.html#5266534">NRGBA</a></span><span class="op" id="5269676">{</span><span class="builtintype" id="5269677">uint8</span><span class="op" id="5269682">(</span><span class="ident" id="5269683"><a href="/image/color/color.go.html#5269343">r</a></span>&nbsp;<span class="op" id="5269685">&gt;&gt;</span>&nbsp;<span class="num" id="5269688">8</span><span class="op" id="5269689">)</span><span class="op" id="5269690">,</span>&nbsp;<span class="builtintype" id="5269692">uint8</span><span class="op" id="5269697">(</span><span class="ident" id="5269698"><a href="/image/color/color.go.html#5269346">g</a></span>&nbsp;<span class="op" id="5269700">&gt;&gt;</span>&nbsp;<span class="num" id="5269703">8</span><span class="op" id="5269704">)</span><span class="op" id="5269705">,</span>&nbsp;<span class="builtintype" id="5269707">uint8</span><span class="op" id="5269712">(</span><span class="ident" id="5269713"><a href="/image/color/color.go.html#5269349">b</a></span>&nbsp;<span class="op" id="5269715">&gt;&gt;</span>&nbsp;<span class="num" id="5269718">8</span><span class="op" id="5269719">)</span><span class="op" id="5269720">,</span>&nbsp;<span class="builtintype" id="5269722">uint8</span><span class="op" id="5269727">(</span><span class="ident" id="5269728"><a href="/image/color/color.go.html#5269352">a</a></span>&nbsp;<span class="op" id="5269730">&gt;&gt;</span>&nbsp;<span class="num" id="5269733">8</span><span class="op" id="5269734">)</span><span class="op" id="5269735">}</span><br>
<span class="lineno"></span><span class="op" id="5269737">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="5269740">func</span>&nbsp;<span class="ident" id="5269745">nrgba64Model</span><span class="op" id="5269757">(</span><span class="ident" id="5269758">c</span>&nbsp;<span class="ident" id="5269760"><a href="/image/color/color.go.html#5265576">Color</a></span><span class="op" id="5269765">)</span>&nbsp;<span class="ident" id="5269767"><a href="/image/color/color.go.html#5265576">Color</a></span>&nbsp;<span class="op" id="5269773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269776">if</span>&nbsp;<span class="ident" id="5269779">_</span><span class="op" id="5269780">,</span>&nbsp;<span class="ident" id="5269782">ok</span>&nbsp;<span class="op" id="5269785">:=</span>&nbsp;<span class="ident" id="5269788"><a href="/image/color/color.go.html#5269758">c</a></span><span class="op" id="5269789">.</span><span class="op" id="5269790">(</span><span class="ident" id="5269791"><a href="/image/color/color.go.html#5266957">NRGBA64</a></span><span class="op" id="5269798">)</span><span class="op" id="5269799">;</span>&nbsp;<span class="ident" id="5269801"><a href="/image/color/color.go.html#5269782">ok</a></span>&nbsp;<span class="op" id="5269804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269808">return</span>&nbsp;<span class="ident" id="5269815"><a href="/image/color/color.go.html#5269758">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5269818">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5269821">r</span><span class="op" id="5269822">,</span>&nbsp;<span class="ident" id="5269824">g</span><span class="op" id="5269825">,</span>&nbsp;<span class="ident" id="5269827">b</span><span class="op" id="5269828">,</span>&nbsp;<span class="ident" id="5269830">a</span>&nbsp;<span class="op" id="5269832">:=</span>&nbsp;<span class="ident" id="5269835"><a href="/image/color/color.go.html#5269758">c</a></span><span class="op" id="5269836">.</span><span class="ident" id="5269837">RGBA</span><span class="op" id="5269841">(</span><span class="op" id="5269842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269845">if</span>&nbsp;<span class="ident" id="5269848"><a href="/image/color/color.go.html#5269830">a</a></span>&nbsp;<span class="op" id="5269850">==</span>&nbsp;<span class="num" id="5269853">0xffff</span>&nbsp;<span class="op" id="5269860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269864">return</span>&nbsp;<span class="ident" id="5269871"><a href="/image/color/color.go.html#5266957">NRGBA64</a></span><span class="op" id="5269878">{</span><span class="builtintype" id="5269879">uint16</span><span class="op" id="5269885">(</span><span class="ident" id="5269886"><a href="/image/color/color.go.html#5269821">r</a></span><span class="op" id="5269887">)</span><span class="op" id="5269888">,</span>&nbsp;<span class="builtintype" id="5269890">uint16</span><span class="op" id="5269896">(</span><span class="ident" id="5269897"><a href="/image/color/color.go.html#5269824">g</a></span><span class="op" id="5269898">)</span><span class="op" id="5269899">,</span>&nbsp;<span class="builtintype" id="5269901">uint16</span><span class="op" id="5269907">(</span><span class="ident" id="5269908"><a href="/image/color/color.go.html#5269827">b</a></span><span class="op" id="5269909">)</span><span class="op" id="5269910">,</span>&nbsp;<span class="num" id="5269912">0xffff</span><span class="op" id="5269918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5269921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269924">if</span>&nbsp;<span class="ident" id="5269927"><a href="/image/color/color.go.html#5269830">a</a></span>&nbsp;<span class="op" id="5269929">==</span>&nbsp;<span class="num" id="5269932">0</span>&nbsp;<span class="op" id="5269934">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5269938">return</span>&nbsp;<span class="ident" id="5269945"><a href="/image/color/color.go.html#5266957">NRGBA64</a></span><span class="op" id="5269952">{</span><span class="num" id="5269953">0</span><span class="op" id="5269954">,</span>&nbsp;<span class="num" id="5269956">0</span><span class="op" id="5269957">,</span>&nbsp;<span class="num" id="5269959">0</span><span class="op" id="5269960">,</span>&nbsp;<span class="num" id="5269962">0</span><span class="op" id="5269963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5269966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5269969">//&nbsp;Since&nbsp;Color.RGBA&nbsp;returns&nbsp;a&nbsp;alpha-premultiplied&nbsp;color,&nbsp;we&nbsp;should&nbsp;have&nbsp;r&nbsp;&lt;=&nbsp;a&nbsp;&amp;&amp;&nbsp;g&nbsp;&lt;=&nbsp;a&nbsp;&amp;&amp;&nbsp;b&nbsp;&lt;=&nbsp;a.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5270070"><a href="/image/color/color.go.html#5269821">r</a></span>&nbsp;<span class="op" id="5270072">=</span>&nbsp;<span class="op" id="5270074">(</span><span class="ident" id="5270075"><a href="/image/color/color.go.html#5269821">r</a></span>&nbsp;<span class="op" id="5270077">*</span>&nbsp;<span class="num" id="5270079">0xffff</span><span class="op" id="5270085">)</span>&nbsp;<span class="op" id="5270087">/</span>&nbsp;<span class="ident" id="5270089"><a href="/image/color/color.go.html#5269830">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5270092"><a href="/image/color/color.go.html#5269824">g</a></span>&nbsp;<span class="op" id="5270094">=</span>&nbsp;<span class="op" id="5270096">(</span><span class="ident" id="5270097"><a href="/image/color/color.go.html#5269824">g</a></span>&nbsp;<span class="op" id="5270099">*</span>&nbsp;<span class="num" id="5270101">0xffff</span><span class="op" id="5270107">)</span>&nbsp;<span class="op" id="5270109">/</span>&nbsp;<span class="ident" id="5270111"><a href="/image/color/color.go.html#5269830">a</a></span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5270114"><a href="/image/color/color.go.html#5269827">b</a></span>&nbsp;<span class="op" id="5270116">=</span>&nbsp;<span class="op" id="5270118">(</span><span class="ident" id="5270119"><a href="/image/color/color.go.html#5269827">b</a></span>&nbsp;<span class="op" id="5270121">*</span>&nbsp;<span class="num" id="5270123">0xffff</span><span class="op" id="5270129">)</span>&nbsp;<span class="op" id="5270131">/</span>&nbsp;<span class="ident" id="5270133"><a href="/image/color/color.go.html#5269830">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5270136">return</span>&nbsp;<span class="ident" id="5270143"><a href="/image/color/color.go.html#5266957">NRGBA64</a></span><span class="op" id="5270150">{</span><span class="builtintype" id="5270151">uint16</span><span class="op" id="5270157">(</span><span class="ident" id="5270158"><a href="/image/color/color.go.html#5269821">r</a></span><span class="op" id="5270159">)</span><span class="op" id="5270160">,</span>&nbsp;<span class="builtintype" id="5270162">uint16</span><span class="op" id="5270168">(</span><span class="ident" id="5270169"><a href="/image/color/color.go.html#5269824">g</a></span><span class="op" id="5270170">)</span><span class="op" id="5270171">,</span>&nbsp;<span class="builtintype" id="5270173">uint16</span><span class="op" id="5270179">(</span><span class="ident" id="5270180"><a href="/image/color/color.go.html#5269827">b</a></span><span class="op" id="5270181">)</span><span class="op" id="5270182">,</span>&nbsp;<span class="builtintype" id="5270184">uint16</span><span class="op" id="5270190">(</span><span class="ident" id="5270191"><a href="/image/color/color.go.html#5269830">a</a></span><span class="op" id="5270192">)</span><span class="op" id="5270193">}</span><br>
<span class="lineno"></span><span class="op" id="5270195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5270198">func</span>&nbsp;<span class="ident" id="5270203">alphaModel</span><span class="op" id="5270213">(</span><span class="ident" id="5270214">c</span>&nbsp;<span class="ident" id="5270216"><a href="/image/color/color.go.html#5265576">Color</a></span><span class="op" id="5270221">)</span>&nbsp;<span class="ident" id="5270223"><a href="/image/color/color.go.html#5265576">Color</a></span>&nbsp;<span class="op" id="5270229">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5270232">if</span>&nbsp;<span class="ident" id="5270235">_</span><span class="op" id="5270236">,</span>&nbsp;<span class="ident" id="5270238">ok</span>&nbsp;<span class="op" id="5270241">:=</span>&nbsp;<span class="ident" id="5270244"><a href="/image/color/color.go.html#5270214">c</a></span><span class="op" id="5270245">.</span><span class="op" id="5270246">(</span><span class="ident" id="5270247"><a href="/image/color/color.go.html#5267261">Alpha</a></span><span class="op" id="5270252">)</span><span class="op" id="5270253">;</span>&nbsp;<span class="ident" id="5270255"><a href="/image/color/color.go.html#5270238">ok</a></span>&nbsp;<span class="op" id="5270258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5270262">return</span>&nbsp;<span class="ident" id="5270269"><a href="/image/color/color.go.html#5270214">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5270272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5270275">_</span><span class="op" id="5270276">,</span>&nbsp;<span class="ident" id="5270278">_</span><span class="op" id="5270279">,</span>&nbsp;<span class="ident" id="5270281">_</span><span class="op" id="5270282">,</span>&nbsp;<span class="ident" id="5270284">a</span>&nbsp;<span class="op" id="5270286">:=</span>&nbsp;<span class="ident" id="5270289"><a href="/image/color/color.go.html#5270214">c</a></span><span class="op" id="5270290">.</span><span class="ident" id="5270291">RGBA</span><span class="op" id="5270295">(</span><span class="op" id="5270296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5270299">return</span>&nbsp;<span class="ident" id="5270306"><a href="/image/color/color.go.html#5267261">Alpha</a></span><span class="op" id="5270311">{</span><span class="builtintype" id="5270312">uint8</span><span class="op" id="5270317">(</span><span class="ident" id="5270318"><a href="/image/color/color.go.html#5270284">a</a></span>&nbsp;<span class="op" id="5270320">&gt;&gt;</span>&nbsp;<span class="num" id="5270323">8</span><span class="op" id="5270324">)</span><span class="op" id="5270325">}</span><br>
<span class="lineno">225</span><span class="op" id="5270327">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5270330">func</span>&nbsp;<span class="ident" id="5270335">alpha16Model</span><span class="op" id="5270347">(</span><span class="ident" id="5270348">c</span>&nbsp;<span class="ident" id="5270350"><a href="/image/color/color.go.html#5265576">Color</a></span><span class="op" id="5270355">)</span>&nbsp;<span class="ident" id="5270357"><a href="/image/color/color.go.html#5265576">Color</a></span>&nbsp;<span class="op" id="5270363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5270366">if</span>&nbsp;<span class="ident" id="5270369">_</span><span class="op" id="5270370">,</span>&nbsp;<span class="ident" id="5270372">ok</span>&nbsp;<span class="op" id="5270375">:=</span>&nbsp;<span class="ident" id="5270378"><a href="/image/color/color.go.html#5270348">c</a></span><span class="op" id="5270379">.</span><span class="op" id="5270380">(</span><span class="ident" id="5270381"><a href="/image/color/color.go.html#5267433">Alpha16</a></span><span class="op" id="5270388">)</span><span class="op" id="5270389">;</span>&nbsp;<span class="ident" id="5270391"><a href="/image/color/color.go.html#5270372">ok</a></span>&nbsp;<span class="op" id="5270394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5270398">return</span>&nbsp;<span class="ident" id="5270405"><a href="/image/color/color.go.html#5270348">c</a></span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5270408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5270411">_</span><span class="op" id="5270412">,</span>&nbsp;<span class="ident" id="5270414">_</span><span class="op" id="5270415">,</span>&nbsp;<span class="ident" id="5270417">_</span><span class="op" id="5270418">,</span>&nbsp;<span class="ident" id="5270420">a</span>&nbsp;<span class="op" id="5270422">:=</span>&nbsp;<span class="ident" id="5270425"><a href="/image/color/color.go.html#5270348">c</a></span><span class="op" id="5270426">.</span><span class="ident" id="5270427">RGBA</span><span class="op" id="5270431">(</span><span class="op" id="5270432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5270435">return</span>&nbsp;<span class="ident" id="5270442"><a href="/image/color/color.go.html#5267433">Alpha16</a></span><span class="op" id="5270449">{</span><span class="builtintype" id="5270450">uint16</span><span class="op" id="5270456">(</span><span class="ident" id="5270457"><a href="/image/color/color.go.html#5270420">a</a></span><span class="op" id="5270458">)</span><span class="op" id="5270459">}</span><br>
<span class="lineno"></span><span class="op" id="5270461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="5270464">func</span>&nbsp;<span class="ident" id="5270469">grayModel</span><span class="op" id="5270478">(</span><span class="ident" id="5270479">c</span>&nbsp;<span class="ident" id="5270481"><a href="/image/color/color.go.html#5265576">Color</a></span><span class="op" id="5270486">)</span>&nbsp;<span class="ident" id="5270488"><a href="/image/color/color.go.html#5265576">Color</a></span>&nbsp;<span class="op" id="5270494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5270497">if</span>&nbsp;<span class="ident" id="5270500">_</span><span class="op" id="5270501">,</span>&nbsp;<span class="ident" id="5270503">ok</span>&nbsp;<span class="op" id="5270506">:=</span>&nbsp;<span class="ident" id="5270509"><a href="/image/color/color.go.html#5270479">c</a></span><span class="op" id="5270510">.</span><span class="op" id="5270511">(</span><span class="ident" id="5270512"><a href="/image/color/color.go.html#5267598">Gray</a></span><span class="op" id="5270516">)</span><span class="op" id="5270517">;</span>&nbsp;<span class="ident" id="5270519"><a href="/image/color/color.go.html#5270503">ok</a></span>&nbsp;<span class="op" id="5270522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5270526">return</span>&nbsp;<span class="ident" id="5270533"><a href="/image/color/color.go.html#5270479">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5270536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5270539">r</span><span class="op" id="5270540">,</span>&nbsp;<span class="ident" id="5270542">g</span><span class="op" id="5270543">,</span>&nbsp;<span class="ident" id="5270545">b</span><span class="op" id="5270546">,</span>&nbsp;<span class="ident" id="5270548">_</span>&nbsp;<span class="op" id="5270550">:=</span>&nbsp;<span class="ident" id="5270553"><a href="/image/color/color.go.html#5270479">c</a></span><span class="op" id="5270554">.</span><span class="ident" id="5270555">RGBA</span><span class="op" id="5270559">(</span><span class="op" id="5270560">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5270563">y</span>&nbsp;<span class="op" id="5270565">:=</span>&nbsp;<span class="op" id="5270568">(</span><span class="num" id="5270569">299</span><span class="op" id="5270572">*</span><span class="ident" id="5270573"><a href="/image/color/color.go.html#5270539">r</a></span>&nbsp;<span class="op" id="5270575">+</span>&nbsp;<span class="num" id="5270577">587</span><span class="op" id="5270580">*</span><span class="ident" id="5270581"><a href="/image/color/color.go.html#5270542">g</a></span>&nbsp;<span class="op" id="5270583">+</span>&nbsp;<span class="num" id="5270585">114</span><span class="op" id="5270588">*</span><span class="ident" id="5270589"><a href="/image/color/color.go.html#5270545">b</a></span>&nbsp;<span class="op" id="5270591">+</span>&nbsp;<span class="num" id="5270593">500</span><span class="op" id="5270596">)</span>&nbsp;<span class="op" id="5270598">/</span>&nbsp;<span class="num" id="5270600">1000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5270606">return</span>&nbsp;<span class="ident" id="5270613"><a href="/image/color/color.go.html#5267598">Gray</a></span><span class="op" id="5270617">{</span><span class="builtintype" id="5270618">uint8</span><span class="op" id="5270623">(</span><span class="ident" id="5270624"><a href="/image/color/color.go.html#5270563">y</a></span>&nbsp;<span class="op" id="5270626">&gt;&gt;</span>&nbsp;<span class="num" id="5270629">8</span><span class="op" id="5270630">)</span><span class="op" id="5270631">}</span><br>
<span class="lineno"></span><span class="op" id="5270633">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5270636">func</span>&nbsp;<span class="ident" id="5270641">gray16Model</span><span class="op" id="5270652">(</span><span class="ident" id="5270653">c</span>&nbsp;<span class="ident" id="5270655"><a href="/image/color/color.go.html#5265576">Color</a></span><span class="op" id="5270660">)</span>&nbsp;<span class="ident" id="5270662"><a href="/image/color/color.go.html#5265576">Color</a></span>&nbsp;<span class="op" id="5270668">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5270671">if</span>&nbsp;<span class="ident" id="5270674">_</span><span class="op" id="5270675">,</span>&nbsp;<span class="ident" id="5270677">ok</span>&nbsp;<span class="op" id="5270680">:=</span>&nbsp;<span class="ident" id="5270683"><a href="/image/color/color.go.html#5270653">c</a></span><span class="op" id="5270684">.</span><span class="op" id="5270685">(</span><span class="ident" id="5270686"><a href="/image/color/color.go.html#5267777">Gray16</a></span><span class="op" id="5270692">)</span><span class="op" id="5270693">;</span>&nbsp;<span class="ident" id="5270695"><a href="/image/color/color.go.html#5270677">ok</a></span>&nbsp;<span class="op" id="5270698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5270702">return</span>&nbsp;<span class="ident" id="5270709"><a href="/image/color/color.go.html#5270653">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5270712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5270715">r</span><span class="op" id="5270716">,</span>&nbsp;<span class="ident" id="5270718">g</span><span class="op" id="5270719">,</span>&nbsp;<span class="ident" id="5270721">b</span><span class="op" id="5270722">,</span>&nbsp;<span class="ident" id="5270724">_</span>&nbsp;<span class="op" id="5270726">:=</span>&nbsp;<span class="ident" id="5270729"><a href="/image/color/color.go.html#5270653">c</a></span><span class="op" id="5270730">.</span><span class="ident" id="5270731">RGBA</span><span class="op" id="5270735">(</span><span class="op" id="5270736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5270739">y</span>&nbsp;<span class="op" id="5270741">:=</span>&nbsp;<span class="op" id="5270744">(</span><span class="num" id="5270745">299</span><span class="op" id="5270748">*</span><span class="ident" id="5270749"><a href="/image/color/color.go.html#5270715">r</a></span>&nbsp;<span class="op" id="5270751">+</span>&nbsp;<span class="num" id="5270753">587</span><span class="op" id="5270756">*</span><span class="ident" id="5270757"><a href="/image/color/color.go.html#5270718">g</a></span>&nbsp;<span class="op" id="5270759">+</span>&nbsp;<span class="num" id="5270761">114</span><span class="op" id="5270764">*</span><span class="ident" id="5270765"><a href="/image/color/color.go.html#5270721">b</a></span>&nbsp;<span class="op" id="5270767">+</span>&nbsp;<span class="num" id="5270769">500</span><span class="op" id="5270772">)</span>&nbsp;<span class="op" id="5270774">/</span>&nbsp;<span class="num" id="5270776">1000</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5270782">return</span>&nbsp;<span class="ident" id="5270789"><a href="/image/color/color.go.html#5267777">Gray16</a></span><span class="op" id="5270795">{</span><span class="builtintype" id="5270796">uint16</span><span class="op" id="5270802">(</span><span class="ident" id="5270803"><a href="/image/color/color.go.html#5270739">y</a></span><span class="op" id="5270804">)</span><span class="op" id="5270805">}</span><br>
<span class="lineno"></span><span class="op" id="5270807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5270810">//&nbsp;Palette&nbsp;is&nbsp;a&nbsp;palette&nbsp;of&nbsp;colors.</span><br>
<span class="lineno"></span><span class="keyword" id="5270845">type</span>&nbsp;<span class="ident" id="5270850">Palette</span>&nbsp;<span class="op" id="5270858">[</span><span class="op" id="5270859">]</span><span class="ident" id="5270860"><a href="/image/color/color.go.html#5265576">Color</a></span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span><span class="comment" id="5270867">//&nbsp;Convert&nbsp;returns&nbsp;the&nbsp;palette&nbsp;color&nbsp;closest&nbsp;to&nbsp;c&nbsp;in&nbsp;Euclidean&nbsp;R,G,B&nbsp;space.</span><br>
<span class="lineno"></span><span class="keyword" id="5270943">func</span>&nbsp;<span class="op" id="5270948">(</span><span class="ident" id="5270949">p</span>&nbsp;<span class="ident" id="5270951"><a href="/image/color/color.go.html#5270850">Palette</a></span><span class="op" id="5270958">)</span>&nbsp;<span class="ident" id="5270960">Convert</span><span class="op" id="5270967">(</span><span class="ident" id="5270968">c</span>&nbsp;<span class="ident" id="5270970"><a href="/image/color/color.go.html#5265576">Color</a></span><span class="op" id="5270975">)</span>&nbsp;<span class="ident" id="5270977"><a href="/image/color/color.go.html#5265576">Color</a></span>&nbsp;<span class="op" id="5270983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5270986">if</span>&nbsp;<span class="builtinfunc" id="5270989">len</span><span class="op" id="5270992">(</span><span class="ident" id="5270993"><a href="/image/color/color.go.html#5270949">p</a></span><span class="op" id="5270994">)</span>&nbsp;<span class="op" id="5270996">==</span>&nbsp;<span class="num" id="5270999">0</span>&nbsp;<span class="op" id="5271001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5271005">return</span>&nbsp;<span class="ident" id="5271012">nil</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5271017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5271020">return</span>&nbsp;<span class="ident" id="5271027"><a href="/image/color/color.go.html#5270949">p</a></span><span class="op" id="5271028">[</span><span class="ident" id="5271029"><a href="/image/color/color.go.html#5270949">p</a></span><span class="op" id="5271030">.</span><span class="ident" id="5271031">Index</span><span class="op" id="5271036">(</span><span class="ident" id="5271037"><a href="/image/color/color.go.html#5270968">c</a></span><span class="op" id="5271038">)</span><span class="op" id="5271039">]</span><br>
<span class="lineno"></span><span class="op" id="5271041">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5271044">//&nbsp;Index&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;palette&nbsp;color&nbsp;closest&nbsp;to&nbsp;c&nbsp;in&nbsp;Euclidean</span><br>
<span class="lineno">265</span><span class="comment" id="5271118">//&nbsp;R,G,B&nbsp;space.</span><br>
<span class="lineno"></span><span class="keyword" id="5271134">func</span>&nbsp;<span class="op" id="5271139">(</span><span class="ident" id="5271140">p</span>&nbsp;<span class="ident" id="5271142"><a href="/image/color/color.go.html#5270850">Palette</a></span><span class="op" id="5271149">)</span>&nbsp;<span class="ident" id="5271151">Index</span><span class="op" id="5271156">(</span><span class="ident" id="5271157">c</span>&nbsp;<span class="ident" id="5271159"><a href="/image/color/color.go.html#5265576">Color</a></span><span class="op" id="5271164">)</span>&nbsp;<span class="builtintype" id="5271166">int</span>&nbsp;<span class="op" id="5271170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5271173">//&nbsp;A&nbsp;batch&nbsp;version&nbsp;of&nbsp;this&nbsp;computation&nbsp;is&nbsp;in&nbsp;image/draw/draw.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5271240">cr</span><span class="op" id="5271242">,</span>&nbsp;<span class="ident" id="5271244">cg</span><span class="op" id="5271246">,</span>&nbsp;<span class="ident" id="5271248">cb</span><span class="op" id="5271250">,</span>&nbsp;<span class="ident" id="5271252">_</span>&nbsp;<span class="op" id="5271254">:=</span>&nbsp;<span class="ident" id="5271257"><a href="/image/color/color.go.html#5271157">c</a></span><span class="op" id="5271258">.</span><span class="ident" id="5271259">RGBA</span><span class="op" id="5271263">(</span><span class="op" id="5271264">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5271267">ret</span><span class="op" id="5271270">,</span>&nbsp;<span class="ident" id="5271272">bestSSD</span>&nbsp;<span class="op" id="5271280">:=</span>&nbsp;<span class="num" id="5271283">0</span><span class="op" id="5271284">,</span>&nbsp;<span class="builtintype" id="5271286">uint32</span><span class="op" id="5271292">(</span><span class="num" id="5271293">1</span><span class="op" id="5271294">&lt;&lt;</span><span class="num" id="5271296">32</span><span class="op" id="5271298">-</span><span class="num" id="5271299">1</span><span class="op" id="5271300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5271303">for</span>&nbsp;<span class="ident" id="5271307">i</span><span class="op" id="5271308">,</span>&nbsp;<span class="ident" id="5271310">v</span>&nbsp;<span class="op" id="5271312">:=</span>&nbsp;<span class="keyword" id="5271315">range</span>&nbsp;<span class="ident" id="5271321"><a href="/image/color/color.go.html#5271140">p</a></span>&nbsp;<span class="op" id="5271323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5271327">vr</span><span class="op" id="5271329">,</span>&nbsp;<span class="ident" id="5271331">vg</span><span class="op" id="5271333">,</span>&nbsp;<span class="ident" id="5271335">vb</span><span class="op" id="5271337">,</span>&nbsp;<span class="ident" id="5271339">_</span>&nbsp;<span class="op" id="5271341">:=</span>&nbsp;<span class="ident" id="5271344"><a href="/image/color/color.go.html#5271310">v</a></span><span class="op" id="5271345">.</span><span class="ident" id="5271346">RGBA</span><span class="op" id="5271350">(</span><span class="op" id="5271351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5271355">//&nbsp;We&nbsp;shift&nbsp;by&nbsp;1&nbsp;bit&nbsp;to&nbsp;avoid&nbsp;potential&nbsp;uint32&nbsp;overflow&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5271416">//&nbsp;sum-squared-difference.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5271445">delta</span>&nbsp;<span class="op" id="5271451">:=</span>&nbsp;<span class="op" id="5271454">(</span><span class="builtintype" id="5271455">int32</span><span class="op" id="5271460">(</span><span class="ident" id="5271461"><a href="/image/color/color.go.html#5271240">cr</a></span><span class="op" id="5271463">)</span>&nbsp;<span class="op" id="5271465">-</span>&nbsp;<span class="builtintype" id="5271467">int32</span><span class="op" id="5271472">(</span><span class="ident" id="5271473"><a href="/image/color/color.go.html#5271327">vr</a></span><span class="op" id="5271475">)</span><span class="op" id="5271476">)</span>&nbsp;<span class="op" id="5271478">&gt;&gt;</span>&nbsp;<span class="num" id="5271481">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5271485">ssd</span>&nbsp;<span class="op" id="5271489">:=</span>&nbsp;<span class="builtintype" id="5271492">uint32</span><span class="op" id="5271498">(</span><span class="ident" id="5271499"><a href="/image/color/color.go.html#5271445">delta</a></span>&nbsp;<span class="op" id="5271505">*</span>&nbsp;<span class="ident" id="5271507"><a href="/image/color/color.go.html#5271445">delta</a></span><span class="op" id="5271512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5271516"><a href="/image/color/color.go.html#5271445">delta</a></span>&nbsp;<span class="op" id="5271522">=</span>&nbsp;<span class="op" id="5271524">(</span><span class="builtintype" id="5271525">int32</span><span class="op" id="5271530">(</span><span class="ident" id="5271531"><a href="/image/color/color.go.html#5271244">cg</a></span><span class="op" id="5271533">)</span>&nbsp;<span class="op" id="5271535">-</span>&nbsp;<span class="builtintype" id="5271537">int32</span><span class="op" id="5271542">(</span><span class="ident" id="5271543"><a href="/image/color/color.go.html#5271331">vg</a></span><span class="op" id="5271545">)</span><span class="op" id="5271546">)</span>&nbsp;<span class="op" id="5271548">&gt;&gt;</span>&nbsp;<span class="num" id="5271551">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5271555"><a href="/image/color/color.go.html#5271485">ssd</a></span>&nbsp;<span class="op" id="5271559">+=</span>&nbsp;<span class="builtintype" id="5271562">uint32</span><span class="op" id="5271568">(</span><span class="ident" id="5271569"><a href="/image/color/color.go.html#5271445">delta</a></span>&nbsp;<span class="op" id="5271575">*</span>&nbsp;<span class="ident" id="5271577"><a href="/image/color/color.go.html#5271445">delta</a></span><span class="op" id="5271582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5271586"><a href="/image/color/color.go.html#5271445">delta</a></span>&nbsp;<span class="op" id="5271592">=</span>&nbsp;<span class="op" id="5271594">(</span><span class="builtintype" id="5271595">int32</span><span class="op" id="5271600">(</span><span class="ident" id="5271601"><a href="/image/color/color.go.html#5271248">cb</a></span><span class="op" id="5271603">)</span>&nbsp;<span class="op" id="5271605">-</span>&nbsp;<span class="builtintype" id="5271607">int32</span><span class="op" id="5271612">(</span><span class="ident" id="5271613"><a href="/image/color/color.go.html#5271335">vb</a></span><span class="op" id="5271615">)</span><span class="op" id="5271616">)</span>&nbsp;<span class="op" id="5271618">&gt;&gt;</span>&nbsp;<span class="num" id="5271621">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5271625"><a href="/image/color/color.go.html#5271485">ssd</a></span>&nbsp;<span class="op" id="5271629">+=</span>&nbsp;<span class="builtintype" id="5271632">uint32</span><span class="op" id="5271638">(</span><span class="ident" id="5271639"><a href="/image/color/color.go.html#5271445">delta</a></span>&nbsp;<span class="op" id="5271645">*</span>&nbsp;<span class="ident" id="5271647"><a href="/image/color/color.go.html#5271445">delta</a></span><span class="op" id="5271652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5271656">if</span>&nbsp;<span class="ident" id="5271659"><a href="/image/color/color.go.html#5271485">ssd</a></span>&nbsp;<span class="op" id="5271663">&lt;</span>&nbsp;<span class="ident" id="5271665"><a href="/image/color/color.go.html#5271272">bestSSD</a></span>&nbsp;<span class="op" id="5271673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5271678">if</span>&nbsp;<span class="ident" id="5271681"><a href="/image/color/color.go.html#5271485">ssd</a></span>&nbsp;<span class="op" id="5271685">==</span>&nbsp;<span class="num" id="5271688">0</span>&nbsp;<span class="op" id="5271690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5271696">return</span>&nbsp;<span class="ident" id="5271703"><a href="/image/color/color.go.html#5271307">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5271708">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5271713"><a href="/image/color/color.go.html#5271267">ret</a></span><span class="op" id="5271716">,</span>&nbsp;<span class="ident" id="5271718"><a href="/image/color/color.go.html#5271272">bestSSD</a></span>&nbsp;<span class="op" id="5271726">=</span>&nbsp;<span class="ident" id="5271728"><a href="/image/color/color.go.html#5271307">i</a></span><span class="op" id="5271729">,</span>&nbsp;<span class="ident" id="5271731"><a href="/image/color/color.go.html#5271485">ssd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5271737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5271740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5271743">return</span>&nbsp;<span class="ident" id="5271750"><a href="/image/color/color.go.html#5271267">ret</a></span><br>
<span class="lineno"></span><span class="op" id="5271754">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="5271757">//&nbsp;Standard&nbsp;colors.</span><br>
<span class="lineno"></span><span class="keyword" id="5271777">var</span>&nbsp;<span class="op" id="5271781">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5271784">Black</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5271796">=</span>&nbsp;<span class="ident" id="5271798"><a href="/image/color/color.go.html#5267777">Gray16</a></span><span class="op" id="5271804">{</span><span class="num" id="5271805">0</span><span class="op" id="5271806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5271809">White</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5271821">=</span>&nbsp;<span class="ident" id="5271823"><a href="/image/color/color.go.html#5267777">Gray16</a></span><span class="op" id="5271829">{</span><span class="num" id="5271830">0xffff</span><span class="op" id="5271836">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5271839">Transparent</span>&nbsp;<span class="op" id="5271851">=</span>&nbsp;<span class="ident" id="5271853"><a href="/image/color/color.go.html#5267433">Alpha16</a></span><span class="op" id="5271860">{</span><span class="num" id="5271861">0</span><span class="op" id="5271862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5271865">Opaque</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5271877">=</span>&nbsp;<span class="ident" id="5271879"><a href="/image/color/color.go.html#5267433">Alpha16</a></span><span class="op" id="5271886">{</span><span class="num" id="5271887">0xffff</span><span class="op" id="5271893">}</span><br>
<span class="lineno"></span><span class="op" id="5271895">)</span>
</div>
</body>
</html>
