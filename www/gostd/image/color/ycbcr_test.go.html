<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8162233">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8162288">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8162342">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8162393">package</span>&nbsp;<span class="ident" id="8162401">color</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8162408">import</span>&nbsp;<span class="op" id="8162415">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8162418">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8162428">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8162431">func</span>&nbsp;<span class="ident" id="8162436">delta</span><span class="op" id="8162441">(</span><span class="ident" id="8162442">x</span><span class="op" id="8162443">,</span>&nbsp;<span class="ident" id="8162445">y</span>&nbsp;<span class="builtintype" id="8162447">uint8</span><span class="op" id="8162452">)</span>&nbsp;<span class="builtintype" id="8162454">uint8</span>&nbsp;<span class="op" id="8162460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8162463">if</span>&nbsp;<span class="ident" id="8162466">x</span>&nbsp;<span class="op" id="8162468">&gt;=</span>&nbsp;<span class="ident" id="8162471">y</span>&nbsp;<span class="op" id="8162473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8162477">return</span>&nbsp;<span class="ident" id="8162484">x</span>&nbsp;<span class="op" id="8162486">-</span>&nbsp;<span class="ident" id="8162488">y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8162491">}</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8162494">return</span>&nbsp;<span class="ident" id="8162501">y</span>&nbsp;<span class="op" id="8162503">-</span>&nbsp;<span class="ident" id="8162505">x</span><br>
<span class="lineno"></span><span class="op" id="8162507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8162510">//&nbsp;Test&nbsp;that&nbsp;a&nbsp;subset&nbsp;of&nbsp;RGB&nbsp;space&nbsp;can&nbsp;be&nbsp;converted&nbsp;to&nbsp;YCbCr&nbsp;and&nbsp;back&nbsp;to&nbsp;within</span><br>
<span class="lineno"></span><span class="comment" id="8162590">//&nbsp;1/256&nbsp;tolerance.</span><br>
<span class="lineno">20</span><span class="keyword" id="8162610">func</span>&nbsp;<span class="ident" id="8162615">TestRoundtrip</span><span class="op" id="8162628">(</span><span class="ident" id="8162629">t</span>&nbsp;<span class="op" id="8162631">*</span><span class="ident" id="8162632">testing</span><span class="op" id="8162639">.</span><span class="ident" id="8162640">T</span><span class="op" id="8162641">)</span>&nbsp;<span class="op" id="8162643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8162646">for</span>&nbsp;<span class="ident" id="8162650">r</span>&nbsp;<span class="op" id="8162652">:=</span>&nbsp;<span class="num" id="8162655">0</span><span class="op" id="8162656">;</span>&nbsp;<span class="ident" id="8162658">r</span>&nbsp;<span class="op" id="8162660">&lt;</span>&nbsp;<span class="num" id="8162662">255</span><span class="op" id="8162665">;</span>&nbsp;<span class="ident" id="8162667">r</span>&nbsp;<span class="op" id="8162669">+=</span>&nbsp;<span class="num" id="8162672">7</span>&nbsp;<span class="op" id="8162674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8162678">for</span>&nbsp;<span class="ident" id="8162682">g</span>&nbsp;<span class="op" id="8162684">:=</span>&nbsp;<span class="num" id="8162687">0</span><span class="op" id="8162688">;</span>&nbsp;<span class="ident" id="8162690">g</span>&nbsp;<span class="op" id="8162692">&lt;</span>&nbsp;<span class="num" id="8162694">255</span><span class="op" id="8162697">;</span>&nbsp;<span class="ident" id="8162699">g</span>&nbsp;<span class="op" id="8162701">+=</span>&nbsp;<span class="num" id="8162704">5</span>&nbsp;<span class="op" id="8162706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8162711">for</span>&nbsp;<span class="ident" id="8162715">b</span>&nbsp;<span class="op" id="8162717">:=</span>&nbsp;<span class="num" id="8162720">0</span><span class="op" id="8162721">;</span>&nbsp;<span class="ident" id="8162723">b</span>&nbsp;<span class="op" id="8162725">&lt;</span>&nbsp;<span class="num" id="8162727">255</span><span class="op" id="8162730">;</span>&nbsp;<span class="ident" id="8162732">b</span>&nbsp;<span class="op" id="8162734">+=</span>&nbsp;<span class="num" id="8162737">3</span>&nbsp;<span class="op" id="8162739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8162745">r0</span><span class="op" id="8162747">,</span>&nbsp;<span class="ident" id="8162749">g0</span><span class="op" id="8162751">,</span>&nbsp;<span class="ident" id="8162753">b0</span>&nbsp;<span class="op" id="8162756">:=</span>&nbsp;<span class="builtintype" id="8162759">uint8</span><span class="op" id="8162764">(</span><span class="ident" id="8162765">r</span><span class="op" id="8162766">)</span><span class="op" id="8162767">,</span>&nbsp;<span class="builtintype" id="8162769">uint8</span><span class="op" id="8162774">(</span><span class="ident" id="8162775">g</span><span class="op" id="8162776">)</span><span class="op" id="8162777">,</span>&nbsp;<span class="builtintype" id="8162779">uint8</span><span class="op" id="8162784">(</span><span class="ident" id="8162785">b</span><span class="op" id="8162786">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8162792">y</span><span class="op" id="8162793">,</span>&nbsp;<span class="ident" id="8162795">cb</span><span class="op" id="8162797">,</span>&nbsp;<span class="ident" id="8162799">cr</span>&nbsp;<span class="op" id="8162802">:=</span>&nbsp;<span class="ident" id="8162805">RGBToYCbCr</span><span class="op" id="8162815">(</span><span class="ident" id="8162816">r0</span><span class="op" id="8162818">,</span>&nbsp;<span class="ident" id="8162820">g0</span><span class="op" id="8162822">,</span>&nbsp;<span class="ident" id="8162824">b0</span><span class="op" id="8162826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8162832">r1</span><span class="op" id="8162834">,</span>&nbsp;<span class="ident" id="8162836">g1</span><span class="op" id="8162838">,</span>&nbsp;<span class="ident" id="8162840">b1</span>&nbsp;<span class="op" id="8162843">:=</span>&nbsp;<span class="ident" id="8162846">YCbCrToRGB</span><span class="op" id="8162856">(</span><span class="ident" id="8162857">y</span><span class="op" id="8162858">,</span>&nbsp;<span class="ident" id="8162860">cb</span><span class="op" id="8162862">,</span>&nbsp;<span class="ident" id="8162864">cr</span><span class="op" id="8162866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8162872">if</span>&nbsp;<span class="ident" id="8162875">delta</span><span class="op" id="8162880">(</span><span class="ident" id="8162881">r0</span><span class="op" id="8162883">,</span>&nbsp;<span class="ident" id="8162885">r1</span><span class="op" id="8162887">)</span>&nbsp;<span class="op" id="8162889">&gt;</span>&nbsp;<span class="num" id="8162891">1</span>&nbsp;<span class="op" id="8162893">||</span>&nbsp;<span class="ident" id="8162896">delta</span><span class="op" id="8162901">(</span><span class="ident" id="8162902">g0</span><span class="op" id="8162904">,</span>&nbsp;<span class="ident" id="8162906">g1</span><span class="op" id="8162908">)</span>&nbsp;<span class="op" id="8162910">&gt;</span>&nbsp;<span class="num" id="8162912">1</span>&nbsp;<span class="op" id="8162914">||</span>&nbsp;<span class="ident" id="8162917">delta</span><span class="op" id="8162922">(</span><span class="ident" id="8162923">b0</span><span class="op" id="8162925">,</span>&nbsp;<span class="ident" id="8162927">b1</span><span class="op" id="8162929">)</span>&nbsp;<span class="op" id="8162931">&gt;</span>&nbsp;<span class="num" id="8162933">1</span>&nbsp;<span class="op" id="8162935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8162942">t</span><span class="op" id="8162943">.</span><span class="ident" id="8162944">Fatalf</span><span class="op" id="8162950">(</span><span class="string" id="8162951">&#34;r0,&nbsp;g0,&nbsp;b0&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d&nbsp;&nbsp;&nbsp;r1,&nbsp;g1,&nbsp;b1&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="8163002">,</span>&nbsp;<span class="ident" id="8163004">r0</span><span class="op" id="8163006">,</span>&nbsp;<span class="ident" id="8163008">g0</span><span class="op" id="8163010">,</span>&nbsp;<span class="ident" id="8163012">b0</span><span class="op" id="8163014">,</span>&nbsp;<span class="ident" id="8163016">r1</span><span class="op" id="8163018">,</span>&nbsp;<span class="ident" id="8163020">g1</span><span class="op" id="8163022">,</span>&nbsp;<span class="ident" id="8163024">b1</span><span class="op" id="8163026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8163032">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8163037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8163041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8163044">}</span><br>
<span class="lineno"></span><span class="op" id="8163046">}</span>
</div>
</body>
</html>
