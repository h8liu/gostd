<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template/parse</h2>
<ul>
<li><a href="/gostd/text/template/parse/lex.go.html" class="current">lex.go</a></li>
<li><a href="/gostd/text/template/parse/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/text/template/parse/node.go.html">node.go</a></li>
<li><a href="/gostd/text/template/parse/parse.go.html">parse.go</a></li>
<li><a href="/gostd/text/template/parse/parse_test.go.html">parse_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3146167">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3146222">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3146276">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3146327">package</span>&nbsp;<span class="ident" id="3146335">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3146342">import</span>&nbsp;<span class="op" id="3146349">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3146352">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3146359">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3146370">&#34;unicode&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3146381">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3146396">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3146399">//&nbsp;item&nbsp;represents&nbsp;a&nbsp;token&nbsp;or&nbsp;text&nbsp;string&nbsp;returned&nbsp;from&nbsp;the&nbsp;scanner.</span><br>
<span class="lineno">15</span><span class="keyword" id="3146468">type</span>&nbsp;<span class="ident" id="3146473">item</span>&nbsp;<span class="keyword" id="3146478">struct</span>&nbsp;<span class="op" id="3146485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3146488">typ</span>&nbsp;<span class="ident" id="3146492"><a href="/gostd/text/template/parse/lex.go.html#3146993">itemType</a></span>&nbsp;<span class="comment" id="3146501">//&nbsp;The&nbsp;type&nbsp;of&nbsp;this&nbsp;item.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3146528">pos</span>&nbsp;<span class="ident" id="3146532"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3146541">//&nbsp;The&nbsp;starting&nbsp;position,&nbsp;in&nbsp;bytes,&nbsp;of&nbsp;this&nbsp;item&nbsp;in&nbsp;the&nbsp;input&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3146612">val</span>&nbsp;<span class="builtintype" id="3146616">string</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3146625">//&nbsp;The&nbsp;value&nbsp;of&nbsp;this&nbsp;item.</span><br>
<span class="lineno"></span><span class="op" id="3146652">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="3146655">func</span>&nbsp;<span class="op" id="3146660">(</span><span class="ident" id="3146661">i</span>&nbsp;<span class="ident" id="3146663"><a href="/gostd/text/template/parse/lex.go.html#3146473">item</a></span><span class="op" id="3146667">)</span>&nbsp;<span class="ident" id="3146669">String</span><span class="op" id="3146675">(</span><span class="op" id="3146676">)</span>&nbsp;<span class="builtintype" id="3146678">string</span>&nbsp;<span class="op" id="3146685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3146688">switch</span>&nbsp;<span class="op" id="3146695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3146698">case</span>&nbsp;<span class="ident" id="3146703"><a href="/gostd/text/template/parse/lex.go.html#3146661">i</a></span><span class="op" id="3146704">.</span><span class="ident" id="3146705"><a href="/gostd/text/template/parse/lex.go.html#3146488">typ</a></span>&nbsp;<span class="op" id="3146709">==</span>&nbsp;<span class="ident" id="3146712"><a href="/gostd/text/template/parse/lex.go.html#3147462">itemEOF</a></span><span class="op" id="3146719">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3146723">return</span>&nbsp;<span class="string" id="3146730">&#34;EOF&#34;</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3146737">case</span>&nbsp;<span class="ident" id="3146742"><a href="/gostd/text/template/parse/lex.go.html#3146661">i</a></span><span class="op" id="3146743">.</span><span class="ident" id="3146744"><a href="/gostd/text/template/parse/lex.go.html#3146488">typ</a></span>&nbsp;<span class="op" id="3146748">==</span>&nbsp;<span class="ident" id="3146751"><a href="/gostd/text/template/parse/lex.go.html#3147016">itemError</a></span><span class="op" id="3146760">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3146764">return</span>&nbsp;<span class="ident" id="3146771"><a href="/gostd/text/template/parse/lex.go.html#3146661">i</a></span><span class="op" id="3146772">.</span><span class="ident" id="3146773"><a href="/gostd/text/template/parse/lex.go.html#3146612">val</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3146778">case</span>&nbsp;<span class="ident" id="3146783"><a href="/gostd/text/template/parse/lex.go.html#3146661">i</a></span><span class="op" id="3146784">.</span><span class="ident" id="3146785"><a href="/gostd/text/template/parse/lex.go.html#3146488">typ</a></span>&nbsp;<span class="op" id="3146789">&gt;</span>&nbsp;<span class="ident" id="3146791"><a href="/gostd/text/template/parse/lex.go.html#3148149">itemKeyword</a></span><span class="op" id="3146802">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3146806">return</span>&nbsp;<span class="ident" id="3146813"><a href="/gostd/text/template/parse/lex.go.html#3146352">fmt</a></span><span class="op" id="3146816">.</span><span class="ident" id="3146817"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3146824">(</span><span class="string" id="3146825">&#34;&lt;%s&gt;&#34;</span><span class="op" id="3146831">,</span>&nbsp;<span class="ident" id="3146833"><a href="/gostd/text/template/parse/lex.go.html#3146661">i</a></span><span class="op" id="3146834">.</span><span class="ident" id="3146835"><a href="/gostd/text/template/parse/lex.go.html#3146612">val</a></span><span class="op" id="3146838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3146841">case</span>&nbsp;<span class="builtinfunc" id="3146846">len</span><span class="op" id="3146849">(</span><span class="ident" id="3146850"><a href="/gostd/text/template/parse/lex.go.html#3146661">i</a></span><span class="op" id="3146851">.</span><span class="ident" id="3146852"><a href="/gostd/text/template/parse/lex.go.html#3146612">val</a></span><span class="op" id="3146855">)</span>&nbsp;<span class="op" id="3146857">&gt;</span>&nbsp;<span class="num" id="3146859">10</span><span class="op" id="3146861">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3146865">return</span>&nbsp;<span class="ident" id="3146872"><a href="/gostd/text/template/parse/lex.go.html#3146352">fmt</a></span><span class="op" id="3146875">.</span><span class="ident" id="3146876"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3146883">(</span><span class="string" id="3146884">&#34;%.10q...&#34;</span><span class="op" id="3146894">,</span>&nbsp;<span class="ident" id="3146896"><a href="/gostd/text/template/parse/lex.go.html#3146661">i</a></span><span class="op" id="3146897">.</span><span class="ident" id="3146898"><a href="/gostd/text/template/parse/lex.go.html#3146612">val</a></span><span class="op" id="3146901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3146904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3146907">return</span>&nbsp;<span class="ident" id="3146914"><a href="/gostd/text/template/parse/lex.go.html#3146352">fmt</a></span><span class="op" id="3146917">.</span><span class="ident" id="3146918"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3146925">(</span><span class="string" id="3146926">&#34;%q&#34;</span><span class="op" id="3146930">,</span>&nbsp;<span class="ident" id="3146932"><a href="/gostd/text/template/parse/lex.go.html#3146661">i</a></span><span class="op" id="3146933">.</span><span class="ident" id="3146934"><a href="/gostd/text/template/parse/lex.go.html#3146612">val</a></span><span class="op" id="3146937">)</span><br>
<span class="lineno"></span><span class="op" id="3146939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="3146942">//&nbsp;itemType&nbsp;identifies&nbsp;the&nbsp;type&nbsp;of&nbsp;lex&nbsp;items.</span><br>
<span class="lineno"></span><span class="keyword" id="3146988">type</span>&nbsp;<span class="ident" id="3146993">itemType</span>&nbsp;<span class="builtintype" id="3147002">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3147007">const</span>&nbsp;<span class="op" id="3147013">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147016">itemError</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147033"><a href="/gostd/text/template/parse/lex.go.html#3146993">itemType</a></span>&nbsp;<span class="op" id="3147042">=</span>&nbsp;<span class="ident" id="3147044">iota</span>&nbsp;<span class="comment" id="3147049">//&nbsp;error&nbsp;occurred;&nbsp;value&nbsp;is&nbsp;text&nbsp;of&nbsp;error</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147092">itemBool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3147125">//&nbsp;boolean&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147146">itemChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3147179">//&nbsp;printable&nbsp;ASCII&nbsp;character;&nbsp;grab&nbsp;bag&nbsp;for&nbsp;comma&nbsp;etc.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147234">itemCharConstant</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3147267">//&nbsp;character&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147290">itemComplex</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3147323">//&nbsp;complex&nbsp;constant&nbsp;(1+2i);&nbsp;imaginary&nbsp;is&nbsp;just&nbsp;a&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147379">itemColonEquals</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3147412">//&nbsp;colon-equals&nbsp;(&#39;:=&#39;)&nbsp;introducing&nbsp;a&nbsp;declaration</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147462">itemEOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147471">itemField</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3147486">//&nbsp;alphanumeric&nbsp;identifier&nbsp;starting&nbsp;with&nbsp;&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147532">itemIdentifier</span>&nbsp;<span class="comment" id="3147547">//&nbsp;alphanumeric&nbsp;identifier&nbsp;not&nbsp;starting&nbsp;with&nbsp;&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147597">itemLeftDelim</span>&nbsp;&nbsp;<span class="comment" id="3147612">//&nbsp;left&nbsp;action&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147638">itemLeftParen</span>&nbsp;&nbsp;<span class="comment" id="3147653">//&nbsp;&#39;(&#39;&nbsp;inside&nbsp;action</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147675">itemNumber</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3147690">//&nbsp;simple&nbsp;number,&nbsp;including&nbsp;imaginary</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147729">itemPipe</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3147744">//&nbsp;pipe&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147760">itemRawString</span>&nbsp;&nbsp;<span class="comment" id="3147775">//&nbsp;raw&nbsp;quoted&nbsp;string&nbsp;(includes&nbsp;quotes)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147815">itemRightDelim</span>&nbsp;<span class="comment" id="3147830">//&nbsp;right&nbsp;action&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147857">itemRightParen</span>&nbsp;<span class="comment" id="3147872">//&nbsp;&#39;)&#39;&nbsp;inside&nbsp;action</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147894">itemSpace</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3147909">//&nbsp;run&nbsp;of&nbsp;spaces&nbsp;separating&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147948">itemString</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3147963">//&nbsp;quoted&nbsp;string&nbsp;(includes&nbsp;quotes)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3147999">itemText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3148014">//&nbsp;plain&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148029">itemVariable</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3148044">//&nbsp;variable&nbsp;starting&nbsp;with&nbsp;&#39;$&#39;,&nbsp;such&nbsp;as&nbsp;&#39;$&#39;&nbsp;or&nbsp;&nbsp;&#39;$1&#39;&nbsp;or&nbsp;&#39;$hello&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3148109">//&nbsp;Keywords&nbsp;appear&nbsp;after&nbsp;all&nbsp;the&nbsp;rest.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148149">itemKeyword</span>&nbsp;&nbsp;<span class="comment" id="3148162">//&nbsp;used&nbsp;only&nbsp;to&nbsp;delimit&nbsp;the&nbsp;keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148200">itemDot</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3148213">//&nbsp;the&nbsp;cursor,&nbsp;spelled&nbsp;&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148241">itemDefine</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3148254">//&nbsp;define&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148273">itemElse</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3148286">//&nbsp;else&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148303">itemEnd</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3148316">//&nbsp;end&nbsp;keyword</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148332">itemIf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3148345">//&nbsp;if&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148360">itemNil</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3148373">//&nbsp;the&nbsp;untyped&nbsp;nil&nbsp;constant,&nbsp;easiest&nbsp;to&nbsp;treat&nbsp;as&nbsp;a&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148433">itemRange</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3148446">//&nbsp;range&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148464">itemTemplate</span>&nbsp;<span class="comment" id="3148477">//&nbsp;template&nbsp;keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148498">itemWith</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3148511">//&nbsp;with&nbsp;keyword</span><br>
<span class="lineno">70</span><span class="op" id="3148527">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3148530">var</span>&nbsp;<span class="ident" id="3148534">key</span>&nbsp;<span class="op" id="3148538">=</span>&nbsp;<span class="keyword" id="3148540">map</span><span class="op" id="3148543">[</span><span class="builtintype" id="3148544">string</span><span class="op" id="3148550">]</span><span class="ident" id="3148551"><a href="/gostd/text/template/parse/lex.go.html#3146993">itemType</a></span><span class="op" id="3148559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3148562">&#34;.&#34;</span><span class="op" id="3148565">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148574"><a href="/gostd/text/template/parse/lex.go.html#3148200">itemDot</a></span><span class="op" id="3148581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3148584">&#34;define&#34;</span><span class="op" id="3148592">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3148596"><a href="/gostd/text/template/parse/lex.go.html#3148241">itemDefine</a></span><span class="op" id="3148606">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3148609">&#34;else&#34;</span><span class="op" id="3148615">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148621"><a href="/gostd/text/template/parse/lex.go.html#3148273">itemElse</a></span><span class="op" id="3148629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3148632">&#34;end&#34;</span><span class="op" id="3148637">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148644"><a href="/gostd/text/template/parse/lex.go.html#3148303">itemEnd</a></span><span class="op" id="3148651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3148654">&#34;if&#34;</span><span class="op" id="3148658">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148666"><a href="/gostd/text/template/parse/lex.go.html#3148332">itemIf</a></span><span class="op" id="3148672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3148675">&#34;range&#34;</span><span class="op" id="3148682">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148687"><a href="/gostd/text/template/parse/lex.go.html#3148433">itemRange</a></span><span class="op" id="3148696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3148699">&#34;nil&#34;</span><span class="op" id="3148704">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148711"><a href="/gostd/text/template/parse/lex.go.html#3148360">itemNil</a></span><span class="op" id="3148718">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3148721">&#34;template&#34;</span><span class="op" id="3148731">:</span>&nbsp;<span class="ident" id="3148733"><a href="/gostd/text/template/parse/lex.go.html#3148464">itemTemplate</a></span><span class="op" id="3148745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3148748">&#34;with&#34;</span><span class="op" id="3148754">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148760"><a href="/gostd/text/template/parse/lex.go.html#3148498">itemWith</a></span><span class="op" id="3148768">,</span><br>
<span class="lineno"></span><span class="op" id="3148770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3148773">const</span>&nbsp;<span class="ident" id="3148779">eof</span>&nbsp;<span class="op" id="3148783">=</span>&nbsp;<span class="op" id="3148785">-</span><span class="num" id="3148786">1</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="3148789">//&nbsp;stateFn&nbsp;represents&nbsp;the&nbsp;state&nbsp;of&nbsp;the&nbsp;scanner&nbsp;as&nbsp;a&nbsp;function&nbsp;that&nbsp;returns&nbsp;the&nbsp;next&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="3148879">type</span>&nbsp;<span class="ident" id="3148884">stateFn</span>&nbsp;<span class="keyword" id="3148892">func</span><span class="op" id="3148896">(</span><span class="op" id="3148897">*</span><span class="ident" id="3148898"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3148903">)</span>&nbsp;<span class="ident" id="3148905"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3148914">//&nbsp;lexer&nbsp;holds&nbsp;the&nbsp;state&nbsp;of&nbsp;the&nbsp;scanner.</span><br>
<span class="lineno">90</span><span class="keyword" id="3148955">type</span>&nbsp;<span class="ident" id="3148960">lexer</span>&nbsp;<span class="keyword" id="3148966">struct</span>&nbsp;<span class="op" id="3148973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3148976">name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3148987">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3148997">//&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;input;&nbsp;used&nbsp;only&nbsp;for&nbsp;error&nbsp;reports</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149052">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3149063">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3149073">//&nbsp;the&nbsp;string&nbsp;being&nbsp;scanned</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149102">leftDelim</span>&nbsp;&nbsp;<span class="builtintype" id="3149113">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3149123">//&nbsp;start&nbsp;of&nbsp;action</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149143">rightDelim</span>&nbsp;<span class="builtintype" id="3149154">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3149164">//&nbsp;end&nbsp;of&nbsp;action</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149182">state</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149193"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3149203">//&nbsp;the&nbsp;next&nbsp;lexing&nbsp;function&nbsp;to&nbsp;enter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149241">pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149252"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3149262">//&nbsp;current&nbsp;position&nbsp;in&nbsp;the&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149296">start</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149307"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3149317">//&nbsp;start&nbsp;position&nbsp;of&nbsp;this&nbsp;item</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149349">width</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149360"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3149370">//&nbsp;width&nbsp;of&nbsp;last&nbsp;rune&nbsp;read&nbsp;from&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149409">lastPos</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149420"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3149430">//&nbsp;position&nbsp;of&nbsp;most&nbsp;recent&nbsp;item&nbsp;returned&nbsp;by&nbsp;nextItem</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149484">items</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3149495">chan</span>&nbsp;<span class="ident" id="3149500"><a href="/gostd/text/template/parse/lex.go.html#3146473">item</a></span>&nbsp;<span class="comment" id="3149505">//&nbsp;channel&nbsp;of&nbsp;scanned&nbsp;items</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149534">parenDepth</span>&nbsp;<span class="builtintype" id="3149545">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3149555">//&nbsp;nesting&nbsp;depth&nbsp;of&nbsp;(&nbsp;)&nbsp;exprs</span><br>
<span class="lineno"></span><span class="op" id="3149585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3149588">//&nbsp;next&nbsp;returns&nbsp;the&nbsp;next&nbsp;rune&nbsp;in&nbsp;the&nbsp;input.</span><br>
<span class="lineno">105</span><span class="keyword" id="3149632">func</span>&nbsp;<span class="op" id="3149637">(</span><span class="ident" id="3149638">l</span>&nbsp;<span class="op" id="3149640">*</span><span class="ident" id="3149641"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3149646">)</span>&nbsp;<span class="ident" id="3149648">next</span><span class="op" id="3149652">(</span><span class="op" id="3149653">)</span>&nbsp;<span class="builtintype" id="3149655">rune</span>&nbsp;<span class="op" id="3149660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3149663">if</span>&nbsp;<span class="builtintype" id="3149666">int</span><span class="op" id="3149669">(</span><span class="ident" id="3149670"><a href="/gostd/text/template/parse/lex.go.html#3149638">l</a></span><span class="op" id="3149671">.</span><span class="ident" id="3149672"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span><span class="op" id="3149675">)</span>&nbsp;<span class="op" id="3149677">&gt;=</span>&nbsp;<span class="builtinfunc" id="3149680">len</span><span class="op" id="3149683">(</span><span class="ident" id="3149684"><a href="/gostd/text/template/parse/lex.go.html#3149638">l</a></span><span class="op" id="3149685">.</span><span class="ident" id="3149686"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3149691">)</span>&nbsp;<span class="op" id="3149693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149697"><a href="/gostd/text/template/parse/lex.go.html#3149638">l</a></span><span class="op" id="3149698">.</span><span class="ident" id="3149699"><a href="/gostd/text/template/parse/lex.go.html#3149349">width</a></span>&nbsp;<span class="op" id="3149705">=</span>&nbsp;<span class="num" id="3149707">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3149711">return</span>&nbsp;<span class="ident" id="3149718"><a href="/gostd/text/template/parse/lex.go.html#3148779">eof</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3149723">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149726">r</span><span class="op" id="3149727">,</span>&nbsp;<span class="ident" id="3149729">w</span>&nbsp;<span class="op" id="3149731">:=</span>&nbsp;<span class="ident" id="3149734"><a href="/gostd/text/template/parse/lex.go.html#3146381">utf8</a></span><span class="op" id="3149738">.</span><span class="ident" id="3149739"><a href="/gostd/unicode/utf8/utf8.go.html#1810428">DecodeRuneInString</a></span><span class="op" id="3149757">(</span><span class="ident" id="3149758"><a href="/gostd/text/template/parse/lex.go.html#3149638">l</a></span><span class="op" id="3149759">.</span><span class="ident" id="3149760"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3149765">[</span><span class="ident" id="3149766"><a href="/gostd/text/template/parse/lex.go.html#3149638">l</a></span><span class="op" id="3149767">.</span><span class="ident" id="3149768"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span><span class="op" id="3149771">:</span><span class="op" id="3149772">]</span><span class="op" id="3149773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149776"><a href="/gostd/text/template/parse/lex.go.html#3149638">l</a></span><span class="op" id="3149777">.</span><span class="ident" id="3149778"><a href="/gostd/text/template/parse/lex.go.html#3149349">width</a></span>&nbsp;<span class="op" id="3149784">=</span>&nbsp;<span class="ident" id="3149786"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3149789">(</span><span class="ident" id="3149790"><a href="/gostd/text/template/parse/lex.go.html#3149729">w</a></span><span class="op" id="3149791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149794"><a href="/gostd/text/template/parse/lex.go.html#3149638">l</a></span><span class="op" id="3149795">.</span><span class="ident" id="3149796"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span>&nbsp;<span class="op" id="3149800">+=</span>&nbsp;<span class="ident" id="3149803"><a href="/gostd/text/template/parse/lex.go.html#3149638">l</a></span><span class="op" id="3149804">.</span><span class="ident" id="3149805"><a href="/gostd/text/template/parse/lex.go.html#3149349">width</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3149812">return</span>&nbsp;<span class="ident" id="3149819"><a href="/gostd/text/template/parse/lex.go.html#3149726">r</a></span><br>
<span class="lineno"></span><span class="op" id="3149821">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="3149824">//&nbsp;peek&nbsp;returns&nbsp;but&nbsp;does&nbsp;not&nbsp;consume&nbsp;the&nbsp;next&nbsp;rune&nbsp;in&nbsp;the&nbsp;input.</span><br>
<span class="lineno"></span><span class="keyword" id="3149889">func</span>&nbsp;<span class="op" id="3149894">(</span><span class="ident" id="3149895">l</span>&nbsp;<span class="op" id="3149897">*</span><span class="ident" id="3149898"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3149903">)</span>&nbsp;<span class="ident" id="3149905">peek</span><span class="op" id="3149909">(</span><span class="op" id="3149910">)</span>&nbsp;<span class="builtintype" id="3149912">rune</span>&nbsp;<span class="op" id="3149917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149920">r</span>&nbsp;<span class="op" id="3149922">:=</span>&nbsp;<span class="ident" id="3149925"><a href="/gostd/text/template/parse/lex.go.html#3149895">l</a></span><span class="op" id="3149926">.</span><span class="ident" id="3149927"><a href="/gostd/text/template/parse/lex.go.html#3149648">next</a></span><span class="op" id="3149931">(</span><span class="op" id="3149932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3149935"><a href="/gostd/text/template/parse/lex.go.html#3149895">l</a></span><span class="op" id="3149936">.</span><span class="ident" id="3149937"><a href="/gostd/text/template/parse/lex.go.html#3150048">backup</a></span><span class="op" id="3149943">(</span><span class="op" id="3149944">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3149947">return</span>&nbsp;<span class="ident" id="3149954"><a href="/gostd/text/template/parse/lex.go.html#3149920">r</a></span><br>
<span class="lineno"></span><span class="op" id="3149956">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3149959">//&nbsp;backup&nbsp;steps&nbsp;back&nbsp;one&nbsp;rune.&nbsp;Can&nbsp;only&nbsp;be&nbsp;called&nbsp;once&nbsp;per&nbsp;call&nbsp;of&nbsp;next.</span><br>
<span class="lineno"></span><span class="keyword" id="3150032">func</span>&nbsp;<span class="op" id="3150037">(</span><span class="ident" id="3150038">l</span>&nbsp;<span class="op" id="3150040">*</span><span class="ident" id="3150041"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3150046">)</span>&nbsp;<span class="ident" id="3150048">backup</span><span class="op" id="3150054">(</span><span class="op" id="3150055">)</span>&nbsp;<span class="op" id="3150057">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3150060"><a href="/gostd/text/template/parse/lex.go.html#3150038">l</a></span><span class="op" id="3150061">.</span><span class="ident" id="3150062"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span>&nbsp;<span class="op" id="3150066">-=</span>&nbsp;<span class="ident" id="3150069"><a href="/gostd/text/template/parse/lex.go.html#3150038">l</a></span><span class="op" id="3150070">.</span><span class="ident" id="3150071"><a href="/gostd/text/template/parse/lex.go.html#3149349">width</a></span><br>
<span class="lineno"></span><span class="op" id="3150077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3150080">//&nbsp;emit&nbsp;passes&nbsp;an&nbsp;item&nbsp;back&nbsp;to&nbsp;the&nbsp;client.</span><br>
<span class="lineno"></span><span class="keyword" id="3150123">func</span>&nbsp;<span class="op" id="3150128">(</span><span class="ident" id="3150129">l</span>&nbsp;<span class="op" id="3150131">*</span><span class="ident" id="3150132"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3150137">)</span>&nbsp;<span class="ident" id="3150139">emit</span><span class="op" id="3150143">(</span><span class="ident" id="3150144">t</span>&nbsp;<span class="ident" id="3150146"><a href="/gostd/text/template/parse/lex.go.html#3146993">itemType</a></span><span class="op" id="3150154">)</span>&nbsp;<span class="op" id="3150156">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3150159"><a href="/gostd/text/template/parse/lex.go.html#3150129">l</a></span><span class="op" id="3150160">.</span><span class="ident" id="3150161"><a href="/gostd/text/template/parse/lex.go.html#3149484">items</a></span>&nbsp;<span class="op" id="3150167">&lt;-</span>&nbsp;<span class="ident" id="3150170"><a href="/gostd/text/template/parse/lex.go.html#3146473">item</a></span><span class="op" id="3150174">{</span><span class="ident" id="3150175"><a href="/gostd/text/template/parse/lex.go.html#3150144">t</a></span><span class="op" id="3150176">,</span>&nbsp;<span class="ident" id="3150178"><a href="/gostd/text/template/parse/lex.go.html#3150129">l</a></span><span class="op" id="3150179">.</span><span class="ident" id="3150180"><a href="/gostd/text/template/parse/lex.go.html#3149296">start</a></span><span class="op" id="3150185">,</span>&nbsp;<span class="ident" id="3150187"><a href="/gostd/text/template/parse/lex.go.html#3150129">l</a></span><span class="op" id="3150188">.</span><span class="ident" id="3150189"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3150194">[</span><span class="ident" id="3150195"><a href="/gostd/text/template/parse/lex.go.html#3150129">l</a></span><span class="op" id="3150196">.</span><span class="ident" id="3150197"><a href="/gostd/text/template/parse/lex.go.html#3149296">start</a></span><span class="op" id="3150202">:</span><span class="ident" id="3150203"><a href="/gostd/text/template/parse/lex.go.html#3150129">l</a></span><span class="op" id="3150204">.</span><span class="ident" id="3150205"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span><span class="op" id="3150208">]</span><span class="op" id="3150209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3150212"><a href="/gostd/text/template/parse/lex.go.html#3150129">l</a></span><span class="op" id="3150213">.</span><span class="ident" id="3150214"><a href="/gostd/text/template/parse/lex.go.html#3149296">start</a></span>&nbsp;<span class="op" id="3150220">=</span>&nbsp;<span class="ident" id="3150222"><a href="/gostd/text/template/parse/lex.go.html#3150129">l</a></span><span class="op" id="3150223">.</span><span class="ident" id="3150224"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span><br>
<span class="lineno"></span><span class="op" id="3150228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3150231">//&nbsp;ignore&nbsp;skips&nbsp;over&nbsp;the&nbsp;pending&nbsp;input&nbsp;before&nbsp;this&nbsp;point.</span><br>
<span class="lineno">135</span><span class="keyword" id="3150289">func</span>&nbsp;<span class="op" id="3150294">(</span><span class="ident" id="3150295">l</span>&nbsp;<span class="op" id="3150297">*</span><span class="ident" id="3150298"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3150303">)</span>&nbsp;<span class="ident" id="3150305">ignore</span><span class="op" id="3150311">(</span><span class="op" id="3150312">)</span>&nbsp;<span class="op" id="3150314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3150317"><a href="/gostd/text/template/parse/lex.go.html#3150295">l</a></span><span class="op" id="3150318">.</span><span class="ident" id="3150319"><a href="/gostd/text/template/parse/lex.go.html#3149296">start</a></span>&nbsp;<span class="op" id="3150325">=</span>&nbsp;<span class="ident" id="3150327"><a href="/gostd/text/template/parse/lex.go.html#3150295">l</a></span><span class="op" id="3150328">.</span><span class="ident" id="3150329"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span><br>
<span class="lineno"></span><span class="op" id="3150333">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3150336">//&nbsp;accept&nbsp;consumes&nbsp;the&nbsp;next&nbsp;rune&nbsp;if&nbsp;it&#39;s&nbsp;from&nbsp;the&nbsp;valid&nbsp;set.</span><br>
<span class="lineno">140</span><span class="keyword" id="3150397">func</span>&nbsp;<span class="op" id="3150402">(</span><span class="ident" id="3150403">l</span>&nbsp;<span class="op" id="3150405">*</span><span class="ident" id="3150406"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3150411">)</span>&nbsp;<span class="ident" id="3150413">accept</span><span class="op" id="3150419">(</span><span class="ident" id="3150420">valid</span>&nbsp;<span class="builtintype" id="3150426">string</span><span class="op" id="3150432">)</span>&nbsp;<span class="builtintype" id="3150434">bool</span>&nbsp;<span class="op" id="3150439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3150442">if</span>&nbsp;<span class="ident" id="3150445"><a href="/gostd/text/template/parse/lex.go.html#3146359">strings</a></span><span class="op" id="3150452">.</span><span class="ident" id="3150453"><a href="/gostd/strings/strings.go.html#2970424">IndexRune</a></span><span class="op" id="3150462">(</span><span class="ident" id="3150463"><a href="/gostd/text/template/parse/lex.go.html#3150420">valid</a></span><span class="op" id="3150468">,</span>&nbsp;<span class="ident" id="3150470"><a href="/gostd/text/template/parse/lex.go.html#3150403">l</a></span><span class="op" id="3150471">.</span><span class="ident" id="3150472"><a href="/gostd/text/template/parse/lex.go.html#3149648">next</a></span><span class="op" id="3150476">(</span><span class="op" id="3150477">)</span><span class="op" id="3150478">)</span>&nbsp;<span class="op" id="3150480">&gt;=</span>&nbsp;<span class="num" id="3150483">0</span>&nbsp;<span class="op" id="3150485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3150489">return</span>&nbsp;<span class="builtintype" id="3150496">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3150502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3150505"><a href="/gostd/text/template/parse/lex.go.html#3150403">l</a></span><span class="op" id="3150506">.</span><span class="ident" id="3150507"><a href="/gostd/text/template/parse/lex.go.html#3150048">backup</a></span><span class="op" id="3150513">(</span><span class="op" id="3150514">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3150517">return</span>&nbsp;<span class="builtintype" id="3150524">false</span><br>
<span class="lineno"></span><span class="op" id="3150530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3150533">//&nbsp;acceptRun&nbsp;consumes&nbsp;a&nbsp;run&nbsp;of&nbsp;runes&nbsp;from&nbsp;the&nbsp;valid&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="3150590">func</span>&nbsp;<span class="op" id="3150595">(</span><span class="ident" id="3150596">l</span>&nbsp;<span class="op" id="3150598">*</span><span class="ident" id="3150599"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3150604">)</span>&nbsp;<span class="ident" id="3150606">acceptRun</span><span class="op" id="3150615">(</span><span class="ident" id="3150616">valid</span>&nbsp;<span class="builtintype" id="3150622">string</span><span class="op" id="3150628">)</span>&nbsp;<span class="op" id="3150630">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3150633">for</span>&nbsp;<span class="ident" id="3150637"><a href="/gostd/text/template/parse/lex.go.html#3146359">strings</a></span><span class="op" id="3150644">.</span><span class="ident" id="3150645"><a href="/gostd/strings/strings.go.html#2970424">IndexRune</a></span><span class="op" id="3150654">(</span><span class="ident" id="3150655"><a href="/gostd/text/template/parse/lex.go.html#3150616">valid</a></span><span class="op" id="3150660">,</span>&nbsp;<span class="ident" id="3150662"><a href="/gostd/text/template/parse/lex.go.html#3150596">l</a></span><span class="op" id="3150663">.</span><span class="ident" id="3150664"><a href="/gostd/text/template/parse/lex.go.html#3149648">next</a></span><span class="op" id="3150668">(</span><span class="op" id="3150669">)</span><span class="op" id="3150670">)</span>&nbsp;<span class="op" id="3150672">&gt;=</span>&nbsp;<span class="num" id="3150675">0</span>&nbsp;<span class="op" id="3150677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3150680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3150683"><a href="/gostd/text/template/parse/lex.go.html#3150596">l</a></span><span class="op" id="3150684">.</span><span class="ident" id="3150685"><a href="/gostd/text/template/parse/lex.go.html#3150048">backup</a></span><span class="op" id="3150691">(</span><span class="op" id="3150692">)</span><br>
<span class="lineno"></span><span class="op" id="3150694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="comment" id="3150697">//&nbsp;lineNumber&nbsp;reports&nbsp;which&nbsp;line&nbsp;we&#39;re&nbsp;on,&nbsp;based&nbsp;on&nbsp;the&nbsp;position&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3150765">//&nbsp;the&nbsp;previous&nbsp;item&nbsp;returned&nbsp;by&nbsp;nextItem.&nbsp;Doing&nbsp;it&nbsp;this&nbsp;way</span><br>
<span class="lineno"></span><span class="comment" id="3150826">//&nbsp;means&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;to&nbsp;worry&nbsp;about&nbsp;peek&nbsp;double&nbsp;counting.</span><br>
<span class="lineno"></span><span class="keyword" id="3150886">func</span>&nbsp;<span class="op" id="3150891">(</span><span class="ident" id="3150892">l</span>&nbsp;<span class="op" id="3150894">*</span><span class="ident" id="3150895"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3150900">)</span>&nbsp;<span class="ident" id="3150902">lineNumber</span><span class="op" id="3150912">(</span><span class="op" id="3150913">)</span>&nbsp;<span class="builtintype" id="3150915">int</span>&nbsp;<span class="op" id="3150919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3150922">return</span>&nbsp;<span class="num" id="3150929">1</span>&nbsp;<span class="op" id="3150931">+</span>&nbsp;<span class="ident" id="3150933"><a href="/gostd/text/template/parse/lex.go.html#3146359">strings</a></span><span class="op" id="3150940">.</span><span class="ident" id="3150941"><a href="/gostd/strings/strings.go.html#2967531">Count</a></span><span class="op" id="3150946">(</span><span class="ident" id="3150947"><a href="/gostd/text/template/parse/lex.go.html#3150892">l</a></span><span class="op" id="3150948">.</span><span class="ident" id="3150949"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3150954">[</span><span class="op" id="3150955">:</span><span class="ident" id="3150956"><a href="/gostd/text/template/parse/lex.go.html#3150892">l</a></span><span class="op" id="3150957">.</span><span class="ident" id="3150958"><a href="/gostd/text/template/parse/lex.go.html#3149409">lastPos</a></span><span class="op" id="3150965">]</span><span class="op" id="3150966">,</span>&nbsp;<span class="string" id="3150968">&#34;\n&#34;</span><span class="op" id="3150972">)</span><br>
<span class="lineno">160</span><span class="op" id="3150974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3150977">//&nbsp;errorf&nbsp;returns&nbsp;an&nbsp;error&nbsp;token&nbsp;and&nbsp;terminates&nbsp;the&nbsp;scan&nbsp;by&nbsp;passing</span><br>
<span class="lineno"></span><span class="comment" id="3151045">//&nbsp;back&nbsp;a&nbsp;nil&nbsp;pointer&nbsp;that&nbsp;will&nbsp;be&nbsp;the&nbsp;next&nbsp;state,&nbsp;terminating&nbsp;l.nextItem.</span><br>
<span class="lineno"></span><span class="keyword" id="3151120">func</span>&nbsp;<span class="op" id="3151125">(</span><span class="ident" id="3151126">l</span>&nbsp;<span class="op" id="3151128">*</span><span class="ident" id="3151129"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3151134">)</span>&nbsp;<span class="ident" id="3151136">errorf</span><span class="op" id="3151142">(</span><span class="ident" id="3151143">format</span>&nbsp;<span class="builtintype" id="3151150">string</span><span class="op" id="3151156">,</span>&nbsp;<span class="ident" id="3151158">args</span>&nbsp;<span class="op" id="3151163">...</span><span class="keyword" id="3151166">interface</span><span class="op" id="3151175">{</span><span class="op" id="3151176">}</span><span class="op" id="3151177">)</span>&nbsp;<span class="ident" id="3151179"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;<span class="op" id="3151187">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151190"><a href="/gostd/text/template/parse/lex.go.html#3151126">l</a></span><span class="op" id="3151191">.</span><span class="ident" id="3151192"><a href="/gostd/text/template/parse/lex.go.html#3149484">items</a></span>&nbsp;<span class="op" id="3151198">&lt;-</span>&nbsp;<span class="ident" id="3151201"><a href="/gostd/text/template/parse/lex.go.html#3146473">item</a></span><span class="op" id="3151205">{</span><span class="ident" id="3151206"><a href="/gostd/text/template/parse/lex.go.html#3147016">itemError</a></span><span class="op" id="3151215">,</span>&nbsp;<span class="ident" id="3151217"><a href="/gostd/text/template/parse/lex.go.html#3151126">l</a></span><span class="op" id="3151218">.</span><span class="ident" id="3151219"><a href="/gostd/text/template/parse/lex.go.html#3149296">start</a></span><span class="op" id="3151224">,</span>&nbsp;<span class="ident" id="3151226"><a href="/gostd/text/template/parse/lex.go.html#3146352">fmt</a></span><span class="op" id="3151229">.</span><span class="ident" id="3151230"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3151237">(</span><span class="ident" id="3151238"><a href="/gostd/text/template/parse/lex.go.html#3151143">format</a></span><span class="op" id="3151244">,</span>&nbsp;<span class="ident" id="3151246"><a href="/gostd/text/template/parse/lex.go.html#3151158">args</a></span><span class="op" id="3151250">...</span><span class="op" id="3151253">)</span><span class="op" id="3151254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151257">return</span>&nbsp;<span class="builtintype" id="3151264">nil</span><br>
<span class="lineno"></span><span class="op" id="3151268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3151271">//&nbsp;nextItem&nbsp;returns&nbsp;the&nbsp;next&nbsp;item&nbsp;from&nbsp;the&nbsp;input.</span><br>
<span class="lineno">170</span><span class="keyword" id="3151321">func</span>&nbsp;<span class="op" id="3151326">(</span><span class="ident" id="3151327">l</span>&nbsp;<span class="op" id="3151329">*</span><span class="ident" id="3151330"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3151335">)</span>&nbsp;<span class="ident" id="3151337">nextItem</span><span class="op" id="3151345">(</span><span class="op" id="3151346">)</span>&nbsp;<span class="ident" id="3151348"><a href="/gostd/text/template/parse/lex.go.html#3146473">item</a></span>&nbsp;<span class="op" id="3151353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151356">item</span>&nbsp;<span class="op" id="3151361">:=</span>&nbsp;<span class="op" id="3151364">&lt;-</span><span class="ident" id="3151366"><a href="/gostd/text/template/parse/lex.go.html#3151327">l</a></span><span class="op" id="3151367">.</span><span class="ident" id="3151368"><a href="/gostd/text/template/parse/lex.go.html#3149484">items</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151375"><a href="/gostd/text/template/parse/lex.go.html#3151327">l</a></span><span class="op" id="3151376">.</span><span class="ident" id="3151377"><a href="/gostd/text/template/parse/lex.go.html#3149409">lastPos</a></span>&nbsp;<span class="op" id="3151385">=</span>&nbsp;<span class="ident" id="3151387"><a href="/gostd/text/template/parse/lex.go.html#3151356">item</a></span><span class="op" id="3151391">.</span><span class="ident" id="3151392"><a href="/gostd/text/template/parse/lex.go.html#3146528">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151397">return</span>&nbsp;<span class="ident" id="3151404"><a href="/gostd/text/template/parse/lex.go.html#3151356">item</a></span><br>
<span class="lineno"></span><span class="op" id="3151409">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="3151412">//&nbsp;lex&nbsp;creates&nbsp;a&nbsp;new&nbsp;scanner&nbsp;for&nbsp;the&nbsp;input&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3151463">func</span>&nbsp;<span class="ident" id="3151468">lex</span><span class="op" id="3151471">(</span><span class="ident" id="3151472">name</span><span class="op" id="3151476">,</span>&nbsp;<span class="ident" id="3151478">input</span><span class="op" id="3151483">,</span>&nbsp;<span class="ident" id="3151485">left</span><span class="op" id="3151489">,</span>&nbsp;<span class="ident" id="3151491">right</span>&nbsp;<span class="builtintype" id="3151497">string</span><span class="op" id="3151503">)</span>&nbsp;<span class="op" id="3151505">*</span><span class="ident" id="3151506"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span>&nbsp;<span class="op" id="3151512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151515">if</span>&nbsp;<span class="ident" id="3151518"><a href="/gostd/text/template/parse/lex.go.html#3151485">left</a></span>&nbsp;<span class="op" id="3151523">==</span>&nbsp;<span class="string" id="3151526">&#34;&#34;</span>&nbsp;<span class="op" id="3151529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151533"><a href="/gostd/text/template/parse/lex.go.html#3151485">left</a></span>&nbsp;<span class="op" id="3151538">=</span>&nbsp;<span class="ident" id="3151540"><a href="/gostd/text/template/parse/lex.go.html#3151919">leftDelim</a></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3151551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151554">if</span>&nbsp;<span class="ident" id="3151557"><a href="/gostd/text/template/parse/lex.go.html#3151491">right</a></span>&nbsp;<span class="op" id="3151563">==</span>&nbsp;<span class="string" id="3151566">&#34;&#34;</span>&nbsp;<span class="op" id="3151569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151573"><a href="/gostd/text/template/parse/lex.go.html#3151491">right</a></span>&nbsp;<span class="op" id="3151579">=</span>&nbsp;<span class="ident" id="3151581"><a href="/gostd/text/template/parse/lex.go.html#3151940">rightDelim</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3151593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151596">l</span>&nbsp;<span class="op" id="3151598">:=</span>&nbsp;<span class="op" id="3151601">&amp;</span><span class="ident" id="3151602"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3151607">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151611"><a href="/gostd/text/template/parse/lex.go.html#3148976">name</a></span><span class="op" id="3151615">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151623"><a href="/gostd/text/template/parse/lex.go.html#3151472">name</a></span><span class="op" id="3151627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151631"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3151636">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151643"><a href="/gostd/text/template/parse/lex.go.html#3151478">input</a></span><span class="op" id="3151648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151652"><a href="/gostd/text/template/parse/lex.go.html#3149102">leftDelim</a></span><span class="op" id="3151661">:</span>&nbsp;&nbsp;<span class="ident" id="3151664"><a href="/gostd/text/template/parse/lex.go.html#3151485">left</a></span><span class="op" id="3151668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151672"><a href="/gostd/text/template/parse/lex.go.html#3149143">rightDelim</a></span><span class="op" id="3151682">:</span>&nbsp;<span class="ident" id="3151684"><a href="/gostd/text/template/parse/lex.go.html#3151491">right</a></span><span class="op" id="3151689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151693"><a href="/gostd/text/template/parse/lex.go.html#3149484">items</a></span><span class="op" id="3151698">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3151705">make</span><span class="op" id="3151709">(</span><span class="keyword" id="3151710">chan</span>&nbsp;<span class="ident" id="3151715"><a href="/gostd/text/template/parse/lex.go.html#3146473">item</a></span><span class="op" id="3151719">)</span><span class="op" id="3151720">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3151723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151726">go</span>&nbsp;<span class="ident" id="3151729"><a href="/gostd/text/template/parse/lex.go.html#3151596">l</a></span><span class="op" id="3151730">.</span><span class="ident" id="3151731"><a href="/gostd/text/template/parse/lex.go.html#3151811">run</a></span><span class="op" id="3151734">(</span><span class="op" id="3151735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151738">return</span>&nbsp;<span class="ident" id="3151745"><a href="/gostd/text/template/parse/lex.go.html#3151596">l</a></span><br>
<span class="lineno"></span><span class="op" id="3151747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="comment" id="3151750">//&nbsp;run&nbsp;runs&nbsp;the&nbsp;state&nbsp;machine&nbsp;for&nbsp;the&nbsp;lexer.</span><br>
<span class="lineno"></span><span class="keyword" id="3151795">func</span>&nbsp;<span class="op" id="3151800">(</span><span class="ident" id="3151801">l</span>&nbsp;<span class="op" id="3151803">*</span><span class="ident" id="3151804"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3151809">)</span>&nbsp;<span class="ident" id="3151811">run</span><span class="op" id="3151814">(</span><span class="op" id="3151815">)</span>&nbsp;<span class="op" id="3151817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3151820">for</span>&nbsp;<span class="ident" id="3151824"><a href="/gostd/text/template/parse/lex.go.html#3151801">l</a></span><span class="op" id="3151825">.</span><span class="ident" id="3151826"><a href="/gostd/text/template/parse/lex.go.html#3149182">state</a></span>&nbsp;<span class="op" id="3151832">=</span>&nbsp;<span class="ident" id="3151834"><a href="/gostd/text/template/parse/lex.go.html#3152068">lexText</a></span><span class="op" id="3151841">;</span>&nbsp;<span class="ident" id="3151843"><a href="/gostd/text/template/parse/lex.go.html#3151801">l</a></span><span class="op" id="3151844">.</span><span class="ident" id="3151845"><a href="/gostd/text/template/parse/lex.go.html#3149182">state</a></span>&nbsp;<span class="op" id="3151851">!=</span>&nbsp;<span class="builtintype" id="3151854">nil</span><span class="op" id="3151857">;</span>&nbsp;<span class="op" id="3151859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151863"><a href="/gostd/text/template/parse/lex.go.html#3151801">l</a></span><span class="op" id="3151864">.</span><span class="ident" id="3151865"><a href="/gostd/text/template/parse/lex.go.html#3149182">state</a></span>&nbsp;<span class="op" id="3151871">=</span>&nbsp;<span class="ident" id="3151873"><a href="/gostd/text/template/parse/lex.go.html#3151801">l</a></span><span class="op" id="3151874">.</span><span class="ident" id="3151875"><a href="/gostd/text/template/parse/lex.go.html#3149182">state</a></span><span class="op" id="3151880">(</span><span class="ident" id="3151881"><a href="/gostd/text/template/parse/lex.go.html#3151801">l</a></span><span class="op" id="3151882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3151885">}</span><br>
<span class="lineno">200</span><span class="op" id="3151887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3151890">//&nbsp;state&nbsp;functions</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3151910">const</span>&nbsp;<span class="op" id="3151916">(</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151919">leftDelim</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3151932">=</span>&nbsp;<span class="string" id="3151934">&#34;{{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151940">rightDelim</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3151953">=</span>&nbsp;<span class="string" id="3151955">&#34;}}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151961">leftComment</span>&nbsp;&nbsp;<span class="op" id="3151974">=</span>&nbsp;<span class="string" id="3151976">&#34;/*&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3151982">rightComment</span>&nbsp;<span class="op" id="3151995">=</span>&nbsp;<span class="string" id="3151997">&#34;*/&#34;</span><br>
<span class="lineno"></span><span class="op" id="3152002">)</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="comment" id="3152005">//&nbsp;lexText&nbsp;scans&nbsp;until&nbsp;an&nbsp;opening&nbsp;action&nbsp;delimiter,&nbsp;&#34;{{&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3152063">func</span>&nbsp;<span class="ident" id="3152068">lexText</span><span class="op" id="3152075">(</span><span class="ident" id="3152076">l</span>&nbsp;<span class="op" id="3152078">*</span><span class="ident" id="3152079"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3152084">)</span>&nbsp;<span class="ident" id="3152086"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;<span class="op" id="3152094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152097">for</span>&nbsp;<span class="op" id="3152101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152105">if</span>&nbsp;<span class="ident" id="3152108"><a href="/gostd/text/template/parse/lex.go.html#3146359">strings</a></span><span class="op" id="3152115">.</span><span class="ident" id="3152116"><a href="/gostd/strings/strings.go.html#2975366">HasPrefix</a></span><span class="op" id="3152125">(</span><span class="ident" id="3152126"><a href="/gostd/text/template/parse/lex.go.html#3152076">l</a></span><span class="op" id="3152127">.</span><span class="ident" id="3152128"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3152133">[</span><span class="ident" id="3152134"><a href="/gostd/text/template/parse/lex.go.html#3152076">l</a></span><span class="op" id="3152135">.</span><span class="ident" id="3152136"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span><span class="op" id="3152139">:</span><span class="op" id="3152140">]</span><span class="op" id="3152141">,</span>&nbsp;<span class="ident" id="3152143"><a href="/gostd/text/template/parse/lex.go.html#3152076">l</a></span><span class="op" id="3152144">.</span><span class="ident" id="3152145"><a href="/gostd/text/template/parse/lex.go.html#3149102">leftDelim</a></span><span class="op" id="3152154">)</span>&nbsp;<span class="op" id="3152156">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152161">if</span>&nbsp;<span class="ident" id="3152164"><a href="/gostd/text/template/parse/lex.go.html#3152076">l</a></span><span class="op" id="3152165">.</span><span class="ident" id="3152166"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span>&nbsp;<span class="op" id="3152170">&gt;</span>&nbsp;<span class="ident" id="3152172"><a href="/gostd/text/template/parse/lex.go.html#3152076">l</a></span><span class="op" id="3152173">.</span><span class="ident" id="3152174"><a href="/gostd/text/template/parse/lex.go.html#3149296">start</a></span>&nbsp;<span class="op" id="3152180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152186"><a href="/gostd/text/template/parse/lex.go.html#3152076">l</a></span><span class="op" id="3152187">.</span><span class="ident" id="3152188"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3152192">(</span><span class="ident" id="3152193"><a href="/gostd/text/template/parse/lex.go.html#3147999">itemText</a></span><span class="op" id="3152201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152211">return</span>&nbsp;<span class="ident" id="3152218"><a href="/gostd/text/template/parse/lex.go.html#3152454">lexLeftDelim</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152233">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152237">if</span>&nbsp;<span class="ident" id="3152240"><a href="/gostd/text/template/parse/lex.go.html#3152076">l</a></span><span class="op" id="3152241">.</span><span class="ident" id="3152242"><a href="/gostd/text/template/parse/lex.go.html#3149648">next</a></span><span class="op" id="3152246">(</span><span class="op" id="3152247">)</span>&nbsp;<span class="op" id="3152249">==</span>&nbsp;<span class="ident" id="3152252"><a href="/gostd/text/template/parse/lex.go.html#3148779">eof</a></span>&nbsp;<span class="op" id="3152256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152261">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3152275">//&nbsp;Correctly&nbsp;reached&nbsp;EOF.</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152302">if</span>&nbsp;<span class="ident" id="3152305"><a href="/gostd/text/template/parse/lex.go.html#3152076">l</a></span><span class="op" id="3152306">.</span><span class="ident" id="3152307"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span>&nbsp;<span class="op" id="3152311">&gt;</span>&nbsp;<span class="ident" id="3152313"><a href="/gostd/text/template/parse/lex.go.html#3152076">l</a></span><span class="op" id="3152314">.</span><span class="ident" id="3152315"><a href="/gostd/text/template/parse/lex.go.html#3149296">start</a></span>&nbsp;<span class="op" id="3152321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152325"><a href="/gostd/text/template/parse/lex.go.html#3152076">l</a></span><span class="op" id="3152326">.</span><span class="ident" id="3152327"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3152331">(</span><span class="ident" id="3152332"><a href="/gostd/text/template/parse/lex.go.html#3147999">itemText</a></span><span class="op" id="3152340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152346"><a href="/gostd/text/template/parse/lex.go.html#3152076">l</a></span><span class="op" id="3152347">.</span><span class="ident" id="3152348"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3152352">(</span><span class="ident" id="3152353"><a href="/gostd/text/template/parse/lex.go.html#3147462">itemEOF</a></span><span class="op" id="3152360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152363">return</span>&nbsp;<span class="builtintype" id="3152370">nil</span><br>
<span class="lineno">230</span><span class="op" id="3152374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3152377">//&nbsp;lexLeftDelim&nbsp;scans&nbsp;the&nbsp;left&nbsp;delimiter,&nbsp;which&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="3152449">func</span>&nbsp;<span class="ident" id="3152454">lexLeftDelim</span><span class="op" id="3152466">(</span><span class="ident" id="3152467">l</span>&nbsp;<span class="op" id="3152469">*</span><span class="ident" id="3152470"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3152475">)</span>&nbsp;<span class="ident" id="3152477"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;<span class="op" id="3152485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152488"><a href="/gostd/text/template/parse/lex.go.html#3152467">l</a></span><span class="op" id="3152489">.</span><span class="ident" id="3152490"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span>&nbsp;<span class="op" id="3152494">+=</span>&nbsp;<span class="ident" id="3152497"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3152500">(</span><span class="builtinfunc" id="3152501">len</span><span class="op" id="3152504">(</span><span class="ident" id="3152505"><a href="/gostd/text/template/parse/lex.go.html#3152467">l</a></span><span class="op" id="3152506">.</span><span class="ident" id="3152507"><a href="/gostd/text/template/parse/lex.go.html#3149102">leftDelim</a></span><span class="op" id="3152516">)</span><span class="op" id="3152517">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152520">if</span>&nbsp;<span class="ident" id="3152523"><a href="/gostd/text/template/parse/lex.go.html#3146359">strings</a></span><span class="op" id="3152530">.</span><span class="ident" id="3152531"><a href="/gostd/strings/strings.go.html#2975366">HasPrefix</a></span><span class="op" id="3152540">(</span><span class="ident" id="3152541"><a href="/gostd/text/template/parse/lex.go.html#3152467">l</a></span><span class="op" id="3152542">.</span><span class="ident" id="3152543"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3152548">[</span><span class="ident" id="3152549"><a href="/gostd/text/template/parse/lex.go.html#3152467">l</a></span><span class="op" id="3152550">.</span><span class="ident" id="3152551"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span><span class="op" id="3152554">:</span><span class="op" id="3152555">]</span><span class="op" id="3152556">,</span>&nbsp;<span class="ident" id="3152558"><a href="/gostd/text/template/parse/lex.go.html#3151961">leftComment</a></span><span class="op" id="3152569">)</span>&nbsp;<span class="op" id="3152571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152575">return</span>&nbsp;<span class="ident" id="3152582"><a href="/gostd/text/template/parse/lex.go.html#3152748">lexComment</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152597"><a href="/gostd/text/template/parse/lex.go.html#3152467">l</a></span><span class="op" id="3152598">.</span><span class="ident" id="3152599"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3152603">(</span><span class="ident" id="3152604"><a href="/gostd/text/template/parse/lex.go.html#3147597">itemLeftDelim</a></span><span class="op" id="3152617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152620"><a href="/gostd/text/template/parse/lex.go.html#3152467">l</a></span><span class="op" id="3152621">.</span><span class="ident" id="3152622"><a href="/gostd/text/template/parse/lex.go.html#3149534">parenDepth</a></span>&nbsp;<span class="op" id="3152633">=</span>&nbsp;<span class="num" id="3152635">0</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152638">return</span>&nbsp;<span class="ident" id="3152645"><a href="/gostd/text/template/parse/lex.go.html#3153393">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="3152661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3152664">//&nbsp;lexComment&nbsp;scans&nbsp;a&nbsp;comment.&nbsp;The&nbsp;left&nbsp;comment&nbsp;marker&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="3152743">func</span>&nbsp;<span class="ident" id="3152748">lexComment</span><span class="op" id="3152758">(</span><span class="ident" id="3152759">l</span>&nbsp;<span class="op" id="3152761">*</span><span class="ident" id="3152762"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3152767">)</span>&nbsp;<span class="ident" id="3152769"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;<span class="op" id="3152777">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152780"><a href="/gostd/text/template/parse/lex.go.html#3152759">l</a></span><span class="op" id="3152781">.</span><span class="ident" id="3152782"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span>&nbsp;<span class="op" id="3152786">+=</span>&nbsp;<span class="ident" id="3152789"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3152792">(</span><span class="builtinfunc" id="3152793">len</span><span class="op" id="3152796">(</span><span class="ident" id="3152797"><a href="/gostd/text/template/parse/lex.go.html#3151961">leftComment</a></span><span class="op" id="3152808">)</span><span class="op" id="3152809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152812">i</span>&nbsp;<span class="op" id="3152814">:=</span>&nbsp;<span class="ident" id="3152817"><a href="/gostd/text/template/parse/lex.go.html#3146359">strings</a></span><span class="op" id="3152824">.</span><span class="ident" id="3152825"><a href="/gostd/strings/strings.go.html#2968883">Index</a></span><span class="op" id="3152830">(</span><span class="ident" id="3152831"><a href="/gostd/text/template/parse/lex.go.html#3152759">l</a></span><span class="op" id="3152832">.</span><span class="ident" id="3152833"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3152838">[</span><span class="ident" id="3152839"><a href="/gostd/text/template/parse/lex.go.html#3152759">l</a></span><span class="op" id="3152840">.</span><span class="ident" id="3152841"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span><span class="op" id="3152844">:</span><span class="op" id="3152845">]</span><span class="op" id="3152846">,</span>&nbsp;<span class="ident" id="3152848"><a href="/gostd/text/template/parse/lex.go.html#3151982">rightComment</a></span><span class="op" id="3152860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152863">if</span>&nbsp;<span class="ident" id="3152866"><a href="/gostd/text/template/parse/lex.go.html#3152812">i</a></span>&nbsp;<span class="op" id="3152868">&lt;</span>&nbsp;<span class="num" id="3152870">0</span>&nbsp;<span class="op" id="3152872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152876">return</span>&nbsp;<span class="ident" id="3152883"><a href="/gostd/text/template/parse/lex.go.html#3152759">l</a></span><span class="op" id="3152884">.</span><span class="ident" id="3152885"><a href="/gostd/text/template/parse/lex.go.html#3151136">errorf</a></span><span class="op" id="3152891">(</span><span class="string" id="3152892">&#34;unclosed&nbsp;comment&#34;</span><span class="op" id="3152910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3152913">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3152916"><a href="/gostd/text/template/parse/lex.go.html#3152759">l</a></span><span class="op" id="3152917">.</span><span class="ident" id="3152918"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span>&nbsp;<span class="op" id="3152922">+=</span>&nbsp;<span class="ident" id="3152925"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3152928">(</span><span class="ident" id="3152929"><a href="/gostd/text/template/parse/lex.go.html#3152812">i</a></span>&nbsp;<span class="op" id="3152931">+</span>&nbsp;<span class="builtinfunc" id="3152933">len</span><span class="op" id="3152936">(</span><span class="ident" id="3152937"><a href="/gostd/text/template/parse/lex.go.html#3151982">rightComment</a></span><span class="op" id="3152949">)</span><span class="op" id="3152950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3152953">if</span>&nbsp;<span class="op" id="3152956">!</span><span class="ident" id="3152957"><a href="/gostd/text/template/parse/lex.go.html#3146359">strings</a></span><span class="op" id="3152964">.</span><span class="ident" id="3152965"><a href="/gostd/strings/strings.go.html#2975366">HasPrefix</a></span><span class="op" id="3152974">(</span><span class="ident" id="3152975"><a href="/gostd/text/template/parse/lex.go.html#3152759">l</a></span><span class="op" id="3152976">.</span><span class="ident" id="3152977"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3152982">[</span><span class="ident" id="3152983"><a href="/gostd/text/template/parse/lex.go.html#3152759">l</a></span><span class="op" id="3152984">.</span><span class="ident" id="3152985"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span><span class="op" id="3152988">:</span><span class="op" id="3152989">]</span><span class="op" id="3152990">,</span>&nbsp;<span class="ident" id="3152992"><a href="/gostd/text/template/parse/lex.go.html#3152759">l</a></span><span class="op" id="3152993">.</span><span class="ident" id="3152994"><a href="/gostd/text/template/parse/lex.go.html#3149143">rightDelim</a></span><span class="op" id="3153004">)</span>&nbsp;<span class="op" id="3153006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153010">return</span>&nbsp;<span class="ident" id="3153017"><a href="/gostd/text/template/parse/lex.go.html#3152759">l</a></span><span class="op" id="3153018">.</span><span class="ident" id="3153019"><a href="/gostd/text/template/parse/lex.go.html#3151136">errorf</a></span><span class="op" id="3153025">(</span><span class="string" id="3153026">&#34;comment&nbsp;ends&nbsp;before&nbsp;closing&nbsp;delimiter&#34;</span><span class="op" id="3153065">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3153069">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3153072"><a href="/gostd/text/template/parse/lex.go.html#3152759">l</a></span><span class="op" id="3153073">.</span><span class="ident" id="3153074"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span>&nbsp;<span class="op" id="3153078">+=</span>&nbsp;<span class="ident" id="3153081"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3153084">(</span><span class="builtinfunc" id="3153085">len</span><span class="op" id="3153088">(</span><span class="ident" id="3153089"><a href="/gostd/text/template/parse/lex.go.html#3152759">l</a></span><span class="op" id="3153090">.</span><span class="ident" id="3153091"><a href="/gostd/text/template/parse/lex.go.html#3149143">rightDelim</a></span><span class="op" id="3153101">)</span><span class="op" id="3153102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3153105"><a href="/gostd/text/template/parse/lex.go.html#3152759">l</a></span><span class="op" id="3153106">.</span><span class="ident" id="3153107"><a href="/gostd/text/template/parse/lex.go.html#3150305">ignore</a></span><span class="op" id="3153113">(</span><span class="op" id="3153114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153117">return</span>&nbsp;<span class="ident" id="3153124"><a href="/gostd/text/template/parse/lex.go.html#3152068">lexText</a></span><br>
<span class="lineno"></span><span class="op" id="3153132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="3153135">//&nbsp;lexRightDelim&nbsp;scans&nbsp;the&nbsp;right&nbsp;delimiter,&nbsp;which&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="3153209">func</span>&nbsp;<span class="ident" id="3153214">lexRightDelim</span><span class="op" id="3153227">(</span><span class="ident" id="3153228">l</span>&nbsp;<span class="op" id="3153230">*</span><span class="ident" id="3153231"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3153236">)</span>&nbsp;<span class="ident" id="3153238"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;<span class="op" id="3153246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3153249"><a href="/gostd/text/template/parse/lex.go.html#3153228">l</a></span><span class="op" id="3153250">.</span><span class="ident" id="3153251"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span>&nbsp;<span class="op" id="3153255">+=</span>&nbsp;<span class="ident" id="3153258"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3153261">(</span><span class="builtinfunc" id="3153262">len</span><span class="op" id="3153265">(</span><span class="ident" id="3153266"><a href="/gostd/text/template/parse/lex.go.html#3153228">l</a></span><span class="op" id="3153267">.</span><span class="ident" id="3153268"><a href="/gostd/text/template/parse/lex.go.html#3149143">rightDelim</a></span><span class="op" id="3153278">)</span><span class="op" id="3153279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3153282"><a href="/gostd/text/template/parse/lex.go.html#3153228">l</a></span><span class="op" id="3153283">.</span><span class="ident" id="3153284"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3153288">(</span><span class="ident" id="3153289"><a href="/gostd/text/template/parse/lex.go.html#3147815">itemRightDelim</a></span><span class="op" id="3153303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153306">return</span>&nbsp;<span class="ident" id="3153313"><a href="/gostd/text/template/parse/lex.go.html#3152068">lexText</a></span><br>
<span class="lineno">265</span><span class="op" id="3153321">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3153324">//&nbsp;lexInsideAction&nbsp;scans&nbsp;the&nbsp;elements&nbsp;inside&nbsp;action&nbsp;delimiters.</span><br>
<span class="lineno"></span><span class="keyword" id="3153388">func</span>&nbsp;<span class="ident" id="3153393">lexInsideAction</span><span class="op" id="3153408">(</span><span class="ident" id="3153409">l</span>&nbsp;<span class="op" id="3153411">*</span><span class="ident" id="3153412"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3153417">)</span>&nbsp;<span class="ident" id="3153419"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;<span class="op" id="3153427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3153430">//&nbsp;Either&nbsp;number,&nbsp;quoted&nbsp;string,&nbsp;or&nbsp;identifier.</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3153479">//&nbsp;Spaces&nbsp;separate&nbsp;arguments;&nbsp;runs&nbsp;of&nbsp;spaces&nbsp;turn&nbsp;into&nbsp;itemSpace.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3153546">//&nbsp;Pipe&nbsp;symbols&nbsp;separate&nbsp;and&nbsp;are&nbsp;emitted.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153589">if</span>&nbsp;<span class="ident" id="3153592"><a href="/gostd/text/template/parse/lex.go.html#3146359">strings</a></span><span class="op" id="3153599">.</span><span class="ident" id="3153600"><a href="/gostd/strings/strings.go.html#2975366">HasPrefix</a></span><span class="op" id="3153609">(</span><span class="ident" id="3153610"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3153611">.</span><span class="ident" id="3153612"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3153617">[</span><span class="ident" id="3153618"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3153619">.</span><span class="ident" id="3153620"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span><span class="op" id="3153623">:</span><span class="op" id="3153624">]</span><span class="op" id="3153625">,</span>&nbsp;<span class="ident" id="3153627"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3153628">.</span><span class="ident" id="3153629"><a href="/gostd/text/template/parse/lex.go.html#3149143">rightDelim</a></span><span class="op" id="3153639">)</span>&nbsp;<span class="op" id="3153641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153645">if</span>&nbsp;<span class="ident" id="3153648"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3153649">.</span><span class="ident" id="3153650"><a href="/gostd/text/template/parse/lex.go.html#3149534">parenDepth</a></span>&nbsp;<span class="op" id="3153661">==</span>&nbsp;<span class="num" id="3153664">0</span>&nbsp;<span class="op" id="3153666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153671">return</span>&nbsp;<span class="ident" id="3153678"><a href="/gostd/text/template/parse/lex.go.html#3153214">lexRightDelim</a></span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3153694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153698">return</span>&nbsp;<span class="ident" id="3153705"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3153706">.</span><span class="ident" id="3153707"><a href="/gostd/text/template/parse/lex.go.html#3151136">errorf</a></span><span class="op" id="3153713">(</span><span class="string" id="3153714">&#34;unclosed&nbsp;left&nbsp;paren&#34;</span><span class="op" id="3153735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3153738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153741">switch</span>&nbsp;<span class="ident" id="3153748">r</span>&nbsp;<span class="op" id="3153750">:=</span>&nbsp;<span class="ident" id="3153753"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3153754">.</span><span class="ident" id="3153755"><a href="/gostd/text/template/parse/lex.go.html#3149648">next</a></span><span class="op" id="3153759">(</span><span class="op" id="3153760">)</span><span class="op" id="3153761">;</span>&nbsp;<span class="op" id="3153763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153766">case</span>&nbsp;<span class="ident" id="3153771"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span>&nbsp;<span class="op" id="3153773">==</span>&nbsp;<span class="ident" id="3153776"><a href="/gostd/text/template/parse/lex.go.html#3148779">eof</a></span>&nbsp;<span class="op" id="3153780">||</span>&nbsp;<span class="ident" id="3153783"><a href="/gostd/text/template/parse/lex.go.html#3159796">isEndOfLine</a></span><span class="op" id="3153794">(</span><span class="ident" id="3153795"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span><span class="op" id="3153796">)</span><span class="op" id="3153797">:</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153801">return</span>&nbsp;<span class="ident" id="3153808"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3153809">.</span><span class="ident" id="3153810"><a href="/gostd/text/template/parse/lex.go.html#3151136">errorf</a></span><span class="op" id="3153816">(</span><span class="string" id="3153817">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="3153834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153837">case</span>&nbsp;<span class="ident" id="3153842"><a href="/gostd/text/template/parse/lex.go.html#3159673">isSpace</a></span><span class="op" id="3153849">(</span><span class="ident" id="3153850"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span><span class="op" id="3153851">)</span><span class="op" id="3153852">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153856">return</span>&nbsp;<span class="ident" id="3153863"><a href="/gostd/text/template/parse/lex.go.html#3155063">lexSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153873">case</span>&nbsp;<span class="ident" id="3153878"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span>&nbsp;<span class="op" id="3153880">==</span>&nbsp;<span class="string" id="3153883">&#39;:&#39;</span><span class="op" id="3153886">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153890">if</span>&nbsp;<span class="ident" id="3153893"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3153894">.</span><span class="ident" id="3153895"><a href="/gostd/text/template/parse/lex.go.html#3149648">next</a></span><span class="op" id="3153899">(</span><span class="op" id="3153900">)</span>&nbsp;<span class="op" id="3153902">!=</span>&nbsp;<span class="string" id="3153905">&#39;=&#39;</span>&nbsp;<span class="op" id="3153909">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153914">return</span>&nbsp;<span class="ident" id="3153921"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3153922">.</span><span class="ident" id="3153923"><a href="/gostd/text/template/parse/lex.go.html#3151136">errorf</a></span><span class="op" id="3153929">(</span><span class="string" id="3153930">&#34;expected&nbsp;:=&#34;</span><span class="op" id="3153943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3153947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3153951"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3153952">.</span><span class="ident" id="3153953"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3153957">(</span><span class="ident" id="3153958"><a href="/gostd/text/template/parse/lex.go.html#3147379">itemColonEquals</a></span><span class="op" id="3153973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3153976">case</span>&nbsp;<span class="ident" id="3153981"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span>&nbsp;<span class="op" id="3153983">==</span>&nbsp;<span class="string" id="3153986">&#39;|&#39;</span><span class="op" id="3153989">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3153993"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3153994">.</span><span class="ident" id="3153995"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3153999">(</span><span class="ident" id="3154000"><a href="/gostd/text/template/parse/lex.go.html#3147729">itemPipe</a></span><span class="op" id="3154008">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154011">case</span>&nbsp;<span class="ident" id="3154016"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span>&nbsp;<span class="op" id="3154018">==</span>&nbsp;<span class="string" id="3154021">&#39;&#34;&#39;</span><span class="op" id="3154024">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154028">return</span>&nbsp;<span class="ident" id="3154035"><a href="/gostd/text/template/parse/lex.go.html#3159054">lexQuote</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154045">case</span>&nbsp;<span class="ident" id="3154050"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span>&nbsp;<span class="op" id="3154052">==</span>&nbsp;<span class="string" id="3154055">&#39;`&#39;</span><span class="op" id="3154058">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154062">return</span>&nbsp;<span class="ident" id="3154069"><a href="/gostd/text/template/parse/lex.go.html#3159398">lexRawQuote</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154082">case</span>&nbsp;<span class="ident" id="3154087"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span>&nbsp;<span class="op" id="3154089">==</span>&nbsp;<span class="string" id="3154092">&#39;$&#39;</span><span class="op" id="3154095">:</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154099">return</span>&nbsp;<span class="ident" id="3154106"><a href="/gostd/text/template/parse/lex.go.html#3155963">lexVariable</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154119">case</span>&nbsp;<span class="ident" id="3154124"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span>&nbsp;<span class="op" id="3154126">==</span>&nbsp;<span class="string" id="3154129">&#39;\&#39;&#39;</span><span class="op" id="3154133">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154137">return</span>&nbsp;<span class="ident" id="3154144"><a href="/gostd/text/template/parse/lex.go.html#3157540">lexChar</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154153">case</span>&nbsp;<span class="ident" id="3154158"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span>&nbsp;<span class="op" id="3154160">==</span>&nbsp;<span class="string" id="3154163">&#39;.&#39;</span><span class="op" id="3154166">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3154170">//&nbsp;special&nbsp;look-ahead&nbsp;for&nbsp;&#34;.field&#34;&nbsp;so&nbsp;we&nbsp;don&#39;t&nbsp;break&nbsp;l.backup().</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154237">if</span>&nbsp;<span class="ident" id="3154240"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3154241">.</span><span class="ident" id="3154242"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span>&nbsp;<span class="op" id="3154246">&lt;</span>&nbsp;<span class="ident" id="3154248"><a href="/gostd/text/template/parse/node.go.html#3161156">Pos</a></span><span class="op" id="3154251">(</span><span class="builtinfunc" id="3154252">len</span><span class="op" id="3154255">(</span><span class="ident" id="3154256"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3154257">.</span><span class="ident" id="3154258"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3154263">)</span><span class="op" id="3154264">)</span>&nbsp;<span class="op" id="3154266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154271">r</span>&nbsp;<span class="op" id="3154273">:=</span>&nbsp;<span class="ident" id="3154276"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3154277">.</span><span class="ident" id="3154278"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3154283">[</span><span class="ident" id="3154284"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3154285">.</span><span class="ident" id="3154286"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span><span class="op" id="3154289">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154294">if</span>&nbsp;<span class="ident" id="3154297"><a href="/gostd/text/template/parse/lex.go.html#3154271">r</a></span>&nbsp;<span class="op" id="3154299">&lt;</span>&nbsp;<span class="string" id="3154301">&#39;0&#39;</span>&nbsp;<span class="op" id="3154305">||</span>&nbsp;<span class="string" id="3154308">&#39;9&#39;</span>&nbsp;<span class="op" id="3154312">&lt;</span>&nbsp;<span class="ident" id="3154314"><a href="/gostd/text/template/parse/lex.go.html#3154271">r</a></span>&nbsp;<span class="op" id="3154316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154322">return</span>&nbsp;<span class="ident" id="3154329"><a href="/gostd/text/template/parse/lex.go.html#3155810">lexField</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3154341">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3154345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154349">fallthrough</span>&nbsp;<span class="comment" id="3154361">//&nbsp;&#39;.&#39;&nbsp;can&nbsp;start&nbsp;a&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154389">case</span>&nbsp;<span class="ident" id="3154394"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span>&nbsp;<span class="op" id="3154396">==</span>&nbsp;<span class="string" id="3154399">&#39;+&#39;</span>&nbsp;<span class="op" id="3154403">||</span>&nbsp;<span class="ident" id="3154406"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span>&nbsp;<span class="op" id="3154408">==</span>&nbsp;<span class="string" id="3154411">&#39;-&#39;</span>&nbsp;<span class="op" id="3154415">||</span>&nbsp;<span class="op" id="3154418">(</span><span class="string" id="3154419">&#39;0&#39;</span>&nbsp;<span class="op" id="3154423">&lt;=</span>&nbsp;<span class="ident" id="3154426"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span>&nbsp;<span class="op" id="3154428">&amp;&amp;</span>&nbsp;<span class="ident" id="3154431"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span>&nbsp;<span class="op" id="3154433">&lt;=</span>&nbsp;<span class="string" id="3154436">&#39;9&#39;</span><span class="op" id="3154439">)</span><span class="op" id="3154440">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154444"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3154445">.</span><span class="ident" id="3154446"><a href="/gostd/text/template/parse/lex.go.html#3150048">backup</a></span><span class="op" id="3154452">(</span><span class="op" id="3154453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154457">return</span>&nbsp;<span class="ident" id="3154464"><a href="/gostd/text/template/parse/lex.go.html#3158106">lexNumber</a></span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154475">case</span>&nbsp;<span class="ident" id="3154480"><a href="/gostd/text/template/parse/lex.go.html#3159938">isAlphaNumeric</a></span><span class="op" id="3154494">(</span><span class="ident" id="3154495"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span><span class="op" id="3154496">)</span><span class="op" id="3154497">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154501"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3154502">.</span><span class="ident" id="3154503"><a href="/gostd/text/template/parse/lex.go.html#3150048">backup</a></span><span class="op" id="3154509">(</span><span class="op" id="3154510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154514">return</span>&nbsp;<span class="ident" id="3154521"><a href="/gostd/text/template/parse/lex.go.html#3155222">lexIdentifier</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154536">case</span>&nbsp;<span class="ident" id="3154541"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span>&nbsp;<span class="op" id="3154543">==</span>&nbsp;<span class="string" id="3154546">&#39;(&#39;</span><span class="op" id="3154549">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154553"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3154554">.</span><span class="ident" id="3154555"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3154559">(</span><span class="ident" id="3154560"><a href="/gostd/text/template/parse/lex.go.html#3147638">itemLeftParen</a></span><span class="op" id="3154573">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154577"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3154578">.</span><span class="ident" id="3154579"><a href="/gostd/text/template/parse/lex.go.html#3149534">parenDepth</a></span><span class="op" id="3154589">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154594">return</span>&nbsp;<span class="ident" id="3154601"><a href="/gostd/text/template/parse/lex.go.html#3153393">lexInsideAction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154618">case</span>&nbsp;<span class="ident" id="3154623"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span>&nbsp;<span class="op" id="3154625">==</span>&nbsp;<span class="string" id="3154628">&#39;)&#39;</span><span class="op" id="3154631">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154635"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3154636">.</span><span class="ident" id="3154637"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3154641">(</span><span class="ident" id="3154642"><a href="/gostd/text/template/parse/lex.go.html#3147857">itemRightParen</a></span><span class="op" id="3154656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154660"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3154661">.</span><span class="ident" id="3154662"><a href="/gostd/text/template/parse/lex.go.html#3149534">parenDepth</a></span><span class="op" id="3154672">--</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154677">if</span>&nbsp;<span class="ident" id="3154680"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3154681">.</span><span class="ident" id="3154682"><a href="/gostd/text/template/parse/lex.go.html#3149534">parenDepth</a></span>&nbsp;<span class="op" id="3154693">&lt;</span>&nbsp;<span class="num" id="3154695">0</span>&nbsp;<span class="op" id="3154697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154702">return</span>&nbsp;<span class="ident" id="3154709"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3154710">.</span><span class="ident" id="3154711"><a href="/gostd/text/template/parse/lex.go.html#3151136">errorf</a></span><span class="op" id="3154717">(</span><span class="string" id="3154718">&#34;unexpected&nbsp;right&nbsp;paren&nbsp;%#U&#34;</span><span class="op" id="3154746">,</span>&nbsp;<span class="ident" id="3154748"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span><span class="op" id="3154749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3154753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154757">return</span>&nbsp;<span class="ident" id="3154764"><a href="/gostd/text/template/parse/lex.go.html#3153393">lexInsideAction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154781">case</span>&nbsp;<span class="ident" id="3154786"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span>&nbsp;<span class="op" id="3154788">&lt;=</span>&nbsp;<span class="ident" id="3154791"><a href="/gostd/text/template/parse/lex.go.html#3146370">unicode</a></span><span class="op" id="3154798">.</span><span class="ident" id="3154799"><a href="/gostd/unicode/letter.go.html#1821672">MaxASCII</a></span>&nbsp;<span class="op" id="3154808">&amp;&amp;</span>&nbsp;<span class="ident" id="3154811"><a href="/gostd/text/template/parse/lex.go.html#3146370">unicode</a></span><span class="op" id="3154818">.</span><span class="ident" id="3154819"><a href="/gostd/unicode/graphic.go.html#1818582">IsPrint</a></span><span class="op" id="3154826">(</span><span class="ident" id="3154827"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span><span class="op" id="3154828">)</span><span class="op" id="3154829">:</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3154833"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3154834">.</span><span class="ident" id="3154835"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3154839">(</span><span class="ident" id="3154840"><a href="/gostd/text/template/parse/lex.go.html#3147146">itemChar</a></span><span class="op" id="3154848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154852">return</span>&nbsp;<span class="ident" id="3154859"><a href="/gostd/text/template/parse/lex.go.html#3153393">lexInsideAction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154876">default</span><span class="op" id="3154883">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154887">return</span>&nbsp;<span class="ident" id="3154894"><a href="/gostd/text/template/parse/lex.go.html#3153409">l</a></span><span class="op" id="3154895">.</span><span class="ident" id="3154896"><a href="/gostd/text/template/parse/lex.go.html#3151136">errorf</a></span><span class="op" id="3154902">(</span><span class="string" id="3154903">&#34;unrecognized&nbsp;character&nbsp;in&nbsp;action:&nbsp;%#U&#34;</span><span class="op" id="3154942">,</span>&nbsp;<span class="ident" id="3154944"><a href="/gostd/text/template/parse/lex.go.html#3153748">r</a></span><span class="op" id="3154945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3154948">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3154951">return</span>&nbsp;<span class="ident" id="3154958"><a href="/gostd/text/template/parse/lex.go.html#3153393">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="3154974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3154977">//&nbsp;lexSpace&nbsp;scans&nbsp;a&nbsp;run&nbsp;of&nbsp;space&nbsp;characters.</span><br>
<span class="lineno"></span><span class="comment" id="3155022">//&nbsp;One&nbsp;space&nbsp;has&nbsp;already&nbsp;been&nbsp;seen.</span><br>
<span class="lineno">335</span><span class="keyword" id="3155058">func</span>&nbsp;<span class="ident" id="3155063">lexSpace</span><span class="op" id="3155071">(</span><span class="ident" id="3155072">l</span>&nbsp;<span class="op" id="3155074">*</span><span class="ident" id="3155075"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3155080">)</span>&nbsp;<span class="ident" id="3155082"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;<span class="op" id="3155090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155093">for</span>&nbsp;<span class="ident" id="3155097"><a href="/gostd/text/template/parse/lex.go.html#3159673">isSpace</a></span><span class="op" id="3155104">(</span><span class="ident" id="3155105"><a href="/gostd/text/template/parse/lex.go.html#3155072">l</a></span><span class="op" id="3155106">.</span><span class="ident" id="3155107"><a href="/gostd/text/template/parse/lex.go.html#3149905">peek</a></span><span class="op" id="3155111">(</span><span class="op" id="3155112">)</span><span class="op" id="3155113">)</span>&nbsp;<span class="op" id="3155115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3155119"><a href="/gostd/text/template/parse/lex.go.html#3155072">l</a></span><span class="op" id="3155120">.</span><span class="ident" id="3155121"><a href="/gostd/text/template/parse/lex.go.html#3149648">next</a></span><span class="op" id="3155125">(</span><span class="op" id="3155126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3155129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3155132"><a href="/gostd/text/template/parse/lex.go.html#3155072">l</a></span><span class="op" id="3155133">.</span><span class="ident" id="3155134"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3155138">(</span><span class="ident" id="3155139"><a href="/gostd/text/template/parse/lex.go.html#3147894">itemSpace</a></span><span class="op" id="3155148">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155151">return</span>&nbsp;<span class="ident" id="3155158"><a href="/gostd/text/template/parse/lex.go.html#3153393">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="3155174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3155177">//&nbsp;lexIdentifier&nbsp;scans&nbsp;an&nbsp;alphanumeric.</span><br>
<span class="lineno"></span><span class="keyword" id="3155217">func</span>&nbsp;<span class="ident" id="3155222">lexIdentifier</span><span class="op" id="3155235">(</span><span class="ident" id="3155236">l</span>&nbsp;<span class="op" id="3155238">*</span><span class="ident" id="3155239"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3155244">)</span>&nbsp;<span class="ident" id="3155246"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;<span class="op" id="3155254">{</span><br>
<span class="lineno">345</span><span class="ident" id="3155256">Loop</span><span class="op" id="3155260">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155263">for</span>&nbsp;<span class="op" id="3155267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155271">switch</span>&nbsp;<span class="ident" id="3155278">r</span>&nbsp;<span class="op" id="3155280">:=</span>&nbsp;<span class="ident" id="3155283"><a href="/gostd/text/template/parse/lex.go.html#3155236">l</a></span><span class="op" id="3155284">.</span><span class="ident" id="3155285"><a href="/gostd/text/template/parse/lex.go.html#3149648">next</a></span><span class="op" id="3155289">(</span><span class="op" id="3155290">)</span><span class="op" id="3155291">;</span>&nbsp;<span class="op" id="3155293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155297">case</span>&nbsp;<span class="ident" id="3155302"><a href="/gostd/text/template/parse/lex.go.html#3159938">isAlphaNumeric</a></span><span class="op" id="3155316">(</span><span class="ident" id="3155317"><a href="/gostd/text/template/parse/lex.go.html#3155278">r</a></span><span class="op" id="3155318">)</span><span class="op" id="3155319">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3155324">//&nbsp;absorb.</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155337">default</span><span class="op" id="3155344">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3155349"><a href="/gostd/text/template/parse/lex.go.html#3155236">l</a></span><span class="op" id="3155350">.</span><span class="ident" id="3155351"><a href="/gostd/text/template/parse/lex.go.html#3150048">backup</a></span><span class="op" id="3155357">(</span><span class="op" id="3155358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3155363">word</span>&nbsp;<span class="op" id="3155368">:=</span>&nbsp;<span class="ident" id="3155371"><a href="/gostd/text/template/parse/lex.go.html#3155236">l</a></span><span class="op" id="3155372">.</span><span class="ident" id="3155373"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3155378">[</span><span class="ident" id="3155379"><a href="/gostd/text/template/parse/lex.go.html#3155236">l</a></span><span class="op" id="3155380">.</span><span class="ident" id="3155381"><a href="/gostd/text/template/parse/lex.go.html#3149296">start</a></span><span class="op" id="3155386">:</span><span class="ident" id="3155387"><a href="/gostd/text/template/parse/lex.go.html#3155236">l</a></span><span class="op" id="3155388">.</span><span class="ident" id="3155389"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span><span class="op" id="3155392">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155397">if</span>&nbsp;<span class="op" id="3155400">!</span><span class="ident" id="3155401"><a href="/gostd/text/template/parse/lex.go.html#3155236">l</a></span><span class="op" id="3155402">.</span><span class="ident" id="3155403"><a href="/gostd/text/template/parse/lex.go.html#3156967">atTerminator</a></span><span class="op" id="3155415">(</span><span class="op" id="3155416">)</span>&nbsp;<span class="op" id="3155418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155424">return</span>&nbsp;<span class="ident" id="3155431"><a href="/gostd/text/template/parse/lex.go.html#3155236">l</a></span><span class="op" id="3155432">.</span><span class="ident" id="3155433"><a href="/gostd/text/template/parse/lex.go.html#3151136">errorf</a></span><span class="op" id="3155439">(</span><span class="string" id="3155440">&#34;bad&nbsp;character&nbsp;%#U&#34;</span><span class="op" id="3155459">,</span>&nbsp;<span class="ident" id="3155461"><a href="/gostd/text/template/parse/lex.go.html#3155278">r</a></span><span class="op" id="3155462">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3155467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155472">switch</span>&nbsp;<span class="op" id="3155479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155484">case</span>&nbsp;<span class="ident" id="3155489"><a href="/gostd/text/template/parse/lex.go.html#3148534">key</a></span><span class="op" id="3155492">[</span><span class="ident" id="3155493"><a href="/gostd/text/template/parse/lex.go.html#3155363">word</a></span><span class="op" id="3155497">]</span>&nbsp;<span class="op" id="3155499">&gt;</span>&nbsp;<span class="ident" id="3155501"><a href="/gostd/text/template/parse/lex.go.html#3148149">itemKeyword</a></span><span class="op" id="3155512">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3155518"><a href="/gostd/text/template/parse/lex.go.html#3155236">l</a></span><span class="op" id="3155519">.</span><span class="ident" id="3155520"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3155524">(</span><span class="ident" id="3155525"><a href="/gostd/text/template/parse/lex.go.html#3148534">key</a></span><span class="op" id="3155528">[</span><span class="ident" id="3155529"><a href="/gostd/text/template/parse/lex.go.html#3155363">word</a></span><span class="op" id="3155533">]</span><span class="op" id="3155534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155539">case</span>&nbsp;<span class="ident" id="3155544"><a href="/gostd/text/template/parse/lex.go.html#3155363">word</a></span><span class="op" id="3155548">[</span><span class="num" id="3155549">0</span><span class="op" id="3155550">]</span>&nbsp;<span class="op" id="3155552">==</span>&nbsp;<span class="string" id="3155555">&#39;.&#39;</span><span class="op" id="3155558">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3155564"><a href="/gostd/text/template/parse/lex.go.html#3155236">l</a></span><span class="op" id="3155565">.</span><span class="ident" id="3155566"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3155570">(</span><span class="ident" id="3155571"><a href="/gostd/text/template/parse/lex.go.html#3147471">itemField</a></span><span class="op" id="3155580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155585">case</span>&nbsp;<span class="ident" id="3155590"><a href="/gostd/text/template/parse/lex.go.html#3155363">word</a></span>&nbsp;<span class="op" id="3155595">==</span>&nbsp;<span class="string" id="3155598">&#34;true&#34;</span><span class="op" id="3155604">,</span>&nbsp;<span class="ident" id="3155606"><a href="/gostd/text/template/parse/lex.go.html#3155363">word</a></span>&nbsp;<span class="op" id="3155611">==</span>&nbsp;<span class="string" id="3155614">&#34;false&#34;</span><span class="op" id="3155621">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3155627"><a href="/gostd/text/template/parse/lex.go.html#3155236">l</a></span><span class="op" id="3155628">.</span><span class="ident" id="3155629"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3155633">(</span><span class="ident" id="3155634"><a href="/gostd/text/template/parse/lex.go.html#3147092">itemBool</a></span><span class="op" id="3155642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155647">default</span><span class="op" id="3155654">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3155660"><a href="/gostd/text/template/parse/lex.go.html#3155236">l</a></span><span class="op" id="3155661">.</span><span class="ident" id="3155662"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3155666">(</span><span class="ident" id="3155667"><a href="/gostd/text/template/parse/lex.go.html#3147532">itemIdentifier</a></span><span class="op" id="3155681">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3155686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155691">break</span>&nbsp;<span class="ident" id="3155697"><a href="/gostd/text/template/parse/lex.go.html#3155256">Loop</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3155704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3155707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155710">return</span>&nbsp;<span class="ident" id="3155717"><a href="/gostd/text/template/parse/lex.go.html#3153393">lexInsideAction</a></span><br>
<span class="lineno">370</span><span class="op" id="3155733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3155736">//&nbsp;lexField&nbsp;scans&nbsp;a&nbsp;field:&nbsp;.Alphanumeric.</span><br>
<span class="lineno"></span><span class="comment" id="3155778">//&nbsp;The&nbsp;.&nbsp;has&nbsp;been&nbsp;scanned.</span><br>
<span class="lineno"></span><span class="keyword" id="3155805">func</span>&nbsp;<span class="ident" id="3155810">lexField</span><span class="op" id="3155818">(</span><span class="ident" id="3155819">l</span>&nbsp;<span class="op" id="3155821">*</span><span class="ident" id="3155822"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3155827">)</span>&nbsp;<span class="ident" id="3155829"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;<span class="op" id="3155837">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155840">return</span>&nbsp;<span class="ident" id="3155847"><a href="/gostd/text/template/parse/lex.go.html#3156252">lexFieldOrVariable</a></span><span class="op" id="3155865">(</span><span class="ident" id="3155866"><a href="/gostd/text/template/parse/lex.go.html#3155819">l</a></span><span class="op" id="3155867">,</span>&nbsp;<span class="ident" id="3155869"><a href="/gostd/text/template/parse/lex.go.html#3147471">itemField</a></span><span class="op" id="3155878">)</span><br>
<span class="lineno"></span><span class="op" id="3155880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3155883">//&nbsp;lexVariable&nbsp;scans&nbsp;a&nbsp;Variable:&nbsp;$Alphanumeric.</span><br>
<span class="lineno"></span><span class="comment" id="3155931">//&nbsp;The&nbsp;$&nbsp;has&nbsp;been&nbsp;scanned.</span><br>
<span class="lineno">380</span><span class="keyword" id="3155958">func</span>&nbsp;<span class="ident" id="3155963">lexVariable</span><span class="op" id="3155974">(</span><span class="ident" id="3155975">l</span>&nbsp;<span class="op" id="3155977">*</span><span class="ident" id="3155978"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3155983">)</span>&nbsp;<span class="ident" id="3155985"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;<span class="op" id="3155993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3155996">if</span>&nbsp;<span class="ident" id="3155999"><a href="/gostd/text/template/parse/lex.go.html#3155975">l</a></span><span class="op" id="3156000">.</span><span class="ident" id="3156001"><a href="/gostd/text/template/parse/lex.go.html#3156967">atTerminator</a></span><span class="op" id="3156013">(</span><span class="op" id="3156014">)</span>&nbsp;<span class="op" id="3156016">{</span>&nbsp;<span class="comment" id="3156018">//&nbsp;Nothing&nbsp;interesting&nbsp;follows&nbsp;-&gt;&nbsp;&#34;$&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3156059"><a href="/gostd/text/template/parse/lex.go.html#3155975">l</a></span><span class="op" id="3156060">.</span><span class="ident" id="3156061"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3156065">(</span><span class="ident" id="3156066"><a href="/gostd/text/template/parse/lex.go.html#3148029">itemVariable</a></span><span class="op" id="3156078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156082">return</span>&nbsp;<span class="ident" id="3156089"><a href="/gostd/text/template/parse/lex.go.html#3153393">lexInsideAction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3156106">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156109">return</span>&nbsp;<span class="ident" id="3156116"><a href="/gostd/text/template/parse/lex.go.html#3156252">lexFieldOrVariable</a></span><span class="op" id="3156134">(</span><span class="ident" id="3156135"><a href="/gostd/text/template/parse/lex.go.html#3155975">l</a></span><span class="op" id="3156136">,</span>&nbsp;<span class="ident" id="3156138"><a href="/gostd/text/template/parse/lex.go.html#3148029">itemVariable</a></span><span class="op" id="3156150">)</span><br>
<span class="lineno"></span><span class="op" id="3156152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3156155">//&nbsp;lexVariable&nbsp;scans&nbsp;a&nbsp;field&nbsp;or&nbsp;variable:&nbsp;[.$]Alphanumeric.</span><br>
<span class="lineno"></span><span class="comment" id="3156215">//&nbsp;The&nbsp;.&nbsp;or&nbsp;$&nbsp;has&nbsp;been&nbsp;scanned.</span><br>
<span class="lineno">390</span><span class="keyword" id="3156247">func</span>&nbsp;<span class="ident" id="3156252">lexFieldOrVariable</span><span class="op" id="3156270">(</span><span class="ident" id="3156271">l</span>&nbsp;<span class="op" id="3156273">*</span><span class="ident" id="3156274"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3156279">,</span>&nbsp;<span class="ident" id="3156281">typ</span>&nbsp;<span class="ident" id="3156285"><a href="/gostd/text/template/parse/lex.go.html#3146993">itemType</a></span><span class="op" id="3156293">)</span>&nbsp;<span class="ident" id="3156295"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;<span class="op" id="3156303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156306">if</span>&nbsp;<span class="ident" id="3156309"><a href="/gostd/text/template/parse/lex.go.html#3156271">l</a></span><span class="op" id="3156310">.</span><span class="ident" id="3156311"><a href="/gostd/text/template/parse/lex.go.html#3156967">atTerminator</a></span><span class="op" id="3156323">(</span><span class="op" id="3156324">)</span>&nbsp;<span class="op" id="3156326">{</span>&nbsp;<span class="comment" id="3156328">//&nbsp;Nothing&nbsp;interesting&nbsp;follows&nbsp;-&gt;&nbsp;&#34;.&#34;&nbsp;or&nbsp;&#34;$&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156376">if</span>&nbsp;<span class="ident" id="3156379"><a href="/gostd/text/template/parse/lex.go.html#3156281">typ</a></span>&nbsp;<span class="op" id="3156383">==</span>&nbsp;<span class="ident" id="3156386"><a href="/gostd/text/template/parse/lex.go.html#3148029">itemVariable</a></span>&nbsp;<span class="op" id="3156399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3156404"><a href="/gostd/text/template/parse/lex.go.html#3156271">l</a></span><span class="op" id="3156405">.</span><span class="ident" id="3156406"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3156410">(</span><span class="ident" id="3156411"><a href="/gostd/text/template/parse/lex.go.html#3148029">itemVariable</a></span><span class="op" id="3156423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3156427">}</span>&nbsp;<span class="keyword" id="3156429">else</span>&nbsp;<span class="op" id="3156434">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3156439"><a href="/gostd/text/template/parse/lex.go.html#3156271">l</a></span><span class="op" id="3156440">.</span><span class="ident" id="3156441"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3156445">(</span><span class="ident" id="3156446"><a href="/gostd/text/template/parse/lex.go.html#3148200">itemDot</a></span><span class="op" id="3156453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3156457">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156461">return</span>&nbsp;<span class="ident" id="3156468"><a href="/gostd/text/template/parse/lex.go.html#3153393">lexInsideAction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3156485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156488">var</span>&nbsp;<span class="ident" id="3156492">r</span>&nbsp;<span class="builtintype" id="3156494">rune</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156500">for</span>&nbsp;<span class="op" id="3156504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3156508"><a href="/gostd/text/template/parse/lex.go.html#3156492">r</a></span>&nbsp;<span class="op" id="3156510">=</span>&nbsp;<span class="ident" id="3156512"><a href="/gostd/text/template/parse/lex.go.html#3156271">l</a></span><span class="op" id="3156513">.</span><span class="ident" id="3156514"><a href="/gostd/text/template/parse/lex.go.html#3149648">next</a></span><span class="op" id="3156518">(</span><span class="op" id="3156519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156523">if</span>&nbsp;<span class="op" id="3156526">!</span><span class="ident" id="3156527"><a href="/gostd/text/template/parse/lex.go.html#3159938">isAlphaNumeric</a></span><span class="op" id="3156541">(</span><span class="ident" id="3156542"><a href="/gostd/text/template/parse/lex.go.html#3156492">r</a></span><span class="op" id="3156543">)</span>&nbsp;<span class="op" id="3156545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3156550"><a href="/gostd/text/template/parse/lex.go.html#3156271">l</a></span><span class="op" id="3156551">.</span><span class="ident" id="3156552"><a href="/gostd/text/template/parse/lex.go.html#3150048">backup</a></span><span class="op" id="3156558">(</span><span class="op" id="3156559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156564">break</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3156572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3156575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156578">if</span>&nbsp;<span class="op" id="3156581">!</span><span class="ident" id="3156582"><a href="/gostd/text/template/parse/lex.go.html#3156271">l</a></span><span class="op" id="3156583">.</span><span class="ident" id="3156584"><a href="/gostd/text/template/parse/lex.go.html#3156967">atTerminator</a></span><span class="op" id="3156596">(</span><span class="op" id="3156597">)</span>&nbsp;<span class="op" id="3156599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156603">return</span>&nbsp;<span class="ident" id="3156610"><a href="/gostd/text/template/parse/lex.go.html#3156271">l</a></span><span class="op" id="3156611">.</span><span class="ident" id="3156612"><a href="/gostd/text/template/parse/lex.go.html#3151136">errorf</a></span><span class="op" id="3156618">(</span><span class="string" id="3156619">&#34;bad&nbsp;character&nbsp;%#U&#34;</span><span class="op" id="3156638">,</span>&nbsp;<span class="ident" id="3156640"><a href="/gostd/text/template/parse/lex.go.html#3156492">r</a></span><span class="op" id="3156641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3156644">}</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3156647"><a href="/gostd/text/template/parse/lex.go.html#3156271">l</a></span><span class="op" id="3156648">.</span><span class="ident" id="3156649"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3156653">(</span><span class="ident" id="3156654"><a href="/gostd/text/template/parse/lex.go.html#3156281">typ</a></span><span class="op" id="3156657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3156660">return</span>&nbsp;<span class="ident" id="3156667"><a href="/gostd/text/template/parse/lex.go.html#3153393">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="3156683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3156686">//&nbsp;atTerminator&nbsp;reports&nbsp;whether&nbsp;the&nbsp;input&nbsp;is&nbsp;at&nbsp;valid&nbsp;termination&nbsp;character&nbsp;to</span><br>
<span class="lineno">415</span><span class="comment" id="3156765">//&nbsp;appear&nbsp;after&nbsp;an&nbsp;identifier.&nbsp;Breaks&nbsp;.X.Y&nbsp;into&nbsp;two&nbsp;pieces.&nbsp;Also&nbsp;catches&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="3156844">//&nbsp;like&nbsp;&#34;$x+2&#34;&nbsp;not&nbsp;being&nbsp;acceptable&nbsp;without&nbsp;a&nbsp;space,&nbsp;in&nbsp;case&nbsp;we&nbsp;decide&nbsp;one</span><br>
<span class="lineno"></span><span class="comment" id="3156919">//&nbsp;day&nbsp;to&nbsp;implement&nbsp;arithmetic.</span><br>
<span class="lineno"></span><span class="keyword" id="3156951">func</span>&nbsp;<span class="op" id="3156956">(</span><span class="ident" id="3156957">l</span>&nbsp;<span class="op" id="3156959">*</span><span class="ident" id="3156960"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3156965">)</span>&nbsp;<span class="ident" id="3156967">atTerminator</span><span class="op" id="3156979">(</span><span class="op" id="3156980">)</span>&nbsp;<span class="builtintype" id="3156982">bool</span>&nbsp;<span class="op" id="3156987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3156990">r</span>&nbsp;<span class="op" id="3156992">:=</span>&nbsp;<span class="ident" id="3156995"><a href="/gostd/text/template/parse/lex.go.html#3156957">l</a></span><span class="op" id="3156996">.</span><span class="ident" id="3156997"><a href="/gostd/text/template/parse/lex.go.html#3149905">peek</a></span><span class="op" id="3157001">(</span><span class="op" id="3157002">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157005">if</span>&nbsp;<span class="ident" id="3157008"><a href="/gostd/text/template/parse/lex.go.html#3159673">isSpace</a></span><span class="op" id="3157015">(</span><span class="ident" id="3157016"><a href="/gostd/text/template/parse/lex.go.html#3156990">r</a></span><span class="op" id="3157017">)</span>&nbsp;<span class="op" id="3157019">||</span>&nbsp;<span class="ident" id="3157022"><a href="/gostd/text/template/parse/lex.go.html#3159796">isEndOfLine</a></span><span class="op" id="3157033">(</span><span class="ident" id="3157034"><a href="/gostd/text/template/parse/lex.go.html#3156990">r</a></span><span class="op" id="3157035">)</span>&nbsp;<span class="op" id="3157037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157041">return</span>&nbsp;<span class="builtintype" id="3157048">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3157054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157057">switch</span>&nbsp;<span class="ident" id="3157064"><a href="/gostd/text/template/parse/lex.go.html#3156990">r</a></span>&nbsp;<span class="op" id="3157066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157069">case</span>&nbsp;<span class="ident" id="3157074"><a href="/gostd/text/template/parse/lex.go.html#3148779">eof</a></span><span class="op" id="3157077">,</span>&nbsp;<span class="string" id="3157079">&#39;.&#39;</span><span class="op" id="3157082">,</span>&nbsp;<span class="string" id="3157084">&#39;,&#39;</span><span class="op" id="3157087">,</span>&nbsp;<span class="string" id="3157089">&#39;|&#39;</span><span class="op" id="3157092">,</span>&nbsp;<span class="string" id="3157094">&#39;:&#39;</span><span class="op" id="3157097">,</span>&nbsp;<span class="string" id="3157099">&#39;)&#39;</span><span class="op" id="3157102">,</span>&nbsp;<span class="string" id="3157104">&#39;(&#39;</span><span class="op" id="3157107">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157111">return</span>&nbsp;<span class="builtintype" id="3157118">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3157124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3157127">//&nbsp;Does&nbsp;r&nbsp;start&nbsp;the&nbsp;delimiter?&nbsp;This&nbsp;can&nbsp;be&nbsp;ambiguous&nbsp;(with&nbsp;delim==&#34;//&#34;,&nbsp;$x/2&nbsp;will</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3157210">//&nbsp;succeed&nbsp;but&nbsp;should&nbsp;fail)&nbsp;but&nbsp;only&nbsp;in&nbsp;extremely&nbsp;rare&nbsp;cases&nbsp;caused&nbsp;by&nbsp;willfully</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3157292">//&nbsp;bad&nbsp;choice&nbsp;of&nbsp;delimiter.</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157321">if</span>&nbsp;<span class="ident" id="3157324">rd</span><span class="op" id="3157326">,</span>&nbsp;<span class="ident" id="3157328">_</span>&nbsp;<span class="op" id="3157330">:=</span>&nbsp;<span class="ident" id="3157333"><a href="/gostd/text/template/parse/lex.go.html#3146381">utf8</a></span><span class="op" id="3157337">.</span><span class="ident" id="3157338"><a href="/gostd/unicode/utf8/utf8.go.html#1810428">DecodeRuneInString</a></span><span class="op" id="3157356">(</span><span class="ident" id="3157357"><a href="/gostd/text/template/parse/lex.go.html#3156957">l</a></span><span class="op" id="3157358">.</span><span class="ident" id="3157359"><a href="/gostd/text/template/parse/lex.go.html#3149143">rightDelim</a></span><span class="op" id="3157369">)</span><span class="op" id="3157370">;</span>&nbsp;<span class="ident" id="3157372"><a href="/gostd/text/template/parse/lex.go.html#3157324">rd</a></span>&nbsp;<span class="op" id="3157375">==</span>&nbsp;<span class="ident" id="3157378"><a href="/gostd/text/template/parse/lex.go.html#3156990">r</a></span>&nbsp;<span class="op" id="3157380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157384">return</span>&nbsp;<span class="builtintype" id="3157391">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3157397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157400">return</span>&nbsp;<span class="builtintype" id="3157407">false</span><br>
<span class="lineno"></span><span class="op" id="3157413">}</span><br>
<span class="lineno">435</span><br>
<span class="lineno"></span><span class="comment" id="3157416">//&nbsp;lexChar&nbsp;scans&nbsp;a&nbsp;character&nbsp;constant.&nbsp;The&nbsp;initial&nbsp;quote&nbsp;is&nbsp;already</span><br>
<span class="lineno"></span><span class="comment" id="3157484">//&nbsp;scanned.&nbsp;Syntax&nbsp;checking&nbsp;is&nbsp;done&nbsp;by&nbsp;the&nbsp;parser.</span><br>
<span class="lineno"></span><span class="keyword" id="3157535">func</span>&nbsp;<span class="ident" id="3157540">lexChar</span><span class="op" id="3157547">(</span><span class="ident" id="3157548">l</span>&nbsp;<span class="op" id="3157550">*</span><span class="ident" id="3157551"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3157556">)</span>&nbsp;<span class="ident" id="3157558"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;<span class="op" id="3157566">{</span><br>
<span class="lineno"></span><span class="ident" id="3157568">Loop</span><span class="op" id="3157572">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157575">for</span>&nbsp;<span class="op" id="3157579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157583">switch</span>&nbsp;<span class="ident" id="3157590"><a href="/gostd/text/template/parse/lex.go.html#3157548">l</a></span><span class="op" id="3157591">.</span><span class="ident" id="3157592"><a href="/gostd/text/template/parse/lex.go.html#3149648">next</a></span><span class="op" id="3157596">(</span><span class="op" id="3157597">)</span>&nbsp;<span class="op" id="3157599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157603">case</span>&nbsp;<span class="string" id="3157608">&#39;\\&#39;</span><span class="op" id="3157612">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157617">if</span>&nbsp;<span class="ident" id="3157620">r</span>&nbsp;<span class="op" id="3157622">:=</span>&nbsp;<span class="ident" id="3157625"><a href="/gostd/text/template/parse/lex.go.html#3157548">l</a></span><span class="op" id="3157626">.</span><span class="ident" id="3157627"><a href="/gostd/text/template/parse/lex.go.html#3149648">next</a></span><span class="op" id="3157631">(</span><span class="op" id="3157632">)</span><span class="op" id="3157633">;</span>&nbsp;<span class="ident" id="3157635"><a href="/gostd/text/template/parse/lex.go.html#3157620">r</a></span>&nbsp;<span class="op" id="3157637">!=</span>&nbsp;<span class="ident" id="3157640"><a href="/gostd/text/template/parse/lex.go.html#3148779">eof</a></span>&nbsp;<span class="op" id="3157644">&amp;&amp;</span>&nbsp;<span class="ident" id="3157647"><a href="/gostd/text/template/parse/lex.go.html#3157620">r</a></span>&nbsp;<span class="op" id="3157649">!=</span>&nbsp;<span class="string" id="3157652">&#39;\n&#39;</span>&nbsp;<span class="op" id="3157657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157663">break</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3157672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157677">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157691">case</span>&nbsp;<span class="ident" id="3157696"><a href="/gostd/text/template/parse/lex.go.html#3148779">eof</a></span><span class="op" id="3157699">,</span>&nbsp;<span class="string" id="3157701">&#39;\n&#39;</span><span class="op" id="3157705">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157710">return</span>&nbsp;<span class="ident" id="3157717"><a href="/gostd/text/template/parse/lex.go.html#3157548">l</a></span><span class="op" id="3157718">.</span><span class="ident" id="3157719"><a href="/gostd/text/template/parse/lex.go.html#3151136">errorf</a></span><span class="op" id="3157725">(</span><span class="string" id="3157726">&#34;unterminated&nbsp;character&nbsp;constant&#34;</span><span class="op" id="3157759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157763">case</span>&nbsp;<span class="string" id="3157768">&#39;\&#39;&#39;</span><span class="op" id="3157772">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157777">break</span>&nbsp;<span class="ident" id="3157783"><a href="/gostd/text/template/parse/lex.go.html#3157568">Loop</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3157790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3157793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3157796"><a href="/gostd/text/template/parse/lex.go.html#3157548">l</a></span><span class="op" id="3157797">.</span><span class="ident" id="3157798"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3157802">(</span><span class="ident" id="3157803"><a href="/gostd/text/template/parse/lex.go.html#3147234">itemCharConstant</a></span><span class="op" id="3157819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3157822">return</span>&nbsp;<span class="ident" id="3157829"><a href="/gostd/text/template/parse/lex.go.html#3153393">lexInsideAction</a></span><br>
<span class="lineno">455</span><span class="op" id="3157845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3157848">//&nbsp;lexNumber&nbsp;scans&nbsp;a&nbsp;number:&nbsp;decimal,&nbsp;octal,&nbsp;hex,&nbsp;float,&nbsp;or&nbsp;imaginary.&nbsp;This</span><br>
<span class="lineno"></span><span class="comment" id="3157924">//&nbsp;isn&#39;t&nbsp;a&nbsp;perfect&nbsp;number&nbsp;scanner&nbsp;-&nbsp;for&nbsp;instance&nbsp;it&nbsp;accepts&nbsp;&#34;.&#34;&nbsp;and&nbsp;&#34;0x0.2&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3158000">//&nbsp;and&nbsp;&#34;089&#34;&nbsp;-&nbsp;but&nbsp;when&nbsp;it&#39;s&nbsp;wrong&nbsp;the&nbsp;input&nbsp;is&nbsp;invalid&nbsp;and&nbsp;the&nbsp;parser&nbsp;(via</span><br>
<span class="lineno">460</span><span class="comment" id="3158076">//&nbsp;strconv)&nbsp;will&nbsp;notice.</span><br>
<span class="lineno"></span><span class="keyword" id="3158101">func</span>&nbsp;<span class="ident" id="3158106">lexNumber</span><span class="op" id="3158115">(</span><span class="ident" id="3158116">l</span>&nbsp;<span class="op" id="3158118">*</span><span class="ident" id="3158119"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3158124">)</span>&nbsp;<span class="ident" id="3158126"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;<span class="op" id="3158134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3158137">if</span>&nbsp;<span class="op" id="3158140">!</span><span class="ident" id="3158141"><a href="/gostd/text/template/parse/lex.go.html#3158116">l</a></span><span class="op" id="3158142">.</span><span class="ident" id="3158143"><a href="/gostd/text/template/parse/lex.go.html#3158548">scanNumber</a></span><span class="op" id="3158153">(</span><span class="op" id="3158154">)</span>&nbsp;<span class="op" id="3158156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3158160">return</span>&nbsp;<span class="ident" id="3158167"><a href="/gostd/text/template/parse/lex.go.html#3158116">l</a></span><span class="op" id="3158168">.</span><span class="ident" id="3158169"><a href="/gostd/text/template/parse/lex.go.html#3151136">errorf</a></span><span class="op" id="3158175">(</span><span class="string" id="3158176">&#34;bad&nbsp;number&nbsp;syntax:&nbsp;%q&#34;</span><span class="op" id="3158199">,</span>&nbsp;<span class="ident" id="3158201"><a href="/gostd/text/template/parse/lex.go.html#3158116">l</a></span><span class="op" id="3158202">.</span><span class="ident" id="3158203"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3158208">[</span><span class="ident" id="3158209"><a href="/gostd/text/template/parse/lex.go.html#3158116">l</a></span><span class="op" id="3158210">.</span><span class="ident" id="3158211"><a href="/gostd/text/template/parse/lex.go.html#3149296">start</a></span><span class="op" id="3158216">:</span><span class="ident" id="3158217"><a href="/gostd/text/template/parse/lex.go.html#3158116">l</a></span><span class="op" id="3158218">.</span><span class="ident" id="3158219"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span><span class="op" id="3158222">]</span><span class="op" id="3158223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3158226">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3158229">if</span>&nbsp;<span class="ident" id="3158232">sign</span>&nbsp;<span class="op" id="3158237">:=</span>&nbsp;<span class="ident" id="3158240"><a href="/gostd/text/template/parse/lex.go.html#3158116">l</a></span><span class="op" id="3158241">.</span><span class="ident" id="3158242"><a href="/gostd/text/template/parse/lex.go.html#3149905">peek</a></span><span class="op" id="3158246">(</span><span class="op" id="3158247">)</span><span class="op" id="3158248">;</span>&nbsp;<span class="ident" id="3158250"><a href="/gostd/text/template/parse/lex.go.html#3158232">sign</a></span>&nbsp;<span class="op" id="3158255">==</span>&nbsp;<span class="string" id="3158258">&#39;+&#39;</span>&nbsp;<span class="op" id="3158262">||</span>&nbsp;<span class="ident" id="3158265"><a href="/gostd/text/template/parse/lex.go.html#3158232">sign</a></span>&nbsp;<span class="op" id="3158270">==</span>&nbsp;<span class="string" id="3158273">&#39;-&#39;</span>&nbsp;<span class="op" id="3158277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3158281">//&nbsp;Complex:&nbsp;1+2i.&nbsp;No&nbsp;spaces,&nbsp;must&nbsp;end&nbsp;in&nbsp;&#39;i&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3158329">if</span>&nbsp;<span class="op" id="3158332">!</span><span class="ident" id="3158333"><a href="/gostd/text/template/parse/lex.go.html#3158116">l</a></span><span class="op" id="3158334">.</span><span class="ident" id="3158335"><a href="/gostd/text/template/parse/lex.go.html#3158548">scanNumber</a></span><span class="op" id="3158345">(</span><span class="op" id="3158346">)</span>&nbsp;<span class="op" id="3158348">||</span>&nbsp;<span class="ident" id="3158351"><a href="/gostd/text/template/parse/lex.go.html#3158116">l</a></span><span class="op" id="3158352">.</span><span class="ident" id="3158353"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3158358">[</span><span class="ident" id="3158359"><a href="/gostd/text/template/parse/lex.go.html#3158116">l</a></span><span class="op" id="3158360">.</span><span class="ident" id="3158361"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span><span class="op" id="3158364">-</span><span class="num" id="3158365">1</span><span class="op" id="3158366">]</span>&nbsp;<span class="op" id="3158368">!=</span>&nbsp;<span class="string" id="3158371">&#39;i&#39;</span>&nbsp;<span class="op" id="3158375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3158380">return</span>&nbsp;<span class="ident" id="3158387"><a href="/gostd/text/template/parse/lex.go.html#3158116">l</a></span><span class="op" id="3158388">.</span><span class="ident" id="3158389"><a href="/gostd/text/template/parse/lex.go.html#3151136">errorf</a></span><span class="op" id="3158395">(</span><span class="string" id="3158396">&#34;bad&nbsp;number&nbsp;syntax:&nbsp;%q&#34;</span><span class="op" id="3158419">,</span>&nbsp;<span class="ident" id="3158421"><a href="/gostd/text/template/parse/lex.go.html#3158116">l</a></span><span class="op" id="3158422">.</span><span class="ident" id="3158423"><a href="/gostd/text/template/parse/lex.go.html#3149052">input</a></span><span class="op" id="3158428">[</span><span class="ident" id="3158429"><a href="/gostd/text/template/parse/lex.go.html#3158116">l</a></span><span class="op" id="3158430">.</span><span class="ident" id="3158431"><a href="/gostd/text/template/parse/lex.go.html#3149296">start</a></span><span class="op" id="3158436">:</span><span class="ident" id="3158437"><a href="/gostd/text/template/parse/lex.go.html#3158116">l</a></span><span class="op" id="3158438">.</span><span class="ident" id="3158439"><a href="/gostd/text/template/parse/lex.go.html#3149241">pos</a></span><span class="op" id="3158442">]</span><span class="op" id="3158443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3158447">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3158451"><a href="/gostd/text/template/parse/lex.go.html#3158116">l</a></span><span class="op" id="3158452">.</span><span class="ident" id="3158453"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3158457">(</span><span class="ident" id="3158458"><a href="/gostd/text/template/parse/lex.go.html#3147290">itemComplex</a></span><span class="op" id="3158469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3158472">}</span>&nbsp;<span class="keyword" id="3158474">else</span>&nbsp;<span class="op" id="3158479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3158483"><a href="/gostd/text/template/parse/lex.go.html#3158116">l</a></span><span class="op" id="3158484">.</span><span class="ident" id="3158485"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3158489">(</span><span class="ident" id="3158490"><a href="/gostd/text/template/parse/lex.go.html#3147675">itemNumber</a></span><span class="op" id="3158500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3158503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3158506">return</span>&nbsp;<span class="ident" id="3158513"><a href="/gostd/text/template/parse/lex.go.html#3153393">lexInsideAction</a></span><br>
<span class="lineno">475</span><span class="op" id="3158529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3158532">func</span>&nbsp;<span class="op" id="3158537">(</span><span class="ident" id="3158538">l</span>&nbsp;<span class="op" id="3158540">*</span><span class="ident" id="3158541"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3158546">)</span>&nbsp;<span class="ident" id="3158548">scanNumber</span><span class="op" id="3158558">(</span><span class="op" id="3158559">)</span>&nbsp;<span class="builtintype" id="3158561">bool</span>&nbsp;<span class="op" id="3158566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3158569">//&nbsp;Optional&nbsp;leading&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3158596"><a href="/gostd/text/template/parse/lex.go.html#3158538">l</a></span><span class="op" id="3158597">.</span><span class="ident" id="3158598"><a href="/gostd/text/template/parse/lex.go.html#3150413">accept</a></span><span class="op" id="3158604">(</span><span class="string" id="3158605">&#34;+-&#34;</span><span class="op" id="3158609">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3158612">//&nbsp;Is&nbsp;it&nbsp;hex?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3158627">digits</span>&nbsp;<span class="op" id="3158634">:=</span>&nbsp;<span class="string" id="3158637">&#34;0123456789&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3158651">if</span>&nbsp;<span class="ident" id="3158654"><a href="/gostd/text/template/parse/lex.go.html#3158538">l</a></span><span class="op" id="3158655">.</span><span class="ident" id="3158656"><a href="/gostd/text/template/parse/lex.go.html#3150413">accept</a></span><span class="op" id="3158662">(</span><span class="string" id="3158663">&#34;0&#34;</span><span class="op" id="3158666">)</span>&nbsp;<span class="op" id="3158668">&amp;&amp;</span>&nbsp;<span class="ident" id="3158671"><a href="/gostd/text/template/parse/lex.go.html#3158538">l</a></span><span class="op" id="3158672">.</span><span class="ident" id="3158673"><a href="/gostd/text/template/parse/lex.go.html#3150413">accept</a></span><span class="op" id="3158679">(</span><span class="string" id="3158680">&#34;xX&#34;</span><span class="op" id="3158684">)</span>&nbsp;<span class="op" id="3158686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3158690"><a href="/gostd/text/template/parse/lex.go.html#3158627">digits</a></span>&nbsp;<span class="op" id="3158697">=</span>&nbsp;<span class="string" id="3158699">&#34;0123456789abcdefABCDEF&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3158725">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3158728"><a href="/gostd/text/template/parse/lex.go.html#3158538">l</a></span><span class="op" id="3158729">.</span><span class="ident" id="3158730"><a href="/gostd/text/template/parse/lex.go.html#3150606">acceptRun</a></span><span class="op" id="3158739">(</span><span class="ident" id="3158740"><a href="/gostd/text/template/parse/lex.go.html#3158627">digits</a></span><span class="op" id="3158746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3158749">if</span>&nbsp;<span class="ident" id="3158752"><a href="/gostd/text/template/parse/lex.go.html#3158538">l</a></span><span class="op" id="3158753">.</span><span class="ident" id="3158754"><a href="/gostd/text/template/parse/lex.go.html#3150413">accept</a></span><span class="op" id="3158760">(</span><span class="string" id="3158761">&#34;.&#34;</span><span class="op" id="3158764">)</span>&nbsp;<span class="op" id="3158766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3158770"><a href="/gostd/text/template/parse/lex.go.html#3158538">l</a></span><span class="op" id="3158771">.</span><span class="ident" id="3158772"><a href="/gostd/text/template/parse/lex.go.html#3150606">acceptRun</a></span><span class="op" id="3158781">(</span><span class="ident" id="3158782"><a href="/gostd/text/template/parse/lex.go.html#3158627">digits</a></span><span class="op" id="3158788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3158791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3158794">if</span>&nbsp;<span class="ident" id="3158797"><a href="/gostd/text/template/parse/lex.go.html#3158538">l</a></span><span class="op" id="3158798">.</span><span class="ident" id="3158799"><a href="/gostd/text/template/parse/lex.go.html#3150413">accept</a></span><span class="op" id="3158805">(</span><span class="string" id="3158806">&#34;eE&#34;</span><span class="op" id="3158810">)</span>&nbsp;<span class="op" id="3158812">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3158816"><a href="/gostd/text/template/parse/lex.go.html#3158538">l</a></span><span class="op" id="3158817">.</span><span class="ident" id="3158818"><a href="/gostd/text/template/parse/lex.go.html#3150413">accept</a></span><span class="op" id="3158824">(</span><span class="string" id="3158825">&#34;+-&#34;</span><span class="op" id="3158829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3158833"><a href="/gostd/text/template/parse/lex.go.html#3158538">l</a></span><span class="op" id="3158834">.</span><span class="ident" id="3158835"><a href="/gostd/text/template/parse/lex.go.html#3150606">acceptRun</a></span><span class="op" id="3158844">(</span><span class="string" id="3158845">&#34;0123456789&#34;</span><span class="op" id="3158857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3158860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3158863">//&nbsp;Is&nbsp;it&nbsp;imaginary?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3158884"><a href="/gostd/text/template/parse/lex.go.html#3158538">l</a></span><span class="op" id="3158885">.</span><span class="ident" id="3158886"><a href="/gostd/text/template/parse/lex.go.html#3150413">accept</a></span><span class="op" id="3158892">(</span><span class="string" id="3158893">&#34;i&#34;</span><span class="op" id="3158896">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3158899">//&nbsp;Next&nbsp;thing&nbsp;mustn&#39;t&nbsp;be&nbsp;alphanumeric.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3158939">if</span>&nbsp;<span class="ident" id="3158942"><a href="/gostd/text/template/parse/lex.go.html#3159938">isAlphaNumeric</a></span><span class="op" id="3158956">(</span><span class="ident" id="3158957"><a href="/gostd/text/template/parse/lex.go.html#3158538">l</a></span><span class="op" id="3158958">.</span><span class="ident" id="3158959"><a href="/gostd/text/template/parse/lex.go.html#3149905">peek</a></span><span class="op" id="3158963">(</span><span class="op" id="3158964">)</span><span class="op" id="3158965">)</span>&nbsp;<span class="op" id="3158967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3158971"><a href="/gostd/text/template/parse/lex.go.html#3158538">l</a></span><span class="op" id="3158972">.</span><span class="ident" id="3158973"><a href="/gostd/text/template/parse/lex.go.html#3149648">next</a></span><span class="op" id="3158977">(</span><span class="op" id="3158978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3158982">return</span>&nbsp;<span class="builtintype" id="3158989">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3158996">}</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3158999">return</span>&nbsp;<span class="builtintype" id="3159006">true</span><br>
<span class="lineno"></span><span class="op" id="3159011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3159014">//&nbsp;lexQuote&nbsp;scans&nbsp;a&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3159049">func</span>&nbsp;<span class="ident" id="3159054">lexQuote</span><span class="op" id="3159062">(</span><span class="ident" id="3159063">l</span>&nbsp;<span class="op" id="3159065">*</span><span class="ident" id="3159066"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3159071">)</span>&nbsp;<span class="ident" id="3159073"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;<span class="op" id="3159081">{</span><br>
<span class="lineno">505</span><span class="ident" id="3159083">Loop</span><span class="op" id="3159087">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159090">for</span>&nbsp;<span class="op" id="3159094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159098">switch</span>&nbsp;<span class="ident" id="3159105"><a href="/gostd/text/template/parse/lex.go.html#3159063">l</a></span><span class="op" id="3159106">.</span><span class="ident" id="3159107"><a href="/gostd/text/template/parse/lex.go.html#3149648">next</a></span><span class="op" id="3159111">(</span><span class="op" id="3159112">)</span>&nbsp;<span class="op" id="3159114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159118">case</span>&nbsp;<span class="string" id="3159123">&#39;\\&#39;</span><span class="op" id="3159127">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159132">if</span>&nbsp;<span class="ident" id="3159135">r</span>&nbsp;<span class="op" id="3159137">:=</span>&nbsp;<span class="ident" id="3159140"><a href="/gostd/text/template/parse/lex.go.html#3159063">l</a></span><span class="op" id="3159141">.</span><span class="ident" id="3159142"><a href="/gostd/text/template/parse/lex.go.html#3149648">next</a></span><span class="op" id="3159146">(</span><span class="op" id="3159147">)</span><span class="op" id="3159148">;</span>&nbsp;<span class="ident" id="3159150"><a href="/gostd/text/template/parse/lex.go.html#3159135">r</a></span>&nbsp;<span class="op" id="3159152">!=</span>&nbsp;<span class="ident" id="3159155"><a href="/gostd/text/template/parse/lex.go.html#3148779">eof</a></span>&nbsp;<span class="op" id="3159159">&amp;&amp;</span>&nbsp;<span class="ident" id="3159162"><a href="/gostd/text/template/parse/lex.go.html#3159135">r</a></span>&nbsp;<span class="op" id="3159164">!=</span>&nbsp;<span class="string" id="3159167">&#39;\n&#39;</span>&nbsp;<span class="op" id="3159172">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159178">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3159187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159192">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159206">case</span>&nbsp;<span class="ident" id="3159211"><a href="/gostd/text/template/parse/lex.go.html#3148779">eof</a></span><span class="op" id="3159214">,</span>&nbsp;<span class="string" id="3159216">&#39;\n&#39;</span><span class="op" id="3159220">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159225">return</span>&nbsp;<span class="ident" id="3159232"><a href="/gostd/text/template/parse/lex.go.html#3159063">l</a></span><span class="op" id="3159233">.</span><span class="ident" id="3159234"><a href="/gostd/text/template/parse/lex.go.html#3151136">errorf</a></span><span class="op" id="3159240">(</span><span class="string" id="3159241">&#34;unterminated&nbsp;quoted&nbsp;string&#34;</span><span class="op" id="3159269">)</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159273">case</span>&nbsp;<span class="string" id="3159278">&#39;&#34;&#39;</span><span class="op" id="3159281">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159286">break</span>&nbsp;<span class="ident" id="3159292"><a href="/gostd/text/template/parse/lex.go.html#3159083">Loop</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3159299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3159302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3159305"><a href="/gostd/text/template/parse/lex.go.html#3159063">l</a></span><span class="op" id="3159306">.</span><span class="ident" id="3159307"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3159311">(</span><span class="ident" id="3159312"><a href="/gostd/text/template/parse/lex.go.html#3147948">itemString</a></span><span class="op" id="3159322">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159325">return</span>&nbsp;<span class="ident" id="3159332"><a href="/gostd/text/template/parse/lex.go.html#3153393">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="3159348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3159351">//&nbsp;lexRawQuote&nbsp;scans&nbsp;a&nbsp;raw&nbsp;quoted&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3159393">func</span>&nbsp;<span class="ident" id="3159398">lexRawQuote</span><span class="op" id="3159409">(</span><span class="ident" id="3159410">l</span>&nbsp;<span class="op" id="3159412">*</span><span class="ident" id="3159413"><a href="/gostd/text/template/parse/lex.go.html#3148960">lexer</a></span><span class="op" id="3159418">)</span>&nbsp;<span class="ident" id="3159420"><a href="/gostd/text/template/parse/lex.go.html#3148884">stateFn</a></span>&nbsp;<span class="op" id="3159428">{</span><br>
<span class="lineno">525</span><span class="ident" id="3159430">Loop</span><span class="op" id="3159434">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159437">for</span>&nbsp;<span class="op" id="3159441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159445">switch</span>&nbsp;<span class="ident" id="3159452"><a href="/gostd/text/template/parse/lex.go.html#3159410">l</a></span><span class="op" id="3159453">.</span><span class="ident" id="3159454"><a href="/gostd/text/template/parse/lex.go.html#3149648">next</a></span><span class="op" id="3159458">(</span><span class="op" id="3159459">)</span>&nbsp;<span class="op" id="3159461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159465">case</span>&nbsp;<span class="ident" id="3159470"><a href="/gostd/text/template/parse/lex.go.html#3148779">eof</a></span><span class="op" id="3159473">,</span>&nbsp;<span class="string" id="3159475">&#39;\n&#39;</span><span class="op" id="3159479">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159484">return</span>&nbsp;<span class="ident" id="3159491"><a href="/gostd/text/template/parse/lex.go.html#3159410">l</a></span><span class="op" id="3159492">.</span><span class="ident" id="3159493"><a href="/gostd/text/template/parse/lex.go.html#3151136">errorf</a></span><span class="op" id="3159499">(</span><span class="string" id="3159500">&#34;unterminated&nbsp;raw&nbsp;quoted&nbsp;string&#34;</span><span class="op" id="3159532">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159536">case</span>&nbsp;<span class="string" id="3159541">&#39;`&#39;</span><span class="op" id="3159544">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159549">break</span>&nbsp;<span class="ident" id="3159555"><a href="/gostd/text/template/parse/lex.go.html#3159430">Loop</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3159562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3159565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3159568"><a href="/gostd/text/template/parse/lex.go.html#3159410">l</a></span><span class="op" id="3159569">.</span><span class="ident" id="3159570"><a href="/gostd/text/template/parse/lex.go.html#3150139">emit</a></span><span class="op" id="3159574">(</span><span class="ident" id="3159575"><a href="/gostd/text/template/parse/lex.go.html#3147760">itemRawString</a></span><span class="op" id="3159588">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159591">return</span>&nbsp;<span class="ident" id="3159598"><a href="/gostd/text/template/parse/lex.go.html#3153393">lexInsideAction</a></span><br>
<span class="lineno"></span><span class="op" id="3159614">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3159617">//&nbsp;isSpace&nbsp;reports&nbsp;whether&nbsp;r&nbsp;is&nbsp;a&nbsp;space&nbsp;character.</span><br>
<span class="lineno"></span><span class="keyword" id="3159668">func</span>&nbsp;<span class="ident" id="3159673">isSpace</span><span class="op" id="3159680">(</span><span class="ident" id="3159681">r</span>&nbsp;<span class="builtintype" id="3159683">rune</span><span class="op" id="3159687">)</span>&nbsp;<span class="builtintype" id="3159689">bool</span>&nbsp;<span class="op" id="3159694">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159697">return</span>&nbsp;<span class="ident" id="3159704"><a href="/gostd/text/template/parse/lex.go.html#3159681">r</a></span>&nbsp;<span class="op" id="3159706">==</span>&nbsp;<span class="string" id="3159709">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3159713">||</span>&nbsp;<span class="ident" id="3159716"><a href="/gostd/text/template/parse/lex.go.html#3159681">r</a></span>&nbsp;<span class="op" id="3159718">==</span>&nbsp;<span class="string" id="3159721">&#39;\t&#39;</span><br>
<span class="lineno"></span><span class="op" id="3159726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3159729">//&nbsp;isEndOfLine&nbsp;reports&nbsp;whether&nbsp;r&nbsp;is&nbsp;an&nbsp;end-of-line&nbsp;character.</span><br>
<span class="lineno"></span><span class="keyword" id="3159791">func</span>&nbsp;<span class="ident" id="3159796">isEndOfLine</span><span class="op" id="3159807">(</span><span class="ident" id="3159808">r</span>&nbsp;<span class="builtintype" id="3159810">rune</span><span class="op" id="3159814">)</span>&nbsp;<span class="builtintype" id="3159816">bool</span>&nbsp;<span class="op" id="3159821">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159824">return</span>&nbsp;<span class="ident" id="3159831"><a href="/gostd/text/template/parse/lex.go.html#3159808">r</a></span>&nbsp;<span class="op" id="3159833">==</span>&nbsp;<span class="string" id="3159836">&#39;\r&#39;</span>&nbsp;<span class="op" id="3159841">||</span>&nbsp;<span class="ident" id="3159844"><a href="/gostd/text/template/parse/lex.go.html#3159808">r</a></span>&nbsp;<span class="op" id="3159846">==</span>&nbsp;<span class="string" id="3159849">&#39;\n&#39;</span><br>
<span class="lineno"></span><span class="op" id="3159854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3159857">//&nbsp;isAlphaNumeric&nbsp;reports&nbsp;whether&nbsp;r&nbsp;is&nbsp;an&nbsp;alphabetic,&nbsp;digit,&nbsp;or&nbsp;underscore.</span><br>
<span class="lineno"></span><span class="keyword" id="3159933">func</span>&nbsp;<span class="ident" id="3159938">isAlphaNumeric</span><span class="op" id="3159952">(</span><span class="ident" id="3159953">r</span>&nbsp;<span class="builtintype" id="3159955">rune</span><span class="op" id="3159959">)</span>&nbsp;<span class="builtintype" id="3159961">bool</span>&nbsp;<span class="op" id="3159966">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3159969">return</span>&nbsp;<span class="ident" id="3159976"><a href="/gostd/text/template/parse/lex.go.html#3159953">r</a></span>&nbsp;<span class="op" id="3159978">==</span>&nbsp;<span class="string" id="3159981">&#39;_&#39;</span>&nbsp;<span class="op" id="3159985">||</span>&nbsp;<span class="ident" id="3159988"><a href="/gostd/text/template/parse/lex.go.html#3146370">unicode</a></span><span class="op" id="3159995">.</span><span class="ident" id="3159996"><a href="/gostd/unicode/graphic.go.html#1819623">IsLetter</a></span><span class="op" id="3160004">(</span><span class="ident" id="3160005"><a href="/gostd/text/template/parse/lex.go.html#3159953">r</a></span><span class="op" id="3160006">)</span>&nbsp;<span class="op" id="3160008">||</span>&nbsp;<span class="ident" id="3160011"><a href="/gostd/text/template/parse/lex.go.html#3146370">unicode</a></span><span class="op" id="3160018">.</span><span class="ident" id="3160019"><a href="/gostd/unicode/digit.go.html#1816545">IsDigit</a></span><span class="op" id="3160026">(</span><span class="ident" id="3160027"><a href="/gostd/text/template/parse/lex.go.html#3159953">r</a></span><span class="op" id="3160028">)</span><br>
<span class="lineno"></span><span class="op" id="3160030">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
