<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6700408">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6700463">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6700517">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6700568">package</span>&nbsp;<span class="ident" id="6700576">path</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6700582">import</span>&nbsp;<span class="op" id="6700589">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6700592">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6700603">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6700613">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6700616">type</span>&nbsp;<span class="ident" id="6700621">PathTest</span>&nbsp;<span class="keyword" id="6700630">struct</span>&nbsp;<span class="op" id="6700637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6700640">path</span><span class="op" id="6700644">,</span>&nbsp;<span class="ident" id="6700646">result</span>&nbsp;<span class="builtintype" id="6700653">string</span><br>
<span class="lineno"></span><span class="op" id="6700660">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6700663">var</span>&nbsp;<span class="ident" id="6700667">cleantests</span>&nbsp;<span class="op" id="6700678">=</span>&nbsp;<span class="op" id="6700680">[</span><span class="op" id="6700681">]</span><span class="ident" id="6700682"><a href="/path/path_test.go.html#6700621">PathTest</a></span><span class="op" id="6700690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6700693">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700711">{</span><span class="string" id="6700712">&#34;&#34;</span><span class="op" id="6700714">,</span>&nbsp;<span class="string" id="6700716">&#34;.&#34;</span><span class="op" id="6700719">}</span><span class="op" id="6700720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700723">{</span><span class="string" id="6700724">&#34;abc&#34;</span><span class="op" id="6700729">,</span>&nbsp;<span class="string" id="6700731">&#34;abc&#34;</span><span class="op" id="6700736">}</span><span class="op" id="6700737">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700740">{</span><span class="string" id="6700741">&#34;abc/def&#34;</span><span class="op" id="6700750">,</span>&nbsp;<span class="string" id="6700752">&#34;abc/def&#34;</span><span class="op" id="6700761">}</span><span class="op" id="6700762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700765">{</span><span class="string" id="6700766">&#34;a/b/c&#34;</span><span class="op" id="6700773">,</span>&nbsp;<span class="string" id="6700775">&#34;a/b/c&#34;</span><span class="op" id="6700782">}</span><span class="op" id="6700783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700786">{</span><span class="string" id="6700787">&#34;.&#34;</span><span class="op" id="6700790">,</span>&nbsp;<span class="string" id="6700792">&#34;.&#34;</span><span class="op" id="6700795">}</span><span class="op" id="6700796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700799">{</span><span class="string" id="6700800">&#34;..&#34;</span><span class="op" id="6700804">,</span>&nbsp;<span class="string" id="6700806">&#34;..&#34;</span><span class="op" id="6700810">}</span><span class="op" id="6700811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700814">{</span><span class="string" id="6700815">&#34;../..&#34;</span><span class="op" id="6700822">,</span>&nbsp;<span class="string" id="6700824">&#34;../..&#34;</span><span class="op" id="6700831">}</span><span class="op" id="6700832">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700835">{</span><span class="string" id="6700836">&#34;../../abc&#34;</span><span class="op" id="6700847">,</span>&nbsp;<span class="string" id="6700849">&#34;../../abc&#34;</span><span class="op" id="6700860">}</span><span class="op" id="6700861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700864">{</span><span class="string" id="6700865">&#34;/abc&#34;</span><span class="op" id="6700871">,</span>&nbsp;<span class="string" id="6700873">&#34;/abc&#34;</span><span class="op" id="6700879">}</span><span class="op" id="6700880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700883">{</span><span class="string" id="6700884">&#34;/&#34;</span><span class="op" id="6700887">,</span>&nbsp;<span class="string" id="6700889">&#34;/&#34;</span><span class="op" id="6700892">}</span><span class="op" id="6700893">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6700897">//&nbsp;Remove&nbsp;trailing&nbsp;slash</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700923">{</span><span class="string" id="6700924">&#34;abc/&#34;</span><span class="op" id="6700930">,</span>&nbsp;<span class="string" id="6700932">&#34;abc&#34;</span><span class="op" id="6700937">}</span><span class="op" id="6700938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700941">{</span><span class="string" id="6700942">&#34;abc/def/&#34;</span><span class="op" id="6700952">,</span>&nbsp;<span class="string" id="6700954">&#34;abc/def&#34;</span><span class="op" id="6700963">}</span><span class="op" id="6700964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700967">{</span><span class="string" id="6700968">&#34;a/b/c/&#34;</span><span class="op" id="6700976">,</span>&nbsp;<span class="string" id="6700978">&#34;a/b/c&#34;</span><span class="op" id="6700985">}</span><span class="op" id="6700986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6700989">{</span><span class="string" id="6700990">&#34;./&#34;</span><span class="op" id="6700994">,</span>&nbsp;<span class="string" id="6700996">&#34;.&#34;</span><span class="op" id="6700999">}</span><span class="op" id="6701000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701003">{</span><span class="string" id="6701004">&#34;../&#34;</span><span class="op" id="6701009">,</span>&nbsp;<span class="string" id="6701011">&#34;..&#34;</span><span class="op" id="6701015">}</span><span class="op" id="6701016">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701019">{</span><span class="string" id="6701020">&#34;../../&#34;</span><span class="op" id="6701028">,</span>&nbsp;<span class="string" id="6701030">&#34;../..&#34;</span><span class="op" id="6701037">}</span><span class="op" id="6701038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701041">{</span><span class="string" id="6701042">&#34;/abc/&#34;</span><span class="op" id="6701049">,</span>&nbsp;<span class="string" id="6701051">&#34;/abc&#34;</span><span class="op" id="6701057">}</span><span class="op" id="6701058">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6701062">//&nbsp;Remove&nbsp;doubled&nbsp;slash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701087">{</span><span class="string" id="6701088">&#34;abc//def//ghi&#34;</span><span class="op" id="6701103">,</span>&nbsp;<span class="string" id="6701105">&#34;abc/def/ghi&#34;</span><span class="op" id="6701118">}</span><span class="op" id="6701119">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701122">{</span><span class="string" id="6701123">&#34;//abc&#34;</span><span class="op" id="6701130">,</span>&nbsp;<span class="string" id="6701132">&#34;/abc&#34;</span><span class="op" id="6701138">}</span><span class="op" id="6701139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701142">{</span><span class="string" id="6701143">&#34;///abc&#34;</span><span class="op" id="6701151">,</span>&nbsp;<span class="string" id="6701153">&#34;/abc&#34;</span><span class="op" id="6701159">}</span><span class="op" id="6701160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701163">{</span><span class="string" id="6701164">&#34;//abc//&#34;</span><span class="op" id="6701173">,</span>&nbsp;<span class="string" id="6701175">&#34;/abc&#34;</span><span class="op" id="6701181">}</span><span class="op" id="6701182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701185">{</span><span class="string" id="6701186">&#34;abc//&#34;</span><span class="op" id="6701193">,</span>&nbsp;<span class="string" id="6701195">&#34;abc&#34;</span><span class="op" id="6701200">}</span><span class="op" id="6701201">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6701205">//&nbsp;Remove&nbsp;.&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701227">{</span><span class="string" id="6701228">&#34;abc/./def&#34;</span><span class="op" id="6701239">,</span>&nbsp;<span class="string" id="6701241">&#34;abc/def&#34;</span><span class="op" id="6701250">}</span><span class="op" id="6701251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701254">{</span><span class="string" id="6701255">&#34;/./abc/def&#34;</span><span class="op" id="6701267">,</span>&nbsp;<span class="string" id="6701269">&#34;/abc/def&#34;</span><span class="op" id="6701279">}</span><span class="op" id="6701280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701283">{</span><span class="string" id="6701284">&#34;abc/.&#34;</span><span class="op" id="6701291">,</span>&nbsp;<span class="string" id="6701293">&#34;abc&#34;</span><span class="op" id="6701298">}</span><span class="op" id="6701299">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6701303">//&nbsp;Remove&nbsp;..&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701326">{</span><span class="string" id="6701327">&#34;abc/def/ghi/../jkl&#34;</span><span class="op" id="6701347">,</span>&nbsp;<span class="string" id="6701349">&#34;abc/def/jkl&#34;</span><span class="op" id="6701362">}</span><span class="op" id="6701363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701366">{</span><span class="string" id="6701367">&#34;abc/def/../ghi/../jkl&#34;</span><span class="op" id="6701390">,</span>&nbsp;<span class="string" id="6701392">&#34;abc/jkl&#34;</span><span class="op" id="6701401">}</span><span class="op" id="6701402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701405">{</span><span class="string" id="6701406">&#34;abc/def/..&#34;</span><span class="op" id="6701418">,</span>&nbsp;<span class="string" id="6701420">&#34;abc&#34;</span><span class="op" id="6701425">}</span><span class="op" id="6701426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701429">{</span><span class="string" id="6701430">&#34;abc/def/../..&#34;</span><span class="op" id="6701445">,</span>&nbsp;<span class="string" id="6701447">&#34;.&#34;</span><span class="op" id="6701450">}</span><span class="op" id="6701451">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701454">{</span><span class="string" id="6701455">&#34;/abc/def/../..&#34;</span><span class="op" id="6701471">,</span>&nbsp;<span class="string" id="6701473">&#34;/&#34;</span><span class="op" id="6701476">}</span><span class="op" id="6701477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701480">{</span><span class="string" id="6701481">&#34;abc/def/../../..&#34;</span><span class="op" id="6701499">,</span>&nbsp;<span class="string" id="6701501">&#34;..&#34;</span><span class="op" id="6701505">}</span><span class="op" id="6701506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701509">{</span><span class="string" id="6701510">&#34;/abc/def/../../..&#34;</span><span class="op" id="6701529">,</span>&nbsp;<span class="string" id="6701531">&#34;/&#34;</span><span class="op" id="6701534">}</span><span class="op" id="6701535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701538">{</span><span class="string" id="6701539">&#34;abc/def/../../../ghi/jkl/../../../mno&#34;</span><span class="op" id="6701578">,</span>&nbsp;<span class="string" id="6701580">&#34;../../mno&#34;</span><span class="op" id="6701591">}</span><span class="op" id="6701592">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6701596">//&nbsp;Combinations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701613">{</span><span class="string" id="6701614">&#34;abc/./../def&#34;</span><span class="op" id="6701628">,</span>&nbsp;<span class="string" id="6701630">&#34;def&#34;</span><span class="op" id="6701635">}</span><span class="op" id="6701636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701639">{</span><span class="string" id="6701640">&#34;abc//./../def&#34;</span><span class="op" id="6701655">,</span>&nbsp;<span class="string" id="6701657">&#34;def&#34;</span><span class="op" id="6701662">}</span><span class="op" id="6701663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701666">{</span><span class="string" id="6701667">&#34;abc/../../././../def&#34;</span><span class="op" id="6701689">,</span>&nbsp;<span class="string" id="6701691">&#34;../../def&#34;</span><span class="op" id="6701702">}</span><span class="op" id="6701703">,</span><br>
<span class="lineno"></span><span class="op" id="6701705">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6701708">func</span>&nbsp;<span class="ident" id="6701713">TestClean</span><span class="op" id="6701722">(</span><span class="ident" id="6701723">t</span>&nbsp;<span class="op" id="6701725">*</span><span class="ident" id="6701726"><a href="/path/path_test.go.html#6700603">testing</a></span><span class="op" id="6701733">.</span><span class="ident" id="6701734">T</span><span class="op" id="6701735">)</span>&nbsp;<span class="op" id="6701737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6701740">for</span>&nbsp;<span class="ident" id="6701744">_</span><span class="op" id="6701745">,</span>&nbsp;<span class="ident" id="6701747">test</span>&nbsp;<span class="op" id="6701752">:=</span>&nbsp;<span class="keyword" id="6701755">range</span>&nbsp;<span class="ident" id="6701761"><a href="/path/path_test.go.html#6700667">cleantests</a></span>&nbsp;<span class="op" id="6701772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6701776">if</span>&nbsp;<span class="ident" id="6701779">s</span>&nbsp;<span class="op" id="6701781">:=</span>&nbsp;<span class="ident" id="6701784"><a href="/path/path.go.html#4092052">Clean</a></span><span class="op" id="6701789">(</span><span class="ident" id="6701790"><a href="/path/path_test.go.html#6701747">test</a></span><span class="op" id="6701794">.</span><span class="ident" id="6701795">path</span><span class="op" id="6701799">)</span><span class="op" id="6701800">;</span>&nbsp;<span class="ident" id="6701802"><a href="/path/path_test.go.html#6701779">s</a></span>&nbsp;<span class="op" id="6701804">!=</span>&nbsp;<span class="ident" id="6701807"><a href="/path/path_test.go.html#6701747">test</a></span><span class="op" id="6701811">.</span><span class="ident" id="6701812">result</span>&nbsp;<span class="op" id="6701819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701824"><a href="/path/path_test.go.html#6701723">t</a></span><span class="op" id="6701825">.</span><span class="ident" id="6701826">Errorf</span><span class="op" id="6701832">(</span><span class="string" id="6701833">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6701858">,</span>&nbsp;<span class="ident" id="6701860"><a href="/path/path_test.go.html#6701747">test</a></span><span class="op" id="6701864">.</span><span class="ident" id="6701865">path</span><span class="op" id="6701869">,</span>&nbsp;<span class="ident" id="6701871"><a href="/path/path_test.go.html#6701779">s</a></span><span class="op" id="6701872">,</span>&nbsp;<span class="ident" id="6701874"><a href="/path/path_test.go.html#6701747">test</a></span><span class="op" id="6701878">.</span><span class="ident" id="6701879">result</span><span class="op" id="6701885">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6701889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6701893">if</span>&nbsp;<span class="ident" id="6701896">s</span>&nbsp;<span class="op" id="6701898">:=</span>&nbsp;<span class="ident" id="6701901"><a href="/path/path.go.html#4092052">Clean</a></span><span class="op" id="6701906">(</span><span class="ident" id="6701907"><a href="/path/path_test.go.html#6701747">test</a></span><span class="op" id="6701911">.</span><span class="ident" id="6701912">result</span><span class="op" id="6701918">)</span><span class="op" id="6701919">;</span>&nbsp;<span class="ident" id="6701921"><a href="/path/path_test.go.html#6701896">s</a></span>&nbsp;<span class="op" id="6701923">!=</span>&nbsp;<span class="ident" id="6701926"><a href="/path/path_test.go.html#6701747">test</a></span><span class="op" id="6701930">.</span><span class="ident" id="6701931">result</span>&nbsp;<span class="op" id="6701938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6701943"><a href="/path/path_test.go.html#6701723">t</a></span><span class="op" id="6701944">.</span><span class="ident" id="6701945">Errorf</span><span class="op" id="6701951">(</span><span class="string" id="6701952">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6701977">,</span>&nbsp;<span class="ident" id="6701979"><a href="/path/path_test.go.html#6701747">test</a></span><span class="op" id="6701983">.</span><span class="ident" id="6701984">result</span><span class="op" id="6701990">,</span>&nbsp;<span class="ident" id="6701992"><a href="/path/path_test.go.html#6701896">s</a></span><span class="op" id="6701993">,</span>&nbsp;<span class="ident" id="6701995"><a href="/path/path_test.go.html#6701747">test</a></span><span class="op" id="6701999">.</span><span class="ident" id="6702000">result</span><span class="op" id="6702006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702013">}</span><br>
<span class="lineno">75</span><span class="op" id="6702015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6702018">func</span>&nbsp;<span class="ident" id="6702023">TestCleanMallocs</span><span class="op" id="6702039">(</span><span class="ident" id="6702040">t</span>&nbsp;<span class="op" id="6702042">*</span><span class="ident" id="6702043"><a href="/path/path_test.go.html#6700603">testing</a></span><span class="op" id="6702050">.</span><span class="ident" id="6702051">T</span><span class="op" id="6702052">)</span>&nbsp;<span class="op" id="6702054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702057">if</span>&nbsp;<span class="ident" id="6702060"><a href="/path/path_test.go.html#6700603">testing</a></span><span class="op" id="6702067">.</span><span class="ident" id="6702068">Short</span><span class="op" id="6702073">(</span><span class="op" id="6702074">)</span>&nbsp;<span class="op" id="6702076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702080"><a href="/path/path_test.go.html#6702040">t</a></span><span class="op" id="6702081">.</span><span class="ident" id="6702082">Skip</span><span class="op" id="6702086">(</span><span class="string" id="6702087">&#34;skipping&nbsp;malloc&nbsp;count&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="6702124">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702130">if</span>&nbsp;<span class="ident" id="6702133"><a href="/path/path_test.go.html#6700592">runtime</a></span><span class="op" id="6702140">.</span><span class="ident" id="6702141">GOMAXPROCS</span><span class="op" id="6702151">(</span><span class="num" id="6702152">0</span><span class="op" id="6702153">)</span>&nbsp;<span class="op" id="6702155">&gt;</span>&nbsp;<span class="num" id="6702157">1</span>&nbsp;<span class="op" id="6702159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702163"><a href="/path/path_test.go.html#6702040">t</a></span><span class="op" id="6702164">.</span><span class="ident" id="6702165">Log</span><span class="op" id="6702168">(</span><span class="string" id="6702169">&#34;skipping&nbsp;AllocsPerRun&nbsp;checks;&nbsp;GOMAXPROCS&gt;1&#34;</span><span class="op" id="6702213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702217">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702225">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702229">for</span>&nbsp;<span class="ident" id="6702233">_</span><span class="op" id="6702234">,</span>&nbsp;<span class="ident" id="6702236">test</span>&nbsp;<span class="op" id="6702241">:=</span>&nbsp;<span class="keyword" id="6702244">range</span>&nbsp;<span class="ident" id="6702250"><a href="/path/path_test.go.html#6700667">cleantests</a></span>&nbsp;<span class="op" id="6702261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702265">allocs</span>&nbsp;<span class="op" id="6702272">:=</span>&nbsp;<span class="ident" id="6702275"><a href="/path/path_test.go.html#6700603">testing</a></span><span class="op" id="6702282">.</span><span class="ident" id="6702283">AllocsPerRun</span><span class="op" id="6702295">(</span><span class="num" id="6702296">100</span><span class="op" id="6702299">,</span>&nbsp;<span class="keyword" id="6702301">func</span><span class="op" id="6702305">(</span><span class="op" id="6702306">)</span>&nbsp;<span class="op" id="6702308">{</span>&nbsp;<span class="ident" id="6702310"><a href="/path/path.go.html#4092052">Clean</a></span><span class="op" id="6702315">(</span><span class="ident" id="6702316"><a href="/path/path_test.go.html#6702236">test</a></span><span class="op" id="6702320">.</span><span class="ident" id="6702321">result</span><span class="op" id="6702327">)</span>&nbsp;<span class="op" id="6702329">}</span><span class="op" id="6702330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702334">if</span>&nbsp;<span class="ident" id="6702337"><a href="/path/path_test.go.html#6702265">allocs</a></span>&nbsp;<span class="op" id="6702344">&gt;</span>&nbsp;<span class="num" id="6702346">0</span>&nbsp;<span class="op" id="6702348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702353"><a href="/path/path_test.go.html#6702040">t</a></span><span class="op" id="6702354">.</span><span class="ident" id="6702355">Errorf</span><span class="op" id="6702361">(</span><span class="string" id="6702362">&#34;Clean(%q):&nbsp;%v&nbsp;allocs,&nbsp;want&nbsp;zero&#34;</span><span class="op" id="6702395">,</span>&nbsp;<span class="ident" id="6702397"><a href="/path/path_test.go.html#6702236">test</a></span><span class="op" id="6702401">.</span><span class="ident" id="6702402">result</span><span class="op" id="6702408">,</span>&nbsp;<span class="ident" id="6702410"><a href="/path/path_test.go.html#6702265">allocs</a></span><span class="op" id="6702416">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702423">}</span><br>
<span class="lineno"></span><span class="op" id="6702425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6702428">type</span>&nbsp;<span class="ident" id="6702433">SplitTest</span>&nbsp;<span class="keyword" id="6702443">struct</span>&nbsp;<span class="op" id="6702450">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702453">path</span><span class="op" id="6702457">,</span>&nbsp;<span class="ident" id="6702459">dir</span><span class="op" id="6702462">,</span>&nbsp;<span class="ident" id="6702464">file</span>&nbsp;<span class="builtintype" id="6702469">string</span><br>
<span class="lineno"></span><span class="op" id="6702476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6702479">var</span>&nbsp;<span class="ident" id="6702483">splittests</span>&nbsp;<span class="op" id="6702494">=</span>&nbsp;<span class="op" id="6702496">[</span><span class="op" id="6702497">]</span><span class="ident" id="6702498"><a href="/path/path_test.go.html#6702433">SplitTest</a></span><span class="op" id="6702507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702510">{</span><span class="string" id="6702511">&#34;a/b&#34;</span><span class="op" id="6702516">,</span>&nbsp;<span class="string" id="6702518">&#34;a/&#34;</span><span class="op" id="6702522">,</span>&nbsp;<span class="string" id="6702524">&#34;b&#34;</span><span class="op" id="6702527">}</span><span class="op" id="6702528">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702531">{</span><span class="string" id="6702532">&#34;a/b/&#34;</span><span class="op" id="6702538">,</span>&nbsp;<span class="string" id="6702540">&#34;a/b/&#34;</span><span class="op" id="6702546">,</span>&nbsp;<span class="string" id="6702548">&#34;&#34;</span><span class="op" id="6702550">}</span><span class="op" id="6702551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702554">{</span><span class="string" id="6702555">&#34;a/&#34;</span><span class="op" id="6702559">,</span>&nbsp;<span class="string" id="6702561">&#34;a/&#34;</span><span class="op" id="6702565">,</span>&nbsp;<span class="string" id="6702567">&#34;&#34;</span><span class="op" id="6702569">}</span><span class="op" id="6702570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702573">{</span><span class="string" id="6702574">&#34;a&#34;</span><span class="op" id="6702577">,</span>&nbsp;<span class="string" id="6702579">&#34;&#34;</span><span class="op" id="6702581">,</span>&nbsp;<span class="string" id="6702583">&#34;a&#34;</span><span class="op" id="6702586">}</span><span class="op" id="6702587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702590">{</span><span class="string" id="6702591">&#34;/&#34;</span><span class="op" id="6702594">,</span>&nbsp;<span class="string" id="6702596">&#34;/&#34;</span><span class="op" id="6702599">,</span>&nbsp;<span class="string" id="6702601">&#34;&#34;</span><span class="op" id="6702603">}</span><span class="op" id="6702604">,</span><br>
<span class="lineno"></span><span class="op" id="6702606">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="keyword" id="6702609">func</span>&nbsp;<span class="ident" id="6702614">TestSplit</span><span class="op" id="6702623">(</span><span class="ident" id="6702624">t</span>&nbsp;<span class="op" id="6702626">*</span><span class="ident" id="6702627"><a href="/path/path_test.go.html#6700603">testing</a></span><span class="op" id="6702634">.</span><span class="ident" id="6702635">T</span><span class="op" id="6702636">)</span>&nbsp;<span class="op" id="6702638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702641">for</span>&nbsp;<span class="ident" id="6702645">_</span><span class="op" id="6702646">,</span>&nbsp;<span class="ident" id="6702648">test</span>&nbsp;<span class="op" id="6702653">:=</span>&nbsp;<span class="keyword" id="6702656">range</span>&nbsp;<span class="ident" id="6702662"><a href="/path/path_test.go.html#6702483">splittests</a></span>&nbsp;<span class="op" id="6702673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6702677">if</span>&nbsp;<span class="ident" id="6702680">d</span><span class="op" id="6702681">,</span>&nbsp;<span class="ident" id="6702683">f</span>&nbsp;<span class="op" id="6702685">:=</span>&nbsp;<span class="ident" id="6702688"><a href="/path/path.go.html#4093717">Split</a></span><span class="op" id="6702693">(</span><span class="ident" id="6702694"><a href="/path/path_test.go.html#6702648">test</a></span><span class="op" id="6702698">.</span><span class="ident" id="6702699">path</span><span class="op" id="6702703">)</span><span class="op" id="6702704">;</span>&nbsp;<span class="ident" id="6702706"><a href="/path/path_test.go.html#6702680">d</a></span>&nbsp;<span class="op" id="6702708">!=</span>&nbsp;<span class="ident" id="6702711"><a href="/path/path_test.go.html#6702648">test</a></span><span class="op" id="6702715">.</span><span class="ident" id="6702716">dir</span>&nbsp;<span class="op" id="6702720">||</span>&nbsp;<span class="ident" id="6702723"><a href="/path/path_test.go.html#6702683">f</a></span>&nbsp;<span class="op" id="6702725">!=</span>&nbsp;<span class="ident" id="6702728"><a href="/path/path_test.go.html#6702648">test</a></span><span class="op" id="6702732">.</span><span class="ident" id="6702733">file</span>&nbsp;<span class="op" id="6702738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702743"><a href="/path/path_test.go.html#6702624">t</a></span><span class="op" id="6702744">.</span><span class="ident" id="6702745">Errorf</span><span class="op" id="6702751">(</span><span class="string" id="6702752">&#34;Split(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;want&nbsp;%q,&nbsp;%q&#34;</span><span class="op" id="6702785">,</span>&nbsp;<span class="ident" id="6702787"><a href="/path/path_test.go.html#6702648">test</a></span><span class="op" id="6702791">.</span><span class="ident" id="6702792">path</span><span class="op" id="6702796">,</span>&nbsp;<span class="ident" id="6702798"><a href="/path/path_test.go.html#6702680">d</a></span><span class="op" id="6702799">,</span>&nbsp;<span class="ident" id="6702801"><a href="/path/path_test.go.html#6702683">f</a></span><span class="op" id="6702802">,</span>&nbsp;<span class="ident" id="6702804"><a href="/path/path_test.go.html#6702648">test</a></span><span class="op" id="6702808">.</span><span class="ident" id="6702809">dir</span><span class="op" id="6702812">,</span>&nbsp;<span class="ident" id="6702814"><a href="/path/path_test.go.html#6702648">test</a></span><span class="op" id="6702818">.</span><span class="ident" id="6702819">file</span><span class="op" id="6702823">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702830">}</span><br>
<span class="lineno"></span><span class="op" id="6702832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6702835">type</span>&nbsp;<span class="ident" id="6702840">JoinTest</span>&nbsp;<span class="keyword" id="6702849">struct</span>&nbsp;<span class="op" id="6702856">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702859">elem</span>&nbsp;<span class="op" id="6702864">[</span><span class="op" id="6702865">]</span><span class="builtintype" id="6702866">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6702874">path</span>&nbsp;<span class="builtintype" id="6702879">string</span><br>
<span class="lineno"></span><span class="op" id="6702886">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6702889">var</span>&nbsp;<span class="ident" id="6702893">jointests</span>&nbsp;<span class="op" id="6702903">=</span>&nbsp;<span class="op" id="6702905">[</span><span class="op" id="6702906">]</span><span class="ident" id="6702907"><a href="/path/path_test.go.html#6702840">JoinTest</a></span><span class="op" id="6702915">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6702918">//&nbsp;zero&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702938">{</span><span class="op" id="6702939">[</span><span class="op" id="6702940">]</span><span class="builtintype" id="6702941">string</span><span class="op" id="6702947">{</span><span class="op" id="6702948">}</span><span class="op" id="6702949">,</span>&nbsp;<span class="string" id="6702951">&#34;&#34;</span><span class="op" id="6702953">}</span><span class="op" id="6702954">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6702958">//&nbsp;one&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702976">{</span><span class="op" id="6702977">[</span><span class="op" id="6702978">]</span><span class="builtintype" id="6702979">string</span><span class="op" id="6702985">{</span><span class="string" id="6702986">&#34;&#34;</span><span class="op" id="6702988">}</span><span class="op" id="6702989">,</span>&nbsp;<span class="string" id="6702991">&#34;&#34;</span><span class="op" id="6702993">}</span><span class="op" id="6702994">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6702997">{</span><span class="op" id="6702998">[</span><span class="op" id="6702999">]</span><span class="builtintype" id="6703000">string</span><span class="op" id="6703006">{</span><span class="string" id="6703007">&#34;a&#34;</span><span class="op" id="6703010">}</span><span class="op" id="6703011">,</span>&nbsp;<span class="string" id="6703013">&#34;a&#34;</span><span class="op" id="6703016">}</span><span class="op" id="6703017">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6703021">//&nbsp;two&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703040">{</span><span class="op" id="6703041">[</span><span class="op" id="6703042">]</span><span class="builtintype" id="6703043">string</span><span class="op" id="6703049">{</span><span class="string" id="6703050">&#34;a&#34;</span><span class="op" id="6703053">,</span>&nbsp;<span class="string" id="6703055">&#34;b&#34;</span><span class="op" id="6703058">}</span><span class="op" id="6703059">,</span>&nbsp;<span class="string" id="6703061">&#34;a/b&#34;</span><span class="op" id="6703066">}</span><span class="op" id="6703067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703070">{</span><span class="op" id="6703071">[</span><span class="op" id="6703072">]</span><span class="builtintype" id="6703073">string</span><span class="op" id="6703079">{</span><span class="string" id="6703080">&#34;a&#34;</span><span class="op" id="6703083">,</span>&nbsp;<span class="string" id="6703085">&#34;&#34;</span><span class="op" id="6703087">}</span><span class="op" id="6703088">,</span>&nbsp;<span class="string" id="6703090">&#34;a&#34;</span><span class="op" id="6703093">}</span><span class="op" id="6703094">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703097">{</span><span class="op" id="6703098">[</span><span class="op" id="6703099">]</span><span class="builtintype" id="6703100">string</span><span class="op" id="6703106">{</span><span class="string" id="6703107">&#34;&#34;</span><span class="op" id="6703109">,</span>&nbsp;<span class="string" id="6703111">&#34;b&#34;</span><span class="op" id="6703114">}</span><span class="op" id="6703115">,</span>&nbsp;<span class="string" id="6703117">&#34;b&#34;</span><span class="op" id="6703120">}</span><span class="op" id="6703121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703124">{</span><span class="op" id="6703125">[</span><span class="op" id="6703126">]</span><span class="builtintype" id="6703127">string</span><span class="op" id="6703133">{</span><span class="string" id="6703134">&#34;/&#34;</span><span class="op" id="6703137">,</span>&nbsp;<span class="string" id="6703139">&#34;a&#34;</span><span class="op" id="6703142">}</span><span class="op" id="6703143">,</span>&nbsp;<span class="string" id="6703145">&#34;/a&#34;</span><span class="op" id="6703149">}</span><span class="op" id="6703150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703153">{</span><span class="op" id="6703154">[</span><span class="op" id="6703155">]</span><span class="builtintype" id="6703156">string</span><span class="op" id="6703162">{</span><span class="string" id="6703163">&#34;/&#34;</span><span class="op" id="6703166">,</span>&nbsp;<span class="string" id="6703168">&#34;&#34;</span><span class="op" id="6703170">}</span><span class="op" id="6703171">,</span>&nbsp;<span class="string" id="6703173">&#34;/&#34;</span><span class="op" id="6703176">}</span><span class="op" id="6703177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703180">{</span><span class="op" id="6703181">[</span><span class="op" id="6703182">]</span><span class="builtintype" id="6703183">string</span><span class="op" id="6703189">{</span><span class="string" id="6703190">&#34;a/&#34;</span><span class="op" id="6703194">,</span>&nbsp;<span class="string" id="6703196">&#34;b&#34;</span><span class="op" id="6703199">}</span><span class="op" id="6703200">,</span>&nbsp;<span class="string" id="6703202">&#34;a/b&#34;</span><span class="op" id="6703207">}</span><span class="op" id="6703208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703211">{</span><span class="op" id="6703212">[</span><span class="op" id="6703213">]</span><span class="builtintype" id="6703214">string</span><span class="op" id="6703220">{</span><span class="string" id="6703221">&#34;a/&#34;</span><span class="op" id="6703225">,</span>&nbsp;<span class="string" id="6703227">&#34;&#34;</span><span class="op" id="6703229">}</span><span class="op" id="6703230">,</span>&nbsp;<span class="string" id="6703232">&#34;a&#34;</span><span class="op" id="6703235">}</span><span class="op" id="6703236">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703239">{</span><span class="op" id="6703240">[</span><span class="op" id="6703241">]</span><span class="builtintype" id="6703242">string</span><span class="op" id="6703248">{</span><span class="string" id="6703249">&#34;&#34;</span><span class="op" id="6703251">,</span>&nbsp;<span class="string" id="6703253">&#34;&#34;</span><span class="op" id="6703255">}</span><span class="op" id="6703256">,</span>&nbsp;<span class="string" id="6703258">&#34;&#34;</span><span class="op" id="6703260">}</span><span class="op" id="6703261">,</span><br>
<span class="lineno"></span><span class="op" id="6703263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6703266">//&nbsp;join&nbsp;takes&nbsp;a&nbsp;[]string&nbsp;and&nbsp;passes&nbsp;it&nbsp;to&nbsp;Join.</span><br>
<span class="lineno"></span><span class="keyword" id="6703314">func</span>&nbsp;<span class="ident" id="6703319">join</span><span class="op" id="6703323">(</span><span class="ident" id="6703324">elem</span>&nbsp;<span class="op" id="6703329">[</span><span class="op" id="6703330">]</span><span class="builtintype" id="6703331">string</span><span class="op" id="6703337">,</span>&nbsp;<span class="ident" id="6703339">args</span>&nbsp;<span class="op" id="6703344">...</span><span class="builtintype" id="6703347">string</span><span class="op" id="6703353">)</span>&nbsp;<span class="builtintype" id="6703355">string</span>&nbsp;<span class="op" id="6703362">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703365"><a href="/path/path_test.go.html#6703339">args</a></span>&nbsp;<span class="op" id="6703370">=</span>&nbsp;<span class="ident" id="6703372"><a href="/path/path_test.go.html#6703324">elem</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703378">return</span>&nbsp;<span class="ident" id="6703385"><a href="/path/path.go.html#4094008">Join</a></span><span class="op" id="6703389">(</span><span class="ident" id="6703390"><a href="/path/path_test.go.html#6703339">args</a></span><span class="op" id="6703394">...</span><span class="op" id="6703397">)</span><br>
<span class="lineno"></span><span class="op" id="6703399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6703402">func</span>&nbsp;<span class="ident" id="6703407">TestJoin</span><span class="op" id="6703415">(</span><span class="ident" id="6703416">t</span>&nbsp;<span class="op" id="6703418">*</span><span class="ident" id="6703419"><a href="/path/path_test.go.html#6700603">testing</a></span><span class="op" id="6703426">.</span><span class="ident" id="6703427">T</span><span class="op" id="6703428">)</span>&nbsp;<span class="op" id="6703430">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703433">for</span>&nbsp;<span class="ident" id="6703437">_</span><span class="op" id="6703438">,</span>&nbsp;<span class="ident" id="6703440">test</span>&nbsp;<span class="op" id="6703445">:=</span>&nbsp;<span class="keyword" id="6703448">range</span>&nbsp;<span class="ident" id="6703454"><a href="/path/path_test.go.html#6702893">jointests</a></span>&nbsp;<span class="op" id="6703464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703468">if</span>&nbsp;<span class="ident" id="6703471">p</span>&nbsp;<span class="op" id="6703473">:=</span>&nbsp;<span class="ident" id="6703476"><a href="/path/path_test.go.html#6703319">join</a></span><span class="op" id="6703480">(</span><span class="ident" id="6703481"><a href="/path/path_test.go.html#6703440">test</a></span><span class="op" id="6703485">.</span><span class="ident" id="6703486">elem</span><span class="op" id="6703490">)</span><span class="op" id="6703491">;</span>&nbsp;<span class="ident" id="6703493"><a href="/path/path_test.go.html#6703471">p</a></span>&nbsp;<span class="op" id="6703495">!=</span>&nbsp;<span class="ident" id="6703498"><a href="/path/path_test.go.html#6703440">test</a></span><span class="op" id="6703502">.</span><span class="ident" id="6703503">path</span>&nbsp;<span class="op" id="6703508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703513"><a href="/path/path_test.go.html#6703416">t</a></span><span class="op" id="6703514">.</span><span class="ident" id="6703515">Errorf</span><span class="op" id="6703521">(</span><span class="string" id="6703522">&#34;join(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6703546">,</span>&nbsp;<span class="ident" id="6703548"><a href="/path/path_test.go.html#6703440">test</a></span><span class="op" id="6703552">.</span><span class="ident" id="6703553">elem</span><span class="op" id="6703557">,</span>&nbsp;<span class="ident" id="6703559"><a href="/path/path_test.go.html#6703471">p</a></span><span class="op" id="6703560">,</span>&nbsp;<span class="ident" id="6703562"><a href="/path/path_test.go.html#6703440">test</a></span><span class="op" id="6703566">.</span><span class="ident" id="6703567">path</span><span class="op" id="6703571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703578">}</span><br>
<span class="lineno">150</span><span class="op" id="6703580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6703583">type</span>&nbsp;<span class="ident" id="6703588">ExtTest</span>&nbsp;<span class="keyword" id="6703596">struct</span>&nbsp;<span class="op" id="6703603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703606">path</span><span class="op" id="6703610">,</span>&nbsp;<span class="ident" id="6703612">ext</span>&nbsp;<span class="builtintype" id="6703616">string</span><br>
<span class="lineno"></span><span class="op" id="6703623">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="6703626">var</span>&nbsp;<span class="ident" id="6703630">exttests</span>&nbsp;<span class="op" id="6703639">=</span>&nbsp;<span class="op" id="6703641">[</span><span class="op" id="6703642">]</span><span class="ident" id="6703643"><a href="/path/path_test.go.html#6703588">ExtTest</a></span><span class="op" id="6703650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703653">{</span><span class="string" id="6703654">&#34;path.go&#34;</span><span class="op" id="6703663">,</span>&nbsp;<span class="string" id="6703665">&#34;.go&#34;</span><span class="op" id="6703670">}</span><span class="op" id="6703671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703674">{</span><span class="string" id="6703675">&#34;path.pb.go&#34;</span><span class="op" id="6703687">,</span>&nbsp;<span class="string" id="6703689">&#34;.go&#34;</span><span class="op" id="6703694">}</span><span class="op" id="6703695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703698">{</span><span class="string" id="6703699">&#34;a.dir/b&#34;</span><span class="op" id="6703708">,</span>&nbsp;<span class="string" id="6703710">&#34;&#34;</span><span class="op" id="6703712">}</span><span class="op" id="6703713">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703716">{</span><span class="string" id="6703717">&#34;a.dir/b.go&#34;</span><span class="op" id="6703729">,</span>&nbsp;<span class="string" id="6703731">&#34;.go&#34;</span><span class="op" id="6703736">}</span><span class="op" id="6703737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703740">{</span><span class="string" id="6703741">&#34;a.dir/&#34;</span><span class="op" id="6703749">,</span>&nbsp;<span class="string" id="6703751">&#34;&#34;</span><span class="op" id="6703753">}</span><span class="op" id="6703754">,</span><br>
<span class="lineno"></span><span class="op" id="6703756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6703759">func</span>&nbsp;<span class="ident" id="6703764">TestExt</span><span class="op" id="6703771">(</span><span class="ident" id="6703772">t</span>&nbsp;<span class="op" id="6703774">*</span><span class="ident" id="6703775"><a href="/path/path_test.go.html#6700603">testing</a></span><span class="op" id="6703782">.</span><span class="ident" id="6703783">T</span><span class="op" id="6703784">)</span>&nbsp;<span class="op" id="6703786">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703789">for</span>&nbsp;<span class="ident" id="6703793">_</span><span class="op" id="6703794">,</span>&nbsp;<span class="ident" id="6703796">test</span>&nbsp;<span class="op" id="6703801">:=</span>&nbsp;<span class="keyword" id="6703804">range</span>&nbsp;<span class="ident" id="6703810"><a href="/path/path_test.go.html#6703630">exttests</a></span>&nbsp;<span class="op" id="6703819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6703823">if</span>&nbsp;<span class="ident" id="6703826">x</span>&nbsp;<span class="op" id="6703828">:=</span>&nbsp;<span class="ident" id="6703831"><a href="/path/path.go.html#4094345">Ext</a></span><span class="op" id="6703834">(</span><span class="ident" id="6703835"><a href="/path/path_test.go.html#6703796">test</a></span><span class="op" id="6703839">.</span><span class="ident" id="6703840">path</span><span class="op" id="6703844">)</span><span class="op" id="6703845">;</span>&nbsp;<span class="ident" id="6703847"><a href="/path/path_test.go.html#6703826">x</a></span>&nbsp;<span class="op" id="6703849">!=</span>&nbsp;<span class="ident" id="6703852"><a href="/path/path_test.go.html#6703796">test</a></span><span class="op" id="6703856">.</span><span class="ident" id="6703857">ext</span>&nbsp;<span class="op" id="6703861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6703866"><a href="/path/path_test.go.html#6703772">t</a></span><span class="op" id="6703867">.</span><span class="ident" id="6703868">Errorf</span><span class="op" id="6703874">(</span><span class="string" id="6703875">&#34;Ext(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6703898">,</span>&nbsp;<span class="ident" id="6703900"><a href="/path/path_test.go.html#6703796">test</a></span><span class="op" id="6703904">.</span><span class="ident" id="6703905">path</span><span class="op" id="6703909">,</span>&nbsp;<span class="ident" id="6703911"><a href="/path/path_test.go.html#6703826">x</a></span><span class="op" id="6703912">,</span>&nbsp;<span class="ident" id="6703914"><a href="/path/path_test.go.html#6703796">test</a></span><span class="op" id="6703918">.</span><span class="ident" id="6703919">ext</span><span class="op" id="6703922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703929">}</span><br>
<span class="lineno">170</span><span class="op" id="6703931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6703934">var</span>&nbsp;<span class="ident" id="6703938">basetests</span>&nbsp;<span class="op" id="6703948">=</span>&nbsp;<span class="op" id="6703950">[</span><span class="op" id="6703951">]</span><span class="ident" id="6703952"><a href="/path/path_test.go.html#6700621">PathTest</a></span><span class="op" id="6703960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6703963">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703981">{</span><span class="string" id="6703982">&#34;&#34;</span><span class="op" id="6703984">,</span>&nbsp;<span class="string" id="6703986">&#34;.&#34;</span><span class="op" id="6703989">}</span><span class="op" id="6703990">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6703993">{</span><span class="string" id="6703994">&#34;.&#34;</span><span class="op" id="6703997">,</span>&nbsp;<span class="string" id="6703999">&#34;.&#34;</span><span class="op" id="6704002">}</span><span class="op" id="6704003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704006">{</span><span class="string" id="6704007">&#34;/.&#34;</span><span class="op" id="6704011">,</span>&nbsp;<span class="string" id="6704013">&#34;.&#34;</span><span class="op" id="6704016">}</span><span class="op" id="6704017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704020">{</span><span class="string" id="6704021">&#34;/&#34;</span><span class="op" id="6704024">,</span>&nbsp;<span class="string" id="6704026">&#34;/&#34;</span><span class="op" id="6704029">}</span><span class="op" id="6704030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704033">{</span><span class="string" id="6704034">&#34;////&#34;</span><span class="op" id="6704040">,</span>&nbsp;<span class="string" id="6704042">&#34;/&#34;</span><span class="op" id="6704045">}</span><span class="op" id="6704046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704049">{</span><span class="string" id="6704050">&#34;x/&#34;</span><span class="op" id="6704054">,</span>&nbsp;<span class="string" id="6704056">&#34;x&#34;</span><span class="op" id="6704059">}</span><span class="op" id="6704060">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704063">{</span><span class="string" id="6704064">&#34;abc&#34;</span><span class="op" id="6704069">,</span>&nbsp;<span class="string" id="6704071">&#34;abc&#34;</span><span class="op" id="6704076">}</span><span class="op" id="6704077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704080">{</span><span class="string" id="6704081">&#34;abc/def&#34;</span><span class="op" id="6704090">,</span>&nbsp;<span class="string" id="6704092">&#34;def&#34;</span><span class="op" id="6704097">}</span><span class="op" id="6704098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704101">{</span><span class="string" id="6704102">&#34;a/b/.x&#34;</span><span class="op" id="6704110">,</span>&nbsp;<span class="string" id="6704112">&#34;.x&#34;</span><span class="op" id="6704116">}</span><span class="op" id="6704117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704120">{</span><span class="string" id="6704121">&#34;a/b/c.&#34;</span><span class="op" id="6704129">,</span>&nbsp;<span class="string" id="6704131">&#34;c.&#34;</span><span class="op" id="6704135">}</span><span class="op" id="6704136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704139">{</span><span class="string" id="6704140">&#34;a/b/c.x&#34;</span><span class="op" id="6704149">,</span>&nbsp;<span class="string" id="6704151">&#34;c.x&#34;</span><span class="op" id="6704156">}</span><span class="op" id="6704157">,</span><br>
<span class="lineno">185</span><span class="op" id="6704159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6704162">func</span>&nbsp;<span class="ident" id="6704167">TestBase</span><span class="op" id="6704175">(</span><span class="ident" id="6704176">t</span>&nbsp;<span class="op" id="6704178">*</span><span class="ident" id="6704179"><a href="/path/path_test.go.html#6700603">testing</a></span><span class="op" id="6704186">.</span><span class="ident" id="6704187">T</span><span class="op" id="6704188">)</span>&nbsp;<span class="op" id="6704190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6704193">for</span>&nbsp;<span class="ident" id="6704197">_</span><span class="op" id="6704198">,</span>&nbsp;<span class="ident" id="6704200">test</span>&nbsp;<span class="op" id="6704205">:=</span>&nbsp;<span class="keyword" id="6704208">range</span>&nbsp;<span class="ident" id="6704214"><a href="/path/path_test.go.html#6703938">basetests</a></span>&nbsp;<span class="op" id="6704224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6704228">if</span>&nbsp;<span class="ident" id="6704231">s</span>&nbsp;<span class="op" id="6704233">:=</span>&nbsp;<span class="ident" id="6704236"><a href="/path/path.go.html#4094711">Base</a></span><span class="op" id="6704240">(</span><span class="ident" id="6704241"><a href="/path/path_test.go.html#6704200">test</a></span><span class="op" id="6704245">.</span><span class="ident" id="6704246">path</span><span class="op" id="6704250">)</span><span class="op" id="6704251">;</span>&nbsp;<span class="ident" id="6704253"><a href="/path/path_test.go.html#6704231">s</a></span>&nbsp;<span class="op" id="6704255">!=</span>&nbsp;<span class="ident" id="6704258"><a href="/path/path_test.go.html#6704200">test</a></span><span class="op" id="6704262">.</span><span class="ident" id="6704263">result</span>&nbsp;<span class="op" id="6704270">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704275"><a href="/path/path_test.go.html#6704176">t</a></span><span class="op" id="6704276">.</span><span class="ident" id="6704277">Errorf</span><span class="op" id="6704283">(</span><span class="string" id="6704284">&#34;Base(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6704308">,</span>&nbsp;<span class="ident" id="6704310"><a href="/path/path_test.go.html#6704200">test</a></span><span class="op" id="6704314">.</span><span class="ident" id="6704315">path</span><span class="op" id="6704319">,</span>&nbsp;<span class="ident" id="6704321"><a href="/path/path_test.go.html#6704231">s</a></span><span class="op" id="6704322">,</span>&nbsp;<span class="ident" id="6704324"><a href="/path/path_test.go.html#6704200">test</a></span><span class="op" id="6704328">.</span><span class="ident" id="6704329">result</span><span class="op" id="6704335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704342">}</span><br>
<span class="lineno"></span><span class="op" id="6704344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="6704347">var</span>&nbsp;<span class="ident" id="6704351">dirtests</span>&nbsp;<span class="op" id="6704360">=</span>&nbsp;<span class="op" id="6704362">[</span><span class="op" id="6704363">]</span><span class="ident" id="6704364"><a href="/path/path_test.go.html#6700621">PathTest</a></span><span class="op" id="6704372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704375">{</span><span class="string" id="6704376">&#34;&#34;</span><span class="op" id="6704378">,</span>&nbsp;<span class="string" id="6704380">&#34;.&#34;</span><span class="op" id="6704383">}</span><span class="op" id="6704384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704387">{</span><span class="string" id="6704388">&#34;.&#34;</span><span class="op" id="6704391">,</span>&nbsp;<span class="string" id="6704393">&#34;.&#34;</span><span class="op" id="6704396">}</span><span class="op" id="6704397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704400">{</span><span class="string" id="6704401">&#34;/.&#34;</span><span class="op" id="6704405">,</span>&nbsp;<span class="string" id="6704407">&#34;/&#34;</span><span class="op" id="6704410">}</span><span class="op" id="6704411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704414">{</span><span class="string" id="6704415">&#34;/&#34;</span><span class="op" id="6704418">,</span>&nbsp;<span class="string" id="6704420">&#34;/&#34;</span><span class="op" id="6704423">}</span><span class="op" id="6704424">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704427">{</span><span class="string" id="6704428">&#34;////&#34;</span><span class="op" id="6704434">,</span>&nbsp;<span class="string" id="6704436">&#34;/&#34;</span><span class="op" id="6704439">}</span><span class="op" id="6704440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704443">{</span><span class="string" id="6704444">&#34;/foo&#34;</span><span class="op" id="6704450">,</span>&nbsp;<span class="string" id="6704452">&#34;/&#34;</span><span class="op" id="6704455">}</span><span class="op" id="6704456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704459">{</span><span class="string" id="6704460">&#34;x/&#34;</span><span class="op" id="6704464">,</span>&nbsp;<span class="string" id="6704466">&#34;x&#34;</span><span class="op" id="6704469">}</span><span class="op" id="6704470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704473">{</span><span class="string" id="6704474">&#34;abc&#34;</span><span class="op" id="6704479">,</span>&nbsp;<span class="string" id="6704481">&#34;.&#34;</span><span class="op" id="6704484">}</span><span class="op" id="6704485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704488">{</span><span class="string" id="6704489">&#34;abc/def&#34;</span><span class="op" id="6704498">,</span>&nbsp;<span class="string" id="6704500">&#34;abc&#34;</span><span class="op" id="6704505">}</span><span class="op" id="6704506">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704509">{</span><span class="string" id="6704510">&#34;abc////def&#34;</span><span class="op" id="6704522">,</span>&nbsp;<span class="string" id="6704524">&#34;abc&#34;</span><span class="op" id="6704529">}</span><span class="op" id="6704530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704533">{</span><span class="string" id="6704534">&#34;a/b/.x&#34;</span><span class="op" id="6704542">,</span>&nbsp;<span class="string" id="6704544">&#34;a/b&#34;</span><span class="op" id="6704549">}</span><span class="op" id="6704550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704553">{</span><span class="string" id="6704554">&#34;a/b/c.&#34;</span><span class="op" id="6704562">,</span>&nbsp;<span class="string" id="6704564">&#34;a/b&#34;</span><span class="op" id="6704569">}</span><span class="op" id="6704570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704573">{</span><span class="string" id="6704574">&#34;a/b/c.x&#34;</span><span class="op" id="6704583">,</span>&nbsp;<span class="string" id="6704585">&#34;a/b&#34;</span><span class="op" id="6704590">}</span><span class="op" id="6704591">,</span><br>
<span class="lineno"></span><span class="op" id="6704593">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="6704596">func</span>&nbsp;<span class="ident" id="6704601">TestDir</span><span class="op" id="6704608">(</span><span class="ident" id="6704609">t</span>&nbsp;<span class="op" id="6704611">*</span><span class="ident" id="6704612"><a href="/path/path_test.go.html#6700603">testing</a></span><span class="op" id="6704619">.</span><span class="ident" id="6704620">T</span><span class="op" id="6704621">)</span>&nbsp;<span class="op" id="6704623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6704626">for</span>&nbsp;<span class="ident" id="6704630">_</span><span class="op" id="6704631">,</span>&nbsp;<span class="ident" id="6704633">test</span>&nbsp;<span class="op" id="6704638">:=</span>&nbsp;<span class="keyword" id="6704641">range</span>&nbsp;<span class="ident" id="6704647"><a href="/path/path_test.go.html#6704351">dirtests</a></span>&nbsp;<span class="op" id="6704656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6704660">if</span>&nbsp;<span class="ident" id="6704663">s</span>&nbsp;<span class="op" id="6704665">:=</span>&nbsp;<span class="ident" id="6704668"><a href="/path/path.go.html#4095591">Dir</a></span><span class="op" id="6704671">(</span><span class="ident" id="6704672"><a href="/path/path_test.go.html#6704633">test</a></span><span class="op" id="6704676">.</span><span class="ident" id="6704677">path</span><span class="op" id="6704681">)</span><span class="op" id="6704682">;</span>&nbsp;<span class="ident" id="6704684"><a href="/path/path_test.go.html#6704663">s</a></span>&nbsp;<span class="op" id="6704686">!=</span>&nbsp;<span class="ident" id="6704689"><a href="/path/path_test.go.html#6704633">test</a></span><span class="op" id="6704693">.</span><span class="ident" id="6704694">result</span>&nbsp;<span class="op" id="6704701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704706"><a href="/path/path_test.go.html#6704609">t</a></span><span class="op" id="6704707">.</span><span class="ident" id="6704708">Errorf</span><span class="op" id="6704714">(</span><span class="string" id="6704715">&#34;Dir(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6704738">,</span>&nbsp;<span class="ident" id="6704740"><a href="/path/path_test.go.html#6704633">test</a></span><span class="op" id="6704744">.</span><span class="ident" id="6704745">path</span><span class="op" id="6704749">,</span>&nbsp;<span class="ident" id="6704751"><a href="/path/path_test.go.html#6704663">s</a></span><span class="op" id="6704752">,</span>&nbsp;<span class="ident" id="6704754"><a href="/path/path_test.go.html#6704633">test</a></span><span class="op" id="6704758">.</span><span class="ident" id="6704759">result</span><span class="op" id="6704765">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704772">}</span><br>
<span class="lineno"></span><span class="op" id="6704774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6704777">type</span>&nbsp;<span class="ident" id="6704782">IsAbsTest</span>&nbsp;<span class="keyword" id="6704792">struct</span>&nbsp;<span class="op" id="6704799">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704802">path</span>&nbsp;&nbsp;<span class="builtintype" id="6704808">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6704816">isAbs</span>&nbsp;<span class="builtintype" id="6704822">bool</span><br>
<span class="lineno"></span><span class="op" id="6704827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6704830">var</span>&nbsp;<span class="ident" id="6704834">isAbsTests</span>&nbsp;<span class="op" id="6704845">=</span>&nbsp;<span class="op" id="6704847">[</span><span class="op" id="6704848">]</span><span class="ident" id="6704849"><a href="/path/path_test.go.html#6704782">IsAbsTest</a></span><span class="op" id="6704858">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704861">{</span><span class="string" id="6704862">&#34;&#34;</span><span class="op" id="6704864">,</span>&nbsp;<span class="ident" id="6704866">false</span><span class="op" id="6704871">}</span><span class="op" id="6704872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704875">{</span><span class="string" id="6704876">&#34;/&#34;</span><span class="op" id="6704879">,</span>&nbsp;<span class="ident" id="6704881">true</span><span class="op" id="6704885">}</span><span class="op" id="6704886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704889">{</span><span class="string" id="6704890">&#34;/usr/bin/gcc&#34;</span><span class="op" id="6704904">,</span>&nbsp;<span class="ident" id="6704906">true</span><span class="op" id="6704910">}</span><span class="op" id="6704911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704914">{</span><span class="string" id="6704915">&#34;..&#34;</span><span class="op" id="6704919">,</span>&nbsp;<span class="ident" id="6704921">false</span><span class="op" id="6704926">}</span><span class="op" id="6704927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704930">{</span><span class="string" id="6704931">&#34;/a/../bb&#34;</span><span class="op" id="6704941">,</span>&nbsp;<span class="ident" id="6704943">true</span><span class="op" id="6704947">}</span><span class="op" id="6704948">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704951">{</span><span class="string" id="6704952">&#34;.&#34;</span><span class="op" id="6704955">,</span>&nbsp;<span class="ident" id="6704957">false</span><span class="op" id="6704962">}</span><span class="op" id="6704963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704966">{</span><span class="string" id="6704967">&#34;./&#34;</span><span class="op" id="6704971">,</span>&nbsp;<span class="ident" id="6704973">false</span><span class="op" id="6704978">}</span><span class="op" id="6704979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6704982">{</span><span class="string" id="6704983">&#34;lala&#34;</span><span class="op" id="6704989">,</span>&nbsp;<span class="ident" id="6704991">false</span><span class="op" id="6704996">}</span><span class="op" id="6704997">,</span><br>
<span class="lineno"></span><span class="op" id="6704999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="6705002">func</span>&nbsp;<span class="ident" id="6705007">TestIsAbs</span><span class="op" id="6705016">(</span><span class="ident" id="6705017">t</span>&nbsp;<span class="op" id="6705019">*</span><span class="ident" id="6705020"><a href="/path/path_test.go.html#6700603">testing</a></span><span class="op" id="6705027">.</span><span class="ident" id="6705028">T</span><span class="op" id="6705029">)</span>&nbsp;<span class="op" id="6705031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705034">for</span>&nbsp;<span class="ident" id="6705038">_</span><span class="op" id="6705039">,</span>&nbsp;<span class="ident" id="6705041">test</span>&nbsp;<span class="op" id="6705046">:=</span>&nbsp;<span class="keyword" id="6705049">range</span>&nbsp;<span class="ident" id="6705055"><a href="/path/path_test.go.html#6704834">isAbsTests</a></span>&nbsp;<span class="op" id="6705066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6705070">if</span>&nbsp;<span class="ident" id="6705073">r</span>&nbsp;<span class="op" id="6705075">:=</span>&nbsp;<span class="ident" id="6705078"><a href="/path/path.go.html#4095119">IsAbs</a></span><span class="op" id="6705083">(</span><span class="ident" id="6705084"><a href="/path/path_test.go.html#6705041">test</a></span><span class="op" id="6705088">.</span><span class="ident" id="6705089">path</span><span class="op" id="6705093">)</span><span class="op" id="6705094">;</span>&nbsp;<span class="ident" id="6705096"><a href="/path/path_test.go.html#6705073">r</a></span>&nbsp;<span class="op" id="6705098">!=</span>&nbsp;<span class="ident" id="6705101"><a href="/path/path_test.go.html#6705041">test</a></span><span class="op" id="6705105">.</span><span class="ident" id="6705106">isAbs</span>&nbsp;<span class="op" id="6705112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6705117"><a href="/path/path_test.go.html#6705017">t</a></span><span class="op" id="6705118">.</span><span class="ident" id="6705119">Errorf</span><span class="op" id="6705125">(</span><span class="string" id="6705126">&#34;IsAbs(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6705151">,</span>&nbsp;<span class="ident" id="6705153"><a href="/path/path_test.go.html#6705041">test</a></span><span class="op" id="6705157">.</span><span class="ident" id="6705158">path</span><span class="op" id="6705162">,</span>&nbsp;<span class="ident" id="6705164"><a href="/path/path_test.go.html#6705073">r</a></span><span class="op" id="6705165">,</span>&nbsp;<span class="ident" id="6705167"><a href="/path/path_test.go.html#6705041">test</a></span><span class="op" id="6705171">.</span><span class="ident" id="6705172">isAbs</span><span class="op" id="6705177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705181">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6705184">}</span><br>
<span class="lineno"></span><span class="op" id="6705186">}</span>
</div>
</body>
</html>
