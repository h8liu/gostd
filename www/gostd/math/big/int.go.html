<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html" class="current">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4052675">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4052730">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4052784">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4052835">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;signed&nbsp;multi-precision&nbsp;integers.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4052893">package</span>&nbsp;<span class="ident" id="4052901">big</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4052906">import</span>&nbsp;<span class="op" id="4052913">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4052916">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4052926">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4052933">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4052939">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4052952">&#34;strings&#34;</span><br>
<span class="lineno">15</span><span class="op" id="4052962">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4052965">//&nbsp;An&nbsp;Int&nbsp;represents&nbsp;a&nbsp;signed&nbsp;multi-precision&nbsp;integer.</span><br>
<span class="lineno"></span><span class="comment" id="4053020">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;an&nbsp;Int&nbsp;represents&nbsp;the&nbsp;value&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4053073">type</span>&nbsp;<span class="ident" id="4053078">Int</span>&nbsp;<span class="keyword" id="4053082">struct</span>&nbsp;<span class="op" id="4053089">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4053092">neg</span>&nbsp;<span class="builtintype" id="4053096">bool</span>&nbsp;<span class="comment" id="4053101">//&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4053110">abs</span>&nbsp;<span class="ident" id="4053114">nat</span>&nbsp;&nbsp;<span class="comment" id="4053119">//&nbsp;absolute&nbsp;value&nbsp;of&nbsp;the&nbsp;integer</span><br>
<span class="lineno"></span><span class="op" id="4053152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4053155">var</span>&nbsp;<span class="ident" id="4053159">intOne</span>&nbsp;<span class="op" id="4053166">=</span>&nbsp;<span class="op" id="4053168">&amp;</span><span class="ident" id="4053169">Int</span><span class="op" id="4053172">{</span><span class="builtintype" id="4053173">false</span><span class="op" id="4053178">,</span>&nbsp;<span class="ident" id="4053180">natOne</span><span class="op" id="4053186">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="4053189">//&nbsp;Sign&nbsp;returns:</span><br>
<span class="lineno"></span><span class="comment" id="4053206">//</span><br>
<span class="lineno"></span><span class="comment" id="4053209">//&nbsp;&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="4053225">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;0</span><br>
<span class="lineno">30</span><span class="comment" id="4053241">//&nbsp;&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="4053257">//</span><br>
<span class="lineno"></span><span class="keyword" id="4053260">func</span>&nbsp;<span class="op" id="4053265">(</span><span class="ident" id="4053266">x</span>&nbsp;<span class="op" id="4053268">*</span><span class="ident" id="4053269">Int</span><span class="op" id="4053272">)</span>&nbsp;<span class="ident" id="4053274">Sign</span><span class="op" id="4053278">(</span><span class="op" id="4053279">)</span>&nbsp;<span class="builtintype" id="4053281">int</span>&nbsp;<span class="op" id="4053285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053288">if</span>&nbsp;<span class="builtinfunc" id="4053291">len</span><span class="op" id="4053294">(</span><span class="ident" id="4053295">x</span><span class="op" id="4053296">.</span><span class="ident" id="4053297">abs</span><span class="op" id="4053300">)</span>&nbsp;<span class="op" id="4053302">==</span>&nbsp;<span class="num" id="4053305">0</span>&nbsp;<span class="op" id="4053307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053311">return</span>&nbsp;<span class="num" id="4053318">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4053321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053324">if</span>&nbsp;<span class="ident" id="4053327">x</span><span class="op" id="4053328">.</span><span class="ident" id="4053329">neg</span>&nbsp;<span class="op" id="4053333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053337">return</span>&nbsp;<span class="op" id="4053344">-</span><span class="num" id="4053345">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4053348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053351">return</span>&nbsp;<span class="num" id="4053358">1</span><br>
<span class="lineno">40</span><span class="op" id="4053360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4053363">//&nbsp;SetInt64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4053402">func</span>&nbsp;<span class="op" id="4053407">(</span><span class="ident" id="4053408">z</span>&nbsp;<span class="op" id="4053410">*</span><span class="ident" id="4053411">Int</span><span class="op" id="4053414">)</span>&nbsp;<span class="ident" id="4053416">SetInt64</span><span class="op" id="4053424">(</span><span class="ident" id="4053425">x</span>&nbsp;<span class="builtintype" id="4053427">int64</span><span class="op" id="4053432">)</span>&nbsp;<span class="op" id="4053434">*</span><span class="ident" id="4053435">Int</span>&nbsp;<span class="op" id="4053439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4053442">neg</span>&nbsp;<span class="op" id="4053446">:=</span>&nbsp;<span class="builtintype" id="4053449">false</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053456">if</span>&nbsp;<span class="ident" id="4053459">x</span>&nbsp;<span class="op" id="4053461">&lt;</span>&nbsp;<span class="num" id="4053463">0</span>&nbsp;<span class="op" id="4053465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4053469">neg</span>&nbsp;<span class="op" id="4053473">=</span>&nbsp;<span class="builtintype" id="4053475">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4053482">x</span>&nbsp;<span class="op" id="4053484">=</span>&nbsp;<span class="op" id="4053486">-</span><span class="ident" id="4053487">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4053490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4053493">z</span><span class="op" id="4053494">.</span><span class="ident" id="4053495">abs</span>&nbsp;<span class="op" id="4053499">=</span>&nbsp;<span class="ident" id="4053501">z</span><span class="op" id="4053502">.</span><span class="ident" id="4053503">abs</span><span class="op" id="4053506">.</span><span class="ident" id="4053507">setUint64</span><span class="op" id="4053516">(</span><span class="builtintype" id="4053517">uint64</span><span class="op" id="4053523">(</span><span class="ident" id="4053524">x</span><span class="op" id="4053525">)</span><span class="op" id="4053526">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4053529">z</span><span class="op" id="4053530">.</span><span class="ident" id="4053531">neg</span>&nbsp;<span class="op" id="4053535">=</span>&nbsp;<span class="ident" id="4053537">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053542">return</span>&nbsp;<span class="ident" id="4053549">z</span><br>
<span class="lineno"></span><span class="op" id="4053551">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4053554">//&nbsp;SetUint64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">55</span><span class="keyword" id="4053594">func</span>&nbsp;<span class="op" id="4053599">(</span><span class="ident" id="4053600">z</span>&nbsp;<span class="op" id="4053602">*</span><span class="ident" id="4053603">Int</span><span class="op" id="4053606">)</span>&nbsp;<span class="ident" id="4053608">SetUint64</span><span class="op" id="4053617">(</span><span class="ident" id="4053618">x</span>&nbsp;<span class="builtintype" id="4053620">uint64</span><span class="op" id="4053626">)</span>&nbsp;<span class="op" id="4053628">*</span><span class="ident" id="4053629">Int</span>&nbsp;<span class="op" id="4053633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4053636">z</span><span class="op" id="4053637">.</span><span class="ident" id="4053638">abs</span>&nbsp;<span class="op" id="4053642">=</span>&nbsp;<span class="ident" id="4053644">z</span><span class="op" id="4053645">.</span><span class="ident" id="4053646">abs</span><span class="op" id="4053649">.</span><span class="ident" id="4053650">setUint64</span><span class="op" id="4053659">(</span><span class="ident" id="4053660">x</span><span class="op" id="4053661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4053664">z</span><span class="op" id="4053665">.</span><span class="ident" id="4053666">neg</span>&nbsp;<span class="op" id="4053670">=</span>&nbsp;<span class="builtintype" id="4053672">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053679">return</span>&nbsp;<span class="ident" id="4053686">z</span><br>
<span class="lineno"></span><span class="op" id="4053688">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="4053691">//&nbsp;NewInt&nbsp;allocates&nbsp;and&nbsp;returns&nbsp;a&nbsp;new&nbsp;Int&nbsp;set&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="keyword" id="4053743">func</span>&nbsp;<span class="ident" id="4053748">NewInt</span><span class="op" id="4053754">(</span><span class="ident" id="4053755">x</span>&nbsp;<span class="builtintype" id="4053757">int64</span><span class="op" id="4053762">)</span>&nbsp;<span class="op" id="4053764">*</span><span class="ident" id="4053765">Int</span>&nbsp;<span class="op" id="4053769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053772">return</span>&nbsp;<span class="builtinfunc" id="4053779">new</span><span class="op" id="4053782">(</span><span class="ident" id="4053783">Int</span><span class="op" id="4053786">)</span><span class="op" id="4053787">.</span><span class="ident" id="4053788">SetInt64</span><span class="op" id="4053796">(</span><span class="ident" id="4053797">x</span><span class="op" id="4053798">)</span><br>
<span class="lineno"></span><span class="op" id="4053800">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="4053803">//&nbsp;Set&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4053837">func</span>&nbsp;<span class="op" id="4053842">(</span><span class="ident" id="4053843">z</span>&nbsp;<span class="op" id="4053845">*</span><span class="ident" id="4053846">Int</span><span class="op" id="4053849">)</span>&nbsp;<span class="ident" id="4053851">Set</span><span class="op" id="4053854">(</span><span class="ident" id="4053855">x</span>&nbsp;<span class="op" id="4053857">*</span><span class="ident" id="4053858">Int</span><span class="op" id="4053861">)</span>&nbsp;<span class="op" id="4053863">*</span><span class="ident" id="4053864">Int</span>&nbsp;<span class="op" id="4053868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053871">if</span>&nbsp;<span class="ident" id="4053874">z</span>&nbsp;<span class="op" id="4053876">!=</span>&nbsp;<span class="ident" id="4053879">x</span>&nbsp;<span class="op" id="4053881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4053885">z</span><span class="op" id="4053886">.</span><span class="ident" id="4053887">abs</span>&nbsp;<span class="op" id="4053891">=</span>&nbsp;<span class="ident" id="4053893">z</span><span class="op" id="4053894">.</span><span class="ident" id="4053895">abs</span><span class="op" id="4053898">.</span><span class="ident" id="4053899">set</span><span class="op" id="4053902">(</span><span class="ident" id="4053903">x</span><span class="op" id="4053904">.</span><span class="ident" id="4053905">abs</span><span class="op" id="4053908">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4053912">z</span><span class="op" id="4053913">.</span><span class="ident" id="4053914">neg</span>&nbsp;<span class="op" id="4053918">=</span>&nbsp;<span class="ident" id="4053920">x</span><span class="op" id="4053921">.</span><span class="ident" id="4053922">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4053927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4053930">return</span>&nbsp;<span class="ident" id="4053937">z</span><br>
<span class="lineno"></span><span class="op" id="4053939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="4053942">//&nbsp;Bits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;x&nbsp;by&nbsp;returning&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="4054013">//&nbsp;absolute&nbsp;value&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice.&nbsp;The&nbsp;result&nbsp;and&nbsp;x&nbsp;share</span><br>
<span class="lineno"></span><span class="comment" id="4054085">//&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="4054115">//&nbsp;Bits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="4054186">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno">80</span><span class="keyword" id="4054257">func</span>&nbsp;<span class="op" id="4054262">(</span><span class="ident" id="4054263">x</span>&nbsp;<span class="op" id="4054265">*</span><span class="ident" id="4054266">Int</span><span class="op" id="4054269">)</span>&nbsp;<span class="ident" id="4054271">Bits</span><span class="op" id="4054275">(</span><span class="op" id="4054276">)</span>&nbsp;<span class="op" id="4054278">[</span><span class="op" id="4054279">]</span><span class="ident" id="4054280">Word</span>&nbsp;<span class="op" id="4054285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4054288">return</span>&nbsp;<span class="ident" id="4054295">x</span><span class="op" id="4054296">.</span><span class="ident" id="4054297">abs</span><br>
<span class="lineno"></span><span class="op" id="4054301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4054304">//&nbsp;SetBits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;z&nbsp;by&nbsp;setting&nbsp;its</span><br>
<span class="lineno">85</span><span class="comment" id="4054376">//&nbsp;value&nbsp;to&nbsp;abs,&nbsp;interpreted&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice,&nbsp;and&nbsp;returning</span><br>
<span class="lineno"></span><span class="comment" id="4054450">//&nbsp;z.&nbsp;The&nbsp;result&nbsp;and&nbsp;abs&nbsp;share&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="4054508">//&nbsp;SetBits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="4054582">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="keyword" id="4054653">func</span>&nbsp;<span class="op" id="4054658">(</span><span class="ident" id="4054659">z</span>&nbsp;<span class="op" id="4054661">*</span><span class="ident" id="4054662">Int</span><span class="op" id="4054665">)</span>&nbsp;<span class="ident" id="4054667">SetBits</span><span class="op" id="4054674">(</span><span class="ident" id="4054675">abs</span>&nbsp;<span class="op" id="4054679">[</span><span class="op" id="4054680">]</span><span class="ident" id="4054681">Word</span><span class="op" id="4054685">)</span>&nbsp;<span class="op" id="4054687">*</span><span class="ident" id="4054688">Int</span>&nbsp;<span class="op" id="4054692">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054695">z</span><span class="op" id="4054696">.</span><span class="ident" id="4054697">abs</span>&nbsp;<span class="op" id="4054701">=</span>&nbsp;<span class="ident" id="4054703">nat</span><span class="op" id="4054706">(</span><span class="ident" id="4054707">abs</span><span class="op" id="4054710">)</span><span class="op" id="4054711">.</span><span class="ident" id="4054712">norm</span><span class="op" id="4054716">(</span><span class="op" id="4054717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054720">z</span><span class="op" id="4054721">.</span><span class="ident" id="4054722">neg</span>&nbsp;<span class="op" id="4054726">=</span>&nbsp;<span class="builtintype" id="4054728">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4054735">return</span>&nbsp;<span class="ident" id="4054742">z</span><br>
<span class="lineno"></span><span class="op" id="4054744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="4054747">//&nbsp;Abs&nbsp;sets&nbsp;z&nbsp;to&nbsp;|x|&nbsp;(the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4054809">func</span>&nbsp;<span class="op" id="4054814">(</span><span class="ident" id="4054815">z</span>&nbsp;<span class="op" id="4054817">*</span><span class="ident" id="4054818">Int</span><span class="op" id="4054821">)</span>&nbsp;<span class="ident" id="4054823">Abs</span><span class="op" id="4054826">(</span><span class="ident" id="4054827">x</span>&nbsp;<span class="op" id="4054829">*</span><span class="ident" id="4054830">Int</span><span class="op" id="4054833">)</span>&nbsp;<span class="op" id="4054835">*</span><span class="ident" id="4054836">Int</span>&nbsp;<span class="op" id="4054840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054843">z</span><span class="op" id="4054844">.</span><span class="ident" id="4054845">Set</span><span class="op" id="4054848">(</span><span class="ident" id="4054849">x</span><span class="op" id="4054850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054853">z</span><span class="op" id="4054854">.</span><span class="ident" id="4054855">neg</span>&nbsp;<span class="op" id="4054859">=</span>&nbsp;<span class="builtintype" id="4054861">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4054868">return</span>&nbsp;<span class="ident" id="4054875">z</span><br>
<span class="lineno">100</span><span class="op" id="4054877">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4054880">//&nbsp;Neg&nbsp;sets&nbsp;z&nbsp;to&nbsp;-x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4054915">func</span>&nbsp;<span class="op" id="4054920">(</span><span class="ident" id="4054921">z</span>&nbsp;<span class="op" id="4054923">*</span><span class="ident" id="4054924">Int</span><span class="op" id="4054927">)</span>&nbsp;<span class="ident" id="4054929">Neg</span><span class="op" id="4054932">(</span><span class="ident" id="4054933">x</span>&nbsp;<span class="op" id="4054935">*</span><span class="ident" id="4054936">Int</span><span class="op" id="4054939">)</span>&nbsp;<span class="op" id="4054941">*</span><span class="ident" id="4054942">Int</span>&nbsp;<span class="op" id="4054946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054949">z</span><span class="op" id="4054950">.</span><span class="ident" id="4054951">Set</span><span class="op" id="4054954">(</span><span class="ident" id="4054955">x</span><span class="op" id="4054956">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4054959">z</span><span class="op" id="4054960">.</span><span class="ident" id="4054961">neg</span>&nbsp;<span class="op" id="4054965">=</span>&nbsp;<span class="builtinfunc" id="4054967">len</span><span class="op" id="4054970">(</span><span class="ident" id="4054971">z</span><span class="op" id="4054972">.</span><span class="ident" id="4054973">abs</span><span class="op" id="4054976">)</span>&nbsp;<span class="op" id="4054978">&gt;</span>&nbsp;<span class="num" id="4054980">0</span>&nbsp;<span class="op" id="4054982">&amp;&amp;</span>&nbsp;<span class="op" id="4054985">!</span><span class="ident" id="4054986">z</span><span class="op" id="4054987">.</span><span class="ident" id="4054988">neg</span>&nbsp;<span class="comment" id="4054992">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055010">return</span>&nbsp;<span class="ident" id="4055017">z</span><br>
<span class="lineno"></span><span class="op" id="4055019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4055022">//&nbsp;Add&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;sum&nbsp;x+y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">110</span><span class="keyword" id="4055066">func</span>&nbsp;<span class="op" id="4055071">(</span><span class="ident" id="4055072">z</span>&nbsp;<span class="op" id="4055074">*</span><span class="ident" id="4055075">Int</span><span class="op" id="4055078">)</span>&nbsp;<span class="ident" id="4055080">Add</span><span class="op" id="4055083">(</span><span class="ident" id="4055084">x</span><span class="op" id="4055085">,</span>&nbsp;<span class="ident" id="4055087">y</span>&nbsp;<span class="op" id="4055089">*</span><span class="ident" id="4055090">Int</span><span class="op" id="4055093">)</span>&nbsp;<span class="op" id="4055095">*</span><span class="ident" id="4055096">Int</span>&nbsp;<span class="op" id="4055100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055103">neg</span>&nbsp;<span class="op" id="4055107">:=</span>&nbsp;<span class="ident" id="4055110">x</span><span class="op" id="4055111">.</span><span class="ident" id="4055112">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055117">if</span>&nbsp;<span class="ident" id="4055120">x</span><span class="op" id="4055121">.</span><span class="ident" id="4055122">neg</span>&nbsp;<span class="op" id="4055126">==</span>&nbsp;<span class="ident" id="4055129">y</span><span class="op" id="4055130">.</span><span class="ident" id="4055131">neg</span>&nbsp;<span class="op" id="4055135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4055139">//&nbsp;x&nbsp;+&nbsp;y&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4055159">//&nbsp;(-x)&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055188">z</span><span class="op" id="4055189">.</span><span class="ident" id="4055190">abs</span>&nbsp;<span class="op" id="4055194">=</span>&nbsp;<span class="ident" id="4055196">z</span><span class="op" id="4055197">.</span><span class="ident" id="4055198">abs</span><span class="op" id="4055201">.</span><span class="ident" id="4055202">add</span><span class="op" id="4055205">(</span><span class="ident" id="4055206">x</span><span class="op" id="4055207">.</span><span class="ident" id="4055208">abs</span><span class="op" id="4055211">,</span>&nbsp;<span class="ident" id="4055213">y</span><span class="op" id="4055214">.</span><span class="ident" id="4055215">abs</span><span class="op" id="4055218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055221">}</span>&nbsp;<span class="keyword" id="4055223">else</span>&nbsp;<span class="op" id="4055228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4055232">//&nbsp;x&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4055267">//&nbsp;(-x)&nbsp;+&nbsp;y&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055302">if</span>&nbsp;<span class="ident" id="4055305">x</span><span class="op" id="4055306">.</span><span class="ident" id="4055307">abs</span><span class="op" id="4055310">.</span><span class="ident" id="4055311">cmp</span><span class="op" id="4055314">(</span><span class="ident" id="4055315">y</span><span class="op" id="4055316">.</span><span class="ident" id="4055317">abs</span><span class="op" id="4055320">)</span>&nbsp;<span class="op" id="4055322">&gt;=</span>&nbsp;<span class="num" id="4055325">0</span>&nbsp;<span class="op" id="4055327">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055332">z</span><span class="op" id="4055333">.</span><span class="ident" id="4055334">abs</span>&nbsp;<span class="op" id="4055338">=</span>&nbsp;<span class="ident" id="4055340">z</span><span class="op" id="4055341">.</span><span class="ident" id="4055342">abs</span><span class="op" id="4055345">.</span><span class="ident" id="4055346">sub</span><span class="op" id="4055349">(</span><span class="ident" id="4055350">x</span><span class="op" id="4055351">.</span><span class="ident" id="4055352">abs</span><span class="op" id="4055355">,</span>&nbsp;<span class="ident" id="4055357">y</span><span class="op" id="4055358">.</span><span class="ident" id="4055359">abs</span><span class="op" id="4055362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055366">}</span>&nbsp;<span class="keyword" id="4055368">else</span>&nbsp;<span class="op" id="4055373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055378">neg</span>&nbsp;<span class="op" id="4055382">=</span>&nbsp;<span class="op" id="4055384">!</span><span class="ident" id="4055385">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055392">z</span><span class="op" id="4055393">.</span><span class="ident" id="4055394">abs</span>&nbsp;<span class="op" id="4055398">=</span>&nbsp;<span class="ident" id="4055400">z</span><span class="op" id="4055401">.</span><span class="ident" id="4055402">abs</span><span class="op" id="4055405">.</span><span class="ident" id="4055406">sub</span><span class="op" id="4055409">(</span><span class="ident" id="4055410">y</span><span class="op" id="4055411">.</span><span class="ident" id="4055412">abs</span><span class="op" id="4055415">,</span>&nbsp;<span class="ident" id="4055417">x</span><span class="op" id="4055418">.</span><span class="ident" id="4055419">abs</span><span class="op" id="4055422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055426">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055432">z</span><span class="op" id="4055433">.</span><span class="ident" id="4055434">neg</span>&nbsp;<span class="op" id="4055438">=</span>&nbsp;<span class="builtinfunc" id="4055440">len</span><span class="op" id="4055443">(</span><span class="ident" id="4055444">z</span><span class="op" id="4055445">.</span><span class="ident" id="4055446">abs</span><span class="op" id="4055449">)</span>&nbsp;<span class="op" id="4055451">&gt;</span>&nbsp;<span class="num" id="4055453">0</span>&nbsp;<span class="op" id="4055455">&amp;&amp;</span>&nbsp;<span class="ident" id="4055458">neg</span>&nbsp;<span class="comment" id="4055462">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055480">return</span>&nbsp;<span class="ident" id="4055487">z</span><br>
<span class="lineno"></span><span class="op" id="4055489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="4055492">//&nbsp;Sub&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;difference&nbsp;x-y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4055543">func</span>&nbsp;<span class="op" id="4055548">(</span><span class="ident" id="4055549">z</span>&nbsp;<span class="op" id="4055551">*</span><span class="ident" id="4055552">Int</span><span class="op" id="4055555">)</span>&nbsp;<span class="ident" id="4055557">Sub</span><span class="op" id="4055560">(</span><span class="ident" id="4055561">x</span><span class="op" id="4055562">,</span>&nbsp;<span class="ident" id="4055564">y</span>&nbsp;<span class="op" id="4055566">*</span><span class="ident" id="4055567">Int</span><span class="op" id="4055570">)</span>&nbsp;<span class="op" id="4055572">*</span><span class="ident" id="4055573">Int</span>&nbsp;<span class="op" id="4055577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055580">neg</span>&nbsp;<span class="op" id="4055584">:=</span>&nbsp;<span class="ident" id="4055587">x</span><span class="op" id="4055588">.</span><span class="ident" id="4055589">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055594">if</span>&nbsp;<span class="ident" id="4055597">x</span><span class="op" id="4055598">.</span><span class="ident" id="4055599">neg</span>&nbsp;<span class="op" id="4055603">!=</span>&nbsp;<span class="ident" id="4055606">y</span><span class="op" id="4055607">.</span><span class="ident" id="4055608">neg</span>&nbsp;<span class="op" id="4055612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4055616">//&nbsp;x&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4055639">//&nbsp;(-x)&nbsp;-&nbsp;y&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055665">z</span><span class="op" id="4055666">.</span><span class="ident" id="4055667">abs</span>&nbsp;<span class="op" id="4055671">=</span>&nbsp;<span class="ident" id="4055673">z</span><span class="op" id="4055674">.</span><span class="ident" id="4055675">abs</span><span class="op" id="4055678">.</span><span class="ident" id="4055679">add</span><span class="op" id="4055682">(</span><span class="ident" id="4055683">x</span><span class="op" id="4055684">.</span><span class="ident" id="4055685">abs</span><span class="op" id="4055688">,</span>&nbsp;<span class="ident" id="4055690">y</span><span class="op" id="4055691">.</span><span class="ident" id="4055692">abs</span><span class="op" id="4055695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055698">}</span>&nbsp;<span class="keyword" id="4055700">else</span>&nbsp;<span class="op" id="4055705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4055709">//&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4055741">//&nbsp;(-x)&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055779">if</span>&nbsp;<span class="ident" id="4055782">x</span><span class="op" id="4055783">.</span><span class="ident" id="4055784">abs</span><span class="op" id="4055787">.</span><span class="ident" id="4055788">cmp</span><span class="op" id="4055791">(</span><span class="ident" id="4055792">y</span><span class="op" id="4055793">.</span><span class="ident" id="4055794">abs</span><span class="op" id="4055797">)</span>&nbsp;<span class="op" id="4055799">&gt;=</span>&nbsp;<span class="num" id="4055802">0</span>&nbsp;<span class="op" id="4055804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055809">z</span><span class="op" id="4055810">.</span><span class="ident" id="4055811">abs</span>&nbsp;<span class="op" id="4055815">=</span>&nbsp;<span class="ident" id="4055817">z</span><span class="op" id="4055818">.</span><span class="ident" id="4055819">abs</span><span class="op" id="4055822">.</span><span class="ident" id="4055823">sub</span><span class="op" id="4055826">(</span><span class="ident" id="4055827">x</span><span class="op" id="4055828">.</span><span class="ident" id="4055829">abs</span><span class="op" id="4055832">,</span>&nbsp;<span class="ident" id="4055834">y</span><span class="op" id="4055835">.</span><span class="ident" id="4055836">abs</span><span class="op" id="4055839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055843">}</span>&nbsp;<span class="keyword" id="4055845">else</span>&nbsp;<span class="op" id="4055850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055855">neg</span>&nbsp;<span class="op" id="4055859">=</span>&nbsp;<span class="op" id="4055861">!</span><span class="ident" id="4055862">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055869">z</span><span class="op" id="4055870">.</span><span class="ident" id="4055871">abs</span>&nbsp;<span class="op" id="4055875">=</span>&nbsp;<span class="ident" id="4055877">z</span><span class="op" id="4055878">.</span><span class="ident" id="4055879">abs</span><span class="op" id="4055882">.</span><span class="ident" id="4055883">sub</span><span class="op" id="4055886">(</span><span class="ident" id="4055887">y</span><span class="op" id="4055888">.</span><span class="ident" id="4055889">abs</span><span class="op" id="4055892">,</span>&nbsp;<span class="ident" id="4055894">x</span><span class="op" id="4055895">.</span><span class="ident" id="4055896">abs</span><span class="op" id="4055899">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4055906">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4055909">z</span><span class="op" id="4055910">.</span><span class="ident" id="4055911">neg</span>&nbsp;<span class="op" id="4055915">=</span>&nbsp;<span class="builtinfunc" id="4055917">len</span><span class="op" id="4055920">(</span><span class="ident" id="4055921">z</span><span class="op" id="4055922">.</span><span class="ident" id="4055923">abs</span><span class="op" id="4055926">)</span>&nbsp;<span class="op" id="4055928">&gt;</span>&nbsp;<span class="num" id="4055930">0</span>&nbsp;<span class="op" id="4055932">&amp;&amp;</span>&nbsp;<span class="ident" id="4055935">neg</span>&nbsp;<span class="comment" id="4055939">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4055957">return</span>&nbsp;<span class="ident" id="4055964">z</span><br>
<span class="lineno"></span><span class="op" id="4055966">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="4055969">//&nbsp;Mul&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;x*y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4056017">func</span>&nbsp;<span class="op" id="4056022">(</span><span class="ident" id="4056023">z</span>&nbsp;<span class="op" id="4056025">*</span><span class="ident" id="4056026">Int</span><span class="op" id="4056029">)</span>&nbsp;<span class="ident" id="4056031">Mul</span><span class="op" id="4056034">(</span><span class="ident" id="4056035">x</span><span class="op" id="4056036">,</span>&nbsp;<span class="ident" id="4056038">y</span>&nbsp;<span class="op" id="4056040">*</span><span class="ident" id="4056041">Int</span><span class="op" id="4056044">)</span>&nbsp;<span class="op" id="4056046">*</span><span class="ident" id="4056047">Int</span>&nbsp;<span class="op" id="4056051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4056054">//&nbsp;x&nbsp;*&nbsp;y&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4056073">//&nbsp;x&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4056098">//&nbsp;(-x)&nbsp;*&nbsp;y&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4056123">//&nbsp;(-x)&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4056148">z</span><span class="op" id="4056149">.</span><span class="ident" id="4056150">abs</span>&nbsp;<span class="op" id="4056154">=</span>&nbsp;<span class="ident" id="4056156">z</span><span class="op" id="4056157">.</span><span class="ident" id="4056158">abs</span><span class="op" id="4056161">.</span><span class="ident" id="4056162">mul</span><span class="op" id="4056165">(</span><span class="ident" id="4056166">x</span><span class="op" id="4056167">.</span><span class="ident" id="4056168">abs</span><span class="op" id="4056171">,</span>&nbsp;<span class="ident" id="4056173">y</span><span class="op" id="4056174">.</span><span class="ident" id="4056175">abs</span><span class="op" id="4056178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4056181">z</span><span class="op" id="4056182">.</span><span class="ident" id="4056183">neg</span>&nbsp;<span class="op" id="4056187">=</span>&nbsp;<span class="builtinfunc" id="4056189">len</span><span class="op" id="4056192">(</span><span class="ident" id="4056193">z</span><span class="op" id="4056194">.</span><span class="ident" id="4056195">abs</span><span class="op" id="4056198">)</span>&nbsp;<span class="op" id="4056200">&gt;</span>&nbsp;<span class="num" id="4056202">0</span>&nbsp;<span class="op" id="4056204">&amp;&amp;</span>&nbsp;<span class="ident" id="4056207">x</span><span class="op" id="4056208">.</span><span class="ident" id="4056209">neg</span>&nbsp;<span class="op" id="4056213">!=</span>&nbsp;<span class="ident" id="4056216">y</span><span class="op" id="4056217">.</span><span class="ident" id="4056218">neg</span>&nbsp;<span class="comment" id="4056222">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4056240">return</span>&nbsp;<span class="ident" id="4056247">z</span><br>
<span class="lineno">160</span><span class="op" id="4056249">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4056252">//&nbsp;MulRange&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;of&nbsp;all&nbsp;integers</span><br>
<span class="lineno"></span><span class="comment" id="4056302">//&nbsp;in&nbsp;the&nbsp;range&nbsp;[a,&nbsp;b]&nbsp;inclusively&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4056352">//&nbsp;If&nbsp;a&nbsp;&gt;&nbsp;b&nbsp;(empty&nbsp;range),&nbsp;the&nbsp;result&nbsp;is&nbsp;1.</span><br>
<span class="lineno">165</span><span class="keyword" id="4056396">func</span>&nbsp;<span class="op" id="4056401">(</span><span class="ident" id="4056402">z</span>&nbsp;<span class="op" id="4056404">*</span><span class="ident" id="4056405">Int</span><span class="op" id="4056408">)</span>&nbsp;<span class="ident" id="4056410">MulRange</span><span class="op" id="4056418">(</span><span class="ident" id="4056419">a</span><span class="op" id="4056420">,</span>&nbsp;<span class="ident" id="4056422">b</span>&nbsp;<span class="builtintype" id="4056424">int64</span><span class="op" id="4056429">)</span>&nbsp;<span class="op" id="4056431">*</span><span class="ident" id="4056432">Int</span>&nbsp;<span class="op" id="4056436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4056439">switch</span>&nbsp;<span class="op" id="4056446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4056449">case</span>&nbsp;<span class="ident" id="4056454">a</span>&nbsp;<span class="op" id="4056456">&gt;</span>&nbsp;<span class="ident" id="4056458">b</span><span class="op" id="4056459">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4056463">return</span>&nbsp;<span class="ident" id="4056470">z</span><span class="op" id="4056471">.</span><span class="ident" id="4056472">SetInt64</span><span class="op" id="4056480">(</span><span class="num" id="4056481">1</span><span class="op" id="4056482">)</span>&nbsp;<span class="comment" id="4056484">//&nbsp;empty&nbsp;range</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4056500">case</span>&nbsp;<span class="ident" id="4056505">a</span>&nbsp;<span class="op" id="4056507">&lt;=</span>&nbsp;<span class="num" id="4056510">0</span>&nbsp;<span class="op" id="4056512">&amp;&amp;</span>&nbsp;<span class="ident" id="4056515">b</span>&nbsp;<span class="op" id="4056517">&gt;=</span>&nbsp;<span class="num" id="4056520">0</span><span class="op" id="4056521">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4056525">return</span>&nbsp;<span class="ident" id="4056532">z</span><span class="op" id="4056533">.</span><span class="ident" id="4056534">SetInt64</span><span class="op" id="4056542">(</span><span class="num" id="4056543">0</span><span class="op" id="4056544">)</span>&nbsp;<span class="comment" id="4056546">//&nbsp;range&nbsp;includes&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4056567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4056570">//&nbsp;a&nbsp;&lt;=&nbsp;b&nbsp;&amp;&amp;&nbsp;(b&nbsp;&lt;&nbsp;0&nbsp;||&nbsp;a&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4056602">neg</span>&nbsp;<span class="op" id="4056606">:=</span>&nbsp;<span class="builtintype" id="4056609">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4056616">if</span>&nbsp;<span class="ident" id="4056619">a</span>&nbsp;<span class="op" id="4056621">&lt;</span>&nbsp;<span class="num" id="4056623">0</span>&nbsp;<span class="op" id="4056625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4056629">neg</span>&nbsp;<span class="op" id="4056633">=</span>&nbsp;<span class="op" id="4056635">(</span><span class="ident" id="4056636">b</span><span class="op" id="4056637">-</span><span class="ident" id="4056638">a</span><span class="op" id="4056639">)</span><span class="op" id="4056640">&amp;</span><span class="num" id="4056641">1</span>&nbsp;<span class="op" id="4056643">==</span>&nbsp;<span class="num" id="4056646">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4056650">a</span><span class="op" id="4056651">,</span>&nbsp;<span class="ident" id="4056653">b</span>&nbsp;<span class="op" id="4056655">=</span>&nbsp;<span class="op" id="4056657">-</span><span class="ident" id="4056658">b</span><span class="op" id="4056659">,</span>&nbsp;<span class="op" id="4056661">-</span><span class="ident" id="4056662">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4056665">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4056669">z</span><span class="op" id="4056670">.</span><span class="ident" id="4056671">abs</span>&nbsp;<span class="op" id="4056675">=</span>&nbsp;<span class="ident" id="4056677">z</span><span class="op" id="4056678">.</span><span class="ident" id="4056679">abs</span><span class="op" id="4056682">.</span><span class="ident" id="4056683">mulRange</span><span class="op" id="4056691">(</span><span class="builtintype" id="4056692">uint64</span><span class="op" id="4056698">(</span><span class="ident" id="4056699">a</span><span class="op" id="4056700">)</span><span class="op" id="4056701">,</span>&nbsp;<span class="builtintype" id="4056703">uint64</span><span class="op" id="4056709">(</span><span class="ident" id="4056710">b</span><span class="op" id="4056711">)</span><span class="op" id="4056712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4056715">z</span><span class="op" id="4056716">.</span><span class="ident" id="4056717">neg</span>&nbsp;<span class="op" id="4056721">=</span>&nbsp;<span class="ident" id="4056723">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4056728">return</span>&nbsp;<span class="ident" id="4056735">z</span><br>
<span class="lineno"></span><span class="op" id="4056737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="4056740">//&nbsp;Binomial&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;binomial&nbsp;coefficient&nbsp;of&nbsp;(n,&nbsp;k)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4056812">func</span>&nbsp;<span class="op" id="4056817">(</span><span class="ident" id="4056818">z</span>&nbsp;<span class="op" id="4056820">*</span><span class="ident" id="4056821">Int</span><span class="op" id="4056824">)</span>&nbsp;<span class="ident" id="4056826">Binomial</span><span class="op" id="4056834">(</span><span class="ident" id="4056835">n</span><span class="op" id="4056836">,</span>&nbsp;<span class="ident" id="4056838">k</span>&nbsp;<span class="builtintype" id="4056840">int64</span><span class="op" id="4056845">)</span>&nbsp;<span class="op" id="4056847">*</span><span class="ident" id="4056848">Int</span>&nbsp;<span class="op" id="4056852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4056855">var</span>&nbsp;<span class="ident" id="4056859">a</span><span class="op" id="4056860">,</span>&nbsp;<span class="ident" id="4056862">b</span>&nbsp;<span class="ident" id="4056864">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4056869">a</span><span class="op" id="4056870">.</span><span class="ident" id="4056871">MulRange</span><span class="op" id="4056879">(</span><span class="ident" id="4056880">n</span><span class="op" id="4056881">-</span><span class="ident" id="4056882">k</span><span class="op" id="4056883">+</span><span class="num" id="4056884">1</span><span class="op" id="4056885">,</span>&nbsp;<span class="ident" id="4056887">n</span><span class="op" id="4056888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4056891">b</span><span class="op" id="4056892">.</span><span class="ident" id="4056893">MulRange</span><span class="op" id="4056901">(</span><span class="num" id="4056902">1</span><span class="op" id="4056903">,</span>&nbsp;<span class="ident" id="4056905">k</span><span class="op" id="4056906">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4056909">return</span>&nbsp;<span class="ident" id="4056916">z</span><span class="op" id="4056917">.</span><span class="ident" id="4056918">Quo</span><span class="op" id="4056921">(</span><span class="op" id="4056922">&amp;</span><span class="ident" id="4056923">a</span><span class="op" id="4056924">,</span>&nbsp;<span class="op" id="4056926">&amp;</span><span class="ident" id="4056927">b</span><span class="op" id="4056928">)</span><br>
<span class="lineno"></span><span class="op" id="4056930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4056933">//&nbsp;Quo&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4056993">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno">195</span><span class="comment" id="4057049">//&nbsp;Quo&nbsp;implements&nbsp;truncated&nbsp;division&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="4057126">func</span>&nbsp;<span class="op" id="4057131">(</span><span class="ident" id="4057132">z</span>&nbsp;<span class="op" id="4057134">*</span><span class="ident" id="4057135">Int</span><span class="op" id="4057138">)</span>&nbsp;<span class="ident" id="4057140">Quo</span><span class="op" id="4057143">(</span><span class="ident" id="4057144">x</span><span class="op" id="4057145">,</span>&nbsp;<span class="ident" id="4057147">y</span>&nbsp;<span class="op" id="4057149">*</span><span class="ident" id="4057150">Int</span><span class="op" id="4057153">)</span>&nbsp;<span class="op" id="4057155">*</span><span class="ident" id="4057156">Int</span>&nbsp;<span class="op" id="4057160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4057163">z</span><span class="op" id="4057164">.</span><span class="ident" id="4057165">abs</span><span class="op" id="4057168">,</span>&nbsp;<span class="ident" id="4057170">_</span>&nbsp;<span class="op" id="4057172">=</span>&nbsp;<span class="ident" id="4057174">z</span><span class="op" id="4057175">.</span><span class="ident" id="4057176">abs</span><span class="op" id="4057179">.</span><span class="ident" id="4057180">div</span><span class="op" id="4057183">(</span><span class="builtintype" id="4057184">nil</span><span class="op" id="4057187">,</span>&nbsp;<span class="ident" id="4057189">x</span><span class="op" id="4057190">.</span><span class="ident" id="4057191">abs</span><span class="op" id="4057194">,</span>&nbsp;<span class="ident" id="4057196">y</span><span class="op" id="4057197">.</span><span class="ident" id="4057198">abs</span><span class="op" id="4057201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4057204">z</span><span class="op" id="4057205">.</span><span class="ident" id="4057206">neg</span>&nbsp;<span class="op" id="4057210">=</span>&nbsp;<span class="builtinfunc" id="4057212">len</span><span class="op" id="4057215">(</span><span class="ident" id="4057216">z</span><span class="op" id="4057217">.</span><span class="ident" id="4057218">abs</span><span class="op" id="4057221">)</span>&nbsp;<span class="op" id="4057223">&gt;</span>&nbsp;<span class="num" id="4057225">0</span>&nbsp;<span class="op" id="4057227">&amp;&amp;</span>&nbsp;<span class="ident" id="4057230">x</span><span class="op" id="4057231">.</span><span class="ident" id="4057232">neg</span>&nbsp;<span class="op" id="4057236">!=</span>&nbsp;<span class="ident" id="4057239">y</span><span class="op" id="4057240">.</span><span class="ident" id="4057241">neg</span>&nbsp;<span class="comment" id="4057245">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057263">return</span>&nbsp;<span class="ident" id="4057270">z</span><br>
<span class="lineno">200</span><span class="op" id="4057272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4057275">//&nbsp;Rem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4057336">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="4057392">//&nbsp;Rem&nbsp;implements&nbsp;truncated&nbsp;modulus&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno">205</span><span class="keyword" id="4057468">func</span>&nbsp;<span class="op" id="4057473">(</span><span class="ident" id="4057474">z</span>&nbsp;<span class="op" id="4057476">*</span><span class="ident" id="4057477">Int</span><span class="op" id="4057480">)</span>&nbsp;<span class="ident" id="4057482">Rem</span><span class="op" id="4057485">(</span><span class="ident" id="4057486">x</span><span class="op" id="4057487">,</span>&nbsp;<span class="ident" id="4057489">y</span>&nbsp;<span class="op" id="4057491">*</span><span class="ident" id="4057492">Int</span><span class="op" id="4057495">)</span>&nbsp;<span class="op" id="4057497">*</span><span class="ident" id="4057498">Int</span>&nbsp;<span class="op" id="4057502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4057505">_</span><span class="op" id="4057506">,</span>&nbsp;<span class="ident" id="4057508">z</span><span class="op" id="4057509">.</span><span class="ident" id="4057510">abs</span>&nbsp;<span class="op" id="4057514">=</span>&nbsp;<span class="ident" id="4057516">nat</span><span class="op" id="4057519">(</span><span class="builtintype" id="4057520">nil</span><span class="op" id="4057523">)</span><span class="op" id="4057524">.</span><span class="ident" id="4057525">div</span><span class="op" id="4057528">(</span><span class="ident" id="4057529">z</span><span class="op" id="4057530">.</span><span class="ident" id="4057531">abs</span><span class="op" id="4057534">,</span>&nbsp;<span class="ident" id="4057536">x</span><span class="op" id="4057537">.</span><span class="ident" id="4057538">abs</span><span class="op" id="4057541">,</span>&nbsp;<span class="ident" id="4057543">y</span><span class="op" id="4057544">.</span><span class="ident" id="4057545">abs</span><span class="op" id="4057548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4057551">z</span><span class="op" id="4057552">.</span><span class="ident" id="4057553">neg</span>&nbsp;<span class="op" id="4057557">=</span>&nbsp;<span class="builtinfunc" id="4057559">len</span><span class="op" id="4057562">(</span><span class="ident" id="4057563">z</span><span class="op" id="4057564">.</span><span class="ident" id="4057565">abs</span><span class="op" id="4057568">)</span>&nbsp;<span class="op" id="4057570">&gt;</span>&nbsp;<span class="num" id="4057572">0</span>&nbsp;<span class="op" id="4057574">&amp;&amp;</span>&nbsp;<span class="ident" id="4057577">x</span><span class="op" id="4057578">.</span><span class="ident" id="4057579">neg</span>&nbsp;<span class="comment" id="4057583">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4057601">return</span>&nbsp;<span class="ident" id="4057608">z</span><br>
<span class="lineno"></span><span class="op" id="4057610">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="comment" id="4057613">//&nbsp;QuoRem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;and&nbsp;r&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y</span><br>
<span class="lineno"></span><span class="comment" id="4057677">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;r)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="4057720">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="4057776">//</span><br>
<span class="lineno">215</span><span class="comment" id="4057779">//&nbsp;QuoRem&nbsp;implements&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="4057834">//</span><br>
<span class="lineno"></span><span class="comment" id="4057837">//&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;x/y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;result&nbsp;truncated&nbsp;to&nbsp;zero</span><br>
<span class="lineno"></span><span class="comment" id="4057887">//&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q</span><br>
<span class="lineno"></span><span class="comment" id="4057902">//</span><br>
<span class="lineno">220</span><span class="comment" id="4057905">//&nbsp;(See&nbsp;Daan&nbsp;Leijen,&nbsp;``Division&nbsp;and&nbsp;Modulus&nbsp;for&nbsp;Computer&nbsp;Scientists&#39;&#39;.)</span><br>
<span class="lineno"></span><span class="comment" id="4057977">//&nbsp;See&nbsp;DivMod&nbsp;for&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go).</span><br>
<span class="lineno"></span><span class="comment" id="4058039">//</span><br>
<span class="lineno"></span><span class="keyword" id="4058042">func</span>&nbsp;<span class="op" id="4058047">(</span><span class="ident" id="4058048">z</span>&nbsp;<span class="op" id="4058050">*</span><span class="ident" id="4058051">Int</span><span class="op" id="4058054">)</span>&nbsp;<span class="ident" id="4058056">QuoRem</span><span class="op" id="4058062">(</span><span class="ident" id="4058063">x</span><span class="op" id="4058064">,</span>&nbsp;<span class="ident" id="4058066">y</span><span class="op" id="4058067">,</span>&nbsp;<span class="ident" id="4058069">r</span>&nbsp;<span class="op" id="4058071">*</span><span class="ident" id="4058072">Int</span><span class="op" id="4058075">)</span>&nbsp;<span class="op" id="4058077">(</span><span class="op" id="4058078">*</span><span class="ident" id="4058079">Int</span><span class="op" id="4058082">,</span>&nbsp;<span class="op" id="4058084">*</span><span class="ident" id="4058085">Int</span><span class="op" id="4058088">)</span>&nbsp;<span class="op" id="4058090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058093">z</span><span class="op" id="4058094">.</span><span class="ident" id="4058095">abs</span><span class="op" id="4058098">,</span>&nbsp;<span class="ident" id="4058100">r</span><span class="op" id="4058101">.</span><span class="ident" id="4058102">abs</span>&nbsp;<span class="op" id="4058106">=</span>&nbsp;<span class="ident" id="4058108">z</span><span class="op" id="4058109">.</span><span class="ident" id="4058110">abs</span><span class="op" id="4058113">.</span><span class="ident" id="4058114">div</span><span class="op" id="4058117">(</span><span class="ident" id="4058118">r</span><span class="op" id="4058119">.</span><span class="ident" id="4058120">abs</span><span class="op" id="4058123">,</span>&nbsp;<span class="ident" id="4058125">x</span><span class="op" id="4058126">.</span><span class="ident" id="4058127">abs</span><span class="op" id="4058130">,</span>&nbsp;<span class="ident" id="4058132">y</span><span class="op" id="4058133">.</span><span class="ident" id="4058134">abs</span><span class="op" id="4058137">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058140">z</span><span class="op" id="4058141">.</span><span class="ident" id="4058142">neg</span><span class="op" id="4058145">,</span>&nbsp;<span class="ident" id="4058147">r</span><span class="op" id="4058148">.</span><span class="ident" id="4058149">neg</span>&nbsp;<span class="op" id="4058153">=</span>&nbsp;<span class="builtinfunc" id="4058155">len</span><span class="op" id="4058158">(</span><span class="ident" id="4058159">z</span><span class="op" id="4058160">.</span><span class="ident" id="4058161">abs</span><span class="op" id="4058164">)</span>&nbsp;<span class="op" id="4058166">&gt;</span>&nbsp;<span class="num" id="4058168">0</span>&nbsp;<span class="op" id="4058170">&amp;&amp;</span>&nbsp;<span class="ident" id="4058173">x</span><span class="op" id="4058174">.</span><span class="ident" id="4058175">neg</span>&nbsp;<span class="op" id="4058179">!=</span>&nbsp;<span class="ident" id="4058182">y</span><span class="op" id="4058183">.</span><span class="ident" id="4058184">neg</span><span class="op" id="4058187">,</span>&nbsp;<span class="builtinfunc" id="4058189">len</span><span class="op" id="4058192">(</span><span class="ident" id="4058193">r</span><span class="op" id="4058194">.</span><span class="ident" id="4058195">abs</span><span class="op" id="4058198">)</span>&nbsp;<span class="op" id="4058200">&gt;</span>&nbsp;<span class="num" id="4058202">0</span>&nbsp;<span class="op" id="4058204">&amp;&amp;</span>&nbsp;<span class="ident" id="4058207">x</span><span class="op" id="4058208">.</span><span class="ident" id="4058209">neg</span>&nbsp;<span class="comment" id="4058213">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058231">return</span>&nbsp;<span class="ident" id="4058238">z</span><span class="op" id="4058239">,</span>&nbsp;<span class="ident" id="4058241">r</span><br>
<span class="lineno"></span><span class="op" id="4058243">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4058246">//&nbsp;Div&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">230</span><span class="comment" id="4058306">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="4058362">//&nbsp;Div&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="4058441">func</span>&nbsp;<span class="op" id="4058446">(</span><span class="ident" id="4058447">z</span>&nbsp;<span class="op" id="4058449">*</span><span class="ident" id="4058450">Int</span><span class="op" id="4058453">)</span>&nbsp;<span class="ident" id="4058455">Div</span><span class="op" id="4058458">(</span><span class="ident" id="4058459">x</span><span class="op" id="4058460">,</span>&nbsp;<span class="ident" id="4058462">y</span>&nbsp;<span class="op" id="4058464">*</span><span class="ident" id="4058465">Int</span><span class="op" id="4058468">)</span>&nbsp;<span class="op" id="4058470">*</span><span class="ident" id="4058471">Int</span>&nbsp;<span class="op" id="4058475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058478">y_neg</span>&nbsp;<span class="op" id="4058484">:=</span>&nbsp;<span class="ident" id="4058487">y</span><span class="op" id="4058488">.</span><span class="ident" id="4058489">neg</span>&nbsp;<span class="comment" id="4058493">//&nbsp;z&nbsp;may&nbsp;be&nbsp;an&nbsp;alias&nbsp;for&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058521">var</span>&nbsp;<span class="ident" id="4058525">r</span>&nbsp;<span class="ident" id="4058527">Int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058532">z</span><span class="op" id="4058533">.</span><span class="ident" id="4058534">QuoRem</span><span class="op" id="4058540">(</span><span class="ident" id="4058541">x</span><span class="op" id="4058542">,</span>&nbsp;<span class="ident" id="4058544">y</span><span class="op" id="4058545">,</span>&nbsp;<span class="op" id="4058547">&amp;</span><span class="ident" id="4058548">r</span><span class="op" id="4058549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058552">if</span>&nbsp;<span class="ident" id="4058555">r</span><span class="op" id="4058556">.</span><span class="ident" id="4058557">neg</span>&nbsp;<span class="op" id="4058561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058565">if</span>&nbsp;<span class="ident" id="4058568">y_neg</span>&nbsp;<span class="op" id="4058574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058579">z</span><span class="op" id="4058580">.</span><span class="ident" id="4058581">Add</span><span class="op" id="4058584">(</span><span class="ident" id="4058585">z</span><span class="op" id="4058586">,</span>&nbsp;<span class="ident" id="4058588">intOne</span><span class="op" id="4058594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4058598">}</span>&nbsp;<span class="keyword" id="4058600">else</span>&nbsp;<span class="op" id="4058605">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058610">z</span><span class="op" id="4058611">.</span><span class="ident" id="4058612">Sub</span><span class="op" id="4058615">(</span><span class="ident" id="4058616">z</span><span class="op" id="4058617">,</span>&nbsp;<span class="ident" id="4058619">intOne</span><span class="op" id="4058625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4058629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4058632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058635">return</span>&nbsp;<span class="ident" id="4058642">z</span><br>
<span class="lineno"></span><span class="op" id="4058644">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="comment" id="4058647">//&nbsp;Mod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4058706">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="4058762">//&nbsp;Mod&nbsp;implements&nbsp;Euclidean&nbsp;modulus&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="4058840">func</span>&nbsp;<span class="op" id="4058845">(</span><span class="ident" id="4058846">z</span>&nbsp;<span class="op" id="4058848">*</span><span class="ident" id="4058849">Int</span><span class="op" id="4058852">)</span>&nbsp;<span class="ident" id="4058854">Mod</span><span class="op" id="4058857">(</span><span class="ident" id="4058858">x</span><span class="op" id="4058859">,</span>&nbsp;<span class="ident" id="4058861">y</span>&nbsp;<span class="op" id="4058863">*</span><span class="ident" id="4058864">Int</span><span class="op" id="4058867">)</span>&nbsp;<span class="op" id="4058869">*</span><span class="ident" id="4058870">Int</span>&nbsp;<span class="op" id="4058874">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058877">y0</span>&nbsp;<span class="op" id="4058880">:=</span>&nbsp;<span class="ident" id="4058883">y</span>&nbsp;<span class="comment" id="4058885">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058896">if</span>&nbsp;<span class="ident" id="4058899">z</span>&nbsp;<span class="op" id="4058901">==</span>&nbsp;<span class="ident" id="4058904">y</span>&nbsp;<span class="op" id="4058906">||</span>&nbsp;<span class="ident" id="4058909">alias</span><span class="op" id="4058914">(</span><span class="ident" id="4058915">z</span><span class="op" id="4058916">.</span><span class="ident" id="4058917">abs</span><span class="op" id="4058920">,</span>&nbsp;<span class="ident" id="4058922">y</span><span class="op" id="4058923">.</span><span class="ident" id="4058924">abs</span><span class="op" id="4058927">)</span>&nbsp;<span class="op" id="4058929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058933">y0</span>&nbsp;<span class="op" id="4058936">=</span>&nbsp;<span class="builtinfunc" id="4058938">new</span><span class="op" id="4058941">(</span><span class="ident" id="4058942">Int</span><span class="op" id="4058945">)</span><span class="op" id="4058946">.</span><span class="ident" id="4058947">Set</span><span class="op" id="4058950">(</span><span class="ident" id="4058951">y</span><span class="op" id="4058952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4058955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058958">var</span>&nbsp;<span class="ident" id="4058962">q</span>&nbsp;<span class="ident" id="4058964">Int</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4058969">q</span><span class="op" id="4058970">.</span><span class="ident" id="4058971">QuoRem</span><span class="op" id="4058977">(</span><span class="ident" id="4058978">x</span><span class="op" id="4058979">,</span>&nbsp;<span class="ident" id="4058981">y</span><span class="op" id="4058982">,</span>&nbsp;<span class="ident" id="4058984">z</span><span class="op" id="4058985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4058988">if</span>&nbsp;<span class="ident" id="4058991">z</span><span class="op" id="4058992">.</span><span class="ident" id="4058993">neg</span>&nbsp;<span class="op" id="4058997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059001">if</span>&nbsp;<span class="ident" id="4059004">y0</span><span class="op" id="4059006">.</span><span class="ident" id="4059007">neg</span>&nbsp;<span class="op" id="4059011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059016">z</span><span class="op" id="4059017">.</span><span class="ident" id="4059018">Sub</span><span class="op" id="4059021">(</span><span class="ident" id="4059022">z</span><span class="op" id="4059023">,</span>&nbsp;<span class="ident" id="4059025">y0</span><span class="op" id="4059027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4059031">}</span>&nbsp;<span class="keyword" id="4059033">else</span>&nbsp;<span class="op" id="4059038">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059043">z</span><span class="op" id="4059044">.</span><span class="ident" id="4059045">Add</span><span class="op" id="4059048">(</span><span class="ident" id="4059049">z</span><span class="op" id="4059050">,</span>&nbsp;<span class="ident" id="4059052">y0</span><span class="op" id="4059054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4059058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4059061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059064">return</span>&nbsp;<span class="ident" id="4059071">z</span><br>
<span class="lineno"></span><span class="op" id="4059073">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="comment" id="4059076">//&nbsp;DivMod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x&nbsp;div&nbsp;y&nbsp;and&nbsp;m&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x&nbsp;mod&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="4059146">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;m)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="4059189">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="4059245">//</span><br>
<span class="lineno">270</span><span class="comment" id="4059248">//&nbsp;DivMod&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="4059313">//</span><br>
<span class="lineno"></span><span class="comment" id="4059316">//&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;x&nbsp;div&nbsp;y&nbsp;&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="4059342">//&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q&nbsp;&nbsp;with&nbsp;0&nbsp;&lt;=&nbsp;m&nbsp;&lt;&nbsp;|q|</span><br>
<span class="lineno"></span><span class="comment" id="4059376">//</span><br>
<span class="lineno">275</span><span class="comment" id="4059379">//&nbsp;(See&nbsp;Raymond&nbsp;T.&nbsp;Boute,&nbsp;``The&nbsp;Euclidean&nbsp;definition&nbsp;of&nbsp;the&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="4059449">//&nbsp;div&nbsp;and&nbsp;mod&#39;&#39;.&nbsp;ACM&nbsp;Transactions&nbsp;on&nbsp;Programming&nbsp;Languages&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="4059513">//&nbsp;Systems&nbsp;(TOPLAS),&nbsp;14(2):127-144,&nbsp;New&nbsp;York,&nbsp;NY,&nbsp;USA,&nbsp;4/1992.</span><br>
<span class="lineno"></span><span class="comment" id="4059576">//&nbsp;ACM&nbsp;press.)</span><br>
<span class="lineno"></span><span class="comment" id="4059591">//&nbsp;See&nbsp;QuoRem&nbsp;for&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go).</span><br>
<span class="lineno">280</span><span class="comment" id="4059643">//</span><br>
<span class="lineno"></span><span class="keyword" id="4059646">func</span>&nbsp;<span class="op" id="4059651">(</span><span class="ident" id="4059652">z</span>&nbsp;<span class="op" id="4059654">*</span><span class="ident" id="4059655">Int</span><span class="op" id="4059658">)</span>&nbsp;<span class="ident" id="4059660">DivMod</span><span class="op" id="4059666">(</span><span class="ident" id="4059667">x</span><span class="op" id="4059668">,</span>&nbsp;<span class="ident" id="4059670">y</span><span class="op" id="4059671">,</span>&nbsp;<span class="ident" id="4059673">m</span>&nbsp;<span class="op" id="4059675">*</span><span class="ident" id="4059676">Int</span><span class="op" id="4059679">)</span>&nbsp;<span class="op" id="4059681">(</span><span class="op" id="4059682">*</span><span class="ident" id="4059683">Int</span><span class="op" id="4059686">,</span>&nbsp;<span class="op" id="4059688">*</span><span class="ident" id="4059689">Int</span><span class="op" id="4059692">)</span>&nbsp;<span class="op" id="4059694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059697">y0</span>&nbsp;<span class="op" id="4059700">:=</span>&nbsp;<span class="ident" id="4059703">y</span>&nbsp;<span class="comment" id="4059705">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059716">if</span>&nbsp;<span class="ident" id="4059719">z</span>&nbsp;<span class="op" id="4059721">==</span>&nbsp;<span class="ident" id="4059724">y</span>&nbsp;<span class="op" id="4059726">||</span>&nbsp;<span class="ident" id="4059729">alias</span><span class="op" id="4059734">(</span><span class="ident" id="4059735">z</span><span class="op" id="4059736">.</span><span class="ident" id="4059737">abs</span><span class="op" id="4059740">,</span>&nbsp;<span class="ident" id="4059742">y</span><span class="op" id="4059743">.</span><span class="ident" id="4059744">abs</span><span class="op" id="4059747">)</span>&nbsp;<span class="op" id="4059749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059753">y0</span>&nbsp;<span class="op" id="4059756">=</span>&nbsp;<span class="builtinfunc" id="4059758">new</span><span class="op" id="4059761">(</span><span class="ident" id="4059762">Int</span><span class="op" id="4059765">)</span><span class="op" id="4059766">.</span><span class="ident" id="4059767">Set</span><span class="op" id="4059770">(</span><span class="ident" id="4059771">y</span><span class="op" id="4059772">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4059775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059778">z</span><span class="op" id="4059779">.</span><span class="ident" id="4059780">QuoRem</span><span class="op" id="4059786">(</span><span class="ident" id="4059787">x</span><span class="op" id="4059788">,</span>&nbsp;<span class="ident" id="4059790">y</span><span class="op" id="4059791">,</span>&nbsp;<span class="ident" id="4059793">m</span><span class="op" id="4059794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059797">if</span>&nbsp;<span class="ident" id="4059800">m</span><span class="op" id="4059801">.</span><span class="ident" id="4059802">neg</span>&nbsp;<span class="op" id="4059806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059810">if</span>&nbsp;<span class="ident" id="4059813">y0</span><span class="op" id="4059815">.</span><span class="ident" id="4059816">neg</span>&nbsp;<span class="op" id="4059820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059825">z</span><span class="op" id="4059826">.</span><span class="ident" id="4059827">Add</span><span class="op" id="4059830">(</span><span class="ident" id="4059831">z</span><span class="op" id="4059832">,</span>&nbsp;<span class="ident" id="4059834">intOne</span><span class="op" id="4059840">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059845">m</span><span class="op" id="4059846">.</span><span class="ident" id="4059847">Sub</span><span class="op" id="4059850">(</span><span class="ident" id="4059851">m</span><span class="op" id="4059852">,</span>&nbsp;<span class="ident" id="4059854">y0</span><span class="op" id="4059856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4059860">}</span>&nbsp;<span class="keyword" id="4059862">else</span>&nbsp;<span class="op" id="4059867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059872">z</span><span class="op" id="4059873">.</span><span class="ident" id="4059874">Sub</span><span class="op" id="4059877">(</span><span class="ident" id="4059878">z</span><span class="op" id="4059879">,</span>&nbsp;<span class="ident" id="4059881">intOne</span><span class="op" id="4059887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4059892">m</span><span class="op" id="4059893">.</span><span class="ident" id="4059894">Add</span><span class="op" id="4059897">(</span><span class="ident" id="4059898">m</span><span class="op" id="4059899">,</span>&nbsp;<span class="ident" id="4059901">y0</span><span class="op" id="4059903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4059907">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4059910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4059913">return</span>&nbsp;<span class="ident" id="4059920">z</span><span class="op" id="4059921">,</span>&nbsp;<span class="ident" id="4059923">m</span><br>
<span class="lineno"></span><span class="op" id="4059925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4059928">//&nbsp;Cmp&nbsp;compares&nbsp;x&nbsp;and&nbsp;y&nbsp;and&nbsp;returns:</span><br>
<span class="lineno">300</span><span class="comment" id="4059965">//</span><br>
<span class="lineno"></span><span class="comment" id="4059968">//&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="4059986">//&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="4060004">//&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="4060022">//</span><br>
<span class="lineno">305</span><span class="keyword" id="4060025">func</span>&nbsp;<span class="op" id="4060030">(</span><span class="ident" id="4060031">x</span>&nbsp;<span class="op" id="4060033">*</span><span class="ident" id="4060034">Int</span><span class="op" id="4060037">)</span>&nbsp;<span class="ident" id="4060039">Cmp</span><span class="op" id="4060042">(</span><span class="ident" id="4060043">y</span>&nbsp;<span class="op" id="4060045">*</span><span class="ident" id="4060046">Int</span><span class="op" id="4060049">)</span>&nbsp;<span class="op" id="4060051">(</span><span class="ident" id="4060052">r</span>&nbsp;<span class="builtintype" id="4060054">int</span><span class="op" id="4060057">)</span>&nbsp;<span class="op" id="4060059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4060062">//&nbsp;x&nbsp;cmp&nbsp;y&nbsp;==&nbsp;x&nbsp;cmp&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4060085">//&nbsp;x&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4060105">//&nbsp;(-x)&nbsp;cmp&nbsp;y&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4060125">//&nbsp;(-x)&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;cmp&nbsp;y)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060157">switch</span>&nbsp;<span class="op" id="4060164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060167">case</span>&nbsp;<span class="ident" id="4060172">x</span><span class="op" id="4060173">.</span><span class="ident" id="4060174">neg</span>&nbsp;<span class="op" id="4060178">==</span>&nbsp;<span class="ident" id="4060181">y</span><span class="op" id="4060182">.</span><span class="ident" id="4060183">neg</span><span class="op" id="4060186">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060190">r</span>&nbsp;<span class="op" id="4060192">=</span>&nbsp;<span class="ident" id="4060194">x</span><span class="op" id="4060195">.</span><span class="ident" id="4060196">abs</span><span class="op" id="4060199">.</span><span class="ident" id="4060200">cmp</span><span class="op" id="4060203">(</span><span class="ident" id="4060204">y</span><span class="op" id="4060205">.</span><span class="ident" id="4060206">abs</span><span class="op" id="4060209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060213">if</span>&nbsp;<span class="ident" id="4060216">x</span><span class="op" id="4060217">.</span><span class="ident" id="4060218">neg</span>&nbsp;<span class="op" id="4060222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060227">r</span>&nbsp;<span class="op" id="4060229">=</span>&nbsp;<span class="op" id="4060231">-</span><span class="ident" id="4060232">r</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4060236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060239">case</span>&nbsp;<span class="ident" id="4060244">x</span><span class="op" id="4060245">.</span><span class="ident" id="4060246">neg</span><span class="op" id="4060249">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060253">r</span>&nbsp;<span class="op" id="4060255">=</span>&nbsp;<span class="op" id="4060257">-</span><span class="num" id="4060258">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060261">default</span><span class="op" id="4060268">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060272">r</span>&nbsp;<span class="op" id="4060274">=</span>&nbsp;<span class="num" id="4060276">1</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4060279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060282">return</span><br>
<span class="lineno"></span><span class="op" id="4060289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4060292">func</span>&nbsp;<span class="op" id="4060297">(</span><span class="ident" id="4060298">x</span>&nbsp;<span class="op" id="4060300">*</span><span class="ident" id="4060301">Int</span><span class="op" id="4060304">)</span>&nbsp;<span class="ident" id="4060306">String</span><span class="op" id="4060312">(</span><span class="op" id="4060313">)</span>&nbsp;<span class="builtintype" id="4060315">string</span>&nbsp;<span class="op" id="4060322">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060325">switch</span>&nbsp;<span class="op" id="4060332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060335">case</span>&nbsp;<span class="ident" id="4060340">x</span>&nbsp;<span class="op" id="4060342">==</span>&nbsp;<span class="builtintype" id="4060345">nil</span><span class="op" id="4060348">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060352">return</span>&nbsp;<span class="string" id="4060359">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060368">case</span>&nbsp;<span class="ident" id="4060373">x</span><span class="op" id="4060374">.</span><span class="ident" id="4060375">neg</span><span class="op" id="4060378">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060382">return</span>&nbsp;<span class="string" id="4060389">&#34;-&#34;</span>&nbsp;<span class="op" id="4060393">+</span>&nbsp;<span class="ident" id="4060395">x</span><span class="op" id="4060396">.</span><span class="ident" id="4060397">abs</span><span class="op" id="4060400">.</span><span class="ident" id="4060401">decimalString</span><span class="op" id="4060414">(</span><span class="op" id="4060415">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4060418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060421">return</span>&nbsp;<span class="ident" id="4060428">x</span><span class="op" id="4060429">.</span><span class="ident" id="4060430">abs</span><span class="op" id="4060433">.</span><span class="ident" id="4060434">decimalString</span><span class="op" id="4060447">(</span><span class="op" id="4060448">)</span><br>
<span class="lineno"></span><span class="op" id="4060450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4060453">func</span>&nbsp;<span class="ident" id="4060458">charset</span><span class="op" id="4060465">(</span><span class="ident" id="4060466">ch</span>&nbsp;<span class="builtintype" id="4060469">rune</span><span class="op" id="4060473">)</span>&nbsp;<span class="builtintype" id="4060475">string</span>&nbsp;<span class="op" id="4060482">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060485">switch</span>&nbsp;<span class="ident" id="4060492">ch</span>&nbsp;<span class="op" id="4060495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060498">case</span>&nbsp;<span class="string" id="4060503">&#39;b&#39;</span><span class="op" id="4060506">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060510">return</span>&nbsp;<span class="ident" id="4060517">lowercaseDigits</span><span class="op" id="4060532">[</span><span class="num" id="4060533">0</span><span class="op" id="4060534">:</span><span class="num" id="4060535">2</span><span class="op" id="4060536">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060539">case</span>&nbsp;<span class="string" id="4060544">&#39;o&#39;</span><span class="op" id="4060547">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060551">return</span>&nbsp;<span class="ident" id="4060558">lowercaseDigits</span><span class="op" id="4060573">[</span><span class="num" id="4060574">0</span><span class="op" id="4060575">:</span><span class="num" id="4060576">8</span><span class="op" id="4060577">]</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060580">case</span>&nbsp;<span class="string" id="4060585">&#39;d&#39;</span><span class="op" id="4060588">,</span>&nbsp;<span class="string" id="4060590">&#39;s&#39;</span><span class="op" id="4060593">,</span>&nbsp;<span class="string" id="4060595">&#39;v&#39;</span><span class="op" id="4060598">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060602">return</span>&nbsp;<span class="ident" id="4060609">lowercaseDigits</span><span class="op" id="4060624">[</span><span class="num" id="4060625">0</span><span class="op" id="4060626">:</span><span class="num" id="4060627">10</span><span class="op" id="4060629">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060632">case</span>&nbsp;<span class="string" id="4060637">&#39;x&#39;</span><span class="op" id="4060640">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060644">return</span>&nbsp;<span class="ident" id="4060651">lowercaseDigits</span><span class="op" id="4060666">[</span><span class="num" id="4060667">0</span><span class="op" id="4060668">:</span><span class="num" id="4060669">16</span><span class="op" id="4060671">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060674">case</span>&nbsp;<span class="string" id="4060679">&#39;X&#39;</span><span class="op" id="4060682">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060686">return</span>&nbsp;<span class="ident" id="4060693">uppercaseDigits</span><span class="op" id="4060708">[</span><span class="num" id="4060709">0</span><span class="op" id="4060710">:</span><span class="num" id="4060711">16</span><span class="op" id="4060713">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4060716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060719">return</span>&nbsp;<span class="string" id="4060726">&#34;&#34;</span>&nbsp;<span class="comment" id="4060729">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span><span class="op" id="4060747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="4060750">//&nbsp;write&nbsp;count&nbsp;copies&nbsp;of&nbsp;text&nbsp;to&nbsp;s</span><br>
<span class="lineno"></span><span class="keyword" id="4060785">func</span>&nbsp;<span class="ident" id="4060790">writeMultiple</span><span class="op" id="4060803">(</span><span class="ident" id="4060804">s</span>&nbsp;<span class="ident" id="4060806">fmt</span><span class="op" id="4060809">.</span><span class="ident" id="4060810">State</span><span class="op" id="4060815">,</span>&nbsp;<span class="ident" id="4060817">text</span>&nbsp;<span class="builtintype" id="4060822">string</span><span class="op" id="4060828">,</span>&nbsp;<span class="ident" id="4060830">count</span>&nbsp;<span class="builtintype" id="4060836">int</span><span class="op" id="4060839">)</span>&nbsp;<span class="op" id="4060841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060844">if</span>&nbsp;<span class="builtinfunc" id="4060847">len</span><span class="op" id="4060850">(</span><span class="ident" id="4060851">text</span><span class="op" id="4060855">)</span>&nbsp;<span class="op" id="4060857">&gt;</span>&nbsp;<span class="num" id="4060859">0</span>&nbsp;<span class="op" id="4060861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060865">b</span>&nbsp;<span class="op" id="4060867">:=</span>&nbsp;<span class="op" id="4060870">[</span><span class="op" id="4060871">]</span><span class="builtintype" id="4060872">byte</span><span class="op" id="4060876">(</span><span class="ident" id="4060877">text</span><span class="op" id="4060881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4060885">for</span>&nbsp;<span class="op" id="4060889">;</span>&nbsp;<span class="ident" id="4060891">count</span>&nbsp;<span class="op" id="4060897">&gt;</span>&nbsp;<span class="num" id="4060899">0</span><span class="op" id="4060900">;</span>&nbsp;<span class="ident" id="4060902">count</span><span class="op" id="4060907">--</span>&nbsp;<span class="op" id="4060910">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4060915">s</span><span class="op" id="4060916">.</span><span class="ident" id="4060917">Write</span><span class="op" id="4060922">(</span><span class="ident" id="4060923">b</span><span class="op" id="4060924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4060928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4060931">}</span><br>
<span class="lineno"></span><span class="op" id="4060933">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="4060936">//&nbsp;Format&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Formatter.&nbsp;It&nbsp;accepts</span><br>
<span class="lineno"></span><span class="comment" id="4060997">//&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;</span><br>
<span class="lineno"></span><span class="comment" id="4061058">//&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="comment" id="4061119">//&nbsp;Also&nbsp;supported&nbsp;are&nbsp;the&nbsp;full&nbsp;suite&nbsp;of&nbsp;package&nbsp;fmt&#39;s&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="4061180">//&nbsp;verbs&nbsp;for&nbsp;integral&nbsp;types,&nbsp;including&nbsp;&#39;+&#39;,&nbsp;&#39;-&#39;,&nbsp;and&nbsp;&#39;&nbsp;&#39;</span><br>
<span class="lineno">365</span><span class="comment" id="4061237">//&nbsp;for&nbsp;sign&nbsp;control,&nbsp;&#39;#&#39;&nbsp;for&nbsp;leading&nbsp;zero&nbsp;in&nbsp;octal&nbsp;and&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="4061296">//&nbsp;hexadecimal,&nbsp;a&nbsp;leading&nbsp;&#34;0x&#34;&nbsp;or&nbsp;&#34;0X&#34;&nbsp;for&nbsp;&#34;%#x&#34;&nbsp;and&nbsp;&#34;%#X&#34;</span><br>
<span class="lineno"></span><span class="comment" id="4061355">//&nbsp;respectively,&nbsp;specification&nbsp;of&nbsp;minimum&nbsp;digits&nbsp;precision,</span><br>
<span class="lineno"></span><span class="comment" id="4061415">//&nbsp;output&nbsp;field&nbsp;width,&nbsp;space&nbsp;or&nbsp;zero&nbsp;padding,&nbsp;and&nbsp;left&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="4061473">//&nbsp;right&nbsp;justification.</span><br>
<span class="lineno">370</span><span class="comment" id="4061497">//</span><br>
<span class="lineno"></span><span class="keyword" id="4061500">func</span>&nbsp;<span class="op" id="4061505">(</span><span class="ident" id="4061506">x</span>&nbsp;<span class="op" id="4061508">*</span><span class="ident" id="4061509">Int</span><span class="op" id="4061512">)</span>&nbsp;<span class="ident" id="4061514">Format</span><span class="op" id="4061520">(</span><span class="ident" id="4061521">s</span>&nbsp;<span class="ident" id="4061523">fmt</span><span class="op" id="4061526">.</span><span class="ident" id="4061527">State</span><span class="op" id="4061532">,</span>&nbsp;<span class="ident" id="4061534">ch</span>&nbsp;<span class="builtintype" id="4061537">rune</span><span class="op" id="4061541">)</span>&nbsp;<span class="op" id="4061543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4061546">cs</span>&nbsp;<span class="op" id="4061549">:=</span>&nbsp;<span class="ident" id="4061552">charset</span><span class="op" id="4061559">(</span><span class="ident" id="4061560">ch</span><span class="op" id="4061562">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4061566">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4061584">switch</span>&nbsp;<span class="op" id="4061591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4061594">case</span>&nbsp;<span class="ident" id="4061599">cs</span>&nbsp;<span class="op" id="4061602">==</span>&nbsp;<span class="string" id="4061605">&#34;&#34;</span><span class="op" id="4061607">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4061611">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4061631">fmt</span><span class="op" id="4061634">.</span><span class="ident" id="4061635">Fprintf</span><span class="op" id="4061642">(</span><span class="ident" id="4061643">s</span><span class="op" id="4061644">,</span>&nbsp;<span class="string" id="4061646">&#34;%%!%c(big.Int=%s)&#34;</span><span class="op" id="4061665">,</span>&nbsp;<span class="ident" id="4061667">ch</span><span class="op" id="4061669">,</span>&nbsp;<span class="ident" id="4061671">x</span><span class="op" id="4061672">.</span><span class="ident" id="4061673">String</span><span class="op" id="4061679">(</span><span class="op" id="4061680">)</span><span class="op" id="4061681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4061685">return</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4061693">case</span>&nbsp;<span class="ident" id="4061698">x</span>&nbsp;<span class="op" id="4061700">==</span>&nbsp;<span class="builtintype" id="4061703">nil</span><span class="op" id="4061706">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4061710">fmt</span><span class="op" id="4061713">.</span><span class="ident" id="4061714">Fprint</span><span class="op" id="4061720">(</span><span class="ident" id="4061721">s</span><span class="op" id="4061722">,</span>&nbsp;<span class="string" id="4061724">&#34;&lt;nil&gt;&#34;</span><span class="op" id="4061731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4061735">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4061743">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4061747">//&nbsp;determine&nbsp;sign&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4061776">sign</span>&nbsp;<span class="op" id="4061781">:=</span>&nbsp;<span class="string" id="4061784">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4061788">switch</span>&nbsp;<span class="op" id="4061795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4061798">case</span>&nbsp;<span class="ident" id="4061803">x</span><span class="op" id="4061804">.</span><span class="ident" id="4061805">neg</span><span class="op" id="4061808">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4061812">sign</span>&nbsp;<span class="op" id="4061817">=</span>&nbsp;<span class="string" id="4061819">&#34;-&#34;</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4061824">case</span>&nbsp;<span class="ident" id="4061829">s</span><span class="op" id="4061830">.</span><span class="ident" id="4061831">Flag</span><span class="op" id="4061835">(</span><span class="string" id="4061836">&#39;+&#39;</span><span class="op" id="4061839">)</span><span class="op" id="4061840">:</span>&nbsp;<span class="comment" id="4061842">//&nbsp;supersedes&nbsp;&#39;&nbsp;&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4061882">sign</span>&nbsp;<span class="op" id="4061887">=</span>&nbsp;<span class="string" id="4061889">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4061894">case</span>&nbsp;<span class="ident" id="4061899">s</span><span class="op" id="4061900">.</span><span class="ident" id="4061901">Flag</span><span class="op" id="4061905">(</span><span class="string" id="4061906">&#39;&nbsp;&#39;</span><span class="op" id="4061909">)</span><span class="op" id="4061910">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4061914">sign</span>&nbsp;<span class="op" id="4061919">=</span>&nbsp;<span class="string" id="4061921">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4061926">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4061930">//&nbsp;determine&nbsp;prefix&nbsp;characters&nbsp;for&nbsp;indicating&nbsp;output&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4061989">prefix</span>&nbsp;<span class="op" id="4061996">:=</span>&nbsp;<span class="string" id="4061999">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4062003">if</span>&nbsp;<span class="ident" id="4062006">s</span><span class="op" id="4062007">.</span><span class="ident" id="4062008">Flag</span><span class="op" id="4062012">(</span><span class="string" id="4062013">&#39;#&#39;</span><span class="op" id="4062016">)</span>&nbsp;<span class="op" id="4062018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4062022">switch</span>&nbsp;<span class="ident" id="4062029">ch</span>&nbsp;<span class="op" id="4062032">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4062036">case</span>&nbsp;<span class="string" id="4062041">&#39;o&#39;</span><span class="op" id="4062044">:</span>&nbsp;<span class="comment" id="4062046">//&nbsp;octal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4062058">prefix</span>&nbsp;<span class="op" id="4062065">=</span>&nbsp;<span class="string" id="4062067">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4062073">case</span>&nbsp;<span class="string" id="4062078">&#39;x&#39;</span><span class="op" id="4062081">:</span>&nbsp;<span class="comment" id="4062083">//&nbsp;hexadecimal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4062101">prefix</span>&nbsp;<span class="op" id="4062108">=</span>&nbsp;<span class="string" id="4062110">&#34;0x&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4062117">case</span>&nbsp;<span class="string" id="4062122">&#39;X&#39;</span><span class="op" id="4062125">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4062130">prefix</span>&nbsp;<span class="op" id="4062137">=</span>&nbsp;<span class="string" id="4062139">&#34;0X&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4062146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4062149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4062153">//&nbsp;determine&nbsp;digits&nbsp;with&nbsp;base&nbsp;set&nbsp;by&nbsp;len(cs)&nbsp;and&nbsp;digit&nbsp;characters&nbsp;from&nbsp;cs</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4062228">digits</span>&nbsp;<span class="op" id="4062235">:=</span>&nbsp;<span class="ident" id="4062238">x</span><span class="op" id="4062239">.</span><span class="ident" id="4062240">abs</span><span class="op" id="4062243">.</span><span class="builtintype" id="4062244">string</span><span class="op" id="4062250">(</span><span class="ident" id="4062251">cs</span><span class="op" id="4062253">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4062257">//&nbsp;number&nbsp;of&nbsp;characters&nbsp;for&nbsp;the&nbsp;three&nbsp;classes&nbsp;of&nbsp;number&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4062322">var</span>&nbsp;<span class="ident" id="4062326">left</span>&nbsp;<span class="builtintype" id="4062331">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4062337">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;left&nbsp;of&nbsp;digits&nbsp;for&nbsp;right&nbsp;justification&nbsp;(&#34;%8d&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4062408">var</span>&nbsp;<span class="ident" id="4062412">zeroes</span>&nbsp;<span class="builtintype" id="4062419">int</span>&nbsp;<span class="comment" id="4062423">//&nbsp;zero&nbsp;characters&nbsp;(actually&nbsp;cs[0])&nbsp;as&nbsp;left-most&nbsp;digits&nbsp;(&#34;%.8d&#34;)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4062489">var</span>&nbsp;<span class="ident" id="4062493">right</span>&nbsp;<span class="builtintype" id="4062499">int</span>&nbsp;&nbsp;<span class="comment" id="4062504">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;right&nbsp;of&nbsp;digits&nbsp;for&nbsp;left&nbsp;justification&nbsp;(&#34;%-8d&#34;)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4062577">//&nbsp;determine&nbsp;number&nbsp;padding&nbsp;from&nbsp;precision:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;digits&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4062659">precision</span><span class="op" id="4062668">,</span>&nbsp;<span class="ident" id="4062670">precisionSet</span>&nbsp;<span class="op" id="4062683">:=</span>&nbsp;<span class="ident" id="4062686">s</span><span class="op" id="4062687">.</span><span class="ident" id="4062688">Precision</span><span class="op" id="4062697">(</span><span class="op" id="4062698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4062701">if</span>&nbsp;<span class="ident" id="4062704">precisionSet</span>&nbsp;<span class="op" id="4062717">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4062721">switch</span>&nbsp;<span class="op" id="4062728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4062732">case</span>&nbsp;<span class="builtinfunc" id="4062737">len</span><span class="op" id="4062740">(</span><span class="ident" id="4062741">digits</span><span class="op" id="4062747">)</span>&nbsp;<span class="op" id="4062749">&lt;</span>&nbsp;<span class="ident" id="4062751">precision</span><span class="op" id="4062760">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4062765">zeroes</span>&nbsp;<span class="op" id="4062772">=</span>&nbsp;<span class="ident" id="4062774">precision</span>&nbsp;<span class="op" id="4062784">-</span>&nbsp;<span class="builtinfunc" id="4062786">len</span><span class="op" id="4062789">(</span><span class="ident" id="4062790">digits</span><span class="op" id="4062796">)</span>&nbsp;<span class="comment" id="4062798">//&nbsp;count&nbsp;of&nbsp;zero&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4062825">case</span>&nbsp;<span class="ident" id="4062830">digits</span>&nbsp;<span class="op" id="4062837">==</span>&nbsp;<span class="string" id="4062840">&#34;0&#34;</span>&nbsp;<span class="op" id="4062844">&amp;&amp;</span>&nbsp;<span class="ident" id="4062847">precision</span>&nbsp;<span class="op" id="4062857">==</span>&nbsp;<span class="num" id="4062860">0</span><span class="op" id="4062861">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4062866">return</span>&nbsp;<span class="comment" id="4062873">//&nbsp;print&nbsp;nothing&nbsp;if&nbsp;zero&nbsp;value&nbsp;(x&nbsp;==&nbsp;0)&nbsp;and&nbsp;zero&nbsp;precision&nbsp;(&#34;.&#34;&nbsp;or&nbsp;&#34;.0&#34;)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4062948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4062951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4062955">//&nbsp;determine&nbsp;field&nbsp;pad&nbsp;from&nbsp;width:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;characters&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4063032">length</span>&nbsp;<span class="op" id="4063039">:=</span>&nbsp;<span class="builtinfunc" id="4063042">len</span><span class="op" id="4063045">(</span><span class="ident" id="4063046">sign</span><span class="op" id="4063050">)</span>&nbsp;<span class="op" id="4063052">+</span>&nbsp;<span class="builtinfunc" id="4063054">len</span><span class="op" id="4063057">(</span><span class="ident" id="4063058">prefix</span><span class="op" id="4063064">)</span>&nbsp;<span class="op" id="4063066">+</span>&nbsp;<span class="ident" id="4063068">zeroes</span>&nbsp;<span class="op" id="4063075">+</span>&nbsp;<span class="builtinfunc" id="4063077">len</span><span class="op" id="4063080">(</span><span class="ident" id="4063081">digits</span><span class="op" id="4063087">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4063090">if</span>&nbsp;<span class="ident" id="4063093">width</span><span class="op" id="4063098">,</span>&nbsp;<span class="ident" id="4063100">widthSet</span>&nbsp;<span class="op" id="4063109">:=</span>&nbsp;<span class="ident" id="4063112">s</span><span class="op" id="4063113">.</span><span class="ident" id="4063114">Width</span><span class="op" id="4063119">(</span><span class="op" id="4063120">)</span><span class="op" id="4063121">;</span>&nbsp;<span class="ident" id="4063123">widthSet</span>&nbsp;<span class="op" id="4063132">&amp;&amp;</span>&nbsp;<span class="ident" id="4063135">length</span>&nbsp;<span class="op" id="4063142">&lt;</span>&nbsp;<span class="ident" id="4063144">width</span>&nbsp;<span class="op" id="4063150">{</span>&nbsp;<span class="comment" id="4063152">//&nbsp;pad&nbsp;as&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4063174">switch</span>&nbsp;<span class="ident" id="4063181">d</span>&nbsp;<span class="op" id="4063183">:=</span>&nbsp;<span class="ident" id="4063186">width</span>&nbsp;<span class="op" id="4063192">-</span>&nbsp;<span class="ident" id="4063194">length</span><span class="op" id="4063200">;</span>&nbsp;<span class="op" id="4063202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4063206">case</span>&nbsp;<span class="ident" id="4063211">s</span><span class="op" id="4063212">.</span><span class="ident" id="4063213">Flag</span><span class="op" id="4063217">(</span><span class="string" id="4063218">&#39;-&#39;</span><span class="op" id="4063221">)</span><span class="op" id="4063222">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4063227">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;right&nbsp;with&nbsp;spaces;&nbsp;supersedes&nbsp;&#39;0&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4063298">right</span>&nbsp;<span class="op" id="4063304">=</span>&nbsp;<span class="ident" id="4063306">d</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4063310">case</span>&nbsp;<span class="ident" id="4063315">s</span><span class="op" id="4063316">.</span><span class="ident" id="4063317">Flag</span><span class="op" id="4063321">(</span><span class="string" id="4063322">&#39;0&#39;</span><span class="op" id="4063325">)</span>&nbsp;<span class="op" id="4063327">&amp;&amp;</span>&nbsp;<span class="op" id="4063330">!</span><span class="ident" id="4063331">precisionSet</span><span class="op" id="4063343">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4063348">//&nbsp;pad&nbsp;with&nbsp;zeroes&nbsp;unless&nbsp;precision&nbsp;also&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4063402">zeroes</span>&nbsp;<span class="op" id="4063409">=</span>&nbsp;<span class="ident" id="4063411">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4063415">default</span><span class="op" id="4063422">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4063427">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;left&nbsp;with&nbsp;spaces</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4063461">left</span>&nbsp;<span class="op" id="4063466">=</span>&nbsp;<span class="ident" id="4063468">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4063472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4063475">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4063479">//&nbsp;print&nbsp;number&nbsp;as&nbsp;[left&nbsp;pad][sign][prefix][zero&nbsp;pad][digits][right&nbsp;pad]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4063553">writeMultiple</span><span class="op" id="4063566">(</span><span class="ident" id="4063567">s</span><span class="op" id="4063568">,</span>&nbsp;<span class="string" id="4063570">&#34;&nbsp;&#34;</span><span class="op" id="4063573">,</span>&nbsp;<span class="ident" id="4063575">left</span><span class="op" id="4063579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4063582">writeMultiple</span><span class="op" id="4063595">(</span><span class="ident" id="4063596">s</span><span class="op" id="4063597">,</span>&nbsp;<span class="ident" id="4063599">sign</span><span class="op" id="4063603">,</span>&nbsp;<span class="num" id="4063605">1</span><span class="op" id="4063606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4063609">writeMultiple</span><span class="op" id="4063622">(</span><span class="ident" id="4063623">s</span><span class="op" id="4063624">,</span>&nbsp;<span class="ident" id="4063626">prefix</span><span class="op" id="4063632">,</span>&nbsp;<span class="num" id="4063634">1</span><span class="op" id="4063635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4063638">writeMultiple</span><span class="op" id="4063651">(</span><span class="ident" id="4063652">s</span><span class="op" id="4063653">,</span>&nbsp;<span class="string" id="4063655">&#34;0&#34;</span><span class="op" id="4063658">,</span>&nbsp;<span class="ident" id="4063660">zeroes</span><span class="op" id="4063666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4063669">writeMultiple</span><span class="op" id="4063682">(</span><span class="ident" id="4063683">s</span><span class="op" id="4063684">,</span>&nbsp;<span class="ident" id="4063686">digits</span><span class="op" id="4063692">,</span>&nbsp;<span class="num" id="4063694">1</span><span class="op" id="4063695">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4063698">writeMultiple</span><span class="op" id="4063711">(</span><span class="ident" id="4063712">s</span><span class="op" id="4063713">,</span>&nbsp;<span class="string" id="4063715">&#34;&nbsp;&#34;</span><span class="op" id="4063718">,</span>&nbsp;<span class="ident" id="4063720">right</span><span class="op" id="4063725">)</span><br>
<span class="lineno"></span><span class="op" id="4063727">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4063730">//&nbsp;scan&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;integer&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;longest&nbsp;possible&nbsp;prefix</span><br>
<span class="lineno"></span><span class="comment" id="4063811">//&nbsp;read&nbsp;from&nbsp;r&nbsp;representing&nbsp;a&nbsp;signed&nbsp;integer&nbsp;number&nbsp;in&nbsp;a&nbsp;given&nbsp;conversion&nbsp;base.</span><br>
<span class="lineno">455</span><span class="comment" id="4063891">//&nbsp;It&nbsp;returns&nbsp;z,&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base&nbsp;used,&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.&nbsp;In&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4063970">//&nbsp;error&nbsp;case,&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="4064048">//&nbsp;syntax&nbsp;follows&nbsp;the&nbsp;syntax&nbsp;of&nbsp;integer&nbsp;literals&nbsp;in&nbsp;Go.</span><br>
<span class="lineno"></span><span class="comment" id="4064104">//</span><br>
<span class="lineno"></span><span class="comment" id="4064107">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno">460</span><span class="comment" id="4064185">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="4064263">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4064339">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="4064417">//</span><br>
<span class="lineno"></span><span class="keyword" id="4064420">func</span>&nbsp;<span class="op" id="4064425">(</span><span class="ident" id="4064426">z</span>&nbsp;<span class="op" id="4064428">*</span><span class="ident" id="4064429">Int</span><span class="op" id="4064432">)</span>&nbsp;<span class="ident" id="4064434">scan</span><span class="op" id="4064438">(</span><span class="ident" id="4064439">r</span>&nbsp;<span class="ident" id="4064441">io</span><span class="op" id="4064443">.</span><span class="ident" id="4064444">RuneScanner</span><span class="op" id="4064455">,</span>&nbsp;<span class="ident" id="4064457">base</span>&nbsp;<span class="builtintype" id="4064462">int</span><span class="op" id="4064465">)</span>&nbsp;<span class="op" id="4064467">(</span><span class="op" id="4064468">*</span><span class="ident" id="4064469">Int</span><span class="op" id="4064472">,</span>&nbsp;<span class="builtintype" id="4064474">int</span><span class="op" id="4064477">,</span>&nbsp;<span class="builtintype" id="4064479">error</span><span class="op" id="4064484">)</span>&nbsp;<span class="op" id="4064486">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4064489">//&nbsp;determine&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4064508">ch</span><span class="op" id="4064510">,</span>&nbsp;<span class="ident" id="4064512">_</span><span class="op" id="4064513">,</span>&nbsp;<span class="ident" id="4064515">err</span>&nbsp;<span class="op" id="4064519">:=</span>&nbsp;<span class="ident" id="4064522">r</span><span class="op" id="4064523">.</span><span class="ident" id="4064524">ReadRune</span><span class="op" id="4064532">(</span><span class="op" id="4064533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4064536">if</span>&nbsp;<span class="ident" id="4064539">err</span>&nbsp;<span class="op" id="4064543">!=</span>&nbsp;<span class="builtintype" id="4064546">nil</span>&nbsp;<span class="op" id="4064550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4064554">return</span>&nbsp;<span class="builtintype" id="4064561">nil</span><span class="op" id="4064564">,</span>&nbsp;<span class="num" id="4064566">0</span><span class="op" id="4064567">,</span>&nbsp;<span class="ident" id="4064569">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4064574">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4064577">neg</span>&nbsp;<span class="op" id="4064581">:=</span>&nbsp;<span class="builtintype" id="4064584">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4064591">switch</span>&nbsp;<span class="ident" id="4064598">ch</span>&nbsp;<span class="op" id="4064601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4064604">case</span>&nbsp;<span class="string" id="4064609">&#39;-&#39;</span><span class="op" id="4064612">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4064616">neg</span>&nbsp;<span class="op" id="4064620">=</span>&nbsp;<span class="builtintype" id="4064622">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4064628">case</span>&nbsp;<span class="string" id="4064633">&#39;+&#39;</span><span class="op" id="4064636">:</span>&nbsp;<span class="comment" id="4064638">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4064656">default</span><span class="op" id="4064663">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4064667">r</span><span class="op" id="4064668">.</span><span class="ident" id="4064669">UnreadRune</span><span class="op" id="4064679">(</span><span class="op" id="4064680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4064683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4064687">//&nbsp;determine&nbsp;mantissa</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4064710">z</span><span class="op" id="4064711">.</span><span class="ident" id="4064712">abs</span><span class="op" id="4064715">,</span>&nbsp;<span class="ident" id="4064717">base</span><span class="op" id="4064721">,</span>&nbsp;<span class="ident" id="4064723">err</span>&nbsp;<span class="op" id="4064727">=</span>&nbsp;<span class="ident" id="4064729">z</span><span class="op" id="4064730">.</span><span class="ident" id="4064731">abs</span><span class="op" id="4064734">.</span><span class="ident" id="4064735">scan</span><span class="op" id="4064739">(</span><span class="ident" id="4064740">r</span><span class="op" id="4064741">,</span>&nbsp;<span class="ident" id="4064743">base</span><span class="op" id="4064747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4064750">if</span>&nbsp;<span class="ident" id="4064753">err</span>&nbsp;<span class="op" id="4064757">!=</span>&nbsp;<span class="builtintype" id="4064760">nil</span>&nbsp;<span class="op" id="4064764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4064768">return</span>&nbsp;<span class="builtintype" id="4064775">nil</span><span class="op" id="4064778">,</span>&nbsp;<span class="ident" id="4064780">base</span><span class="op" id="4064784">,</span>&nbsp;<span class="ident" id="4064786">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4064791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4064794">z</span><span class="op" id="4064795">.</span><span class="ident" id="4064796">neg</span>&nbsp;<span class="op" id="4064800">=</span>&nbsp;<span class="builtinfunc" id="4064802">len</span><span class="op" id="4064805">(</span><span class="ident" id="4064806">z</span><span class="op" id="4064807">.</span><span class="ident" id="4064808">abs</span><span class="op" id="4064811">)</span>&nbsp;<span class="op" id="4064813">&gt;</span>&nbsp;<span class="num" id="4064815">0</span>&nbsp;<span class="op" id="4064817">&amp;&amp;</span>&nbsp;<span class="ident" id="4064820">neg</span>&nbsp;<span class="comment" id="4064824">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4064843">return</span>&nbsp;<span class="ident" id="4064850">z</span><span class="op" id="4064851">,</span>&nbsp;<span class="ident" id="4064853">base</span><span class="op" id="4064857">,</span>&nbsp;<span class="builtintype" id="4064859">nil</span><br>
<span class="lineno"></span><span class="op" id="4064863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4064866">//&nbsp;Scan&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Scanner;&nbsp;it&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of</span><br>
<span class="lineno">490</span><span class="comment" id="4064938">//&nbsp;the&nbsp;scanned&nbsp;number.&nbsp;It&nbsp;accepts&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),</span><br>
<span class="lineno"></span><span class="comment" id="4065011">//&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="keyword" id="4065091">func</span>&nbsp;<span class="op" id="4065096">(</span><span class="ident" id="4065097">z</span>&nbsp;<span class="op" id="4065099">*</span><span class="ident" id="4065100">Int</span><span class="op" id="4065103">)</span>&nbsp;<span class="ident" id="4065105">Scan</span><span class="op" id="4065109">(</span><span class="ident" id="4065110">s</span>&nbsp;<span class="ident" id="4065112">fmt</span><span class="op" id="4065115">.</span><span class="ident" id="4065116">ScanState</span><span class="op" id="4065125">,</span>&nbsp;<span class="ident" id="4065127">ch</span>&nbsp;<span class="builtintype" id="4065130">rune</span><span class="op" id="4065134">)</span>&nbsp;<span class="builtintype" id="4065136">error</span>&nbsp;<span class="op" id="4065142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4065145">s</span><span class="op" id="4065146">.</span><span class="ident" id="4065147">SkipSpace</span><span class="op" id="4065156">(</span><span class="op" id="4065157">)</span>&nbsp;<span class="comment" id="4065159">//&nbsp;skip&nbsp;leading&nbsp;space&nbsp;characters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4065193">base</span>&nbsp;<span class="op" id="4065198">:=</span>&nbsp;<span class="num" id="4065201">0</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065204">switch</span>&nbsp;<span class="ident" id="4065211">ch</span>&nbsp;<span class="op" id="4065214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065217">case</span>&nbsp;<span class="string" id="4065222">&#39;b&#39;</span><span class="op" id="4065225">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4065229">base</span>&nbsp;<span class="op" id="4065234">=</span>&nbsp;<span class="num" id="4065236">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065239">case</span>&nbsp;<span class="string" id="4065244">&#39;o&#39;</span><span class="op" id="4065247">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4065251">base</span>&nbsp;<span class="op" id="4065256">=</span>&nbsp;<span class="num" id="4065258">8</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065261">case</span>&nbsp;<span class="string" id="4065266">&#39;d&#39;</span><span class="op" id="4065269">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4065273">base</span>&nbsp;<span class="op" id="4065278">=</span>&nbsp;<span class="num" id="4065280">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065284">case</span>&nbsp;<span class="string" id="4065289">&#39;x&#39;</span><span class="op" id="4065292">,</span>&nbsp;<span class="string" id="4065294">&#39;X&#39;</span><span class="op" id="4065297">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4065301">base</span>&nbsp;<span class="op" id="4065306">=</span>&nbsp;<span class="num" id="4065308">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065312">case</span>&nbsp;<span class="string" id="4065317">&#39;s&#39;</span><span class="op" id="4065320">,</span>&nbsp;<span class="string" id="4065322">&#39;v&#39;</span><span class="op" id="4065325">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4065329">//&nbsp;let&nbsp;scan&nbsp;determine&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065361">default</span><span class="op" id="4065368">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065372">return</span>&nbsp;<span class="ident" id="4065379">errors</span><span class="op" id="4065385">.</span><span class="ident" id="4065386">New</span><span class="op" id="4065389">(</span><span class="string" id="4065390">&#34;Int.Scan:&nbsp;invalid&nbsp;verb&#34;</span><span class="op" id="4065414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4065417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4065420">_</span><span class="op" id="4065421">,</span>&nbsp;<span class="ident" id="4065423">_</span><span class="op" id="4065424">,</span>&nbsp;<span class="ident" id="4065426">err</span>&nbsp;<span class="op" id="4065430">:=</span>&nbsp;<span class="ident" id="4065433">z</span><span class="op" id="4065434">.</span><span class="ident" id="4065435">scan</span><span class="op" id="4065439">(</span><span class="ident" id="4065440">s</span><span class="op" id="4065441">,</span>&nbsp;<span class="ident" id="4065443">base</span><span class="op" id="4065447">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065450">return</span>&nbsp;<span class="ident" id="4065457">err</span><br>
<span class="lineno"></span><span class="op" id="4065461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4065464">//&nbsp;low32&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;32&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4065517">func</span>&nbsp;<span class="ident" id="4065522">low32</span><span class="op" id="4065527">(</span><span class="ident" id="4065528">z</span>&nbsp;<span class="ident" id="4065530">nat</span><span class="op" id="4065533">)</span>&nbsp;<span class="builtintype" id="4065535">uint32</span>&nbsp;<span class="op" id="4065542">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065545">if</span>&nbsp;<span class="builtinfunc" id="4065548">len</span><span class="op" id="4065551">(</span><span class="ident" id="4065552">z</span><span class="op" id="4065553">)</span>&nbsp;<span class="op" id="4065555">==</span>&nbsp;<span class="num" id="4065558">0</span>&nbsp;<span class="op" id="4065560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065564">return</span>&nbsp;<span class="num" id="4065571">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4065574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065577">return</span>&nbsp;<span class="builtintype" id="4065584">uint32</span><span class="op" id="4065590">(</span><span class="ident" id="4065591">z</span><span class="op" id="4065592">[</span><span class="num" id="4065593">0</span><span class="op" id="4065594">]</span><span class="op" id="4065595">)</span><br>
<span class="lineno"></span><span class="op" id="4065597">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="comment" id="4065600">//&nbsp;low64&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;64&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4065653">func</span>&nbsp;<span class="ident" id="4065658">low64</span><span class="op" id="4065663">(</span><span class="ident" id="4065664">z</span>&nbsp;<span class="ident" id="4065666">nat</span><span class="op" id="4065669">)</span>&nbsp;<span class="builtintype" id="4065671">uint64</span>&nbsp;<span class="op" id="4065678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065681">if</span>&nbsp;<span class="builtinfunc" id="4065684">len</span><span class="op" id="4065687">(</span><span class="ident" id="4065688">z</span><span class="op" id="4065689">)</span>&nbsp;<span class="op" id="4065691">==</span>&nbsp;<span class="num" id="4065694">0</span>&nbsp;<span class="op" id="4065696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065700">return</span>&nbsp;<span class="num" id="4065707">0</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4065710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4065713">v</span>&nbsp;<span class="op" id="4065715">:=</span>&nbsp;<span class="builtintype" id="4065718">uint64</span><span class="op" id="4065724">(</span><span class="ident" id="4065725">z</span><span class="op" id="4065726">[</span><span class="num" id="4065727">0</span><span class="op" id="4065728">]</span><span class="op" id="4065729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065732">if</span>&nbsp;<span class="ident" id="4065735">_W</span>&nbsp;<span class="op" id="4065738">==</span>&nbsp;<span class="num" id="4065741">32</span>&nbsp;<span class="op" id="4065744">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="4065747">len</span><span class="op" id="4065750">(</span><span class="ident" id="4065751">z</span><span class="op" id="4065752">)</span>&nbsp;<span class="op" id="4065754">&gt;</span>&nbsp;<span class="num" id="4065756">1</span>&nbsp;<span class="op" id="4065758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4065762">v</span>&nbsp;<span class="op" id="4065764">|=</span>&nbsp;<span class="builtintype" id="4065767">uint64</span><span class="op" id="4065773">(</span><span class="ident" id="4065774">z</span><span class="op" id="4065775">[</span><span class="num" id="4065776">1</span><span class="op" id="4065777">]</span><span class="op" id="4065778">)</span>&nbsp;<span class="op" id="4065780">&lt;&lt;</span>&nbsp;<span class="num" id="4065783">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4065787">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065790">return</span>&nbsp;<span class="ident" id="4065797">v</span><br>
<span class="lineno"></span><span class="op" id="4065799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4065802">//&nbsp;Int64&nbsp;returns&nbsp;the&nbsp;int64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="4065850">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;an&nbsp;int64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">535</span><span class="keyword" id="4065918">func</span>&nbsp;<span class="op" id="4065923">(</span><span class="ident" id="4065924">x</span>&nbsp;<span class="op" id="4065926">*</span><span class="ident" id="4065927">Int</span><span class="op" id="4065930">)</span>&nbsp;<span class="ident" id="4065932">Int64</span><span class="op" id="4065937">(</span><span class="op" id="4065938">)</span>&nbsp;<span class="builtintype" id="4065940">int64</span>&nbsp;<span class="op" id="4065946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4065949">v</span>&nbsp;<span class="op" id="4065951">:=</span>&nbsp;<span class="builtintype" id="4065954">int64</span><span class="op" id="4065959">(</span><span class="ident" id="4065960">low64</span><span class="op" id="4065965">(</span><span class="ident" id="4065966">x</span><span class="op" id="4065967">.</span><span class="ident" id="4065968">abs</span><span class="op" id="4065971">)</span><span class="op" id="4065972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065975">if</span>&nbsp;<span class="ident" id="4065978">x</span><span class="op" id="4065979">.</span><span class="ident" id="4065980">neg</span>&nbsp;<span class="op" id="4065984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4065988">v</span>&nbsp;<span class="op" id="4065990">=</span>&nbsp;<span class="op" id="4065992">-</span><span class="ident" id="4065993">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4065996">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4065999">return</span>&nbsp;<span class="ident" id="4066006">v</span><br>
<span class="lineno"></span><span class="op" id="4066008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4066011">//&nbsp;Uint64&nbsp;returns&nbsp;the&nbsp;uint64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="4066061">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;a&nbsp;uint64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">545</span><span class="keyword" id="4066129">func</span>&nbsp;<span class="op" id="4066134">(</span><span class="ident" id="4066135">x</span>&nbsp;<span class="op" id="4066137">*</span><span class="ident" id="4066138">Int</span><span class="op" id="4066141">)</span>&nbsp;<span class="ident" id="4066143">Uint64</span><span class="op" id="4066149">(</span><span class="op" id="4066150">)</span>&nbsp;<span class="builtintype" id="4066152">uint64</span>&nbsp;<span class="op" id="4066159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4066162">return</span>&nbsp;<span class="ident" id="4066169">low64</span><span class="op" id="4066174">(</span><span class="ident" id="4066175">x</span><span class="op" id="4066176">.</span><span class="ident" id="4066177">abs</span><span class="op" id="4066180">)</span><br>
<span class="lineno"></span><span class="op" id="4066182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4066185">//&nbsp;SetString&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of&nbsp;s,&nbsp;interpreted&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno">550</span><span class="comment" id="4066255">//&nbsp;and&nbsp;returns&nbsp;z&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;success.&nbsp;If&nbsp;SetString&nbsp;fails,</span><br>
<span class="lineno"></span><span class="comment" id="4066326">//&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="4066388">//</span><br>
<span class="lineno"></span><span class="comment" id="4066391">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span><span class="comment" id="4066469">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno">555</span><span class="comment" id="4066547">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4066623">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="4066701">//</span><br>
<span class="lineno"></span><span class="keyword" id="4066704">func</span>&nbsp;<span class="op" id="4066709">(</span><span class="ident" id="4066710">z</span>&nbsp;<span class="op" id="4066712">*</span><span class="ident" id="4066713">Int</span><span class="op" id="4066716">)</span>&nbsp;<span class="ident" id="4066718">SetString</span><span class="op" id="4066727">(</span><span class="ident" id="4066728">s</span>&nbsp;<span class="builtintype" id="4066730">string</span><span class="op" id="4066736">,</span>&nbsp;<span class="ident" id="4066738">base</span>&nbsp;<span class="builtintype" id="4066743">int</span><span class="op" id="4066746">)</span>&nbsp;<span class="op" id="4066748">(</span><span class="op" id="4066749">*</span><span class="ident" id="4066750">Int</span><span class="op" id="4066753">,</span>&nbsp;<span class="builtintype" id="4066755">bool</span><span class="op" id="4066759">)</span>&nbsp;<span class="op" id="4066761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4066764">r</span>&nbsp;<span class="op" id="4066766">:=</span>&nbsp;<span class="ident" id="4066769">strings</span><span class="op" id="4066776">.</span><span class="ident" id="4066777">NewReader</span><span class="op" id="4066786">(</span><span class="ident" id="4066787">s</span><span class="op" id="4066788">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4066791">_</span><span class="op" id="4066792">,</span>&nbsp;<span class="ident" id="4066794">_</span><span class="op" id="4066795">,</span>&nbsp;<span class="ident" id="4066797">err</span>&nbsp;<span class="op" id="4066801">:=</span>&nbsp;<span class="ident" id="4066804">z</span><span class="op" id="4066805">.</span><span class="ident" id="4066806">scan</span><span class="op" id="4066810">(</span><span class="ident" id="4066811">r</span><span class="op" id="4066812">,</span>&nbsp;<span class="ident" id="4066814">base</span><span class="op" id="4066818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4066821">if</span>&nbsp;<span class="ident" id="4066824">err</span>&nbsp;<span class="op" id="4066828">!=</span>&nbsp;<span class="builtintype" id="4066831">nil</span>&nbsp;<span class="op" id="4066835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4066839">return</span>&nbsp;<span class="builtintype" id="4066846">nil</span><span class="op" id="4066849">,</span>&nbsp;<span class="builtintype" id="4066851">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4066858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4066861">_</span><span class="op" id="4066862">,</span>&nbsp;<span class="ident" id="4066864">_</span><span class="op" id="4066865">,</span>&nbsp;<span class="ident" id="4066867">err</span>&nbsp;<span class="op" id="4066871">=</span>&nbsp;<span class="ident" id="4066873">r</span><span class="op" id="4066874">.</span><span class="ident" id="4066875">ReadRune</span><span class="op" id="4066883">(</span><span class="op" id="4066884">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4066887">if</span>&nbsp;<span class="ident" id="4066890">err</span>&nbsp;<span class="op" id="4066894">!=</span>&nbsp;<span class="ident" id="4066897">io</span><span class="op" id="4066899">.</span><span class="ident" id="4066900">EOF</span>&nbsp;<span class="op" id="4066904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4066908">return</span>&nbsp;<span class="builtintype" id="4066915">nil</span><span class="op" id="4066918">,</span>&nbsp;<span class="builtintype" id="4066920">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4066927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4066930">return</span>&nbsp;<span class="ident" id="4066937">z</span><span class="op" id="4066938">,</span>&nbsp;<span class="builtintype" id="4066940">true</span>&nbsp;<span class="comment" id="4066945">//&nbsp;err&nbsp;==&nbsp;io.EOF&nbsp;=&gt;&nbsp;scan&nbsp;consumed&nbsp;all&nbsp;of&nbsp;s</span><br>
<span class="lineno"></span><span class="op" id="4066988">}</span><br>
<span class="lineno">570</span><br>
<span class="lineno"></span><span class="comment" id="4066991">//&nbsp;SetBytes&nbsp;interprets&nbsp;buf&nbsp;as&nbsp;the&nbsp;bytes&nbsp;of&nbsp;a&nbsp;big-endian&nbsp;unsigned</span><br>
<span class="lineno"></span><span class="comment" id="4067056">//&nbsp;integer,&nbsp;sets&nbsp;z&nbsp;to&nbsp;that&nbsp;value,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4067105">func</span>&nbsp;<span class="op" id="4067110">(</span><span class="ident" id="4067111">z</span>&nbsp;<span class="op" id="4067113">*</span><span class="ident" id="4067114">Int</span><span class="op" id="4067117">)</span>&nbsp;<span class="ident" id="4067119">SetBytes</span><span class="op" id="4067127">(</span><span class="ident" id="4067128">buf</span>&nbsp;<span class="op" id="4067132">[</span><span class="op" id="4067133">]</span><span class="builtintype" id="4067134">byte</span><span class="op" id="4067138">)</span>&nbsp;<span class="op" id="4067140">*</span><span class="ident" id="4067141">Int</span>&nbsp;<span class="op" id="4067145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4067148">z</span><span class="op" id="4067149">.</span><span class="ident" id="4067150">abs</span>&nbsp;<span class="op" id="4067154">=</span>&nbsp;<span class="ident" id="4067156">z</span><span class="op" id="4067157">.</span><span class="ident" id="4067158">abs</span><span class="op" id="4067161">.</span><span class="ident" id="4067162">setBytes</span><span class="op" id="4067170">(</span><span class="ident" id="4067171">buf</span><span class="op" id="4067174">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4067177">z</span><span class="op" id="4067178">.</span><span class="ident" id="4067179">neg</span>&nbsp;<span class="op" id="4067183">=</span>&nbsp;<span class="builtintype" id="4067185">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4067192">return</span>&nbsp;<span class="ident" id="4067199">z</span><br>
<span class="lineno"></span><span class="op" id="4067201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4067204">//&nbsp;Bytes&nbsp;returns&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;as&nbsp;a&nbsp;big-endian&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno">580</span><span class="keyword" id="4067273">func</span>&nbsp;<span class="op" id="4067278">(</span><span class="ident" id="4067279">x</span>&nbsp;<span class="op" id="4067281">*</span><span class="ident" id="4067282">Int</span><span class="op" id="4067285">)</span>&nbsp;<span class="ident" id="4067287">Bytes</span><span class="op" id="4067292">(</span><span class="op" id="4067293">)</span>&nbsp;<span class="op" id="4067295">[</span><span class="op" id="4067296">]</span><span class="builtintype" id="4067297">byte</span>&nbsp;<span class="op" id="4067302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4067305">buf</span>&nbsp;<span class="op" id="4067309">:=</span>&nbsp;<span class="builtinfunc" id="4067312">make</span><span class="op" id="4067316">(</span><span class="op" id="4067317">[</span><span class="op" id="4067318">]</span><span class="builtintype" id="4067319">byte</span><span class="op" id="4067323">,</span>&nbsp;<span class="builtinfunc" id="4067325">len</span><span class="op" id="4067328">(</span><span class="ident" id="4067329">x</span><span class="op" id="4067330">.</span><span class="ident" id="4067331">abs</span><span class="op" id="4067334">)</span><span class="op" id="4067335">*</span><span class="ident" id="4067336">_S</span><span class="op" id="4067338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4067341">return</span>&nbsp;<span class="ident" id="4067348">buf</span><span class="op" id="4067351">[</span><span class="ident" id="4067352">x</span><span class="op" id="4067353">.</span><span class="ident" id="4067354">abs</span><span class="op" id="4067357">.</span><span class="ident" id="4067358">bytes</span><span class="op" id="4067363">(</span><span class="ident" id="4067364">buf</span><span class="op" id="4067367">)</span><span class="op" id="4067368">:</span><span class="op" id="4067369">]</span><br>
<span class="lineno"></span><span class="op" id="4067371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="comment" id="4067374">//&nbsp;BitLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;in&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="4067439">//&nbsp;The&nbsp;bit&nbsp;length&nbsp;of&nbsp;0&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4067468">func</span>&nbsp;<span class="op" id="4067473">(</span><span class="ident" id="4067474">x</span>&nbsp;<span class="op" id="4067476">*</span><span class="ident" id="4067477">Int</span><span class="op" id="4067480">)</span>&nbsp;<span class="ident" id="4067482">BitLen</span><span class="op" id="4067488">(</span><span class="op" id="4067489">)</span>&nbsp;<span class="builtintype" id="4067491">int</span>&nbsp;<span class="op" id="4067495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4067498">return</span>&nbsp;<span class="ident" id="4067505">x</span><span class="op" id="4067506">.</span><span class="ident" id="4067507">abs</span><span class="op" id="4067510">.</span><span class="ident" id="4067511">bitLen</span><span class="op" id="4067517">(</span><span class="op" id="4067518">)</span><br>
<span class="lineno"></span><span class="op" id="4067520">}</span><br>
<span class="lineno">590</span><br>
<span class="lineno"></span><span class="comment" id="4067523">//&nbsp;Exp&nbsp;sets&nbsp;z&nbsp;=&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;(i.e.&nbsp;the&nbsp;sign&nbsp;of&nbsp;m&nbsp;is&nbsp;ignored),&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4067600">//&nbsp;If&nbsp;y&nbsp;&lt;=&nbsp;0,&nbsp;the&nbsp;result&nbsp;is&nbsp;1&nbsp;mod&nbsp;|m|;&nbsp;if&nbsp;m&nbsp;==&nbsp;nil&nbsp;or&nbsp;m&nbsp;==&nbsp;0,&nbsp;z&nbsp;=&nbsp;x**y.</span><br>
<span class="lineno"></span><span class="comment" id="4067672">//&nbsp;See&nbsp;Knuth,&nbsp;volume&nbsp;2,&nbsp;section&nbsp;4.6.3.</span><br>
<span class="lineno"></span><span class="keyword" id="4067711">func</span>&nbsp;<span class="op" id="4067716">(</span><span class="ident" id="4067717">z</span>&nbsp;<span class="op" id="4067719">*</span><span class="ident" id="4067720">Int</span><span class="op" id="4067723">)</span>&nbsp;<span class="ident" id="4067725">Exp</span><span class="op" id="4067728">(</span><span class="ident" id="4067729">x</span><span class="op" id="4067730">,</span>&nbsp;<span class="ident" id="4067732">y</span><span class="op" id="4067733">,</span>&nbsp;<span class="ident" id="4067735">m</span>&nbsp;<span class="op" id="4067737">*</span><span class="ident" id="4067738">Int</span><span class="op" id="4067741">)</span>&nbsp;<span class="op" id="4067743">*</span><span class="ident" id="4067744">Int</span>&nbsp;<span class="op" id="4067748">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4067751">var</span>&nbsp;<span class="ident" id="4067755">yWords</span>&nbsp;<span class="ident" id="4067762">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4067767">if</span>&nbsp;<span class="op" id="4067770">!</span><span class="ident" id="4067771">y</span><span class="op" id="4067772">.</span><span class="ident" id="4067773">neg</span>&nbsp;<span class="op" id="4067777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4067781">yWords</span>&nbsp;<span class="op" id="4067788">=</span>&nbsp;<span class="ident" id="4067790">y</span><span class="op" id="4067791">.</span><span class="ident" id="4067792">abs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4067797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4067800">//&nbsp;y&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4067812">var</span>&nbsp;<span class="ident" id="4067816">mWords</span>&nbsp;<span class="ident" id="4067823">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4067828">if</span>&nbsp;<span class="ident" id="4067831">m</span>&nbsp;<span class="op" id="4067833">!=</span>&nbsp;<span class="builtintype" id="4067836">nil</span>&nbsp;<span class="op" id="4067840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4067844">mWords</span>&nbsp;<span class="op" id="4067851">=</span>&nbsp;<span class="ident" id="4067853">m</span><span class="op" id="4067854">.</span><span class="ident" id="4067855">abs</span>&nbsp;<span class="comment" id="4067859">//&nbsp;m.abs&nbsp;may&nbsp;be&nbsp;nil&nbsp;for&nbsp;m&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4067891">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4067895">z</span><span class="op" id="4067896">.</span><span class="ident" id="4067897">abs</span>&nbsp;<span class="op" id="4067901">=</span>&nbsp;<span class="ident" id="4067903">z</span><span class="op" id="4067904">.</span><span class="ident" id="4067905">abs</span><span class="op" id="4067908">.</span><span class="ident" id="4067909">expNN</span><span class="op" id="4067914">(</span><span class="ident" id="4067915">x</span><span class="op" id="4067916">.</span><span class="ident" id="4067917">abs</span><span class="op" id="4067920">,</span>&nbsp;<span class="ident" id="4067922">yWords</span><span class="op" id="4067928">,</span>&nbsp;<span class="ident" id="4067930">mWords</span><span class="op" id="4067936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4067939">z</span><span class="op" id="4067940">.</span><span class="ident" id="4067941">neg</span>&nbsp;<span class="op" id="4067945">=</span>&nbsp;<span class="builtinfunc" id="4067947">len</span><span class="op" id="4067950">(</span><span class="ident" id="4067951">z</span><span class="op" id="4067952">.</span><span class="ident" id="4067953">abs</span><span class="op" id="4067956">)</span>&nbsp;<span class="op" id="4067958">&gt;</span>&nbsp;<span class="num" id="4067960">0</span>&nbsp;<span class="op" id="4067962">&amp;&amp;</span>&nbsp;<span class="ident" id="4067965">x</span><span class="op" id="4067966">.</span><span class="ident" id="4067967">neg</span>&nbsp;<span class="op" id="4067971">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="4067974">len</span><span class="op" id="4067977">(</span><span class="ident" id="4067978">yWords</span><span class="op" id="4067984">)</span>&nbsp;<span class="op" id="4067986">&gt;</span>&nbsp;<span class="num" id="4067988">0</span>&nbsp;<span class="op" id="4067990">&amp;&amp;</span>&nbsp;<span class="ident" id="4067993">yWords</span><span class="op" id="4067999">[</span><span class="num" id="4068000">0</span><span class="op" id="4068001">]</span><span class="op" id="4068002">&amp;</span><span class="num" id="4068003">1</span>&nbsp;<span class="op" id="4068005">==</span>&nbsp;<span class="num" id="4068008">1</span>&nbsp;<span class="comment" id="4068010">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4068028">if</span>&nbsp;<span class="ident" id="4068031">z</span><span class="op" id="4068032">.</span><span class="ident" id="4068033">neg</span>&nbsp;<span class="op" id="4068037">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="4068040">len</span><span class="op" id="4068043">(</span><span class="ident" id="4068044">mWords</span><span class="op" id="4068050">)</span>&nbsp;<span class="op" id="4068052">&gt;</span>&nbsp;<span class="num" id="4068054">0</span>&nbsp;<span class="op" id="4068056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4068060">//&nbsp;make&nbsp;modulus&nbsp;result&nbsp;positive</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068094">z</span><span class="op" id="4068095">.</span><span class="ident" id="4068096">abs</span>&nbsp;<span class="op" id="4068100">=</span>&nbsp;<span class="ident" id="4068102">z</span><span class="op" id="4068103">.</span><span class="ident" id="4068104">abs</span><span class="op" id="4068107">.</span><span class="ident" id="4068108">sub</span><span class="op" id="4068111">(</span><span class="ident" id="4068112">mWords</span><span class="op" id="4068118">,</span>&nbsp;<span class="ident" id="4068120">z</span><span class="op" id="4068121">.</span><span class="ident" id="4068122">abs</span><span class="op" id="4068125">)</span>&nbsp;<span class="comment" id="4068127">//&nbsp;z&nbsp;==&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;&amp;&amp;&nbsp;0&nbsp;&lt;=&nbsp;z&nbsp;&lt;&nbsp;|m|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068166">z</span><span class="op" id="4068167">.</span><span class="ident" id="4068168">neg</span>&nbsp;<span class="op" id="4068172">=</span>&nbsp;<span class="builtintype" id="4068174">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4068181">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4068185">return</span>&nbsp;<span class="ident" id="4068192">z</span><br>
<span class="lineno">615</span><span class="op" id="4068194">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4068197">//&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="4068270">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4068296">//&nbsp;If&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;not&nbsp;nil,&nbsp;GCD&nbsp;sets&nbsp;x&nbsp;and&nbsp;y&nbsp;such&nbsp;that&nbsp;z&nbsp;=&nbsp;a*x&nbsp;+&nbsp;b*y.</span><br>
<span class="lineno">620</span><span class="comment" id="4068365">//&nbsp;If&nbsp;either&nbsp;a&nbsp;or&nbsp;b&nbsp;is&nbsp;&lt;=&nbsp;0,&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;=&nbsp;y&nbsp;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4068418">func</span>&nbsp;<span class="op" id="4068423">(</span><span class="ident" id="4068424">z</span>&nbsp;<span class="op" id="4068426">*</span><span class="ident" id="4068427">Int</span><span class="op" id="4068430">)</span>&nbsp;<span class="ident" id="4068432">GCD</span><span class="op" id="4068435">(</span><span class="ident" id="4068436">x</span><span class="op" id="4068437">,</span>&nbsp;<span class="ident" id="4068439">y</span><span class="op" id="4068440">,</span>&nbsp;<span class="ident" id="4068442">a</span><span class="op" id="4068443">,</span>&nbsp;<span class="ident" id="4068445">b</span>&nbsp;<span class="op" id="4068447">*</span><span class="ident" id="4068448">Int</span><span class="op" id="4068451">)</span>&nbsp;<span class="op" id="4068453">*</span><span class="ident" id="4068454">Int</span>&nbsp;<span class="op" id="4068458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4068461">if</span>&nbsp;<span class="ident" id="4068464">a</span><span class="op" id="4068465">.</span><span class="ident" id="4068466">Sign</span><span class="op" id="4068470">(</span><span class="op" id="4068471">)</span>&nbsp;<span class="op" id="4068473">&lt;=</span>&nbsp;<span class="num" id="4068476">0</span>&nbsp;<span class="op" id="4068478">||</span>&nbsp;<span class="ident" id="4068481">b</span><span class="op" id="4068482">.</span><span class="ident" id="4068483">Sign</span><span class="op" id="4068487">(</span><span class="op" id="4068488">)</span>&nbsp;<span class="op" id="4068490">&lt;=</span>&nbsp;<span class="num" id="4068493">0</span>&nbsp;<span class="op" id="4068495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068499">z</span><span class="op" id="4068500">.</span><span class="ident" id="4068501">SetInt64</span><span class="op" id="4068509">(</span><span class="num" id="4068510">0</span><span class="op" id="4068511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4068515">if</span>&nbsp;<span class="ident" id="4068518">x</span>&nbsp;<span class="op" id="4068520">!=</span>&nbsp;<span class="builtintype" id="4068523">nil</span>&nbsp;<span class="op" id="4068527">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068532">x</span><span class="op" id="4068533">.</span><span class="ident" id="4068534">SetInt64</span><span class="op" id="4068542">(</span><span class="num" id="4068543">0</span><span class="op" id="4068544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4068548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4068552">if</span>&nbsp;<span class="ident" id="4068555">y</span>&nbsp;<span class="op" id="4068557">!=</span>&nbsp;<span class="builtintype" id="4068560">nil</span>&nbsp;<span class="op" id="4068564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068569">y</span><span class="op" id="4068570">.</span><span class="ident" id="4068571">SetInt64</span><span class="op" id="4068579">(</span><span class="num" id="4068580">0</span><span class="op" id="4068581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4068585">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4068589">return</span>&nbsp;<span class="ident" id="4068596">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4068599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4068602">if</span>&nbsp;<span class="ident" id="4068605">x</span>&nbsp;<span class="op" id="4068607">==</span>&nbsp;<span class="builtintype" id="4068610">nil</span>&nbsp;<span class="op" id="4068614">&amp;&amp;</span>&nbsp;<span class="ident" id="4068617">y</span>&nbsp;<span class="op" id="4068619">==</span>&nbsp;<span class="builtintype" id="4068622">nil</span>&nbsp;<span class="op" id="4068626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4068630">return</span>&nbsp;<span class="ident" id="4068637">z</span><span class="op" id="4068638">.</span><span class="ident" id="4068639">binaryGCD</span><span class="op" id="4068648">(</span><span class="ident" id="4068649">a</span><span class="op" id="4068650">,</span>&nbsp;<span class="ident" id="4068652">b</span><span class="op" id="4068653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4068656">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068660">A</span>&nbsp;<span class="op" id="4068662">:=</span>&nbsp;<span class="builtinfunc" id="4068665">new</span><span class="op" id="4068668">(</span><span class="ident" id="4068669">Int</span><span class="op" id="4068672">)</span><span class="op" id="4068673">.</span><span class="ident" id="4068674">Set</span><span class="op" id="4068677">(</span><span class="ident" id="4068678">a</span><span class="op" id="4068679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068682">B</span>&nbsp;<span class="op" id="4068684">:=</span>&nbsp;<span class="builtinfunc" id="4068687">new</span><span class="op" id="4068690">(</span><span class="ident" id="4068691">Int</span><span class="op" id="4068694">)</span><span class="op" id="4068695">.</span><span class="ident" id="4068696">Set</span><span class="op" id="4068699">(</span><span class="ident" id="4068700">b</span><span class="op" id="4068701">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068705">X</span>&nbsp;<span class="op" id="4068707">:=</span>&nbsp;<span class="builtinfunc" id="4068710">new</span><span class="op" id="4068713">(</span><span class="ident" id="4068714">Int</span><span class="op" id="4068717">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068720">Y</span>&nbsp;<span class="op" id="4068722">:=</span>&nbsp;<span class="builtinfunc" id="4068725">new</span><span class="op" id="4068728">(</span><span class="ident" id="4068729">Int</span><span class="op" id="4068732">)</span><span class="op" id="4068733">.</span><span class="ident" id="4068734">SetInt64</span><span class="op" id="4068742">(</span><span class="num" id="4068743">1</span><span class="op" id="4068744">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068748">lastX</span>&nbsp;<span class="op" id="4068754">:=</span>&nbsp;<span class="builtinfunc" id="4068757">new</span><span class="op" id="4068760">(</span><span class="ident" id="4068761">Int</span><span class="op" id="4068764">)</span><span class="op" id="4068765">.</span><span class="ident" id="4068766">SetInt64</span><span class="op" id="4068774">(</span><span class="num" id="4068775">1</span><span class="op" id="4068776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068779">lastY</span>&nbsp;<span class="op" id="4068785">:=</span>&nbsp;<span class="builtinfunc" id="4068788">new</span><span class="op" id="4068791">(</span><span class="ident" id="4068792">Int</span><span class="op" id="4068795">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068799">q</span>&nbsp;<span class="op" id="4068801">:=</span>&nbsp;<span class="builtinfunc" id="4068804">new</span><span class="op" id="4068807">(</span><span class="ident" id="4068808">Int</span><span class="op" id="4068811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068814">temp</span>&nbsp;<span class="op" id="4068819">:=</span>&nbsp;<span class="builtinfunc" id="4068822">new</span><span class="op" id="4068825">(</span><span class="ident" id="4068826">Int</span><span class="op" id="4068829">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4068833">for</span>&nbsp;<span class="builtinfunc" id="4068837">len</span><span class="op" id="4068840">(</span><span class="ident" id="4068841">B</span><span class="op" id="4068842">.</span><span class="ident" id="4068843">abs</span><span class="op" id="4068846">)</span>&nbsp;<span class="op" id="4068848">&gt;</span>&nbsp;<span class="num" id="4068850">0</span>&nbsp;<span class="op" id="4068852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068856">r</span>&nbsp;<span class="op" id="4068858">:=</span>&nbsp;<span class="builtinfunc" id="4068861">new</span><span class="op" id="4068864">(</span><span class="ident" id="4068865">Int</span><span class="op" id="4068868">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068872">q</span><span class="op" id="4068873">,</span>&nbsp;<span class="ident" id="4068875">r</span>&nbsp;<span class="op" id="4068877">=</span>&nbsp;<span class="ident" id="4068879">q</span><span class="op" id="4068880">.</span><span class="ident" id="4068881">QuoRem</span><span class="op" id="4068887">(</span><span class="ident" id="4068888">A</span><span class="op" id="4068889">,</span>&nbsp;<span class="ident" id="4068891">B</span><span class="op" id="4068892">,</span>&nbsp;<span class="ident" id="4068894">r</span><span class="op" id="4068895">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068900">A</span><span class="op" id="4068901">,</span>&nbsp;<span class="ident" id="4068903">B</span>&nbsp;<span class="op" id="4068905">=</span>&nbsp;<span class="ident" id="4068907">B</span><span class="op" id="4068908">,</span>&nbsp;<span class="ident" id="4068910">r</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068915">temp</span><span class="op" id="4068919">.</span><span class="ident" id="4068920">Set</span><span class="op" id="4068923">(</span><span class="ident" id="4068924">X</span><span class="op" id="4068925">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068929">X</span><span class="op" id="4068930">.</span><span class="ident" id="4068931">Mul</span><span class="op" id="4068934">(</span><span class="ident" id="4068935">X</span><span class="op" id="4068936">,</span>&nbsp;<span class="ident" id="4068938">q</span><span class="op" id="4068939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068943">X</span><span class="op" id="4068944">.</span><span class="ident" id="4068945">neg</span>&nbsp;<span class="op" id="4068949">=</span>&nbsp;<span class="op" id="4068951">!</span><span class="ident" id="4068952">X</span><span class="op" id="4068953">.</span><span class="ident" id="4068954">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068960">X</span><span class="op" id="4068961">.</span><span class="ident" id="4068962">Add</span><span class="op" id="4068965">(</span><span class="ident" id="4068966">X</span><span class="op" id="4068967">,</span>&nbsp;<span class="ident" id="4068969">lastX</span><span class="op" id="4068974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068978">lastX</span><span class="op" id="4068983">.</span><span class="ident" id="4068984">Set</span><span class="op" id="4068987">(</span><span class="ident" id="4068988">temp</span><span class="op" id="4068992">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4068997">temp</span><span class="op" id="4069001">.</span><span class="ident" id="4069002">Set</span><span class="op" id="4069005">(</span><span class="ident" id="4069006">Y</span><span class="op" id="4069007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069011">Y</span><span class="op" id="4069012">.</span><span class="ident" id="4069013">Mul</span><span class="op" id="4069016">(</span><span class="ident" id="4069017">Y</span><span class="op" id="4069018">,</span>&nbsp;<span class="ident" id="4069020">q</span><span class="op" id="4069021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069025">Y</span><span class="op" id="4069026">.</span><span class="ident" id="4069027">neg</span>&nbsp;<span class="op" id="4069031">=</span>&nbsp;<span class="op" id="4069033">!</span><span class="ident" id="4069034">Y</span><span class="op" id="4069035">.</span><span class="ident" id="4069036">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069042">Y</span><span class="op" id="4069043">.</span><span class="ident" id="4069044">Add</span><span class="op" id="4069047">(</span><span class="ident" id="4069048">Y</span><span class="op" id="4069049">,</span>&nbsp;<span class="ident" id="4069051">lastY</span><span class="op" id="4069056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069060">lastY</span><span class="op" id="4069065">.</span><span class="ident" id="4069066">Set</span><span class="op" id="4069069">(</span><span class="ident" id="4069070">temp</span><span class="op" id="4069074">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4069077">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4069081">if</span>&nbsp;<span class="ident" id="4069084">x</span>&nbsp;<span class="op" id="4069086">!=</span>&nbsp;<span class="builtintype" id="4069089">nil</span>&nbsp;<span class="op" id="4069093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4069097">*</span><span class="ident" id="4069098">x</span>&nbsp;<span class="op" id="4069100">=</span>&nbsp;<span class="op" id="4069102">*</span><span class="ident" id="4069103">lastX</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4069110">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4069114">if</span>&nbsp;<span class="ident" id="4069117">y</span>&nbsp;<span class="op" id="4069119">!=</span>&nbsp;<span class="builtintype" id="4069122">nil</span>&nbsp;<span class="op" id="4069126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4069130">*</span><span class="ident" id="4069131">y</span>&nbsp;<span class="op" id="4069133">=</span>&nbsp;<span class="op" id="4069135">*</span><span class="ident" id="4069136">lastY</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4069143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4069147">*</span><span class="ident" id="4069148">z</span>&nbsp;<span class="op" id="4069150">=</span>&nbsp;<span class="op" id="4069152">*</span><span class="ident" id="4069153">A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4069156">return</span>&nbsp;<span class="ident" id="4069163">z</span><br>
<span class="lineno"></span><span class="op" id="4069165">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4069168">//&nbsp;binaryGCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno">680</span><span class="comment" id="4069247">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4069273">//&nbsp;See&nbsp;Knuth,&nbsp;The&nbsp;Art&nbsp;of&nbsp;Computer&nbsp;Programming,&nbsp;Vol.&nbsp;2,&nbsp;Section&nbsp;4.5.2,&nbsp;Algorithm&nbsp;B.</span><br>
<span class="lineno"></span><span class="keyword" id="4069356">func</span>&nbsp;<span class="op" id="4069361">(</span><span class="ident" id="4069362">z</span>&nbsp;<span class="op" id="4069364">*</span><span class="ident" id="4069365">Int</span><span class="op" id="4069368">)</span>&nbsp;<span class="ident" id="4069370">binaryGCD</span><span class="op" id="4069379">(</span><span class="ident" id="4069380">a</span><span class="op" id="4069381">,</span>&nbsp;<span class="ident" id="4069383">b</span>&nbsp;<span class="op" id="4069385">*</span><span class="ident" id="4069386">Int</span><span class="op" id="4069389">)</span>&nbsp;<span class="op" id="4069391">*</span><span class="ident" id="4069392">Int</span>&nbsp;<span class="op" id="4069396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069399">u</span>&nbsp;<span class="op" id="4069401">:=</span>&nbsp;<span class="ident" id="4069404">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069407">v</span>&nbsp;<span class="op" id="4069409">:=</span>&nbsp;<span class="builtinfunc" id="4069412">new</span><span class="op" id="4069415">(</span><span class="ident" id="4069416">Int</span><span class="op" id="4069419">)</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4069423">//&nbsp;use&nbsp;one&nbsp;Euclidean&nbsp;iteration&nbsp;to&nbsp;ensure&nbsp;that&nbsp;u&nbsp;and&nbsp;v&nbsp;are&nbsp;approx.&nbsp;the&nbsp;same&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4069504">switch</span>&nbsp;<span class="op" id="4069511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4069514">case</span>&nbsp;<span class="builtinfunc" id="4069519">len</span><span class="op" id="4069522">(</span><span class="ident" id="4069523">a</span><span class="op" id="4069524">.</span><span class="ident" id="4069525">abs</span><span class="op" id="4069528">)</span>&nbsp;<span class="op" id="4069530">&gt;</span>&nbsp;<span class="builtinfunc" id="4069532">len</span><span class="op" id="4069535">(</span><span class="ident" id="4069536">b</span><span class="op" id="4069537">.</span><span class="ident" id="4069538">abs</span><span class="op" id="4069541">)</span><span class="op" id="4069542">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069546">u</span><span class="op" id="4069547">.</span><span class="ident" id="4069548">Set</span><span class="op" id="4069551">(</span><span class="ident" id="4069552">b</span><span class="op" id="4069553">)</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069557">v</span><span class="op" id="4069558">.</span><span class="ident" id="4069559">Rem</span><span class="op" id="4069562">(</span><span class="ident" id="4069563">a</span><span class="op" id="4069564">,</span>&nbsp;<span class="ident" id="4069566">b</span><span class="op" id="4069567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4069570">case</span>&nbsp;<span class="builtinfunc" id="4069575">len</span><span class="op" id="4069578">(</span><span class="ident" id="4069579">a</span><span class="op" id="4069580">.</span><span class="ident" id="4069581">abs</span><span class="op" id="4069584">)</span>&nbsp;<span class="op" id="4069586">&lt;</span>&nbsp;<span class="builtinfunc" id="4069588">len</span><span class="op" id="4069591">(</span><span class="ident" id="4069592">b</span><span class="op" id="4069593">.</span><span class="ident" id="4069594">abs</span><span class="op" id="4069597">)</span><span class="op" id="4069598">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069602">u</span><span class="op" id="4069603">.</span><span class="ident" id="4069604">Set</span><span class="op" id="4069607">(</span><span class="ident" id="4069608">a</span><span class="op" id="4069609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069613">v</span><span class="op" id="4069614">.</span><span class="ident" id="4069615">Rem</span><span class="op" id="4069618">(</span><span class="ident" id="4069619">b</span><span class="op" id="4069620">,</span>&nbsp;<span class="ident" id="4069622">a</span><span class="op" id="4069623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4069626">default</span><span class="op" id="4069633">:</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069637">u</span><span class="op" id="4069638">.</span><span class="ident" id="4069639">Set</span><span class="op" id="4069642">(</span><span class="ident" id="4069643">a</span><span class="op" id="4069644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069648">v</span><span class="op" id="4069649">.</span><span class="ident" id="4069650">Set</span><span class="op" id="4069653">(</span><span class="ident" id="4069654">b</span><span class="op" id="4069655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4069658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4069662">//&nbsp;v&nbsp;might&nbsp;be&nbsp;0&nbsp;now</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4069683">if</span>&nbsp;<span class="builtinfunc" id="4069686">len</span><span class="op" id="4069689">(</span><span class="ident" id="4069690">v</span><span class="op" id="4069691">.</span><span class="ident" id="4069692">abs</span><span class="op" id="4069695">)</span>&nbsp;<span class="op" id="4069697">==</span>&nbsp;<span class="num" id="4069700">0</span>&nbsp;<span class="op" id="4069702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4069706">return</span>&nbsp;<span class="ident" id="4069713">u</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4069716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4069719">//&nbsp;u&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;v&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4069739">//&nbsp;determine&nbsp;largest&nbsp;k&nbsp;such&nbsp;that&nbsp;u&nbsp;=&nbsp;u&#39;&nbsp;&lt;&lt;&nbsp;k,&nbsp;v&nbsp;=&nbsp;v&#39;&nbsp;&lt;&lt;&nbsp;k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069798">k</span>&nbsp;<span class="op" id="4069800">:=</span>&nbsp;<span class="ident" id="4069803">u</span><span class="op" id="4069804">.</span><span class="ident" id="4069805">abs</span><span class="op" id="4069808">.</span><span class="ident" id="4069809">trailingZeroBits</span><span class="op" id="4069825">(</span><span class="op" id="4069826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4069829">if</span>&nbsp;<span class="ident" id="4069832">vk</span>&nbsp;<span class="op" id="4069835">:=</span>&nbsp;<span class="ident" id="4069838">v</span><span class="op" id="4069839">.</span><span class="ident" id="4069840">abs</span><span class="op" id="4069843">.</span><span class="ident" id="4069844">trailingZeroBits</span><span class="op" id="4069860">(</span><span class="op" id="4069861">)</span><span class="op" id="4069862">;</span>&nbsp;<span class="ident" id="4069864">vk</span>&nbsp;<span class="op" id="4069867">&lt;</span>&nbsp;<span class="ident" id="4069869">k</span>&nbsp;<span class="op" id="4069871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069875">k</span>&nbsp;<span class="op" id="4069877">=</span>&nbsp;<span class="ident" id="4069879">vk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4069883">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069886">u</span><span class="op" id="4069887">.</span><span class="ident" id="4069888">Rsh</span><span class="op" id="4069891">(</span><span class="ident" id="4069892">u</span><span class="op" id="4069893">,</span>&nbsp;<span class="ident" id="4069895">k</span><span class="op" id="4069896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069899">v</span><span class="op" id="4069900">.</span><span class="ident" id="4069901">Rsh</span><span class="op" id="4069904">(</span><span class="ident" id="4069905">v</span><span class="op" id="4069906">,</span>&nbsp;<span class="ident" id="4069908">k</span><span class="op" id="4069909">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4069913">//&nbsp;determine&nbsp;t&nbsp;(we&nbsp;know&nbsp;that&nbsp;u&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4069950">t</span>&nbsp;<span class="op" id="4069952">:=</span>&nbsp;<span class="builtinfunc" id="4069955">new</span><span class="op" id="4069958">(</span><span class="ident" id="4069959">Int</span><span class="op" id="4069962">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4069965">if</span>&nbsp;<span class="ident" id="4069968">u</span><span class="op" id="4069969">.</span><span class="ident" id="4069970">abs</span><span class="op" id="4069973">[</span><span class="num" id="4069974">0</span><span class="op" id="4069975">]</span><span class="op" id="4069976">&amp;</span><span class="num" id="4069977">1</span>&nbsp;<span class="op" id="4069979">!=</span>&nbsp;<span class="num" id="4069982">0</span>&nbsp;<span class="op" id="4069984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4069988">//&nbsp;u&nbsp;is&nbsp;odd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4070002">t</span><span class="op" id="4070003">.</span><span class="ident" id="4070004">Neg</span><span class="op" id="4070007">(</span><span class="ident" id="4070008">v</span><span class="op" id="4070009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4070012">}</span>&nbsp;<span class="keyword" id="4070014">else</span>&nbsp;<span class="op" id="4070019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4070023">t</span><span class="op" id="4070024">.</span><span class="ident" id="4070025">Set</span><span class="op" id="4070028">(</span><span class="ident" id="4070029">u</span><span class="op" id="4070030">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4070033">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4070037">for</span>&nbsp;<span class="builtinfunc" id="4070041">len</span><span class="op" id="4070044">(</span><span class="ident" id="4070045">t</span><span class="op" id="4070046">.</span><span class="ident" id="4070047">abs</span><span class="op" id="4070050">)</span>&nbsp;<span class="op" id="4070052">&gt;</span>&nbsp;<span class="num" id="4070054">0</span>&nbsp;<span class="op" id="4070056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4070060">//&nbsp;reduce&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4070074">t</span><span class="op" id="4070075">.</span><span class="ident" id="4070076">Rsh</span><span class="op" id="4070079">(</span><span class="ident" id="4070080">t</span><span class="op" id="4070081">,</span>&nbsp;<span class="ident" id="4070083">t</span><span class="op" id="4070084">.</span><span class="ident" id="4070085">abs</span><span class="op" id="4070088">.</span><span class="ident" id="4070089">trailingZeroBits</span><span class="op" id="4070105">(</span><span class="op" id="4070106">)</span><span class="op" id="4070107">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4070111">if</span>&nbsp;<span class="ident" id="4070114">t</span><span class="op" id="4070115">.</span><span class="ident" id="4070116">neg</span>&nbsp;<span class="op" id="4070120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4070125">v</span><span class="op" id="4070126">,</span>&nbsp;<span class="ident" id="4070128">t</span>&nbsp;<span class="op" id="4070130">=</span>&nbsp;<span class="ident" id="4070132">t</span><span class="op" id="4070133">,</span>&nbsp;<span class="ident" id="4070135">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4070140">v</span><span class="op" id="4070141">.</span><span class="ident" id="4070142">neg</span>&nbsp;<span class="op" id="4070146">=</span>&nbsp;<span class="builtinfunc" id="4070148">len</span><span class="op" id="4070151">(</span><span class="ident" id="4070152">v</span><span class="op" id="4070153">.</span><span class="ident" id="4070154">abs</span><span class="op" id="4070157">)</span>&nbsp;<span class="op" id="4070159">&gt;</span>&nbsp;<span class="num" id="4070161">0</span>&nbsp;<span class="op" id="4070163">&amp;&amp;</span>&nbsp;<span class="op" id="4070166">!</span><span class="ident" id="4070167">v</span><span class="op" id="4070168">.</span><span class="ident" id="4070169">neg</span>&nbsp;<span class="comment" id="4070173">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4070192">}</span>&nbsp;<span class="keyword" id="4070194">else</span>&nbsp;<span class="op" id="4070199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4070204">u</span><span class="op" id="4070205">,</span>&nbsp;<span class="ident" id="4070207">t</span>&nbsp;<span class="op" id="4070209">=</span>&nbsp;<span class="ident" id="4070211">t</span><span class="op" id="4070212">,</span>&nbsp;<span class="ident" id="4070214">u</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4070218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4070222">t</span><span class="op" id="4070223">.</span><span class="ident" id="4070224">Sub</span><span class="op" id="4070227">(</span><span class="ident" id="4070228">u</span><span class="op" id="4070229">,</span>&nbsp;<span class="ident" id="4070231">v</span><span class="op" id="4070232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4070235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4070239">return</span>&nbsp;<span class="ident" id="4070246">z</span><span class="op" id="4070247">.</span><span class="ident" id="4070248">Lsh</span><span class="op" id="4070251">(</span><span class="ident" id="4070252">u</span><span class="op" id="4070253">,</span>&nbsp;<span class="ident" id="4070255">k</span><span class="op" id="4070256">)</span><br>
<span class="lineno">735</span><span class="op" id="4070258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4070261">//&nbsp;ProbablyPrime&nbsp;performs&nbsp;n&nbsp;Miller-Rabin&nbsp;tests&nbsp;to&nbsp;check&nbsp;whether&nbsp;x&nbsp;is&nbsp;prime.</span><br>
<span class="lineno"></span><span class="comment" id="4070337">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;true,&nbsp;x&nbsp;is&nbsp;prime&nbsp;with&nbsp;probability&nbsp;1&nbsp;-&nbsp;1/4^n.</span><br>
<span class="lineno"></span><span class="comment" id="4070399">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;false,&nbsp;x&nbsp;is&nbsp;not&nbsp;prime.</span><br>
<span class="lineno">740</span><span class="keyword" id="4070439">func</span>&nbsp;<span class="op" id="4070444">(</span><span class="ident" id="4070445">x</span>&nbsp;<span class="op" id="4070447">*</span><span class="ident" id="4070448">Int</span><span class="op" id="4070451">)</span>&nbsp;<span class="ident" id="4070453">ProbablyPrime</span><span class="op" id="4070466">(</span><span class="ident" id="4070467">n</span>&nbsp;<span class="builtintype" id="4070469">int</span><span class="op" id="4070472">)</span>&nbsp;<span class="builtintype" id="4070474">bool</span>&nbsp;<span class="op" id="4070479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4070482">return</span>&nbsp;<span class="op" id="4070489">!</span><span class="ident" id="4070490">x</span><span class="op" id="4070491">.</span><span class="ident" id="4070492">neg</span>&nbsp;<span class="op" id="4070496">&amp;&amp;</span>&nbsp;<span class="ident" id="4070499">x</span><span class="op" id="4070500">.</span><span class="ident" id="4070501">abs</span><span class="op" id="4070504">.</span><span class="ident" id="4070505">probablyPrime</span><span class="op" id="4070518">(</span><span class="ident" id="4070519">n</span><span class="op" id="4070520">)</span><br>
<span class="lineno"></span><span class="op" id="4070522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4070525">//&nbsp;Rand&nbsp;sets&nbsp;z&nbsp;to&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,&nbsp;n)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">745</span><span class="keyword" id="4070591">func</span>&nbsp;<span class="op" id="4070596">(</span><span class="ident" id="4070597">z</span>&nbsp;<span class="op" id="4070599">*</span><span class="ident" id="4070600">Int</span><span class="op" id="4070603">)</span>&nbsp;<span class="ident" id="4070605">Rand</span><span class="op" id="4070609">(</span><span class="ident" id="4070610">rnd</span>&nbsp;<span class="op" id="4070614">*</span><span class="ident" id="4070615">rand</span><span class="op" id="4070619">.</span><span class="ident" id="4070620">Rand</span><span class="op" id="4070624">,</span>&nbsp;<span class="ident" id="4070626">n</span>&nbsp;<span class="op" id="4070628">*</span><span class="ident" id="4070629">Int</span><span class="op" id="4070632">)</span>&nbsp;<span class="op" id="4070634">*</span><span class="ident" id="4070635">Int</span>&nbsp;<span class="op" id="4070639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4070642">z</span><span class="op" id="4070643">.</span><span class="ident" id="4070644">neg</span>&nbsp;<span class="op" id="4070648">=</span>&nbsp;<span class="builtintype" id="4070650">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4070657">if</span>&nbsp;<span class="ident" id="4070660">n</span><span class="op" id="4070661">.</span><span class="ident" id="4070662">neg</span>&nbsp;<span class="op" id="4070666">==</span>&nbsp;<span class="builtintype" id="4070669">true</span>&nbsp;<span class="op" id="4070674">||</span>&nbsp;<span class="builtinfunc" id="4070677">len</span><span class="op" id="4070680">(</span><span class="ident" id="4070681">n</span><span class="op" id="4070682">.</span><span class="ident" id="4070683">abs</span><span class="op" id="4070686">)</span>&nbsp;<span class="op" id="4070688">==</span>&nbsp;<span class="num" id="4070691">0</span>&nbsp;<span class="op" id="4070693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4070697">z</span><span class="op" id="4070698">.</span><span class="ident" id="4070699">abs</span>&nbsp;<span class="op" id="4070703">=</span>&nbsp;<span class="builtintype" id="4070705">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4070711">return</span>&nbsp;<span class="ident" id="4070718">z</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4070721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4070724">z</span><span class="op" id="4070725">.</span><span class="ident" id="4070726">abs</span>&nbsp;<span class="op" id="4070730">=</span>&nbsp;<span class="ident" id="4070732">z</span><span class="op" id="4070733">.</span><span class="ident" id="4070734">abs</span><span class="op" id="4070737">.</span><span class="ident" id="4070738">random</span><span class="op" id="4070744">(</span><span class="ident" id="4070745">rnd</span><span class="op" id="4070748">,</span>&nbsp;<span class="ident" id="4070750">n</span><span class="op" id="4070751">.</span><span class="ident" id="4070752">abs</span><span class="op" id="4070755">,</span>&nbsp;<span class="ident" id="4070757">n</span><span class="op" id="4070758">.</span><span class="ident" id="4070759">abs</span><span class="op" id="4070762">.</span><span class="ident" id="4070763">bitLen</span><span class="op" id="4070769">(</span><span class="op" id="4070770">)</span><span class="op" id="4070771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4070774">return</span>&nbsp;<span class="ident" id="4070781">z</span><br>
<span class="lineno"></span><span class="op" id="4070783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="comment" id="4070786">//&nbsp;ModInverse&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;multiplicative&nbsp;inverse&nbsp;of&nbsp;g&nbsp;in&nbsp;the&nbsp;ring&nbsp;/n</span><br>
<span class="lineno"></span><span class="comment" id="4070863">//&nbsp;and&nbsp;returns&nbsp;z.&nbsp;If&nbsp;g&nbsp;and&nbsp;n&nbsp;are&nbsp;not&nbsp;relatively&nbsp;prime,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno"></span><span class="keyword" id="4070943">func</span>&nbsp;<span class="op" id="4070948">(</span><span class="ident" id="4070949">z</span>&nbsp;<span class="op" id="4070951">*</span><span class="ident" id="4070952">Int</span><span class="op" id="4070955">)</span>&nbsp;<span class="ident" id="4070957">ModInverse</span><span class="op" id="4070967">(</span><span class="ident" id="4070968">g</span><span class="op" id="4070969">,</span>&nbsp;<span class="ident" id="4070971">n</span>&nbsp;<span class="op" id="4070973">*</span><span class="ident" id="4070974">Int</span><span class="op" id="4070977">)</span>&nbsp;<span class="op" id="4070979">*</span><span class="ident" id="4070980">Int</span>&nbsp;<span class="op" id="4070984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4070987">var</span>&nbsp;<span class="ident" id="4070991">d</span>&nbsp;<span class="ident" id="4070993">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4070998">d</span><span class="op" id="4070999">.</span><span class="ident" id="4071000">GCD</span><span class="op" id="4071003">(</span><span class="ident" id="4071004">z</span><span class="op" id="4071005">,</span>&nbsp;<span class="builtintype" id="4071007">nil</span><span class="op" id="4071010">,</span>&nbsp;<span class="ident" id="4071012">g</span><span class="op" id="4071013">,</span>&nbsp;<span class="ident" id="4071015">n</span><span class="op" id="4071016">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4071019">//&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;such&nbsp;that&nbsp;g*x&nbsp;+&nbsp;n*y&nbsp;=&nbsp;d.&nbsp;Since&nbsp;g&nbsp;and&nbsp;n&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4071078">//&nbsp;relatively&nbsp;prime,&nbsp;d&nbsp;=&nbsp;1.&nbsp;Taking&nbsp;that&nbsp;modulo&nbsp;n&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4071139">//&nbsp;g*x&nbsp;=&nbsp;1,&nbsp;therefore&nbsp;x&nbsp;is&nbsp;the&nbsp;inverse&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4071188">if</span>&nbsp;<span class="ident" id="4071191">z</span><span class="op" id="4071192">.</span><span class="ident" id="4071193">neg</span>&nbsp;<span class="op" id="4071197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4071201">z</span><span class="op" id="4071202">.</span><span class="ident" id="4071203">Add</span><span class="op" id="4071206">(</span><span class="ident" id="4071207">z</span><span class="op" id="4071208">,</span>&nbsp;<span class="ident" id="4071210">n</span><span class="op" id="4071211">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4071214">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4071217">return</span>&nbsp;<span class="ident" id="4071224">z</span><br>
<span class="lineno"></span><span class="op" id="4071226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4071229">//&nbsp;Lsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&lt;&lt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">770</span><span class="keyword" id="4071267">func</span>&nbsp;<span class="op" id="4071272">(</span><span class="ident" id="4071273">z</span>&nbsp;<span class="op" id="4071275">*</span><span class="ident" id="4071276">Int</span><span class="op" id="4071279">)</span>&nbsp;<span class="ident" id="4071281">Lsh</span><span class="op" id="4071284">(</span><span class="ident" id="4071285">x</span>&nbsp;<span class="op" id="4071287">*</span><span class="ident" id="4071288">Int</span><span class="op" id="4071291">,</span>&nbsp;<span class="ident" id="4071293">n</span>&nbsp;<span class="builtintype" id="4071295">uint</span><span class="op" id="4071299">)</span>&nbsp;<span class="op" id="4071301">*</span><span class="ident" id="4071302">Int</span>&nbsp;<span class="op" id="4071306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4071309">z</span><span class="op" id="4071310">.</span><span class="ident" id="4071311">abs</span>&nbsp;<span class="op" id="4071315">=</span>&nbsp;<span class="ident" id="4071317">z</span><span class="op" id="4071318">.</span><span class="ident" id="4071319">abs</span><span class="op" id="4071322">.</span><span class="ident" id="4071323">shl</span><span class="op" id="4071326">(</span><span class="ident" id="4071327">x</span><span class="op" id="4071328">.</span><span class="ident" id="4071329">abs</span><span class="op" id="4071332">,</span>&nbsp;<span class="ident" id="4071334">n</span><span class="op" id="4071335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4071338">z</span><span class="op" id="4071339">.</span><span class="ident" id="4071340">neg</span>&nbsp;<span class="op" id="4071344">=</span>&nbsp;<span class="ident" id="4071346">x</span><span class="op" id="4071347">.</span><span class="ident" id="4071348">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4071353">return</span>&nbsp;<span class="ident" id="4071360">z</span><br>
<span class="lineno"></span><span class="op" id="4071362">}</span><br>
<span class="lineno">775</span><br>
<span class="lineno"></span><span class="comment" id="4071365">//&nbsp;Rsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&gt;&gt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4071403">func</span>&nbsp;<span class="op" id="4071408">(</span><span class="ident" id="4071409">z</span>&nbsp;<span class="op" id="4071411">*</span><span class="ident" id="4071412">Int</span><span class="op" id="4071415">)</span>&nbsp;<span class="ident" id="4071417">Rsh</span><span class="op" id="4071420">(</span><span class="ident" id="4071421">x</span>&nbsp;<span class="op" id="4071423">*</span><span class="ident" id="4071424">Int</span><span class="op" id="4071427">,</span>&nbsp;<span class="ident" id="4071429">n</span>&nbsp;<span class="builtintype" id="4071431">uint</span><span class="op" id="4071435">)</span>&nbsp;<span class="op" id="4071437">*</span><span class="ident" id="4071438">Int</span>&nbsp;<span class="op" id="4071442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4071445">if</span>&nbsp;<span class="ident" id="4071448">x</span><span class="op" id="4071449">.</span><span class="ident" id="4071450">neg</span>&nbsp;<span class="op" id="4071454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4071458">//&nbsp;(-x)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^(x-1)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;==&nbsp;-(((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4071528">t</span>&nbsp;<span class="op" id="4071530">:=</span>&nbsp;<span class="ident" id="4071533">z</span><span class="op" id="4071534">.</span><span class="ident" id="4071535">abs</span><span class="op" id="4071538">.</span><span class="ident" id="4071539">sub</span><span class="op" id="4071542">(</span><span class="ident" id="4071543">x</span><span class="op" id="4071544">.</span><span class="ident" id="4071545">abs</span><span class="op" id="4071548">,</span>&nbsp;<span class="ident" id="4071550">natOne</span><span class="op" id="4071556">)</span>&nbsp;<span class="comment" id="4071558">//&nbsp;no&nbsp;underflow&nbsp;because&nbsp;|x|&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4071592">t</span>&nbsp;<span class="op" id="4071594">=</span>&nbsp;<span class="ident" id="4071596">t</span><span class="op" id="4071597">.</span><span class="ident" id="4071598">shr</span><span class="op" id="4071601">(</span><span class="ident" id="4071602">t</span><span class="op" id="4071603">,</span>&nbsp;<span class="ident" id="4071605">n</span><span class="op" id="4071606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4071610">z</span><span class="op" id="4071611">.</span><span class="ident" id="4071612">abs</span>&nbsp;<span class="op" id="4071616">=</span>&nbsp;<span class="ident" id="4071618">t</span><span class="op" id="4071619">.</span><span class="ident" id="4071620">add</span><span class="op" id="4071623">(</span><span class="ident" id="4071624">t</span><span class="op" id="4071625">,</span>&nbsp;<span class="ident" id="4071627">natOne</span><span class="op" id="4071633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4071637">z</span><span class="op" id="4071638">.</span><span class="ident" id="4071639">neg</span>&nbsp;<span class="op" id="4071643">=</span>&nbsp;<span class="builtintype" id="4071645">true</span>&nbsp;<span class="comment" id="4071650">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4071689">return</span>&nbsp;<span class="ident" id="4071696">z</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4071699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4071703">z</span><span class="op" id="4071704">.</span><span class="ident" id="4071705">abs</span>&nbsp;<span class="op" id="4071709">=</span>&nbsp;<span class="ident" id="4071711">z</span><span class="op" id="4071712">.</span><span class="ident" id="4071713">abs</span><span class="op" id="4071716">.</span><span class="ident" id="4071717">shr</span><span class="op" id="4071720">(</span><span class="ident" id="4071721">x</span><span class="op" id="4071722">.</span><span class="ident" id="4071723">abs</span><span class="op" id="4071726">,</span>&nbsp;<span class="ident" id="4071728">n</span><span class="op" id="4071729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4071732">z</span><span class="op" id="4071733">.</span><span class="ident" id="4071734">neg</span>&nbsp;<span class="op" id="4071738">=</span>&nbsp;<span class="builtintype" id="4071740">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4071747">return</span>&nbsp;<span class="ident" id="4071754">z</span><br>
<span class="lineno">790</span><span class="op" id="4071756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4071759">//&nbsp;Bit&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;i&#39;th&nbsp;bit&nbsp;of&nbsp;x.&nbsp;That&nbsp;is,&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="4071818">//&nbsp;returns&nbsp;(x&gt;&gt;i)&amp;1.&nbsp;The&nbsp;bit&nbsp;index&nbsp;i&nbsp;must&nbsp;be&nbsp;&gt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4071869">func</span>&nbsp;<span class="op" id="4071874">(</span><span class="ident" id="4071875">x</span>&nbsp;<span class="op" id="4071877">*</span><span class="ident" id="4071878">Int</span><span class="op" id="4071881">)</span>&nbsp;<span class="ident" id="4071883">Bit</span><span class="op" id="4071886">(</span><span class="ident" id="4071887">i</span>&nbsp;<span class="builtintype" id="4071889">int</span><span class="op" id="4071892">)</span>&nbsp;<span class="builtintype" id="4071894">uint</span>&nbsp;<span class="op" id="4071899">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4071902">if</span>&nbsp;<span class="ident" id="4071905">i</span>&nbsp;<span class="op" id="4071907">==</span>&nbsp;<span class="num" id="4071910">0</span>&nbsp;<span class="op" id="4071912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4071916">//&nbsp;optimization&nbsp;for&nbsp;common&nbsp;case:&nbsp;odd/even&nbsp;test&nbsp;of&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4071970">if</span>&nbsp;<span class="builtinfunc" id="4071973">len</span><span class="op" id="4071976">(</span><span class="ident" id="4071977">x</span><span class="op" id="4071978">.</span><span class="ident" id="4071979">abs</span><span class="op" id="4071982">)</span>&nbsp;<span class="op" id="4071984">&gt;</span>&nbsp;<span class="num" id="4071986">0</span>&nbsp;<span class="op" id="4071988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4071993">return</span>&nbsp;<span class="builtintype" id="4072000">uint</span><span class="op" id="4072004">(</span><span class="ident" id="4072005">x</span><span class="op" id="4072006">.</span><span class="ident" id="4072007">abs</span><span class="op" id="4072010">[</span><span class="num" id="4072011">0</span><span class="op" id="4072012">]</span>&nbsp;<span class="op" id="4072014">&amp;</span>&nbsp;<span class="num" id="4072016">1</span><span class="op" id="4072017">)</span>&nbsp;<span class="comment" id="4072019">//&nbsp;bit&nbsp;0&nbsp;is&nbsp;same&nbsp;for&nbsp;-x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4072045">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4072049">return</span>&nbsp;<span class="num" id="4072056">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4072059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4072062">if</span>&nbsp;<span class="ident" id="4072065">i</span>&nbsp;<span class="op" id="4072067">&lt;</span>&nbsp;<span class="num" id="4072069">0</span>&nbsp;<span class="op" id="4072071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4072075">panic</span><span class="op" id="4072080">(</span><span class="string" id="4072081">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="4072101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4072104">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4072107">if</span>&nbsp;<span class="ident" id="4072110">x</span><span class="op" id="4072111">.</span><span class="ident" id="4072112">neg</span>&nbsp;<span class="op" id="4072116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4072120">t</span>&nbsp;<span class="op" id="4072122">:=</span>&nbsp;<span class="ident" id="4072125">nat</span><span class="op" id="4072128">(</span><span class="builtintype" id="4072129">nil</span><span class="op" id="4072132">)</span><span class="op" id="4072133">.</span><span class="ident" id="4072134">sub</span><span class="op" id="4072137">(</span><span class="ident" id="4072138">x</span><span class="op" id="4072139">.</span><span class="ident" id="4072140">abs</span><span class="op" id="4072143">,</span>&nbsp;<span class="ident" id="4072145">natOne</span><span class="op" id="4072151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4072155">return</span>&nbsp;<span class="ident" id="4072162">t</span><span class="op" id="4072163">.</span><span class="ident" id="4072164">bit</span><span class="op" id="4072167">(</span><span class="builtintype" id="4072168">uint</span><span class="op" id="4072172">(</span><span class="ident" id="4072173">i</span><span class="op" id="4072174">)</span><span class="op" id="4072175">)</span>&nbsp;<span class="op" id="4072177">^</span>&nbsp;<span class="num" id="4072179">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4072182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4072186">return</span>&nbsp;<span class="ident" id="4072193">x</span><span class="op" id="4072194">.</span><span class="ident" id="4072195">abs</span><span class="op" id="4072198">.</span><span class="ident" id="4072199">bit</span><span class="op" id="4072202">(</span><span class="builtintype" id="4072203">uint</span><span class="op" id="4072207">(</span><span class="ident" id="4072208">i</span><span class="op" id="4072209">)</span><span class="op" id="4072210">)</span><br>
<span class="lineno"></span><span class="op" id="4072212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4072215">//&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;to&nbsp;x,&nbsp;with&nbsp;x&#39;s&nbsp;i&#39;th&nbsp;bit&nbsp;set&nbsp;to&nbsp;b&nbsp;(0&nbsp;or&nbsp;1).</span><br>
<span class="lineno"></span><span class="comment" id="4072275">//&nbsp;That&nbsp;is,&nbsp;if&nbsp;b&nbsp;is&nbsp;1&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;(1&nbsp;&lt;&lt;&nbsp;i);</span><br>
<span class="lineno">815</span><span class="comment" id="4072327">//&nbsp;if&nbsp;b&nbsp;is&nbsp;0&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;(1&nbsp;&lt;&lt;&nbsp;i).&nbsp;If&nbsp;b&nbsp;is&nbsp;not&nbsp;0&nbsp;or&nbsp;1,</span><br>
<span class="lineno"></span><span class="comment" id="4072391">//&nbsp;SetBit&nbsp;will&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="4072413">func</span>&nbsp;<span class="op" id="4072418">(</span><span class="ident" id="4072419">z</span>&nbsp;<span class="op" id="4072421">*</span><span class="ident" id="4072422">Int</span><span class="op" id="4072425">)</span>&nbsp;<span class="ident" id="4072427">SetBit</span><span class="op" id="4072433">(</span><span class="ident" id="4072434">x</span>&nbsp;<span class="op" id="4072436">*</span><span class="ident" id="4072437">Int</span><span class="op" id="4072440">,</span>&nbsp;<span class="ident" id="4072442">i</span>&nbsp;<span class="builtintype" id="4072444">int</span><span class="op" id="4072447">,</span>&nbsp;<span class="ident" id="4072449">b</span>&nbsp;<span class="builtintype" id="4072451">uint</span><span class="op" id="4072455">)</span>&nbsp;<span class="op" id="4072457">*</span><span class="ident" id="4072458">Int</span>&nbsp;<span class="op" id="4072462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4072465">if</span>&nbsp;<span class="ident" id="4072468">i</span>&nbsp;<span class="op" id="4072470">&lt;</span>&nbsp;<span class="num" id="4072472">0</span>&nbsp;<span class="op" id="4072474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4072478">panic</span><span class="op" id="4072483">(</span><span class="string" id="4072484">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="4072504">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4072507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4072510">if</span>&nbsp;<span class="ident" id="4072513">x</span><span class="op" id="4072514">.</span><span class="ident" id="4072515">neg</span>&nbsp;<span class="op" id="4072519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4072523">t</span>&nbsp;<span class="op" id="4072525">:=</span>&nbsp;<span class="ident" id="4072528">z</span><span class="op" id="4072529">.</span><span class="ident" id="4072530">abs</span><span class="op" id="4072533">.</span><span class="ident" id="4072534">sub</span><span class="op" id="4072537">(</span><span class="ident" id="4072538">x</span><span class="op" id="4072539">.</span><span class="ident" id="4072540">abs</span><span class="op" id="4072543">,</span>&nbsp;<span class="ident" id="4072545">natOne</span><span class="op" id="4072551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4072555">t</span>&nbsp;<span class="op" id="4072557">=</span>&nbsp;<span class="ident" id="4072559">t</span><span class="op" id="4072560">.</span><span class="ident" id="4072561">setBit</span><span class="op" id="4072567">(</span><span class="ident" id="4072568">t</span><span class="op" id="4072569">,</span>&nbsp;<span class="builtintype" id="4072571">uint</span><span class="op" id="4072575">(</span><span class="ident" id="4072576">i</span><span class="op" id="4072577">)</span><span class="op" id="4072578">,</span>&nbsp;<span class="ident" id="4072580">b</span><span class="op" id="4072581">^</span><span class="num" id="4072582">1</span><span class="op" id="4072583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4072587">z</span><span class="op" id="4072588">.</span><span class="ident" id="4072589">abs</span>&nbsp;<span class="op" id="4072593">=</span>&nbsp;<span class="ident" id="4072595">t</span><span class="op" id="4072596">.</span><span class="ident" id="4072597">add</span><span class="op" id="4072600">(</span><span class="ident" id="4072601">t</span><span class="op" id="4072602">,</span>&nbsp;<span class="ident" id="4072604">natOne</span><span class="op" id="4072610">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4072614">z</span><span class="op" id="4072615">.</span><span class="ident" id="4072616">neg</span>&nbsp;<span class="op" id="4072620">=</span>&nbsp;<span class="builtinfunc" id="4072622">len</span><span class="op" id="4072625">(</span><span class="ident" id="4072626">z</span><span class="op" id="4072627">.</span><span class="ident" id="4072628">abs</span><span class="op" id="4072631">)</span>&nbsp;<span class="op" id="4072633">&gt;</span>&nbsp;<span class="num" id="4072635">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4072639">return</span>&nbsp;<span class="ident" id="4072646">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4072649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4072652">z</span><span class="op" id="4072653">.</span><span class="ident" id="4072654">abs</span>&nbsp;<span class="op" id="4072658">=</span>&nbsp;<span class="ident" id="4072660">z</span><span class="op" id="4072661">.</span><span class="ident" id="4072662">abs</span><span class="op" id="4072665">.</span><span class="ident" id="4072666">setBit</span><span class="op" id="4072672">(</span><span class="ident" id="4072673">x</span><span class="op" id="4072674">.</span><span class="ident" id="4072675">abs</span><span class="op" id="4072678">,</span>&nbsp;<span class="builtintype" id="4072680">uint</span><span class="op" id="4072684">(</span><span class="ident" id="4072685">i</span><span class="op" id="4072686">)</span><span class="op" id="4072687">,</span>&nbsp;<span class="ident" id="4072689">b</span><span class="op" id="4072690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4072693">z</span><span class="op" id="4072694">.</span><span class="ident" id="4072695">neg</span>&nbsp;<span class="op" id="4072699">=</span>&nbsp;<span class="builtintype" id="4072701">false</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4072708">return</span>&nbsp;<span class="ident" id="4072715">z</span><br>
<span class="lineno"></span><span class="op" id="4072717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4072720">//&nbsp;And&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4072757">func</span>&nbsp;<span class="op" id="4072762">(</span><span class="ident" id="4072763">z</span>&nbsp;<span class="op" id="4072765">*</span><span class="ident" id="4072766">Int</span><span class="op" id="4072769">)</span>&nbsp;<span class="ident" id="4072771">And</span><span class="op" id="4072774">(</span><span class="ident" id="4072775">x</span><span class="op" id="4072776">,</span>&nbsp;<span class="ident" id="4072778">y</span>&nbsp;<span class="op" id="4072780">*</span><span class="ident" id="4072781">Int</span><span class="op" id="4072784">)</span>&nbsp;<span class="op" id="4072786">*</span><span class="ident" id="4072787">Int</span>&nbsp;<span class="op" id="4072791">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4072794">if</span>&nbsp;<span class="ident" id="4072797">x</span><span class="op" id="4072798">.</span><span class="ident" id="4072799">neg</span>&nbsp;<span class="op" id="4072803">==</span>&nbsp;<span class="ident" id="4072806">y</span><span class="op" id="4072807">.</span><span class="ident" id="4072808">neg</span>&nbsp;<span class="op" id="4072812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4072816">if</span>&nbsp;<span class="ident" id="4072819">x</span><span class="op" id="4072820">.</span><span class="ident" id="4072821">neg</span>&nbsp;<span class="op" id="4072825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4072830">//&nbsp;(-x)&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4072913">x1</span>&nbsp;<span class="op" id="4072916">:=</span>&nbsp;<span class="ident" id="4072919">nat</span><span class="op" id="4072922">(</span><span class="builtintype" id="4072923">nil</span><span class="op" id="4072926">)</span><span class="op" id="4072927">.</span><span class="ident" id="4072928">sub</span><span class="op" id="4072931">(</span><span class="ident" id="4072932">x</span><span class="op" id="4072933">.</span><span class="ident" id="4072934">abs</span><span class="op" id="4072937">,</span>&nbsp;<span class="ident" id="4072939">natOne</span><span class="op" id="4072945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4072950">y1</span>&nbsp;<span class="op" id="4072953">:=</span>&nbsp;<span class="ident" id="4072956">nat</span><span class="op" id="4072959">(</span><span class="builtintype" id="4072960">nil</span><span class="op" id="4072963">)</span><span class="op" id="4072964">.</span><span class="ident" id="4072965">sub</span><span class="op" id="4072968">(</span><span class="ident" id="4072969">y</span><span class="op" id="4072970">.</span><span class="ident" id="4072971">abs</span><span class="op" id="4072974">,</span>&nbsp;<span class="ident" id="4072976">natOne</span><span class="op" id="4072982">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4072987">z</span><span class="op" id="4072988">.</span><span class="ident" id="4072989">abs</span>&nbsp;<span class="op" id="4072993">=</span>&nbsp;<span class="ident" id="4072995">z</span><span class="op" id="4072996">.</span><span class="ident" id="4072997">abs</span><span class="op" id="4073000">.</span><span class="ident" id="4073001">add</span><span class="op" id="4073004">(</span><span class="ident" id="4073005">z</span><span class="op" id="4073006">.</span><span class="ident" id="4073007">abs</span><span class="op" id="4073010">.</span><span class="ident" id="4073011">or</span><span class="op" id="4073013">(</span><span class="ident" id="4073014">x1</span><span class="op" id="4073016">,</span>&nbsp;<span class="ident" id="4073018">y1</span><span class="op" id="4073020">)</span><span class="op" id="4073021">,</span>&nbsp;<span class="ident" id="4073023">natOne</span><span class="op" id="4073029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073034">z</span><span class="op" id="4073035">.</span><span class="ident" id="4073036">neg</span>&nbsp;<span class="op" id="4073040">=</span>&nbsp;<span class="builtintype" id="4073042">true</span>&nbsp;<span class="comment" id="4073047">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4073094">return</span>&nbsp;<span class="ident" id="4073101">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4073105">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4073110">//&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073130">z</span><span class="op" id="4073131">.</span><span class="ident" id="4073132">abs</span>&nbsp;<span class="op" id="4073136">=</span>&nbsp;<span class="ident" id="4073138">z</span><span class="op" id="4073139">.</span><span class="ident" id="4073140">abs</span><span class="op" id="4073143">.</span><span class="ident" id="4073144">and</span><span class="op" id="4073147">(</span><span class="ident" id="4073148">x</span><span class="op" id="4073149">.</span><span class="ident" id="4073150">abs</span><span class="op" id="4073153">,</span>&nbsp;<span class="ident" id="4073155">y</span><span class="op" id="4073156">.</span><span class="ident" id="4073157">abs</span><span class="op" id="4073160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073164">z</span><span class="op" id="4073165">.</span><span class="ident" id="4073166">neg</span>&nbsp;<span class="op" id="4073170">=</span>&nbsp;<span class="builtintype" id="4073172">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4073180">return</span>&nbsp;<span class="ident" id="4073187">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4073190">}</span><br>
<span class="lineno">850</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4073194">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4073213">if</span>&nbsp;<span class="ident" id="4073216">x</span><span class="op" id="4073217">.</span><span class="ident" id="4073218">neg</span>&nbsp;<span class="op" id="4073222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073226">x</span><span class="op" id="4073227">,</span>&nbsp;<span class="ident" id="4073229">y</span>&nbsp;<span class="op" id="4073231">=</span>&nbsp;<span class="ident" id="4073233">y</span><span class="op" id="4073234">,</span>&nbsp;<span class="ident" id="4073236">x</span>&nbsp;<span class="comment" id="4073238">//&nbsp;&amp;&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4073257">}</span><br>
<span class="lineno">855</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4073261">//&nbsp;x&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073302">y1</span>&nbsp;<span class="op" id="4073305">:=</span>&nbsp;<span class="ident" id="4073308">nat</span><span class="op" id="4073311">(</span><span class="builtintype" id="4073312">nil</span><span class="op" id="4073315">)</span><span class="op" id="4073316">.</span><span class="ident" id="4073317">sub</span><span class="op" id="4073320">(</span><span class="ident" id="4073321">y</span><span class="op" id="4073322">.</span><span class="ident" id="4073323">abs</span><span class="op" id="4073326">,</span>&nbsp;<span class="ident" id="4073328">natOne</span><span class="op" id="4073334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073337">z</span><span class="op" id="4073338">.</span><span class="ident" id="4073339">abs</span>&nbsp;<span class="op" id="4073343">=</span>&nbsp;<span class="ident" id="4073345">z</span><span class="op" id="4073346">.</span><span class="ident" id="4073347">abs</span><span class="op" id="4073350">.</span><span class="ident" id="4073351">andNot</span><span class="op" id="4073357">(</span><span class="ident" id="4073358">x</span><span class="op" id="4073359">.</span><span class="ident" id="4073360">abs</span><span class="op" id="4073363">,</span>&nbsp;<span class="ident" id="4073365">y1</span><span class="op" id="4073367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073370">z</span><span class="op" id="4073371">.</span><span class="ident" id="4073372">neg</span>&nbsp;<span class="op" id="4073376">=</span>&nbsp;<span class="builtintype" id="4073378">false</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4073385">return</span>&nbsp;<span class="ident" id="4073392">z</span><br>
<span class="lineno"></span><span class="op" id="4073394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4073397">//&nbsp;AndNot&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4073438">func</span>&nbsp;<span class="op" id="4073443">(</span><span class="ident" id="4073444">z</span>&nbsp;<span class="op" id="4073446">*</span><span class="ident" id="4073447">Int</span><span class="op" id="4073450">)</span>&nbsp;<span class="ident" id="4073452">AndNot</span><span class="op" id="4073458">(</span><span class="ident" id="4073459">x</span><span class="op" id="4073460">,</span>&nbsp;<span class="ident" id="4073462">y</span>&nbsp;<span class="op" id="4073464">*</span><span class="ident" id="4073465">Int</span><span class="op" id="4073468">)</span>&nbsp;<span class="op" id="4073470">*</span><span class="ident" id="4073471">Int</span>&nbsp;<span class="op" id="4073475">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4073478">if</span>&nbsp;<span class="ident" id="4073481">x</span><span class="op" id="4073482">.</span><span class="ident" id="4073483">neg</span>&nbsp;<span class="op" id="4073487">==</span>&nbsp;<span class="ident" id="4073490">y</span><span class="op" id="4073491">.</span><span class="ident" id="4073492">neg</span>&nbsp;<span class="op" id="4073496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4073500">if</span>&nbsp;<span class="ident" id="4073503">x</span><span class="op" id="4073504">.</span><span class="ident" id="4073505">neg</span>&nbsp;<span class="op" id="4073509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4073514">//&nbsp;(-x)&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;(y-1)&nbsp;==&nbsp;(y-1)&nbsp;&amp;^&nbsp;(x-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073589">x1</span>&nbsp;<span class="op" id="4073592">:=</span>&nbsp;<span class="ident" id="4073595">nat</span><span class="op" id="4073598">(</span><span class="builtintype" id="4073599">nil</span><span class="op" id="4073602">)</span><span class="op" id="4073603">.</span><span class="ident" id="4073604">sub</span><span class="op" id="4073607">(</span><span class="ident" id="4073608">x</span><span class="op" id="4073609">.</span><span class="ident" id="4073610">abs</span><span class="op" id="4073613">,</span>&nbsp;<span class="ident" id="4073615">natOne</span><span class="op" id="4073621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073626">y1</span>&nbsp;<span class="op" id="4073629">:=</span>&nbsp;<span class="ident" id="4073632">nat</span><span class="op" id="4073635">(</span><span class="builtintype" id="4073636">nil</span><span class="op" id="4073639">)</span><span class="op" id="4073640">.</span><span class="ident" id="4073641">sub</span><span class="op" id="4073644">(</span><span class="ident" id="4073645">y</span><span class="op" id="4073646">.</span><span class="ident" id="4073647">abs</span><span class="op" id="4073650">,</span>&nbsp;<span class="ident" id="4073652">natOne</span><span class="op" id="4073658">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073663">z</span><span class="op" id="4073664">.</span><span class="ident" id="4073665">abs</span>&nbsp;<span class="op" id="4073669">=</span>&nbsp;<span class="ident" id="4073671">z</span><span class="op" id="4073672">.</span><span class="ident" id="4073673">abs</span><span class="op" id="4073676">.</span><span class="ident" id="4073677">andNot</span><span class="op" id="4073683">(</span><span class="ident" id="4073684">y1</span><span class="op" id="4073686">,</span>&nbsp;<span class="ident" id="4073688">x1</span><span class="op" id="4073690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073695">z</span><span class="op" id="4073696">.</span><span class="ident" id="4073697">neg</span>&nbsp;<span class="op" id="4073701">=</span>&nbsp;<span class="builtintype" id="4073703">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4073712">return</span>&nbsp;<span class="ident" id="4073719">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4073723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4073728">//&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073750">z</span><span class="op" id="4073751">.</span><span class="ident" id="4073752">abs</span>&nbsp;<span class="op" id="4073756">=</span>&nbsp;<span class="ident" id="4073758">z</span><span class="op" id="4073759">.</span><span class="ident" id="4073760">abs</span><span class="op" id="4073763">.</span><span class="ident" id="4073764">andNot</span><span class="op" id="4073770">(</span><span class="ident" id="4073771">x</span><span class="op" id="4073772">.</span><span class="ident" id="4073773">abs</span><span class="op" id="4073776">,</span>&nbsp;<span class="ident" id="4073778">y</span><span class="op" id="4073779">.</span><span class="ident" id="4073780">abs</span><span class="op" id="4073783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073787">z</span><span class="op" id="4073788">.</span><span class="ident" id="4073789">neg</span>&nbsp;<span class="op" id="4073793">=</span>&nbsp;<span class="builtintype" id="4073795">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4073803">return</span>&nbsp;<span class="ident" id="4073810">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4073813">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4073817">if</span>&nbsp;<span class="ident" id="4073820">x</span><span class="op" id="4073821">.</span><span class="ident" id="4073822">neg</span>&nbsp;<span class="op" id="4073826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4073830">//&nbsp;(-x)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^y&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;y)&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;y)&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073913">x1</span>&nbsp;<span class="op" id="4073916">:=</span>&nbsp;<span class="ident" id="4073919">nat</span><span class="op" id="4073922">(</span><span class="builtintype" id="4073923">nil</span><span class="op" id="4073926">)</span><span class="op" id="4073927">.</span><span class="ident" id="4073928">sub</span><span class="op" id="4073931">(</span><span class="ident" id="4073932">x</span><span class="op" id="4073933">.</span><span class="ident" id="4073934">abs</span><span class="op" id="4073937">,</span>&nbsp;<span class="ident" id="4073939">natOne</span><span class="op" id="4073945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073949">z</span><span class="op" id="4073950">.</span><span class="ident" id="4073951">abs</span>&nbsp;<span class="op" id="4073955">=</span>&nbsp;<span class="ident" id="4073957">z</span><span class="op" id="4073958">.</span><span class="ident" id="4073959">abs</span><span class="op" id="4073962">.</span><span class="ident" id="4073963">add</span><span class="op" id="4073966">(</span><span class="ident" id="4073967">z</span><span class="op" id="4073968">.</span><span class="ident" id="4073969">abs</span><span class="op" id="4073972">.</span><span class="ident" id="4073973">or</span><span class="op" id="4073975">(</span><span class="ident" id="4073976">x1</span><span class="op" id="4073978">,</span>&nbsp;<span class="ident" id="4073980">y</span><span class="op" id="4073981">.</span><span class="ident" id="4073982">abs</span><span class="op" id="4073985">)</span><span class="op" id="4073986">,</span>&nbsp;<span class="ident" id="4073988">natOne</span><span class="op" id="4073994">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4073998">z</span><span class="op" id="4073999">.</span><span class="ident" id="4074000">neg</span>&nbsp;<span class="op" id="4074004">=</span>&nbsp;<span class="builtintype" id="4074006">true</span>&nbsp;<span class="comment" id="4074011">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative&nbsp;and&nbsp;y&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4074068">return</span>&nbsp;<span class="ident" id="4074075">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4074078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4074082">//&nbsp;x&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;(y-1)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4074124">y1</span>&nbsp;<span class="op" id="4074127">:=</span>&nbsp;<span class="ident" id="4074130">nat</span><span class="op" id="4074133">(</span><span class="builtintype" id="4074134">nil</span><span class="op" id="4074137">)</span><span class="op" id="4074138">.</span><span class="ident" id="4074139">add</span><span class="op" id="4074142">(</span><span class="ident" id="4074143">y</span><span class="op" id="4074144">.</span><span class="ident" id="4074145">abs</span><span class="op" id="4074148">,</span>&nbsp;<span class="ident" id="4074150">natOne</span><span class="op" id="4074156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4074159">z</span><span class="op" id="4074160">.</span><span class="ident" id="4074161">abs</span>&nbsp;<span class="op" id="4074165">=</span>&nbsp;<span class="ident" id="4074167">z</span><span class="op" id="4074168">.</span><span class="ident" id="4074169">abs</span><span class="op" id="4074172">.</span><span class="ident" id="4074173">and</span><span class="op" id="4074176">(</span><span class="ident" id="4074177">x</span><span class="op" id="4074178">.</span><span class="ident" id="4074179">abs</span><span class="op" id="4074182">,</span>&nbsp;<span class="ident" id="4074184">y1</span><span class="op" id="4074186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4074189">z</span><span class="op" id="4074190">.</span><span class="ident" id="4074191">neg</span>&nbsp;<span class="op" id="4074195">=</span>&nbsp;<span class="builtintype" id="4074197">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4074204">return</span>&nbsp;<span class="ident" id="4074211">z</span><br>
<span class="lineno"></span><span class="op" id="4074213">}</span><br>
<span class="lineno">895</span><br>
<span class="lineno"></span><span class="comment" id="4074216">//&nbsp;Or&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4074252">func</span>&nbsp;<span class="op" id="4074257">(</span><span class="ident" id="4074258">z</span>&nbsp;<span class="op" id="4074260">*</span><span class="ident" id="4074261">Int</span><span class="op" id="4074264">)</span>&nbsp;<span class="ident" id="4074266">Or</span><span class="op" id="4074268">(</span><span class="ident" id="4074269">x</span><span class="op" id="4074270">,</span>&nbsp;<span class="ident" id="4074272">y</span>&nbsp;<span class="op" id="4074274">*</span><span class="ident" id="4074275">Int</span><span class="op" id="4074278">)</span>&nbsp;<span class="op" id="4074280">*</span><span class="ident" id="4074281">Int</span>&nbsp;<span class="op" id="4074285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4074288">if</span>&nbsp;<span class="ident" id="4074291">x</span><span class="op" id="4074292">.</span><span class="ident" id="4074293">neg</span>&nbsp;<span class="op" id="4074297">==</span>&nbsp;<span class="ident" id="4074300">y</span><span class="op" id="4074301">.</span><span class="ident" id="4074302">neg</span>&nbsp;<span class="op" id="4074306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4074310">if</span>&nbsp;<span class="ident" id="4074313">x</span><span class="op" id="4074314">.</span><span class="ident" id="4074315">neg</span>&nbsp;<span class="op" id="4074319">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4074324">//&nbsp;(-x)&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4074407">x1</span>&nbsp;<span class="op" id="4074410">:=</span>&nbsp;<span class="ident" id="4074413">nat</span><span class="op" id="4074416">(</span><span class="builtintype" id="4074417">nil</span><span class="op" id="4074420">)</span><span class="op" id="4074421">.</span><span class="ident" id="4074422">sub</span><span class="op" id="4074425">(</span><span class="ident" id="4074426">x</span><span class="op" id="4074427">.</span><span class="ident" id="4074428">abs</span><span class="op" id="4074431">,</span>&nbsp;<span class="ident" id="4074433">natOne</span><span class="op" id="4074439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4074444">y1</span>&nbsp;<span class="op" id="4074447">:=</span>&nbsp;<span class="ident" id="4074450">nat</span><span class="op" id="4074453">(</span><span class="builtintype" id="4074454">nil</span><span class="op" id="4074457">)</span><span class="op" id="4074458">.</span><span class="ident" id="4074459">sub</span><span class="op" id="4074462">(</span><span class="ident" id="4074463">y</span><span class="op" id="4074464">.</span><span class="ident" id="4074465">abs</span><span class="op" id="4074468">,</span>&nbsp;<span class="ident" id="4074470">natOne</span><span class="op" id="4074476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4074481">z</span><span class="op" id="4074482">.</span><span class="ident" id="4074483">abs</span>&nbsp;<span class="op" id="4074487">=</span>&nbsp;<span class="ident" id="4074489">z</span><span class="op" id="4074490">.</span><span class="ident" id="4074491">abs</span><span class="op" id="4074494">.</span><span class="ident" id="4074495">add</span><span class="op" id="4074498">(</span><span class="ident" id="4074499">z</span><span class="op" id="4074500">.</span><span class="ident" id="4074501">abs</span><span class="op" id="4074504">.</span><span class="ident" id="4074505">and</span><span class="op" id="4074508">(</span><span class="ident" id="4074509">x1</span><span class="op" id="4074511">,</span>&nbsp;<span class="ident" id="4074513">y1</span><span class="op" id="4074515">)</span><span class="op" id="4074516">,</span>&nbsp;<span class="ident" id="4074518">natOne</span><span class="op" id="4074524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4074529">z</span><span class="op" id="4074530">.</span><span class="ident" id="4074531">neg</span>&nbsp;<span class="op" id="4074535">=</span>&nbsp;<span class="builtintype" id="4074537">true</span>&nbsp;<span class="comment" id="4074542">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4074589">return</span>&nbsp;<span class="ident" id="4074596">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4074600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4074605">//&nbsp;x&nbsp;|&nbsp;y&nbsp;==&nbsp;x&nbsp;|&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4074625">z</span><span class="op" id="4074626">.</span><span class="ident" id="4074627">abs</span>&nbsp;<span class="op" id="4074631">=</span>&nbsp;<span class="ident" id="4074633">z</span><span class="op" id="4074634">.</span><span class="ident" id="4074635">abs</span><span class="op" id="4074638">.</span><span class="ident" id="4074639">or</span><span class="op" id="4074641">(</span><span class="ident" id="4074642">x</span><span class="op" id="4074643">.</span><span class="ident" id="4074644">abs</span><span class="op" id="4074647">,</span>&nbsp;<span class="ident" id="4074649">y</span><span class="op" id="4074650">.</span><span class="ident" id="4074651">abs</span><span class="op" id="4074654">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4074658">z</span><span class="op" id="4074659">.</span><span class="ident" id="4074660">neg</span>&nbsp;<span class="op" id="4074664">=</span>&nbsp;<span class="builtintype" id="4074666">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4074674">return</span>&nbsp;<span class="ident" id="4074681">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4074684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4074688">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4074707">if</span>&nbsp;<span class="ident" id="4074710">x</span><span class="op" id="4074711">.</span><span class="ident" id="4074712">neg</span>&nbsp;<span class="op" id="4074716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4074720">x</span><span class="op" id="4074721">,</span>&nbsp;<span class="ident" id="4074723">y</span>&nbsp;<span class="op" id="4074725">=</span>&nbsp;<span class="ident" id="4074727">y</span><span class="op" id="4074728">,</span>&nbsp;<span class="ident" id="4074730">x</span>&nbsp;<span class="comment" id="4074732">//&nbsp;|&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4074751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4074755">//&nbsp;x&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;==&nbsp;-(^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4074823">y1</span>&nbsp;<span class="op" id="4074826">:=</span>&nbsp;<span class="ident" id="4074829">nat</span><span class="op" id="4074832">(</span><span class="builtintype" id="4074833">nil</span><span class="op" id="4074836">)</span><span class="op" id="4074837">.</span><span class="ident" id="4074838">sub</span><span class="op" id="4074841">(</span><span class="ident" id="4074842">y</span><span class="op" id="4074843">.</span><span class="ident" id="4074844">abs</span><span class="op" id="4074847">,</span>&nbsp;<span class="ident" id="4074849">natOne</span><span class="op" id="4074855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4074858">z</span><span class="op" id="4074859">.</span><span class="ident" id="4074860">abs</span>&nbsp;<span class="op" id="4074864">=</span>&nbsp;<span class="ident" id="4074866">z</span><span class="op" id="4074867">.</span><span class="ident" id="4074868">abs</span><span class="op" id="4074871">.</span><span class="ident" id="4074872">add</span><span class="op" id="4074875">(</span><span class="ident" id="4074876">z</span><span class="op" id="4074877">.</span><span class="ident" id="4074878">abs</span><span class="op" id="4074881">.</span><span class="ident" id="4074882">andNot</span><span class="op" id="4074888">(</span><span class="ident" id="4074889">y1</span><span class="op" id="4074891">,</span>&nbsp;<span class="ident" id="4074893">x</span><span class="op" id="4074894">.</span><span class="ident" id="4074895">abs</span><span class="op" id="4074898">)</span><span class="op" id="4074899">,</span>&nbsp;<span class="ident" id="4074901">natOne</span><span class="op" id="4074907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4074910">z</span><span class="op" id="4074911">.</span><span class="ident" id="4074912">neg</span>&nbsp;<span class="op" id="4074916">=</span>&nbsp;<span class="builtintype" id="4074918">true</span>&nbsp;<span class="comment" id="4074923">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4074973">return</span>&nbsp;<span class="ident" id="4074980">z</span><br>
<span class="lineno"></span><span class="op" id="4074982">}</span><br>
<span class="lineno">925</span><br>
<span class="lineno"></span><span class="comment" id="4074985">//&nbsp;Xor&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4075022">func</span>&nbsp;<span class="op" id="4075027">(</span><span class="ident" id="4075028">z</span>&nbsp;<span class="op" id="4075030">*</span><span class="ident" id="4075031">Int</span><span class="op" id="4075034">)</span>&nbsp;<span class="ident" id="4075036">Xor</span><span class="op" id="4075039">(</span><span class="ident" id="4075040">x</span><span class="op" id="4075041">,</span>&nbsp;<span class="ident" id="4075043">y</span>&nbsp;<span class="op" id="4075045">*</span><span class="ident" id="4075046">Int</span><span class="op" id="4075049">)</span>&nbsp;<span class="op" id="4075051">*</span><span class="ident" id="4075052">Int</span>&nbsp;<span class="op" id="4075056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4075059">if</span>&nbsp;<span class="ident" id="4075062">x</span><span class="op" id="4075063">.</span><span class="ident" id="4075064">neg</span>&nbsp;<span class="op" id="4075068">==</span>&nbsp;<span class="ident" id="4075071">y</span><span class="op" id="4075072">.</span><span class="ident" id="4075073">neg</span>&nbsp;<span class="op" id="4075077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4075081">if</span>&nbsp;<span class="ident" id="4075084">x</span><span class="op" id="4075085">.</span><span class="ident" id="4075086">neg</span>&nbsp;<span class="op" id="4075090">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4075095">//&nbsp;(-x)&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;(x-1)&nbsp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4075149">x1</span>&nbsp;<span class="op" id="4075152">:=</span>&nbsp;<span class="ident" id="4075155">nat</span><span class="op" id="4075158">(</span><span class="builtintype" id="4075159">nil</span><span class="op" id="4075162">)</span><span class="op" id="4075163">.</span><span class="ident" id="4075164">sub</span><span class="op" id="4075167">(</span><span class="ident" id="4075168">x</span><span class="op" id="4075169">.</span><span class="ident" id="4075170">abs</span><span class="op" id="4075173">,</span>&nbsp;<span class="ident" id="4075175">natOne</span><span class="op" id="4075181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4075186">y1</span>&nbsp;<span class="op" id="4075189">:=</span>&nbsp;<span class="ident" id="4075192">nat</span><span class="op" id="4075195">(</span><span class="builtintype" id="4075196">nil</span><span class="op" id="4075199">)</span><span class="op" id="4075200">.</span><span class="ident" id="4075201">sub</span><span class="op" id="4075204">(</span><span class="ident" id="4075205">y</span><span class="op" id="4075206">.</span><span class="ident" id="4075207">abs</span><span class="op" id="4075210">,</span>&nbsp;<span class="ident" id="4075212">natOne</span><span class="op" id="4075218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4075223">z</span><span class="op" id="4075224">.</span><span class="ident" id="4075225">abs</span>&nbsp;<span class="op" id="4075229">=</span>&nbsp;<span class="ident" id="4075231">z</span><span class="op" id="4075232">.</span><span class="ident" id="4075233">abs</span><span class="op" id="4075236">.</span><span class="ident" id="4075237">xor</span><span class="op" id="4075240">(</span><span class="ident" id="4075241">x1</span><span class="op" id="4075243">,</span>&nbsp;<span class="ident" id="4075245">y1</span><span class="op" id="4075247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4075252">z</span><span class="op" id="4075253">.</span><span class="ident" id="4075254">neg</span>&nbsp;<span class="op" id="4075258">=</span>&nbsp;<span class="builtintype" id="4075260">false</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4075269">return</span>&nbsp;<span class="ident" id="4075276">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4075280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4075285">//&nbsp;x&nbsp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4075305">z</span><span class="op" id="4075306">.</span><span class="ident" id="4075307">abs</span>&nbsp;<span class="op" id="4075311">=</span>&nbsp;<span class="ident" id="4075313">z</span><span class="op" id="4075314">.</span><span class="ident" id="4075315">abs</span><span class="op" id="4075318">.</span><span class="ident" id="4075319">xor</span><span class="op" id="4075322">(</span><span class="ident" id="4075323">x</span><span class="op" id="4075324">.</span><span class="ident" id="4075325">abs</span><span class="op" id="4075328">,</span>&nbsp;<span class="ident" id="4075330">y</span><span class="op" id="4075331">.</span><span class="ident" id="4075332">abs</span><span class="op" id="4075335">)</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4075339">z</span><span class="op" id="4075340">.</span><span class="ident" id="4075341">neg</span>&nbsp;<span class="op" id="4075345">=</span>&nbsp;<span class="builtintype" id="4075347">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4075355">return</span>&nbsp;<span class="ident" id="4075362">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4075365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4075369">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4075388">if</span>&nbsp;<span class="ident" id="4075391">x</span><span class="op" id="4075392">.</span><span class="ident" id="4075393">neg</span>&nbsp;<span class="op" id="4075397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4075401">x</span><span class="op" id="4075402">,</span>&nbsp;<span class="ident" id="4075404">y</span>&nbsp;<span class="op" id="4075406">=</span>&nbsp;<span class="ident" id="4075408">y</span><span class="op" id="4075409">,</span>&nbsp;<span class="ident" id="4075411">x</span>&nbsp;<span class="comment" id="4075413">//&nbsp;^&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4075432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4075436">//&nbsp;x&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x&nbsp;^&nbsp;(y-1))&nbsp;==&nbsp;-((x&nbsp;^&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4075501">y1</span>&nbsp;<span class="op" id="4075504">:=</span>&nbsp;<span class="ident" id="4075507">nat</span><span class="op" id="4075510">(</span><span class="builtintype" id="4075511">nil</span><span class="op" id="4075514">)</span><span class="op" id="4075515">.</span><span class="ident" id="4075516">sub</span><span class="op" id="4075519">(</span><span class="ident" id="4075520">y</span><span class="op" id="4075521">.</span><span class="ident" id="4075522">abs</span><span class="op" id="4075525">,</span>&nbsp;<span class="ident" id="4075527">natOne</span><span class="op" id="4075533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4075536">z</span><span class="op" id="4075537">.</span><span class="ident" id="4075538">abs</span>&nbsp;<span class="op" id="4075542">=</span>&nbsp;<span class="ident" id="4075544">z</span><span class="op" id="4075545">.</span><span class="ident" id="4075546">abs</span><span class="op" id="4075549">.</span><span class="ident" id="4075550">add</span><span class="op" id="4075553">(</span><span class="ident" id="4075554">z</span><span class="op" id="4075555">.</span><span class="ident" id="4075556">abs</span><span class="op" id="4075559">.</span><span class="ident" id="4075560">xor</span><span class="op" id="4075563">(</span><span class="ident" id="4075564">x</span><span class="op" id="4075565">.</span><span class="ident" id="4075566">abs</span><span class="op" id="4075569">,</span>&nbsp;<span class="ident" id="4075571">y1</span><span class="op" id="4075573">)</span><span class="op" id="4075574">,</span>&nbsp;<span class="ident" id="4075576">natOne</span><span class="op" id="4075582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4075585">z</span><span class="op" id="4075586">.</span><span class="ident" id="4075587">neg</span>&nbsp;<span class="op" id="4075591">=</span>&nbsp;<span class="builtintype" id="4075593">true</span>&nbsp;<span class="comment" id="4075598">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;only&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4075653">return</span>&nbsp;<span class="ident" id="4075660">z</span><br>
<span class="lineno"></span><span class="op" id="4075662">}</span><br>
<span class="lineno">955</span><br>
<span class="lineno"></span><span class="comment" id="4075665">//&nbsp;Not&nbsp;sets&nbsp;z&nbsp;=&nbsp;^x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4075699">func</span>&nbsp;<span class="op" id="4075704">(</span><span class="ident" id="4075705">z</span>&nbsp;<span class="op" id="4075707">*</span><span class="ident" id="4075708">Int</span><span class="op" id="4075711">)</span>&nbsp;<span class="ident" id="4075713">Not</span><span class="op" id="4075716">(</span><span class="ident" id="4075717">x</span>&nbsp;<span class="op" id="4075719">*</span><span class="ident" id="4075720">Int</span><span class="op" id="4075723">)</span>&nbsp;<span class="op" id="4075725">*</span><span class="ident" id="4075726">Int</span>&nbsp;<span class="op" id="4075730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4075733">if</span>&nbsp;<span class="ident" id="4075736">x</span><span class="op" id="4075737">.</span><span class="ident" id="4075738">neg</span>&nbsp;<span class="op" id="4075742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4075746">//&nbsp;^(-x)&nbsp;==&nbsp;^(^(x-1))&nbsp;==&nbsp;x-1</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4075777">z</span><span class="op" id="4075778">.</span><span class="ident" id="4075779">abs</span>&nbsp;<span class="op" id="4075783">=</span>&nbsp;<span class="ident" id="4075785">z</span><span class="op" id="4075786">.</span><span class="ident" id="4075787">abs</span><span class="op" id="4075790">.</span><span class="ident" id="4075791">sub</span><span class="op" id="4075794">(</span><span class="ident" id="4075795">x</span><span class="op" id="4075796">.</span><span class="ident" id="4075797">abs</span><span class="op" id="4075800">,</span>&nbsp;<span class="ident" id="4075802">natOne</span><span class="op" id="4075808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4075812">z</span><span class="op" id="4075813">.</span><span class="ident" id="4075814">neg</span>&nbsp;<span class="op" id="4075818">=</span>&nbsp;<span class="builtintype" id="4075820">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4075828">return</span>&nbsp;<span class="ident" id="4075835">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4075838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4075842">//&nbsp;^x&nbsp;==&nbsp;-x-1&nbsp;==&nbsp;-(x+1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4075867">z</span><span class="op" id="4075868">.</span><span class="ident" id="4075869">abs</span>&nbsp;<span class="op" id="4075873">=</span>&nbsp;<span class="ident" id="4075875">z</span><span class="op" id="4075876">.</span><span class="ident" id="4075877">abs</span><span class="op" id="4075880">.</span><span class="ident" id="4075881">add</span><span class="op" id="4075884">(</span><span class="ident" id="4075885">x</span><span class="op" id="4075886">.</span><span class="ident" id="4075887">abs</span><span class="op" id="4075890">,</span>&nbsp;<span class="ident" id="4075892">natOne</span><span class="op" id="4075898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4075901">z</span><span class="op" id="4075902">.</span><span class="ident" id="4075903">neg</span>&nbsp;<span class="op" id="4075907">=</span>&nbsp;<span class="builtintype" id="4075909">true</span>&nbsp;<span class="comment" id="4075914">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4075952">return</span>&nbsp;<span class="ident" id="4075959">z</span><br>
<span class="lineno"></span><span class="op" id="4075961">}</span><br>
<span class="lineno">970</span><br>
<span class="lineno"></span><span class="comment" id="4075964">//&nbsp;Gob&nbsp;codec&nbsp;version.&nbsp;Permits&nbsp;backward-compatible&nbsp;changes&nbsp;to&nbsp;the&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4076039">const</span>&nbsp;<span class="ident" id="4076045">intGobVersion</span>&nbsp;<span class="builtintype" id="4076059">byte</span>&nbsp;<span class="op" id="4076064">=</span>&nbsp;<span class="num" id="4076066">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4076069">//&nbsp;GobEncode&nbsp;implements&nbsp;the&nbsp;gob.GobEncoder&nbsp;interface.</span><br>
<span class="lineno">975</span><span class="keyword" id="4076123">func</span>&nbsp;<span class="op" id="4076128">(</span><span class="ident" id="4076129">x</span>&nbsp;<span class="op" id="4076131">*</span><span class="ident" id="4076132">Int</span><span class="op" id="4076135">)</span>&nbsp;<span class="ident" id="4076137">GobEncode</span><span class="op" id="4076146">(</span><span class="op" id="4076147">)</span>&nbsp;<span class="op" id="4076149">(</span><span class="op" id="4076150">[</span><span class="op" id="4076151">]</span><span class="builtintype" id="4076152">byte</span><span class="op" id="4076156">,</span>&nbsp;<span class="builtintype" id="4076158">error</span><span class="op" id="4076163">)</span>&nbsp;<span class="op" id="4076165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4076168">if</span>&nbsp;<span class="ident" id="4076171">x</span>&nbsp;<span class="op" id="4076173">==</span>&nbsp;<span class="builtintype" id="4076176">nil</span>&nbsp;<span class="op" id="4076180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4076184">return</span>&nbsp;<span class="builtintype" id="4076191">nil</span><span class="op" id="4076194">,</span>&nbsp;<span class="builtintype" id="4076196">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4076201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4076204">buf</span>&nbsp;<span class="op" id="4076208">:=</span>&nbsp;<span class="builtinfunc" id="4076211">make</span><span class="op" id="4076215">(</span><span class="op" id="4076216">[</span><span class="op" id="4076217">]</span><span class="builtintype" id="4076218">byte</span><span class="op" id="4076222">,</span>&nbsp;<span class="num" id="4076224">1</span><span class="op" id="4076225">+</span><span class="builtinfunc" id="4076226">len</span><span class="op" id="4076229">(</span><span class="ident" id="4076230">x</span><span class="op" id="4076231">.</span><span class="ident" id="4076232">abs</span><span class="op" id="4076235">)</span><span class="op" id="4076236">*</span><span class="ident" id="4076237">_S</span><span class="op" id="4076239">)</span>&nbsp;<span class="comment" id="4076241">//&nbsp;extra&nbsp;byte&nbsp;for&nbsp;version&nbsp;and&nbsp;sign&nbsp;bit</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4076281">i</span>&nbsp;<span class="op" id="4076283">:=</span>&nbsp;<span class="ident" id="4076286">x</span><span class="op" id="4076287">.</span><span class="ident" id="4076288">abs</span><span class="op" id="4076291">.</span><span class="ident" id="4076292">bytes</span><span class="op" id="4076297">(</span><span class="ident" id="4076298">buf</span><span class="op" id="4076301">)</span>&nbsp;<span class="op" id="4076303">-</span>&nbsp;<span class="num" id="4076305">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4076318">//&nbsp;i&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4076329">b</span>&nbsp;<span class="op" id="4076331">:=</span>&nbsp;<span class="ident" id="4076334">intGobVersion</span>&nbsp;<span class="op" id="4076348">&lt;&lt;</span>&nbsp;<span class="num" id="4076351">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4076366">//&nbsp;make&nbsp;space&nbsp;for&nbsp;sign&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4076394">if</span>&nbsp;<span class="ident" id="4076397">x</span><span class="op" id="4076398">.</span><span class="ident" id="4076399">neg</span>&nbsp;<span class="op" id="4076403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4076407">b</span>&nbsp;<span class="op" id="4076409">|=</span>&nbsp;<span class="num" id="4076412">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4076415">}</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4076418">buf</span><span class="op" id="4076421">[</span><span class="ident" id="4076422">i</span><span class="op" id="4076423">]</span>&nbsp;<span class="op" id="4076425">=</span>&nbsp;<span class="ident" id="4076427">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4076430">return</span>&nbsp;<span class="ident" id="4076437">buf</span><span class="op" id="4076440">[</span><span class="ident" id="4076441">i</span><span class="op" id="4076442">:</span><span class="op" id="4076443">]</span><span class="op" id="4076444">,</span>&nbsp;<span class="builtintype" id="4076446">nil</span><br>
<span class="lineno"></span><span class="op" id="4076450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4076453">//&nbsp;GobDecode&nbsp;implements&nbsp;the&nbsp;gob.GobDecoder&nbsp;interface.</span><br>
<span class="lineno">990</span><span class="keyword" id="4076507">func</span>&nbsp;<span class="op" id="4076512">(</span><span class="ident" id="4076513">z</span>&nbsp;<span class="op" id="4076515">*</span><span class="ident" id="4076516">Int</span><span class="op" id="4076519">)</span>&nbsp;<span class="ident" id="4076521">GobDecode</span><span class="op" id="4076530">(</span><span class="ident" id="4076531">buf</span>&nbsp;<span class="op" id="4076535">[</span><span class="op" id="4076536">]</span><span class="builtintype" id="4076537">byte</span><span class="op" id="4076541">)</span>&nbsp;<span class="builtintype" id="4076543">error</span>&nbsp;<span class="op" id="4076549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4076552">if</span>&nbsp;<span class="builtinfunc" id="4076555">len</span><span class="op" id="4076558">(</span><span class="ident" id="4076559">buf</span><span class="op" id="4076562">)</span>&nbsp;<span class="op" id="4076564">==</span>&nbsp;<span class="num" id="4076567">0</span>&nbsp;<span class="op" id="4076569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4076573">//&nbsp;Other&nbsp;side&nbsp;sent&nbsp;a&nbsp;nil&nbsp;or&nbsp;default&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4076618">*</span><span class="ident" id="4076619">z</span>&nbsp;<span class="op" id="4076621">=</span>&nbsp;<span class="ident" id="4076623">Int</span><span class="op" id="4076626">{</span><span class="op" id="4076627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4076631">return</span>&nbsp;<span class="builtintype" id="4076638">nil</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4076643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4076646">b</span>&nbsp;<span class="op" id="4076648">:=</span>&nbsp;<span class="ident" id="4076651">buf</span><span class="op" id="4076654">[</span><span class="num" id="4076655">0</span><span class="op" id="4076656">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4076659">if</span>&nbsp;<span class="ident" id="4076662">b</span><span class="op" id="4076663">&gt;&gt;</span><span class="num" id="4076665">1</span>&nbsp;<span class="op" id="4076667">!=</span>&nbsp;<span class="ident" id="4076670">intGobVersion</span>&nbsp;<span class="op" id="4076684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4076688">return</span>&nbsp;<span class="ident" id="4076695">errors</span><span class="op" id="4076701">.</span><span class="ident" id="4076702">New</span><span class="op" id="4076705">(</span><span class="ident" id="4076706">fmt</span><span class="op" id="4076709">.</span><span class="ident" id="4076710">Sprintf</span><span class="op" id="4076717">(</span><span class="string" id="4076718">&#34;Int.GobDecode:&nbsp;encoding&nbsp;version&nbsp;%d&nbsp;not&nbsp;supported&#34;</span><span class="op" id="4076768">,</span>&nbsp;<span class="ident" id="4076770">b</span><span class="op" id="4076771">&gt;&gt;</span><span class="num" id="4076773">1</span><span class="op" id="4076774">)</span><span class="op" id="4076775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4076778">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4076781">z</span><span class="op" id="4076782">.</span><span class="ident" id="4076783">neg</span>&nbsp;<span class="op" id="4076787">=</span>&nbsp;<span class="ident" id="4076789">b</span><span class="op" id="4076790">&amp;</span><span class="num" id="4076791">1</span>&nbsp;<span class="op" id="4076793">!=</span>&nbsp;<span class="num" id="4076796">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4076799">z</span><span class="op" id="4076800">.</span><span class="ident" id="4076801">abs</span>&nbsp;<span class="op" id="4076805">=</span>&nbsp;<span class="ident" id="4076807">z</span><span class="op" id="4076808">.</span><span class="ident" id="4076809">abs</span><span class="op" id="4076812">.</span><span class="ident" id="4076813">setBytes</span><span class="op" id="4076821">(</span><span class="ident" id="4076822">buf</span><span class="op" id="4076825">[</span><span class="num" id="4076826">1</span><span class="op" id="4076827">:</span><span class="op" id="4076828">]</span><span class="op" id="4076829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4076832">return</span>&nbsp;<span class="builtintype" id="4076839">nil</span><br>
<span class="lineno"></span><span class="op" id="4076843">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1005</span><span class="comment" id="4076846">//&nbsp;MarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Marshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4076902">func</span>&nbsp;<span class="op" id="4076907">(</span><span class="ident" id="4076908">z</span>&nbsp;<span class="op" id="4076910">*</span><span class="ident" id="4076911">Int</span><span class="op" id="4076914">)</span>&nbsp;<span class="ident" id="4076916">MarshalJSON</span><span class="op" id="4076927">(</span><span class="op" id="4076928">)</span>&nbsp;<span class="op" id="4076930">(</span><span class="op" id="4076931">[</span><span class="op" id="4076932">]</span><span class="builtintype" id="4076933">byte</span><span class="op" id="4076937">,</span>&nbsp;<span class="builtintype" id="4076939">error</span><span class="op" id="4076944">)</span>&nbsp;<span class="op" id="4076946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4076949">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4077005">return</span>&nbsp;<span class="op" id="4077012">[</span><span class="op" id="4077013">]</span><span class="builtintype" id="4077014">byte</span><span class="op" id="4077018">(</span><span class="ident" id="4077019">z</span><span class="op" id="4077020">.</span><span class="ident" id="4077021">String</span><span class="op" id="4077027">(</span><span class="op" id="4077028">)</span><span class="op" id="4077029">)</span><span class="op" id="4077030">,</span>&nbsp;<span class="builtintype" id="4077032">nil</span><br>
<span class="lineno"></span><span class="op" id="4077036">}</span><br>
<span class="lineno">1010</span><br>
<span class="lineno"></span><span class="comment" id="4077039">//&nbsp;UnmarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Unmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4077099">func</span>&nbsp;<span class="op" id="4077104">(</span><span class="ident" id="4077105">z</span>&nbsp;<span class="op" id="4077107">*</span><span class="ident" id="4077108">Int</span><span class="op" id="4077111">)</span>&nbsp;<span class="ident" id="4077113">UnmarshalJSON</span><span class="op" id="4077126">(</span><span class="ident" id="4077127">text</span>&nbsp;<span class="op" id="4077132">[</span><span class="op" id="4077133">]</span><span class="builtintype" id="4077134">byte</span><span class="op" id="4077138">)</span>&nbsp;<span class="builtintype" id="4077140">error</span>&nbsp;<span class="op" id="4077146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4077149">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4077205">if</span>&nbsp;<span class="ident" id="4077208">_</span><span class="op" id="4077209">,</span>&nbsp;<span class="ident" id="4077211">ok</span>&nbsp;<span class="op" id="4077214">:=</span>&nbsp;<span class="ident" id="4077217">z</span><span class="op" id="4077218">.</span><span class="ident" id="4077219">SetString</span><span class="op" id="4077228">(</span><span class="builtintype" id="4077229">string</span><span class="op" id="4077235">(</span><span class="ident" id="4077236">text</span><span class="op" id="4077240">)</span><span class="op" id="4077241">,</span>&nbsp;<span class="num" id="4077243">0</span><span class="op" id="4077244">)</span><span class="op" id="4077245">;</span>&nbsp;<span class="op" id="4077247">!</span><span class="ident" id="4077248">ok</span>&nbsp;<span class="op" id="4077251">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4077255">return</span>&nbsp;<span class="ident" id="4077262">fmt</span><span class="op" id="4077265">.</span><span class="ident" id="4077266">Errorf</span><span class="op" id="4077272">(</span><span class="string" id="4077273">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="4077320">,</span>&nbsp;<span class="ident" id="4077322">text</span><span class="op" id="4077326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4077329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4077332">return</span>&nbsp;<span class="builtintype" id="4077339">nil</span><br>
<span class="lineno"></span><span class="op" id="4077343">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1020</span><span class="comment" id="4077346">//&nbsp;MarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextMarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4077410">func</span>&nbsp;<span class="op" id="4077415">(</span><span class="ident" id="4077416">z</span>&nbsp;<span class="op" id="4077418">*</span><span class="ident" id="4077419">Int</span><span class="op" id="4077422">)</span>&nbsp;<span class="ident" id="4077424">MarshalText</span><span class="op" id="4077435">(</span><span class="op" id="4077436">)</span>&nbsp;<span class="op" id="4077438">(</span><span class="ident" id="4077439">text</span>&nbsp;<span class="op" id="4077444">[</span><span class="op" id="4077445">]</span><span class="builtintype" id="4077446">byte</span><span class="op" id="4077450">,</span>&nbsp;<span class="ident" id="4077452">err</span>&nbsp;<span class="builtintype" id="4077456">error</span><span class="op" id="4077461">)</span>&nbsp;<span class="op" id="4077463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4077466">return</span>&nbsp;<span class="op" id="4077473">[</span><span class="op" id="4077474">]</span><span class="builtintype" id="4077475">byte</span><span class="op" id="4077479">(</span><span class="ident" id="4077480">z</span><span class="op" id="4077481">.</span><span class="ident" id="4077482">String</span><span class="op" id="4077488">(</span><span class="op" id="4077489">)</span><span class="op" id="4077490">)</span><span class="op" id="4077491">,</span>&nbsp;<span class="builtintype" id="4077493">nil</span><br>
<span class="lineno"></span><span class="op" id="4077497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1025</span><span class="comment" id="4077500">//&nbsp;UnmarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextUnmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4077568">func</span>&nbsp;<span class="op" id="4077573">(</span><span class="ident" id="4077574">z</span>&nbsp;<span class="op" id="4077576">*</span><span class="ident" id="4077577">Int</span><span class="op" id="4077580">)</span>&nbsp;<span class="ident" id="4077582">UnmarshalText</span><span class="op" id="4077595">(</span><span class="ident" id="4077596">text</span>&nbsp;<span class="op" id="4077601">[</span><span class="op" id="4077602">]</span><span class="builtintype" id="4077603">byte</span><span class="op" id="4077607">)</span>&nbsp;<span class="builtintype" id="4077609">error</span>&nbsp;<span class="op" id="4077615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4077618">if</span>&nbsp;<span class="ident" id="4077621">_</span><span class="op" id="4077622">,</span>&nbsp;<span class="ident" id="4077624">ok</span>&nbsp;<span class="op" id="4077627">:=</span>&nbsp;<span class="ident" id="4077630">z</span><span class="op" id="4077631">.</span><span class="ident" id="4077632">SetString</span><span class="op" id="4077641">(</span><span class="builtintype" id="4077642">string</span><span class="op" id="4077648">(</span><span class="ident" id="4077649">text</span><span class="op" id="4077653">)</span><span class="op" id="4077654">,</span>&nbsp;<span class="num" id="4077656">0</span><span class="op" id="4077657">)</span><span class="op" id="4077658">;</span>&nbsp;<span class="op" id="4077660">!</span><span class="ident" id="4077661">ok</span>&nbsp;<span class="op" id="4077664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4077668">return</span>&nbsp;<span class="ident" id="4077675">fmt</span><span class="op" id="4077678">.</span><span class="ident" id="4077679">Errorf</span><span class="op" id="4077685">(</span><span class="string" id="4077686">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="4077733">,</span>&nbsp;<span class="ident" id="4077735">text</span><span class="op" id="4077739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4077742">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4077745">return</span>&nbsp;<span class="builtintype" id="4077752">nil</span><br>
<span class="lineno"></span><span class="op" id="4077756">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
