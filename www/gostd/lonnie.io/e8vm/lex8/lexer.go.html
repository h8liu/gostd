<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>lonnie.io/e8vm/lex8</h2>
<ul>
<li><a href="/gostd/lonnie.io/e8vm/lex8/error.go.html">error.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/error_list.go.html">error_list.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/lex_scanner.go.html">lex_scanner.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/lexer.go.html">lexer.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/pos.go.html">pos.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/rune_scanner.go.html">rune_scanner.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/token.go.html">token.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="keyword" id="3668727">package</span>&nbsp;<span class="ident" id="3668735">lex8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3668741">import</span>&nbsp;<span class="op" id="3668748">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3668751">&#34;io&#34;</span><br>
<span class="lineno">5</span><span class="op" id="3668756">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3668759">//&nbsp;Lexer&nbsp;parses&nbsp;a&nbsp;file&nbsp;input&nbsp;stream&nbsp;into&nbsp;tokens.</span><br>
<span class="lineno"></span><span class="keyword" id="3668808">type</span>&nbsp;<span class="ident" id="3668813">Lexer</span>&nbsp;<span class="keyword" id="3668819">struct</span>&nbsp;<span class="op" id="3668826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3668829">s</span>&nbsp;<span class="op" id="3668831">*</span><span class="ident" id="3668832">LexScanner</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3668845">e</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3668850">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3668857">errs</span>&nbsp;<span class="op" id="3668862">*</span><span class="ident" id="3668863">ErrorList</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3668875">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3668883">rune</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3668889">IsWhite</span>&nbsp;<span class="keyword" id="3668897">func</span><span class="op" id="3668901">(</span><span class="ident" id="3668902">r</span>&nbsp;<span class="builtintype" id="3668904">rune</span><span class="op" id="3668908">)</span>&nbsp;<span class="builtintype" id="3668910">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3668916">LexFunc</span>&nbsp;<span class="keyword" id="3668924">func</span><span class="op" id="3668928">(</span><span class="ident" id="3668929">x</span>&nbsp;<span class="op" id="3668931">*</span><span class="ident" id="3668932">Lexer</span><span class="op" id="3668937">)</span>&nbsp;<span class="op" id="3668939">*</span><span class="ident" id="3668940">Token</span><br>
<span class="lineno"></span><span class="op" id="3668946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3668949">//&nbsp;NewLexer&nbsp;creates&nbsp;a&nbsp;new&nbsp;lexer.</span><br>
<span class="lineno">20</span><span class="keyword" id="3668982">func</span>&nbsp;<span class="ident" id="3668987">NewLexer</span><span class="op" id="3668995">(</span><span class="ident" id="3668996">file</span>&nbsp;<span class="builtintype" id="3669001">string</span><span class="op" id="3669007">,</span>&nbsp;<span class="ident" id="3669009">r</span>&nbsp;<span class="ident" id="3669011">io</span><span class="op" id="3669013">.</span><span class="ident" id="3669014">ReadCloser</span><span class="op" id="3669024">)</span>&nbsp;<span class="op" id="3669026">*</span><span class="ident" id="3669027">Lexer</span>&nbsp;<span class="op" id="3669033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3669036">ret</span>&nbsp;<span class="op" id="3669040">:=</span>&nbsp;<span class="builtinfunc" id="3669043">new</span><span class="op" id="3669046">(</span><span class="ident" id="3669047">Lexer</span><span class="op" id="3669052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3669055">ret</span><span class="op" id="3669058">.</span><span class="ident" id="3669059">s</span>&nbsp;<span class="op" id="3669061">=</span>&nbsp;<span class="ident" id="3669063">NewLexScanner</span><span class="op" id="3669076">(</span><span class="ident" id="3669077">file</span><span class="op" id="3669081">,</span>&nbsp;<span class="ident" id="3669083">r</span><span class="op" id="3669084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3669087">ret</span><span class="op" id="3669090">.</span><span class="ident" id="3669091">errs</span>&nbsp;<span class="op" id="3669096">=</span>&nbsp;<span class="ident" id="3669098">NewErrList</span><span class="op" id="3669108">(</span><span class="op" id="3669109">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3669113">ret</span><span class="op" id="3669116">.</span><span class="ident" id="3669117">IsWhite</span>&nbsp;<span class="op" id="3669125">=</span>&nbsp;<span class="keyword" id="3669127">func</span><span class="op" id="3669131">(</span><span class="ident" id="3669132">r</span>&nbsp;<span class="builtintype" id="3669134">rune</span><span class="op" id="3669138">)</span>&nbsp;<span class="builtintype" id="3669140">bool</span>&nbsp;<span class="op" id="3669145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3669149">return</span>&nbsp;<span class="ident" id="3669156">r</span>&nbsp;<span class="op" id="3669158">==</span>&nbsp;<span class="string" id="3669161">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3669165">||</span>&nbsp;<span class="ident" id="3669168">r</span>&nbsp;<span class="op" id="3669170">==</span>&nbsp;<span class="string" id="3669173">&#39;\t&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3669179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3669183">ret</span><span class="op" id="3669186">.</span><span class="ident" id="3669187">Next</span><span class="op" id="3669191">(</span><span class="op" id="3669192">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3669196">return</span>&nbsp;<span class="ident" id="3669203">ret</span><br>
<span class="lineno"></span><span class="op" id="3669207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3669210">//&nbsp;Next&nbsp;pushes&nbsp;the&nbsp;current&nbsp;rune&nbsp;into&nbsp;the&nbsp;scanning&nbsp;buffer,</span><br>
<span class="lineno">35</span><span class="comment" id="3669268">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;next&nbsp;rune.</span><br>
<span class="lineno"></span><span class="keyword" id="3669298">func</span>&nbsp;<span class="op" id="3669303">(</span><span class="ident" id="3669304">x</span>&nbsp;<span class="op" id="3669306">*</span><span class="ident" id="3669307">Lexer</span><span class="op" id="3669312">)</span>&nbsp;<span class="ident" id="3669314">Next</span><span class="op" id="3669318">(</span><span class="op" id="3669319">)</span>&nbsp;<span class="op" id="3669321">(</span><span class="builtintype" id="3669322">rune</span><span class="op" id="3669326">,</span>&nbsp;<span class="builtintype" id="3669328">error</span><span class="op" id="3669333">)</span>&nbsp;<span class="op" id="3669335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3669338">x</span><span class="op" id="3669339">.</span><span class="ident" id="3669340">r</span><span class="op" id="3669341">,</span>&nbsp;<span class="ident" id="3669343">x</span><span class="op" id="3669344">.</span><span class="ident" id="3669345">e</span>&nbsp;<span class="op" id="3669347">=</span>&nbsp;<span class="ident" id="3669349">x</span><span class="op" id="3669350">.</span><span class="ident" id="3669351">s</span><span class="op" id="3669352">.</span><span class="ident" id="3669353">Next</span><span class="op" id="3669357">(</span><span class="op" id="3669358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3669361">return</span>&nbsp;<span class="ident" id="3669368">x</span><span class="op" id="3669369">.</span><span class="ident" id="3669370">r</span><span class="op" id="3669371">,</span>&nbsp;<span class="ident" id="3669373">x</span><span class="op" id="3669374">.</span><span class="ident" id="3669375">e</span><br>
<span class="lineno"></span><span class="op" id="3669377">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="3669380">//&nbsp;Rune&nbsp;returns&nbsp;the&nbsp;current&nbsp;rune.</span><br>
<span class="lineno"></span><span class="keyword" id="3669414">func</span>&nbsp;<span class="op" id="3669419">(</span><span class="ident" id="3669420">x</span>&nbsp;<span class="op" id="3669422">*</span><span class="ident" id="3669423">Lexer</span><span class="op" id="3669428">)</span>&nbsp;<span class="ident" id="3669430">Rune</span><span class="op" id="3669434">(</span><span class="op" id="3669435">)</span>&nbsp;<span class="builtintype" id="3669437">rune</span>&nbsp;<span class="op" id="3669442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3669445">return</span>&nbsp;<span class="ident" id="3669452">x</span><span class="op" id="3669453">.</span><span class="ident" id="3669454">r</span><br>
<span class="lineno"></span><span class="op" id="3669456">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="3669459">//&nbsp;See&nbsp;returns&nbsp;true&nbsp;when&nbsp;the&nbsp;current&nbsp;rune&nbsp;is&nbsp;r.</span><br>
<span class="lineno"></span><span class="keyword" id="3669507">func</span>&nbsp;<span class="op" id="3669512">(</span><span class="ident" id="3669513">x</span>&nbsp;<span class="op" id="3669515">*</span><span class="ident" id="3669516">Lexer</span><span class="op" id="3669521">)</span>&nbsp;<span class="ident" id="3669523">See</span><span class="op" id="3669526">(</span><span class="ident" id="3669527">r</span>&nbsp;<span class="builtintype" id="3669529">rune</span><span class="op" id="3669533">)</span>&nbsp;<span class="builtintype" id="3669535">bool</span>&nbsp;<span class="op" id="3669540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3669543">return</span>&nbsp;<span class="ident" id="3669550">x</span><span class="op" id="3669551">.</span><span class="ident" id="3669552">r</span>&nbsp;<span class="op" id="3669554">==</span>&nbsp;<span class="ident" id="3669557">r</span><br>
<span class="lineno"></span><span class="op" id="3669559">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="3669562">//&nbsp;Discard&nbsp;clears&nbsp;the&nbsp;scanning&nbsp;buffer</span><br>
<span class="lineno"></span><span class="keyword" id="3669600">func</span>&nbsp;<span class="op" id="3669605">(</span><span class="ident" id="3669606">x</span>&nbsp;<span class="op" id="3669608">*</span><span class="ident" id="3669609">Lexer</span><span class="op" id="3669614">)</span>&nbsp;<span class="ident" id="3669616">Discard</span><span class="op" id="3669623">(</span><span class="op" id="3669624">)</span>&nbsp;<span class="op" id="3669626">{</span>&nbsp;<span class="ident" id="3669628">x</span><span class="op" id="3669629">.</span><span class="ident" id="3669630">s</span><span class="op" id="3669631">.</span><span class="ident" id="3669632">Accept</span><span class="op" id="3669638">(</span><span class="op" id="3669639">)</span>&nbsp;<span class="op" id="3669641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3669644">//&nbsp;Ended&nbsp;returns&nbsp;true&nbsp;when&nbsp;the&nbsp;scanning&nbsp;stops.</span><br>
<span class="lineno">55</span><span class="keyword" id="3669691">func</span>&nbsp;<span class="op" id="3669696">(</span><span class="ident" id="3669697">x</span>&nbsp;<span class="op" id="3669699">*</span><span class="ident" id="3669700">Lexer</span><span class="op" id="3669705">)</span>&nbsp;<span class="ident" id="3669707">Ended</span><span class="op" id="3669712">(</span><span class="op" id="3669713">)</span>&nbsp;<span class="builtintype" id="3669715">bool</span>&nbsp;<span class="op" id="3669720">{</span>&nbsp;<span class="keyword" id="3669722">return</span>&nbsp;<span class="ident" id="3669729">x</span><span class="op" id="3669730">.</span><span class="ident" id="3669731">e</span>&nbsp;<span class="op" id="3669733">!=</span>&nbsp;<span class="ident" id="3669736">nil</span>&nbsp;<span class="op" id="3669740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3669743">//&nbsp;SkipWhite&nbsp;is&nbsp;a&nbsp;helper&nbsp;function&nbsp;that&nbsp;skips</span><br>
<span class="lineno"></span><span class="comment" id="3669788">//&nbsp;any&nbsp;rune&nbsp;that&nbsp;returns&nbsp;true&nbsp;by&nbsp;IsWhite&nbsp;function.</span><br>
<span class="lineno"></span><span class="comment" id="3669839">//&nbsp;The&nbsp;buffer&nbsp;is&nbsp;discarded&nbsp;after&nbsp;the&nbsp;skipping.</span><br>
<span class="lineno">60</span><span class="keyword" id="3669886">func</span>&nbsp;<span class="op" id="3669891">(</span><span class="ident" id="3669892">x</span>&nbsp;<span class="op" id="3669894">*</span><span class="ident" id="3669895">Lexer</span><span class="op" id="3669900">)</span>&nbsp;<span class="ident" id="3669902">SkipWhite</span><span class="op" id="3669911">(</span><span class="op" id="3669912">)</span>&nbsp;<span class="op" id="3669914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3669917">for</span>&nbsp;<span class="op" id="3669921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3669925">if</span>&nbsp;<span class="ident" id="3669928">x</span><span class="op" id="3669929">.</span><span class="ident" id="3669930">Ended</span><span class="op" id="3669935">(</span><span class="op" id="3669936">)</span>&nbsp;<span class="op" id="3669938">||</span>&nbsp;<span class="op" id="3669941">!</span><span class="ident" id="3669942">x</span><span class="op" id="3669943">.</span><span class="ident" id="3669944">IsWhite</span><span class="op" id="3669951">(</span><span class="ident" id="3669952">x</span><span class="op" id="3669953">.</span><span class="ident" id="3669954">r</span><span class="op" id="3669955">)</span>&nbsp;<span class="op" id="3669957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3669962">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3669970">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3669974">x</span><span class="op" id="3669975">.</span><span class="ident" id="3669976">Next</span><span class="op" id="3669980">(</span><span class="op" id="3669981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3669984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3669987">x</span><span class="op" id="3669988">.</span><span class="ident" id="3669989">Discard</span><span class="op" id="3669996">(</span><span class="op" id="3669997">)</span><br>
<span class="lineno"></span><span class="op" id="3669999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="comment" id="3670002">//&nbsp;MakeToken&nbsp;accepts&nbsp;the&nbsp;runes&nbsp;in&nbsp;the&nbsp;scanning&nbsp;buffer</span><br>
<span class="lineno"></span><span class="comment" id="3670056">//&nbsp;and&nbsp;returns&nbsp;it&nbsp;as&nbsp;a&nbsp;token&nbsp;of&nbsp;type&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="3670096">func</span>&nbsp;<span class="op" id="3670101">(</span><span class="ident" id="3670102">x</span>&nbsp;<span class="op" id="3670104">*</span><span class="ident" id="3670105">Lexer</span><span class="op" id="3670110">)</span>&nbsp;<span class="ident" id="3670112">MakeToken</span><span class="op" id="3670121">(</span><span class="ident" id="3670122">t</span>&nbsp;<span class="builtintype" id="3670124">int</span><span class="op" id="3670127">)</span>&nbsp;<span class="op" id="3670129">*</span><span class="ident" id="3670130">Token</span>&nbsp;<span class="op" id="3670136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3670139">s</span><span class="op" id="3670140">,</span>&nbsp;<span class="ident" id="3670142">p</span>&nbsp;<span class="op" id="3670144">:=</span>&nbsp;<span class="ident" id="3670147">x</span><span class="op" id="3670148">.</span><span class="ident" id="3670149">s</span><span class="op" id="3670150">.</span><span class="ident" id="3670151">Accept</span><span class="op" id="3670157">(</span><span class="op" id="3670158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3670161">return</span>&nbsp;<span class="op" id="3670168">&amp;</span><span class="ident" id="3670169">Token</span><span class="op" id="3670174">{</span><span class="ident" id="3670175">t</span><span class="op" id="3670176">,</span>&nbsp;<span class="ident" id="3670178">s</span><span class="op" id="3670179">,</span>&nbsp;<span class="ident" id="3670181">p</span><span class="op" id="3670182">}</span><br>
<span class="lineno">75</span><span class="op" id="3670184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3670187">//&nbsp;Token&nbsp;returns&nbsp;the&nbsp;next&nbsp;parsed&nbsp;token.</span><br>
<span class="lineno"></span><span class="comment" id="3670227">//&nbsp;It&nbsp;ends&nbsp;with&nbsp;a&nbsp;token&nbsp;with&nbsp;type&nbsp;EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="3670266">func</span>&nbsp;<span class="op" id="3670271">(</span><span class="ident" id="3670272">x</span>&nbsp;<span class="op" id="3670274">*</span><span class="ident" id="3670275">Lexer</span><span class="op" id="3670280">)</span>&nbsp;<span class="ident" id="3670282">Token</span><span class="op" id="3670287">(</span><span class="op" id="3670288">)</span>&nbsp;<span class="op" id="3670290">*</span><span class="ident" id="3670291">Token</span>&nbsp;<span class="op" id="3670297">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3670300">x</span><span class="op" id="3670301">.</span><span class="ident" id="3670302">SkipWhite</span><span class="op" id="3670311">(</span><span class="op" id="3670312">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3670316">if</span>&nbsp;<span class="ident" id="3670319">x</span><span class="op" id="3670320">.</span><span class="ident" id="3670321">Ended</span><span class="op" id="3670326">(</span><span class="op" id="3670327">)</span>&nbsp;<span class="op" id="3670329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3670333">return</span>&nbsp;<span class="ident" id="3670340">x</span><span class="op" id="3670341">.</span><span class="ident" id="3670342">MakeToken</span><span class="op" id="3670351">(</span><span class="ident" id="3670352">EOF</span><span class="op" id="3670355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3670358">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3670362">if</span>&nbsp;<span class="ident" id="3670365">x</span><span class="op" id="3670366">.</span><span class="ident" id="3670367">LexFunc</span>&nbsp;<span class="op" id="3670375">==</span>&nbsp;<span class="ident" id="3670378">nil</span>&nbsp;<span class="op" id="3670382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3670386">x</span><span class="op" id="3670387">.</span><span class="ident" id="3670388">Next</span><span class="op" id="3670392">(</span><span class="op" id="3670393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3670397">return</span>&nbsp;<span class="ident" id="3670404">x</span><span class="op" id="3670405">.</span><span class="ident" id="3670406">MakeToken</span><span class="op" id="3670415">(</span><span class="ident" id="3670416">Illegal</span><span class="op" id="3670423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3670426">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3670430">return</span>&nbsp;<span class="ident" id="3670437">x</span><span class="op" id="3670438">.</span><span class="ident" id="3670439">LexFunc</span><span class="op" id="3670446">(</span><span class="ident" id="3670447">x</span><span class="op" id="3670448">)</span><br>
<span class="lineno"></span><span class="op" id="3670450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3670453">//&nbsp;Err&nbsp;adds&nbsp;an&nbsp;error&nbsp;into&nbsp;the&nbsp;error&nbsp;list&nbsp;with&nbsp;current&nbsp;postion.</span><br>
<span class="lineno">95</span><span class="keyword" id="3670516">func</span>&nbsp;<span class="op" id="3670521">(</span><span class="ident" id="3670522">x</span>&nbsp;<span class="op" id="3670524">*</span><span class="ident" id="3670525">Lexer</span><span class="op" id="3670530">)</span>&nbsp;<span class="ident" id="3670532">Err</span><span class="op" id="3670535">(</span><span class="ident" id="3670536">f</span>&nbsp;<span class="builtintype" id="3670538">string</span><span class="op" id="3670544">,</span>&nbsp;<span class="ident" id="3670546">args</span>&nbsp;<span class="op" id="3670551">...</span><span class="keyword" id="3670554">interface</span><span class="op" id="3670563">{</span><span class="op" id="3670564">}</span><span class="op" id="3670565">)</span>&nbsp;<span class="op" id="3670567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3670570">x</span><span class="op" id="3670571">.</span><span class="ident" id="3670572">errs</span><span class="op" id="3670576">.</span><span class="ident" id="3670577">Addf</span><span class="op" id="3670581">(</span><span class="ident" id="3670582">x</span><span class="op" id="3670583">.</span><span class="ident" id="3670584">s</span><span class="op" id="3670585">.</span><span class="ident" id="3670586">Pos</span><span class="op" id="3670589">(</span><span class="op" id="3670590">)</span><span class="op" id="3670591">,</span>&nbsp;<span class="ident" id="3670593">f</span><span class="op" id="3670594">,</span>&nbsp;<span class="ident" id="3670596">args</span><span class="op" id="3670600">...</span><span class="op" id="3670603">)</span><br>
<span class="lineno"></span><span class="op" id="3670605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3670608">//&nbsp;Errs&nbsp;returns&nbsp;the&nbsp;lexing&nbsp;errors.</span><br>
<span class="lineno">100</span><span class="keyword" id="3670643">func</span>&nbsp;<span class="op" id="3670648">(</span><span class="ident" id="3670649">x</span>&nbsp;<span class="op" id="3670651">*</span><span class="ident" id="3670652">Lexer</span><span class="op" id="3670657">)</span>&nbsp;<span class="ident" id="3670659">Errs</span><span class="op" id="3670663">(</span><span class="op" id="3670664">)</span>&nbsp;<span class="op" id="3670666">[</span><span class="op" id="3670667">]</span><span class="op" id="3670668">*</span><span class="ident" id="3670669">Error</span>&nbsp;<span class="op" id="3670675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3670678">if</span>&nbsp;<span class="ident" id="3670681">x</span><span class="op" id="3670682">.</span><span class="ident" id="3670683">e</span>&nbsp;<span class="op" id="3670685">!=</span>&nbsp;<span class="ident" id="3670688">nil</span>&nbsp;<span class="op" id="3670692">&amp;&amp;</span>&nbsp;<span class="ident" id="3670695">x</span><span class="op" id="3670696">.</span><span class="ident" id="3670697">e</span>&nbsp;<span class="op" id="3670699">!=</span>&nbsp;<span class="ident" id="3670702">io</span><span class="op" id="3670704">.</span><span class="ident" id="3670705">EOF</span>&nbsp;<span class="op" id="3670709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3670713">return</span>&nbsp;<span class="op" id="3670720">[</span><span class="op" id="3670721">]</span><span class="op" id="3670722">*</span><span class="ident" id="3670723">Error</span><span class="op" id="3670728">{</span><span class="op" id="3670729">{</span><span class="ident" id="3670730">Err</span><span class="op" id="3670733">:</span>&nbsp;<span class="ident" id="3670735">x</span><span class="op" id="3670736">.</span><span class="ident" id="3670737">e</span><span class="op" id="3670738">}</span><span class="op" id="3670739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3670742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3670746">return</span>&nbsp;<span class="ident" id="3670753">x</span><span class="op" id="3670754">.</span><span class="ident" id="3670755">errs</span><span class="op" id="3670759">.</span><span class="ident" id="3670760">Errs</span><br>
<span class="lineno"></span><span class="op" id="3670765">}</span>
</div>
</body>
</html>
