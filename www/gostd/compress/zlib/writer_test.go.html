<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/zlib</h2>
<ul>
<li><a href="/gostd/compress/zlib/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/compress/zlib/reader.go.html">reader.go</a></li>
<li><a href="/gostd/compress/zlib/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/zlib/writer.go.html">writer.go</a></li>
<li><a href="/gostd/compress/zlib/writer_test.go.html" class="current">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7472493">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7472548">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7472602">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7472653">package</span>&nbsp;<span class="ident" id="7472661">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7472667">import</span>&nbsp;<span class="op" id="7472674">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7472677">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7472686">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7472693">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7472699">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7472712">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7472718">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7472728">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7472731">var</span>&nbsp;<span class="ident" id="7472735">filenames</span>&nbsp;<span class="op" id="7472745">=</span>&nbsp;<span class="op" id="7472747">[</span><span class="op" id="7472748">]</span><span class="builtintype" id="7472749">string</span><span class="op" id="7472755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7472758">&#34;../testdata/e.txt&#34;</span><span class="op" id="7472777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7472780">&#34;../testdata/pi.txt&#34;</span><span class="op" id="7472800">,</span><br>
<span class="lineno"></span><span class="op" id="7472802">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7472805">var</span>&nbsp;<span class="ident" id="7472809">data</span>&nbsp;<span class="op" id="7472814">=</span>&nbsp;<span class="op" id="7472816">[</span><span class="op" id="7472817">]</span><span class="builtintype" id="7472818">string</span><span class="op" id="7472824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7472827">&#34;test&nbsp;a&nbsp;reasonable&nbsp;sized&nbsp;string&nbsp;that&nbsp;can&nbsp;be&nbsp;compressed&#34;</span><span class="op" id="7472882">,</span><br>
<span class="lineno"></span><span class="op" id="7472884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="7472887">//&nbsp;Tests&nbsp;that&nbsp;compressing&nbsp;and&nbsp;then&nbsp;decompressing&nbsp;the&nbsp;given&nbsp;file&nbsp;at&nbsp;the&nbsp;given&nbsp;compression&nbsp;level&nbsp;and&nbsp;dictionary</span><br>
<span class="lineno"></span><span class="comment" id="7472997">//&nbsp;yields&nbsp;equivalent&nbsp;bytes&nbsp;to&nbsp;the&nbsp;original&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="7473046">func</span>&nbsp;<span class="ident" id="7473051">testFileLevelDict</span><span class="op" id="7473068">(</span><span class="ident" id="7473069">t</span>&nbsp;<span class="op" id="7473071">*</span><span class="ident" id="7473072"><a href="/gostd/compress/zlib/writer_test.go.html#7472718">testing</a></span><span class="op" id="7473079">.</span><span class="ident" id="7473080"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7473081">,</span>&nbsp;<span class="ident" id="7473083">fn</span>&nbsp;<span class="builtintype" id="7473086">string</span><span class="op" id="7473092">,</span>&nbsp;<span class="ident" id="7473094">level</span>&nbsp;<span class="builtintype" id="7473100">int</span><span class="op" id="7473103">,</span>&nbsp;<span class="ident" id="7473105">d</span>&nbsp;<span class="builtintype" id="7473107">string</span><span class="op" id="7473113">)</span>&nbsp;<span class="op" id="7473115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7473118">//&nbsp;Read&nbsp;the&nbsp;file,&nbsp;as&nbsp;golden&nbsp;output.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7473155">golden</span><span class="op" id="7473161">,</span>&nbsp;<span class="ident" id="7473163">err</span>&nbsp;<span class="op" id="7473167">:=</span>&nbsp;<span class="ident" id="7473170"><a href="/gostd/compress/zlib/writer_test.go.html#7472712">os</a></span><span class="op" id="7473172">.</span><span class="ident" id="7473173"><a href="/gostd/os/file.go.html#2446863">Open</a></span><span class="op" id="7473177">(</span><span class="ident" id="7473178"><a href="/gostd/compress/zlib/writer_test.go.html#7473083">fn</a></span><span class="op" id="7473180">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7473183">if</span>&nbsp;<span class="ident" id="7473186"><a href="/gostd/compress/zlib/writer_test.go.html#7473163">err</a></span>&nbsp;<span class="op" id="7473190">!=</span>&nbsp;<span class="builtintype" id="7473193">nil</span>&nbsp;<span class="op" id="7473197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7473201"><a href="/gostd/compress/zlib/writer_test.go.html#7473069">t</a></span><span class="op" id="7473202">.</span><span class="ident" id="7473203"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7473209">(</span><span class="string" id="7473210">&#34;%s&nbsp;(level=%d,&nbsp;dict=%q):&nbsp;%v&#34;</span><span class="op" id="7473238">,</span>&nbsp;<span class="ident" id="7473240"><a href="/gostd/compress/zlib/writer_test.go.html#7473083">fn</a></span><span class="op" id="7473242">,</span>&nbsp;<span class="ident" id="7473244"><a href="/gostd/compress/zlib/writer_test.go.html#7473094">level</a></span><span class="op" id="7473249">,</span>&nbsp;<span class="ident" id="7473251"><a href="/gostd/compress/zlib/writer_test.go.html#7473105">d</a></span><span class="op" id="7473252">,</span>&nbsp;<span class="ident" id="7473254"><a href="/gostd/compress/zlib/writer_test.go.html#7473163">err</a></span><span class="op" id="7473257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7473261">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7473269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7473272">defer</span>&nbsp;<span class="ident" id="7473278"><a href="/gostd/compress/zlib/writer_test.go.html#7473155">golden</a></span><span class="op" id="7473284">.</span><span class="ident" id="7473285"><a href="/gostd/os/file_unix.go.html#2454611">Close</a></span><span class="op" id="7473290">(</span><span class="op" id="7473291">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7473294">b0</span><span class="op" id="7473296">,</span>&nbsp;<span class="ident" id="7473298">err0</span>&nbsp;<span class="op" id="7473303">:=</span>&nbsp;<span class="ident" id="7473306"><a href="/gostd/compress/zlib/writer_test.go.html#7472699">ioutil</a></span><span class="op" id="7473312">.</span><span class="ident" id="7473313"><a href="/gostd/io/ioutil/ioutil.go.html#3765117">ReadAll</a></span><span class="op" id="7473320">(</span><span class="ident" id="7473321"><a href="/gostd/compress/zlib/writer_test.go.html#7473155">golden</a></span><span class="op" id="7473327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7473330">if</span>&nbsp;<span class="ident" id="7473333"><a href="/gostd/compress/zlib/writer_test.go.html#7473298">err0</a></span>&nbsp;<span class="op" id="7473338">!=</span>&nbsp;<span class="builtintype" id="7473341">nil</span>&nbsp;<span class="op" id="7473345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7473349"><a href="/gostd/compress/zlib/writer_test.go.html#7473069">t</a></span><span class="op" id="7473350">.</span><span class="ident" id="7473351"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7473357">(</span><span class="string" id="7473358">&#34;%s&nbsp;(level=%d,&nbsp;dict=%q):&nbsp;%v&#34;</span><span class="op" id="7473386">,</span>&nbsp;<span class="ident" id="7473388"><a href="/gostd/compress/zlib/writer_test.go.html#7473083">fn</a></span><span class="op" id="7473390">,</span>&nbsp;<span class="ident" id="7473392"><a href="/gostd/compress/zlib/writer_test.go.html#7473094">level</a></span><span class="op" id="7473397">,</span>&nbsp;<span class="ident" id="7473399"><a href="/gostd/compress/zlib/writer_test.go.html#7473105">d</a></span><span class="op" id="7473400">,</span>&nbsp;<span class="ident" id="7473402"><a href="/gostd/compress/zlib/writer_test.go.html#7473298">err0</a></span><span class="op" id="7473406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7473410">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7473418">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7473421"><a href="/gostd/compress/zlib/writer_test.go.html#7473464">testLevelDict</a></span><span class="op" id="7473434">(</span><span class="ident" id="7473435"><a href="/gostd/compress/zlib/writer_test.go.html#7473069">t</a></span><span class="op" id="7473436">,</span>&nbsp;<span class="ident" id="7473438"><a href="/gostd/compress/zlib/writer_test.go.html#7473083">fn</a></span><span class="op" id="7473440">,</span>&nbsp;<span class="ident" id="7473442"><a href="/gostd/compress/zlib/writer_test.go.html#7473294">b0</a></span><span class="op" id="7473444">,</span>&nbsp;<span class="ident" id="7473446"><a href="/gostd/compress/zlib/writer_test.go.html#7473094">level</a></span><span class="op" id="7473451">,</span>&nbsp;<span class="ident" id="7473453"><a href="/gostd/compress/zlib/writer_test.go.html#7473105">d</a></span><span class="op" id="7473454">)</span><br>
<span class="lineno"></span><span class="op" id="7473456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7473459">func</span>&nbsp;<span class="ident" id="7473464">testLevelDict</span><span class="op" id="7473477">(</span><span class="ident" id="7473478">t</span>&nbsp;<span class="op" id="7473480">*</span><span class="ident" id="7473481"><a href="/gostd/compress/zlib/writer_test.go.html#7472718">testing</a></span><span class="op" id="7473488">.</span><span class="ident" id="7473489"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7473490">,</span>&nbsp;<span class="ident" id="7473492">fn</span>&nbsp;<span class="builtintype" id="7473495">string</span><span class="op" id="7473501">,</span>&nbsp;<span class="ident" id="7473503">b0</span>&nbsp;<span class="op" id="7473506">[</span><span class="op" id="7473507">]</span><span class="builtintype" id="7473508">byte</span><span class="op" id="7473512">,</span>&nbsp;<span class="ident" id="7473514">level</span>&nbsp;<span class="builtintype" id="7473520">int</span><span class="op" id="7473523">,</span>&nbsp;<span class="ident" id="7473525">d</span>&nbsp;<span class="builtintype" id="7473527">string</span><span class="op" id="7473533">)</span>&nbsp;<span class="op" id="7473535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7473538">//&nbsp;Make&nbsp;dictionary,&nbsp;if&nbsp;given.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7473569">var</span>&nbsp;<span class="ident" id="7473573">dict</span>&nbsp;<span class="op" id="7473578">[</span><span class="op" id="7473579">]</span><span class="builtintype" id="7473580">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7473586">if</span>&nbsp;<span class="ident" id="7473589"><a href="/gostd/compress/zlib/writer_test.go.html#7473525">d</a></span>&nbsp;<span class="op" id="7473591">!=</span>&nbsp;<span class="string" id="7473594">&#34;&#34;</span>&nbsp;<span class="op" id="7473597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7473601"><a href="/gostd/compress/zlib/writer_test.go.html#7473573">dict</a></span>&nbsp;<span class="op" id="7473606">=</span>&nbsp;<span class="op" id="7473608">[</span><span class="op" id="7473609">]</span><span class="builtintype" id="7473610">byte</span><span class="op" id="7473614">(</span><span class="ident" id="7473615"><a href="/gostd/compress/zlib/writer_test.go.html#7473525">d</a></span><span class="op" id="7473616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7473619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7473623">//&nbsp;Push&nbsp;data&nbsp;through&nbsp;a&nbsp;pipe&nbsp;that&nbsp;compresses&nbsp;at&nbsp;the&nbsp;write&nbsp;end,&nbsp;and&nbsp;decompresses&nbsp;at&nbsp;the&nbsp;read&nbsp;end.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7473720">piper</span><span class="op" id="7473725">,</span>&nbsp;<span class="ident" id="7473727">pipew</span>&nbsp;<span class="op" id="7473733">:=</span>&nbsp;<span class="ident" id="7473736"><a href="/gostd/compress/zlib/writer_test.go.html#7472693">io</a></span><span class="op" id="7473738">.</span><span class="ident" id="7473739"><a href="/gostd/io/pipe.go.html#1440333">Pipe</a></span><span class="op" id="7473743">(</span><span class="op" id="7473744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7473747">defer</span>&nbsp;<span class="ident" id="7473753"><a href="/gostd/compress/zlib/writer_test.go.html#7473720">piper</a></span><span class="op" id="7473758">.</span><span class="ident" id="7473759"><a href="/gostd/io/pipe.go.html#1438720">Close</a></span><span class="op" id="7473764">(</span><span class="op" id="7473765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7473768">go</span>&nbsp;<span class="keyword" id="7473771">func</span><span class="op" id="7473775">(</span><span class="op" id="7473776">)</span>&nbsp;<span class="op" id="7473778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7473782">defer</span>&nbsp;<span class="ident" id="7473788"><a href="/gostd/compress/zlib/writer_test.go.html#7473727">pipew</a></span><span class="op" id="7473793">.</span><span class="ident" id="7473794"><a href="/gostd/io/pipe.go.html#1439540">Close</a></span><span class="op" id="7473799">(</span><span class="op" id="7473800">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7473804">zlibw</span><span class="op" id="7473809">,</span>&nbsp;<span class="ident" id="7473811">err</span>&nbsp;<span class="op" id="7473815">:=</span>&nbsp;<span class="ident" id="7473818"><a href="/gostd/compress/zlib/writer.go.html#5710580">NewWriterLevelDict</a></span><span class="op" id="7473836">(</span><span class="ident" id="7473837"><a href="/gostd/compress/zlib/writer_test.go.html#7473727">pipew</a></span><span class="op" id="7473842">,</span>&nbsp;<span class="ident" id="7473844"><a href="/gostd/compress/zlib/writer_test.go.html#7473514">level</a></span><span class="op" id="7473849">,</span>&nbsp;<span class="ident" id="7473851"><a href="/gostd/compress/zlib/writer_test.go.html#7473573">dict</a></span><span class="op" id="7473855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7473859">if</span>&nbsp;<span class="ident" id="7473862"><a href="/gostd/compress/zlib/writer_test.go.html#7473811">err</a></span>&nbsp;<span class="op" id="7473866">!=</span>&nbsp;<span class="builtintype" id="7473869">nil</span>&nbsp;<span class="op" id="7473873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7473878"><a href="/gostd/compress/zlib/writer_test.go.html#7473478">t</a></span><span class="op" id="7473879">.</span><span class="ident" id="7473880"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7473886">(</span><span class="string" id="7473887">&#34;%s&nbsp;(level=%d,&nbsp;dict=%q):&nbsp;%v&#34;</span><span class="op" id="7473915">,</span>&nbsp;<span class="ident" id="7473917"><a href="/gostd/compress/zlib/writer_test.go.html#7473492">fn</a></span><span class="op" id="7473919">,</span>&nbsp;<span class="ident" id="7473921"><a href="/gostd/compress/zlib/writer_test.go.html#7473514">level</a></span><span class="op" id="7473926">,</span>&nbsp;<span class="ident" id="7473928"><a href="/gostd/compress/zlib/writer_test.go.html#7473525">d</a></span><span class="op" id="7473929">,</span>&nbsp;<span class="ident" id="7473931"><a href="/gostd/compress/zlib/writer_test.go.html#7473811">err</a></span><span class="op" id="7473934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7473939">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7473948">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7473952">defer</span>&nbsp;<span class="ident" id="7473958"><a href="/gostd/compress/zlib/writer_test.go.html#7473804">zlibw</a></span><span class="op" id="7473963">.</span><span class="ident" id="7473964"><a href="/gostd/compress/zlib/writer.go.html#5713724">Close</a></span><span class="op" id="7473969">(</span><span class="op" id="7473970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7473974">_</span><span class="op" id="7473975">,</span>&nbsp;<span class="ident" id="7473977"><a href="/gostd/compress/zlib/writer_test.go.html#7473811">err</a></span>&nbsp;<span class="op" id="7473981">=</span>&nbsp;<span class="ident" id="7473983"><a href="/gostd/compress/zlib/writer_test.go.html#7473804">zlibw</a></span><span class="op" id="7473988">.</span><span class="ident" id="7473989"><a href="/gostd/compress/zlib/writer.go.html#5713081">Write</a></span><span class="op" id="7473994">(</span><span class="ident" id="7473995"><a href="/gostd/compress/zlib/writer_test.go.html#7473503">b0</a></span><span class="op" id="7473997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474001">if</span>&nbsp;<span class="ident" id="7474004"><a href="/gostd/compress/zlib/writer_test.go.html#7473811">err</a></span>&nbsp;<span class="op" id="7474008">!=</span>&nbsp;<span class="builtintype" id="7474011">nil</span>&nbsp;<span class="op" id="7474015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7474020"><a href="/gostd/compress/zlib/writer_test.go.html#7473478">t</a></span><span class="op" id="7474021">.</span><span class="ident" id="7474022"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7474028">(</span><span class="string" id="7474029">&#34;%s&nbsp;(level=%d,&nbsp;dict=%q):&nbsp;%v&#34;</span><span class="op" id="7474057">,</span>&nbsp;<span class="ident" id="7474059"><a href="/gostd/compress/zlib/writer_test.go.html#7473492">fn</a></span><span class="op" id="7474061">,</span>&nbsp;<span class="ident" id="7474063"><a href="/gostd/compress/zlib/writer_test.go.html#7473514">level</a></span><span class="op" id="7474068">,</span>&nbsp;<span class="ident" id="7474070"><a href="/gostd/compress/zlib/writer_test.go.html#7473525">d</a></span><span class="op" id="7474071">,</span>&nbsp;<span class="ident" id="7474073"><a href="/gostd/compress/zlib/writer_test.go.html#7473811">err</a></span><span class="op" id="7474076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474081">return</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7474090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7474093">}</span><span class="op" id="7474094">(</span><span class="op" id="7474095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7474098">zlibr</span><span class="op" id="7474103">,</span>&nbsp;<span class="ident" id="7474105">err</span>&nbsp;<span class="op" id="7474109">:=</span>&nbsp;<span class="ident" id="7474112"><a href="/gostd/compress/zlib/reader.go.html#5706787">NewReaderDict</a></span><span class="op" id="7474125">(</span><span class="ident" id="7474126"><a href="/gostd/compress/zlib/writer_test.go.html#7473720">piper</a></span><span class="op" id="7474131">,</span>&nbsp;<span class="ident" id="7474133"><a href="/gostd/compress/zlib/writer_test.go.html#7473573">dict</a></span><span class="op" id="7474137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474140">if</span>&nbsp;<span class="ident" id="7474143"><a href="/gostd/compress/zlib/writer_test.go.html#7474105">err</a></span>&nbsp;<span class="op" id="7474147">!=</span>&nbsp;<span class="builtintype" id="7474150">nil</span>&nbsp;<span class="op" id="7474154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7474158"><a href="/gostd/compress/zlib/writer_test.go.html#7473478">t</a></span><span class="op" id="7474159">.</span><span class="ident" id="7474160"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7474166">(</span><span class="string" id="7474167">&#34;%s&nbsp;(level=%d,&nbsp;dict=%q):&nbsp;%v&#34;</span><span class="op" id="7474195">,</span>&nbsp;<span class="ident" id="7474197"><a href="/gostd/compress/zlib/writer_test.go.html#7473492">fn</a></span><span class="op" id="7474199">,</span>&nbsp;<span class="ident" id="7474201"><a href="/gostd/compress/zlib/writer_test.go.html#7473514">level</a></span><span class="op" id="7474206">,</span>&nbsp;<span class="ident" id="7474208"><a href="/gostd/compress/zlib/writer_test.go.html#7473525">d</a></span><span class="op" id="7474209">,</span>&nbsp;<span class="ident" id="7474211"><a href="/gostd/compress/zlib/writer_test.go.html#7474105">err</a></span><span class="op" id="7474214">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474218">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7474226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474229">defer</span>&nbsp;<span class="ident" id="7474235"><a href="/gostd/compress/zlib/writer_test.go.html#7474098">zlibr</a></span><span class="op" id="7474240">.</span><span class="ident" id="7474241"><a href="/gostd/io/io.go.html#1422583">Close</a></span><span class="op" id="7474246">(</span><span class="op" id="7474247">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7474251">//&nbsp;Compare&nbsp;the&nbsp;decompressed&nbsp;data.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7474286">b1</span><span class="op" id="7474288">,</span>&nbsp;<span class="ident" id="7474290">err1</span>&nbsp;<span class="op" id="7474295">:=</span>&nbsp;<span class="ident" id="7474298"><a href="/gostd/compress/zlib/writer_test.go.html#7472699">ioutil</a></span><span class="op" id="7474304">.</span><span class="ident" id="7474305"><a href="/gostd/io/ioutil/ioutil.go.html#3765117">ReadAll</a></span><span class="op" id="7474312">(</span><span class="ident" id="7474313"><a href="/gostd/compress/zlib/writer_test.go.html#7474098">zlibr</a></span><span class="op" id="7474318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474321">if</span>&nbsp;<span class="ident" id="7474324"><a href="/gostd/compress/zlib/writer_test.go.html#7474290">err1</a></span>&nbsp;<span class="op" id="7474329">!=</span>&nbsp;<span class="builtintype" id="7474332">nil</span>&nbsp;<span class="op" id="7474336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7474340"><a href="/gostd/compress/zlib/writer_test.go.html#7473478">t</a></span><span class="op" id="7474341">.</span><span class="ident" id="7474342"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7474348">(</span><span class="string" id="7474349">&#34;%s&nbsp;(level=%d,&nbsp;dict=%q):&nbsp;%v&#34;</span><span class="op" id="7474377">,</span>&nbsp;<span class="ident" id="7474379"><a href="/gostd/compress/zlib/writer_test.go.html#7473492">fn</a></span><span class="op" id="7474381">,</span>&nbsp;<span class="ident" id="7474383"><a href="/gostd/compress/zlib/writer_test.go.html#7473514">level</a></span><span class="op" id="7474388">,</span>&nbsp;<span class="ident" id="7474390"><a href="/gostd/compress/zlib/writer_test.go.html#7473525">d</a></span><span class="op" id="7474391">,</span>&nbsp;<span class="ident" id="7474393"><a href="/gostd/compress/zlib/writer_test.go.html#7474290">err1</a></span><span class="op" id="7474397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474401">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7474409">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474412">if</span>&nbsp;<span class="builtinfunc" id="7474415">len</span><span class="op" id="7474418">(</span><span class="ident" id="7474419"><a href="/gostd/compress/zlib/writer_test.go.html#7473503">b0</a></span><span class="op" id="7474421">)</span>&nbsp;<span class="op" id="7474423">!=</span>&nbsp;<span class="builtinfunc" id="7474426">len</span><span class="op" id="7474429">(</span><span class="ident" id="7474430"><a href="/gostd/compress/zlib/writer_test.go.html#7474286">b1</a></span><span class="op" id="7474432">)</span>&nbsp;<span class="op" id="7474434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7474438"><a href="/gostd/compress/zlib/writer_test.go.html#7473478">t</a></span><span class="op" id="7474439">.</span><span class="ident" id="7474440"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7474446">(</span><span class="string" id="7474447">&#34;%s&nbsp;(level=%d,&nbsp;dict=%q):&nbsp;length&nbsp;mismatch&nbsp;%d&nbsp;versus&nbsp;%d&#34;</span><span class="op" id="7474501">,</span>&nbsp;<span class="ident" id="7474503"><a href="/gostd/compress/zlib/writer_test.go.html#7473492">fn</a></span><span class="op" id="7474505">,</span>&nbsp;<span class="ident" id="7474507"><a href="/gostd/compress/zlib/writer_test.go.html#7473514">level</a></span><span class="op" id="7474512">,</span>&nbsp;<span class="ident" id="7474514"><a href="/gostd/compress/zlib/writer_test.go.html#7473525">d</a></span><span class="op" id="7474515">,</span>&nbsp;<span class="builtinfunc" id="7474517">len</span><span class="op" id="7474520">(</span><span class="ident" id="7474521"><a href="/gostd/compress/zlib/writer_test.go.html#7473503">b0</a></span><span class="op" id="7474523">)</span><span class="op" id="7474524">,</span>&nbsp;<span class="builtinfunc" id="7474526">len</span><span class="op" id="7474529">(</span><span class="ident" id="7474530"><a href="/gostd/compress/zlib/writer_test.go.html#7474286">b1</a></span><span class="op" id="7474532">)</span><span class="op" id="7474533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474537">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7474545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474548">for</span>&nbsp;<span class="ident" id="7474552">i</span>&nbsp;<span class="op" id="7474554">:=</span>&nbsp;<span class="num" id="7474557">0</span><span class="op" id="7474558">;</span>&nbsp;<span class="ident" id="7474560"><a href="/gostd/compress/zlib/writer_test.go.html#7474552">i</a></span>&nbsp;<span class="op" id="7474562">&lt;</span>&nbsp;<span class="builtinfunc" id="7474564">len</span><span class="op" id="7474567">(</span><span class="ident" id="7474568"><a href="/gostd/compress/zlib/writer_test.go.html#7473503">b0</a></span><span class="op" id="7474570">)</span><span class="op" id="7474571">;</span>&nbsp;<span class="ident" id="7474573"><a href="/gostd/compress/zlib/writer_test.go.html#7474552">i</a></span><span class="op" id="7474574">++</span>&nbsp;<span class="op" id="7474577">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474581">if</span>&nbsp;<span class="ident" id="7474584"><a href="/gostd/compress/zlib/writer_test.go.html#7473503">b0</a></span><span class="op" id="7474586">[</span><span class="ident" id="7474587"><a href="/gostd/compress/zlib/writer_test.go.html#7474552">i</a></span><span class="op" id="7474588">]</span>&nbsp;<span class="op" id="7474590">!=</span>&nbsp;<span class="ident" id="7474593"><a href="/gostd/compress/zlib/writer_test.go.html#7474286">b1</a></span><span class="op" id="7474595">[</span><span class="ident" id="7474596"><a href="/gostd/compress/zlib/writer_test.go.html#7474552">i</a></span><span class="op" id="7474597">]</span>&nbsp;<span class="op" id="7474599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7474604"><a href="/gostd/compress/zlib/writer_test.go.html#7473478">t</a></span><span class="op" id="7474605">.</span><span class="ident" id="7474606"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7474612">(</span><span class="string" id="7474613">&#34;%s&nbsp;(level=%d,&nbsp;dict=%q):&nbsp;mismatch&nbsp;at&nbsp;%d,&nbsp;0x%02x&nbsp;versus&nbsp;0x%02x\n&#34;</span><span class="op" id="7474677">,</span>&nbsp;<span class="ident" id="7474679"><a href="/gostd/compress/zlib/writer_test.go.html#7473492">fn</a></span><span class="op" id="7474681">,</span>&nbsp;<span class="ident" id="7474683"><a href="/gostd/compress/zlib/writer_test.go.html#7473514">level</a></span><span class="op" id="7474688">,</span>&nbsp;<span class="ident" id="7474690"><a href="/gostd/compress/zlib/writer_test.go.html#7473525">d</a></span><span class="op" id="7474691">,</span>&nbsp;<span class="ident" id="7474693"><a href="/gostd/compress/zlib/writer_test.go.html#7474552">i</a></span><span class="op" id="7474694">,</span>&nbsp;<span class="ident" id="7474696"><a href="/gostd/compress/zlib/writer_test.go.html#7473503">b0</a></span><span class="op" id="7474698">[</span><span class="ident" id="7474699"><a href="/gostd/compress/zlib/writer_test.go.html#7474552">i</a></span><span class="op" id="7474700">]</span><span class="op" id="7474701">,</span>&nbsp;<span class="ident" id="7474703"><a href="/gostd/compress/zlib/writer_test.go.html#7474286">b1</a></span><span class="op" id="7474705">[</span><span class="ident" id="7474706"><a href="/gostd/compress/zlib/writer_test.go.html#7474552">i</a></span><span class="op" id="7474707">]</span><span class="op" id="7474708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474713">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7474722">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7474725">}</span><br>
<span class="lineno">90</span><span class="op" id="7474727">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7474730">func</span>&nbsp;<span class="ident" id="7474735">testFileLevelDictReset</span><span class="op" id="7474757">(</span><span class="ident" id="7474758">t</span>&nbsp;<span class="op" id="7474760">*</span><span class="ident" id="7474761"><a href="/gostd/compress/zlib/writer_test.go.html#7472718">testing</a></span><span class="op" id="7474768">.</span><span class="ident" id="7474769"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7474770">,</span>&nbsp;<span class="ident" id="7474772">fn</span>&nbsp;<span class="builtintype" id="7474775">string</span><span class="op" id="7474781">,</span>&nbsp;<span class="ident" id="7474783">level</span>&nbsp;<span class="builtintype" id="7474789">int</span><span class="op" id="7474792">,</span>&nbsp;<span class="ident" id="7474794">dict</span>&nbsp;<span class="op" id="7474799">[</span><span class="op" id="7474800">]</span><span class="builtintype" id="7474801">byte</span><span class="op" id="7474805">)</span>&nbsp;<span class="op" id="7474807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474810">var</span>&nbsp;<span class="ident" id="7474814">b0</span>&nbsp;<span class="op" id="7474817">[</span><span class="op" id="7474818">]</span><span class="builtintype" id="7474819">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474825">var</span>&nbsp;<span class="ident" id="7474829">err</span>&nbsp;<span class="builtintype" id="7474833">error</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474840">if</span>&nbsp;<span class="ident" id="7474843"><a href="/gostd/compress/zlib/writer_test.go.html#7474772">fn</a></span>&nbsp;<span class="op" id="7474846">!=</span>&nbsp;<span class="string" id="7474849">&#34;&#34;</span>&nbsp;<span class="op" id="7474852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7474856"><a href="/gostd/compress/zlib/writer_test.go.html#7474814">b0</a></span><span class="op" id="7474858">,</span>&nbsp;<span class="ident" id="7474860"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span>&nbsp;<span class="op" id="7474864">=</span>&nbsp;<span class="ident" id="7474866"><a href="/gostd/compress/zlib/writer_test.go.html#7472699">ioutil</a></span><span class="op" id="7474872">.</span><span class="ident" id="7474873"><a href="/gostd/io/ioutil/ioutil.go.html#3765434">ReadFile</a></span><span class="op" id="7474881">(</span><span class="ident" id="7474882"><a href="/gostd/compress/zlib/writer_test.go.html#7474772">fn</a></span><span class="op" id="7474884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474888">if</span>&nbsp;<span class="ident" id="7474891"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span>&nbsp;<span class="op" id="7474895">!=</span>&nbsp;<span class="builtintype" id="7474898">nil</span>&nbsp;<span class="op" id="7474902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7474907"><a href="/gostd/compress/zlib/writer_test.go.html#7474758">t</a></span><span class="op" id="7474908">.</span><span class="ident" id="7474909"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7474915">(</span><span class="string" id="7474916">&#34;%s&nbsp;(level=%d):&nbsp;%v&#34;</span><span class="op" id="7474935">,</span>&nbsp;<span class="ident" id="7474937"><a href="/gostd/compress/zlib/writer_test.go.html#7474772">fn</a></span><span class="op" id="7474939">,</span>&nbsp;<span class="ident" id="7474941"><a href="/gostd/compress/zlib/writer_test.go.html#7474783">level</a></span><span class="op" id="7474946">,</span>&nbsp;<span class="ident" id="7474948"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span><span class="op" id="7474951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7474956">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7474965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7474968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7474972">//&nbsp;Compress&nbsp;once.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7474991">buf</span>&nbsp;<span class="op" id="7474995">:=</span>&nbsp;<span class="builtinfunc" id="7474998">new</span><span class="op" id="7475001">(</span><span class="ident" id="7475002"><a href="/gostd/compress/zlib/writer_test.go.html#7472677">bytes</a></span><span class="op" id="7475007">.</span><span class="ident" id="7475008"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="7475014">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7475017">var</span>&nbsp;<span class="ident" id="7475021">zlibw</span>&nbsp;<span class="op" id="7475027">*</span><span class="ident" id="7475028"><a href="/gostd/compress/zlib/writer.go.html#5709415">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7475036">if</span>&nbsp;<span class="ident" id="7475039"><a href="/gostd/compress/zlib/writer_test.go.html#7474794">dict</a></span>&nbsp;<span class="op" id="7475044">==</span>&nbsp;<span class="builtintype" id="7475047">nil</span>&nbsp;<span class="op" id="7475051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475055"><a href="/gostd/compress/zlib/writer_test.go.html#7475021">zlibw</a></span><span class="op" id="7475060">,</span>&nbsp;<span class="ident" id="7475062"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span>&nbsp;<span class="op" id="7475066">=</span>&nbsp;<span class="ident" id="7475068"><a href="/gostd/compress/zlib/writer.go.html#5710271">NewWriterLevel</a></span><span class="op" id="7475082">(</span><span class="ident" id="7475083"><a href="/gostd/compress/zlib/writer_test.go.html#7474991">buf</a></span><span class="op" id="7475086">,</span>&nbsp;<span class="ident" id="7475088"><a href="/gostd/compress/zlib/writer_test.go.html#7474783">level</a></span><span class="op" id="7475093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7475096">}</span>&nbsp;<span class="keyword" id="7475098">else</span>&nbsp;<span class="op" id="7475103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475107"><a href="/gostd/compress/zlib/writer_test.go.html#7475021">zlibw</a></span><span class="op" id="7475112">,</span>&nbsp;<span class="ident" id="7475114"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span>&nbsp;<span class="op" id="7475118">=</span>&nbsp;<span class="ident" id="7475120"><a href="/gostd/compress/zlib/writer.go.html#5710580">NewWriterLevelDict</a></span><span class="op" id="7475138">(</span><span class="ident" id="7475139"><a href="/gostd/compress/zlib/writer_test.go.html#7474991">buf</a></span><span class="op" id="7475142">,</span>&nbsp;<span class="ident" id="7475144"><a href="/gostd/compress/zlib/writer_test.go.html#7474783">level</a></span><span class="op" id="7475149">,</span>&nbsp;<span class="ident" id="7475151"><a href="/gostd/compress/zlib/writer_test.go.html#7474794">dict</a></span><span class="op" id="7475155">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7475158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7475161">if</span>&nbsp;<span class="ident" id="7475164"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span>&nbsp;<span class="op" id="7475168">==</span>&nbsp;<span class="builtintype" id="7475171">nil</span>&nbsp;<span class="op" id="7475175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475179">_</span><span class="op" id="7475180">,</span>&nbsp;<span class="ident" id="7475182"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span>&nbsp;<span class="op" id="7475186">=</span>&nbsp;<span class="ident" id="7475188"><a href="/gostd/compress/zlib/writer_test.go.html#7475021">zlibw</a></span><span class="op" id="7475193">.</span><span class="ident" id="7475194"><a href="/gostd/compress/zlib/writer.go.html#5713081">Write</a></span><span class="op" id="7475199">(</span><span class="ident" id="7475200"><a href="/gostd/compress/zlib/writer_test.go.html#7474814">b0</a></span><span class="op" id="7475202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7475205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7475208">if</span>&nbsp;<span class="ident" id="7475211"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span>&nbsp;<span class="op" id="7475215">==</span>&nbsp;<span class="builtintype" id="7475218">nil</span>&nbsp;<span class="op" id="7475222">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475226"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span>&nbsp;<span class="op" id="7475230">=</span>&nbsp;<span class="ident" id="7475232"><a href="/gostd/compress/zlib/writer_test.go.html#7475021">zlibw</a></span><span class="op" id="7475237">.</span><span class="ident" id="7475238"><a href="/gostd/compress/zlib/writer.go.html#5713724">Close</a></span><span class="op" id="7475243">(</span><span class="op" id="7475244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7475247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7475250">if</span>&nbsp;<span class="ident" id="7475253"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span>&nbsp;<span class="op" id="7475257">!=</span>&nbsp;<span class="builtintype" id="7475260">nil</span>&nbsp;<span class="op" id="7475264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475268"><a href="/gostd/compress/zlib/writer_test.go.html#7474758">t</a></span><span class="op" id="7475269">.</span><span class="ident" id="7475270"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7475276">(</span><span class="string" id="7475277">&#34;%s&nbsp;(level=%d):&nbsp;%v&#34;</span><span class="op" id="7475296">,</span>&nbsp;<span class="ident" id="7475298"><a href="/gostd/compress/zlib/writer_test.go.html#7474772">fn</a></span><span class="op" id="7475300">,</span>&nbsp;<span class="ident" id="7475302"><a href="/gostd/compress/zlib/writer_test.go.html#7474783">level</a></span><span class="op" id="7475307">,</span>&nbsp;<span class="ident" id="7475309"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span><span class="op" id="7475312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7475316">return</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7475324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475327">out</span>&nbsp;<span class="op" id="7475331">:=</span>&nbsp;<span class="ident" id="7475334"><a href="/gostd/compress/zlib/writer_test.go.html#7474991">buf</a></span><span class="op" id="7475337">.</span><span class="ident" id="7475338"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7475344">(</span><span class="op" id="7475345">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7475349">//&nbsp;Reset&nbsp;and&nbsp;compress&nbsp;again.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475379">buf2</span>&nbsp;<span class="op" id="7475384">:=</span>&nbsp;<span class="builtinfunc" id="7475387">new</span><span class="op" id="7475390">(</span><span class="ident" id="7475391"><a href="/gostd/compress/zlib/writer_test.go.html#7472677">bytes</a></span><span class="op" id="7475396">.</span><span class="ident" id="7475397"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="7475403">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475406"><a href="/gostd/compress/zlib/writer_test.go.html#7475021">zlibw</a></span><span class="op" id="7475411">.</span><span class="ident" id="7475412"><a href="/gostd/compress/zlib/writer.go.html#5711042">Reset</a></span><span class="op" id="7475417">(</span><span class="ident" id="7475418"><a href="/gostd/compress/zlib/writer_test.go.html#7475379">buf2</a></span><span class="op" id="7475422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475425">_</span><span class="op" id="7475426">,</span>&nbsp;<span class="ident" id="7475428"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span>&nbsp;<span class="op" id="7475432">=</span>&nbsp;<span class="ident" id="7475434"><a href="/gostd/compress/zlib/writer_test.go.html#7475021">zlibw</a></span><span class="op" id="7475439">.</span><span class="ident" id="7475440"><a href="/gostd/compress/zlib/writer.go.html#5713081">Write</a></span><span class="op" id="7475445">(</span><span class="ident" id="7475446"><a href="/gostd/compress/zlib/writer_test.go.html#7474814">b0</a></span><span class="op" id="7475448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7475451">if</span>&nbsp;<span class="ident" id="7475454"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span>&nbsp;<span class="op" id="7475458">==</span>&nbsp;<span class="builtintype" id="7475461">nil</span>&nbsp;<span class="op" id="7475465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475469"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span>&nbsp;<span class="op" id="7475473">=</span>&nbsp;<span class="ident" id="7475475"><a href="/gostd/compress/zlib/writer_test.go.html#7475021">zlibw</a></span><span class="op" id="7475480">.</span><span class="ident" id="7475481"><a href="/gostd/compress/zlib/writer.go.html#5713724">Close</a></span><span class="op" id="7475486">(</span><span class="op" id="7475487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7475490">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7475493">if</span>&nbsp;<span class="ident" id="7475496"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span>&nbsp;<span class="op" id="7475500">!=</span>&nbsp;<span class="builtintype" id="7475503">nil</span>&nbsp;<span class="op" id="7475507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475511"><a href="/gostd/compress/zlib/writer_test.go.html#7474758">t</a></span><span class="op" id="7475512">.</span><span class="ident" id="7475513"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7475519">(</span><span class="string" id="7475520">&#34;%s&nbsp;(level=%d):&nbsp;%v&#34;</span><span class="op" id="7475539">,</span>&nbsp;<span class="ident" id="7475541"><a href="/gostd/compress/zlib/writer_test.go.html#7474772">fn</a></span><span class="op" id="7475543">,</span>&nbsp;<span class="ident" id="7475545"><a href="/gostd/compress/zlib/writer_test.go.html#7474783">level</a></span><span class="op" id="7475550">,</span>&nbsp;<span class="ident" id="7475552"><a href="/gostd/compress/zlib/writer_test.go.html#7474829">err</a></span><span class="op" id="7475555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7475559">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7475567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475570">out2</span>&nbsp;<span class="op" id="7475575">:=</span>&nbsp;<span class="ident" id="7475578"><a href="/gostd/compress/zlib/writer_test.go.html#7475379">buf2</a></span><span class="op" id="7475582">.</span><span class="ident" id="7475583"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7475589">(</span><span class="op" id="7475590">)</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7475594">if</span>&nbsp;<span class="ident" id="7475597"><a href="/gostd/compress/zlib/writer_test.go.html#7475570">out2</a></span>&nbsp;<span class="op" id="7475602">!=</span>&nbsp;<span class="ident" id="7475605"><a href="/gostd/compress/zlib/writer_test.go.html#7475327">out</a></span>&nbsp;<span class="op" id="7475609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475613"><a href="/gostd/compress/zlib/writer_test.go.html#7474758">t</a></span><span class="op" id="7475614">.</span><span class="ident" id="7475615"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7475621">(</span><span class="string" id="7475622">&#34;%s&nbsp;(level=%d):&nbsp;different&nbsp;output&nbsp;after&nbsp;reset&nbsp;(got&nbsp;%d&nbsp;bytes,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7475694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475699"><a href="/gostd/compress/zlib/writer_test.go.html#7474772">fn</a></span><span class="op" id="7475701">,</span>&nbsp;<span class="ident" id="7475703"><a href="/gostd/compress/zlib/writer_test.go.html#7474783">level</a></span><span class="op" id="7475708">,</span>&nbsp;<span class="builtinfunc" id="7475710">len</span><span class="op" id="7475713">(</span><span class="ident" id="7475714"><a href="/gostd/compress/zlib/writer_test.go.html#7475570">out2</a></span><span class="op" id="7475718">)</span><span class="op" id="7475719">,</span>&nbsp;<span class="builtinfunc" id="7475721">len</span><span class="op" id="7475724">(</span><span class="ident" id="7475725"><a href="/gostd/compress/zlib/writer_test.go.html#7475327">out</a></span><span class="op" id="7475728">)</span><span class="op" id="7475729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7475732">}</span><br>
<span class="lineno">140</span><span class="op" id="7475734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7475737">func</span>&nbsp;<span class="ident" id="7475742">TestWriter</span><span class="op" id="7475752">(</span><span class="ident" id="7475753">t</span>&nbsp;<span class="op" id="7475755">*</span><span class="ident" id="7475756"><a href="/gostd/compress/zlib/writer_test.go.html#7472718">testing</a></span><span class="op" id="7475763">.</span><span class="ident" id="7475764"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7475765">)</span>&nbsp;<span class="op" id="7475767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7475770">for</span>&nbsp;<span class="ident" id="7475774">i</span><span class="op" id="7475775">,</span>&nbsp;<span class="ident" id="7475777">s</span>&nbsp;<span class="op" id="7475779">:=</span>&nbsp;<span class="keyword" id="7475782">range</span>&nbsp;<span class="ident" id="7475788"><a href="/gostd/compress/zlib/writer_test.go.html#7472809">data</a></span>&nbsp;<span class="op" id="7475793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475797">b</span>&nbsp;<span class="op" id="7475799">:=</span>&nbsp;<span class="op" id="7475802">[</span><span class="op" id="7475803">]</span><span class="builtintype" id="7475804">byte</span><span class="op" id="7475808">(</span><span class="ident" id="7475809"><a href="/gostd/compress/zlib/writer_test.go.html#7475777">s</a></span><span class="op" id="7475810">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475814">tag</span>&nbsp;<span class="op" id="7475818">:=</span>&nbsp;<span class="ident" id="7475821"><a href="/gostd/compress/zlib/writer_test.go.html#7472686">fmt</a></span><span class="op" id="7475824">.</span><span class="ident" id="7475825"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="7475832">(</span><span class="string" id="7475833">&#34;#%d&#34;</span><span class="op" id="7475838">,</span>&nbsp;<span class="ident" id="7475840"><a href="/gostd/compress/zlib/writer_test.go.html#7475774">i</a></span><span class="op" id="7475841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475845"><a href="/gostd/compress/zlib/writer_test.go.html#7473464">testLevelDict</a></span><span class="op" id="7475858">(</span><span class="ident" id="7475859"><a href="/gostd/compress/zlib/writer_test.go.html#7475753">t</a></span><span class="op" id="7475860">,</span>&nbsp;<span class="ident" id="7475862"><a href="/gostd/compress/zlib/writer_test.go.html#7475814">tag</a></span><span class="op" id="7475865">,</span>&nbsp;<span class="ident" id="7475867"><a href="/gostd/compress/zlib/writer_test.go.html#7475797">b</a></span><span class="op" id="7475868">,</span>&nbsp;<span class="ident" id="7475870"><a href="/gostd/compress/zlib/writer.go.html#5709236">DefaultCompression</a></span><span class="op" id="7475888">,</span>&nbsp;<span class="string" id="7475890">&#34;&#34;</span><span class="op" id="7475892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7475896"><a href="/gostd/compress/zlib/writer_test.go.html#7473464">testLevelDict</a></span><span class="op" id="7475909">(</span><span class="ident" id="7475910"><a href="/gostd/compress/zlib/writer_test.go.html#7475753">t</a></span><span class="op" id="7475911">,</span>&nbsp;<span class="ident" id="7475913"><a href="/gostd/compress/zlib/writer_test.go.html#7475814">tag</a></span><span class="op" id="7475916">,</span>&nbsp;<span class="ident" id="7475918"><a href="/gostd/compress/zlib/writer_test.go.html#7475797">b</a></span><span class="op" id="7475919">,</span>&nbsp;<span class="ident" id="7475921"><a href="/gostd/compress/zlib/writer.go.html#5709112">NoCompression</a></span><span class="op" id="7475934">,</span>&nbsp;<span class="string" id="7475936">&#34;&#34;</span><span class="op" id="7475938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7475942">for</span>&nbsp;<span class="ident" id="7475946">level</span>&nbsp;<span class="op" id="7475952">:=</span>&nbsp;<span class="ident" id="7475955"><a href="/gostd/compress/zlib/writer.go.html#5709154">BestSpeed</a></span><span class="op" id="7475964">;</span>&nbsp;<span class="ident" id="7475966"><a href="/gostd/compress/zlib/writer_test.go.html#7475946">level</a></span>&nbsp;<span class="op" id="7475972">&lt;=</span>&nbsp;<span class="ident" id="7475975"><a href="/gostd/compress/zlib/writer.go.html#5709192">BestCompression</a></span><span class="op" id="7475990">;</span>&nbsp;<span class="ident" id="7475992"><a href="/gostd/compress/zlib/writer_test.go.html#7475946">level</a></span><span class="op" id="7475997">++</span>&nbsp;<span class="op" id="7476000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7476005"><a href="/gostd/compress/zlib/writer_test.go.html#7473464">testLevelDict</a></span><span class="op" id="7476018">(</span><span class="ident" id="7476019"><a href="/gostd/compress/zlib/writer_test.go.html#7475753">t</a></span><span class="op" id="7476020">,</span>&nbsp;<span class="ident" id="7476022"><a href="/gostd/compress/zlib/writer_test.go.html#7475814">tag</a></span><span class="op" id="7476025">,</span>&nbsp;<span class="ident" id="7476027"><a href="/gostd/compress/zlib/writer_test.go.html#7475797">b</a></span><span class="op" id="7476028">,</span>&nbsp;<span class="ident" id="7476030"><a href="/gostd/compress/zlib/writer_test.go.html#7475946">level</a></span><span class="op" id="7476035">,</span>&nbsp;<span class="string" id="7476037">&#34;&#34;</span><span class="op" id="7476039">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7476043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7476046">}</span><br>
<span class="lineno"></span><span class="op" id="7476048">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7476051">func</span>&nbsp;<span class="ident" id="7476056">TestWriterBig</span><span class="op" id="7476069">(</span><span class="ident" id="7476070">t</span>&nbsp;<span class="op" id="7476072">*</span><span class="ident" id="7476073"><a href="/gostd/compress/zlib/writer_test.go.html#7472718">testing</a></span><span class="op" id="7476080">.</span><span class="ident" id="7476081"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7476082">)</span>&nbsp;<span class="op" id="7476084">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7476087">for</span>&nbsp;<span class="ident" id="7476091">_</span><span class="op" id="7476092">,</span>&nbsp;<span class="ident" id="7476094">fn</span>&nbsp;<span class="op" id="7476097">:=</span>&nbsp;<span class="keyword" id="7476100">range</span>&nbsp;<span class="ident" id="7476106"><a href="/gostd/compress/zlib/writer_test.go.html#7472735">filenames</a></span>&nbsp;<span class="op" id="7476116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7476120"><a href="/gostd/compress/zlib/writer_test.go.html#7473051">testFileLevelDict</a></span><span class="op" id="7476137">(</span><span class="ident" id="7476138"><a href="/gostd/compress/zlib/writer_test.go.html#7476070">t</a></span><span class="op" id="7476139">,</span>&nbsp;<span class="ident" id="7476141"><a href="/gostd/compress/zlib/writer_test.go.html#7476094">fn</a></span><span class="op" id="7476143">,</span>&nbsp;<span class="ident" id="7476145"><a href="/gostd/compress/zlib/writer.go.html#5709236">DefaultCompression</a></span><span class="op" id="7476163">,</span>&nbsp;<span class="string" id="7476165">&#34;&#34;</span><span class="op" id="7476167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7476171"><a href="/gostd/compress/zlib/writer_test.go.html#7473051">testFileLevelDict</a></span><span class="op" id="7476188">(</span><span class="ident" id="7476189"><a href="/gostd/compress/zlib/writer_test.go.html#7476070">t</a></span><span class="op" id="7476190">,</span>&nbsp;<span class="ident" id="7476192"><a href="/gostd/compress/zlib/writer_test.go.html#7476094">fn</a></span><span class="op" id="7476194">,</span>&nbsp;<span class="ident" id="7476196"><a href="/gostd/compress/zlib/writer.go.html#5709112">NoCompression</a></span><span class="op" id="7476209">,</span>&nbsp;<span class="string" id="7476211">&#34;&#34;</span><span class="op" id="7476213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7476217">for</span>&nbsp;<span class="ident" id="7476221">level</span>&nbsp;<span class="op" id="7476227">:=</span>&nbsp;<span class="ident" id="7476230"><a href="/gostd/compress/zlib/writer.go.html#5709154">BestSpeed</a></span><span class="op" id="7476239">;</span>&nbsp;<span class="ident" id="7476241"><a href="/gostd/compress/zlib/writer_test.go.html#7476221">level</a></span>&nbsp;<span class="op" id="7476247">&lt;=</span>&nbsp;<span class="ident" id="7476250"><a href="/gostd/compress/zlib/writer.go.html#5709192">BestCompression</a></span><span class="op" id="7476265">;</span>&nbsp;<span class="ident" id="7476267"><a href="/gostd/compress/zlib/writer_test.go.html#7476221">level</a></span><span class="op" id="7476272">++</span>&nbsp;<span class="op" id="7476275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7476280"><a href="/gostd/compress/zlib/writer_test.go.html#7473051">testFileLevelDict</a></span><span class="op" id="7476297">(</span><span class="ident" id="7476298"><a href="/gostd/compress/zlib/writer_test.go.html#7476070">t</a></span><span class="op" id="7476299">,</span>&nbsp;<span class="ident" id="7476301"><a href="/gostd/compress/zlib/writer_test.go.html#7476094">fn</a></span><span class="op" id="7476303">,</span>&nbsp;<span class="ident" id="7476305"><a href="/gostd/compress/zlib/writer_test.go.html#7476221">level</a></span><span class="op" id="7476310">,</span>&nbsp;<span class="string" id="7476312">&#34;&#34;</span><span class="op" id="7476314">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7476318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7476321">}</span><br>
<span class="lineno"></span><span class="op" id="7476323">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7476326">func</span>&nbsp;<span class="ident" id="7476331">TestWriterDict</span><span class="op" id="7476345">(</span><span class="ident" id="7476346">t</span>&nbsp;<span class="op" id="7476348">*</span><span class="ident" id="7476349"><a href="/gostd/compress/zlib/writer_test.go.html#7472718">testing</a></span><span class="op" id="7476356">.</span><span class="ident" id="7476357"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7476358">)</span>&nbsp;<span class="op" id="7476360">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7476363">const</span>&nbsp;<span class="ident" id="7476369">dictionary</span>&nbsp;<span class="op" id="7476380">=</span>&nbsp;<span class="string" id="7476382">&#34;0123456789.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7476397">for</span>&nbsp;<span class="ident" id="7476401">_</span><span class="op" id="7476402">,</span>&nbsp;<span class="ident" id="7476404">fn</span>&nbsp;<span class="op" id="7476407">:=</span>&nbsp;<span class="keyword" id="7476410">range</span>&nbsp;<span class="ident" id="7476416"><a href="/gostd/compress/zlib/writer_test.go.html#7472735">filenames</a></span>&nbsp;<span class="op" id="7476426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7476430"><a href="/gostd/compress/zlib/writer_test.go.html#7473051">testFileLevelDict</a></span><span class="op" id="7476447">(</span><span class="ident" id="7476448"><a href="/gostd/compress/zlib/writer_test.go.html#7476346">t</a></span><span class="op" id="7476449">,</span>&nbsp;<span class="ident" id="7476451"><a href="/gostd/compress/zlib/writer_test.go.html#7476404">fn</a></span><span class="op" id="7476453">,</span>&nbsp;<span class="ident" id="7476455"><a href="/gostd/compress/zlib/writer.go.html#5709236">DefaultCompression</a></span><span class="op" id="7476473">,</span>&nbsp;<span class="ident" id="7476475"><a href="/gostd/compress/zlib/writer_test.go.html#7476369">dictionary</a></span><span class="op" id="7476485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7476489"><a href="/gostd/compress/zlib/writer_test.go.html#7473051">testFileLevelDict</a></span><span class="op" id="7476506">(</span><span class="ident" id="7476507"><a href="/gostd/compress/zlib/writer_test.go.html#7476346">t</a></span><span class="op" id="7476508">,</span>&nbsp;<span class="ident" id="7476510"><a href="/gostd/compress/zlib/writer_test.go.html#7476404">fn</a></span><span class="op" id="7476512">,</span>&nbsp;<span class="ident" id="7476514"><a href="/gostd/compress/zlib/writer.go.html#5709112">NoCompression</a></span><span class="op" id="7476527">,</span>&nbsp;<span class="ident" id="7476529"><a href="/gostd/compress/zlib/writer_test.go.html#7476369">dictionary</a></span><span class="op" id="7476539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7476543">for</span>&nbsp;<span class="ident" id="7476547">level</span>&nbsp;<span class="op" id="7476553">:=</span>&nbsp;<span class="ident" id="7476556"><a href="/gostd/compress/zlib/writer.go.html#5709154">BestSpeed</a></span><span class="op" id="7476565">;</span>&nbsp;<span class="ident" id="7476567"><a href="/gostd/compress/zlib/writer_test.go.html#7476547">level</a></span>&nbsp;<span class="op" id="7476573">&lt;=</span>&nbsp;<span class="ident" id="7476576"><a href="/gostd/compress/zlib/writer.go.html#5709192">BestCompression</a></span><span class="op" id="7476591">;</span>&nbsp;<span class="ident" id="7476593"><a href="/gostd/compress/zlib/writer_test.go.html#7476547">level</a></span><span class="op" id="7476598">++</span>&nbsp;<span class="op" id="7476601">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7476606"><a href="/gostd/compress/zlib/writer_test.go.html#7473051">testFileLevelDict</a></span><span class="op" id="7476623">(</span><span class="ident" id="7476624"><a href="/gostd/compress/zlib/writer_test.go.html#7476346">t</a></span><span class="op" id="7476625">,</span>&nbsp;<span class="ident" id="7476627"><a href="/gostd/compress/zlib/writer_test.go.html#7476404">fn</a></span><span class="op" id="7476629">,</span>&nbsp;<span class="ident" id="7476631"><a href="/gostd/compress/zlib/writer_test.go.html#7476547">level</a></span><span class="op" id="7476636">,</span>&nbsp;<span class="ident" id="7476638"><a href="/gostd/compress/zlib/writer_test.go.html#7476369">dictionary</a></span><span class="op" id="7476648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7476652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7476655">}</span><br>
<span class="lineno"></span><span class="op" id="7476657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="keyword" id="7476660">func</span>&nbsp;<span class="ident" id="7476665">TestWriterReset</span><span class="op" id="7476680">(</span><span class="ident" id="7476681">t</span>&nbsp;<span class="op" id="7476683">*</span><span class="ident" id="7476684"><a href="/gostd/compress/zlib/writer_test.go.html#7472718">testing</a></span><span class="op" id="7476691">.</span><span class="ident" id="7476692"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7476693">)</span>&nbsp;<span class="op" id="7476695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7476698">const</span>&nbsp;<span class="ident" id="7476704">dictionary</span>&nbsp;<span class="op" id="7476715">=</span>&nbsp;<span class="string" id="7476717">&#34;0123456789.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7476732">for</span>&nbsp;<span class="ident" id="7476736">_</span><span class="op" id="7476737">,</span>&nbsp;<span class="ident" id="7476739">fn</span>&nbsp;<span class="op" id="7476742">:=</span>&nbsp;<span class="keyword" id="7476745">range</span>&nbsp;<span class="ident" id="7476751"><a href="/gostd/compress/zlib/writer_test.go.html#7472735">filenames</a></span>&nbsp;<span class="op" id="7476761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7476765"><a href="/gostd/compress/zlib/writer_test.go.html#7474735">testFileLevelDictReset</a></span><span class="op" id="7476787">(</span><span class="ident" id="7476788"><a href="/gostd/compress/zlib/writer_test.go.html#7476681">t</a></span><span class="op" id="7476789">,</span>&nbsp;<span class="ident" id="7476791"><a href="/gostd/compress/zlib/writer_test.go.html#7476739">fn</a></span><span class="op" id="7476793">,</span>&nbsp;<span class="ident" id="7476795"><a href="/gostd/compress/zlib/writer.go.html#5709112">NoCompression</a></span><span class="op" id="7476808">,</span>&nbsp;<span class="builtintype" id="7476810">nil</span><span class="op" id="7476813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7476817"><a href="/gostd/compress/zlib/writer_test.go.html#7474735">testFileLevelDictReset</a></span><span class="op" id="7476839">(</span><span class="ident" id="7476840"><a href="/gostd/compress/zlib/writer_test.go.html#7476681">t</a></span><span class="op" id="7476841">,</span>&nbsp;<span class="ident" id="7476843"><a href="/gostd/compress/zlib/writer_test.go.html#7476739">fn</a></span><span class="op" id="7476845">,</span>&nbsp;<span class="ident" id="7476847"><a href="/gostd/compress/zlib/writer.go.html#5709236">DefaultCompression</a></span><span class="op" id="7476865">,</span>&nbsp;<span class="builtintype" id="7476867">nil</span><span class="op" id="7476870">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7476874"><a href="/gostd/compress/zlib/writer_test.go.html#7474735">testFileLevelDictReset</a></span><span class="op" id="7476896">(</span><span class="ident" id="7476897"><a href="/gostd/compress/zlib/writer_test.go.html#7476681">t</a></span><span class="op" id="7476898">,</span>&nbsp;<span class="ident" id="7476900"><a href="/gostd/compress/zlib/writer_test.go.html#7476739">fn</a></span><span class="op" id="7476902">,</span>&nbsp;<span class="ident" id="7476904"><a href="/gostd/compress/zlib/writer.go.html#5709112">NoCompression</a></span><span class="op" id="7476917">,</span>&nbsp;<span class="op" id="7476919">[</span><span class="op" id="7476920">]</span><span class="builtintype" id="7476921">byte</span><span class="op" id="7476925">(</span><span class="ident" id="7476926"><a href="/gostd/compress/zlib/writer_test.go.html#7476704">dictionary</a></span><span class="op" id="7476936">)</span><span class="op" id="7476937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7476941"><a href="/gostd/compress/zlib/writer_test.go.html#7474735">testFileLevelDictReset</a></span><span class="op" id="7476963">(</span><span class="ident" id="7476964"><a href="/gostd/compress/zlib/writer_test.go.html#7476681">t</a></span><span class="op" id="7476965">,</span>&nbsp;<span class="ident" id="7476967"><a href="/gostd/compress/zlib/writer_test.go.html#7476739">fn</a></span><span class="op" id="7476969">,</span>&nbsp;<span class="ident" id="7476971"><a href="/gostd/compress/zlib/writer.go.html#5709236">DefaultCompression</a></span><span class="op" id="7476989">,</span>&nbsp;<span class="op" id="7476991">[</span><span class="op" id="7476992">]</span><span class="builtintype" id="7476993">byte</span><span class="op" id="7476997">(</span><span class="ident" id="7476998"><a href="/gostd/compress/zlib/writer_test.go.html#7476704">dictionary</a></span><span class="op" id="7477008">)</span><span class="op" id="7477009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7477013">if</span>&nbsp;<span class="op" id="7477016">!</span><span class="ident" id="7477017"><a href="/gostd/compress/zlib/writer_test.go.html#7472718">testing</a></span><span class="op" id="7477024">.</span><span class="ident" id="7477025"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="7477030">(</span><span class="op" id="7477031">)</span>&nbsp;<span class="op" id="7477033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7477038">for</span>&nbsp;<span class="ident" id="7477042">level</span>&nbsp;<span class="op" id="7477048">:=</span>&nbsp;<span class="ident" id="7477051"><a href="/gostd/compress/zlib/writer.go.html#5709154">BestSpeed</a></span><span class="op" id="7477060">;</span>&nbsp;<span class="ident" id="7477062"><a href="/gostd/compress/zlib/writer_test.go.html#7477042">level</a></span>&nbsp;<span class="op" id="7477068">&lt;=</span>&nbsp;<span class="ident" id="7477071"><a href="/gostd/compress/zlib/writer.go.html#5709192">BestCompression</a></span><span class="op" id="7477086">;</span>&nbsp;<span class="ident" id="7477088"><a href="/gostd/compress/zlib/writer_test.go.html#7477042">level</a></span><span class="op" id="7477093">++</span>&nbsp;<span class="op" id="7477096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7477102"><a href="/gostd/compress/zlib/writer_test.go.html#7474735">testFileLevelDictReset</a></span><span class="op" id="7477124">(</span><span class="ident" id="7477125"><a href="/gostd/compress/zlib/writer_test.go.html#7476681">t</a></span><span class="op" id="7477126">,</span>&nbsp;<span class="ident" id="7477128"><a href="/gostd/compress/zlib/writer_test.go.html#7476739">fn</a></span><span class="op" id="7477130">,</span>&nbsp;<span class="ident" id="7477132"><a href="/gostd/compress/zlib/writer_test.go.html#7477042">level</a></span><span class="op" id="7477137">,</span>&nbsp;<span class="builtintype" id="7477139">nil</span><span class="op" id="7477142">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7477147">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7477151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7477154">}</span><br>
<span class="lineno"></span><span class="op" id="7477156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="keyword" id="7477159">func</span>&nbsp;<span class="ident" id="7477164">TestWriterDictIsUsed</span><span class="op" id="7477184">(</span><span class="ident" id="7477185">t</span>&nbsp;<span class="op" id="7477187">*</span><span class="ident" id="7477188"><a href="/gostd/compress/zlib/writer_test.go.html#7472718">testing</a></span><span class="op" id="7477195">.</span><span class="ident" id="7477196"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7477197">)</span>&nbsp;<span class="op" id="7477199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7477202">var</span>&nbsp;<span class="ident" id="7477206">input</span>&nbsp;<span class="op" id="7477212">=</span>&nbsp;<span class="op" id="7477214">[</span><span class="op" id="7477215">]</span><span class="builtintype" id="7477216">byte</span><span class="op" id="7477220">(</span><span class="string" id="7477221">&#34;Lorem&nbsp;ipsum&nbsp;dolor&nbsp;sit&nbsp;amet,&nbsp;consectetur&nbsp;adipisicing&nbsp;elit,&nbsp;sed&nbsp;do&nbsp;eiusmod&nbsp;tempor&nbsp;incididunt&nbsp;ut&nbsp;labore&nbsp;et&nbsp;dolore&nbsp;magna&nbsp;aliqua.&#34;</span><span class="op" id="7477347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7477350">var</span>&nbsp;<span class="ident" id="7477354">buf</span>&nbsp;<span class="ident" id="7477358"><a href="/gostd/compress/zlib/writer_test.go.html#7472677">bytes</a></span><span class="op" id="7477363">.</span><span class="ident" id="7477364"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7477372">compressor</span><span class="op" id="7477382">,</span>&nbsp;<span class="ident" id="7477384">err</span>&nbsp;<span class="op" id="7477388">:=</span>&nbsp;<span class="ident" id="7477391"><a href="/gostd/compress/zlib/writer.go.html#5710580">NewWriterLevelDict</a></span><span class="op" id="7477409">(</span><span class="op" id="7477410">&amp;</span><span class="ident" id="7477411"><a href="/gostd/compress/zlib/writer_test.go.html#7477354">buf</a></span><span class="op" id="7477414">,</span>&nbsp;<span class="ident" id="7477416"><a href="/gostd/compress/zlib/writer.go.html#5709192">BestCompression</a></span><span class="op" id="7477431">,</span>&nbsp;<span class="ident" id="7477433"><a href="/gostd/compress/zlib/writer_test.go.html#7477206">input</a></span><span class="op" id="7477438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7477441">if</span>&nbsp;<span class="ident" id="7477444"><a href="/gostd/compress/zlib/writer_test.go.html#7477384">err</a></span>&nbsp;<span class="op" id="7477448">!=</span>&nbsp;<span class="builtintype" id="7477451">nil</span>&nbsp;<span class="op" id="7477455">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7477459"><a href="/gostd/compress/zlib/writer_test.go.html#7477185">t</a></span><span class="op" id="7477460">.</span><span class="ident" id="7477461"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7477467">(</span><span class="string" id="7477468">&#34;error&nbsp;in&nbsp;NewWriterLevelDict:&nbsp;%s&#34;</span><span class="op" id="7477501">,</span>&nbsp;<span class="ident" id="7477503"><a href="/gostd/compress/zlib/writer_test.go.html#7477384">err</a></span><span class="op" id="7477506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7477510">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7477518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7477521"><a href="/gostd/compress/zlib/writer_test.go.html#7477372">compressor</a></span><span class="op" id="7477531">.</span><span class="ident" id="7477532"><a href="/gostd/compress/zlib/writer.go.html#5713081">Write</a></span><span class="op" id="7477537">(</span><span class="ident" id="7477538"><a href="/gostd/compress/zlib/writer_test.go.html#7477206">input</a></span><span class="op" id="7477543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7477546"><a href="/gostd/compress/zlib/writer_test.go.html#7477372">compressor</a></span><span class="op" id="7477556">.</span><span class="ident" id="7477557"><a href="/gostd/compress/zlib/writer.go.html#5713724">Close</a></span><span class="op" id="7477562">(</span><span class="op" id="7477563">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7477566">const</span>&nbsp;<span class="ident" id="7477572">expectedMaxSize</span>&nbsp;<span class="op" id="7477588">=</span>&nbsp;<span class="num" id="7477590">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7477594">output</span>&nbsp;<span class="op" id="7477601">:=</span>&nbsp;<span class="ident" id="7477604"><a href="/gostd/compress/zlib/writer_test.go.html#7477354">buf</a></span><span class="op" id="7477607">.</span><span class="ident" id="7477608"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="7477613">(</span><span class="op" id="7477614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7477617">if</span>&nbsp;<span class="builtinfunc" id="7477620">len</span><span class="op" id="7477623">(</span><span class="ident" id="7477624"><a href="/gostd/compress/zlib/writer_test.go.html#7477594">output</a></span><span class="op" id="7477630">)</span>&nbsp;<span class="op" id="7477632">&gt;</span>&nbsp;<span class="ident" id="7477634"><a href="/gostd/compress/zlib/writer_test.go.html#7477572">expectedMaxSize</a></span>&nbsp;<span class="op" id="7477650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7477654"><a href="/gostd/compress/zlib/writer_test.go.html#7477185">t</a></span><span class="op" id="7477655">.</span><span class="ident" id="7477656"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7477662">(</span><span class="string" id="7477663">&#34;result&nbsp;too&nbsp;large&nbsp;(got&nbsp;%d,&nbsp;want&nbsp;&lt;=&nbsp;%d&nbsp;bytes).&nbsp;Is&nbsp;the&nbsp;dictionary&nbsp;being&nbsp;used?&#34;</span><span class="op" id="7477739">,</span>&nbsp;<span class="builtinfunc" id="7477741">len</span><span class="op" id="7477744">(</span><span class="ident" id="7477745"><a href="/gostd/compress/zlib/writer_test.go.html#7477594">output</a></span><span class="op" id="7477751">)</span><span class="op" id="7477752">,</span>&nbsp;<span class="ident" id="7477754"><a href="/gostd/compress/zlib/writer_test.go.html#7477572">expectedMaxSize</a></span><span class="op" id="7477769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7477772">}</span><br>
<span class="lineno">205</span><span class="op" id="7477774">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
