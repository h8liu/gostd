<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html" class="current">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1644397">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;The&nbsp;authors&nbsp;of&nbsp;this&nbsp;software&nbsp;are&nbsp;Rob&nbsp;Pike&nbsp;and&nbsp;Ken&nbsp;Thompson.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2002&nbsp;by&nbsp;Lucent&nbsp;Technologies.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Portions&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
<span class="lineno">5</span>&nbsp;*&nbsp;Permission&nbsp;to&nbsp;use,&nbsp;copy,&nbsp;modify,&nbsp;and&nbsp;distribute&nbsp;this&nbsp;software&nbsp;for&nbsp;any<br>
<span class="lineno"></span>&nbsp;*&nbsp;purpose&nbsp;without&nbsp;fee&nbsp;is&nbsp;hereby&nbsp;granted,&nbsp;provided&nbsp;that&nbsp;this&nbsp;entire&nbsp;notice<br>
<span class="lineno"></span>&nbsp;*&nbsp;is&nbsp;included&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;any&nbsp;software&nbsp;which&nbsp;is&nbsp;or&nbsp;includes&nbsp;a&nbsp;copy<br>
<span class="lineno"></span>&nbsp;*&nbsp;or&nbsp;modification&nbsp;of&nbsp;this&nbsp;software&nbsp;and&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;the&nbsp;supporting<br>
<span class="lineno"></span>&nbsp;*&nbsp;documentation&nbsp;for&nbsp;such&nbsp;software.<br>
<span class="lineno">10</span>&nbsp;*&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;BEING&nbsp;PROVIDED&nbsp;&#34;AS&nbsp;IS&#34;,&nbsp;WITHOUT&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED<br>
<span class="lineno"></span>&nbsp;*&nbsp;WARRANTY.&nbsp;&nbsp;IN&nbsp;PARTICULAR,&nbsp;NEITHER&nbsp;THE&nbsp;AUTHORS&nbsp;NOR&nbsp;LUCENT&nbsp;TECHNOLOGIES&nbsp;MAKE&nbsp;ANY<br>
<span class="lineno"></span>&nbsp;*&nbsp;REPRESENTATION&nbsp;OR&nbsp;WARRANTY&nbsp;OF&nbsp;ANY&nbsp;KIND&nbsp;CONCERNING&nbsp;THE&nbsp;MERCHANTABILITY<br>
<span class="lineno"></span>&nbsp;*&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE&nbsp;OR&nbsp;ITS&nbsp;FITNESS&nbsp;FOR&nbsp;ANY&nbsp;PARTICULAR&nbsp;PURPOSE.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="1645226">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;code&nbsp;is&nbsp;copied,&nbsp;with&nbsp;slight&nbsp;editing&nbsp;due&nbsp;to&nbsp;type&nbsp;differences,<br>
<span class="lineno"></span>&nbsp;*&nbsp;from&nbsp;a&nbsp;subset&nbsp;of&nbsp;../lib9/utf/rune.c<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="1645342">package</span>&nbsp;<span class="ident" id="1645350">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1645359">const</span>&nbsp;<span class="op" id="1645365">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645368">bit1</span>&nbsp;<span class="op" id="1645373">=</span>&nbsp;<span class="num" id="1645375">7</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645378">bitx</span>&nbsp;<span class="op" id="1645383">=</span>&nbsp;<span class="num" id="1645385">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645388">bit2</span>&nbsp;<span class="op" id="1645393">=</span>&nbsp;<span class="num" id="1645395">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645398">bit3</span>&nbsp;<span class="op" id="1645403">=</span>&nbsp;<span class="num" id="1645405">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645408">bit4</span>&nbsp;<span class="op" id="1645413">=</span>&nbsp;<span class="num" id="1645415">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645418">bit5</span>&nbsp;<span class="op" id="1645423">=</span>&nbsp;<span class="num" id="1645425">2</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645429">t1</span>&nbsp;<span class="op" id="1645432">=</span>&nbsp;<span class="op" id="1645434">(</span><span class="op" id="1645435">(</span><span class="num" id="1645436">1</span>&nbsp;<span class="op" id="1645438">&lt;&lt;</span>&nbsp;<span class="op" id="1645441">(</span><span class="ident" id="1645442">bit1</span>&nbsp;<span class="op" id="1645447">+</span>&nbsp;<span class="num" id="1645449">1</span><span class="op" id="1645450">)</span><span class="op" id="1645451">)</span>&nbsp;<span class="op" id="1645453">-</span>&nbsp;<span class="num" id="1645455">1</span><span class="op" id="1645456">)</span>&nbsp;<span class="op" id="1645458">^</span>&nbsp;<span class="num" id="1645460">0xFF</span>&nbsp;<span class="comment" id="1645465">/*&nbsp;0000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645482">tx</span>&nbsp;<span class="op" id="1645485">=</span>&nbsp;<span class="op" id="1645487">(</span><span class="op" id="1645488">(</span><span class="num" id="1645489">1</span>&nbsp;<span class="op" id="1645491">&lt;&lt;</span>&nbsp;<span class="op" id="1645494">(</span><span class="ident" id="1645495">bitx</span>&nbsp;<span class="op" id="1645500">+</span>&nbsp;<span class="num" id="1645502">1</span><span class="op" id="1645503">)</span><span class="op" id="1645504">)</span>&nbsp;<span class="op" id="1645506">-</span>&nbsp;<span class="num" id="1645508">1</span><span class="op" id="1645509">)</span>&nbsp;<span class="op" id="1645511">^</span>&nbsp;<span class="num" id="1645513">0xFF</span>&nbsp;<span class="comment" id="1645518">/*&nbsp;1000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645535">t2</span>&nbsp;<span class="op" id="1645538">=</span>&nbsp;<span class="op" id="1645540">(</span><span class="op" id="1645541">(</span><span class="num" id="1645542">1</span>&nbsp;<span class="op" id="1645544">&lt;&lt;</span>&nbsp;<span class="op" id="1645547">(</span><span class="ident" id="1645548">bit2</span>&nbsp;<span class="op" id="1645553">+</span>&nbsp;<span class="num" id="1645555">1</span><span class="op" id="1645556">)</span><span class="op" id="1645557">)</span>&nbsp;<span class="op" id="1645559">-</span>&nbsp;<span class="num" id="1645561">1</span><span class="op" id="1645562">)</span>&nbsp;<span class="op" id="1645564">^</span>&nbsp;<span class="num" id="1645566">0xFF</span>&nbsp;<span class="comment" id="1645571">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645588">t3</span>&nbsp;<span class="op" id="1645591">=</span>&nbsp;<span class="op" id="1645593">(</span><span class="op" id="1645594">(</span><span class="num" id="1645595">1</span>&nbsp;<span class="op" id="1645597">&lt;&lt;</span>&nbsp;<span class="op" id="1645600">(</span><span class="ident" id="1645601">bit3</span>&nbsp;<span class="op" id="1645606">+</span>&nbsp;<span class="num" id="1645608">1</span><span class="op" id="1645609">)</span><span class="op" id="1645610">)</span>&nbsp;<span class="op" id="1645612">-</span>&nbsp;<span class="num" id="1645614">1</span><span class="op" id="1645615">)</span>&nbsp;<span class="op" id="1645617">^</span>&nbsp;<span class="num" id="1645619">0xFF</span>&nbsp;<span class="comment" id="1645624">/*&nbsp;1110&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645641">t4</span>&nbsp;<span class="op" id="1645644">=</span>&nbsp;<span class="op" id="1645646">(</span><span class="op" id="1645647">(</span><span class="num" id="1645648">1</span>&nbsp;<span class="op" id="1645650">&lt;&lt;</span>&nbsp;<span class="op" id="1645653">(</span><span class="ident" id="1645654">bit4</span>&nbsp;<span class="op" id="1645659">+</span>&nbsp;<span class="num" id="1645661">1</span><span class="op" id="1645662">)</span><span class="op" id="1645663">)</span>&nbsp;<span class="op" id="1645665">-</span>&nbsp;<span class="num" id="1645667">1</span><span class="op" id="1645668">)</span>&nbsp;<span class="op" id="1645670">^</span>&nbsp;<span class="num" id="1645672">0xFF</span>&nbsp;<span class="comment" id="1645677">/*&nbsp;1111&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645694">t5</span>&nbsp;<span class="op" id="1645697">=</span>&nbsp;<span class="op" id="1645699">(</span><span class="op" id="1645700">(</span><span class="num" id="1645701">1</span>&nbsp;<span class="op" id="1645703">&lt;&lt;</span>&nbsp;<span class="op" id="1645706">(</span><span class="ident" id="1645707">bit5</span>&nbsp;<span class="op" id="1645712">+</span>&nbsp;<span class="num" id="1645714">1</span><span class="op" id="1645715">)</span><span class="op" id="1645716">)</span>&nbsp;<span class="op" id="1645718">-</span>&nbsp;<span class="num" id="1645720">1</span><span class="op" id="1645721">)</span>&nbsp;<span class="op" id="1645723">^</span>&nbsp;<span class="num" id="1645725">0xFF</span>&nbsp;<span class="comment" id="1645730">/*&nbsp;1111&nbsp;1000&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645748">rune1</span>&nbsp;<span class="op" id="1645754">=</span>&nbsp;<span class="op" id="1645756">(</span><span class="num" id="1645757">1</span>&nbsp;<span class="op" id="1645759">&lt;&lt;</span>&nbsp;<span class="op" id="1645762">(</span><span class="ident" id="1645763">bit1</span>&nbsp;<span class="op" id="1645768">+</span>&nbsp;<span class="num" id="1645770">0</span><span class="op" id="1645771">*</span><span class="ident" id="1645772">bitx</span><span class="op" id="1645776">)</span><span class="op" id="1645777">)</span>&nbsp;<span class="op" id="1645779">-</span>&nbsp;<span class="num" id="1645781">1</span>&nbsp;<span class="comment" id="1645783">/*&nbsp;0000&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645810">rune2</span>&nbsp;<span class="op" id="1645816">=</span>&nbsp;<span class="op" id="1645818">(</span><span class="num" id="1645819">1</span>&nbsp;<span class="op" id="1645821">&lt;&lt;</span>&nbsp;<span class="op" id="1645824">(</span><span class="ident" id="1645825">bit2</span>&nbsp;<span class="op" id="1645830">+</span>&nbsp;<span class="num" id="1645832">1</span><span class="op" id="1645833">*</span><span class="ident" id="1645834">bitx</span><span class="op" id="1645838">)</span><span class="op" id="1645839">)</span>&nbsp;<span class="op" id="1645841">-</span>&nbsp;<span class="num" id="1645843">1</span>&nbsp;<span class="comment" id="1645845">/*&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645872">rune3</span>&nbsp;<span class="op" id="1645878">=</span>&nbsp;<span class="op" id="1645880">(</span><span class="num" id="1645881">1</span>&nbsp;<span class="op" id="1645883">&lt;&lt;</span>&nbsp;<span class="op" id="1645886">(</span><span class="ident" id="1645887">bit3</span>&nbsp;<span class="op" id="1645892">+</span>&nbsp;<span class="num" id="1645894">2</span><span class="op" id="1645895">*</span><span class="ident" id="1645896">bitx</span><span class="op" id="1645900">)</span><span class="op" id="1645901">)</span>&nbsp;<span class="op" id="1645903">-</span>&nbsp;<span class="num" id="1645905">1</span>&nbsp;<span class="comment" id="1645907">/*&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1645934">rune4</span>&nbsp;<span class="op" id="1645940">=</span>&nbsp;<span class="op" id="1645942">(</span><span class="num" id="1645943">1</span>&nbsp;<span class="op" id="1645945">&lt;&lt;</span>&nbsp;<span class="op" id="1645948">(</span><span class="ident" id="1645949">bit4</span>&nbsp;<span class="op" id="1645954">+</span>&nbsp;<span class="num" id="1645956">3</span><span class="op" id="1645957">*</span><span class="ident" id="1645958">bitx</span><span class="op" id="1645962">)</span><span class="op" id="1645963">)</span>&nbsp;<span class="op" id="1645965">-</span>&nbsp;<span class="num" id="1645967">1</span>&nbsp;<span class="comment" id="1645969">/*&nbsp;0001&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646007">maskx</span>&nbsp;<span class="op" id="1646013">=</span>&nbsp;<span class="op" id="1646015">(</span><span class="num" id="1646016">1</span>&nbsp;<span class="op" id="1646018">&lt;&lt;</span>&nbsp;<span class="ident" id="1646021">bitx</span><span class="op" id="1646025">)</span>&nbsp;<span class="op" id="1646027">-</span>&nbsp;<span class="num" id="1646029">1</span>&nbsp;<span class="comment" id="1646031">/*&nbsp;0011&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646048">testx</span>&nbsp;<span class="op" id="1646054">=</span>&nbsp;<span class="ident" id="1646056">maskx</span>&nbsp;<span class="op" id="1646062">^</span>&nbsp;<span class="num" id="1646064">0xFF</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1646072">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646090">runeerror</span>&nbsp;<span class="op" id="1646100">=</span>&nbsp;<span class="num" id="1646102">0xFFFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646110">runeself</span>&nbsp;&nbsp;<span class="op" id="1646120">=</span>&nbsp;<span class="num" id="1646122">0x80</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646129">surrogateMin</span>&nbsp;<span class="op" id="1646142">=</span>&nbsp;<span class="num" id="1646144">0xD800</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646152">surrogateMax</span>&nbsp;<span class="op" id="1646165">=</span>&nbsp;<span class="num" id="1646167">0xDFFF</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646176">bad</span>&nbsp;<span class="op" id="1646180">=</span>&nbsp;<span class="ident" id="1646182">runeerror</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1646194">runemax</span>&nbsp;<span class="op" id="1646202">=</span>&nbsp;<span class="num" id="1646204">0x10FFFF</span>&nbsp;<span class="comment" id="1646213">/*&nbsp;maximum&nbsp;rune&nbsp;value&nbsp;*/</span><br>
<span class="lineno">55</span><span class="op" id="1646238">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1646241">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Modified&nbsp;by&nbsp;Wei-Hwa&nbsp;Huang,&nbsp;Google&nbsp;Inc.,&nbsp;on&nbsp;2004-09-24<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;is&nbsp;a&nbsp;slower&nbsp;but&nbsp;&#34;safe&#34;&nbsp;version&nbsp;of&nbsp;the&nbsp;old&nbsp;chartorune<br>
<span class="lineno">60</span>&nbsp;*&nbsp;that&nbsp;works&nbsp;on&nbsp;strings&nbsp;that&nbsp;are&nbsp;not&nbsp;necessarily&nbsp;null-terminated.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;If&nbsp;you&nbsp;know&nbsp;for&nbsp;sure&nbsp;that&nbsp;your&nbsp;string&nbsp;is&nbsp;null-terminated,<br>
<span class="lineno"></span>&nbsp;*&nbsp;chartorune&nbsp;will&nbsp;be&nbsp;a&nbsp;bit&nbsp;faster.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno">65</span>&nbsp;*&nbsp;It&nbsp;is&nbsp;guaranteed&nbsp;not&nbsp;to&nbsp;attempt&nbsp;to&nbsp;access&nbsp;&#34;length&#34;<br>
<span class="lineno"></span>&nbsp;*&nbsp;past&nbsp;the&nbsp;incoming&nbsp;pointer.&nbsp;&nbsp;This&nbsp;is&nbsp;to&nbsp;avoid<br>
<span class="lineno"></span>&nbsp;*&nbsp;possible&nbsp;access&nbsp;violations.&nbsp;&nbsp;If&nbsp;the&nbsp;string&nbsp;appears&nbsp;to&nbsp;be<br>
<span class="lineno"></span>&nbsp;*&nbsp;well-formed&nbsp;but&nbsp;incomplete&nbsp;(i.e.,&nbsp;to&nbsp;get&nbsp;the&nbsp;whole&nbsp;Rune<br>
<span class="lineno"></span>&nbsp;*&nbsp;we&#39;d&nbsp;need&nbsp;to&nbsp;read&nbsp;past&nbsp;str+length)&nbsp;then&nbsp;we&#39;ll&nbsp;set&nbsp;the&nbsp;Rune<br>
<span class="lineno">70</span>&nbsp;*&nbsp;to&nbsp;Bad&nbsp;and&nbsp;return&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Note&nbsp;that&nbsp;if&nbsp;we&nbsp;have&nbsp;decoding&nbsp;problems&nbsp;for&nbsp;other<br>
<span class="lineno"></span>&nbsp;*&nbsp;reasons,&nbsp;we&nbsp;return&nbsp;1&nbsp;instead&nbsp;of&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">75</span><span class="keyword" id="1646936">func</span>&nbsp;<span class="ident" id="1646941">charntorune</span><span class="op" id="1646952">(</span><span class="ident" id="1646953">s</span>&nbsp;<span class="builtintype" id="1646955">string</span><span class="op" id="1646961">)</span>&nbsp;<span class="op" id="1646963">(</span><span class="builtintype" id="1646964">rune</span><span class="op" id="1646968">,</span>&nbsp;<span class="builtintype" id="1646970">int</span><span class="op" id="1646973">)</span>&nbsp;<span class="op" id="1646975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1646978">/*&nbsp;When&nbsp;we&#39;re&nbsp;not&nbsp;allowed&nbsp;to&nbsp;read&nbsp;anything&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647025">if</span>&nbsp;<span class="builtinfunc" id="1647028">len</span><span class="op" id="1647031">(</span><span class="ident" id="1647032">s</span><span class="op" id="1647033">)</span>&nbsp;<span class="op" id="1647035">&lt;=</span>&nbsp;<span class="num" id="1647038">0</span>&nbsp;<span class="op" id="1647040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647044">return</span>&nbsp;<span class="ident" id="1647051">bad</span><span class="op" id="1647054">,</span>&nbsp;<span class="num" id="1647056">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647059">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1647063">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence&nbsp;(7-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;00000-0007F&nbsp;=&gt;&nbsp;T1<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647135">c</span>&nbsp;<span class="op" id="1647137">:=</span>&nbsp;<span class="ident" id="1647140">s</span><span class="op" id="1647141">[</span><span class="num" id="1647142">0</span><span class="op" id="1647143">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647146">if</span>&nbsp;<span class="ident" id="1647149">c</span>&nbsp;<span class="op" id="1647151">&lt;</span>&nbsp;<span class="ident" id="1647153">tx</span>&nbsp;<span class="op" id="1647156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647160">return</span>&nbsp;<span class="builtintype" id="1647167">rune</span><span class="op" id="1647171">(</span><span class="ident" id="1647172">c</span><span class="op" id="1647173">)</span><span class="op" id="1647174">,</span>&nbsp;<span class="num" id="1647176">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1647183">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;one&nbsp;character&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647241">if</span>&nbsp;<span class="builtinfunc" id="1647244">len</span><span class="op" id="1647247">(</span><span class="ident" id="1647248">s</span><span class="op" id="1647249">)</span>&nbsp;<span class="op" id="1647251">&lt;=</span>&nbsp;<span class="num" id="1647254">1</span>&nbsp;<span class="op" id="1647256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647260">return</span>&nbsp;<span class="ident" id="1647267">bad</span><span class="op" id="1647270">,</span>&nbsp;<span class="num" id="1647272">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1647279">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence&nbsp;(11-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647353">c1</span>&nbsp;<span class="op" id="1647356">:=</span>&nbsp;<span class="ident" id="1647359">s</span><span class="op" id="1647360">[</span><span class="num" id="1647361">1</span><span class="op" id="1647362">]</span>&nbsp;<span class="op" id="1647364">^</span>&nbsp;<span class="ident" id="1647366">tx</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647370">if</span>&nbsp;<span class="op" id="1647373">(</span><span class="ident" id="1647374">c1</span>&nbsp;<span class="op" id="1647377">&amp;</span>&nbsp;<span class="ident" id="1647379">testx</span><span class="op" id="1647384">)</span>&nbsp;<span class="op" id="1647386">!=</span>&nbsp;<span class="num" id="1647389">0</span>&nbsp;<span class="op" id="1647391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647395">return</span>&nbsp;<span class="ident" id="1647402">bad</span><span class="op" id="1647405">,</span>&nbsp;<span class="num" id="1647407">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647413">if</span>&nbsp;<span class="ident" id="1647416">c</span>&nbsp;<span class="op" id="1647418">&lt;</span>&nbsp;<span class="ident" id="1647420">t3</span>&nbsp;<span class="op" id="1647423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647427">if</span>&nbsp;<span class="ident" id="1647430">c</span>&nbsp;<span class="op" id="1647432">&lt;</span>&nbsp;<span class="ident" id="1647434">t2</span>&nbsp;<span class="op" id="1647437">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647442">return</span>&nbsp;<span class="ident" id="1647449">bad</span><span class="op" id="1647452">,</span>&nbsp;<span class="num" id="1647454">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647462">l</span>&nbsp;<span class="op" id="1647464">:=</span>&nbsp;<span class="op" id="1647467">(</span><span class="op" id="1647468">(</span><span class="builtintype" id="1647469">rune</span><span class="op" id="1647473">(</span><span class="ident" id="1647474">c</span><span class="op" id="1647475">)</span>&nbsp;<span class="op" id="1647477">&lt;&lt;</span>&nbsp;<span class="ident" id="1647480">bitx</span><span class="op" id="1647484">)</span>&nbsp;<span class="op" id="1647486">|</span>&nbsp;<span class="builtintype" id="1647488">rune</span><span class="op" id="1647492">(</span><span class="ident" id="1647493">c1</span><span class="op" id="1647495">)</span><span class="op" id="1647496">)</span>&nbsp;<span class="op" id="1647498">&amp;</span>&nbsp;<span class="ident" id="1647500">rune2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647508">if</span>&nbsp;<span class="ident" id="1647511">l</span>&nbsp;<span class="op" id="1647513">&lt;=</span>&nbsp;<span class="ident" id="1647516">rune1</span>&nbsp;<span class="op" id="1647522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647527">return</span>&nbsp;<span class="ident" id="1647534">bad</span><span class="op" id="1647537">,</span>&nbsp;<span class="num" id="1647539">1</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647547">return</span>&nbsp;<span class="ident" id="1647554">l</span><span class="op" id="1647555">,</span>&nbsp;<span class="num" id="1647557">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647560">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1647564">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;two&nbsp;characters&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647623">if</span>&nbsp;<span class="builtinfunc" id="1647626">len</span><span class="op" id="1647629">(</span><span class="ident" id="1647630">s</span><span class="op" id="1647631">)</span>&nbsp;<span class="op" id="1647633">&lt;=</span>&nbsp;<span class="num" id="1647636">2</span>&nbsp;<span class="op" id="1647638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647642">return</span>&nbsp;<span class="ident" id="1647649">bad</span><span class="op" id="1647652">,</span>&nbsp;<span class="num" id="1647654">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1647661">/*<br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence&nbsp;(16-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647740">c2</span>&nbsp;<span class="op" id="1647743">:=</span>&nbsp;<span class="ident" id="1647746">s</span><span class="op" id="1647747">[</span><span class="num" id="1647748">2</span><span class="op" id="1647749">]</span>&nbsp;<span class="op" id="1647751">^</span>&nbsp;<span class="ident" id="1647753">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647757">if</span>&nbsp;<span class="op" id="1647760">(</span><span class="ident" id="1647761">c2</span>&nbsp;<span class="op" id="1647764">&amp;</span>&nbsp;<span class="ident" id="1647766">testx</span><span class="op" id="1647771">)</span>&nbsp;<span class="op" id="1647773">!=</span>&nbsp;<span class="num" id="1647776">0</span>&nbsp;<span class="op" id="1647778">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647782">return</span>&nbsp;<span class="ident" id="1647789">bad</span><span class="op" id="1647792">,</span>&nbsp;<span class="num" id="1647794">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647800">if</span>&nbsp;<span class="ident" id="1647803">c</span>&nbsp;<span class="op" id="1647805">&lt;</span>&nbsp;<span class="ident" id="1647807">t4</span>&nbsp;<span class="op" id="1647810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1647814">l</span>&nbsp;<span class="op" id="1647816">:=</span>&nbsp;<span class="op" id="1647819">(</span><span class="op" id="1647820">(</span><span class="op" id="1647821">(</span><span class="op" id="1647822">(</span><span class="builtintype" id="1647823">rune</span><span class="op" id="1647827">(</span><span class="ident" id="1647828">c</span><span class="op" id="1647829">)</span>&nbsp;<span class="op" id="1647831">&lt;&lt;</span>&nbsp;<span class="ident" id="1647834">bitx</span><span class="op" id="1647838">)</span>&nbsp;<span class="op" id="1647840">|</span>&nbsp;<span class="builtintype" id="1647842">rune</span><span class="op" id="1647846">(</span><span class="ident" id="1647847">c1</span><span class="op" id="1647849">)</span><span class="op" id="1647850">)</span>&nbsp;<span class="op" id="1647852">&lt;&lt;</span>&nbsp;<span class="ident" id="1647855">bitx</span><span class="op" id="1647859">)</span>&nbsp;<span class="op" id="1647861">|</span>&nbsp;<span class="builtintype" id="1647863">rune</span><span class="op" id="1647867">(</span><span class="ident" id="1647868">c2</span><span class="op" id="1647870">)</span><span class="op" id="1647871">)</span>&nbsp;<span class="op" id="1647873">&amp;</span>&nbsp;<span class="ident" id="1647875">rune3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647883">if</span>&nbsp;<span class="ident" id="1647886">l</span>&nbsp;<span class="op" id="1647888">&lt;=</span>&nbsp;<span class="ident" id="1647891">rune2</span>&nbsp;<span class="op" id="1647897">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647902">return</span>&nbsp;<span class="ident" id="1647909">bad</span><span class="op" id="1647912">,</span>&nbsp;<span class="num" id="1647914">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647922">if</span>&nbsp;<span class="ident" id="1647925">surrogateMin</span>&nbsp;<span class="op" id="1647938">&lt;=</span>&nbsp;<span class="ident" id="1647941">l</span>&nbsp;<span class="op" id="1647943">&amp;&amp;</span>&nbsp;<span class="ident" id="1647946">l</span>&nbsp;<span class="op" id="1647948">&lt;=</span>&nbsp;<span class="ident" id="1647951">surrogateMax</span>&nbsp;<span class="op" id="1647964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647969">return</span>&nbsp;<span class="ident" id="1647976">bad</span><span class="op" id="1647979">,</span>&nbsp;<span class="num" id="1647981">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1647985">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1647989">return</span>&nbsp;<span class="ident" id="1647996">l</span><span class="op" id="1647997">,</span>&nbsp;<span class="num" id="1647999">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1648002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648006">if</span>&nbsp;<span class="builtinfunc" id="1648009">len</span><span class="op" id="1648012">(</span><span class="ident" id="1648013">s</span><span class="op" id="1648014">)</span>&nbsp;<span class="op" id="1648016">&lt;=</span>&nbsp;<span class="num" id="1648019">3</span>&nbsp;<span class="op" id="1648021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648025">return</span>&nbsp;<span class="ident" id="1648032">bad</span><span class="op" id="1648035">,</span>&nbsp;<span class="num" id="1648037">1</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1648040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1648044">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1648128">c3</span>&nbsp;<span class="op" id="1648131">:=</span>&nbsp;<span class="ident" id="1648134">s</span><span class="op" id="1648135">[</span><span class="num" id="1648136">3</span><span class="op" id="1648137">]</span>&nbsp;<span class="op" id="1648139">^</span>&nbsp;<span class="ident" id="1648141">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648145">if</span>&nbsp;<span class="op" id="1648148">(</span><span class="ident" id="1648149">c3</span>&nbsp;<span class="op" id="1648152">&amp;</span>&nbsp;<span class="ident" id="1648154">testx</span><span class="op" id="1648159">)</span>&nbsp;<span class="op" id="1648161">!=</span>&nbsp;<span class="num" id="1648164">0</span>&nbsp;<span class="op" id="1648166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648170">return</span>&nbsp;<span class="ident" id="1648177">bad</span><span class="op" id="1648180">,</span>&nbsp;<span class="num" id="1648182">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1648185">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648188">if</span>&nbsp;<span class="ident" id="1648191">c</span>&nbsp;<span class="op" id="1648193">&lt;</span>&nbsp;<span class="ident" id="1648195">t5</span>&nbsp;<span class="op" id="1648198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1648202">l</span>&nbsp;<span class="op" id="1648204">:=</span>&nbsp;<span class="op" id="1648207">(</span><span class="op" id="1648208">(</span><span class="op" id="1648209">(</span><span class="op" id="1648210">(</span><span class="op" id="1648211">(</span><span class="op" id="1648212">(</span><span class="builtintype" id="1648213">rune</span><span class="op" id="1648217">(</span><span class="ident" id="1648218">c</span><span class="op" id="1648219">)</span>&nbsp;<span class="op" id="1648221">&lt;&lt;</span>&nbsp;<span class="ident" id="1648224">bitx</span><span class="op" id="1648228">)</span>&nbsp;<span class="op" id="1648230">|</span>&nbsp;<span class="builtintype" id="1648232">rune</span><span class="op" id="1648236">(</span><span class="ident" id="1648237">c1</span><span class="op" id="1648239">)</span><span class="op" id="1648240">)</span>&nbsp;<span class="op" id="1648242">&lt;&lt;</span>&nbsp;<span class="ident" id="1648245">bitx</span><span class="op" id="1648249">)</span>&nbsp;<span class="op" id="1648251">|</span>&nbsp;<span class="builtintype" id="1648253">rune</span><span class="op" id="1648257">(</span><span class="ident" id="1648258">c2</span><span class="op" id="1648260">)</span><span class="op" id="1648261">)</span>&nbsp;<span class="op" id="1648263">&lt;&lt;</span>&nbsp;<span class="ident" id="1648266">bitx</span><span class="op" id="1648270">)</span>&nbsp;<span class="op" id="1648272">|</span>&nbsp;<span class="builtintype" id="1648274">rune</span><span class="op" id="1648278">(</span><span class="ident" id="1648279">c3</span><span class="op" id="1648281">)</span><span class="op" id="1648282">)</span>&nbsp;<span class="op" id="1648284">&amp;</span>&nbsp;<span class="ident" id="1648286">rune4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648294">if</span>&nbsp;<span class="ident" id="1648297">l</span>&nbsp;<span class="op" id="1648299">&lt;=</span>&nbsp;<span class="ident" id="1648302">rune3</span>&nbsp;<span class="op" id="1648308">||</span>&nbsp;<span class="ident" id="1648311">l</span>&nbsp;<span class="op" id="1648313">&gt;</span>&nbsp;<span class="ident" id="1648315">runemax</span>&nbsp;<span class="op" id="1648323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648328">return</span>&nbsp;<span class="ident" id="1648335">bad</span><span class="op" id="1648338">,</span>&nbsp;<span class="num" id="1648340">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1648344">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648348">return</span>&nbsp;<span class="ident" id="1648355">l</span><span class="op" id="1648356">,</span>&nbsp;<span class="num" id="1648358">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1648361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1648365">//&nbsp;Support&nbsp;for&nbsp;5-byte&nbsp;or&nbsp;longer&nbsp;UTF-8&nbsp;would&nbsp;go&nbsp;here,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1648423">//&nbsp;since&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;that,&nbsp;we&#39;ll&nbsp;just&nbsp;return&nbsp;bad.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648476">return</span>&nbsp;<span class="ident" id="1648483">bad</span><span class="op" id="1648486">,</span>&nbsp;<span class="num" id="1648488">1</span><br>
<span class="lineno"></span><span class="op" id="1648490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1648493">//&nbsp;runetochar&nbsp;converts&nbsp;r&nbsp;to&nbsp;bytes&nbsp;and&nbsp;writes&nbsp;the&nbsp;result&nbsp;to&nbsp;str.</span><br>
<span class="lineno"></span><span class="comment" id="1648557">//&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;generated.</span><br>
<span class="lineno">165</span><span class="keyword" id="1648599">func</span>&nbsp;<span class="ident" id="1648604">runetochar</span><span class="op" id="1648614">(</span><span class="ident" id="1648615">str</span>&nbsp;<span class="op" id="1648619">[</span><span class="op" id="1648620">]</span><span class="builtintype" id="1648621">byte</span><span class="op" id="1648625">,</span>&nbsp;<span class="ident" id="1648627">r</span>&nbsp;<span class="builtintype" id="1648629">rune</span><span class="op" id="1648633">)</span>&nbsp;<span class="builtintype" id="1648635">int</span>&nbsp;<span class="op" id="1648639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1648642">/*&nbsp;runes&nbsp;are&nbsp;signed,&nbsp;so&nbsp;convert&nbsp;to&nbsp;unsigned&nbsp;for&nbsp;range&nbsp;check.&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1648707">c</span>&nbsp;<span class="op" id="1648709">:=</span>&nbsp;<span class="builtintype" id="1648712">uint32</span><span class="op" id="1648718">(</span><span class="ident" id="1648719">r</span><span class="op" id="1648720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1648723">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence<br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;00000-0007F&nbsp;=&gt;&nbsp;00-7F<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648784">if</span>&nbsp;<span class="ident" id="1648787">c</span>&nbsp;<span class="op" id="1648789">&lt;=</span>&nbsp;<span class="ident" id="1648792">rune1</span>&nbsp;<span class="op" id="1648798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1648802">str</span><span class="op" id="1648805">[</span><span class="num" id="1648806">0</span><span class="op" id="1648807">]</span>&nbsp;<span class="op" id="1648809">=</span>&nbsp;<span class="builtintype" id="1648811">byte</span><span class="op" id="1648815">(</span><span class="ident" id="1648816">c</span><span class="op" id="1648817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648821">return</span>&nbsp;<span class="num" id="1648828">1</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1648831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1648834">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648893">if</span>&nbsp;<span class="ident" id="1648896">c</span>&nbsp;<span class="op" id="1648898">&lt;=</span>&nbsp;<span class="ident" id="1648901">rune2</span>&nbsp;<span class="op" id="1648907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1648911">str</span><span class="op" id="1648914">[</span><span class="num" id="1648915">0</span><span class="op" id="1648916">]</span>&nbsp;<span class="op" id="1648918">=</span>&nbsp;<span class="builtintype" id="1648920">byte</span><span class="op" id="1648924">(</span><span class="ident" id="1648925">t2</span>&nbsp;<span class="op" id="1648928">|</span>&nbsp;<span class="op" id="1648930">(</span><span class="ident" id="1648931">c</span>&nbsp;<span class="op" id="1648933">&gt;&gt;</span>&nbsp;<span class="op" id="1648936">(</span><span class="num" id="1648937">1</span>&nbsp;<span class="op" id="1648939">*</span>&nbsp;<span class="ident" id="1648941">bitx</span><span class="op" id="1648945">)</span><span class="op" id="1648946">)</span><span class="op" id="1648947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1648951">str</span><span class="op" id="1648954">[</span><span class="num" id="1648955">1</span><span class="op" id="1648956">]</span>&nbsp;<span class="op" id="1648958">=</span>&nbsp;<span class="builtintype" id="1648960">byte</span><span class="op" id="1648964">(</span><span class="ident" id="1648965">tx</span>&nbsp;<span class="op" id="1648968">|</span>&nbsp;<span class="op" id="1648970">(</span><span class="ident" id="1648971">c</span>&nbsp;<span class="op" id="1648973">&amp;</span>&nbsp;<span class="ident" id="1648975">maskx</span><span class="op" id="1648980">)</span><span class="op" id="1648981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1648985">return</span>&nbsp;<span class="num" id="1648992">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1648995">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1648999">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;rune&nbsp;is&nbsp;out&nbsp;of&nbsp;range&nbsp;or&nbsp;a&nbsp;surrogate&nbsp;half,&nbsp;convert&nbsp;it&nbsp;to&nbsp;the&nbsp;error&nbsp;rune.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Do&nbsp;this&nbsp;test&nbsp;here&nbsp;because&nbsp;the&nbsp;error&nbsp;rune&nbsp;encodes&nbsp;to&nbsp;three&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Doing&nbsp;it&nbsp;earlier&nbsp;would&nbsp;duplicate&nbsp;work,&nbsp;since&nbsp;an&nbsp;out&nbsp;of&nbsp;range<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;rune&nbsp;wouldn&#39;t&nbsp;have&nbsp;fit&nbsp;in&nbsp;one&nbsp;or&nbsp;two&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1649273">if</span>&nbsp;<span class="ident" id="1649276">c</span>&nbsp;<span class="op" id="1649278">&gt;</span>&nbsp;<span class="ident" id="1649280">runemax</span>&nbsp;<span class="op" id="1649288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649292">c</span>&nbsp;<span class="op" id="1649294">=</span>&nbsp;<span class="ident" id="1649296">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1649307">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1649310">if</span>&nbsp;<span class="ident" id="1649313">surrogateMin</span>&nbsp;<span class="op" id="1649326">&lt;=</span>&nbsp;<span class="ident" id="1649329">c</span>&nbsp;<span class="op" id="1649331">&amp;&amp;</span>&nbsp;<span class="ident" id="1649334">c</span>&nbsp;<span class="op" id="1649336">&lt;=</span>&nbsp;<span class="ident" id="1649339">surrogateMax</span>&nbsp;<span class="op" id="1649352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649356">c</span>&nbsp;<span class="op" id="1649358">=</span>&nbsp;<span class="ident" id="1649360">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1649371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1649375">/*<br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1649439">if</span>&nbsp;<span class="ident" id="1649442">c</span>&nbsp;<span class="op" id="1649444">&lt;=</span>&nbsp;<span class="ident" id="1649447">rune3</span>&nbsp;<span class="op" id="1649453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649457">str</span><span class="op" id="1649460">[</span><span class="num" id="1649461">0</span><span class="op" id="1649462">]</span>&nbsp;<span class="op" id="1649464">=</span>&nbsp;<span class="builtintype" id="1649466">byte</span><span class="op" id="1649470">(</span><span class="ident" id="1649471">t3</span>&nbsp;<span class="op" id="1649474">|</span>&nbsp;<span class="op" id="1649476">(</span><span class="ident" id="1649477">c</span>&nbsp;<span class="op" id="1649479">&gt;&gt;</span>&nbsp;<span class="op" id="1649482">(</span><span class="num" id="1649483">2</span>&nbsp;<span class="op" id="1649485">*</span>&nbsp;<span class="ident" id="1649487">bitx</span><span class="op" id="1649491">)</span><span class="op" id="1649492">)</span><span class="op" id="1649493">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649497">str</span><span class="op" id="1649500">[</span><span class="num" id="1649501">1</span><span class="op" id="1649502">]</span>&nbsp;<span class="op" id="1649504">=</span>&nbsp;<span class="builtintype" id="1649506">byte</span><span class="op" id="1649510">(</span><span class="ident" id="1649511">tx</span>&nbsp;<span class="op" id="1649514">|</span>&nbsp;<span class="op" id="1649516">(</span><span class="op" id="1649517">(</span><span class="ident" id="1649518">c</span>&nbsp;<span class="op" id="1649520">&gt;&gt;</span>&nbsp;<span class="op" id="1649523">(</span><span class="num" id="1649524">1</span>&nbsp;<span class="op" id="1649526">*</span>&nbsp;<span class="ident" id="1649528">bitx</span><span class="op" id="1649532">)</span><span class="op" id="1649533">)</span>&nbsp;<span class="op" id="1649535">&amp;</span>&nbsp;<span class="ident" id="1649537">maskx</span><span class="op" id="1649542">)</span><span class="op" id="1649543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649547">str</span><span class="op" id="1649550">[</span><span class="num" id="1649551">2</span><span class="op" id="1649552">]</span>&nbsp;<span class="op" id="1649554">=</span>&nbsp;<span class="builtintype" id="1649556">byte</span><span class="op" id="1649560">(</span><span class="ident" id="1649561">tx</span>&nbsp;<span class="op" id="1649564">|</span>&nbsp;<span class="op" id="1649566">(</span><span class="ident" id="1649567">c</span>&nbsp;<span class="op" id="1649569">&amp;</span>&nbsp;<span class="ident" id="1649571">maskx</span><span class="op" id="1649576">)</span><span class="op" id="1649577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1649581">return</span>&nbsp;<span class="num" id="1649588">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1649591">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1649595">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649683">str</span><span class="op" id="1649686">[</span><span class="num" id="1649687">0</span><span class="op" id="1649688">]</span>&nbsp;<span class="op" id="1649690">=</span>&nbsp;<span class="builtintype" id="1649692">byte</span><span class="op" id="1649696">(</span><span class="ident" id="1649697">t4</span>&nbsp;<span class="op" id="1649700">|</span>&nbsp;<span class="op" id="1649702">(</span><span class="ident" id="1649703">c</span>&nbsp;<span class="op" id="1649705">&gt;&gt;</span>&nbsp;<span class="op" id="1649708">(</span><span class="num" id="1649709">3</span>&nbsp;<span class="op" id="1649711">*</span>&nbsp;<span class="ident" id="1649713">bitx</span><span class="op" id="1649717">)</span><span class="op" id="1649718">)</span><span class="op" id="1649719">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649722">str</span><span class="op" id="1649725">[</span><span class="num" id="1649726">1</span><span class="op" id="1649727">]</span>&nbsp;<span class="op" id="1649729">=</span>&nbsp;<span class="builtintype" id="1649731">byte</span><span class="op" id="1649735">(</span><span class="ident" id="1649736">tx</span>&nbsp;<span class="op" id="1649739">|</span>&nbsp;<span class="op" id="1649741">(</span><span class="op" id="1649742">(</span><span class="ident" id="1649743">c</span>&nbsp;<span class="op" id="1649745">&gt;&gt;</span>&nbsp;<span class="op" id="1649748">(</span><span class="num" id="1649749">2</span>&nbsp;<span class="op" id="1649751">*</span>&nbsp;<span class="ident" id="1649753">bitx</span><span class="op" id="1649757">)</span><span class="op" id="1649758">)</span>&nbsp;<span class="op" id="1649760">&amp;</span>&nbsp;<span class="ident" id="1649762">maskx</span><span class="op" id="1649767">)</span><span class="op" id="1649768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649771">str</span><span class="op" id="1649774">[</span><span class="num" id="1649775">2</span><span class="op" id="1649776">]</span>&nbsp;<span class="op" id="1649778">=</span>&nbsp;<span class="builtintype" id="1649780">byte</span><span class="op" id="1649784">(</span><span class="ident" id="1649785">tx</span>&nbsp;<span class="op" id="1649788">|</span>&nbsp;<span class="op" id="1649790">(</span><span class="op" id="1649791">(</span><span class="ident" id="1649792">c</span>&nbsp;<span class="op" id="1649794">&gt;&gt;</span>&nbsp;<span class="op" id="1649797">(</span><span class="num" id="1649798">1</span>&nbsp;<span class="op" id="1649800">*</span>&nbsp;<span class="ident" id="1649802">bitx</span><span class="op" id="1649806">)</span><span class="op" id="1649807">)</span>&nbsp;<span class="op" id="1649809">&amp;</span>&nbsp;<span class="ident" id="1649811">maskx</span><span class="op" id="1649816">)</span><span class="op" id="1649817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1649820">str</span><span class="op" id="1649823">[</span><span class="num" id="1649824">3</span><span class="op" id="1649825">]</span>&nbsp;<span class="op" id="1649827">=</span>&nbsp;<span class="builtintype" id="1649829">byte</span><span class="op" id="1649833">(</span><span class="ident" id="1649834">tx</span>&nbsp;<span class="op" id="1649837">|</span>&nbsp;<span class="op" id="1649839">(</span><span class="ident" id="1649840">c</span>&nbsp;<span class="op" id="1649842">&amp;</span>&nbsp;<span class="ident" id="1649844">maskx</span><span class="op" id="1649849">)</span><span class="op" id="1649850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1649853">return</span>&nbsp;<span class="num" id="1649860">4</span><br>
<span class="lineno"></span><span class="op" id="1649862">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
