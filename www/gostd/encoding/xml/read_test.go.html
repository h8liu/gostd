<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html" class="current">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6749208">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6749263">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6749317">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6749368">package</span>&nbsp;<span class="ident" id="6749376">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6749381">import</span>&nbsp;<span class="op" id="6749388">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749391">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749397">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749408">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749419">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6749430">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6749437">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="6749440">//&nbsp;Stripped&nbsp;down&nbsp;Atom&nbsp;feed&nbsp;data&nbsp;structures.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6749485">func</span>&nbsp;<span class="ident" id="6749490">TestUnmarshalFeed</span><span class="op" id="6749507">(</span><span class="ident" id="6749508">t</span>&nbsp;<span class="op" id="6749510">*</span><span class="ident" id="6749511">testing</span><span class="op" id="6749518">.</span><span class="ident" id="6749519">T</span><span class="op" id="6749520">)</span>&nbsp;<span class="op" id="6749522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6749525">var</span>&nbsp;<span class="ident" id="6749529">f</span>&nbsp;<span class="ident" id="6749531">Feed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6749537">if</span>&nbsp;<span class="ident" id="6749540">err</span>&nbsp;<span class="op" id="6749544">:=</span>&nbsp;<span class="ident" id="6749547">Unmarshal</span><span class="op" id="6749556">(</span><span class="op" id="6749557">[</span><span class="op" id="6749558">]</span><span class="builtintype" id="6749559">byte</span><span class="op" id="6749563">(</span><span class="ident" id="6749564">atomFeedString</span><span class="op" id="6749578">)</span><span class="op" id="6749579">,</span>&nbsp;<span class="op" id="6749581">&amp;</span><span class="ident" id="6749582">f</span><span class="op" id="6749583">)</span><span class="op" id="6749584">;</span>&nbsp;<span class="ident" id="6749586">err</span>&nbsp;<span class="op" id="6749590">!=</span>&nbsp;<span class="ident" id="6749593">nil</span>&nbsp;<span class="op" id="6749597">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6749601">t</span><span class="op" id="6749602">.</span><span class="ident" id="6749603">Fatalf</span><span class="op" id="6749609">(</span><span class="string" id="6749610">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6749625">,</span>&nbsp;<span class="ident" id="6749627">err</span><span class="op" id="6749630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6749633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6749636">if</span>&nbsp;<span class="op" id="6749639">!</span><span class="ident" id="6749640">reflect</span><span class="op" id="6749647">.</span><span class="ident" id="6749648">DeepEqual</span><span class="op" id="6749657">(</span><span class="ident" id="6749658">f</span><span class="op" id="6749659">,</span>&nbsp;<span class="ident" id="6749661">atomFeed</span><span class="op" id="6749669">)</span>&nbsp;<span class="op" id="6749671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6749675">t</span><span class="op" id="6749676">.</span><span class="ident" id="6749677">Fatalf</span><span class="op" id="6749683">(</span><span class="string" id="6749684">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="6749704">,</span>&nbsp;<span class="ident" id="6749706">f</span><span class="op" id="6749707">,</span>&nbsp;<span class="ident" id="6749709">atomFeed</span><span class="op" id="6749717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6749720">}</span><br>
<span class="lineno">25</span><span class="op" id="6749722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6749725">//&nbsp;hget&nbsp;http://codereview.appspot.com/rss/mine/rsc</span><br>
<span class="lineno"></span><span class="keyword" id="6749776">const</span>&nbsp;<span class="ident" id="6749782">atomFeedString</span>&nbsp;<span class="op" id="6749797">=</span>&nbsp;<span class="string" id="6749799">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno">30</span>&lt;feed&nbsp;xmlns=&#34;http://www.w3.org/2005/Atom&#34;&nbsp;xml:lang=&#34;en-us&#34;&nbsp;updated=&#34;2009-10-04T01:35:58+00:00&#34;&gt;&lt;title&gt;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/rss/mine/rsc&#34;&nbsp;rel=&#34;self&#34;&gt;&lt;/link&gt;&lt;id&gt;http://codereview.appspot.com/&lt;/id&gt;&lt;author&gt;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&lt;/author&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/126085&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-04T01:35:58+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:134d9179c41f806be79b3a5f7877d19a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">35</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;amp;lt;link&nbsp;rel=&amp;amp;quot;hub&amp;amp;quot;&nbsp;href=&amp;amp;quot;hub-server&amp;amp;quot;&amp;amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">45</span><br>
<span class="lineno"></span>I&nbsp;can&amp;amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;amp;quot;self&amp;amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">50</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">55</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">60</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/124106&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-03T23:02:17+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">65</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">70</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">75</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;/feed&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6752788">type</span>&nbsp;<span class="ident" id="6752793">Feed</span>&nbsp;<span class="keyword" id="6752798">struct</span>&nbsp;<span class="op" id="6752805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752808">XMLName</span>&nbsp;<span class="ident" id="6752816">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6752826">`xml:&#34;http://www.w3.org/2005/Atom&nbsp;feed&#34;`</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752868">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6752876">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6752886">`xml:&#34;title&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752901">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6752909">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6752919">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752931">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6752939">[</span><span class="op" id="6752940">]</span><span class="ident" id="6752941">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6752949">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752963">Updated</span>&nbsp;<span class="ident" id="6752971">time</span><span class="op" id="6752975">.</span><span class="ident" id="6752976">Time</span>&nbsp;<span class="string" id="6752981">`xml:&#34;updated,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753003">Author</span>&nbsp;&nbsp;<span class="ident" id="6753011">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6753021">`xml:&#34;author&#34;`</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753037">Entry</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6753045">[</span><span class="op" id="6753046">]</span><span class="ident" id="6753047">Entry</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6753055">`xml:&#34;entry&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6753069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6753072">type</span>&nbsp;<span class="ident" id="6753077">Entry</span>&nbsp;<span class="keyword" id="6753083">struct</span>&nbsp;<span class="op" id="6753090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753093">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6753101">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6753111">`xml:&#34;title&#34;`</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753126">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6753134">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6753144">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753156">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6753164">[</span><span class="op" id="6753165">]</span><span class="ident" id="6753166">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6753174">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753188">Updated</span>&nbsp;<span class="ident" id="6753196">time</span><span class="op" id="6753200">.</span><span class="ident" id="6753201">Time</span>&nbsp;<span class="string" id="6753206">`xml:&#34;updated&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753223">Author</span>&nbsp;&nbsp;<span class="ident" id="6753231">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6753241">`xml:&#34;author&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753257">Summary</span>&nbsp;<span class="ident" id="6753265">Text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6753275">`xml:&#34;summary&#34;`</span><br>
<span class="lineno">100</span><span class="op" id="6753291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6753294">type</span>&nbsp;<span class="ident" id="6753299">Link</span>&nbsp;<span class="keyword" id="6753304">struct</span>&nbsp;<span class="op" id="6753311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753314">Rel</span>&nbsp;&nbsp;<span class="builtintype" id="6753319">string</span>&nbsp;<span class="string" id="6753326">`xml:&#34;rel,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753354">Href</span>&nbsp;<span class="builtintype" id="6753359">string</span>&nbsp;<span class="string" id="6753366">`xml:&#34;href,attr&#34;`</span><br>
<span class="lineno">105</span><span class="op" id="6753384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6753387">type</span>&nbsp;<span class="ident" id="6753392">Person</span>&nbsp;<span class="keyword" id="6753399">struct</span>&nbsp;<span class="op" id="6753406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753409">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6753418">string</span>&nbsp;<span class="string" id="6753425">`xml:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753439">URI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6753448">string</span>&nbsp;<span class="string" id="6753455">`xml:&#34;uri&#34;`</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753468">Email</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6753477">string</span>&nbsp;<span class="string" id="6753484">`xml:&#34;email&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753499">InnerXML</span>&nbsp;<span class="builtintype" id="6753508">string</span>&nbsp;<span class="string" id="6753515">`xml:&#34;,innerxml&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6753533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6753536">type</span>&nbsp;<span class="ident" id="6753541">Text</span>&nbsp;<span class="keyword" id="6753546">struct</span>&nbsp;<span class="op" id="6753553">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753556">Type</span>&nbsp;<span class="builtintype" id="6753561">string</span>&nbsp;<span class="string" id="6753568">`xml:&#34;type,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753597">Body</span>&nbsp;<span class="builtintype" id="6753602">string</span>&nbsp;<span class="string" id="6753609">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6753627">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6753630">var</span>&nbsp;<span class="ident" id="6753634">atomFeed</span>&nbsp;<span class="op" id="6753643">=</span>&nbsp;<span class="ident" id="6753645">Feed</span><span class="op" id="6753649">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753652">XMLName</span><span class="op" id="6753659">:</span>&nbsp;<span class="ident" id="6753661">Name</span><span class="op" id="6753665">{</span><span class="string" id="6753666">&#34;http://www.w3.org/2005/Atom&#34;</span><span class="op" id="6753695">,</span>&nbsp;<span class="string" id="6753697">&#34;feed&#34;</span><span class="op" id="6753703">}</span><span class="op" id="6753704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753707">Title</span><span class="op" id="6753712">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6753716">&#34;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&#34;</span><span class="op" id="6753741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753744">Link</span><span class="op" id="6753748">:</span>&nbsp;<span class="op" id="6753750">[</span><span class="op" id="6753751">]</span><span class="ident" id="6753752">Link</span><span class="op" id="6753756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6753760">{</span><span class="ident" id="6753761">Rel</span><span class="op" id="6753764">:</span>&nbsp;<span class="string" id="6753766">&#34;alternate&#34;</span><span class="op" id="6753777">,</span>&nbsp;<span class="ident" id="6753779">Href</span><span class="op" id="6753783">:</span>&nbsp;<span class="string" id="6753785">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="6753817">}</span><span class="op" id="6753818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6753822">{</span><span class="ident" id="6753823">Rel</span><span class="op" id="6753826">:</span>&nbsp;<span class="string" id="6753828">&#34;self&#34;</span><span class="op" id="6753834">,</span>&nbsp;<span class="ident" id="6753836">Href</span><span class="op" id="6753840">:</span>&nbsp;<span class="string" id="6753842">&#34;http://codereview.appspot.com/rss/mine/rsc&#34;</span><span class="op" id="6753886">}</span><span class="op" id="6753887">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6753890">}</span><span class="op" id="6753891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753894">Id</span><span class="op" id="6753896">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6753903">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="6753935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753938">Updated</span><span class="op" id="6753945">:</span>&nbsp;<span class="ident" id="6753947">ParseTime</span><span class="op" id="6753956">(</span><span class="string" id="6753957">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="6753984">)</span><span class="op" id="6753985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753988">Author</span><span class="op" id="6753994">:</span>&nbsp;<span class="ident" id="6753996">Person</span><span class="op" id="6754002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754006">Name</span><span class="op" id="6754010">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6754016">&#34;rietveld&lt;&gt;&#34;</span><span class="op" id="6754028">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754032">InnerXML</span><span class="op" id="6754040">:</span>&nbsp;<span class="string" id="6754042">&#34;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&#34;</span><span class="op" id="6754073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6754076">}</span><span class="op" id="6754077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754080">Entry</span><span class="op" id="6754085">:</span>&nbsp;<span class="op" id="6754087">[</span><span class="op" id="6754088">]</span><span class="ident" id="6754089">Entry</span><span class="op" id="6754094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6754098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754103">Title</span><span class="op" id="6754108">:</span>&nbsp;<span class="string" id="6754110">&#34;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub\n&#34;</span><span class="op" id="6754150">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754155">Link</span><span class="op" id="6754159">:</span>&nbsp;<span class="op" id="6754161">[</span><span class="op" id="6754162">]</span><span class="ident" id="6754163">Link</span><span class="op" id="6754167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6754173">{</span><span class="ident" id="6754174">Rel</span><span class="op" id="6754177">:</span>&nbsp;<span class="string" id="6754179">&#34;alternate&#34;</span><span class="op" id="6754190">,</span>&nbsp;<span class="ident" id="6754192">Href</span><span class="op" id="6754196">:</span>&nbsp;<span class="string" id="6754198">&#34;http://codereview.appspot.com/126085&#34;</span><span class="op" id="6754236">}</span><span class="op" id="6754237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6754242">}</span><span class="op" id="6754243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754248">Updated</span><span class="op" id="6754255">:</span>&nbsp;<span class="ident" id="6754257">ParseTime</span><span class="op" id="6754266">(</span><span class="string" id="6754267">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="6754294">)</span><span class="op" id="6754295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754300">Author</span><span class="op" id="6754306">:</span>&nbsp;<span class="ident" id="6754308">Person</span><span class="op" id="6754314">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754320">Name</span><span class="op" id="6754324">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6754330">&#34;email-address-removed&#34;</span><span class="op" id="6754353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754359">InnerXML</span><span class="op" id="6754367">:</span>&nbsp;<span class="string" id="6754369">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="6754405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6754410">}</span><span class="op" id="6754411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754416">Id</span><span class="op" id="6754418">:</span>&nbsp;<span class="string" id="6754420">&#34;urn:md5:134d9179c41f806be79b3a5f7877d19a&#34;</span><span class="op" id="6754462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754467">Summary</span><span class="op" id="6754474">:</span>&nbsp;<span class="ident" id="6754476">Text</span><span class="op" id="6754480">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754486">Type</span><span class="op" id="6754490">:</span>&nbsp;<span class="string" id="6754492">&#34;html&#34;</span><span class="op" id="6754498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754504">Body</span><span class="op" id="6754508">:</span>&nbsp;<span class="string" id="6754510">`<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">150</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;lt;link&nbsp;rel=&amp;quot;hub&amp;quot;&nbsp;href=&amp;quot;hub-server&amp;quot;&amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">160</span><br>
<span class="lineno"></span>I&nbsp;can&amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;quot;self&amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">165</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">170</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">175</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span><span class="op" id="6755742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6755747">}</span><span class="op" id="6755748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6755752">}</span><span class="op" id="6755753">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6755757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6755762">Title</span><span class="op" id="6755767">:</span>&nbsp;<span class="string" id="6755769">&#34;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling\n&#34;</span><span class="op" id="6755803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6755808">Link</span><span class="op" id="6755812">:</span>&nbsp;<span class="op" id="6755814">[</span><span class="op" id="6755815">]</span><span class="ident" id="6755816">Link</span><span class="op" id="6755820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6755826">{</span><span class="ident" id="6755827">Rel</span><span class="op" id="6755830">:</span>&nbsp;<span class="string" id="6755832">&#34;alternate&#34;</span><span class="op" id="6755843">,</span>&nbsp;<span class="ident" id="6755845">Href</span><span class="op" id="6755849">:</span>&nbsp;<span class="string" id="6755851">&#34;http://codereview.appspot.com/124106&#34;</span><span class="op" id="6755889">}</span><span class="op" id="6755890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6755895">}</span><span class="op" id="6755896">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6755901">Updated</span><span class="op" id="6755908">:</span>&nbsp;<span class="ident" id="6755910">ParseTime</span><span class="op" id="6755919">(</span><span class="string" id="6755920">&#34;2009-10-03T23:02:17+00:00&#34;</span><span class="op" id="6755947">)</span><span class="op" id="6755948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6755953">Author</span><span class="op" id="6755959">:</span>&nbsp;<span class="ident" id="6755961">Person</span><span class="op" id="6755967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6755973">Name</span><span class="op" id="6755977">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6755983">&#34;email-address-removed&#34;</span><span class="op" id="6756006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6756012">InnerXML</span><span class="op" id="6756020">:</span>&nbsp;<span class="string" id="6756022">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="6756058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6756063">}</span><span class="op" id="6756064">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6756069">Id</span><span class="op" id="6756071">:</span>&nbsp;<span class="string" id="6756073">&#34;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&#34;</span><span class="op" id="6756115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6756120">Summary</span><span class="op" id="6756127">:</span>&nbsp;<span class="ident" id="6756129">Text</span><span class="op" id="6756133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6756139">Type</span><span class="op" id="6756143">:</span>&nbsp;<span class="string" id="6756145">&#34;html&#34;</span><span class="op" id="6756151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6756157">Body</span><span class="op" id="6756161">:</span>&nbsp;<span class="string" id="6756163">`<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">195</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">200</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">205</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>`</span><span class="op" id="6756841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6756846">}</span><span class="op" id="6756847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6756851">}</span><span class="op" id="6756852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6756855">}</span><span class="op" id="6756856">,</span><br>
<span class="lineno">215</span><span class="op" id="6756858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6756861">const</span>&nbsp;<span class="ident" id="6756867">pathTestString</span>&nbsp;<span class="op" id="6756882">=</span>&nbsp;<span class="string" id="6756884">`<br>
<span class="lineno"></span>&lt;Result&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Before&gt;1&lt;/Before&gt;<br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Items&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;A&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item2&gt;<br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;B&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;C&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;D&lt;/Value&gt;<br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;E&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Items&gt;<br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;After&gt;2&lt;/After&gt;<br>
<span class="lineno"></span>&lt;/Result&gt;<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6757246">type</span>&nbsp;<span class="ident" id="6757251">PathTestItem</span>&nbsp;<span class="keyword" id="6757264">struct</span>&nbsp;<span class="op" id="6757271">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757274">Value</span>&nbsp;<span class="builtintype" id="6757280">string</span><br>
<span class="lineno"></span><span class="op" id="6757287">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6757290">type</span>&nbsp;<span class="ident" id="6757295">PathTestA</span>&nbsp;<span class="keyword" id="6757305">struct</span>&nbsp;<span class="op" id="6757312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757315">Items</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757329">[</span><span class="op" id="6757330">]</span><span class="ident" id="6757331">PathTestItem</span>&nbsp;<span class="string" id="6757344">`xml:&#34;&gt;Item1&#34;`</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757360">Before</span><span class="op" id="6757366">,</span>&nbsp;<span class="ident" id="6757368">After</span>&nbsp;<span class="builtintype" id="6757374">string</span><br>
<span class="lineno"></span><span class="op" id="6757381">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6757384">type</span>&nbsp;<span class="ident" id="6757389">PathTestB</span>&nbsp;<span class="keyword" id="6757399">struct</span>&nbsp;<span class="op" id="6757406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757409">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757423">[</span><span class="op" id="6757424">]</span><span class="ident" id="6757425">PathTestItem</span>&nbsp;<span class="string" id="6757438">`xml:&#34;Items&gt;Item1&#34;`</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757459">Before</span><span class="op" id="6757465">,</span>&nbsp;<span class="ident" id="6757467">After</span>&nbsp;<span class="builtintype" id="6757473">string</span><br>
<span class="lineno"></span><span class="op" id="6757480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6757483">type</span>&nbsp;<span class="ident" id="6757488">PathTestC</span>&nbsp;<span class="keyword" id="6757498">struct</span>&nbsp;<span class="op" id="6757505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757508">Values1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757522">[</span><span class="op" id="6757523">]</span><span class="builtintype" id="6757524">string</span>&nbsp;<span class="string" id="6757531">`xml:&#34;Items&gt;Item1&gt;Value&#34;`</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757558">Values2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6757572">[</span><span class="op" id="6757573">]</span><span class="builtintype" id="6757574">string</span>&nbsp;<span class="string" id="6757581">`xml:&#34;Items&gt;Item2&gt;Value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757608">Before</span><span class="op" id="6757614">,</span>&nbsp;<span class="ident" id="6757616">After</span>&nbsp;<span class="builtintype" id="6757622">string</span><br>
<span class="lineno"></span><span class="op" id="6757629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6757632">type</span>&nbsp;<span class="ident" id="6757637">PathTestSet</span>&nbsp;<span class="keyword" id="6757649">struct</span>&nbsp;<span class="op" id="6757656">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757659">Item1</span>&nbsp;<span class="op" id="6757665">[</span><span class="op" id="6757666">]</span><span class="ident" id="6757667">PathTestItem</span><br>
<span class="lineno"></span><span class="op" id="6757680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6757683">type</span>&nbsp;<span class="ident" id="6757688">PathTestD</span>&nbsp;<span class="keyword" id="6757698">struct</span>&nbsp;<span class="op" id="6757705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757708">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6757722">PathTestSet</span>&nbsp;<span class="string" id="6757734">`xml:&#34;Items&#34;`</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757749">Before</span><span class="op" id="6757755">,</span>&nbsp;<span class="ident" id="6757757">After</span>&nbsp;<span class="builtintype" id="6757763">string</span><br>
<span class="lineno"></span><span class="op" id="6757770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6757773">type</span>&nbsp;<span class="ident" id="6757778">PathTestE</span>&nbsp;<span class="keyword" id="6757788">struct</span>&nbsp;<span class="op" id="6757795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757798">Underline</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6757812">string</span>&nbsp;<span class="string" id="6757819">`xml:&#34;Items&gt;_&gt;Value&#34;`</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757842">Before</span><span class="op" id="6757848">,</span>&nbsp;<span class="ident" id="6757850">After</span>&nbsp;<span class="builtintype" id="6757856">string</span><br>
<span class="lineno"></span><span class="op" id="6757863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6757866">var</span>&nbsp;<span class="ident" id="6757870">pathTests</span>&nbsp;<span class="op" id="6757880">=</span>&nbsp;<span class="op" id="6757882">[</span><span class="op" id="6757883">]</span><span class="keyword" id="6757884">interface</span><span class="op" id="6757893">{</span><span class="op" id="6757894">}</span><span class="op" id="6757895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6757898">&amp;</span><span class="ident" id="6757899">PathTestA</span><span class="op" id="6757908">{</span><span class="ident" id="6757909">Items</span><span class="op" id="6757914">:</span>&nbsp;<span class="op" id="6757916">[</span><span class="op" id="6757917">]</span><span class="ident" id="6757918">PathTestItem</span><span class="op" id="6757930">{</span><span class="op" id="6757931">{</span><span class="string" id="6757932">&#34;A&#34;</span><span class="op" id="6757935">}</span><span class="op" id="6757936">,</span>&nbsp;<span class="op" id="6757938">{</span><span class="string" id="6757939">&#34;D&#34;</span><span class="op" id="6757942">}</span><span class="op" id="6757943">}</span><span class="op" id="6757944">,</span>&nbsp;<span class="ident" id="6757946">Before</span><span class="op" id="6757952">:</span>&nbsp;<span class="string" id="6757954">&#34;1&#34;</span><span class="op" id="6757957">,</span>&nbsp;<span class="ident" id="6757959">After</span><span class="op" id="6757964">:</span>&nbsp;<span class="string" id="6757966">&#34;2&#34;</span><span class="op" id="6757969">}</span><span class="op" id="6757970">,</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6757973">&amp;</span><span class="ident" id="6757974">PathTestB</span><span class="op" id="6757983">{</span><span class="ident" id="6757984">Other</span><span class="op" id="6757989">:</span>&nbsp;<span class="op" id="6757991">[</span><span class="op" id="6757992">]</span><span class="ident" id="6757993">PathTestItem</span><span class="op" id="6758005">{</span><span class="op" id="6758006">{</span><span class="string" id="6758007">&#34;A&#34;</span><span class="op" id="6758010">}</span><span class="op" id="6758011">,</span>&nbsp;<span class="op" id="6758013">{</span><span class="string" id="6758014">&#34;D&#34;</span><span class="op" id="6758017">}</span><span class="op" id="6758018">}</span><span class="op" id="6758019">,</span>&nbsp;<span class="ident" id="6758021">Before</span><span class="op" id="6758027">:</span>&nbsp;<span class="string" id="6758029">&#34;1&#34;</span><span class="op" id="6758032">,</span>&nbsp;<span class="ident" id="6758034">After</span><span class="op" id="6758039">:</span>&nbsp;<span class="string" id="6758041">&#34;2&#34;</span><span class="op" id="6758044">}</span><span class="op" id="6758045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6758048">&amp;</span><span class="ident" id="6758049">PathTestC</span><span class="op" id="6758058">{</span><span class="ident" id="6758059">Values1</span><span class="op" id="6758066">:</span>&nbsp;<span class="op" id="6758068">[</span><span class="op" id="6758069">]</span><span class="builtintype" id="6758070">string</span><span class="op" id="6758076">{</span><span class="string" id="6758077">&#34;A&#34;</span><span class="op" id="6758080">,</span>&nbsp;<span class="string" id="6758082">&#34;C&#34;</span><span class="op" id="6758085">,</span>&nbsp;<span class="string" id="6758087">&#34;D&#34;</span><span class="op" id="6758090">}</span><span class="op" id="6758091">,</span>&nbsp;<span class="ident" id="6758093">Values2</span><span class="op" id="6758100">:</span>&nbsp;<span class="op" id="6758102">[</span><span class="op" id="6758103">]</span><span class="builtintype" id="6758104">string</span><span class="op" id="6758110">{</span><span class="string" id="6758111">&#34;B&#34;</span><span class="op" id="6758114">}</span><span class="op" id="6758115">,</span>&nbsp;<span class="ident" id="6758117">Before</span><span class="op" id="6758123">:</span>&nbsp;<span class="string" id="6758125">&#34;1&#34;</span><span class="op" id="6758128">,</span>&nbsp;<span class="ident" id="6758130">After</span><span class="op" id="6758135">:</span>&nbsp;<span class="string" id="6758137">&#34;2&#34;</span><span class="op" id="6758140">}</span><span class="op" id="6758141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6758144">&amp;</span><span class="ident" id="6758145">PathTestD</span><span class="op" id="6758154">{</span><span class="ident" id="6758155">Other</span><span class="op" id="6758160">:</span>&nbsp;<span class="ident" id="6758162">PathTestSet</span><span class="op" id="6758173">{</span><span class="ident" id="6758174">Item1</span><span class="op" id="6758179">:</span>&nbsp;<span class="op" id="6758181">[</span><span class="op" id="6758182">]</span><span class="ident" id="6758183">PathTestItem</span><span class="op" id="6758195">{</span><span class="op" id="6758196">{</span><span class="string" id="6758197">&#34;A&#34;</span><span class="op" id="6758200">}</span><span class="op" id="6758201">,</span>&nbsp;<span class="op" id="6758203">{</span><span class="string" id="6758204">&#34;D&#34;</span><span class="op" id="6758207">}</span><span class="op" id="6758208">}</span><span class="op" id="6758209">}</span><span class="op" id="6758210">,</span>&nbsp;<span class="ident" id="6758212">Before</span><span class="op" id="6758218">:</span>&nbsp;<span class="string" id="6758220">&#34;1&#34;</span><span class="op" id="6758223">,</span>&nbsp;<span class="ident" id="6758225">After</span><span class="op" id="6758230">:</span>&nbsp;<span class="string" id="6758232">&#34;2&#34;</span><span class="op" id="6758235">}</span><span class="op" id="6758236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6758239">&amp;</span><span class="ident" id="6758240">PathTestE</span><span class="op" id="6758249">{</span><span class="ident" id="6758250">Underline</span><span class="op" id="6758259">:</span>&nbsp;<span class="string" id="6758261">&#34;E&#34;</span><span class="op" id="6758264">,</span>&nbsp;<span class="ident" id="6758266">Before</span><span class="op" id="6758272">:</span>&nbsp;<span class="string" id="6758274">&#34;1&#34;</span><span class="op" id="6758277">,</span>&nbsp;<span class="ident" id="6758279">After</span><span class="op" id="6758284">:</span>&nbsp;<span class="string" id="6758286">&#34;2&#34;</span><span class="op" id="6758289">}</span><span class="op" id="6758290">,</span><br>
<span class="lineno"></span><span class="op" id="6758292">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="6758295">func</span>&nbsp;<span class="ident" id="6758300">TestUnmarshalPaths</span><span class="op" id="6758318">(</span><span class="ident" id="6758319">t</span>&nbsp;<span class="op" id="6758321">*</span><span class="ident" id="6758322">testing</span><span class="op" id="6758329">.</span><span class="ident" id="6758330">T</span><span class="op" id="6758331">)</span>&nbsp;<span class="op" id="6758333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6758336">for</span>&nbsp;<span class="ident" id="6758340">_</span><span class="op" id="6758341">,</span>&nbsp;<span class="ident" id="6758343">pt</span>&nbsp;<span class="op" id="6758346">:=</span>&nbsp;<span class="keyword" id="6758349">range</span>&nbsp;<span class="ident" id="6758355">pathTests</span>&nbsp;<span class="op" id="6758365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758369">v</span>&nbsp;<span class="op" id="6758371">:=</span>&nbsp;<span class="ident" id="6758374">reflect</span><span class="op" id="6758381">.</span><span class="ident" id="6758382">New</span><span class="op" id="6758385">(</span><span class="ident" id="6758386">reflect</span><span class="op" id="6758393">.</span><span class="ident" id="6758394">TypeOf</span><span class="op" id="6758400">(</span><span class="ident" id="6758401">pt</span><span class="op" id="6758403">)</span><span class="op" id="6758404">.</span><span class="ident" id="6758405">Elem</span><span class="op" id="6758409">(</span><span class="op" id="6758410">)</span><span class="op" id="6758411">)</span><span class="op" id="6758412">.</span><span class="ident" id="6758413">Interface</span><span class="op" id="6758422">(</span><span class="op" id="6758423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6758427">if</span>&nbsp;<span class="ident" id="6758430">err</span>&nbsp;<span class="op" id="6758434">:=</span>&nbsp;<span class="ident" id="6758437">Unmarshal</span><span class="op" id="6758446">(</span><span class="op" id="6758447">[</span><span class="op" id="6758448">]</span><span class="builtintype" id="6758449">byte</span><span class="op" id="6758453">(</span><span class="ident" id="6758454">pathTestString</span><span class="op" id="6758468">)</span><span class="op" id="6758469">,</span>&nbsp;<span class="ident" id="6758471">v</span><span class="op" id="6758472">)</span><span class="op" id="6758473">;</span>&nbsp;<span class="ident" id="6758475">err</span>&nbsp;<span class="op" id="6758479">!=</span>&nbsp;<span class="ident" id="6758482">nil</span>&nbsp;<span class="op" id="6758486">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758491">t</span><span class="op" id="6758492">.</span><span class="ident" id="6758493">Fatalf</span><span class="op" id="6758499">(</span><span class="string" id="6758500">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6758515">,</span>&nbsp;<span class="ident" id="6758517">err</span><span class="op" id="6758520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6758524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6758528">if</span>&nbsp;<span class="op" id="6758531">!</span><span class="ident" id="6758532">reflect</span><span class="op" id="6758539">.</span><span class="ident" id="6758540">DeepEqual</span><span class="op" id="6758549">(</span><span class="ident" id="6758550">v</span><span class="op" id="6758551">,</span>&nbsp;<span class="ident" id="6758553">pt</span><span class="op" id="6758555">)</span>&nbsp;<span class="op" id="6758557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758562">t</span><span class="op" id="6758563">.</span><span class="ident" id="6758564">Fatalf</span><span class="op" id="6758570">(</span><span class="string" id="6758571">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="6758591">,</span>&nbsp;<span class="ident" id="6758593">v</span><span class="op" id="6758594">,</span>&nbsp;<span class="ident" id="6758596">pt</span><span class="op" id="6758598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6758602">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6758605">}</span><br>
<span class="lineno"></span><span class="op" id="6758607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6758610">type</span>&nbsp;<span class="ident" id="6758615">BadPathTestA</span>&nbsp;<span class="keyword" id="6758628">struct</span>&nbsp;<span class="op" id="6758635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758638">First</span>&nbsp;&nbsp;<span class="builtintype" id="6758645">string</span>&nbsp;<span class="string" id="6758652">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758673">Other</span>&nbsp;&nbsp;<span class="builtintype" id="6758680">string</span>&nbsp;<span class="string" id="6758687">`xml:&#34;items&gt;item2&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758708">Second</span>&nbsp;<span class="builtintype" id="6758715">string</span>&nbsp;<span class="string" id="6758722">`xml:&#34;items&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6758736">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6758739">type</span>&nbsp;<span class="ident" id="6758744">BadPathTestB</span>&nbsp;<span class="keyword" id="6758757">struct</span>&nbsp;<span class="op" id="6758764">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758767">Other</span>&nbsp;&nbsp;<span class="builtintype" id="6758774">string</span>&nbsp;<span class="string" id="6758781">`xml:&#34;items&gt;item2&gt;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758808">First</span>&nbsp;&nbsp;<span class="builtintype" id="6758815">string</span>&nbsp;<span class="string" id="6758822">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758843">Second</span>&nbsp;<span class="builtintype" id="6758850">string</span>&nbsp;<span class="string" id="6758857">`xml:&#34;items&gt;item1&gt;value&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6758883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="keyword" id="6758886">type</span>&nbsp;<span class="ident" id="6758891">BadPathTestC</span>&nbsp;<span class="keyword" id="6758904">struct</span>&nbsp;<span class="op" id="6758911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758914">First</span>&nbsp;&nbsp;<span class="builtintype" id="6758921">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758929">Second</span>&nbsp;<span class="builtintype" id="6758936">string</span>&nbsp;<span class="string" id="6758943">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6758957">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="6758960">type</span>&nbsp;<span class="ident" id="6758965">BadPathTestD</span>&nbsp;<span class="keyword" id="6758978">struct</span>&nbsp;<span class="op" id="6758985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758988">BadPathEmbeddedA</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6759006">BadPathEmbeddedB</span><br>
<span class="lineno"></span><span class="op" id="6759023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="6759026">type</span>&nbsp;<span class="ident" id="6759031">BadPathEmbeddedA</span>&nbsp;<span class="keyword" id="6759048">struct</span>&nbsp;<span class="op" id="6759055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6759058">First</span>&nbsp;<span class="builtintype" id="6759064">string</span><br>
<span class="lineno"></span><span class="op" id="6759071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6759074">type</span>&nbsp;<span class="ident" id="6759079">BadPathEmbeddedB</span>&nbsp;<span class="keyword" id="6759096">struct</span>&nbsp;<span class="op" id="6759103">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6759106">Second</span>&nbsp;<span class="builtintype" id="6759113">string</span>&nbsp;<span class="string" id="6759120">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6759134">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6759137">var</span>&nbsp;<span class="ident" id="6759141">badPathTests</span>&nbsp;<span class="op" id="6759154">=</span>&nbsp;<span class="op" id="6759156">[</span><span class="op" id="6759157">]</span><span class="keyword" id="6759158">struct</span>&nbsp;<span class="op" id="6759165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6759168">v</span><span class="op" id="6759169">,</span>&nbsp;<span class="ident" id="6759171">e</span>&nbsp;<span class="keyword" id="6759173">interface</span><span class="op" id="6759182">{</span><span class="op" id="6759183">}</span><br>
<span class="lineno">325</span><span class="op" id="6759185">}</span><span class="op" id="6759186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6759189">{</span><span class="op" id="6759190">&amp;</span><span class="ident" id="6759191">BadPathTestA</span><span class="op" id="6759203">{</span><span class="op" id="6759204">}</span><span class="op" id="6759205">,</span>&nbsp;<span class="op" id="6759207">&amp;</span><span class="ident" id="6759208">TagPathError</span><span class="op" id="6759220">{</span><span class="ident" id="6759221">reflect</span><span class="op" id="6759228">.</span><span class="ident" id="6759229">TypeOf</span><span class="op" id="6759235">(</span><span class="ident" id="6759236">BadPathTestA</span><span class="op" id="6759248">{</span><span class="op" id="6759249">}</span><span class="op" id="6759250">)</span><span class="op" id="6759251">,</span>&nbsp;<span class="string" id="6759253">&#34;First&#34;</span><span class="op" id="6759260">,</span>&nbsp;<span class="string" id="6759262">&#34;items&gt;item1&#34;</span><span class="op" id="6759275">,</span>&nbsp;<span class="string" id="6759277">&#34;Second&#34;</span><span class="op" id="6759285">,</span>&nbsp;<span class="string" id="6759287">&#34;items&#34;</span><span class="op" id="6759294">}</span><span class="op" id="6759295">}</span><span class="op" id="6759296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6759299">{</span><span class="op" id="6759300">&amp;</span><span class="ident" id="6759301">BadPathTestB</span><span class="op" id="6759313">{</span><span class="op" id="6759314">}</span><span class="op" id="6759315">,</span>&nbsp;<span class="op" id="6759317">&amp;</span><span class="ident" id="6759318">TagPathError</span><span class="op" id="6759330">{</span><span class="ident" id="6759331">reflect</span><span class="op" id="6759338">.</span><span class="ident" id="6759339">TypeOf</span><span class="op" id="6759345">(</span><span class="ident" id="6759346">BadPathTestB</span><span class="op" id="6759358">{</span><span class="op" id="6759359">}</span><span class="op" id="6759360">)</span><span class="op" id="6759361">,</span>&nbsp;<span class="string" id="6759363">&#34;First&#34;</span><span class="op" id="6759370">,</span>&nbsp;<span class="string" id="6759372">&#34;items&gt;item1&#34;</span><span class="op" id="6759385">,</span>&nbsp;<span class="string" id="6759387">&#34;Second&#34;</span><span class="op" id="6759395">,</span>&nbsp;<span class="string" id="6759397">&#34;items&gt;item1&gt;value&#34;</span><span class="op" id="6759416">}</span><span class="op" id="6759417">}</span><span class="op" id="6759418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6759421">{</span><span class="op" id="6759422">&amp;</span><span class="ident" id="6759423">BadPathTestC</span><span class="op" id="6759435">{</span><span class="op" id="6759436">}</span><span class="op" id="6759437">,</span>&nbsp;<span class="op" id="6759439">&amp;</span><span class="ident" id="6759440">TagPathError</span><span class="op" id="6759452">{</span><span class="ident" id="6759453">reflect</span><span class="op" id="6759460">.</span><span class="ident" id="6759461">TypeOf</span><span class="op" id="6759467">(</span><span class="ident" id="6759468">BadPathTestC</span><span class="op" id="6759480">{</span><span class="op" id="6759481">}</span><span class="op" id="6759482">)</span><span class="op" id="6759483">,</span>&nbsp;<span class="string" id="6759485">&#34;First&#34;</span><span class="op" id="6759492">,</span>&nbsp;<span class="string" id="6759494">&#34;&#34;</span><span class="op" id="6759496">,</span>&nbsp;<span class="string" id="6759498">&#34;Second&#34;</span><span class="op" id="6759506">,</span>&nbsp;<span class="string" id="6759508">&#34;First&#34;</span><span class="op" id="6759515">}</span><span class="op" id="6759516">}</span><span class="op" id="6759517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6759520">{</span><span class="op" id="6759521">&amp;</span><span class="ident" id="6759522">BadPathTestD</span><span class="op" id="6759534">{</span><span class="op" id="6759535">}</span><span class="op" id="6759536">,</span>&nbsp;<span class="op" id="6759538">&amp;</span><span class="ident" id="6759539">TagPathError</span><span class="op" id="6759551">{</span><span class="ident" id="6759552">reflect</span><span class="op" id="6759559">.</span><span class="ident" id="6759560">TypeOf</span><span class="op" id="6759566">(</span><span class="ident" id="6759567">BadPathTestD</span><span class="op" id="6759579">{</span><span class="op" id="6759580">}</span><span class="op" id="6759581">)</span><span class="op" id="6759582">,</span>&nbsp;<span class="string" id="6759584">&#34;First&#34;</span><span class="op" id="6759591">,</span>&nbsp;<span class="string" id="6759593">&#34;&#34;</span><span class="op" id="6759595">,</span>&nbsp;<span class="string" id="6759597">&#34;Second&#34;</span><span class="op" id="6759605">,</span>&nbsp;<span class="string" id="6759607">&#34;First&#34;</span><span class="op" id="6759614">}</span><span class="op" id="6759615">}</span><span class="op" id="6759616">,</span><br>
<span class="lineno">330</span><span class="op" id="6759618">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6759621">func</span>&nbsp;<span class="ident" id="6759626">TestUnmarshalBadPaths</span><span class="op" id="6759647">(</span><span class="ident" id="6759648">t</span>&nbsp;<span class="op" id="6759650">*</span><span class="ident" id="6759651">testing</span><span class="op" id="6759658">.</span><span class="ident" id="6759659">T</span><span class="op" id="6759660">)</span>&nbsp;<span class="op" id="6759662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6759665">for</span>&nbsp;<span class="ident" id="6759669">_</span><span class="op" id="6759670">,</span>&nbsp;<span class="ident" id="6759672">tt</span>&nbsp;<span class="op" id="6759675">:=</span>&nbsp;<span class="keyword" id="6759678">range</span>&nbsp;<span class="ident" id="6759684">badPathTests</span>&nbsp;<span class="op" id="6759697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6759701">err</span>&nbsp;<span class="op" id="6759705">:=</span>&nbsp;<span class="ident" id="6759708">Unmarshal</span><span class="op" id="6759717">(</span><span class="op" id="6759718">[</span><span class="op" id="6759719">]</span><span class="builtintype" id="6759720">byte</span><span class="op" id="6759724">(</span><span class="ident" id="6759725">pathTestString</span><span class="op" id="6759739">)</span><span class="op" id="6759740">,</span>&nbsp;<span class="ident" id="6759742">tt</span><span class="op" id="6759744">.</span><span class="ident" id="6759745">v</span><span class="op" id="6759746">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6759750">if</span>&nbsp;<span class="op" id="6759753">!</span><span class="ident" id="6759754">reflect</span><span class="op" id="6759761">.</span><span class="ident" id="6759762">DeepEqual</span><span class="op" id="6759771">(</span><span class="ident" id="6759772">err</span><span class="op" id="6759775">,</span>&nbsp;<span class="ident" id="6759777">tt</span><span class="op" id="6759779">.</span><span class="ident" id="6759780">e</span><span class="op" id="6759781">)</span>&nbsp;<span class="op" id="6759783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6759788">t</span><span class="op" id="6759789">.</span><span class="ident" id="6759790">Fatalf</span><span class="op" id="6759796">(</span><span class="string" id="6759797">&#34;Unmarshal&nbsp;with&nbsp;%#v&nbsp;didn&#39;t&nbsp;fail&nbsp;properly:\nhave&nbsp;%#v,\nwant&nbsp;%#v&#34;</span><span class="op" id="6759860">,</span>&nbsp;<span class="ident" id="6759862">tt</span><span class="op" id="6759864">.</span><span class="ident" id="6759865">v</span><span class="op" id="6759866">,</span>&nbsp;<span class="ident" id="6759868">err</span><span class="op" id="6759871">,</span>&nbsp;<span class="ident" id="6759873">tt</span><span class="op" id="6759875">.</span><span class="ident" id="6759876">e</span><span class="op" id="6759877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6759881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6759884">}</span><br>
<span class="lineno"></span><span class="op" id="6759886">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="6759889">const</span>&nbsp;<span class="ident" id="6759895">OK</span>&nbsp;<span class="op" id="6759898">=</span>&nbsp;<span class="string" id="6759900">&#34;OK&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="6759905">const</span>&nbsp;<span class="ident" id="6759911">withoutNameTypeData</span>&nbsp;<span class="op" id="6759931">=</span>&nbsp;<span class="string" id="6759933">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;charset=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;Test3&nbsp;Attr=&#34;OK&#34;&nbsp;/&gt;`</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span><span class="keyword" id="6759995">type</span>&nbsp;<span class="ident" id="6760000">TestThree</span>&nbsp;<span class="keyword" id="6760010">struct</span>&nbsp;<span class="op" id="6760017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6760020">XMLName</span>&nbsp;<span class="ident" id="6760028">Name</span>&nbsp;&nbsp;&nbsp;<span class="string" id="6760035">`xml:&#34;Test3&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6760050">Attr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6760058">string</span>&nbsp;<span class="string" id="6760065">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6760079">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="6760082">func</span>&nbsp;<span class="ident" id="6760087">TestUnmarshalWithoutNameType</span><span class="op" id="6760115">(</span><span class="ident" id="6760116">t</span>&nbsp;<span class="op" id="6760118">*</span><span class="ident" id="6760119">testing</span><span class="op" id="6760126">.</span><span class="ident" id="6760127">T</span><span class="op" id="6760128">)</span>&nbsp;<span class="op" id="6760130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6760133">var</span>&nbsp;<span class="ident" id="6760137">x</span>&nbsp;<span class="ident" id="6760139">TestThree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6760150">if</span>&nbsp;<span class="ident" id="6760153">err</span>&nbsp;<span class="op" id="6760157">:=</span>&nbsp;<span class="ident" id="6760160">Unmarshal</span><span class="op" id="6760169">(</span><span class="op" id="6760170">[</span><span class="op" id="6760171">]</span><span class="builtintype" id="6760172">byte</span><span class="op" id="6760176">(</span><span class="ident" id="6760177">withoutNameTypeData</span><span class="op" id="6760196">)</span><span class="op" id="6760197">,</span>&nbsp;<span class="op" id="6760199">&amp;</span><span class="ident" id="6760200">x</span><span class="op" id="6760201">)</span><span class="op" id="6760202">;</span>&nbsp;<span class="ident" id="6760204">err</span>&nbsp;<span class="op" id="6760208">!=</span>&nbsp;<span class="ident" id="6760211">nil</span>&nbsp;<span class="op" id="6760215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6760219">t</span><span class="op" id="6760220">.</span><span class="ident" id="6760221">Fatalf</span><span class="op" id="6760227">(</span><span class="string" id="6760228">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6760243">,</span>&nbsp;<span class="ident" id="6760245">err</span><span class="op" id="6760248">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6760251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6760254">if</span>&nbsp;<span class="ident" id="6760257">x</span><span class="op" id="6760258">.</span><span class="ident" id="6760259">Attr</span>&nbsp;<span class="op" id="6760264">!=</span>&nbsp;<span class="ident" id="6760267">OK</span>&nbsp;<span class="op" id="6760270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6760274">t</span><span class="op" id="6760275">.</span><span class="ident" id="6760276">Fatalf</span><span class="op" id="6760282">(</span><span class="string" id="6760283">&#34;have&nbsp;%v\nwant&nbsp;%v&#34;</span><span class="op" id="6760301">,</span>&nbsp;<span class="ident" id="6760303">x</span><span class="op" id="6760304">.</span><span class="ident" id="6760305">Attr</span><span class="op" id="6760309">,</span>&nbsp;<span class="ident" id="6760311">OK</span><span class="op" id="6760313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6760316">}</span><br>
<span class="lineno"></span><span class="op" id="6760318">}</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span><span class="keyword" id="6760321">func</span>&nbsp;<span class="ident" id="6760326">TestUnmarshalAttr</span><span class="op" id="6760343">(</span><span class="ident" id="6760344">t</span>&nbsp;<span class="op" id="6760346">*</span><span class="ident" id="6760347">testing</span><span class="op" id="6760354">.</span><span class="ident" id="6760355">T</span><span class="op" id="6760356">)</span>&nbsp;<span class="op" id="6760358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6760361">type</span>&nbsp;<span class="ident" id="6760366">ParamVal</span>&nbsp;<span class="keyword" id="6760375">struct</span>&nbsp;<span class="op" id="6760382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6760386">Int</span>&nbsp;<span class="builtintype" id="6760390">int</span>&nbsp;<span class="string" id="6760394">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6760412">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6760416">type</span>&nbsp;<span class="ident" id="6760421">ParamPtr</span>&nbsp;<span class="keyword" id="6760430">struct</span>&nbsp;<span class="op" id="6760437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6760441">Int</span>&nbsp;<span class="op" id="6760445">*</span><span class="builtintype" id="6760446">int</span>&nbsp;<span class="string" id="6760450">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6760468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6760472">type</span>&nbsp;<span class="ident" id="6760477">ParamStringPtr</span>&nbsp;<span class="keyword" id="6760492">struct</span>&nbsp;<span class="op" id="6760499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6760503">Int</span>&nbsp;<span class="op" id="6760507">*</span><span class="builtintype" id="6760508">string</span>&nbsp;<span class="string" id="6760515">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6760533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6760537">x</span>&nbsp;<span class="op" id="6760539">:=</span>&nbsp;<span class="op" id="6760542">[</span><span class="op" id="6760543">]</span><span class="builtintype" id="6760544">byte</span><span class="op" id="6760548">(</span><span class="string" id="6760549">`&lt;Param&nbsp;int=&#34;1&#34;&nbsp;/&gt;`</span><span class="op" id="6760568">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6760572">p1</span>&nbsp;<span class="op" id="6760575">:=</span>&nbsp;<span class="op" id="6760578">&amp;</span><span class="ident" id="6760579">ParamPtr</span><span class="op" id="6760587">{</span><span class="op" id="6760588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6760591">if</span>&nbsp;<span class="ident" id="6760594">err</span>&nbsp;<span class="op" id="6760598">:=</span>&nbsp;<span class="ident" id="6760601">Unmarshal</span><span class="op" id="6760610">(</span><span class="ident" id="6760611">x</span><span class="op" id="6760612">,</span>&nbsp;<span class="ident" id="6760614">p1</span><span class="op" id="6760616">)</span><span class="op" id="6760617">;</span>&nbsp;<span class="ident" id="6760619">err</span>&nbsp;<span class="op" id="6760623">!=</span>&nbsp;<span class="ident" id="6760626">nil</span>&nbsp;<span class="op" id="6760630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6760634">t</span><span class="op" id="6760635">.</span><span class="ident" id="6760636">Fatalf</span><span class="op" id="6760642">(</span><span class="string" id="6760643">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6760658">,</span>&nbsp;<span class="ident" id="6760660">err</span><span class="op" id="6760663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6760666">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6760669">if</span>&nbsp;<span class="ident" id="6760672">p1</span><span class="op" id="6760674">.</span><span class="ident" id="6760675">Int</span>&nbsp;<span class="op" id="6760679">==</span>&nbsp;<span class="ident" id="6760682">nil</span>&nbsp;<span class="op" id="6760686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6760690">t</span><span class="op" id="6760691">.</span><span class="ident" id="6760692">Fatalf</span><span class="op" id="6760698">(</span><span class="string" id="6760699">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*int&nbsp;field&#34;</span><span class="op" id="6760734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6760737">}</span>&nbsp;<span class="keyword" id="6760739">else</span>&nbsp;<span class="keyword" id="6760744">if</span>&nbsp;<span class="op" id="6760747">*</span><span class="ident" id="6760748">p1</span><span class="op" id="6760750">.</span><span class="ident" id="6760751">Int</span>&nbsp;<span class="op" id="6760755">!=</span>&nbsp;<span class="num" id="6760758">1</span>&nbsp;<span class="op" id="6760760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6760764">t</span><span class="op" id="6760765">.</span><span class="ident" id="6760766">Fatalf</span><span class="op" id="6760772">(</span><span class="string" id="6760773">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="6760822">,</span>&nbsp;<span class="ident" id="6760824">x</span><span class="op" id="6760825">,</span>&nbsp;<span class="ident" id="6760827">p1</span><span class="op" id="6760829">.</span><span class="ident" id="6760830">Int</span><span class="op" id="6760833">,</span>&nbsp;<span class="num" id="6760835">1</span><span class="op" id="6760836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6760839">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6760843">p2</span>&nbsp;<span class="op" id="6760846">:=</span>&nbsp;<span class="op" id="6760849">&amp;</span><span class="ident" id="6760850">ParamVal</span><span class="op" id="6760858">{</span><span class="op" id="6760859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6760862">if</span>&nbsp;<span class="ident" id="6760865">err</span>&nbsp;<span class="op" id="6760869">:=</span>&nbsp;<span class="ident" id="6760872">Unmarshal</span><span class="op" id="6760881">(</span><span class="ident" id="6760882">x</span><span class="op" id="6760883">,</span>&nbsp;<span class="ident" id="6760885">p2</span><span class="op" id="6760887">)</span><span class="op" id="6760888">;</span>&nbsp;<span class="ident" id="6760890">err</span>&nbsp;<span class="op" id="6760894">!=</span>&nbsp;<span class="ident" id="6760897">nil</span>&nbsp;<span class="op" id="6760901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6760905">t</span><span class="op" id="6760906">.</span><span class="ident" id="6760907">Fatalf</span><span class="op" id="6760913">(</span><span class="string" id="6760914">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6760929">,</span>&nbsp;<span class="ident" id="6760931">err</span><span class="op" id="6760934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6760937">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6760940">if</span>&nbsp;<span class="ident" id="6760943">p2</span><span class="op" id="6760945">.</span><span class="ident" id="6760946">Int</span>&nbsp;<span class="op" id="6760950">!=</span>&nbsp;<span class="num" id="6760953">1</span>&nbsp;<span class="op" id="6760955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6760959">t</span><span class="op" id="6760960">.</span><span class="ident" id="6760961">Fatalf</span><span class="op" id="6760967">(</span><span class="string" id="6760968">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="6761017">,</span>&nbsp;<span class="ident" id="6761019">x</span><span class="op" id="6761020">,</span>&nbsp;<span class="ident" id="6761022">p2</span><span class="op" id="6761024">.</span><span class="ident" id="6761025">Int</span><span class="op" id="6761028">,</span>&nbsp;<span class="num" id="6761030">1</span><span class="op" id="6761031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6761034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6761038">p3</span>&nbsp;<span class="op" id="6761041">:=</span>&nbsp;<span class="op" id="6761044">&amp;</span><span class="ident" id="6761045">ParamStringPtr</span><span class="op" id="6761059">{</span><span class="op" id="6761060">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6761063">if</span>&nbsp;<span class="ident" id="6761066">err</span>&nbsp;<span class="op" id="6761070">:=</span>&nbsp;<span class="ident" id="6761073">Unmarshal</span><span class="op" id="6761082">(</span><span class="ident" id="6761083">x</span><span class="op" id="6761084">,</span>&nbsp;<span class="ident" id="6761086">p3</span><span class="op" id="6761088">)</span><span class="op" id="6761089">;</span>&nbsp;<span class="ident" id="6761091">err</span>&nbsp;<span class="op" id="6761095">!=</span>&nbsp;<span class="ident" id="6761098">nil</span>&nbsp;<span class="op" id="6761102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6761106">t</span><span class="op" id="6761107">.</span><span class="ident" id="6761108">Fatalf</span><span class="op" id="6761114">(</span><span class="string" id="6761115">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="6761130">,</span>&nbsp;<span class="ident" id="6761132">err</span><span class="op" id="6761135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6761138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6761141">if</span>&nbsp;<span class="ident" id="6761144">p3</span><span class="op" id="6761146">.</span><span class="ident" id="6761147">Int</span>&nbsp;<span class="op" id="6761151">==</span>&nbsp;<span class="ident" id="6761154">nil</span>&nbsp;<span class="op" id="6761158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6761162">t</span><span class="op" id="6761163">.</span><span class="ident" id="6761164">Fatalf</span><span class="op" id="6761170">(</span><span class="string" id="6761171">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*string&nbsp;field&#34;</span><span class="op" id="6761209">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6761212">}</span>&nbsp;<span class="keyword" id="6761214">else</span>&nbsp;<span class="keyword" id="6761219">if</span>&nbsp;<span class="op" id="6761222">*</span><span class="ident" id="6761223">p3</span><span class="op" id="6761225">.</span><span class="ident" id="6761226">Int</span>&nbsp;<span class="op" id="6761230">!=</span>&nbsp;<span class="string" id="6761233">&#34;1&#34;</span>&nbsp;<span class="op" id="6761237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6761241">t</span><span class="op" id="6761242">.</span><span class="ident" id="6761243">Fatalf</span><span class="op" id="6761249">(</span><span class="string" id="6761250">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="6761299">,</span>&nbsp;<span class="ident" id="6761301">x</span><span class="op" id="6761302">,</span>&nbsp;<span class="ident" id="6761304">p3</span><span class="op" id="6761306">.</span><span class="ident" id="6761307">Int</span><span class="op" id="6761310">,</span>&nbsp;<span class="num" id="6761312">1</span><span class="op" id="6761313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6761316">}</span><br>
<span class="lineno"></span><span class="op" id="6761318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="6761321">type</span>&nbsp;<span class="ident" id="6761326">Tables</span>&nbsp;<span class="keyword" id="6761333">struct</span>&nbsp;<span class="op" id="6761340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6761343">HTable</span>&nbsp;<span class="builtintype" id="6761350">string</span>&nbsp;<span class="string" id="6761357">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6761400">FTable</span>&nbsp;<span class="builtintype" id="6761407">string</span>&nbsp;<span class="string" id="6761414">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6761463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="6761466">var</span>&nbsp;<span class="ident" id="6761470">tables</span>&nbsp;<span class="op" id="6761477">=</span>&nbsp;<span class="op" id="6761479">[</span><span class="op" id="6761480">]</span><span class="keyword" id="6761481">struct</span>&nbsp;<span class="op" id="6761488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6761491">xml</span>&nbsp;<span class="builtintype" id="6761495">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6761503">tab</span>&nbsp;<span class="ident" id="6761507">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6761515">ns</span>&nbsp;&nbsp;<span class="builtintype" id="6761519">string</span><br>
<span class="lineno"></span><span class="op" id="6761526">}</span><span class="op" id="6761527">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6761530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6761534">xml</span><span class="op" id="6761537">:</span>&nbsp;<span class="string" id="6761539">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6761550">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6761555">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="6761614">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6761619">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="6761685">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6761690">`&lt;/Tables&gt;`</span><span class="op" id="6761701">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6761705">tab</span><span class="op" id="6761708">:</span>&nbsp;<span class="ident" id="6761710">Tables</span><span class="op" id="6761716">{</span><span class="string" id="6761717">&#34;hello&#34;</span><span class="op" id="6761724">,</span>&nbsp;<span class="string" id="6761726">&#34;world&#34;</span><span class="op" id="6761733">}</span><span class="op" id="6761734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6761737">}</span><span class="op" id="6761738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6761741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6761745">xml</span><span class="op" id="6761748">:</span>&nbsp;<span class="string" id="6761750">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6761761">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6761766">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="6761832">+</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6761837">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="6761896">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6761901">`&lt;/Tables&gt;`</span><span class="op" id="6761912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6761916">tab</span><span class="op" id="6761919">:</span>&nbsp;<span class="ident" id="6761921">Tables</span><span class="op" id="6761927">{</span><span class="string" id="6761928">&#34;hello&#34;</span><span class="op" id="6761935">,</span>&nbsp;<span class="string" id="6761937">&#34;world&#34;</span><span class="op" id="6761944">}</span><span class="op" id="6761945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6761948">}</span><span class="op" id="6761949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6761952">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6761956">xml</span><span class="op" id="6761959">:</span>&nbsp;<span class="string" id="6761961">`&lt;Tables&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;`</span>&nbsp;<span class="op" id="6762055">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6762060">`&lt;f:table&gt;world&lt;/f:table&gt;`</span>&nbsp;<span class="op" id="6762087">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6762092">`&lt;h:table&gt;hello&lt;/h:table&gt;`</span>&nbsp;<span class="op" id="6762119">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6762124">`&lt;/Tables&gt;`</span><span class="op" id="6762135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762139">tab</span><span class="op" id="6762142">:</span>&nbsp;<span class="ident" id="6762144">Tables</span><span class="op" id="6762150">{</span><span class="string" id="6762151">&#34;hello&#34;</span><span class="op" id="6762158">,</span>&nbsp;<span class="string" id="6762160">&#34;world&#34;</span><span class="op" id="6762167">}</span><span class="op" id="6762168">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6762171">}</span><span class="op" id="6762172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6762175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762179">xml</span><span class="op" id="6762182">:</span>&nbsp;<span class="string" id="6762184">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6762195">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6762200">`&lt;table&gt;bogus&lt;/table&gt;`</span>&nbsp;<span class="op" id="6762223">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6762228">`&lt;/Tables&gt;`</span><span class="op" id="6762239">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762243">tab</span><span class="op" id="6762246">:</span>&nbsp;<span class="ident" id="6762248">Tables</span><span class="op" id="6762254">{</span><span class="op" id="6762255">}</span><span class="op" id="6762256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6762259">}</span><span class="op" id="6762260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6762263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762267">xml</span><span class="op" id="6762270">:</span>&nbsp;<span class="string" id="6762272">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6762283">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6762288">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="6762310">+</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6762315">`&lt;/Tables&gt;`</span><span class="op" id="6762326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762330">tab</span><span class="op" id="6762333">:</span>&nbsp;<span class="ident" id="6762335">Tables</span><span class="op" id="6762341">{</span><span class="ident" id="6762342">HTable</span><span class="op" id="6762348">:</span>&nbsp;<span class="string" id="6762350">&#34;only&#34;</span><span class="op" id="6762356">}</span><span class="op" id="6762357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762361">ns</span><span class="op" id="6762363">:</span>&nbsp;&nbsp;<span class="string" id="6762366">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="6762395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6762398">}</span><span class="op" id="6762399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6762402">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762406">xml</span><span class="op" id="6762409">:</span>&nbsp;<span class="string" id="6762411">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6762422">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6762427">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="6762449">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6762454">`&lt;/Tables&gt;`</span><span class="op" id="6762465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762469">tab</span><span class="op" id="6762472">:</span>&nbsp;<span class="ident" id="6762474">Tables</span><span class="op" id="6762480">{</span><span class="ident" id="6762481">FTable</span><span class="op" id="6762487">:</span>&nbsp;<span class="string" id="6762489">&#34;only&#34;</span><span class="op" id="6762495">}</span><span class="op" id="6762496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762500">ns</span><span class="op" id="6762502">:</span>&nbsp;&nbsp;<span class="string" id="6762505">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="6762541">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6762544">}</span><span class="op" id="6762545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6762548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762552">xml</span><span class="op" id="6762555">:</span>&nbsp;<span class="string" id="6762557">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="6762568">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6762573">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="6762595">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6762600">`&lt;/Tables&gt;`</span><span class="op" id="6762611">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762615">tab</span><span class="op" id="6762618">:</span>&nbsp;<span class="ident" id="6762620">Tables</span><span class="op" id="6762626">{</span><span class="op" id="6762627">}</span><span class="op" id="6762628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762632">ns</span><span class="op" id="6762634">:</span>&nbsp;&nbsp;<span class="string" id="6762637">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="6762662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6762665">}</span><span class="op" id="6762666">,</span><br>
<span class="lineno"></span><span class="op" id="6762668">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span><span class="keyword" id="6762671">func</span>&nbsp;<span class="ident" id="6762676">TestUnmarshalNS</span><span class="op" id="6762691">(</span><span class="ident" id="6762692">t</span>&nbsp;<span class="op" id="6762694">*</span><span class="ident" id="6762695">testing</span><span class="op" id="6762702">.</span><span class="ident" id="6762703">T</span><span class="op" id="6762704">)</span>&nbsp;<span class="op" id="6762706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6762709">for</span>&nbsp;<span class="ident" id="6762713">i</span><span class="op" id="6762714">,</span>&nbsp;<span class="ident" id="6762716">tt</span>&nbsp;<span class="op" id="6762719">:=</span>&nbsp;<span class="keyword" id="6762722">range</span>&nbsp;<span class="ident" id="6762728">tables</span>&nbsp;<span class="op" id="6762735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6762739">var</span>&nbsp;<span class="ident" id="6762743">dst</span>&nbsp;<span class="ident" id="6762747">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6762756">var</span>&nbsp;<span class="ident" id="6762760">err</span>&nbsp;<span class="builtintype" id="6762764">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6762772">if</span>&nbsp;<span class="ident" id="6762775">tt</span><span class="op" id="6762777">.</span><span class="ident" id="6762778">ns</span>&nbsp;<span class="op" id="6762781">!=</span>&nbsp;<span class="string" id="6762784">&#34;&#34;</span>&nbsp;<span class="op" id="6762787">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762792">d</span>&nbsp;<span class="op" id="6762794">:=</span>&nbsp;<span class="ident" id="6762797">NewDecoder</span><span class="op" id="6762807">(</span><span class="ident" id="6762808">strings</span><span class="op" id="6762815">.</span><span class="ident" id="6762816">NewReader</span><span class="op" id="6762825">(</span><span class="ident" id="6762826">tt</span><span class="op" id="6762828">.</span><span class="ident" id="6762829">xml</span><span class="op" id="6762832">)</span><span class="op" id="6762833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762838">d</span><span class="op" id="6762839">.</span><span class="ident" id="6762840">DefaultSpace</span>&nbsp;<span class="op" id="6762853">=</span>&nbsp;<span class="ident" id="6762855">tt</span><span class="op" id="6762857">.</span><span class="ident" id="6762858">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762864">err</span>&nbsp;<span class="op" id="6762868">=</span>&nbsp;<span class="ident" id="6762870">d</span><span class="op" id="6762871">.</span><span class="ident" id="6762872">Decode</span><span class="op" id="6762878">(</span><span class="op" id="6762879">&amp;</span><span class="ident" id="6762880">dst</span><span class="op" id="6762883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6762887">}</span>&nbsp;<span class="keyword" id="6762889">else</span>&nbsp;<span class="op" id="6762894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762899">err</span>&nbsp;<span class="op" id="6762903">=</span>&nbsp;<span class="ident" id="6762905">Unmarshal</span><span class="op" id="6762914">(</span><span class="op" id="6762915">[</span><span class="op" id="6762916">]</span><span class="builtintype" id="6762917">byte</span><span class="op" id="6762921">(</span><span class="ident" id="6762922">tt</span><span class="op" id="6762924">.</span><span class="ident" id="6762925">xml</span><span class="op" id="6762928">)</span><span class="op" id="6762929">,</span>&nbsp;<span class="op" id="6762931">&amp;</span><span class="ident" id="6762932">dst</span><span class="op" id="6762935">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6762939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6762943">if</span>&nbsp;<span class="ident" id="6762946">err</span>&nbsp;<span class="op" id="6762950">!=</span>&nbsp;<span class="ident" id="6762953">nil</span>&nbsp;<span class="op" id="6762957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6762962">t</span><span class="op" id="6762963">.</span><span class="ident" id="6762964">Errorf</span><span class="op" id="6762970">(</span><span class="string" id="6762971">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="6762991">,</span>&nbsp;<span class="ident" id="6762993">i</span><span class="op" id="6762994">,</span>&nbsp;<span class="ident" id="6762996">err</span><span class="op" id="6762999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6763004">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6763015">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763019">want</span>&nbsp;<span class="op" id="6763024">:=</span>&nbsp;<span class="ident" id="6763027">tt</span><span class="op" id="6763029">.</span><span class="ident" id="6763030">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6763036">if</span>&nbsp;<span class="ident" id="6763039">dst</span>&nbsp;<span class="op" id="6763043">!=</span>&nbsp;<span class="ident" id="6763046">want</span>&nbsp;<span class="op" id="6763051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763056">t</span><span class="op" id="6763057">.</span><span class="ident" id="6763058">Errorf</span><span class="op" id="6763064">(</span><span class="string" id="6763065">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6763089">,</span>&nbsp;<span class="ident" id="6763091">i</span><span class="op" id="6763092">,</span>&nbsp;<span class="ident" id="6763094">dst</span><span class="op" id="6763097">,</span>&nbsp;<span class="ident" id="6763099">want</span><span class="op" id="6763103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6763107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6763110">}</span><br>
<span class="lineno">485</span><span class="op" id="6763112">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6763115">func</span>&nbsp;<span class="ident" id="6763120">TestMarshalNS</span><span class="op" id="6763133">(</span><span class="ident" id="6763134">t</span>&nbsp;<span class="op" id="6763136">*</span><span class="ident" id="6763137">testing</span><span class="op" id="6763144">.</span><span class="ident" id="6763145">T</span><span class="op" id="6763146">)</span>&nbsp;<span class="op" id="6763148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763151">dst</span>&nbsp;<span class="op" id="6763155">:=</span>&nbsp;<span class="ident" id="6763158">Tables</span><span class="op" id="6763164">{</span><span class="string" id="6763165">&#34;hello&#34;</span><span class="op" id="6763172">,</span>&nbsp;<span class="string" id="6763174">&#34;world&#34;</span><span class="op" id="6763181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763184">data</span><span class="op" id="6763188">,</span>&nbsp;<span class="ident" id="6763190">err</span>&nbsp;<span class="op" id="6763194">:=</span>&nbsp;<span class="ident" id="6763197">Marshal</span><span class="op" id="6763204">(</span><span class="op" id="6763205">&amp;</span><span class="ident" id="6763206">dst</span><span class="op" id="6763209">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6763212">if</span>&nbsp;<span class="ident" id="6763215">err</span>&nbsp;<span class="op" id="6763219">!=</span>&nbsp;<span class="ident" id="6763222">nil</span>&nbsp;<span class="op" id="6763226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763230">t</span><span class="op" id="6763231">.</span><span class="ident" id="6763232">Fatalf</span><span class="op" id="6763238">(</span><span class="string" id="6763239">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="6763252">,</span>&nbsp;<span class="ident" id="6763254">err</span><span class="op" id="6763257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6763260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763263">want</span>&nbsp;<span class="op" id="6763268">:=</span>&nbsp;<span class="string" id="6763271">`&lt;Tables&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;&lt;/Tables&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763411">str</span>&nbsp;<span class="op" id="6763415">:=</span>&nbsp;<span class="builtintype" id="6763418">string</span><span class="op" id="6763424">(</span><span class="ident" id="6763425">data</span><span class="op" id="6763429">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6763432">if</span>&nbsp;<span class="ident" id="6763435">str</span>&nbsp;<span class="op" id="6763439">!=</span>&nbsp;<span class="ident" id="6763442">want</span>&nbsp;<span class="op" id="6763447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763451">t</span><span class="op" id="6763452">.</span><span class="ident" id="6763453">Errorf</span><span class="op" id="6763459">(</span><span class="string" id="6763460">&#34;have:&nbsp;%q\nwant:&nbsp;%q\n&#34;</span><span class="op" id="6763482">,</span>&nbsp;<span class="ident" id="6763484">str</span><span class="op" id="6763487">,</span>&nbsp;<span class="ident" id="6763489">want</span><span class="op" id="6763493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6763496">}</span><br>
<span class="lineno"></span><span class="op" id="6763498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span><span class="keyword" id="6763501">type</span>&nbsp;<span class="ident" id="6763506">TableAttrs</span>&nbsp;<span class="keyword" id="6763517">struct</span>&nbsp;<span class="op" id="6763524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763527">TAttr</span>&nbsp;<span class="ident" id="6763533">TAttr</span><br>
<span class="lineno"></span><span class="op" id="6763539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6763542">type</span>&nbsp;<span class="ident" id="6763547">TAttr</span>&nbsp;<span class="keyword" id="6763553">struct</span>&nbsp;<span class="op" id="6763560">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763563">HTable</span>&nbsp;<span class="builtintype" id="6763570">string</span>&nbsp;<span class="string" id="6763577">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763625">FTable</span>&nbsp;<span class="builtintype" id="6763632">string</span>&nbsp;<span class="string" id="6763639">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763694">Lang</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6763701">string</span>&nbsp;<span class="string" id="6763708">`xml:&#34;http://www.w3.org/XML/1998/namespace&nbsp;lang,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763774">Other1</span>&nbsp;<span class="builtintype" id="6763781">string</span>&nbsp;<span class="string" id="6763788">`xml:&#34;http://golang.org/xml/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763841">Other2</span>&nbsp;<span class="builtintype" id="6763848">string</span>&nbsp;<span class="string" id="6763855">`xml:&#34;http://golang.org/xmlfoo/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763911">Other3</span>&nbsp;<span class="builtintype" id="6763918">string</span>&nbsp;<span class="string" id="6763925">`xml:&#34;http://golang.org/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6763979">Other4</span>&nbsp;<span class="builtintype" id="6763986">string</span>&nbsp;<span class="string" id="6763993">`xml:&#34;http://golang.org/2/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6764048">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6764051">var</span>&nbsp;<span class="ident" id="6764055">tableAttrs</span>&nbsp;<span class="op" id="6764066">=</span>&nbsp;<span class="op" id="6764068">[</span><span class="op" id="6764069">]</span><span class="keyword" id="6764070">struct</span>&nbsp;<span class="op" id="6764077">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6764080">xml</span>&nbsp;<span class="builtintype" id="6764084">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6764092">tab</span>&nbsp;<span class="ident" id="6764096">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6764108">ns</span>&nbsp;&nbsp;<span class="builtintype" id="6764112">string</span><br>
<span class="lineno"></span><span class="op" id="6764119">}</span><span class="op" id="6764120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6764123">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6764127">xml</span><span class="op" id="6764130">:</span>&nbsp;<span class="string" id="6764132">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6764237">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6764242">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6764277">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6764282">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6764299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6764303">tab</span><span class="op" id="6764306">:</span>&nbsp;<span class="ident" id="6764308">TableAttrs</span><span class="op" id="6764318">{</span><span class="ident" id="6764319">TAttr</span><span class="op" id="6764324">{</span><span class="ident" id="6764325">HTable</span><span class="op" id="6764331">:</span>&nbsp;<span class="string" id="6764333">&#34;hello&#34;</span><span class="op" id="6764340">,</span>&nbsp;<span class="ident" id="6764342">FTable</span><span class="op" id="6764348">:</span>&nbsp;<span class="string" id="6764350">&#34;world&#34;</span><span class="op" id="6764357">}</span><span class="op" id="6764358">}</span><span class="op" id="6764359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6764362">}</span><span class="op" id="6764363">,</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6764366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6764370">xml</span><span class="op" id="6764373">:</span>&nbsp;<span class="string" id="6764375">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="6764480">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6764485">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6764520">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6764525">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6764542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6764546">tab</span><span class="op" id="6764549">:</span>&nbsp;<span class="ident" id="6764551">TableAttrs</span><span class="op" id="6764561">{</span><span class="ident" id="6764562">TAttr</span><span class="op" id="6764567">{</span><span class="ident" id="6764568">HTable</span><span class="op" id="6764574">:</span>&nbsp;<span class="string" id="6764576">&#34;hello&#34;</span><span class="op" id="6764583">,</span>&nbsp;<span class="ident" id="6764585">FTable</span><span class="op" id="6764591">:</span>&nbsp;<span class="string" id="6764593">&#34;world&#34;</span><span class="op" id="6764600">}</span><span class="op" id="6764601">}</span><span class="op" id="6764602">,</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6764605">}</span><span class="op" id="6764606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6764609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6764613">xml</span><span class="op" id="6764616">:</span>&nbsp;<span class="string" id="6764618">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6764640">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6764645">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="6764763">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6764768">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6764785">,</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6764789">tab</span><span class="op" id="6764792">:</span>&nbsp;<span class="ident" id="6764794">TableAttrs</span><span class="op" id="6764804">{</span><span class="ident" id="6764805">TAttr</span><span class="op" id="6764810">{</span><span class="ident" id="6764811">HTable</span><span class="op" id="6764817">:</span>&nbsp;<span class="string" id="6764819">&#34;hello&#34;</span><span class="op" id="6764826">,</span>&nbsp;<span class="ident" id="6764828">FTable</span><span class="op" id="6764834">:</span>&nbsp;<span class="string" id="6764836">&#34;world&#34;</span><span class="op" id="6764843">}</span><span class="op" id="6764844">}</span><span class="op" id="6764845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6764848">}</span><span class="op" id="6764849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6764852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6764856">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6764910">xml</span><span class="op" id="6764913">:</span>&nbsp;<span class="string" id="6764915">`&lt;TableAttrs&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6765018">+</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6765023">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6765056">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6765061">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6765078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6765082">tab</span><span class="op" id="6765085">:</span>&nbsp;<span class="ident" id="6765087">TableAttrs</span><span class="op" id="6765097">{</span><span class="ident" id="6765098">TAttr</span><span class="op" id="6765103">{</span><span class="ident" id="6765104">HTable</span><span class="op" id="6765110">:</span>&nbsp;<span class="string" id="6765112">&#34;hello&#34;</span><span class="op" id="6765119">,</span>&nbsp;<span class="ident" id="6765121">FTable</span><span class="op" id="6765127">:</span>&nbsp;<span class="string" id="6765129">&#34;&#34;</span><span class="op" id="6765131">}</span><span class="op" id="6765132">}</span><span class="op" id="6765133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6765136">}</span><span class="op" id="6765137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6765140">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6765144">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6765198">xml</span><span class="op" id="6765201">:</span>&nbsp;<span class="string" id="6765203">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="6765306">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6765311">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6765344">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6765349">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6765366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6765370">tab</span><span class="op" id="6765373">:</span>&nbsp;<span class="ident" id="6765375">TableAttrs</span><span class="op" id="6765385">{</span><span class="ident" id="6765386">TAttr</span><span class="op" id="6765391">{</span><span class="ident" id="6765392">HTable</span><span class="op" id="6765398">:</span>&nbsp;<span class="string" id="6765400">&#34;&#34;</span><span class="op" id="6765402">,</span>&nbsp;<span class="ident" id="6765404">FTable</span><span class="op" id="6765410">:</span>&nbsp;<span class="string" id="6765412">&#34;world&#34;</span><span class="op" id="6765419">}</span><span class="op" id="6765420">}</span><span class="op" id="6765421">,</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6765424">}</span><span class="op" id="6765425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6765428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6765432">xml</span><span class="op" id="6765435">:</span>&nbsp;<span class="string" id="6765437">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6765459">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6765464">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="6765481">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6765486">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6765503">,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6765507">tab</span><span class="op" id="6765510">:</span>&nbsp;<span class="ident" id="6765512">TableAttrs</span><span class="op" id="6765522">{</span><span class="op" id="6765523">}</span><span class="op" id="6765524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6765527">}</span><span class="op" id="6765528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6765531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6765535">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6765589">xml</span><span class="op" id="6765592">:</span>&nbsp;<span class="string" id="6765594">`&lt;TableAttrs&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6765654">+</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6765659">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6765692">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6765697">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6765714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6765718">tab</span><span class="op" id="6765721">:</span>&nbsp;<span class="ident" id="6765723">TableAttrs</span><span class="op" id="6765733">{</span><span class="ident" id="6765734">TAttr</span><span class="op" id="6765739">{</span><span class="ident" id="6765740">HTable</span><span class="op" id="6765746">:</span>&nbsp;<span class="string" id="6765748">&#34;hello&#34;</span><span class="op" id="6765755">,</span>&nbsp;<span class="ident" id="6765757">FTable</span><span class="op" id="6765763">:</span>&nbsp;<span class="string" id="6765765">&#34;&#34;</span><span class="op" id="6765767">}</span><span class="op" id="6765768">}</span><span class="op" id="6765769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6765773">ns</span><span class="op" id="6765775">:</span>&nbsp;&nbsp;<span class="string" id="6765778">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="6765814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6765817">}</span><span class="op" id="6765818">,</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6765821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6765825">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6765879">xml</span><span class="op" id="6765882">:</span>&nbsp;<span class="string" id="6765884">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6765951">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6765956">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="6765989">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6765994">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6766011">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766015">tab</span><span class="op" id="6766018">:</span>&nbsp;<span class="ident" id="6766020">TableAttrs</span><span class="op" id="6766030">{</span><span class="ident" id="6766031">TAttr</span><span class="op" id="6766036">{</span><span class="ident" id="6766037">HTable</span><span class="op" id="6766043">:</span>&nbsp;<span class="string" id="6766045">&#34;&#34;</span><span class="op" id="6766047">,</span>&nbsp;<span class="ident" id="6766049">FTable</span><span class="op" id="6766055">:</span>&nbsp;<span class="string" id="6766057">&#34;world&#34;</span><span class="op" id="6766064">}</span><span class="op" id="6766065">}</span><span class="op" id="6766066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766070">ns</span><span class="op" id="6766072">:</span>&nbsp;&nbsp;<span class="string" id="6766075">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="6766104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6766107">}</span><span class="op" id="6766108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6766111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766115">xml</span><span class="op" id="6766118">:</span>&nbsp;<span class="string" id="6766120">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="6766142">+</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6766147">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="6766164">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6766169">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="6766186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766190">tab</span><span class="op" id="6766193">:</span>&nbsp;<span class="ident" id="6766195">TableAttrs</span><span class="op" id="6766205">{</span><span class="op" id="6766206">}</span><span class="op" id="6766207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766211">ns</span><span class="op" id="6766213">:</span>&nbsp;&nbsp;<span class="string" id="6766216">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="6766241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6766244">}</span><span class="op" id="6766245">,</span><br>
<span class="lineno">580</span><span class="op" id="6766247">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6766250">func</span>&nbsp;<span class="ident" id="6766255">TestUnmarshalNSAttr</span><span class="op" id="6766274">(</span><span class="ident" id="6766275">t</span>&nbsp;<span class="op" id="6766277">*</span><span class="ident" id="6766278">testing</span><span class="op" id="6766285">.</span><span class="ident" id="6766286">T</span><span class="op" id="6766287">)</span>&nbsp;<span class="op" id="6766289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6766292">for</span>&nbsp;<span class="ident" id="6766296">i</span><span class="op" id="6766297">,</span>&nbsp;<span class="ident" id="6766299">tt</span>&nbsp;<span class="op" id="6766302">:=</span>&nbsp;<span class="keyword" id="6766305">range</span>&nbsp;<span class="ident" id="6766311">tableAttrs</span>&nbsp;<span class="op" id="6766322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6766326">var</span>&nbsp;<span class="ident" id="6766330">dst</span>&nbsp;<span class="ident" id="6766334">TableAttrs</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6766347">var</span>&nbsp;<span class="ident" id="6766351">err</span>&nbsp;<span class="builtintype" id="6766355">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6766363">if</span>&nbsp;<span class="ident" id="6766366">tt</span><span class="op" id="6766368">.</span><span class="ident" id="6766369">ns</span>&nbsp;<span class="op" id="6766372">!=</span>&nbsp;<span class="string" id="6766375">&#34;&#34;</span>&nbsp;<span class="op" id="6766378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766383">d</span>&nbsp;<span class="op" id="6766385">:=</span>&nbsp;<span class="ident" id="6766388">NewDecoder</span><span class="op" id="6766398">(</span><span class="ident" id="6766399">strings</span><span class="op" id="6766406">.</span><span class="ident" id="6766407">NewReader</span><span class="op" id="6766416">(</span><span class="ident" id="6766417">tt</span><span class="op" id="6766419">.</span><span class="ident" id="6766420">xml</span><span class="op" id="6766423">)</span><span class="op" id="6766424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766429">d</span><span class="op" id="6766430">.</span><span class="ident" id="6766431">DefaultSpace</span>&nbsp;<span class="op" id="6766444">=</span>&nbsp;<span class="ident" id="6766446">tt</span><span class="op" id="6766448">.</span><span class="ident" id="6766449">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766455">err</span>&nbsp;<span class="op" id="6766459">=</span>&nbsp;<span class="ident" id="6766461">d</span><span class="op" id="6766462">.</span><span class="ident" id="6766463">Decode</span><span class="op" id="6766469">(</span><span class="op" id="6766470">&amp;</span><span class="ident" id="6766471">dst</span><span class="op" id="6766474">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6766478">}</span>&nbsp;<span class="keyword" id="6766480">else</span>&nbsp;<span class="op" id="6766485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766490">err</span>&nbsp;<span class="op" id="6766494">=</span>&nbsp;<span class="ident" id="6766496">Unmarshal</span><span class="op" id="6766505">(</span><span class="op" id="6766506">[</span><span class="op" id="6766507">]</span><span class="builtintype" id="6766508">byte</span><span class="op" id="6766512">(</span><span class="ident" id="6766513">tt</span><span class="op" id="6766515">.</span><span class="ident" id="6766516">xml</span><span class="op" id="6766519">)</span><span class="op" id="6766520">,</span>&nbsp;<span class="op" id="6766522">&amp;</span><span class="ident" id="6766523">dst</span><span class="op" id="6766526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6766530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6766534">if</span>&nbsp;<span class="ident" id="6766537">err</span>&nbsp;<span class="op" id="6766541">!=</span>&nbsp;<span class="ident" id="6766544">nil</span>&nbsp;<span class="op" id="6766548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766553">t</span><span class="op" id="6766554">.</span><span class="ident" id="6766555">Errorf</span><span class="op" id="6766561">(</span><span class="string" id="6766562">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="6766582">,</span>&nbsp;<span class="ident" id="6766584">i</span><span class="op" id="6766585">,</span>&nbsp;<span class="ident" id="6766587">err</span><span class="op" id="6766590">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6766595">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6766606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766610">want</span>&nbsp;<span class="op" id="6766615">:=</span>&nbsp;<span class="ident" id="6766618">tt</span><span class="op" id="6766620">.</span><span class="ident" id="6766621">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6766627">if</span>&nbsp;<span class="ident" id="6766630">dst</span>&nbsp;<span class="op" id="6766634">!=</span>&nbsp;<span class="ident" id="6766637">want</span>&nbsp;<span class="op" id="6766642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766647">t</span><span class="op" id="6766648">.</span><span class="ident" id="6766649">Errorf</span><span class="op" id="6766655">(</span><span class="string" id="6766656">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6766680">,</span>&nbsp;<span class="ident" id="6766682">i</span><span class="op" id="6766683">,</span>&nbsp;<span class="ident" id="6766685">dst</span><span class="op" id="6766688">,</span>&nbsp;<span class="ident" id="6766690">want</span><span class="op" id="6766694">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6766698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6766701">}</span><br>
<span class="lineno"></span><span class="op" id="6766703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6766706">func</span>&nbsp;<span class="ident" id="6766711">TestMarshalNSAttr</span><span class="op" id="6766728">(</span><span class="ident" id="6766729">t</span>&nbsp;<span class="op" id="6766731">*</span><span class="ident" id="6766732">testing</span><span class="op" id="6766739">.</span><span class="ident" id="6766740">T</span><span class="op" id="6766741">)</span>&nbsp;<span class="op" id="6766743">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766746">src</span>&nbsp;<span class="op" id="6766750">:=</span>&nbsp;<span class="ident" id="6766753">TableAttrs</span><span class="op" id="6766763">{</span><span class="ident" id="6766764">TAttr</span><span class="op" id="6766769">{</span><span class="string" id="6766770">&#34;hello&#34;</span><span class="op" id="6766777">,</span>&nbsp;<span class="string" id="6766779">&#34;world&#34;</span><span class="op" id="6766786">,</span>&nbsp;<span class="string" id="6766788">&#34;en_US&#34;</span><span class="op" id="6766795">,</span>&nbsp;<span class="string" id="6766797">&#34;other1&#34;</span><span class="op" id="6766805">,</span>&nbsp;<span class="string" id="6766807">&#34;other2&#34;</span><span class="op" id="6766815">,</span>&nbsp;<span class="string" id="6766817">&#34;other3&#34;</span><span class="op" id="6766825">,</span>&nbsp;<span class="string" id="6766827">&#34;other4&#34;</span><span class="op" id="6766835">}</span><span class="op" id="6766836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766839">data</span><span class="op" id="6766843">,</span>&nbsp;<span class="ident" id="6766845">err</span>&nbsp;<span class="op" id="6766849">:=</span>&nbsp;<span class="ident" id="6766852">Marshal</span><span class="op" id="6766859">(</span><span class="op" id="6766860">&amp;</span><span class="ident" id="6766861">src</span><span class="op" id="6766864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6766867">if</span>&nbsp;<span class="ident" id="6766870">err</span>&nbsp;<span class="op" id="6766874">!=</span>&nbsp;<span class="ident" id="6766877">nil</span>&nbsp;<span class="op" id="6766881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766885">t</span><span class="op" id="6766886">.</span><span class="ident" id="6766887">Fatalf</span><span class="op" id="6766893">(</span><span class="string" id="6766894">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="6766907">,</span>&nbsp;<span class="ident" id="6766909">err</span><span class="op" id="6766912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6766915">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6766918">want</span>&nbsp;<span class="op" id="6766923">:=</span>&nbsp;<span class="string" id="6766926">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:html4=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;html4:table=&#34;hello&#34;&nbsp;xmlns:furniture=&#34;http://www.w3schools.com/furniture&#34;&nbsp;furniture:table=&#34;world&#34;&nbsp;xml:lang=&#34;en_US&#34;&nbsp;xmlns:_xml=&#34;http://golang.org/xml/&#34;&nbsp;_xml:other=&#34;other1&#34;&nbsp;xmlns:_xmlfoo=&#34;http://golang.org/xmlfoo/&#34;&nbsp;_xmlfoo:other=&#34;other2&#34;&nbsp;xmlns:json=&#34;http://golang.org/json/&#34;&nbsp;json:other=&#34;other3&#34;&nbsp;xmlns:json_1=&#34;http://golang.org/2/json/&#34;&nbsp;json_1:other=&#34;other4&#34;&gt;&lt;/TAttr&gt;&lt;/TableAttrs&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6767367">str</span>&nbsp;<span class="op" id="6767371">:=</span>&nbsp;<span class="builtintype" id="6767374">string</span><span class="op" id="6767380">(</span><span class="ident" id="6767381">data</span><span class="op" id="6767385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6767388">if</span>&nbsp;<span class="ident" id="6767391">str</span>&nbsp;<span class="op" id="6767395">!=</span>&nbsp;<span class="ident" id="6767398">want</span>&nbsp;<span class="op" id="6767403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6767407">t</span><span class="op" id="6767408">.</span><span class="ident" id="6767409">Errorf</span><span class="op" id="6767415">(</span><span class="string" id="6767416">&#34;Marshal:\nhave:&nbsp;%#q\nwant:&nbsp;%#q\n&#34;</span><span class="op" id="6767450">,</span>&nbsp;<span class="ident" id="6767452">str</span><span class="op" id="6767455">,</span>&nbsp;<span class="ident" id="6767457">want</span><span class="op" id="6767461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6767464">}</span><br>
<span class="lineno">615</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6767468">var</span>&nbsp;<span class="ident" id="6767472">dst</span>&nbsp;<span class="ident" id="6767476">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6767488">if</span>&nbsp;<span class="ident" id="6767491">err</span>&nbsp;<span class="op" id="6767495">:=</span>&nbsp;<span class="ident" id="6767498">Unmarshal</span><span class="op" id="6767507">(</span><span class="ident" id="6767508">data</span><span class="op" id="6767512">,</span>&nbsp;<span class="op" id="6767514">&amp;</span><span class="ident" id="6767515">dst</span><span class="op" id="6767518">)</span><span class="op" id="6767519">;</span>&nbsp;<span class="ident" id="6767521">err</span>&nbsp;<span class="op" id="6767525">!=</span>&nbsp;<span class="ident" id="6767528">nil</span>&nbsp;<span class="op" id="6767532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6767536">t</span><span class="op" id="6767537">.</span><span class="ident" id="6767538">Errorf</span><span class="op" id="6767544">(</span><span class="string" id="6767545">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="6767560">,</span>&nbsp;<span class="ident" id="6767562">err</span><span class="op" id="6767565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6767568">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6767572">if</span>&nbsp;<span class="ident" id="6767575">dst</span>&nbsp;<span class="op" id="6767579">!=</span>&nbsp;<span class="ident" id="6767582">src</span>&nbsp;<span class="op" id="6767586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6767590">t</span><span class="op" id="6767591">.</span><span class="ident" id="6767592">Errorf</span><span class="op" id="6767598">(</span><span class="string" id="6767599">&#34;Unmarshal&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6767624">,</span>&nbsp;<span class="ident" id="6767626">dst</span><span class="op" id="6767629">,</span>&nbsp;<span class="ident" id="6767631">src</span><span class="op" id="6767634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6767637">}</span><br>
<span class="lineno"></span><span class="op" id="6767639">}</span><br>
<span class="lineno">625</span><br>
<span class="lineno"></span><span class="keyword" id="6767642">type</span>&nbsp;<span class="ident" id="6767647">MyCharData</span>&nbsp;<span class="keyword" id="6767658">struct</span>&nbsp;<span class="op" id="6767665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6767668">body</span>&nbsp;<span class="builtintype" id="6767673">string</span><br>
<span class="lineno"></span><span class="op" id="6767680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">630</span><span class="keyword" id="6767683">func</span>&nbsp;<span class="op" id="6767688">(</span><span class="ident" id="6767689">m</span>&nbsp;<span class="op" id="6767691">*</span><span class="ident" id="6767692">MyCharData</span><span class="op" id="6767702">)</span>&nbsp;<span class="ident" id="6767704">UnmarshalXML</span><span class="op" id="6767716">(</span><span class="ident" id="6767717">d</span>&nbsp;<span class="op" id="6767719">*</span><span class="ident" id="6767720">Decoder</span><span class="op" id="6767727">,</span>&nbsp;<span class="ident" id="6767729">start</span>&nbsp;<span class="ident" id="6767735">StartElement</span><span class="op" id="6767747">)</span>&nbsp;<span class="builtintype" id="6767749">error</span>&nbsp;<span class="op" id="6767755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6767758">for</span>&nbsp;<span class="op" id="6767762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6767766">t</span><span class="op" id="6767767">,</span>&nbsp;<span class="ident" id="6767769">err</span>&nbsp;<span class="op" id="6767773">:=</span>&nbsp;<span class="ident" id="6767776">d</span><span class="op" id="6767777">.</span><span class="ident" id="6767778">Token</span><span class="op" id="6767783">(</span><span class="op" id="6767784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6767788">if</span>&nbsp;<span class="ident" id="6767791">err</span>&nbsp;<span class="op" id="6767795">==</span>&nbsp;<span class="ident" id="6767798">io</span><span class="op" id="6767800">.</span><span class="ident" id="6767801">EOF</span>&nbsp;<span class="op" id="6767805">{</span>&nbsp;<span class="comment" id="6767807">//&nbsp;found&nbsp;end&nbsp;of&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6767834">break</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6767842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6767846">if</span>&nbsp;<span class="ident" id="6767849">err</span>&nbsp;<span class="op" id="6767853">!=</span>&nbsp;<span class="ident" id="6767856">nil</span>&nbsp;<span class="op" id="6767860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6767865">return</span>&nbsp;<span class="ident" id="6767872">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6767878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6767882">if</span>&nbsp;<span class="ident" id="6767885">char</span><span class="op" id="6767889">,</span>&nbsp;<span class="ident" id="6767891">ok</span>&nbsp;<span class="op" id="6767894">:=</span>&nbsp;<span class="ident" id="6767897">t</span><span class="op" id="6767898">.</span><span class="op" id="6767899">(</span><span class="ident" id="6767900">CharData</span><span class="op" id="6767908">)</span><span class="op" id="6767909">;</span>&nbsp;<span class="ident" id="6767911">ok</span>&nbsp;<span class="op" id="6767914">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6767919">m</span><span class="op" id="6767920">.</span><span class="ident" id="6767921">body</span>&nbsp;<span class="op" id="6767926">+=</span>&nbsp;<span class="builtintype" id="6767929">string</span><span class="op" id="6767935">(</span><span class="ident" id="6767936">char</span><span class="op" id="6767940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6767944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6767947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6767950">return</span>&nbsp;<span class="ident" id="6767957">nil</span><br>
<span class="lineno"></span><span class="op" id="6767961">}</span><br>
<span class="lineno">645</span><br>
<span class="lineno"></span><span class="keyword" id="6767964">var</span>&nbsp;<span class="ident" id="6767968">_</span>&nbsp;<span class="ident" id="6767970">Unmarshaler</span>&nbsp;<span class="op" id="6767982">=</span>&nbsp;<span class="op" id="6767984">(</span><span class="op" id="6767985">*</span><span class="ident" id="6767986">MyCharData</span><span class="op" id="6767996">)</span><span class="op" id="6767997">(</span><span class="ident" id="6767998">nil</span><span class="op" id="6768001">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6768004">func</span>&nbsp;<span class="op" id="6768009">(</span><span class="ident" id="6768010">m</span>&nbsp;<span class="op" id="6768012">*</span><span class="ident" id="6768013">MyCharData</span><span class="op" id="6768023">)</span>&nbsp;<span class="ident" id="6768025">UnmarshalXMLAttr</span><span class="op" id="6768041">(</span><span class="ident" id="6768042">attr</span>&nbsp;<span class="ident" id="6768047">Attr</span><span class="op" id="6768051">)</span>&nbsp;<span class="builtintype" id="6768053">error</span>&nbsp;<span class="op" id="6768059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6768062">panic</span><span class="op" id="6768067">(</span><span class="string" id="6768068">&#34;must&nbsp;not&nbsp;call&#34;</span><span class="op" id="6768083">)</span><br>
<span class="lineno">650</span><span class="op" id="6768085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6768088">type</span>&nbsp;<span class="ident" id="6768093">MyAttr</span>&nbsp;<span class="keyword" id="6768100">struct</span>&nbsp;<span class="op" id="6768107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6768110">attr</span>&nbsp;<span class="builtintype" id="6768115">string</span><br>
<span class="lineno"></span><span class="op" id="6768122">}</span><br>
<span class="lineno">655</span><br>
<span class="lineno"></span><span class="keyword" id="6768125">func</span>&nbsp;<span class="op" id="6768130">(</span><span class="ident" id="6768131">m</span>&nbsp;<span class="op" id="6768133">*</span><span class="ident" id="6768134">MyAttr</span><span class="op" id="6768140">)</span>&nbsp;<span class="ident" id="6768142">UnmarshalXMLAttr</span><span class="op" id="6768158">(</span><span class="ident" id="6768159">attr</span>&nbsp;<span class="ident" id="6768164">Attr</span><span class="op" id="6768168">)</span>&nbsp;<span class="builtintype" id="6768170">error</span>&nbsp;<span class="op" id="6768176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6768179">m</span><span class="op" id="6768180">.</span><span class="ident" id="6768181">attr</span>&nbsp;<span class="op" id="6768186">=</span>&nbsp;<span class="ident" id="6768188">attr</span><span class="op" id="6768192">.</span><span class="ident" id="6768193">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6768200">return</span>&nbsp;<span class="ident" id="6768207">nil</span><br>
<span class="lineno"></span><span class="op" id="6768211">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="6768214">var</span>&nbsp;<span class="ident" id="6768218">_</span>&nbsp;<span class="ident" id="6768220">UnmarshalerAttr</span>&nbsp;<span class="op" id="6768236">=</span>&nbsp;<span class="op" id="6768238">(</span><span class="op" id="6768239">*</span><span class="ident" id="6768240">MyAttr</span><span class="op" id="6768246">)</span><span class="op" id="6768247">(</span><span class="ident" id="6768248">nil</span><span class="op" id="6768251">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6768254">type</span>&nbsp;<span class="ident" id="6768259">MyStruct</span>&nbsp;<span class="keyword" id="6768268">struct</span>&nbsp;<span class="op" id="6768275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6768278">Data</span>&nbsp;<span class="op" id="6768283">*</span><span class="ident" id="6768284">MyCharData</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6768296">Attr</span>&nbsp;<span class="op" id="6768301">*</span><span class="ident" id="6768302">MyAttr</span>&nbsp;<span class="string" id="6768309">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6768325">Data2</span>&nbsp;<span class="ident" id="6768331">MyCharData</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6768343">Attr2</span>&nbsp;<span class="ident" id="6768349">MyAttr</span>&nbsp;<span class="string" id="6768356">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="6768370">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="6768373">func</span>&nbsp;<span class="ident" id="6768378">TestUnmarshaler</span><span class="op" id="6768393">(</span><span class="ident" id="6768394">t</span>&nbsp;<span class="op" id="6768396">*</span><span class="ident" id="6768397">testing</span><span class="op" id="6768404">.</span><span class="ident" id="6768405">T</span><span class="op" id="6768406">)</span>&nbsp;<span class="op" id="6768408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6768411">xml</span>&nbsp;<span class="op" id="6768415">:=</span>&nbsp;<span class="string" id="6768418">`&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;MyStruct&nbsp;Attr=&#34;attr1&#34;&nbsp;Attr2=&#34;attr2&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data&gt;hello&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data&gt;<br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data2&gt;howdy&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;/MyStruct&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6768605">var</span>&nbsp;<span class="ident" id="6768609">m</span>&nbsp;<span class="ident" id="6768611">MyStruct</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6768621">if</span>&nbsp;<span class="ident" id="6768624">err</span>&nbsp;<span class="op" id="6768628">:=</span>&nbsp;<span class="ident" id="6768631">Unmarshal</span><span class="op" id="6768640">(</span><span class="op" id="6768641">[</span><span class="op" id="6768642">]</span><span class="builtintype" id="6768643">byte</span><span class="op" id="6768647">(</span><span class="ident" id="6768648">xml</span><span class="op" id="6768651">)</span><span class="op" id="6768652">,</span>&nbsp;<span class="op" id="6768654">&amp;</span><span class="ident" id="6768655">m</span><span class="op" id="6768656">)</span><span class="op" id="6768657">;</span>&nbsp;<span class="ident" id="6768659">err</span>&nbsp;<span class="op" id="6768663">!=</span>&nbsp;<span class="ident" id="6768666">nil</span>&nbsp;<span class="op" id="6768670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6768674">t</span><span class="op" id="6768675">.</span><span class="ident" id="6768676">Fatal</span><span class="op" id="6768681">(</span><span class="ident" id="6768682">err</span><span class="op" id="6768685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6768688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6768692">if</span>&nbsp;<span class="ident" id="6768695">m</span><span class="op" id="6768696">.</span><span class="ident" id="6768697">Data</span>&nbsp;<span class="op" id="6768702">==</span>&nbsp;<span class="ident" id="6768705">nil</span>&nbsp;<span class="op" id="6768709">||</span>&nbsp;<span class="ident" id="6768712">m</span><span class="op" id="6768713">.</span><span class="ident" id="6768714">Attr</span>&nbsp;<span class="op" id="6768719">==</span>&nbsp;<span class="ident" id="6768722">nil</span>&nbsp;<span class="op" id="6768726">||</span>&nbsp;<span class="ident" id="6768729">m</span><span class="op" id="6768730">.</span><span class="ident" id="6768731">Data</span><span class="op" id="6768735">.</span><span class="ident" id="6768736">body</span>&nbsp;<span class="op" id="6768741">!=</span>&nbsp;<span class="string" id="6768744">&#34;hello&nbsp;world&#34;</span>&nbsp;<span class="op" id="6768758">||</span>&nbsp;<span class="ident" id="6768761">m</span><span class="op" id="6768762">.</span><span class="ident" id="6768763">Attr</span><span class="op" id="6768767">.</span><span class="ident" id="6768768">attr</span>&nbsp;<span class="op" id="6768773">!=</span>&nbsp;<span class="string" id="6768776">&#34;attr1&#34;</span>&nbsp;<span class="op" id="6768784">||</span>&nbsp;<span class="ident" id="6768787">m</span><span class="op" id="6768788">.</span><span class="ident" id="6768789">Data2</span><span class="op" id="6768794">.</span><span class="ident" id="6768795">body</span>&nbsp;<span class="op" id="6768800">!=</span>&nbsp;<span class="string" id="6768803">&#34;howdy&nbsp;world&#34;</span>&nbsp;<span class="op" id="6768817">||</span>&nbsp;<span class="ident" id="6768820">m</span><span class="op" id="6768821">.</span><span class="ident" id="6768822">Attr2</span><span class="op" id="6768827">.</span><span class="ident" id="6768828">attr</span>&nbsp;<span class="op" id="6768833">!=</span>&nbsp;<span class="string" id="6768836">&#34;attr2&#34;</span>&nbsp;<span class="op" id="6768844">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6768848">t</span><span class="op" id="6768849">.</span><span class="ident" id="6768850">Errorf</span><span class="op" id="6768856">(</span><span class="string" id="6768857">&#34;m=%#+v\n&#34;</span><span class="op" id="6768867">,</span>&nbsp;<span class="ident" id="6768869">m</span><span class="op" id="6768870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6768873">}</span><br>
<span class="lineno"></span><span class="op" id="6768875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6768878">type</span>&nbsp;<span class="ident" id="6768883">Pea</span>&nbsp;<span class="keyword" id="6768887">struct</span>&nbsp;<span class="op" id="6768894">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6768897">Cotelydon</span>&nbsp;<span class="builtintype" id="6768907">string</span><br>
<span class="lineno"></span><span class="op" id="6768914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6768917">type</span>&nbsp;<span class="ident" id="6768922">Pod</span>&nbsp;<span class="keyword" id="6768926">struct</span>&nbsp;<span class="op" id="6768933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6768936">Pea</span>&nbsp;<span class="keyword" id="6768940">interface</span><span class="op" id="6768949">{</span><span class="op" id="6768950">}</span>&nbsp;<span class="string" id="6768952">`xml:&#34;Pea&#34;`</span><br>
<span class="lineno">695</span><span class="op" id="6768964">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6768967">//&nbsp;https://code.google.com/p/go/issues/detail?id=6836</span><br>
<span class="lineno"></span><span class="keyword" id="6769021">func</span>&nbsp;<span class="ident" id="6769026">TestUnmarshalIntoInterface</span><span class="op" id="6769052">(</span><span class="ident" id="6769053">t</span>&nbsp;<span class="op" id="6769055">*</span><span class="ident" id="6769056">testing</span><span class="op" id="6769063">.</span><span class="ident" id="6769064">T</span><span class="op" id="6769065">)</span>&nbsp;<span class="op" id="6769067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6769070">pod</span>&nbsp;<span class="op" id="6769074">:=</span>&nbsp;<span class="builtinfunc" id="6769077">new</span><span class="op" id="6769080">(</span><span class="ident" id="6769081">Pod</span><span class="op" id="6769084">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6769087">pod</span><span class="op" id="6769090">.</span><span class="ident" id="6769091">Pea</span>&nbsp;<span class="op" id="6769095">=</span>&nbsp;<span class="builtinfunc" id="6769097">new</span><span class="op" id="6769100">(</span><span class="ident" id="6769101">Pea</span><span class="op" id="6769104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6769107">xml</span>&nbsp;<span class="op" id="6769111">:=</span>&nbsp;<span class="string" id="6769114">`&lt;Pod&gt;&lt;Pea&gt;&lt;Cotelydon&gt;Green&nbsp;stuff&lt;/Cotelydon&gt;&lt;/Pea&gt;&lt;/Pod&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6769174">err</span>&nbsp;<span class="op" id="6769178">:=</span>&nbsp;<span class="ident" id="6769181">Unmarshal</span><span class="op" id="6769190">(</span><span class="op" id="6769191">[</span><span class="op" id="6769192">]</span><span class="builtintype" id="6769193">byte</span><span class="op" id="6769197">(</span><span class="ident" id="6769198">xml</span><span class="op" id="6769201">)</span><span class="op" id="6769202">,</span>&nbsp;<span class="ident" id="6769204">pod</span><span class="op" id="6769207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6769210">if</span>&nbsp;<span class="ident" id="6769213">err</span>&nbsp;<span class="op" id="6769217">!=</span>&nbsp;<span class="ident" id="6769220">nil</span>&nbsp;<span class="op" id="6769224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6769228">t</span><span class="op" id="6769229">.</span><span class="ident" id="6769230">Fatalf</span><span class="op" id="6769236">(</span><span class="string" id="6769237">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6769265">,</span>&nbsp;<span class="ident" id="6769267">xml</span><span class="op" id="6769270">,</span>&nbsp;<span class="ident" id="6769272">err</span><span class="op" id="6769275">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6769278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6769281">pea</span><span class="op" id="6769284">,</span>&nbsp;<span class="ident" id="6769286">ok</span>&nbsp;<span class="op" id="6769289">:=</span>&nbsp;<span class="ident" id="6769292">pod</span><span class="op" id="6769295">.</span><span class="ident" id="6769296">Pea</span><span class="op" id="6769299">.</span><span class="op" id="6769300">(</span><span class="op" id="6769301">*</span><span class="ident" id="6769302">Pea</span><span class="op" id="6769305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6769308">if</span>&nbsp;<span class="op" id="6769311">!</span><span class="ident" id="6769312">ok</span>&nbsp;<span class="op" id="6769315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6769319">t</span><span class="op" id="6769320">.</span><span class="ident" id="6769321">Fatalf</span><span class="op" id="6769327">(</span><span class="string" id="6769328">&#34;unmarshalled&nbsp;into&nbsp;wrong&nbsp;type:&nbsp;have&nbsp;%T&nbsp;want&nbsp;*Pea&#34;</span><span class="op" id="6769377">,</span>&nbsp;<span class="ident" id="6769379">pod</span><span class="op" id="6769382">.</span><span class="ident" id="6769383">Pea</span><span class="op" id="6769386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6769389">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6769392">have</span><span class="op" id="6769396">,</span>&nbsp;<span class="ident" id="6769398">want</span>&nbsp;<span class="op" id="6769403">:=</span>&nbsp;<span class="ident" id="6769406">pea</span><span class="op" id="6769409">.</span><span class="ident" id="6769410">Cotelydon</span><span class="op" id="6769419">,</span>&nbsp;<span class="string" id="6769421">&#34;Green&nbsp;stuff&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6769436">if</span>&nbsp;<span class="ident" id="6769439">have</span>&nbsp;<span class="op" id="6769444">!=</span>&nbsp;<span class="ident" id="6769447">want</span>&nbsp;<span class="op" id="6769452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6769456">t</span><span class="op" id="6769457">.</span><span class="ident" id="6769458">Errorf</span><span class="op" id="6769464">(</span><span class="string" id="6769465">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;into&nbsp;interface,&nbsp;have&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6769518">,</span>&nbsp;<span class="ident" id="6769520">have</span><span class="op" id="6769524">,</span>&nbsp;<span class="ident" id="6769526">want</span><span class="op" id="6769530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6769533">}</span><br>
<span class="lineno"></span><span class="op" id="6769535">}</span>
</div>
</body>
</html>
