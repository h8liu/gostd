<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html" class="current">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8307889">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8307944">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8307998">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8308049">package</span>&nbsp;<span class="ident" id="8308057">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8308065">import</span>&nbsp;<span class="op" id="8308072">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308075">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308086">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308103">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308114">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8308124">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8308127">var</span>&nbsp;<span class="ident" id="8308131">good_re</span>&nbsp;<span class="op" id="8308139">=</span>&nbsp;<span class="op" id="8308141">[</span><span class="op" id="8308142">]</span><span class="builtintype" id="8308143">string</span><span class="op" id="8308149">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308152">``</span><span class="op" id="8308154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308157">`.`</span><span class="op" id="8308160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308163">`^.$`</span><span class="op" id="8308168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308171">`a`</span><span class="op" id="8308174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308177">`a*`</span><span class="op" id="8308181">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308184">`a+`</span><span class="op" id="8308188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308191">`a?`</span><span class="op" id="8308195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308198">`a|b`</span><span class="op" id="8308203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308206">`a*|b*`</span><span class="op" id="8308213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308216">`(a*|b)(c*|d)`</span><span class="op" id="8308230">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308233">`[a-z]`</span><span class="op" id="8308240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308243">`[a-abc-c\-\]\[]`</span><span class="op" id="8308260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308263">`[a-z]+`</span><span class="op" id="8308271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308274">`[abc]`</span><span class="op" id="8308281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308284">`[^1234]`</span><span class="op" id="8308293">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308296">`[^\n]`</span><span class="op" id="8308303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8308306">`\!\\`</span><span class="op" id="8308312">,</span><br>
<span class="lineno"></span><span class="op" id="8308314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8308317">type</span>&nbsp;<span class="ident" id="8308322">stringError</span>&nbsp;<span class="keyword" id="8308334">struct</span>&nbsp;<span class="op" id="8308341">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8308344">re</span>&nbsp;&nbsp;<span class="builtintype" id="8308348">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8308356">err</span>&nbsp;<span class="builtintype" id="8308360">string</span><br>
<span class="lineno"></span><span class="op" id="8308367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8308370">var</span>&nbsp;<span class="ident" id="8308374">bad_re</span>&nbsp;<span class="op" id="8308381">=</span>&nbsp;<span class="op" id="8308383">[</span><span class="op" id="8308384">]</span><span class="ident" id="8308385">stringError</span><span class="op" id="8308396">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8308399">{</span><span class="string" id="8308400">`*`</span><span class="op" id="8308403">,</span>&nbsp;<span class="string" id="8308405">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`*`&#34;</span><span class="op" id="8308451">}</span><span class="op" id="8308452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8308455">{</span><span class="string" id="8308456">`+`</span><span class="op" id="8308459">,</span>&nbsp;<span class="string" id="8308461">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`+`&#34;</span><span class="op" id="8308507">}</span><span class="op" id="8308508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8308511">{</span><span class="string" id="8308512">`?`</span><span class="op" id="8308515">,</span>&nbsp;<span class="string" id="8308517">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`?`&#34;</span><span class="op" id="8308563">}</span><span class="op" id="8308564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8308567">{</span><span class="string" id="8308568">`(abc`</span><span class="op" id="8308574">,</span>&nbsp;<span class="string" id="8308576">&#34;missing&nbsp;closing&nbsp;):&nbsp;`(abc`&#34;</span><span class="op" id="8308603">}</span><span class="op" id="8308604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8308607">{</span><span class="string" id="8308608">`abc)`</span><span class="op" id="8308614">,</span>&nbsp;<span class="string" id="8308616">&#34;unexpected&nbsp;):&nbsp;`abc)`&#34;</span><span class="op" id="8308638">}</span><span class="op" id="8308639">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8308642">{</span><span class="string" id="8308643">`x[a-z`</span><span class="op" id="8308650">,</span>&nbsp;<span class="string" id="8308652">&#34;missing&nbsp;closing&nbsp;]:&nbsp;`[a-z`&#34;</span><span class="op" id="8308679">}</span><span class="op" id="8308680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8308683">{</span><span class="string" id="8308684">`[z-a]`</span><span class="op" id="8308691">,</span>&nbsp;<span class="string" id="8308693">&#34;invalid&nbsp;character&nbsp;class&nbsp;range:&nbsp;`z-a`&#34;</span><span class="op" id="8308731">}</span><span class="op" id="8308732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8308735">{</span><span class="string" id="8308736">`abc\`</span><span class="op" id="8308742">,</span>&nbsp;<span class="string" id="8308744">&#34;trailing&nbsp;backslash&nbsp;at&nbsp;end&nbsp;of&nbsp;expression&#34;</span><span class="op" id="8308785">}</span><span class="op" id="8308786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8308789">{</span><span class="string" id="8308790">`a**`</span><span class="op" id="8308795">,</span>&nbsp;<span class="string" id="8308797">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`**`&#34;</span><span class="op" id="8308839">}</span><span class="op" id="8308840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8308843">{</span><span class="string" id="8308844">`a*+`</span><span class="op" id="8308849">,</span>&nbsp;<span class="string" id="8308851">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`*+`&#34;</span><span class="op" id="8308893">}</span><span class="op" id="8308894">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8308897">{</span><span class="string" id="8308898">`\x`</span><span class="op" id="8308902">,</span>&nbsp;<span class="string" id="8308904">&#34;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\x`&#34;</span><span class="op" id="8308936">}</span><span class="op" id="8308937">,</span><br>
<span class="lineno"></span><span class="op" id="8308939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8308942">func</span>&nbsp;<span class="ident" id="8308947">compileTest</span><span class="op" id="8308958">(</span><span class="ident" id="8308959">t</span>&nbsp;<span class="op" id="8308961">*</span><span class="ident" id="8308962">testing</span><span class="op" id="8308969">.</span><span class="ident" id="8308970">T</span><span class="op" id="8308971">,</span>&nbsp;<span class="ident" id="8308973">expr</span>&nbsp;<span class="builtintype" id="8308978">string</span><span class="op" id="8308984">,</span>&nbsp;<span class="builtintype" id="8308986">error</span>&nbsp;<span class="builtintype" id="8308992">string</span><span class="op" id="8308998">)</span>&nbsp;<span class="op" id="8309000">*</span><span class="ident" id="8309001">Regexp</span>&nbsp;<span class="op" id="8309008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8309011">re</span><span class="op" id="8309013">,</span>&nbsp;<span class="ident" id="8309015">err</span>&nbsp;<span class="op" id="8309019">:=</span>&nbsp;<span class="ident" id="8309022">Compile</span><span class="op" id="8309029">(</span><span class="ident" id="8309030">expr</span><span class="op" id="8309034">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8309037">if</span>&nbsp;<span class="builtintype" id="8309040">error</span>&nbsp;<span class="op" id="8309046">==</span>&nbsp;<span class="string" id="8309049">&#34;&#34;</span>&nbsp;<span class="op" id="8309052">&amp;&amp;</span>&nbsp;<span class="ident" id="8309055">err</span>&nbsp;<span class="op" id="8309059">!=</span>&nbsp;<span class="ident" id="8309062">nil</span>&nbsp;<span class="op" id="8309066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8309070">t</span><span class="op" id="8309071">.</span><span class="ident" id="8309072">Error</span><span class="op" id="8309077">(</span><span class="string" id="8309078">&#34;compiling&nbsp;`&#34;</span><span class="op" id="8309091">,</span>&nbsp;<span class="ident" id="8309093">expr</span><span class="op" id="8309097">,</span>&nbsp;<span class="string" id="8309099">&#34;`;&nbsp;unexpected&nbsp;error:&nbsp;&#34;</span><span class="op" id="8309122">,</span>&nbsp;<span class="ident" id="8309124">err</span><span class="op" id="8309127">.</span><span class="ident" id="8309128">Error</span><span class="op" id="8309133">(</span><span class="op" id="8309134">)</span><span class="op" id="8309135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8309138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8309141">if</span>&nbsp;<span class="builtintype" id="8309144">error</span>&nbsp;<span class="op" id="8309150">!=</span>&nbsp;<span class="string" id="8309153">&#34;&#34;</span>&nbsp;<span class="op" id="8309156">&amp;&amp;</span>&nbsp;<span class="ident" id="8309159">err</span>&nbsp;<span class="op" id="8309163">==</span>&nbsp;<span class="ident" id="8309166">nil</span>&nbsp;<span class="op" id="8309170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8309174">t</span><span class="op" id="8309175">.</span><span class="ident" id="8309176">Error</span><span class="op" id="8309181">(</span><span class="string" id="8309182">&#34;compiling&nbsp;`&#34;</span><span class="op" id="8309195">,</span>&nbsp;<span class="ident" id="8309197">expr</span><span class="op" id="8309201">,</span>&nbsp;<span class="string" id="8309203">&#34;`;&nbsp;missing&nbsp;error&#34;</span><span class="op" id="8309221">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8309224">}</span>&nbsp;<span class="keyword" id="8309226">else</span>&nbsp;<span class="keyword" id="8309231">if</span>&nbsp;<span class="builtintype" id="8309234">error</span>&nbsp;<span class="op" id="8309240">!=</span>&nbsp;<span class="string" id="8309243">&#34;&#34;</span>&nbsp;<span class="op" id="8309246">&amp;&amp;</span>&nbsp;<span class="op" id="8309249">!</span><span class="ident" id="8309250">strings</span><span class="op" id="8309257">.</span><span class="ident" id="8309258">Contains</span><span class="op" id="8309266">(</span><span class="ident" id="8309267">err</span><span class="op" id="8309270">.</span><span class="ident" id="8309271">Error</span><span class="op" id="8309276">(</span><span class="op" id="8309277">)</span><span class="op" id="8309278">,</span>&nbsp;<span class="builtintype" id="8309280">error</span><span class="op" id="8309285">)</span>&nbsp;<span class="op" id="8309287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8309291">t</span><span class="op" id="8309292">.</span><span class="ident" id="8309293">Error</span><span class="op" id="8309298">(</span><span class="string" id="8309299">&#34;compiling&nbsp;`&#34;</span><span class="op" id="8309312">,</span>&nbsp;<span class="ident" id="8309314">expr</span><span class="op" id="8309318">,</span>&nbsp;<span class="string" id="8309320">&#34;`;&nbsp;wrong&nbsp;error:&nbsp;&#34;</span><span class="op" id="8309338">,</span>&nbsp;<span class="ident" id="8309340">err</span><span class="op" id="8309343">.</span><span class="ident" id="8309344">Error</span><span class="op" id="8309349">(</span><span class="op" id="8309350">)</span><span class="op" id="8309351">,</span>&nbsp;<span class="string" id="8309353">&#34;;&nbsp;want&nbsp;&#34;</span><span class="op" id="8309362">,</span>&nbsp;<span class="builtintype" id="8309364">error</span><span class="op" id="8309369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8309372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8309375">return</span>&nbsp;<span class="ident" id="8309382">re</span><br>
<span class="lineno"></span><span class="op" id="8309385">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="8309388">func</span>&nbsp;<span class="ident" id="8309393">TestGoodCompile</span><span class="op" id="8309408">(</span><span class="ident" id="8309409">t</span>&nbsp;<span class="op" id="8309411">*</span><span class="ident" id="8309412">testing</span><span class="op" id="8309419">.</span><span class="ident" id="8309420">T</span><span class="op" id="8309421">)</span>&nbsp;<span class="op" id="8309423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8309426">for</span>&nbsp;<span class="ident" id="8309430">i</span>&nbsp;<span class="op" id="8309432">:=</span>&nbsp;<span class="num" id="8309435">0</span><span class="op" id="8309436">;</span>&nbsp;<span class="ident" id="8309438">i</span>&nbsp;<span class="op" id="8309440">&lt;</span>&nbsp;<span class="builtinfunc" id="8309442">len</span><span class="op" id="8309445">(</span><span class="ident" id="8309446">good_re</span><span class="op" id="8309453">)</span><span class="op" id="8309454">;</span>&nbsp;<span class="ident" id="8309456">i</span><span class="op" id="8309457">++</span>&nbsp;<span class="op" id="8309460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8309464">compileTest</span><span class="op" id="8309475">(</span><span class="ident" id="8309476">t</span><span class="op" id="8309477">,</span>&nbsp;<span class="ident" id="8309479">good_re</span><span class="op" id="8309486">[</span><span class="ident" id="8309487">i</span><span class="op" id="8309488">]</span><span class="op" id="8309489">,</span>&nbsp;<span class="string" id="8309491">&#34;&#34;</span><span class="op" id="8309493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8309496">}</span><br>
<span class="lineno">70</span><span class="op" id="8309498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8309501">func</span>&nbsp;<span class="ident" id="8309506">TestBadCompile</span><span class="op" id="8309520">(</span><span class="ident" id="8309521">t</span>&nbsp;<span class="op" id="8309523">*</span><span class="ident" id="8309524">testing</span><span class="op" id="8309531">.</span><span class="ident" id="8309532">T</span><span class="op" id="8309533">)</span>&nbsp;<span class="op" id="8309535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8309538">for</span>&nbsp;<span class="ident" id="8309542">i</span>&nbsp;<span class="op" id="8309544">:=</span>&nbsp;<span class="num" id="8309547">0</span><span class="op" id="8309548">;</span>&nbsp;<span class="ident" id="8309550">i</span>&nbsp;<span class="op" id="8309552">&lt;</span>&nbsp;<span class="builtinfunc" id="8309554">len</span><span class="op" id="8309557">(</span><span class="ident" id="8309558">bad_re</span><span class="op" id="8309564">)</span><span class="op" id="8309565">;</span>&nbsp;<span class="ident" id="8309567">i</span><span class="op" id="8309568">++</span>&nbsp;<span class="op" id="8309571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8309575">compileTest</span><span class="op" id="8309586">(</span><span class="ident" id="8309587">t</span><span class="op" id="8309588">,</span>&nbsp;<span class="ident" id="8309590">bad_re</span><span class="op" id="8309596">[</span><span class="ident" id="8309597">i</span><span class="op" id="8309598">]</span><span class="op" id="8309599">.</span><span class="ident" id="8309600">re</span><span class="op" id="8309602">,</span>&nbsp;<span class="ident" id="8309604">bad_re</span><span class="op" id="8309610">[</span><span class="ident" id="8309611">i</span><span class="op" id="8309612">]</span><span class="op" id="8309613">.</span><span class="ident" id="8309614">err</span><span class="op" id="8309617">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8309620">}</span><br>
<span class="lineno"></span><span class="op" id="8309622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8309625">func</span>&nbsp;<span class="ident" id="8309630">matchTest</span><span class="op" id="8309639">(</span><span class="ident" id="8309640">t</span>&nbsp;<span class="op" id="8309642">*</span><span class="ident" id="8309643">testing</span><span class="op" id="8309650">.</span><span class="ident" id="8309651">T</span><span class="op" id="8309652">,</span>&nbsp;<span class="ident" id="8309654">test</span>&nbsp;<span class="op" id="8309659">*</span><span class="ident" id="8309660">FindTest</span><span class="op" id="8309668">)</span>&nbsp;<span class="op" id="8309670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8309673">re</span>&nbsp;<span class="op" id="8309676">:=</span>&nbsp;<span class="ident" id="8309679">compileTest</span><span class="op" id="8309690">(</span><span class="ident" id="8309691">t</span><span class="op" id="8309692">,</span>&nbsp;<span class="ident" id="8309694">test</span><span class="op" id="8309698">.</span><span class="ident" id="8309699">pat</span><span class="op" id="8309702">,</span>&nbsp;<span class="string" id="8309704">&#34;&#34;</span><span class="op" id="8309706">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8309709">if</span>&nbsp;<span class="ident" id="8309712">re</span>&nbsp;<span class="op" id="8309715">==</span>&nbsp;<span class="ident" id="8309718">nil</span>&nbsp;<span class="op" id="8309722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8309726">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8309734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8309737">m</span>&nbsp;<span class="op" id="8309739">:=</span>&nbsp;<span class="ident" id="8309742">re</span><span class="op" id="8309744">.</span><span class="ident" id="8309745">MatchString</span><span class="op" id="8309756">(</span><span class="ident" id="8309757">test</span><span class="op" id="8309761">.</span><span class="ident" id="8309762">text</span><span class="op" id="8309766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8309769">if</span>&nbsp;<span class="ident" id="8309772">m</span>&nbsp;<span class="op" id="8309774">!=</span>&nbsp;<span class="op" id="8309777">(</span><span class="builtinfunc" id="8309778">len</span><span class="op" id="8309781">(</span><span class="ident" id="8309782">test</span><span class="op" id="8309786">.</span><span class="ident" id="8309787">matches</span><span class="op" id="8309794">)</span>&nbsp;<span class="op" id="8309796">&gt;</span>&nbsp;<span class="num" id="8309798">0</span><span class="op" id="8309799">)</span>&nbsp;<span class="op" id="8309801">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8309805">t</span><span class="op" id="8309806">.</span><span class="ident" id="8309807">Errorf</span><span class="op" id="8309813">(</span><span class="string" id="8309814">&#34;MatchString&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="8309858">,</span>&nbsp;<span class="ident" id="8309860">test</span><span class="op" id="8309864">,</span>&nbsp;<span class="ident" id="8309866">m</span><span class="op" id="8309867">,</span>&nbsp;<span class="builtinfunc" id="8309869">len</span><span class="op" id="8309872">(</span><span class="ident" id="8309873">test</span><span class="op" id="8309877">.</span><span class="ident" id="8309878">matches</span><span class="op" id="8309885">)</span>&nbsp;<span class="op" id="8309887">&gt;</span>&nbsp;<span class="num" id="8309889">0</span><span class="op" id="8309890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8309893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8309896">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8309914">m</span>&nbsp;<span class="op" id="8309916">=</span>&nbsp;<span class="ident" id="8309918">re</span><span class="op" id="8309920">.</span><span class="ident" id="8309921">Match</span><span class="op" id="8309926">(</span><span class="op" id="8309927">[</span><span class="op" id="8309928">]</span><span class="builtintype" id="8309929">byte</span><span class="op" id="8309933">(</span><span class="ident" id="8309934">test</span><span class="op" id="8309938">.</span><span class="ident" id="8309939">text</span><span class="op" id="8309943">)</span><span class="op" id="8309944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8309947">if</span>&nbsp;<span class="ident" id="8309950">m</span>&nbsp;<span class="op" id="8309952">!=</span>&nbsp;<span class="op" id="8309955">(</span><span class="builtinfunc" id="8309956">len</span><span class="op" id="8309959">(</span><span class="ident" id="8309960">test</span><span class="op" id="8309964">.</span><span class="ident" id="8309965">matches</span><span class="op" id="8309972">)</span>&nbsp;<span class="op" id="8309974">&gt;</span>&nbsp;<span class="num" id="8309976">0</span><span class="op" id="8309977">)</span>&nbsp;<span class="op" id="8309979">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8309983">t</span><span class="op" id="8309984">.</span><span class="ident" id="8309985">Errorf</span><span class="op" id="8309991">(</span><span class="string" id="8309992">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="8310030">,</span>&nbsp;<span class="ident" id="8310032">test</span><span class="op" id="8310036">,</span>&nbsp;<span class="ident" id="8310038">m</span><span class="op" id="8310039">,</span>&nbsp;<span class="builtinfunc" id="8310041">len</span><span class="op" id="8310044">(</span><span class="ident" id="8310045">test</span><span class="op" id="8310049">.</span><span class="ident" id="8310050">matches</span><span class="op" id="8310057">)</span>&nbsp;<span class="op" id="8310059">&gt;</span>&nbsp;<span class="num" id="8310061">0</span><span class="op" id="8310062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8310065">}</span><br>
<span class="lineno"></span><span class="op" id="8310067">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8310070">func</span>&nbsp;<span class="ident" id="8310075">TestMatch</span><span class="op" id="8310084">(</span><span class="ident" id="8310085">t</span>&nbsp;<span class="op" id="8310087">*</span><span class="ident" id="8310088">testing</span><span class="op" id="8310095">.</span><span class="ident" id="8310096">T</span><span class="op" id="8310097">)</span>&nbsp;<span class="op" id="8310099">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8310102">for</span>&nbsp;<span class="ident" id="8310106">_</span><span class="op" id="8310107">,</span>&nbsp;<span class="ident" id="8310109">test</span>&nbsp;<span class="op" id="8310114">:=</span>&nbsp;<span class="keyword" id="8310117">range</span>&nbsp;<span class="ident" id="8310123">findTests</span>&nbsp;<span class="op" id="8310133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8310137">matchTest</span><span class="op" id="8310146">(</span><span class="ident" id="8310147">t</span><span class="op" id="8310148">,</span>&nbsp;<span class="op" id="8310150">&amp;</span><span class="ident" id="8310151">test</span><span class="op" id="8310155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8310158">}</span><br>
<span class="lineno"></span><span class="op" id="8310160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="8310163">func</span>&nbsp;<span class="ident" id="8310168">matchFunctionTest</span><span class="op" id="8310185">(</span><span class="ident" id="8310186">t</span>&nbsp;<span class="op" id="8310188">*</span><span class="ident" id="8310189">testing</span><span class="op" id="8310196">.</span><span class="ident" id="8310197">T</span><span class="op" id="8310198">,</span>&nbsp;<span class="ident" id="8310200">test</span>&nbsp;<span class="op" id="8310205">*</span><span class="ident" id="8310206">FindTest</span><span class="op" id="8310214">)</span>&nbsp;<span class="op" id="8310216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8310219">m</span><span class="op" id="8310220">,</span>&nbsp;<span class="ident" id="8310222">err</span>&nbsp;<span class="op" id="8310226">:=</span>&nbsp;<span class="ident" id="8310229">MatchString</span><span class="op" id="8310240">(</span><span class="ident" id="8310241">test</span><span class="op" id="8310245">.</span><span class="ident" id="8310246">pat</span><span class="op" id="8310249">,</span>&nbsp;<span class="ident" id="8310251">test</span><span class="op" id="8310255">.</span><span class="ident" id="8310256">text</span><span class="op" id="8310260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8310263">if</span>&nbsp;<span class="ident" id="8310266">err</span>&nbsp;<span class="op" id="8310270">==</span>&nbsp;<span class="ident" id="8310273">nil</span>&nbsp;<span class="op" id="8310277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8310281">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8310289">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8310292">if</span>&nbsp;<span class="ident" id="8310295">m</span>&nbsp;<span class="op" id="8310297">!=</span>&nbsp;<span class="op" id="8310300">(</span><span class="builtinfunc" id="8310301">len</span><span class="op" id="8310304">(</span><span class="ident" id="8310305">test</span><span class="op" id="8310309">.</span><span class="ident" id="8310310">matches</span><span class="op" id="8310317">)</span>&nbsp;<span class="op" id="8310319">&gt;</span>&nbsp;<span class="num" id="8310321">0</span><span class="op" id="8310322">)</span>&nbsp;<span class="op" id="8310324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8310328">t</span><span class="op" id="8310329">.</span><span class="ident" id="8310330">Errorf</span><span class="op" id="8310336">(</span><span class="string" id="8310337">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="8310375">,</span>&nbsp;<span class="ident" id="8310377">test</span><span class="op" id="8310381">,</span>&nbsp;<span class="ident" id="8310383">m</span><span class="op" id="8310384">,</span>&nbsp;<span class="builtinfunc" id="8310386">len</span><span class="op" id="8310389">(</span><span class="ident" id="8310390">test</span><span class="op" id="8310394">.</span><span class="ident" id="8310395">matches</span><span class="op" id="8310402">)</span>&nbsp;<span class="op" id="8310404">&gt;</span>&nbsp;<span class="num" id="8310406">0</span><span class="op" id="8310407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8310410">}</span><br>
<span class="lineno"></span><span class="op" id="8310412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="8310415">func</span>&nbsp;<span class="ident" id="8310420">TestMatchFunction</span><span class="op" id="8310437">(</span><span class="ident" id="8310438">t</span>&nbsp;<span class="op" id="8310440">*</span><span class="ident" id="8310441">testing</span><span class="op" id="8310448">.</span><span class="ident" id="8310449">T</span><span class="op" id="8310450">)</span>&nbsp;<span class="op" id="8310452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8310455">for</span>&nbsp;<span class="ident" id="8310459">_</span><span class="op" id="8310460">,</span>&nbsp;<span class="ident" id="8310462">test</span>&nbsp;<span class="op" id="8310467">:=</span>&nbsp;<span class="keyword" id="8310470">range</span>&nbsp;<span class="ident" id="8310476">findTests</span>&nbsp;<span class="op" id="8310486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8310490">matchFunctionTest</span><span class="op" id="8310507">(</span><span class="ident" id="8310508">t</span><span class="op" id="8310509">,</span>&nbsp;<span class="op" id="8310511">&amp;</span><span class="ident" id="8310512">test</span><span class="op" id="8310516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8310519">}</span><br>
<span class="lineno"></span><span class="op" id="8310521">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="keyword" id="8310524">type</span>&nbsp;<span class="ident" id="8310529">ReplaceTest</span>&nbsp;<span class="keyword" id="8310541">struct</span>&nbsp;<span class="op" id="8310548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8310551">pattern</span><span class="op" id="8310558">,</span>&nbsp;<span class="ident" id="8310560">replacement</span><span class="op" id="8310571">,</span>&nbsp;<span class="ident" id="8310573">input</span><span class="op" id="8310578">,</span>&nbsp;<span class="ident" id="8310580">output</span>&nbsp;<span class="builtintype" id="8310587">string</span><br>
<span class="lineno"></span><span class="op" id="8310594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="8310597">var</span>&nbsp;<span class="ident" id="8310601">replaceTests</span>&nbsp;<span class="op" id="8310614">=</span>&nbsp;<span class="op" id="8310616">[</span><span class="op" id="8310617">]</span><span class="ident" id="8310618">ReplaceTest</span><span class="op" id="8310629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8310632">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;matches&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8310717">{</span><span class="string" id="8310718">&#34;&#34;</span><span class="op" id="8310720">,</span>&nbsp;<span class="string" id="8310722">&#34;&#34;</span><span class="op" id="8310724">,</span>&nbsp;<span class="string" id="8310726">&#34;&#34;</span><span class="op" id="8310728">,</span>&nbsp;<span class="string" id="8310730">&#34;&#34;</span><span class="op" id="8310732">}</span><span class="op" id="8310733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8310736">{</span><span class="string" id="8310737">&#34;&#34;</span><span class="op" id="8310739">,</span>&nbsp;<span class="string" id="8310741">&#34;x&#34;</span><span class="op" id="8310744">,</span>&nbsp;<span class="string" id="8310746">&#34;&#34;</span><span class="op" id="8310748">,</span>&nbsp;<span class="string" id="8310750">&#34;x&#34;</span><span class="op" id="8310753">}</span><span class="op" id="8310754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8310757">{</span><span class="string" id="8310758">&#34;&#34;</span><span class="op" id="8310760">,</span>&nbsp;<span class="string" id="8310762">&#34;&#34;</span><span class="op" id="8310764">,</span>&nbsp;<span class="string" id="8310766">&#34;abc&#34;</span><span class="op" id="8310771">,</span>&nbsp;<span class="string" id="8310773">&#34;abc&#34;</span><span class="op" id="8310778">}</span><span class="op" id="8310779">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8310782">{</span><span class="string" id="8310783">&#34;&#34;</span><span class="op" id="8310785">,</span>&nbsp;<span class="string" id="8310787">&#34;x&#34;</span><span class="op" id="8310790">,</span>&nbsp;<span class="string" id="8310792">&#34;abc&#34;</span><span class="op" id="8310797">,</span>&nbsp;<span class="string" id="8310799">&#34;xaxbxcx&#34;</span><span class="op" id="8310808">}</span><span class="op" id="8310809">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8310813">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;does&nbsp;not&nbsp;match&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8310905">{</span><span class="string" id="8310906">&#34;b&#34;</span><span class="op" id="8310909">,</span>&nbsp;<span class="string" id="8310911">&#34;&#34;</span><span class="op" id="8310913">,</span>&nbsp;<span class="string" id="8310915">&#34;&#34;</span><span class="op" id="8310917">,</span>&nbsp;<span class="string" id="8310919">&#34;&#34;</span><span class="op" id="8310921">}</span><span class="op" id="8310922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8310925">{</span><span class="string" id="8310926">&#34;b&#34;</span><span class="op" id="8310929">,</span>&nbsp;<span class="string" id="8310931">&#34;x&#34;</span><span class="op" id="8310934">,</span>&nbsp;<span class="string" id="8310936">&#34;&#34;</span><span class="op" id="8310938">,</span>&nbsp;<span class="string" id="8310940">&#34;&#34;</span><span class="op" id="8310942">}</span><span class="op" id="8310943">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8310946">{</span><span class="string" id="8310947">&#34;b&#34;</span><span class="op" id="8310950">,</span>&nbsp;<span class="string" id="8310952">&#34;&#34;</span><span class="op" id="8310954">,</span>&nbsp;<span class="string" id="8310956">&#34;abc&#34;</span><span class="op" id="8310961">,</span>&nbsp;<span class="string" id="8310963">&#34;ac&#34;</span><span class="op" id="8310967">}</span><span class="op" id="8310968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8310971">{</span><span class="string" id="8310972">&#34;b&#34;</span><span class="op" id="8310975">,</span>&nbsp;<span class="string" id="8310977">&#34;x&#34;</span><span class="op" id="8310980">,</span>&nbsp;<span class="string" id="8310982">&#34;abc&#34;</span><span class="op" id="8310987">,</span>&nbsp;<span class="string" id="8310989">&#34;axc&#34;</span><span class="op" id="8310994">}</span><span class="op" id="8310995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8310998">{</span><span class="string" id="8310999">&#34;y&#34;</span><span class="op" id="8311002">,</span>&nbsp;<span class="string" id="8311004">&#34;&#34;</span><span class="op" id="8311006">,</span>&nbsp;<span class="string" id="8311008">&#34;&#34;</span><span class="op" id="8311010">,</span>&nbsp;<span class="string" id="8311012">&#34;&#34;</span><span class="op" id="8311014">}</span><span class="op" id="8311015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311018">{</span><span class="string" id="8311019">&#34;y&#34;</span><span class="op" id="8311022">,</span>&nbsp;<span class="string" id="8311024">&#34;x&#34;</span><span class="op" id="8311027">,</span>&nbsp;<span class="string" id="8311029">&#34;&#34;</span><span class="op" id="8311031">,</span>&nbsp;<span class="string" id="8311033">&#34;&#34;</span><span class="op" id="8311035">}</span><span class="op" id="8311036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311039">{</span><span class="string" id="8311040">&#34;y&#34;</span><span class="op" id="8311043">,</span>&nbsp;<span class="string" id="8311045">&#34;&#34;</span><span class="op" id="8311047">,</span>&nbsp;<span class="string" id="8311049">&#34;abc&#34;</span><span class="op" id="8311054">,</span>&nbsp;<span class="string" id="8311056">&#34;abc&#34;</span><span class="op" id="8311061">}</span><span class="op" id="8311062">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311065">{</span><span class="string" id="8311066">&#34;y&#34;</span><span class="op" id="8311069">,</span>&nbsp;<span class="string" id="8311071">&#34;x&#34;</span><span class="op" id="8311074">,</span>&nbsp;<span class="string" id="8311076">&#34;abc&#34;</span><span class="op" id="8311081">,</span>&nbsp;<span class="string" id="8311083">&#34;abc&#34;</span><span class="op" id="8311088">}</span><span class="op" id="8311089">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8311093">//&nbsp;Multibyte&nbsp;characters&nbsp;--&nbsp;verify&nbsp;that&nbsp;we&nbsp;don&#39;t&nbsp;try&nbsp;to&nbsp;match&nbsp;in&nbsp;the&nbsp;middle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8311169">//&nbsp;of&nbsp;a&nbsp;character.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311189">{</span><span class="string" id="8311190">&#34;[a-c]*&#34;</span><span class="op" id="8311198">,</span>&nbsp;<span class="string" id="8311200">&#34;x&#34;</span><span class="op" id="8311203">,</span>&nbsp;<span class="string" id="8311205">&#34;\u65e5&#34;</span><span class="op" id="8311213">,</span>&nbsp;<span class="string" id="8311215">&#34;x\u65e5x&#34;</span><span class="op" id="8311225">}</span><span class="op" id="8311226">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311229">{</span><span class="string" id="8311230">&#34;[^\u65e5]&#34;</span><span class="op" id="8311241">,</span>&nbsp;<span class="string" id="8311243">&#34;x&#34;</span><span class="op" id="8311246">,</span>&nbsp;<span class="string" id="8311248">&#34;abc\u65e5def&#34;</span><span class="op" id="8311262">,</span>&nbsp;<span class="string" id="8311264">&#34;xxx\u65e5xxx&#34;</span><span class="op" id="8311278">}</span><span class="op" id="8311279">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8311283">//&nbsp;Start&nbsp;and&nbsp;end&nbsp;of&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311314">{</span><span class="string" id="8311315">&#34;^[a-c]*&#34;</span><span class="op" id="8311324">,</span>&nbsp;<span class="string" id="8311326">&#34;x&#34;</span><span class="op" id="8311329">,</span>&nbsp;<span class="string" id="8311331">&#34;abcdabc&#34;</span><span class="op" id="8311340">,</span>&nbsp;<span class="string" id="8311342">&#34;xdabc&#34;</span><span class="op" id="8311349">}</span><span class="op" id="8311350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311353">{</span><span class="string" id="8311354">&#34;[a-c]*$&#34;</span><span class="op" id="8311363">,</span>&nbsp;<span class="string" id="8311365">&#34;x&#34;</span><span class="op" id="8311368">,</span>&nbsp;<span class="string" id="8311370">&#34;abcdabc&#34;</span><span class="op" id="8311379">,</span>&nbsp;<span class="string" id="8311381">&#34;abcdx&#34;</span><span class="op" id="8311388">}</span><span class="op" id="8311389">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311392">{</span><span class="string" id="8311393">&#34;^[a-c]*$&#34;</span><span class="op" id="8311403">,</span>&nbsp;<span class="string" id="8311405">&#34;x&#34;</span><span class="op" id="8311408">,</span>&nbsp;<span class="string" id="8311410">&#34;abcdabc&#34;</span><span class="op" id="8311419">,</span>&nbsp;<span class="string" id="8311421">&#34;abcdabc&#34;</span><span class="op" id="8311430">}</span><span class="op" id="8311431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311434">{</span><span class="string" id="8311435">&#34;^[a-c]*&#34;</span><span class="op" id="8311444">,</span>&nbsp;<span class="string" id="8311446">&#34;x&#34;</span><span class="op" id="8311449">,</span>&nbsp;<span class="string" id="8311451">&#34;abc&#34;</span><span class="op" id="8311456">,</span>&nbsp;<span class="string" id="8311458">&#34;x&#34;</span><span class="op" id="8311461">}</span><span class="op" id="8311462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311465">{</span><span class="string" id="8311466">&#34;[a-c]*$&#34;</span><span class="op" id="8311475">,</span>&nbsp;<span class="string" id="8311477">&#34;x&#34;</span><span class="op" id="8311480">,</span>&nbsp;<span class="string" id="8311482">&#34;abc&#34;</span><span class="op" id="8311487">,</span>&nbsp;<span class="string" id="8311489">&#34;x&#34;</span><span class="op" id="8311492">}</span><span class="op" id="8311493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311496">{</span><span class="string" id="8311497">&#34;^[a-c]*$&#34;</span><span class="op" id="8311507">,</span>&nbsp;<span class="string" id="8311509">&#34;x&#34;</span><span class="op" id="8311512">,</span>&nbsp;<span class="string" id="8311514">&#34;abc&#34;</span><span class="op" id="8311519">,</span>&nbsp;<span class="string" id="8311521">&#34;x&#34;</span><span class="op" id="8311524">}</span><span class="op" id="8311525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311528">{</span><span class="string" id="8311529">&#34;^[a-c]*&#34;</span><span class="op" id="8311538">,</span>&nbsp;<span class="string" id="8311540">&#34;x&#34;</span><span class="op" id="8311543">,</span>&nbsp;<span class="string" id="8311545">&#34;dabce&#34;</span><span class="op" id="8311552">,</span>&nbsp;<span class="string" id="8311554">&#34;xdabce&#34;</span><span class="op" id="8311562">}</span><span class="op" id="8311563">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311566">{</span><span class="string" id="8311567">&#34;[a-c]*$&#34;</span><span class="op" id="8311576">,</span>&nbsp;<span class="string" id="8311578">&#34;x&#34;</span><span class="op" id="8311581">,</span>&nbsp;<span class="string" id="8311583">&#34;dabce&#34;</span><span class="op" id="8311590">,</span>&nbsp;<span class="string" id="8311592">&#34;dabcex&#34;</span><span class="op" id="8311600">}</span><span class="op" id="8311601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311604">{</span><span class="string" id="8311605">&#34;^[a-c]*$&#34;</span><span class="op" id="8311615">,</span>&nbsp;<span class="string" id="8311617">&#34;x&#34;</span><span class="op" id="8311620">,</span>&nbsp;<span class="string" id="8311622">&#34;dabce&#34;</span><span class="op" id="8311629">,</span>&nbsp;<span class="string" id="8311631">&#34;dabce&#34;</span><span class="op" id="8311638">}</span><span class="op" id="8311639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311642">{</span><span class="string" id="8311643">&#34;^[a-c]*&#34;</span><span class="op" id="8311652">,</span>&nbsp;<span class="string" id="8311654">&#34;x&#34;</span><span class="op" id="8311657">,</span>&nbsp;<span class="string" id="8311659">&#34;&#34;</span><span class="op" id="8311661">,</span>&nbsp;<span class="string" id="8311663">&#34;x&#34;</span><span class="op" id="8311666">}</span><span class="op" id="8311667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311670">{</span><span class="string" id="8311671">&#34;[a-c]*$&#34;</span><span class="op" id="8311680">,</span>&nbsp;<span class="string" id="8311682">&#34;x&#34;</span><span class="op" id="8311685">,</span>&nbsp;<span class="string" id="8311687">&#34;&#34;</span><span class="op" id="8311689">,</span>&nbsp;<span class="string" id="8311691">&#34;x&#34;</span><span class="op" id="8311694">}</span><span class="op" id="8311695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311698">{</span><span class="string" id="8311699">&#34;^[a-c]*$&#34;</span><span class="op" id="8311709">,</span>&nbsp;<span class="string" id="8311711">&#34;x&#34;</span><span class="op" id="8311714">,</span>&nbsp;<span class="string" id="8311716">&#34;&#34;</span><span class="op" id="8311718">,</span>&nbsp;<span class="string" id="8311720">&#34;x&#34;</span><span class="op" id="8311723">}</span><span class="op" id="8311724">,</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311728">{</span><span class="string" id="8311729">&#34;^[a-c]+&#34;</span><span class="op" id="8311738">,</span>&nbsp;<span class="string" id="8311740">&#34;x&#34;</span><span class="op" id="8311743">,</span>&nbsp;<span class="string" id="8311745">&#34;abcdabc&#34;</span><span class="op" id="8311754">,</span>&nbsp;<span class="string" id="8311756">&#34;xdabc&#34;</span><span class="op" id="8311763">}</span><span class="op" id="8311764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311767">{</span><span class="string" id="8311768">&#34;[a-c]+$&#34;</span><span class="op" id="8311777">,</span>&nbsp;<span class="string" id="8311779">&#34;x&#34;</span><span class="op" id="8311782">,</span>&nbsp;<span class="string" id="8311784">&#34;abcdabc&#34;</span><span class="op" id="8311793">,</span>&nbsp;<span class="string" id="8311795">&#34;abcdx&#34;</span><span class="op" id="8311802">}</span><span class="op" id="8311803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311806">{</span><span class="string" id="8311807">&#34;^[a-c]+$&#34;</span><span class="op" id="8311817">,</span>&nbsp;<span class="string" id="8311819">&#34;x&#34;</span><span class="op" id="8311822">,</span>&nbsp;<span class="string" id="8311824">&#34;abcdabc&#34;</span><span class="op" id="8311833">,</span>&nbsp;<span class="string" id="8311835">&#34;abcdabc&#34;</span><span class="op" id="8311844">}</span><span class="op" id="8311845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311848">{</span><span class="string" id="8311849">&#34;^[a-c]+&#34;</span><span class="op" id="8311858">,</span>&nbsp;<span class="string" id="8311860">&#34;x&#34;</span><span class="op" id="8311863">,</span>&nbsp;<span class="string" id="8311865">&#34;abc&#34;</span><span class="op" id="8311870">,</span>&nbsp;<span class="string" id="8311872">&#34;x&#34;</span><span class="op" id="8311875">}</span><span class="op" id="8311876">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311879">{</span><span class="string" id="8311880">&#34;[a-c]+$&#34;</span><span class="op" id="8311889">,</span>&nbsp;<span class="string" id="8311891">&#34;x&#34;</span><span class="op" id="8311894">,</span>&nbsp;<span class="string" id="8311896">&#34;abc&#34;</span><span class="op" id="8311901">,</span>&nbsp;<span class="string" id="8311903">&#34;x&#34;</span><span class="op" id="8311906">}</span><span class="op" id="8311907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311910">{</span><span class="string" id="8311911">&#34;^[a-c]+$&#34;</span><span class="op" id="8311921">,</span>&nbsp;<span class="string" id="8311923">&#34;x&#34;</span><span class="op" id="8311926">,</span>&nbsp;<span class="string" id="8311928">&#34;abc&#34;</span><span class="op" id="8311933">,</span>&nbsp;<span class="string" id="8311935">&#34;x&#34;</span><span class="op" id="8311938">}</span><span class="op" id="8311939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311942">{</span><span class="string" id="8311943">&#34;^[a-c]+&#34;</span><span class="op" id="8311952">,</span>&nbsp;<span class="string" id="8311954">&#34;x&#34;</span><span class="op" id="8311957">,</span>&nbsp;<span class="string" id="8311959">&#34;dabce&#34;</span><span class="op" id="8311966">,</span>&nbsp;<span class="string" id="8311968">&#34;dabce&#34;</span><span class="op" id="8311975">}</span><span class="op" id="8311976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8311979">{</span><span class="string" id="8311980">&#34;[a-c]+$&#34;</span><span class="op" id="8311989">,</span>&nbsp;<span class="string" id="8311991">&#34;x&#34;</span><span class="op" id="8311994">,</span>&nbsp;<span class="string" id="8311996">&#34;dabce&#34;</span><span class="op" id="8312003">,</span>&nbsp;<span class="string" id="8312005">&#34;dabce&#34;</span><span class="op" id="8312012">}</span><span class="op" id="8312013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312016">{</span><span class="string" id="8312017">&#34;^[a-c]+$&#34;</span><span class="op" id="8312027">,</span>&nbsp;<span class="string" id="8312029">&#34;x&#34;</span><span class="op" id="8312032">,</span>&nbsp;<span class="string" id="8312034">&#34;dabce&#34;</span><span class="op" id="8312041">,</span>&nbsp;<span class="string" id="8312043">&#34;dabce&#34;</span><span class="op" id="8312050">}</span><span class="op" id="8312051">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312054">{</span><span class="string" id="8312055">&#34;^[a-c]+&#34;</span><span class="op" id="8312064">,</span>&nbsp;<span class="string" id="8312066">&#34;x&#34;</span><span class="op" id="8312069">,</span>&nbsp;<span class="string" id="8312071">&#34;&#34;</span><span class="op" id="8312073">,</span>&nbsp;<span class="string" id="8312075">&#34;&#34;</span><span class="op" id="8312077">}</span><span class="op" id="8312078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312081">{</span><span class="string" id="8312082">&#34;[a-c]+$&#34;</span><span class="op" id="8312091">,</span>&nbsp;<span class="string" id="8312093">&#34;x&#34;</span><span class="op" id="8312096">,</span>&nbsp;<span class="string" id="8312098">&#34;&#34;</span><span class="op" id="8312100">,</span>&nbsp;<span class="string" id="8312102">&#34;&#34;</span><span class="op" id="8312104">}</span><span class="op" id="8312105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312108">{</span><span class="string" id="8312109">&#34;^[a-c]+$&#34;</span><span class="op" id="8312119">,</span>&nbsp;<span class="string" id="8312121">&#34;x&#34;</span><span class="op" id="8312124">,</span>&nbsp;<span class="string" id="8312126">&#34;&#34;</span><span class="op" id="8312128">,</span>&nbsp;<span class="string" id="8312130">&#34;&#34;</span><span class="op" id="8312132">}</span><span class="op" id="8312133">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8312137">//&nbsp;Other&nbsp;cases.</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312154">{</span><span class="string" id="8312155">&#34;abc&#34;</span><span class="op" id="8312160">,</span>&nbsp;<span class="string" id="8312162">&#34;def&#34;</span><span class="op" id="8312167">,</span>&nbsp;<span class="string" id="8312169">&#34;abcdefg&#34;</span><span class="op" id="8312178">,</span>&nbsp;<span class="string" id="8312180">&#34;defdefg&#34;</span><span class="op" id="8312189">}</span><span class="op" id="8312190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312193">{</span><span class="string" id="8312194">&#34;bc&#34;</span><span class="op" id="8312198">,</span>&nbsp;<span class="string" id="8312200">&#34;BC&#34;</span><span class="op" id="8312204">,</span>&nbsp;<span class="string" id="8312206">&#34;abcbcdcdedef&#34;</span><span class="op" id="8312220">,</span>&nbsp;<span class="string" id="8312222">&#34;aBCBCdcdedef&#34;</span><span class="op" id="8312236">}</span><span class="op" id="8312237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312240">{</span><span class="string" id="8312241">&#34;abc&#34;</span><span class="op" id="8312246">,</span>&nbsp;<span class="string" id="8312248">&#34;&#34;</span><span class="op" id="8312250">,</span>&nbsp;<span class="string" id="8312252">&#34;abcdabc&#34;</span><span class="op" id="8312261">,</span>&nbsp;<span class="string" id="8312263">&#34;d&#34;</span><span class="op" id="8312266">}</span><span class="op" id="8312267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312270">{</span><span class="string" id="8312271">&#34;x&#34;</span><span class="op" id="8312274">,</span>&nbsp;<span class="string" id="8312276">&#34;xXx&#34;</span><span class="op" id="8312281">,</span>&nbsp;<span class="string" id="8312283">&#34;xxxXxxx&#34;</span><span class="op" id="8312292">,</span>&nbsp;<span class="string" id="8312294">&#34;xXxxXxxXxXxXxxXxxXx&#34;</span><span class="op" id="8312315">}</span><span class="op" id="8312316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312319">{</span><span class="string" id="8312320">&#34;abc&#34;</span><span class="op" id="8312325">,</span>&nbsp;<span class="string" id="8312327">&#34;d&#34;</span><span class="op" id="8312330">,</span>&nbsp;<span class="string" id="8312332">&#34;&#34;</span><span class="op" id="8312334">,</span>&nbsp;<span class="string" id="8312336">&#34;&#34;</span><span class="op" id="8312338">}</span><span class="op" id="8312339">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312342">{</span><span class="string" id="8312343">&#34;abc&#34;</span><span class="op" id="8312348">,</span>&nbsp;<span class="string" id="8312350">&#34;d&#34;</span><span class="op" id="8312353">,</span>&nbsp;<span class="string" id="8312355">&#34;abc&#34;</span><span class="op" id="8312360">,</span>&nbsp;<span class="string" id="8312362">&#34;d&#34;</span><span class="op" id="8312365">}</span><span class="op" id="8312366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312369">{</span><span class="string" id="8312370">&#34;.+&#34;</span><span class="op" id="8312374">,</span>&nbsp;<span class="string" id="8312376">&#34;x&#34;</span><span class="op" id="8312379">,</span>&nbsp;<span class="string" id="8312381">&#34;abc&#34;</span><span class="op" id="8312386">,</span>&nbsp;<span class="string" id="8312388">&#34;x&#34;</span><span class="op" id="8312391">}</span><span class="op" id="8312392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312395">{</span><span class="string" id="8312396">&#34;[a-c]*&#34;</span><span class="op" id="8312404">,</span>&nbsp;<span class="string" id="8312406">&#34;x&#34;</span><span class="op" id="8312409">,</span>&nbsp;<span class="string" id="8312411">&#34;def&#34;</span><span class="op" id="8312416">,</span>&nbsp;<span class="string" id="8312418">&#34;xdxexfx&#34;</span><span class="op" id="8312427">}</span><span class="op" id="8312428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312431">{</span><span class="string" id="8312432">&#34;[a-c]+&#34;</span><span class="op" id="8312440">,</span>&nbsp;<span class="string" id="8312442">&#34;x&#34;</span><span class="op" id="8312445">,</span>&nbsp;<span class="string" id="8312447">&#34;abcbcdcdedef&#34;</span><span class="op" id="8312461">,</span>&nbsp;<span class="string" id="8312463">&#34;xdxdedef&#34;</span><span class="op" id="8312473">}</span><span class="op" id="8312474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312477">{</span><span class="string" id="8312478">&#34;[a-c]*&#34;</span><span class="op" id="8312486">,</span>&nbsp;<span class="string" id="8312488">&#34;x&#34;</span><span class="op" id="8312491">,</span>&nbsp;<span class="string" id="8312493">&#34;abcbcdcdedef&#34;</span><span class="op" id="8312507">,</span>&nbsp;<span class="string" id="8312509">&#34;xdxdxexdxexfx&#34;</span><span class="op" id="8312524">}</span><span class="op" id="8312525">,</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8312529">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312547">{</span><span class="string" id="8312548">&#34;a+&#34;</span><span class="op" id="8312552">,</span>&nbsp;<span class="string" id="8312554">&#34;($0)&#34;</span><span class="op" id="8312560">,</span>&nbsp;<span class="string" id="8312562">&#34;banana&#34;</span><span class="op" id="8312570">,</span>&nbsp;<span class="string" id="8312572">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="8312586">}</span><span class="op" id="8312587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312590">{</span><span class="string" id="8312591">&#34;a+&#34;</span><span class="op" id="8312595">,</span>&nbsp;<span class="string" id="8312597">&#34;(${0})&#34;</span><span class="op" id="8312605">,</span>&nbsp;<span class="string" id="8312607">&#34;banana&#34;</span><span class="op" id="8312615">,</span>&nbsp;<span class="string" id="8312617">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="8312631">}</span><span class="op" id="8312632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312635">{</span><span class="string" id="8312636">&#34;a+&#34;</span><span class="op" id="8312640">,</span>&nbsp;<span class="string" id="8312642">&#34;(${0})$0&#34;</span><span class="op" id="8312652">,</span>&nbsp;<span class="string" id="8312654">&#34;banana&#34;</span><span class="op" id="8312662">,</span>&nbsp;<span class="string" id="8312664">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="8312681">}</span><span class="op" id="8312682">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312685">{</span><span class="string" id="8312686">&#34;a+&#34;</span><span class="op" id="8312690">,</span>&nbsp;<span class="string" id="8312692">&#34;(${0})$0&#34;</span><span class="op" id="8312702">,</span>&nbsp;<span class="string" id="8312704">&#34;banana&#34;</span><span class="op" id="8312712">,</span>&nbsp;<span class="string" id="8312714">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="8312731">}</span><span class="op" id="8312732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312735">{</span><span class="string" id="8312736">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="8312749">,</span>&nbsp;<span class="string" id="8312751">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="8312766">,</span>&nbsp;<span class="string" id="8312768">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8312782">,</span>&nbsp;<span class="string" id="8312784">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="8312800">}</span><span class="op" id="8312801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312804">{</span><span class="string" id="8312805">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="8312818">,</span>&nbsp;<span class="string" id="8312820">&#34;goodbye,&nbsp;$1x&#34;</span><span class="op" id="8312834">,</span>&nbsp;<span class="string" id="8312836">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8312850">,</span>&nbsp;<span class="string" id="8312852">&#34;goodbye,&nbsp;&#34;</span><span class="op" id="8312863">}</span><span class="op" id="8312864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312867">{</span><span class="string" id="8312868">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="8312881">,</span>&nbsp;<span class="string" id="8312883">&#34;goodbye,&nbsp;${1}x&#34;</span><span class="op" id="8312899">,</span>&nbsp;<span class="string" id="8312901">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8312915">,</span>&nbsp;<span class="string" id="8312917">&#34;goodbye,&nbsp;worldx&#34;</span><span class="op" id="8312934">}</span><span class="op" id="8312935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312938">{</span><span class="string" id="8312939">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="8312952">,</span>&nbsp;<span class="string" id="8312954">&#34;&lt;$0&gt;&lt;$1&gt;&lt;$2&gt;&lt;$3&gt;&#34;</span><span class="op" id="8312972">,</span>&nbsp;<span class="string" id="8312974">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8312988">,</span>&nbsp;<span class="string" id="8312990">&#34;&lt;hello,&nbsp;world&gt;&lt;world&gt;&lt;&gt;&lt;&gt;&#34;</span><span class="op" id="8313017">}</span><span class="op" id="8313018">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313021">{</span><span class="string" id="8313022">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="8313043">,</span>&nbsp;<span class="string" id="8313045">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="8313062">,</span>&nbsp;<span class="string" id="8313064">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8313078">,</span>&nbsp;<span class="string" id="8313080">&#34;goodbye,&nbsp;world!&#34;</span><span class="op" id="8313097">}</span><span class="op" id="8313098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313101">{</span><span class="string" id="8313102">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="8313123">,</span>&nbsp;<span class="string" id="8313125">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="8313143">,</span>&nbsp;<span class="string" id="8313145">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8313159">,</span>&nbsp;<span class="string" id="8313161">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="8313177">}</span><span class="op" id="8313178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313181">{</span><span class="string" id="8313182">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8313204">,</span>&nbsp;<span class="string" id="8313206">&#34;$x$x$x&#34;</span><span class="op" id="8313214">,</span>&nbsp;<span class="string" id="8313216">&#34;hi&#34;</span><span class="op" id="8313220">,</span>&nbsp;<span class="string" id="8313222">&#34;hihihi&#34;</span><span class="op" id="8313230">}</span><span class="op" id="8313231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313234">{</span><span class="string" id="8313235">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8313257">,</span>&nbsp;<span class="string" id="8313259">&#34;$x$x$x&#34;</span><span class="op" id="8313267">,</span>&nbsp;<span class="string" id="8313269">&#34;bye&#34;</span><span class="op" id="8313274">,</span>&nbsp;<span class="string" id="8313276">&#34;byebyebye&#34;</span><span class="op" id="8313287">}</span><span class="op" id="8313288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313291">{</span><span class="string" id="8313292">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8313314">,</span>&nbsp;<span class="string" id="8313316">&#34;$xyz&#34;</span><span class="op" id="8313322">,</span>&nbsp;<span class="string" id="8313324">&#34;hi&#34;</span><span class="op" id="8313328">,</span>&nbsp;<span class="string" id="8313330">&#34;&#34;</span><span class="op" id="8313332">}</span><span class="op" id="8313333">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313336">{</span><span class="string" id="8313337">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8313359">,</span>&nbsp;<span class="string" id="8313361">&#34;${x}yz&#34;</span><span class="op" id="8313369">,</span>&nbsp;<span class="string" id="8313371">&#34;hi&#34;</span><span class="op" id="8313375">,</span>&nbsp;<span class="string" id="8313377">&#34;hiyz&#34;</span><span class="op" id="8313383">}</span><span class="op" id="8313384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313387">{</span><span class="string" id="8313388">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8313410">,</span>&nbsp;<span class="string" id="8313412">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="8313423">,</span>&nbsp;<span class="string" id="8313425">&#34;hi&#34;</span><span class="op" id="8313429">,</span>&nbsp;<span class="string" id="8313431">&#34;hello&nbsp;$x&#34;</span><span class="op" id="8313441">}</span><span class="op" id="8313442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313445">{</span><span class="string" id="8313446">&#34;a+&#34;</span><span class="op" id="8313450">,</span>&nbsp;<span class="string" id="8313452">&#34;${oops&#34;</span><span class="op" id="8313460">,</span>&nbsp;<span class="string" id="8313462">&#34;aaa&#34;</span><span class="op" id="8313467">,</span>&nbsp;<span class="string" id="8313469">&#34;${oops&#34;</span><span class="op" id="8313477">}</span><span class="op" id="8313478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313481">{</span><span class="string" id="8313482">&#34;a+&#34;</span><span class="op" id="8313486">,</span>&nbsp;<span class="string" id="8313488">&#34;$$&#34;</span><span class="op" id="8313492">,</span>&nbsp;<span class="string" id="8313494">&#34;aaa&#34;</span><span class="op" id="8313499">,</span>&nbsp;<span class="string" id="8313501">&#34;$&#34;</span><span class="op" id="8313504">}</span><span class="op" id="8313505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313508">{</span><span class="string" id="8313509">&#34;a+&#34;</span><span class="op" id="8313513">,</span>&nbsp;<span class="string" id="8313515">&#34;$&#34;</span><span class="op" id="8313518">,</span>&nbsp;<span class="string" id="8313520">&#34;aaa&#34;</span><span class="op" id="8313525">,</span>&nbsp;<span class="string" id="8313527">&#34;$&#34;</span><span class="op" id="8313530">}</span><span class="op" id="8313531">,</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8313535">//&nbsp;Substitution&nbsp;when&nbsp;subexpression&nbsp;isn&#39;t&nbsp;found</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313583">{</span><span class="string" id="8313584">&#34;(x)?&#34;</span><span class="op" id="8313590">,</span>&nbsp;<span class="string" id="8313592">&#34;$1&#34;</span><span class="op" id="8313596">,</span>&nbsp;<span class="string" id="8313598">&#34;123&#34;</span><span class="op" id="8313603">,</span>&nbsp;<span class="string" id="8313605">&#34;123&#34;</span><span class="op" id="8313610">}</span><span class="op" id="8313611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313614">{</span><span class="string" id="8313615">&#34;abc&#34;</span><span class="op" id="8313620">,</span>&nbsp;<span class="string" id="8313622">&#34;$1&#34;</span><span class="op" id="8313626">,</span>&nbsp;<span class="string" id="8313628">&#34;123&#34;</span><span class="op" id="8313633">,</span>&nbsp;<span class="string" id="8313635">&#34;123&#34;</span><span class="op" id="8313640">}</span><span class="op" id="8313641">,</span><br>
<span class="lineno"></span><span class="op" id="8313643">}</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="keyword" id="8313646">var</span>&nbsp;<span class="ident" id="8313650">replaceLiteralTests</span>&nbsp;<span class="op" id="8313670">=</span>&nbsp;<span class="op" id="8313672">[</span><span class="op" id="8313673">]</span><span class="ident" id="8313674">ReplaceTest</span><span class="op" id="8313685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8313688">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313706">{</span><span class="string" id="8313707">&#34;a+&#34;</span><span class="op" id="8313711">,</span>&nbsp;<span class="string" id="8313713">&#34;($0)&#34;</span><span class="op" id="8313719">,</span>&nbsp;<span class="string" id="8313721">&#34;banana&#34;</span><span class="op" id="8313729">,</span>&nbsp;<span class="string" id="8313731">&#34;b($0)n($0)n($0)&#34;</span><span class="op" id="8313748">}</span><span class="op" id="8313749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313752">{</span><span class="string" id="8313753">&#34;a+&#34;</span><span class="op" id="8313757">,</span>&nbsp;<span class="string" id="8313759">&#34;(${0})&#34;</span><span class="op" id="8313767">,</span>&nbsp;<span class="string" id="8313769">&#34;banana&#34;</span><span class="op" id="8313777">,</span>&nbsp;<span class="string" id="8313779">&#34;b(${0})n(${0})n(${0})&#34;</span><span class="op" id="8313802">}</span><span class="op" id="8313803">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313806">{</span><span class="string" id="8313807">&#34;a+&#34;</span><span class="op" id="8313811">,</span>&nbsp;<span class="string" id="8313813">&#34;(${0})$0&#34;</span><span class="op" id="8313823">,</span>&nbsp;<span class="string" id="8313825">&#34;banana&#34;</span><span class="op" id="8313833">,</span>&nbsp;<span class="string" id="8313835">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="8313864">}</span><span class="op" id="8313865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313868">{</span><span class="string" id="8313869">&#34;a+&#34;</span><span class="op" id="8313873">,</span>&nbsp;<span class="string" id="8313875">&#34;(${0})$0&#34;</span><span class="op" id="8313885">,</span>&nbsp;<span class="string" id="8313887">&#34;banana&#34;</span><span class="op" id="8313895">,</span>&nbsp;<span class="string" id="8313897">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="8313926">}</span><span class="op" id="8313927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313930">{</span><span class="string" id="8313931">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="8313944">,</span>&nbsp;<span class="string" id="8313946">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="8313961">,</span>&nbsp;<span class="string" id="8313963">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8313977">,</span>&nbsp;<span class="string" id="8313979">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="8313994">}</span><span class="op" id="8313995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313998">{</span><span class="string" id="8313999">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="8314020">,</span>&nbsp;<span class="string" id="8314022">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="8314039">,</span>&nbsp;<span class="string" id="8314041">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8314055">,</span>&nbsp;<span class="string" id="8314057">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="8314074">}</span><span class="op" id="8314075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8314078">{</span><span class="string" id="8314079">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="8314100">,</span>&nbsp;<span class="string" id="8314102">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="8314120">,</span>&nbsp;<span class="string" id="8314122">&#34;hello,&nbsp;world&#34;</span><span class="op" id="8314136">,</span>&nbsp;<span class="string" id="8314138">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="8314156">}</span><span class="op" id="8314157">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8314160">{</span><span class="string" id="8314161">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8314183">,</span>&nbsp;<span class="string" id="8314185">&#34;$x$x$x&#34;</span><span class="op" id="8314193">,</span>&nbsp;<span class="string" id="8314195">&#34;hi&#34;</span><span class="op" id="8314199">,</span>&nbsp;<span class="string" id="8314201">&#34;$x$x$x&#34;</span><span class="op" id="8314209">}</span><span class="op" id="8314210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8314213">{</span><span class="string" id="8314214">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8314236">,</span>&nbsp;<span class="string" id="8314238">&#34;$x$x$x&#34;</span><span class="op" id="8314246">,</span>&nbsp;<span class="string" id="8314248">&#34;bye&#34;</span><span class="op" id="8314253">,</span>&nbsp;<span class="string" id="8314255">&#34;$x$x$x&#34;</span><span class="op" id="8314263">}</span><span class="op" id="8314264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8314267">{</span><span class="string" id="8314268">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8314290">,</span>&nbsp;<span class="string" id="8314292">&#34;$xyz&#34;</span><span class="op" id="8314298">,</span>&nbsp;<span class="string" id="8314300">&#34;hi&#34;</span><span class="op" id="8314304">,</span>&nbsp;<span class="string" id="8314306">&#34;$xyz&#34;</span><span class="op" id="8314312">}</span><span class="op" id="8314313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8314316">{</span><span class="string" id="8314317">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8314339">,</span>&nbsp;<span class="string" id="8314341">&#34;${x}yz&#34;</span><span class="op" id="8314349">,</span>&nbsp;<span class="string" id="8314351">&#34;hi&#34;</span><span class="op" id="8314355">,</span>&nbsp;<span class="string" id="8314357">&#34;${x}yz&#34;</span><span class="op" id="8314365">}</span><span class="op" id="8314366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8314369">{</span><span class="string" id="8314370">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="8314392">,</span>&nbsp;<span class="string" id="8314394">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="8314405">,</span>&nbsp;<span class="string" id="8314407">&#34;hi&#34;</span><span class="op" id="8314411">,</span>&nbsp;<span class="string" id="8314413">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="8314424">}</span><span class="op" id="8314425">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8314428">{</span><span class="string" id="8314429">&#34;a+&#34;</span><span class="op" id="8314433">,</span>&nbsp;<span class="string" id="8314435">&#34;${oops&#34;</span><span class="op" id="8314443">,</span>&nbsp;<span class="string" id="8314445">&#34;aaa&#34;</span><span class="op" id="8314450">,</span>&nbsp;<span class="string" id="8314452">&#34;${oops&#34;</span><span class="op" id="8314460">}</span><span class="op" id="8314461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8314464">{</span><span class="string" id="8314465">&#34;a+&#34;</span><span class="op" id="8314469">,</span>&nbsp;<span class="string" id="8314471">&#34;$$&#34;</span><span class="op" id="8314475">,</span>&nbsp;<span class="string" id="8314477">&#34;aaa&#34;</span><span class="op" id="8314482">,</span>&nbsp;<span class="string" id="8314484">&#34;$$&#34;</span><span class="op" id="8314488">}</span><span class="op" id="8314489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8314492">{</span><span class="string" id="8314493">&#34;a+&#34;</span><span class="op" id="8314497">,</span>&nbsp;<span class="string" id="8314499">&#34;$&#34;</span><span class="op" id="8314502">,</span>&nbsp;<span class="string" id="8314504">&#34;aaa&#34;</span><span class="op" id="8314509">,</span>&nbsp;<span class="string" id="8314511">&#34;$&#34;</span><span class="op" id="8314514">}</span><span class="op" id="8314515">,</span><br>
<span class="lineno"></span><span class="op" id="8314517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="8314520">type</span>&nbsp;<span class="ident" id="8314525">ReplaceFuncTest</span>&nbsp;<span class="keyword" id="8314541">struct</span>&nbsp;<span class="op" id="8314548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8314551">pattern</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8314565">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8314573">replacement</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="8314587">func</span><span class="op" id="8314591">(</span><span class="builtintype" id="8314592">string</span><span class="op" id="8314598">)</span>&nbsp;<span class="builtintype" id="8314600">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8314608">input</span><span class="op" id="8314613">,</span>&nbsp;<span class="ident" id="8314615">output</span>&nbsp;<span class="builtintype" id="8314622">string</span><br>
<span class="lineno"></span><span class="op" id="8314629">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="8314632">var</span>&nbsp;<span class="ident" id="8314636">replaceFuncTests</span>&nbsp;<span class="op" id="8314653">=</span>&nbsp;<span class="op" id="8314655">[</span><span class="op" id="8314656">]</span><span class="ident" id="8314657">ReplaceFuncTest</span><span class="op" id="8314672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8314675">{</span><span class="string" id="8314676">&#34;[a-c]&#34;</span><span class="op" id="8314683">,</span>&nbsp;<span class="keyword" id="8314685">func</span><span class="op" id="8314689">(</span><span class="ident" id="8314690">s</span>&nbsp;<span class="builtintype" id="8314692">string</span><span class="op" id="8314698">)</span>&nbsp;<span class="builtintype" id="8314700">string</span>&nbsp;<span class="op" id="8314707">{</span>&nbsp;<span class="keyword" id="8314709">return</span>&nbsp;<span class="string" id="8314716">&#34;x&#34;</span>&nbsp;<span class="op" id="8314720">+</span>&nbsp;<span class="ident" id="8314722">s</span>&nbsp;<span class="op" id="8314724">+</span>&nbsp;<span class="string" id="8314726">&#34;y&#34;</span>&nbsp;<span class="op" id="8314730">}</span><span class="op" id="8314731">,</span>&nbsp;<span class="string" id="8314733">&#34;defabcdef&#34;</span><span class="op" id="8314744">,</span>&nbsp;<span class="string" id="8314746">&#34;defxayxbyxcydef&#34;</span><span class="op" id="8314763">}</span><span class="op" id="8314764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8314767">{</span><span class="string" id="8314768">&#34;[a-c]+&#34;</span><span class="op" id="8314776">,</span>&nbsp;<span class="keyword" id="8314778">func</span><span class="op" id="8314782">(</span><span class="ident" id="8314783">s</span>&nbsp;<span class="builtintype" id="8314785">string</span><span class="op" id="8314791">)</span>&nbsp;<span class="builtintype" id="8314793">string</span>&nbsp;<span class="op" id="8314800">{</span>&nbsp;<span class="keyword" id="8314802">return</span>&nbsp;<span class="string" id="8314809">&#34;x&#34;</span>&nbsp;<span class="op" id="8314813">+</span>&nbsp;<span class="ident" id="8314815">s</span>&nbsp;<span class="op" id="8314817">+</span>&nbsp;<span class="string" id="8314819">&#34;y&#34;</span>&nbsp;<span class="op" id="8314823">}</span><span class="op" id="8314824">,</span>&nbsp;<span class="string" id="8314826">&#34;defabcdef&#34;</span><span class="op" id="8314837">,</span>&nbsp;<span class="string" id="8314839">&#34;defxabcydef&#34;</span><span class="op" id="8314852">}</span><span class="op" id="8314853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8314856">{</span><span class="string" id="8314857">&#34;[a-c]*&#34;</span><span class="op" id="8314865">,</span>&nbsp;<span class="keyword" id="8314867">func</span><span class="op" id="8314871">(</span><span class="ident" id="8314872">s</span>&nbsp;<span class="builtintype" id="8314874">string</span><span class="op" id="8314880">)</span>&nbsp;<span class="builtintype" id="8314882">string</span>&nbsp;<span class="op" id="8314889">{</span>&nbsp;<span class="keyword" id="8314891">return</span>&nbsp;<span class="string" id="8314898">&#34;x&#34;</span>&nbsp;<span class="op" id="8314902">+</span>&nbsp;<span class="ident" id="8314904">s</span>&nbsp;<span class="op" id="8314906">+</span>&nbsp;<span class="string" id="8314908">&#34;y&#34;</span>&nbsp;<span class="op" id="8314912">}</span><span class="op" id="8314913">,</span>&nbsp;<span class="string" id="8314915">&#34;defabcdef&#34;</span><span class="op" id="8314926">,</span>&nbsp;<span class="string" id="8314928">&#34;xydxyexyfxabcydxyexyfxy&#34;</span><span class="op" id="8314953">}</span><span class="op" id="8314954">,</span><br>
<span class="lineno">235</span><span class="op" id="8314956">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8314959">func</span>&nbsp;<span class="ident" id="8314964">TestReplaceAll</span><span class="op" id="8314978">(</span><span class="ident" id="8314979">t</span>&nbsp;<span class="op" id="8314981">*</span><span class="ident" id="8314982">testing</span><span class="op" id="8314989">.</span><span class="ident" id="8314990">T</span><span class="op" id="8314991">)</span>&nbsp;<span class="op" id="8314993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8314996">for</span>&nbsp;<span class="ident" id="8315000">_</span><span class="op" id="8315001">,</span>&nbsp;<span class="ident" id="8315003">tc</span>&nbsp;<span class="op" id="8315006">:=</span>&nbsp;<span class="keyword" id="8315009">range</span>&nbsp;<span class="ident" id="8315015">replaceTests</span>&nbsp;<span class="op" id="8315028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8315032">re</span><span class="op" id="8315034">,</span>&nbsp;<span class="ident" id="8315036">err</span>&nbsp;<span class="op" id="8315040">:=</span>&nbsp;<span class="ident" id="8315043">Compile</span><span class="op" id="8315050">(</span><span class="ident" id="8315051">tc</span><span class="op" id="8315053">.</span><span class="ident" id="8315054">pattern</span><span class="op" id="8315061">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8315065">if</span>&nbsp;<span class="ident" id="8315068">err</span>&nbsp;<span class="op" id="8315072">!=</span>&nbsp;<span class="ident" id="8315075">nil</span>&nbsp;<span class="op" id="8315079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8315084">t</span><span class="op" id="8315085">.</span><span class="ident" id="8315086">Errorf</span><span class="op" id="8315092">(</span><span class="string" id="8315093">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="8315128">,</span>&nbsp;<span class="ident" id="8315130">tc</span><span class="op" id="8315132">.</span><span class="ident" id="8315133">pattern</span><span class="op" id="8315140">,</span>&nbsp;<span class="ident" id="8315142">err</span><span class="op" id="8315145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8315150">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8315161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8315165">actual</span>&nbsp;<span class="op" id="8315172">:=</span>&nbsp;<span class="ident" id="8315175">re</span><span class="op" id="8315177">.</span><span class="ident" id="8315178">ReplaceAllString</span><span class="op" id="8315194">(</span><span class="ident" id="8315195">tc</span><span class="op" id="8315197">.</span><span class="ident" id="8315198">input</span><span class="op" id="8315203">,</span>&nbsp;<span class="ident" id="8315205">tc</span><span class="op" id="8315207">.</span><span class="ident" id="8315208">replacement</span><span class="op" id="8315219">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8315223">if</span>&nbsp;<span class="ident" id="8315226">actual</span>&nbsp;<span class="op" id="8315233">!=</span>&nbsp;<span class="ident" id="8315236">tc</span><span class="op" id="8315238">.</span><span class="ident" id="8315239">output</span>&nbsp;<span class="op" id="8315246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8315251">t</span><span class="op" id="8315252">.</span><span class="ident" id="8315253">Errorf</span><span class="op" id="8315259">(</span><span class="string" id="8315260">&#34;%q.ReplaceAllString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8315302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8315308">tc</span><span class="op" id="8315310">.</span><span class="ident" id="8315311">pattern</span><span class="op" id="8315318">,</span>&nbsp;<span class="ident" id="8315320">tc</span><span class="op" id="8315322">.</span><span class="ident" id="8315323">input</span><span class="op" id="8315328">,</span>&nbsp;<span class="ident" id="8315330">tc</span><span class="op" id="8315332">.</span><span class="ident" id="8315333">replacement</span><span class="op" id="8315344">,</span>&nbsp;<span class="ident" id="8315346">actual</span><span class="op" id="8315352">,</span>&nbsp;<span class="ident" id="8315354">tc</span><span class="op" id="8315356">.</span><span class="ident" id="8315357">output</span><span class="op" id="8315363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8315367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8315371">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8315390">actual</span>&nbsp;<span class="op" id="8315397">=</span>&nbsp;<span class="builtintype" id="8315399">string</span><span class="op" id="8315405">(</span><span class="ident" id="8315406">re</span><span class="op" id="8315408">.</span><span class="ident" id="8315409">ReplaceAll</span><span class="op" id="8315419">(</span><span class="op" id="8315420">[</span><span class="op" id="8315421">]</span><span class="builtintype" id="8315422">byte</span><span class="op" id="8315426">(</span><span class="ident" id="8315427">tc</span><span class="op" id="8315429">.</span><span class="ident" id="8315430">input</span><span class="op" id="8315435">)</span><span class="op" id="8315436">,</span>&nbsp;<span class="op" id="8315438">[</span><span class="op" id="8315439">]</span><span class="builtintype" id="8315440">byte</span><span class="op" id="8315444">(</span><span class="ident" id="8315445">tc</span><span class="op" id="8315447">.</span><span class="ident" id="8315448">replacement</span><span class="op" id="8315459">)</span><span class="op" id="8315460">)</span><span class="op" id="8315461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8315465">if</span>&nbsp;<span class="ident" id="8315468">actual</span>&nbsp;<span class="op" id="8315475">!=</span>&nbsp;<span class="ident" id="8315478">tc</span><span class="op" id="8315480">.</span><span class="ident" id="8315481">output</span>&nbsp;<span class="op" id="8315488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8315493">t</span><span class="op" id="8315494">.</span><span class="ident" id="8315495">Errorf</span><span class="op" id="8315501">(</span><span class="string" id="8315502">&#34;%q.ReplaceAll(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8315538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8315544">tc</span><span class="op" id="8315546">.</span><span class="ident" id="8315547">pattern</span><span class="op" id="8315554">,</span>&nbsp;<span class="ident" id="8315556">tc</span><span class="op" id="8315558">.</span><span class="ident" id="8315559">input</span><span class="op" id="8315564">,</span>&nbsp;<span class="ident" id="8315566">tc</span><span class="op" id="8315568">.</span><span class="ident" id="8315569">replacement</span><span class="op" id="8315580">,</span>&nbsp;<span class="ident" id="8315582">actual</span><span class="op" id="8315588">,</span>&nbsp;<span class="ident" id="8315590">tc</span><span class="op" id="8315592">.</span><span class="ident" id="8315593">output</span><span class="op" id="8315599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8315603">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8315606">}</span><br>
<span class="lineno"></span><span class="op" id="8315608">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8315611">func</span>&nbsp;<span class="ident" id="8315616">TestReplaceAllLiteral</span><span class="op" id="8315637">(</span><span class="ident" id="8315638">t</span>&nbsp;<span class="op" id="8315640">*</span><span class="ident" id="8315641">testing</span><span class="op" id="8315648">.</span><span class="ident" id="8315649">T</span><span class="op" id="8315650">)</span>&nbsp;<span class="op" id="8315652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8315655">//&nbsp;Run&nbsp;ReplaceAll&nbsp;tests&nbsp;that&nbsp;do&nbsp;not&nbsp;have&nbsp;$&nbsp;expansions.</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8315711">for</span>&nbsp;<span class="ident" id="8315715">_</span><span class="op" id="8315716">,</span>&nbsp;<span class="ident" id="8315718">tc</span>&nbsp;<span class="op" id="8315721">:=</span>&nbsp;<span class="keyword" id="8315724">range</span>&nbsp;<span class="ident" id="8315730">replaceTests</span>&nbsp;<span class="op" id="8315743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8315747">if</span>&nbsp;<span class="ident" id="8315750">strings</span><span class="op" id="8315757">.</span><span class="ident" id="8315758">Contains</span><span class="op" id="8315766">(</span><span class="ident" id="8315767">tc</span><span class="op" id="8315769">.</span><span class="ident" id="8315770">replacement</span><span class="op" id="8315781">,</span>&nbsp;<span class="string" id="8315783">&#34;$&#34;</span><span class="op" id="8315786">)</span>&nbsp;<span class="op" id="8315788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8315793">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8315804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8315808">re</span><span class="op" id="8315810">,</span>&nbsp;<span class="ident" id="8315812">err</span>&nbsp;<span class="op" id="8315816">:=</span>&nbsp;<span class="ident" id="8315819">Compile</span><span class="op" id="8315826">(</span><span class="ident" id="8315827">tc</span><span class="op" id="8315829">.</span><span class="ident" id="8315830">pattern</span><span class="op" id="8315837">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8315841">if</span>&nbsp;<span class="ident" id="8315844">err</span>&nbsp;<span class="op" id="8315848">!=</span>&nbsp;<span class="ident" id="8315851">nil</span>&nbsp;<span class="op" id="8315855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8315860">t</span><span class="op" id="8315861">.</span><span class="ident" id="8315862">Errorf</span><span class="op" id="8315868">(</span><span class="string" id="8315869">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="8315904">,</span>&nbsp;<span class="ident" id="8315906">tc</span><span class="op" id="8315908">.</span><span class="ident" id="8315909">pattern</span><span class="op" id="8315916">,</span>&nbsp;<span class="ident" id="8315918">err</span><span class="op" id="8315921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8315926">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8315937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8315941">actual</span>&nbsp;<span class="op" id="8315948">:=</span>&nbsp;<span class="ident" id="8315951">re</span><span class="op" id="8315953">.</span><span class="ident" id="8315954">ReplaceAllLiteralString</span><span class="op" id="8315977">(</span><span class="ident" id="8315978">tc</span><span class="op" id="8315980">.</span><span class="ident" id="8315981">input</span><span class="op" id="8315986">,</span>&nbsp;<span class="ident" id="8315988">tc</span><span class="op" id="8315990">.</span><span class="ident" id="8315991">replacement</span><span class="op" id="8316002">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8316006">if</span>&nbsp;<span class="ident" id="8316009">actual</span>&nbsp;<span class="op" id="8316016">!=</span>&nbsp;<span class="ident" id="8316019">tc</span><span class="op" id="8316021">.</span><span class="ident" id="8316022">output</span>&nbsp;<span class="op" id="8316029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316034">t</span><span class="op" id="8316035">.</span><span class="ident" id="8316036">Errorf</span><span class="op" id="8316042">(</span><span class="string" id="8316043">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8316092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316098">tc</span><span class="op" id="8316100">.</span><span class="ident" id="8316101">pattern</span><span class="op" id="8316108">,</span>&nbsp;<span class="ident" id="8316110">tc</span><span class="op" id="8316112">.</span><span class="ident" id="8316113">input</span><span class="op" id="8316118">,</span>&nbsp;<span class="ident" id="8316120">tc</span><span class="op" id="8316122">.</span><span class="ident" id="8316123">replacement</span><span class="op" id="8316134">,</span>&nbsp;<span class="ident" id="8316136">actual</span><span class="op" id="8316142">,</span>&nbsp;<span class="ident" id="8316144">tc</span><span class="op" id="8316146">.</span><span class="ident" id="8316147">output</span><span class="op" id="8316153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8316157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8316161">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316180">actual</span>&nbsp;<span class="op" id="8316187">=</span>&nbsp;<span class="builtintype" id="8316189">string</span><span class="op" id="8316195">(</span><span class="ident" id="8316196">re</span><span class="op" id="8316198">.</span><span class="ident" id="8316199">ReplaceAllLiteral</span><span class="op" id="8316216">(</span><span class="op" id="8316217">[</span><span class="op" id="8316218">]</span><span class="builtintype" id="8316219">byte</span><span class="op" id="8316223">(</span><span class="ident" id="8316224">tc</span><span class="op" id="8316226">.</span><span class="ident" id="8316227">input</span><span class="op" id="8316232">)</span><span class="op" id="8316233">,</span>&nbsp;<span class="op" id="8316235">[</span><span class="op" id="8316236">]</span><span class="builtintype" id="8316237">byte</span><span class="op" id="8316241">(</span><span class="ident" id="8316242">tc</span><span class="op" id="8316244">.</span><span class="ident" id="8316245">replacement</span><span class="op" id="8316256">)</span><span class="op" id="8316257">)</span><span class="op" id="8316258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8316262">if</span>&nbsp;<span class="ident" id="8316265">actual</span>&nbsp;<span class="op" id="8316272">!=</span>&nbsp;<span class="ident" id="8316275">tc</span><span class="op" id="8316277">.</span><span class="ident" id="8316278">output</span>&nbsp;<span class="op" id="8316285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316290">t</span><span class="op" id="8316291">.</span><span class="ident" id="8316292">Errorf</span><span class="op" id="8316298">(</span><span class="string" id="8316299">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8316342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316348">tc</span><span class="op" id="8316350">.</span><span class="ident" id="8316351">pattern</span><span class="op" id="8316358">,</span>&nbsp;<span class="ident" id="8316360">tc</span><span class="op" id="8316362">.</span><span class="ident" id="8316363">input</span><span class="op" id="8316368">,</span>&nbsp;<span class="ident" id="8316370">tc</span><span class="op" id="8316372">.</span><span class="ident" id="8316373">replacement</span><span class="op" id="8316384">,</span>&nbsp;<span class="ident" id="8316386">actual</span><span class="op" id="8316392">,</span>&nbsp;<span class="ident" id="8316394">tc</span><span class="op" id="8316396">.</span><span class="ident" id="8316397">output</span><span class="op" id="8316403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8316407">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8316410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8316414">//&nbsp;Run&nbsp;literal-specific&nbsp;tests.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8316446">for</span>&nbsp;<span class="ident" id="8316450">_</span><span class="op" id="8316451">,</span>&nbsp;<span class="ident" id="8316453">tc</span>&nbsp;<span class="op" id="8316456">:=</span>&nbsp;<span class="keyword" id="8316459">range</span>&nbsp;<span class="ident" id="8316465">replaceLiteralTests</span>&nbsp;<span class="op" id="8316485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316489">re</span><span class="op" id="8316491">,</span>&nbsp;<span class="ident" id="8316493">err</span>&nbsp;<span class="op" id="8316497">:=</span>&nbsp;<span class="ident" id="8316500">Compile</span><span class="op" id="8316507">(</span><span class="ident" id="8316508">tc</span><span class="op" id="8316510">.</span><span class="ident" id="8316511">pattern</span><span class="op" id="8316518">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8316522">if</span>&nbsp;<span class="ident" id="8316525">err</span>&nbsp;<span class="op" id="8316529">!=</span>&nbsp;<span class="ident" id="8316532">nil</span>&nbsp;<span class="op" id="8316536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316541">t</span><span class="op" id="8316542">.</span><span class="ident" id="8316543">Errorf</span><span class="op" id="8316549">(</span><span class="string" id="8316550">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="8316585">,</span>&nbsp;<span class="ident" id="8316587">tc</span><span class="op" id="8316589">.</span><span class="ident" id="8316590">pattern</span><span class="op" id="8316597">,</span>&nbsp;<span class="ident" id="8316599">err</span><span class="op" id="8316602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8316607">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8316618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316622">actual</span>&nbsp;<span class="op" id="8316629">:=</span>&nbsp;<span class="ident" id="8316632">re</span><span class="op" id="8316634">.</span><span class="ident" id="8316635">ReplaceAllLiteralString</span><span class="op" id="8316658">(</span><span class="ident" id="8316659">tc</span><span class="op" id="8316661">.</span><span class="ident" id="8316662">input</span><span class="op" id="8316667">,</span>&nbsp;<span class="ident" id="8316669">tc</span><span class="op" id="8316671">.</span><span class="ident" id="8316672">replacement</span><span class="op" id="8316683">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8316687">if</span>&nbsp;<span class="ident" id="8316690">actual</span>&nbsp;<span class="op" id="8316697">!=</span>&nbsp;<span class="ident" id="8316700">tc</span><span class="op" id="8316702">.</span><span class="ident" id="8316703">output</span>&nbsp;<span class="op" id="8316710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316715">t</span><span class="op" id="8316716">.</span><span class="ident" id="8316717">Errorf</span><span class="op" id="8316723">(</span><span class="string" id="8316724">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8316773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316779">tc</span><span class="op" id="8316781">.</span><span class="ident" id="8316782">pattern</span><span class="op" id="8316789">,</span>&nbsp;<span class="ident" id="8316791">tc</span><span class="op" id="8316793">.</span><span class="ident" id="8316794">input</span><span class="op" id="8316799">,</span>&nbsp;<span class="ident" id="8316801">tc</span><span class="op" id="8316803">.</span><span class="ident" id="8316804">replacement</span><span class="op" id="8316815">,</span>&nbsp;<span class="ident" id="8316817">actual</span><span class="op" id="8316823">,</span>&nbsp;<span class="ident" id="8316825">tc</span><span class="op" id="8316827">.</span><span class="ident" id="8316828">output</span><span class="op" id="8316834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8316838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8316842">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316861">actual</span>&nbsp;<span class="op" id="8316868">=</span>&nbsp;<span class="builtintype" id="8316870">string</span><span class="op" id="8316876">(</span><span class="ident" id="8316877">re</span><span class="op" id="8316879">.</span><span class="ident" id="8316880">ReplaceAllLiteral</span><span class="op" id="8316897">(</span><span class="op" id="8316898">[</span><span class="op" id="8316899">]</span><span class="builtintype" id="8316900">byte</span><span class="op" id="8316904">(</span><span class="ident" id="8316905">tc</span><span class="op" id="8316907">.</span><span class="ident" id="8316908">input</span><span class="op" id="8316913">)</span><span class="op" id="8316914">,</span>&nbsp;<span class="op" id="8316916">[</span><span class="op" id="8316917">]</span><span class="builtintype" id="8316918">byte</span><span class="op" id="8316922">(</span><span class="ident" id="8316923">tc</span><span class="op" id="8316925">.</span><span class="ident" id="8316926">replacement</span><span class="op" id="8316937">)</span><span class="op" id="8316938">)</span><span class="op" id="8316939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8316943">if</span>&nbsp;<span class="ident" id="8316946">actual</span>&nbsp;<span class="op" id="8316953">!=</span>&nbsp;<span class="ident" id="8316956">tc</span><span class="op" id="8316958">.</span><span class="ident" id="8316959">output</span>&nbsp;<span class="op" id="8316966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316971">t</span><span class="op" id="8316972">.</span><span class="ident" id="8316973">Errorf</span><span class="op" id="8316979">(</span><span class="string" id="8316980">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8317023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317029">tc</span><span class="op" id="8317031">.</span><span class="ident" id="8317032">pattern</span><span class="op" id="8317039">,</span>&nbsp;<span class="ident" id="8317041">tc</span><span class="op" id="8317043">.</span><span class="ident" id="8317044">input</span><span class="op" id="8317049">,</span>&nbsp;<span class="ident" id="8317051">tc</span><span class="op" id="8317053">.</span><span class="ident" id="8317054">replacement</span><span class="op" id="8317065">,</span>&nbsp;<span class="ident" id="8317067">actual</span><span class="op" id="8317073">,</span>&nbsp;<span class="ident" id="8317075">tc</span><span class="op" id="8317077">.</span><span class="ident" id="8317078">output</span><span class="op" id="8317084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317088">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317091">}</span><br>
<span class="lineno"></span><span class="op" id="8317093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8317096">func</span>&nbsp;<span class="ident" id="8317101">TestReplaceAllFunc</span><span class="op" id="8317119">(</span><span class="ident" id="8317120">t</span>&nbsp;<span class="op" id="8317122">*</span><span class="ident" id="8317123">testing</span><span class="op" id="8317130">.</span><span class="ident" id="8317131">T</span><span class="op" id="8317132">)</span>&nbsp;<span class="op" id="8317134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8317137">for</span>&nbsp;<span class="ident" id="8317141">_</span><span class="op" id="8317142">,</span>&nbsp;<span class="ident" id="8317144">tc</span>&nbsp;<span class="op" id="8317147">:=</span>&nbsp;<span class="keyword" id="8317150">range</span>&nbsp;<span class="ident" id="8317156">replaceFuncTests</span>&nbsp;<span class="op" id="8317173">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317177">re</span><span class="op" id="8317179">,</span>&nbsp;<span class="ident" id="8317181">err</span>&nbsp;<span class="op" id="8317185">:=</span>&nbsp;<span class="ident" id="8317188">Compile</span><span class="op" id="8317195">(</span><span class="ident" id="8317196">tc</span><span class="op" id="8317198">.</span><span class="ident" id="8317199">pattern</span><span class="op" id="8317206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8317210">if</span>&nbsp;<span class="ident" id="8317213">err</span>&nbsp;<span class="op" id="8317217">!=</span>&nbsp;<span class="ident" id="8317220">nil</span>&nbsp;<span class="op" id="8317224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317229">t</span><span class="op" id="8317230">.</span><span class="ident" id="8317231">Errorf</span><span class="op" id="8317237">(</span><span class="string" id="8317238">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="8317273">,</span>&nbsp;<span class="ident" id="8317275">tc</span><span class="op" id="8317277">.</span><span class="ident" id="8317278">pattern</span><span class="op" id="8317285">,</span>&nbsp;<span class="ident" id="8317287">err</span><span class="op" id="8317290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8317295">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317306">}</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317310">actual</span>&nbsp;<span class="op" id="8317317">:=</span>&nbsp;<span class="ident" id="8317320">re</span><span class="op" id="8317322">.</span><span class="ident" id="8317323">ReplaceAllStringFunc</span><span class="op" id="8317343">(</span><span class="ident" id="8317344">tc</span><span class="op" id="8317346">.</span><span class="ident" id="8317347">input</span><span class="op" id="8317352">,</span>&nbsp;<span class="ident" id="8317354">tc</span><span class="op" id="8317356">.</span><span class="ident" id="8317357">replacement</span><span class="op" id="8317368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8317372">if</span>&nbsp;<span class="ident" id="8317375">actual</span>&nbsp;<span class="op" id="8317382">!=</span>&nbsp;<span class="ident" id="8317385">tc</span><span class="op" id="8317387">.</span><span class="ident" id="8317388">output</span>&nbsp;<span class="op" id="8317395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317400">t</span><span class="op" id="8317401">.</span><span class="ident" id="8317402">Errorf</span><span class="op" id="8317408">(</span><span class="string" id="8317409">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8317446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317452">tc</span><span class="op" id="8317454">.</span><span class="ident" id="8317455">pattern</span><span class="op" id="8317462">,</span>&nbsp;<span class="ident" id="8317464">tc</span><span class="op" id="8317466">.</span><span class="ident" id="8317467">input</span><span class="op" id="8317472">,</span>&nbsp;<span class="ident" id="8317474">actual</span><span class="op" id="8317480">,</span>&nbsp;<span class="ident" id="8317482">tc</span><span class="op" id="8317484">.</span><span class="ident" id="8317485">output</span><span class="op" id="8317491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317495">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8317499">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317518">actual</span>&nbsp;<span class="op" id="8317525">=</span>&nbsp;<span class="builtintype" id="8317527">string</span><span class="op" id="8317533">(</span><span class="ident" id="8317534">re</span><span class="op" id="8317536">.</span><span class="ident" id="8317537">ReplaceAllFunc</span><span class="op" id="8317551">(</span><span class="op" id="8317552">[</span><span class="op" id="8317553">]</span><span class="builtintype" id="8317554">byte</span><span class="op" id="8317558">(</span><span class="ident" id="8317559">tc</span><span class="op" id="8317561">.</span><span class="ident" id="8317562">input</span><span class="op" id="8317567">)</span><span class="op" id="8317568">,</span>&nbsp;<span class="keyword" id="8317570">func</span><span class="op" id="8317574">(</span><span class="ident" id="8317575">s</span>&nbsp;<span class="op" id="8317577">[</span><span class="op" id="8317578">]</span><span class="builtintype" id="8317579">byte</span><span class="op" id="8317583">)</span>&nbsp;<span class="op" id="8317585">[</span><span class="op" id="8317586">]</span><span class="builtintype" id="8317587">byte</span>&nbsp;<span class="op" id="8317592">{</span>&nbsp;<span class="keyword" id="8317594">return</span>&nbsp;<span class="op" id="8317601">[</span><span class="op" id="8317602">]</span><span class="builtintype" id="8317603">byte</span><span class="op" id="8317607">(</span><span class="ident" id="8317608">tc</span><span class="op" id="8317610">.</span><span class="ident" id="8317611">replacement</span><span class="op" id="8317622">(</span><span class="builtintype" id="8317623">string</span><span class="op" id="8317629">(</span><span class="ident" id="8317630">s</span><span class="op" id="8317631">)</span><span class="op" id="8317632">)</span><span class="op" id="8317633">)</span>&nbsp;<span class="op" id="8317635">}</span><span class="op" id="8317636">)</span><span class="op" id="8317637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8317641">if</span>&nbsp;<span class="ident" id="8317644">actual</span>&nbsp;<span class="op" id="8317651">!=</span>&nbsp;<span class="ident" id="8317654">tc</span><span class="op" id="8317656">.</span><span class="ident" id="8317657">output</span>&nbsp;<span class="op" id="8317664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317669">t</span><span class="op" id="8317670">.</span><span class="ident" id="8317671">Errorf</span><span class="op" id="8317677">(</span><span class="string" id="8317678">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8317715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317721">tc</span><span class="op" id="8317723">.</span><span class="ident" id="8317724">pattern</span><span class="op" id="8317731">,</span>&nbsp;<span class="ident" id="8317733">tc</span><span class="op" id="8317735">.</span><span class="ident" id="8317736">input</span><span class="op" id="8317741">,</span>&nbsp;<span class="ident" id="8317743">actual</span><span class="op" id="8317749">,</span>&nbsp;<span class="ident" id="8317751">tc</span><span class="op" id="8317753">.</span><span class="ident" id="8317754">output</span><span class="op" id="8317760">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317767">}</span><br>
<span class="lineno"></span><span class="op" id="8317769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8317772">type</span>&nbsp;<span class="ident" id="8317777">MetaTest</span>&nbsp;<span class="keyword" id="8317786">struct</span>&nbsp;<span class="op" id="8317793">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317796">pattern</span><span class="op" id="8317803">,</span>&nbsp;<span class="ident" id="8317805">output</span><span class="op" id="8317811">,</span>&nbsp;<span class="ident" id="8317813">literal</span>&nbsp;<span class="builtintype" id="8317821">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317829">isLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8317854">bool</span><br>
<span class="lineno"></span><span class="op" id="8317859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8317862">var</span>&nbsp;<span class="ident" id="8317866">metaTests</span>&nbsp;<span class="op" id="8317876">=</span>&nbsp;<span class="op" id="8317878">[</span><span class="op" id="8317879">]</span><span class="ident" id="8317880">MetaTest</span><span class="op" id="8317888">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317891">{</span><span class="string" id="8317892">``</span><span class="op" id="8317894">,</span>&nbsp;<span class="string" id="8317896">``</span><span class="op" id="8317898">,</span>&nbsp;<span class="string" id="8317900">``</span><span class="op" id="8317902">,</span>&nbsp;<span class="builtintype" id="8317904">true</span><span class="op" id="8317908">}</span><span class="op" id="8317909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317912">{</span><span class="string" id="8317913">`foo`</span><span class="op" id="8317918">,</span>&nbsp;<span class="string" id="8317920">`foo`</span><span class="op" id="8317925">,</span>&nbsp;<span class="string" id="8317927">`foo`</span><span class="op" id="8317932">,</span>&nbsp;<span class="builtintype" id="8317934">true</span><span class="op" id="8317938">}</span><span class="op" id="8317939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317942">{</span><span class="string" id="8317943">`foo\.\$`</span><span class="op" id="8317952">,</span>&nbsp;<span class="string" id="8317954">`foo\\\.\\\$`</span><span class="op" id="8317967">,</span>&nbsp;<span class="string" id="8317969">`foo.$`</span><span class="op" id="8317976">,</span>&nbsp;<span class="builtintype" id="8317978">true</span><span class="op" id="8317982">}</span><span class="op" id="8317983">,</span>&nbsp;<span class="comment" id="8317985">//&nbsp;has&nbsp;meta&nbsp;but&nbsp;no&nbsp;operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8318014">{</span><span class="string" id="8318015">`foo.\$`</span><span class="op" id="8318023">,</span>&nbsp;<span class="string" id="8318025">`foo\.\\\$`</span><span class="op" id="8318036">,</span>&nbsp;<span class="string" id="8318038">`foo`</span><span class="op" id="8318043">,</span>&nbsp;<span class="builtintype" id="8318045">false</span><span class="op" id="8318050">}</span><span class="op" id="8318051">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8318057">//&nbsp;has&nbsp;escaped&nbsp;operators&nbsp;and&nbsp;real&nbsp;operators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8318102">{</span><span class="string" id="8318103">`!@#$%^&amp;*()_+-=[{]}\|,&lt;.&gt;/?~`</span><span class="op" id="8318132">,</span>&nbsp;<span class="string" id="8318134">`!@#\$%\^&amp;\*\(\)_\+-=\[\{\]\}\\\|,&lt;\.&gt;/\?~`</span><span class="op" id="8318177">,</span>&nbsp;<span class="string" id="8318179">`!@#`</span><span class="op" id="8318184">,</span>&nbsp;<span class="builtintype" id="8318186">false</span><span class="op" id="8318191">}</span><span class="op" id="8318192">,</span><br>
<span class="lineno">335</span><span class="op" id="8318194">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8318197">func</span>&nbsp;<span class="ident" id="8318202">TestQuoteMeta</span><span class="op" id="8318215">(</span><span class="ident" id="8318216">t</span>&nbsp;<span class="op" id="8318218">*</span><span class="ident" id="8318219">testing</span><span class="op" id="8318226">.</span><span class="ident" id="8318227">T</span><span class="op" id="8318228">)</span>&nbsp;<span class="op" id="8318230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8318233">for</span>&nbsp;<span class="ident" id="8318237">_</span><span class="op" id="8318238">,</span>&nbsp;<span class="ident" id="8318240">tc</span>&nbsp;<span class="op" id="8318243">:=</span>&nbsp;<span class="keyword" id="8318246">range</span>&nbsp;<span class="ident" id="8318252">metaTests</span>&nbsp;<span class="op" id="8318262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8318266">//&nbsp;Verify&nbsp;that&nbsp;QuoteMeta&nbsp;returns&nbsp;the&nbsp;expected&nbsp;string.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318322">quoted</span>&nbsp;<span class="op" id="8318329">:=</span>&nbsp;<span class="ident" id="8318332">QuoteMeta</span><span class="op" id="8318341">(</span><span class="ident" id="8318342">tc</span><span class="op" id="8318344">.</span><span class="ident" id="8318345">pattern</span><span class="op" id="8318352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8318356">if</span>&nbsp;<span class="ident" id="8318359">quoted</span>&nbsp;<span class="op" id="8318366">!=</span>&nbsp;<span class="ident" id="8318369">tc</span><span class="op" id="8318371">.</span><span class="ident" id="8318372">output</span>&nbsp;<span class="op" id="8318379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318384">t</span><span class="op" id="8318385">.</span><span class="ident" id="8318386">Errorf</span><span class="op" id="8318392">(</span><span class="string" id="8318393">&#34;QuoteMeta(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="8318428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318434">tc</span><span class="op" id="8318436">.</span><span class="ident" id="8318437">pattern</span><span class="op" id="8318444">,</span>&nbsp;<span class="ident" id="8318446">quoted</span><span class="op" id="8318452">,</span>&nbsp;<span class="ident" id="8318454">tc</span><span class="op" id="8318456">.</span><span class="ident" id="8318457">output</span><span class="op" id="8318463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8318468">continue</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8318479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8318484">//&nbsp;Verify&nbsp;that&nbsp;the&nbsp;quoted&nbsp;string&nbsp;is&nbsp;in&nbsp;fact&nbsp;treated&nbsp;as&nbsp;expected</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8318550">//&nbsp;by&nbsp;Compile&nbsp;--&nbsp;i.e.&nbsp;that&nbsp;it&nbsp;matches&nbsp;the&nbsp;original,&nbsp;unquoted&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8318621">if</span>&nbsp;<span class="ident" id="8318624">tc</span><span class="op" id="8318626">.</span><span class="ident" id="8318627">pattern</span>&nbsp;<span class="op" id="8318635">!=</span>&nbsp;<span class="string" id="8318638">&#34;&#34;</span>&nbsp;<span class="op" id="8318641">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318646">re</span><span class="op" id="8318648">,</span>&nbsp;<span class="ident" id="8318650">err</span>&nbsp;<span class="op" id="8318654">:=</span>&nbsp;<span class="ident" id="8318657">Compile</span><span class="op" id="8318664">(</span><span class="ident" id="8318665">quoted</span><span class="op" id="8318671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8318676">if</span>&nbsp;<span class="ident" id="8318679">err</span>&nbsp;<span class="op" id="8318683">!=</span>&nbsp;<span class="ident" id="8318686">nil</span>&nbsp;<span class="op" id="8318690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318696">t</span><span class="op" id="8318697">.</span><span class="ident" id="8318698">Errorf</span><span class="op" id="8318704">(</span><span class="string" id="8318705">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;QuoteMeta(`%s`):&nbsp;%v&#34;</span><span class="op" id="8318753">,</span>&nbsp;<span class="ident" id="8318755">tc</span><span class="op" id="8318757">.</span><span class="ident" id="8318758">pattern</span><span class="op" id="8318765">,</span>&nbsp;<span class="ident" id="8318767">err</span><span class="op" id="8318770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8318776">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8318788">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318793">src</span>&nbsp;<span class="op" id="8318797">:=</span>&nbsp;<span class="string" id="8318800">&#34;abc&#34;</span>&nbsp;<span class="op" id="8318806">+</span>&nbsp;<span class="ident" id="8318808">tc</span><span class="op" id="8318810">.</span><span class="ident" id="8318811">pattern</span>&nbsp;<span class="op" id="8318819">+</span>&nbsp;<span class="string" id="8318821">&#34;def&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318830">repl</span>&nbsp;<span class="op" id="8318835">:=</span>&nbsp;<span class="string" id="8318838">&#34;xyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318847">replaced</span>&nbsp;<span class="op" id="8318856">:=</span>&nbsp;<span class="ident" id="8318859">re</span><span class="op" id="8318861">.</span><span class="ident" id="8318862">ReplaceAllString</span><span class="op" id="8318878">(</span><span class="ident" id="8318879">src</span><span class="op" id="8318882">,</span>&nbsp;<span class="ident" id="8318884">repl</span><span class="op" id="8318888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318893">expected</span>&nbsp;<span class="op" id="8318902">:=</span>&nbsp;<span class="string" id="8318905">&#34;abcxyzdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8318920">if</span>&nbsp;<span class="ident" id="8318923">replaced</span>&nbsp;<span class="op" id="8318932">!=</span>&nbsp;<span class="ident" id="8318935">expected</span>&nbsp;<span class="op" id="8318944">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318950">t</span><span class="op" id="8318951">.</span><span class="ident" id="8318952">Errorf</span><span class="op" id="8318958">(</span><span class="string" id="8318959">&#34;QuoteMeta(`%s`).Replace(`%s`,`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="8319013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8319020">tc</span><span class="op" id="8319022">.</span><span class="ident" id="8319023">pattern</span><span class="op" id="8319030">,</span>&nbsp;<span class="ident" id="8319032">src</span><span class="op" id="8319035">,</span>&nbsp;<span class="ident" id="8319037">repl</span><span class="op" id="8319041">,</span>&nbsp;<span class="ident" id="8319043">replaced</span><span class="op" id="8319051">,</span>&nbsp;<span class="ident" id="8319053">expected</span><span class="op" id="8319061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319070">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319073">}</span><br>
<span class="lineno">365</span><span class="op" id="8319075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8319078">func</span>&nbsp;<span class="ident" id="8319083">TestLiteralPrefix</span><span class="op" id="8319100">(</span><span class="ident" id="8319101">t</span>&nbsp;<span class="op" id="8319103">*</span><span class="ident" id="8319104">testing</span><span class="op" id="8319111">.</span><span class="ident" id="8319112">T</span><span class="op" id="8319113">)</span>&nbsp;<span class="op" id="8319115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8319118">for</span>&nbsp;<span class="ident" id="8319122">_</span><span class="op" id="8319123">,</span>&nbsp;<span class="ident" id="8319125">tc</span>&nbsp;<span class="op" id="8319128">:=</span>&nbsp;<span class="keyword" id="8319131">range</span>&nbsp;<span class="ident" id="8319137">metaTests</span>&nbsp;<span class="op" id="8319147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8319151">//&nbsp;Literal&nbsp;method&nbsp;needs&nbsp;to&nbsp;scan&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8319198">re</span>&nbsp;<span class="op" id="8319201">:=</span>&nbsp;<span class="ident" id="8319204">MustCompile</span><span class="op" id="8319215">(</span><span class="ident" id="8319216">tc</span><span class="op" id="8319218">.</span><span class="ident" id="8319219">pattern</span><span class="op" id="8319226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8319230">str</span><span class="op" id="8319233">,</span>&nbsp;<span class="ident" id="8319235">complete</span>&nbsp;<span class="op" id="8319244">:=</span>&nbsp;<span class="ident" id="8319247">re</span><span class="op" id="8319249">.</span><span class="ident" id="8319250">LiteralPrefix</span><span class="op" id="8319263">(</span><span class="op" id="8319264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8319268">if</span>&nbsp;<span class="ident" id="8319271">complete</span>&nbsp;<span class="op" id="8319280">!=</span>&nbsp;<span class="ident" id="8319283">tc</span><span class="op" id="8319285">.</span><span class="ident" id="8319286">isLiteral</span>&nbsp;<span class="op" id="8319296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8319301">t</span><span class="op" id="8319302">.</span><span class="ident" id="8319303">Errorf</span><span class="op" id="8319309">(</span><span class="string" id="8319310">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;%t;&nbsp;want&nbsp;%t&#34;</span><span class="op" id="8319345">,</span>&nbsp;<span class="ident" id="8319347">tc</span><span class="op" id="8319349">.</span><span class="ident" id="8319350">pattern</span><span class="op" id="8319357">,</span>&nbsp;<span class="ident" id="8319359">complete</span><span class="op" id="8319367">,</span>&nbsp;<span class="ident" id="8319369">tc</span><span class="op" id="8319371">.</span><span class="ident" id="8319372">isLiteral</span><span class="op" id="8319381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319385">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8319389">if</span>&nbsp;<span class="ident" id="8319392">str</span>&nbsp;<span class="op" id="8319396">!=</span>&nbsp;<span class="ident" id="8319399">tc</span><span class="op" id="8319401">.</span><span class="ident" id="8319402">literal</span>&nbsp;<span class="op" id="8319410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8319415">t</span><span class="op" id="8319416">.</span><span class="ident" id="8319417">Errorf</span><span class="op" id="8319423">(</span><span class="string" id="8319424">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="8319463">,</span>&nbsp;<span class="ident" id="8319465">tc</span><span class="op" id="8319467">.</span><span class="ident" id="8319468">pattern</span><span class="op" id="8319475">,</span>&nbsp;<span class="ident" id="8319477">str</span><span class="op" id="8319480">,</span>&nbsp;<span class="ident" id="8319482">tc</span><span class="op" id="8319484">.</span><span class="ident" id="8319485">literal</span><span class="op" id="8319492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319499">}</span><br>
<span class="lineno"></span><span class="op" id="8319501">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span><span class="keyword" id="8319504">type</span>&nbsp;<span class="ident" id="8319509">subexpCase</span>&nbsp;<span class="keyword" id="8319520">struct</span>&nbsp;<span class="op" id="8319527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8319530">input</span>&nbsp;<span class="builtintype" id="8319536">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8319544">num</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8319550">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8319555">names</span>&nbsp;<span class="op" id="8319561">[</span><span class="op" id="8319562">]</span><span class="builtintype" id="8319563">string</span><br>
<span class="lineno">385</span><span class="op" id="8319570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8319573">var</span>&nbsp;<span class="ident" id="8319577">subexpCases</span>&nbsp;<span class="op" id="8319589">=</span>&nbsp;<span class="op" id="8319591">[</span><span class="op" id="8319592">]</span><span class="ident" id="8319593">subexpCase</span><span class="op" id="8319603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319606">{</span><span class="string" id="8319607">``</span><span class="op" id="8319609">,</span>&nbsp;<span class="num" id="8319611">0</span><span class="op" id="8319612">,</span>&nbsp;<span class="ident" id="8319614">nil</span><span class="op" id="8319617">}</span><span class="op" id="8319618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319621">{</span><span class="string" id="8319622">`.*`</span><span class="op" id="8319626">,</span>&nbsp;<span class="num" id="8319628">0</span><span class="op" id="8319629">,</span>&nbsp;<span class="ident" id="8319631">nil</span><span class="op" id="8319634">}</span><span class="op" id="8319635">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319638">{</span><span class="string" id="8319639">`abba`</span><span class="op" id="8319645">,</span>&nbsp;<span class="num" id="8319647">0</span><span class="op" id="8319648">,</span>&nbsp;<span class="ident" id="8319650">nil</span><span class="op" id="8319653">}</span><span class="op" id="8319654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319657">{</span><span class="string" id="8319658">`ab(b)a`</span><span class="op" id="8319666">,</span>&nbsp;<span class="num" id="8319668">1</span><span class="op" id="8319669">,</span>&nbsp;<span class="op" id="8319671">[</span><span class="op" id="8319672">]</span><span class="builtintype" id="8319673">string</span><span class="op" id="8319679">{</span><span class="string" id="8319680">&#34;&#34;</span><span class="op" id="8319682">,</span>&nbsp;<span class="string" id="8319684">&#34;&#34;</span><span class="op" id="8319686">}</span><span class="op" id="8319687">}</span><span class="op" id="8319688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319691">{</span><span class="string" id="8319692">`ab(.*)a`</span><span class="op" id="8319701">,</span>&nbsp;<span class="num" id="8319703">1</span><span class="op" id="8319704">,</span>&nbsp;<span class="op" id="8319706">[</span><span class="op" id="8319707">]</span><span class="builtintype" id="8319708">string</span><span class="op" id="8319714">{</span><span class="string" id="8319715">&#34;&#34;</span><span class="op" id="8319717">,</span>&nbsp;<span class="string" id="8319719">&#34;&#34;</span><span class="op" id="8319721">}</span><span class="op" id="8319722">}</span><span class="op" id="8319723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319726">{</span><span class="string" id="8319727">`(.*)ab(.*)a`</span><span class="op" id="8319740">,</span>&nbsp;<span class="num" id="8319742">2</span><span class="op" id="8319743">,</span>&nbsp;<span class="op" id="8319745">[</span><span class="op" id="8319746">]</span><span class="builtintype" id="8319747">string</span><span class="op" id="8319753">{</span><span class="string" id="8319754">&#34;&#34;</span><span class="op" id="8319756">,</span>&nbsp;<span class="string" id="8319758">&#34;&#34;</span><span class="op" id="8319760">,</span>&nbsp;<span class="string" id="8319762">&#34;&#34;</span><span class="op" id="8319764">}</span><span class="op" id="8319765">}</span><span class="op" id="8319766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319769">{</span><span class="string" id="8319770">`(.*)(ab)(.*)a`</span><span class="op" id="8319785">,</span>&nbsp;<span class="num" id="8319787">3</span><span class="op" id="8319788">,</span>&nbsp;<span class="op" id="8319790">[</span><span class="op" id="8319791">]</span><span class="builtintype" id="8319792">string</span><span class="op" id="8319798">{</span><span class="string" id="8319799">&#34;&#34;</span><span class="op" id="8319801">,</span>&nbsp;<span class="string" id="8319803">&#34;&#34;</span><span class="op" id="8319805">,</span>&nbsp;<span class="string" id="8319807">&#34;&#34;</span><span class="op" id="8319809">,</span>&nbsp;<span class="string" id="8319811">&#34;&#34;</span><span class="op" id="8319813">}</span><span class="op" id="8319814">}</span><span class="op" id="8319815">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319818">{</span><span class="string" id="8319819">`(.*)((a)b)(.*)a`</span><span class="op" id="8319836">,</span>&nbsp;<span class="num" id="8319838">4</span><span class="op" id="8319839">,</span>&nbsp;<span class="op" id="8319841">[</span><span class="op" id="8319842">]</span><span class="builtintype" id="8319843">string</span><span class="op" id="8319849">{</span><span class="string" id="8319850">&#34;&#34;</span><span class="op" id="8319852">,</span>&nbsp;<span class="string" id="8319854">&#34;&#34;</span><span class="op" id="8319856">,</span>&nbsp;<span class="string" id="8319858">&#34;&#34;</span><span class="op" id="8319860">,</span>&nbsp;<span class="string" id="8319862">&#34;&#34;</span><span class="op" id="8319864">,</span>&nbsp;<span class="string" id="8319866">&#34;&#34;</span><span class="op" id="8319868">}</span><span class="op" id="8319869">}</span><span class="op" id="8319870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319873">{</span><span class="string" id="8319874">`(.*)(\(ab)(.*)a`</span><span class="op" id="8319891">,</span>&nbsp;<span class="num" id="8319893">3</span><span class="op" id="8319894">,</span>&nbsp;<span class="op" id="8319896">[</span><span class="op" id="8319897">]</span><span class="builtintype" id="8319898">string</span><span class="op" id="8319904">{</span><span class="string" id="8319905">&#34;&#34;</span><span class="op" id="8319907">,</span>&nbsp;<span class="string" id="8319909">&#34;&#34;</span><span class="op" id="8319911">,</span>&nbsp;<span class="string" id="8319913">&#34;&#34;</span><span class="op" id="8319915">,</span>&nbsp;<span class="string" id="8319917">&#34;&#34;</span><span class="op" id="8319919">}</span><span class="op" id="8319920">}</span><span class="op" id="8319921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319924">{</span><span class="string" id="8319925">`(.*)(\(a\)b)(.*)a`</span><span class="op" id="8319944">,</span>&nbsp;<span class="num" id="8319946">3</span><span class="op" id="8319947">,</span>&nbsp;<span class="op" id="8319949">[</span><span class="op" id="8319950">]</span><span class="builtintype" id="8319951">string</span><span class="op" id="8319957">{</span><span class="string" id="8319958">&#34;&#34;</span><span class="op" id="8319960">,</span>&nbsp;<span class="string" id="8319962">&#34;&#34;</span><span class="op" id="8319964">,</span>&nbsp;<span class="string" id="8319966">&#34;&#34;</span><span class="op" id="8319968">,</span>&nbsp;<span class="string" id="8319970">&#34;&#34;</span><span class="op" id="8319972">}</span><span class="op" id="8319973">}</span><span class="op" id="8319974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319977">{</span><span class="string" id="8319978">`(?P&lt;foo&gt;.*)(?P&lt;bar&gt;(a)b)(?P&lt;foo&gt;.*)a`</span><span class="op" id="8320016">,</span>&nbsp;<span class="num" id="8320018">4</span><span class="op" id="8320019">,</span>&nbsp;<span class="op" id="8320021">[</span><span class="op" id="8320022">]</span><span class="builtintype" id="8320023">string</span><span class="op" id="8320029">{</span><span class="string" id="8320030">&#34;&#34;</span><span class="op" id="8320032">,</span>&nbsp;<span class="string" id="8320034">&#34;foo&#34;</span><span class="op" id="8320039">,</span>&nbsp;<span class="string" id="8320041">&#34;bar&#34;</span><span class="op" id="8320046">,</span>&nbsp;<span class="string" id="8320048">&#34;&#34;</span><span class="op" id="8320050">,</span>&nbsp;<span class="string" id="8320052">&#34;foo&#34;</span><span class="op" id="8320057">}</span><span class="op" id="8320058">}</span><span class="op" id="8320059">,</span><br>
<span class="lineno"></span><span class="op" id="8320061">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="8320064">func</span>&nbsp;<span class="ident" id="8320069">TestSubexp</span><span class="op" id="8320079">(</span><span class="ident" id="8320080">t</span>&nbsp;<span class="op" id="8320082">*</span><span class="ident" id="8320083">testing</span><span class="op" id="8320090">.</span><span class="ident" id="8320091">T</span><span class="op" id="8320092">)</span>&nbsp;<span class="op" id="8320094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8320097">for</span>&nbsp;<span class="ident" id="8320101">_</span><span class="op" id="8320102">,</span>&nbsp;<span class="ident" id="8320104">c</span>&nbsp;<span class="op" id="8320106">:=</span>&nbsp;<span class="keyword" id="8320109">range</span>&nbsp;<span class="ident" id="8320115">subexpCases</span>&nbsp;<span class="op" id="8320127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8320131">re</span>&nbsp;<span class="op" id="8320134">:=</span>&nbsp;<span class="ident" id="8320137">MustCompile</span><span class="op" id="8320148">(</span><span class="ident" id="8320149">c</span><span class="op" id="8320150">.</span><span class="ident" id="8320151">input</span><span class="op" id="8320156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8320160">n</span>&nbsp;<span class="op" id="8320162">:=</span>&nbsp;<span class="ident" id="8320165">re</span><span class="op" id="8320167">.</span><span class="ident" id="8320168">NumSubexp</span><span class="op" id="8320177">(</span><span class="op" id="8320178">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8320182">if</span>&nbsp;<span class="ident" id="8320185">n</span>&nbsp;<span class="op" id="8320187">!=</span>&nbsp;<span class="ident" id="8320190">c</span><span class="op" id="8320191">.</span><span class="ident" id="8320192">num</span>&nbsp;<span class="op" id="8320196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8320201">t</span><span class="op" id="8320202">.</span><span class="ident" id="8320203">Errorf</span><span class="op" id="8320209">(</span><span class="string" id="8320210">&#34;%q:&nbsp;NumSubexp&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8320239">,</span>&nbsp;<span class="ident" id="8320241">c</span><span class="op" id="8320242">.</span><span class="ident" id="8320243">input</span><span class="op" id="8320248">,</span>&nbsp;<span class="ident" id="8320250">n</span><span class="op" id="8320251">,</span>&nbsp;<span class="ident" id="8320253">c</span><span class="op" id="8320254">.</span><span class="ident" id="8320255">num</span><span class="op" id="8320258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8320263">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8320274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8320278">names</span>&nbsp;<span class="op" id="8320284">:=</span>&nbsp;<span class="ident" id="8320287">re</span><span class="op" id="8320289">.</span><span class="ident" id="8320290">SubexpNames</span><span class="op" id="8320301">(</span><span class="op" id="8320302">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8320306">if</span>&nbsp;<span class="builtinfunc" id="8320309">len</span><span class="op" id="8320312">(</span><span class="ident" id="8320313">names</span><span class="op" id="8320318">)</span>&nbsp;<span class="op" id="8320320">!=</span>&nbsp;<span class="num" id="8320323">1</span><span class="op" id="8320324">+</span><span class="ident" id="8320325">n</span>&nbsp;<span class="op" id="8320327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8320332">t</span><span class="op" id="8320333">.</span><span class="ident" id="8320334">Errorf</span><span class="op" id="8320340">(</span><span class="string" id="8320341">&#34;%q:&nbsp;len(SubexpNames)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8320377">,</span>&nbsp;<span class="ident" id="8320379">c</span><span class="op" id="8320380">.</span><span class="ident" id="8320381">input</span><span class="op" id="8320386">,</span>&nbsp;<span class="builtinfunc" id="8320388">len</span><span class="op" id="8320391">(</span><span class="ident" id="8320392">names</span><span class="op" id="8320397">)</span><span class="op" id="8320398">,</span>&nbsp;<span class="ident" id="8320400">n</span><span class="op" id="8320401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8320406">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8320417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8320421">if</span>&nbsp;<span class="ident" id="8320424">c</span><span class="op" id="8320425">.</span><span class="ident" id="8320426">names</span>&nbsp;<span class="op" id="8320432">!=</span>&nbsp;<span class="ident" id="8320435">nil</span>&nbsp;<span class="op" id="8320439">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8320444">for</span>&nbsp;<span class="ident" id="8320448">i</span>&nbsp;<span class="op" id="8320450">:=</span>&nbsp;<span class="num" id="8320453">0</span><span class="op" id="8320454">;</span>&nbsp;<span class="ident" id="8320456">i</span>&nbsp;<span class="op" id="8320458">&lt;</span>&nbsp;<span class="num" id="8320460">1</span><span class="op" id="8320461">+</span><span class="ident" id="8320462">n</span><span class="op" id="8320463">;</span>&nbsp;<span class="ident" id="8320465">i</span><span class="op" id="8320466">++</span>&nbsp;<span class="op" id="8320469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8320475">if</span>&nbsp;<span class="ident" id="8320478">names</span><span class="op" id="8320483">[</span><span class="ident" id="8320484">i</span><span class="op" id="8320485">]</span>&nbsp;<span class="op" id="8320487">!=</span>&nbsp;<span class="ident" id="8320490">c</span><span class="op" id="8320491">.</span><span class="ident" id="8320492">names</span><span class="op" id="8320497">[</span><span class="ident" id="8320498">i</span><span class="op" id="8320499">]</span>&nbsp;<span class="op" id="8320501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8320508">t</span><span class="op" id="8320509">.</span><span class="ident" id="8320510">Errorf</span><span class="op" id="8320516">(</span><span class="string" id="8320517">&#34;%q:&nbsp;SubexpNames[%d]&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8320552">,</span>&nbsp;<span class="ident" id="8320554">c</span><span class="op" id="8320555">.</span><span class="ident" id="8320556">input</span><span class="op" id="8320561">,</span>&nbsp;<span class="ident" id="8320563">i</span><span class="op" id="8320564">,</span>&nbsp;<span class="ident" id="8320566">names</span><span class="op" id="8320571">[</span><span class="ident" id="8320572">i</span><span class="op" id="8320573">]</span><span class="op" id="8320574">,</span>&nbsp;<span class="ident" id="8320576">c</span><span class="op" id="8320577">.</span><span class="ident" id="8320578">names</span><span class="op" id="8320583">[</span><span class="ident" id="8320584">i</span><span class="op" id="8320585">]</span><span class="op" id="8320586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8320592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8320597">}</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8320601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8320604">}</span><br>
<span class="lineno"></span><span class="op" id="8320606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8320609">var</span>&nbsp;<span class="ident" id="8320613">splitTests</span>&nbsp;<span class="op" id="8320624">=</span>&nbsp;<span class="op" id="8320626">[</span><span class="op" id="8320627">]</span><span class="keyword" id="8320628">struct</span>&nbsp;<span class="op" id="8320635">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8320638">s</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8320642">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8320650">r</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8320654">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8320662">n</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8320666">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8320671">out</span>&nbsp;<span class="op" id="8320675">[</span><span class="op" id="8320676">]</span><span class="builtintype" id="8320677">string</span><br>
<span class="lineno"></span><span class="op" id="8320684">}</span><span class="op" id="8320685">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8320688">{</span><span class="string" id="8320689">&#34;foo:and:bar&#34;</span><span class="op" id="8320702">,</span>&nbsp;<span class="string" id="8320704">&#34;:&#34;</span><span class="op" id="8320707">,</span>&nbsp;<span class="op" id="8320709">-</span><span class="num" id="8320710">1</span><span class="op" id="8320711">,</span>&nbsp;<span class="op" id="8320713">[</span><span class="op" id="8320714">]</span><span class="builtintype" id="8320715">string</span><span class="op" id="8320721">{</span><span class="string" id="8320722">&#34;foo&#34;</span><span class="op" id="8320727">,</span>&nbsp;<span class="string" id="8320729">&#34;and&#34;</span><span class="op" id="8320734">,</span>&nbsp;<span class="string" id="8320736">&#34;bar&#34;</span><span class="op" id="8320741">}</span><span class="op" id="8320742">}</span><span class="op" id="8320743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8320746">{</span><span class="string" id="8320747">&#34;foo:and:bar&#34;</span><span class="op" id="8320760">,</span>&nbsp;<span class="string" id="8320762">&#34;:&#34;</span><span class="op" id="8320765">,</span>&nbsp;<span class="num" id="8320767">1</span><span class="op" id="8320768">,</span>&nbsp;<span class="op" id="8320770">[</span><span class="op" id="8320771">]</span><span class="builtintype" id="8320772">string</span><span class="op" id="8320778">{</span><span class="string" id="8320779">&#34;foo:and:bar&#34;</span><span class="op" id="8320792">}</span><span class="op" id="8320793">}</span><span class="op" id="8320794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8320797">{</span><span class="string" id="8320798">&#34;foo:and:bar&#34;</span><span class="op" id="8320811">,</span>&nbsp;<span class="string" id="8320813">&#34;:&#34;</span><span class="op" id="8320816">,</span>&nbsp;<span class="num" id="8320818">2</span><span class="op" id="8320819">,</span>&nbsp;<span class="op" id="8320821">[</span><span class="op" id="8320822">]</span><span class="builtintype" id="8320823">string</span><span class="op" id="8320829">{</span><span class="string" id="8320830">&#34;foo&#34;</span><span class="op" id="8320835">,</span>&nbsp;<span class="string" id="8320837">&#34;and:bar&#34;</span><span class="op" id="8320846">}</span><span class="op" id="8320847">}</span><span class="op" id="8320848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8320851">{</span><span class="string" id="8320852">&#34;foo:and:bar&#34;</span><span class="op" id="8320865">,</span>&nbsp;<span class="string" id="8320867">&#34;foo&#34;</span><span class="op" id="8320872">,</span>&nbsp;<span class="op" id="8320874">-</span><span class="num" id="8320875">1</span><span class="op" id="8320876">,</span>&nbsp;<span class="op" id="8320878">[</span><span class="op" id="8320879">]</span><span class="builtintype" id="8320880">string</span><span class="op" id="8320886">{</span><span class="string" id="8320887">&#34;&#34;</span><span class="op" id="8320889">,</span>&nbsp;<span class="string" id="8320891">&#34;:and:bar&#34;</span><span class="op" id="8320901">}</span><span class="op" id="8320902">}</span><span class="op" id="8320903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8320906">{</span><span class="string" id="8320907">&#34;foo:and:bar&#34;</span><span class="op" id="8320920">,</span>&nbsp;<span class="string" id="8320922">&#34;bar&#34;</span><span class="op" id="8320927">,</span>&nbsp;<span class="op" id="8320929">-</span><span class="num" id="8320930">1</span><span class="op" id="8320931">,</span>&nbsp;<span class="op" id="8320933">[</span><span class="op" id="8320934">]</span><span class="builtintype" id="8320935">string</span><span class="op" id="8320941">{</span><span class="string" id="8320942">&#34;foo:and:&#34;</span><span class="op" id="8320952">,</span>&nbsp;<span class="string" id="8320954">&#34;&#34;</span><span class="op" id="8320956">}</span><span class="op" id="8320957">}</span><span class="op" id="8320958">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8320961">{</span><span class="string" id="8320962">&#34;foo:and:bar&#34;</span><span class="op" id="8320975">,</span>&nbsp;<span class="string" id="8320977">&#34;baz&#34;</span><span class="op" id="8320982">,</span>&nbsp;<span class="op" id="8320984">-</span><span class="num" id="8320985">1</span><span class="op" id="8320986">,</span>&nbsp;<span class="op" id="8320988">[</span><span class="op" id="8320989">]</span><span class="builtintype" id="8320990">string</span><span class="op" id="8320996">{</span><span class="string" id="8320997">&#34;foo:and:bar&#34;</span><span class="op" id="8321010">}</span><span class="op" id="8321011">}</span><span class="op" id="8321012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321015">{</span><span class="string" id="8321016">&#34;baabaab&#34;</span><span class="op" id="8321025">,</span>&nbsp;<span class="string" id="8321027">&#34;a&#34;</span><span class="op" id="8321030">,</span>&nbsp;<span class="op" id="8321032">-</span><span class="num" id="8321033">1</span><span class="op" id="8321034">,</span>&nbsp;<span class="op" id="8321036">[</span><span class="op" id="8321037">]</span><span class="builtintype" id="8321038">string</span><span class="op" id="8321044">{</span><span class="string" id="8321045">&#34;b&#34;</span><span class="op" id="8321048">,</span>&nbsp;<span class="string" id="8321050">&#34;&#34;</span><span class="op" id="8321052">,</span>&nbsp;<span class="string" id="8321054">&#34;b&#34;</span><span class="op" id="8321057">,</span>&nbsp;<span class="string" id="8321059">&#34;&#34;</span><span class="op" id="8321061">,</span>&nbsp;<span class="string" id="8321063">&#34;b&#34;</span><span class="op" id="8321066">}</span><span class="op" id="8321067">}</span><span class="op" id="8321068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321071">{</span><span class="string" id="8321072">&#34;baabaab&#34;</span><span class="op" id="8321081">,</span>&nbsp;<span class="string" id="8321083">&#34;a*&#34;</span><span class="op" id="8321087">,</span>&nbsp;<span class="op" id="8321089">-</span><span class="num" id="8321090">1</span><span class="op" id="8321091">,</span>&nbsp;<span class="op" id="8321093">[</span><span class="op" id="8321094">]</span><span class="builtintype" id="8321095">string</span><span class="op" id="8321101">{</span><span class="string" id="8321102">&#34;b&#34;</span><span class="op" id="8321105">,</span>&nbsp;<span class="string" id="8321107">&#34;b&#34;</span><span class="op" id="8321110">,</span>&nbsp;<span class="string" id="8321112">&#34;b&#34;</span><span class="op" id="8321115">}</span><span class="op" id="8321116">}</span><span class="op" id="8321117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321120">{</span><span class="string" id="8321121">&#34;baabaab&#34;</span><span class="op" id="8321130">,</span>&nbsp;<span class="string" id="8321132">&#34;ba*&#34;</span><span class="op" id="8321137">,</span>&nbsp;<span class="op" id="8321139">-</span><span class="num" id="8321140">1</span><span class="op" id="8321141">,</span>&nbsp;<span class="op" id="8321143">[</span><span class="op" id="8321144">]</span><span class="builtintype" id="8321145">string</span><span class="op" id="8321151">{</span><span class="string" id="8321152">&#34;&#34;</span><span class="op" id="8321154">,</span>&nbsp;<span class="string" id="8321156">&#34;&#34;</span><span class="op" id="8321158">,</span>&nbsp;<span class="string" id="8321160">&#34;&#34;</span><span class="op" id="8321162">,</span>&nbsp;<span class="string" id="8321164">&#34;&#34;</span><span class="op" id="8321166">}</span><span class="op" id="8321167">}</span><span class="op" id="8321168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321171">{</span><span class="string" id="8321172">&#34;foobar&#34;</span><span class="op" id="8321180">,</span>&nbsp;<span class="string" id="8321182">&#34;f*b*&#34;</span><span class="op" id="8321188">,</span>&nbsp;<span class="op" id="8321190">-</span><span class="num" id="8321191">1</span><span class="op" id="8321192">,</span>&nbsp;<span class="op" id="8321194">[</span><span class="op" id="8321195">]</span><span class="builtintype" id="8321196">string</span><span class="op" id="8321202">{</span><span class="string" id="8321203">&#34;&#34;</span><span class="op" id="8321205">,</span>&nbsp;<span class="string" id="8321207">&#34;o&#34;</span><span class="op" id="8321210">,</span>&nbsp;<span class="string" id="8321212">&#34;o&#34;</span><span class="op" id="8321215">,</span>&nbsp;<span class="string" id="8321217">&#34;a&#34;</span><span class="op" id="8321220">,</span>&nbsp;<span class="string" id="8321222">&#34;r&#34;</span><span class="op" id="8321225">}</span><span class="op" id="8321226">}</span><span class="op" id="8321227">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321230">{</span><span class="string" id="8321231">&#34;foobar&#34;</span><span class="op" id="8321239">,</span>&nbsp;<span class="string" id="8321241">&#34;f+.*b+&#34;</span><span class="op" id="8321249">,</span>&nbsp;<span class="op" id="8321251">-</span><span class="num" id="8321252">1</span><span class="op" id="8321253">,</span>&nbsp;<span class="op" id="8321255">[</span><span class="op" id="8321256">]</span><span class="builtintype" id="8321257">string</span><span class="op" id="8321263">{</span><span class="string" id="8321264">&#34;&#34;</span><span class="op" id="8321266">,</span>&nbsp;<span class="string" id="8321268">&#34;ar&#34;</span><span class="op" id="8321272">}</span><span class="op" id="8321273">}</span><span class="op" id="8321274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321277">{</span><span class="string" id="8321278">&#34;foobooboar&#34;</span><span class="op" id="8321290">,</span>&nbsp;<span class="string" id="8321292">&#34;o{2}&#34;</span><span class="op" id="8321298">,</span>&nbsp;<span class="op" id="8321300">-</span><span class="num" id="8321301">1</span><span class="op" id="8321302">,</span>&nbsp;<span class="op" id="8321304">[</span><span class="op" id="8321305">]</span><span class="builtintype" id="8321306">string</span><span class="op" id="8321312">{</span><span class="string" id="8321313">&#34;f&#34;</span><span class="op" id="8321316">,</span>&nbsp;<span class="string" id="8321318">&#34;b&#34;</span><span class="op" id="8321321">,</span>&nbsp;<span class="string" id="8321323">&#34;boar&#34;</span><span class="op" id="8321329">}</span><span class="op" id="8321330">}</span><span class="op" id="8321331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321334">{</span><span class="string" id="8321335">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="8321348">,</span>&nbsp;<span class="string" id="8321350">&#34;,&#34;</span><span class="op" id="8321353">,</span>&nbsp;<span class="num" id="8321355">3</span><span class="op" id="8321356">,</span>&nbsp;<span class="op" id="8321358">[</span><span class="op" id="8321359">]</span><span class="builtintype" id="8321360">string</span><span class="op" id="8321366">{</span><span class="string" id="8321367">&#34;a&#34;</span><span class="op" id="8321370">,</span>&nbsp;<span class="string" id="8321372">&#34;b&#34;</span><span class="op" id="8321375">,</span>&nbsp;<span class="string" id="8321377">&#34;c,d,e,f&#34;</span><span class="op" id="8321386">}</span><span class="op" id="8321387">}</span><span class="op" id="8321388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321391">{</span><span class="string" id="8321392">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="8321405">,</span>&nbsp;<span class="string" id="8321407">&#34;,&#34;</span><span class="op" id="8321410">,</span>&nbsp;<span class="num" id="8321412">0</span><span class="op" id="8321413">,</span>&nbsp;<span class="ident" id="8321415">nil</span><span class="op" id="8321418">}</span><span class="op" id="8321419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321422">{</span><span class="string" id="8321423">&#34;,&#34;</span><span class="op" id="8321426">,</span>&nbsp;<span class="string" id="8321428">&#34;,&#34;</span><span class="op" id="8321431">,</span>&nbsp;<span class="op" id="8321433">-</span><span class="num" id="8321434">1</span><span class="op" id="8321435">,</span>&nbsp;<span class="op" id="8321437">[</span><span class="op" id="8321438">]</span><span class="builtintype" id="8321439">string</span><span class="op" id="8321445">{</span><span class="string" id="8321446">&#34;&#34;</span><span class="op" id="8321448">,</span>&nbsp;<span class="string" id="8321450">&#34;&#34;</span><span class="op" id="8321452">}</span><span class="op" id="8321453">}</span><span class="op" id="8321454">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321457">{</span><span class="string" id="8321458">&#34;,,,&#34;</span><span class="op" id="8321463">,</span>&nbsp;<span class="string" id="8321465">&#34;,&#34;</span><span class="op" id="8321468">,</span>&nbsp;<span class="op" id="8321470">-</span><span class="num" id="8321471">1</span><span class="op" id="8321472">,</span>&nbsp;<span class="op" id="8321474">[</span><span class="op" id="8321475">]</span><span class="builtintype" id="8321476">string</span><span class="op" id="8321482">{</span><span class="string" id="8321483">&#34;&#34;</span><span class="op" id="8321485">,</span>&nbsp;<span class="string" id="8321487">&#34;&#34;</span><span class="op" id="8321489">,</span>&nbsp;<span class="string" id="8321491">&#34;&#34;</span><span class="op" id="8321493">,</span>&nbsp;<span class="string" id="8321495">&#34;&#34;</span><span class="op" id="8321497">}</span><span class="op" id="8321498">}</span><span class="op" id="8321499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321502">{</span><span class="string" id="8321503">&#34;&#34;</span><span class="op" id="8321505">,</span>&nbsp;<span class="string" id="8321507">&#34;,&#34;</span><span class="op" id="8321510">,</span>&nbsp;<span class="op" id="8321512">-</span><span class="num" id="8321513">1</span><span class="op" id="8321514">,</span>&nbsp;<span class="op" id="8321516">[</span><span class="op" id="8321517">]</span><span class="builtintype" id="8321518">string</span><span class="op" id="8321524">{</span><span class="string" id="8321525">&#34;&#34;</span><span class="op" id="8321527">}</span><span class="op" id="8321528">}</span><span class="op" id="8321529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321532">{</span><span class="string" id="8321533">&#34;&#34;</span><span class="op" id="8321535">,</span>&nbsp;<span class="string" id="8321537">&#34;.*&#34;</span><span class="op" id="8321541">,</span>&nbsp;<span class="op" id="8321543">-</span><span class="num" id="8321544">1</span><span class="op" id="8321545">,</span>&nbsp;<span class="op" id="8321547">[</span><span class="op" id="8321548">]</span><span class="builtintype" id="8321549">string</span><span class="op" id="8321555">{</span><span class="string" id="8321556">&#34;&#34;</span><span class="op" id="8321558">}</span><span class="op" id="8321559">}</span><span class="op" id="8321560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321563">{</span><span class="string" id="8321564">&#34;&#34;</span><span class="op" id="8321566">,</span>&nbsp;<span class="string" id="8321568">&#34;.+&#34;</span><span class="op" id="8321572">,</span>&nbsp;<span class="op" id="8321574">-</span><span class="num" id="8321575">1</span><span class="op" id="8321576">,</span>&nbsp;<span class="op" id="8321578">[</span><span class="op" id="8321579">]</span><span class="builtintype" id="8321580">string</span><span class="op" id="8321586">{</span><span class="string" id="8321587">&#34;&#34;</span><span class="op" id="8321589">}</span><span class="op" id="8321590">}</span><span class="op" id="8321591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321594">{</span><span class="string" id="8321595">&#34;&#34;</span><span class="op" id="8321597">,</span>&nbsp;<span class="string" id="8321599">&#34;&#34;</span><span class="op" id="8321601">,</span>&nbsp;<span class="op" id="8321603">-</span><span class="num" id="8321604">1</span><span class="op" id="8321605">,</span>&nbsp;<span class="op" id="8321607">[</span><span class="op" id="8321608">]</span><span class="builtintype" id="8321609">string</span><span class="op" id="8321615">{</span><span class="op" id="8321616">}</span><span class="op" id="8321617">}</span><span class="op" id="8321618">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321621">{</span><span class="string" id="8321622">&#34;foobar&#34;</span><span class="op" id="8321630">,</span>&nbsp;<span class="string" id="8321632">&#34;&#34;</span><span class="op" id="8321634">,</span>&nbsp;<span class="op" id="8321636">-</span><span class="num" id="8321637">1</span><span class="op" id="8321638">,</span>&nbsp;<span class="op" id="8321640">[</span><span class="op" id="8321641">]</span><span class="builtintype" id="8321642">string</span><span class="op" id="8321648">{</span><span class="string" id="8321649">&#34;f&#34;</span><span class="op" id="8321652">,</span>&nbsp;<span class="string" id="8321654">&#34;o&#34;</span><span class="op" id="8321657">,</span>&nbsp;<span class="string" id="8321659">&#34;o&#34;</span><span class="op" id="8321662">,</span>&nbsp;<span class="string" id="8321664">&#34;b&#34;</span><span class="op" id="8321667">,</span>&nbsp;<span class="string" id="8321669">&#34;a&#34;</span><span class="op" id="8321672">,</span>&nbsp;<span class="string" id="8321674">&#34;r&#34;</span><span class="op" id="8321677">}</span><span class="op" id="8321678">}</span><span class="op" id="8321679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321682">{</span><span class="string" id="8321683">&#34;abaabaccadaaae&#34;</span><span class="op" id="8321699">,</span>&nbsp;<span class="string" id="8321701">&#34;a*&#34;</span><span class="op" id="8321705">,</span>&nbsp;<span class="num" id="8321707">5</span><span class="op" id="8321708">,</span>&nbsp;<span class="op" id="8321710">[</span><span class="op" id="8321711">]</span><span class="builtintype" id="8321712">string</span><span class="op" id="8321718">{</span><span class="string" id="8321719">&#34;&#34;</span><span class="op" id="8321721">,</span>&nbsp;<span class="string" id="8321723">&#34;b&#34;</span><span class="op" id="8321726">,</span>&nbsp;<span class="string" id="8321728">&#34;b&#34;</span><span class="op" id="8321731">,</span>&nbsp;<span class="string" id="8321733">&#34;c&#34;</span><span class="op" id="8321736">,</span>&nbsp;<span class="string" id="8321738">&#34;cadaaae&#34;</span><span class="op" id="8321747">}</span><span class="op" id="8321748">}</span><span class="op" id="8321749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321752">{</span><span class="string" id="8321753">&#34;:x:y:z:&#34;</span><span class="op" id="8321762">,</span>&nbsp;<span class="string" id="8321764">&#34;:&#34;</span><span class="op" id="8321767">,</span>&nbsp;<span class="op" id="8321769">-</span><span class="num" id="8321770">1</span><span class="op" id="8321771">,</span>&nbsp;<span class="op" id="8321773">[</span><span class="op" id="8321774">]</span><span class="builtintype" id="8321775">string</span><span class="op" id="8321781">{</span><span class="string" id="8321782">&#34;&#34;</span><span class="op" id="8321784">,</span>&nbsp;<span class="string" id="8321786">&#34;x&#34;</span><span class="op" id="8321789">,</span>&nbsp;<span class="string" id="8321791">&#34;y&#34;</span><span class="op" id="8321794">,</span>&nbsp;<span class="string" id="8321796">&#34;z&#34;</span><span class="op" id="8321799">,</span>&nbsp;<span class="string" id="8321801">&#34;&#34;</span><span class="op" id="8321803">}</span><span class="op" id="8321804">}</span><span class="op" id="8321805">,</span><br>
<span class="lineno"></span><span class="op" id="8321807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="8321810">func</span>&nbsp;<span class="ident" id="8321815">TestSplit</span><span class="op" id="8321824">(</span><span class="ident" id="8321825">t</span>&nbsp;<span class="op" id="8321827">*</span><span class="ident" id="8321828">testing</span><span class="op" id="8321835">.</span><span class="ident" id="8321836">T</span><span class="op" id="8321837">)</span>&nbsp;<span class="op" id="8321839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8321842">for</span>&nbsp;<span class="ident" id="8321846">i</span><span class="op" id="8321847">,</span>&nbsp;<span class="ident" id="8321849">test</span>&nbsp;<span class="op" id="8321854">:=</span>&nbsp;<span class="keyword" id="8321857">range</span>&nbsp;<span class="ident" id="8321863">splitTests</span>&nbsp;<span class="op" id="8321874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8321878">re</span><span class="op" id="8321880">,</span>&nbsp;<span class="ident" id="8321882">err</span>&nbsp;<span class="op" id="8321886">:=</span>&nbsp;<span class="ident" id="8321889">Compile</span><span class="op" id="8321896">(</span><span class="ident" id="8321897">test</span><span class="op" id="8321901">.</span><span class="ident" id="8321902">r</span><span class="op" id="8321903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8321907">if</span>&nbsp;<span class="ident" id="8321910">err</span>&nbsp;<span class="op" id="8321914">!=</span>&nbsp;<span class="ident" id="8321917">nil</span>&nbsp;<span class="op" id="8321921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8321926">t</span><span class="op" id="8321927">.</span><span class="ident" id="8321928">Errorf</span><span class="op" id="8321934">(</span><span class="string" id="8321935">&#34;#%d:&nbsp;%q:&nbsp;compile&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8321963">,</span>&nbsp;<span class="ident" id="8321965">i</span><span class="op" id="8321966">,</span>&nbsp;<span class="ident" id="8321968">test</span><span class="op" id="8321972">.</span><span class="ident" id="8321973">r</span><span class="op" id="8321974">,</span>&nbsp;<span class="ident" id="8321976">err</span><span class="op" id="8321979">.</span><span class="ident" id="8321980">Error</span><span class="op" id="8321985">(</span><span class="op" id="8321986">)</span><span class="op" id="8321987">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8321992">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8322003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8322008">split</span>&nbsp;<span class="op" id="8322014">:=</span>&nbsp;<span class="ident" id="8322017">re</span><span class="op" id="8322019">.</span><span class="ident" id="8322020">Split</span><span class="op" id="8322025">(</span><span class="ident" id="8322026">test</span><span class="op" id="8322030">.</span><span class="ident" id="8322031">s</span><span class="op" id="8322032">,</span>&nbsp;<span class="ident" id="8322034">test</span><span class="op" id="8322038">.</span><span class="ident" id="8322039">n</span><span class="op" id="8322040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8322044">if</span>&nbsp;<span class="op" id="8322047">!</span><span class="ident" id="8322048">reflect</span><span class="op" id="8322055">.</span><span class="ident" id="8322056">DeepEqual</span><span class="op" id="8322065">(</span><span class="ident" id="8322066">split</span><span class="op" id="8322071">,</span>&nbsp;<span class="ident" id="8322073">test</span><span class="op" id="8322077">.</span><span class="ident" id="8322078">out</span><span class="op" id="8322081">)</span>&nbsp;<span class="op" id="8322083">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8322088">t</span><span class="op" id="8322089">.</span><span class="ident" id="8322090">Errorf</span><span class="op" id="8322096">(</span><span class="string" id="8322097">&#34;#%d:&nbsp;%q:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8322123">,</span>&nbsp;<span class="ident" id="8322125">i</span><span class="op" id="8322126">,</span>&nbsp;<span class="ident" id="8322128">test</span><span class="op" id="8322132">.</span><span class="ident" id="8322133">r</span><span class="op" id="8322134">,</span>&nbsp;<span class="ident" id="8322136">split</span><span class="op" id="8322141">,</span>&nbsp;<span class="ident" id="8322143">test</span><span class="op" id="8322147">.</span><span class="ident" id="8322148">out</span><span class="op" id="8322151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8322155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8322160">if</span>&nbsp;<span class="ident" id="8322163">QuoteMeta</span><span class="op" id="8322172">(</span><span class="ident" id="8322173">test</span><span class="op" id="8322177">.</span><span class="ident" id="8322178">r</span><span class="op" id="8322179">)</span>&nbsp;<span class="op" id="8322181">==</span>&nbsp;<span class="ident" id="8322184">test</span><span class="op" id="8322188">.</span><span class="ident" id="8322189">r</span>&nbsp;<span class="op" id="8322191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8322196">strsplit</span>&nbsp;<span class="op" id="8322205">:=</span>&nbsp;<span class="ident" id="8322208">strings</span><span class="op" id="8322215">.</span><span class="ident" id="8322216">SplitN</span><span class="op" id="8322222">(</span><span class="ident" id="8322223">test</span><span class="op" id="8322227">.</span><span class="ident" id="8322228">s</span><span class="op" id="8322229">,</span>&nbsp;<span class="ident" id="8322231">test</span><span class="op" id="8322235">.</span><span class="ident" id="8322236">r</span><span class="op" id="8322237">,</span>&nbsp;<span class="ident" id="8322239">test</span><span class="op" id="8322243">.</span><span class="ident" id="8322244">n</span><span class="op" id="8322245">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8322250">if</span>&nbsp;<span class="op" id="8322253">!</span><span class="ident" id="8322254">reflect</span><span class="op" id="8322261">.</span><span class="ident" id="8322262">DeepEqual</span><span class="op" id="8322271">(</span><span class="ident" id="8322272">split</span><span class="op" id="8322277">,</span>&nbsp;<span class="ident" id="8322279">strsplit</span><span class="op" id="8322287">)</span>&nbsp;<span class="op" id="8322289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8322295">t</span><span class="op" id="8322296">.</span><span class="ident" id="8322297">Errorf</span><span class="op" id="8322303">(</span><span class="string" id="8322304">&#34;#%d:&nbsp;Split(%q,&nbsp;%q,&nbsp;%d):&nbsp;regexp&nbsp;vs&nbsp;strings&nbsp;mismatch\nregexp=%q\nstrings=%q&#34;</span><span class="op" id="8322379">,</span>&nbsp;<span class="ident" id="8322381">i</span><span class="op" id="8322382">,</span>&nbsp;<span class="ident" id="8322384">test</span><span class="op" id="8322388">.</span><span class="ident" id="8322389">s</span><span class="op" id="8322390">,</span>&nbsp;<span class="ident" id="8322392">test</span><span class="op" id="8322396">.</span><span class="ident" id="8322397">r</span><span class="op" id="8322398">,</span>&nbsp;<span class="ident" id="8322400">test</span><span class="op" id="8322404">.</span><span class="ident" id="8322405">n</span><span class="op" id="8322406">,</span>&nbsp;<span class="ident" id="8322408">split</span><span class="op" id="8322413">,</span>&nbsp;<span class="ident" id="8322415">strsplit</span><span class="op" id="8322423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8322428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8322432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8322435">}</span><br>
<span class="lineno">475</span><span class="op" id="8322437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8322440">//&nbsp;Check&nbsp;that&nbsp;one-pass&nbsp;cutoff&nbsp;does&nbsp;trigger.</span><br>
<span class="lineno"></span><span class="keyword" id="8322484">func</span>&nbsp;<span class="ident" id="8322489">TestOnePassCutoff</span><span class="op" id="8322506">(</span><span class="ident" id="8322507">t</span>&nbsp;<span class="op" id="8322509">*</span><span class="ident" id="8322510">testing</span><span class="op" id="8322517">.</span><span class="ident" id="8322518">T</span><span class="op" id="8322519">)</span>&nbsp;<span class="op" id="8322521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8322524">re</span><span class="op" id="8322526">,</span>&nbsp;<span class="ident" id="8322528">err</span>&nbsp;<span class="op" id="8322532">:=</span>&nbsp;<span class="ident" id="8322535">syntax</span><span class="op" id="8322541">.</span><span class="ident" id="8322542">Parse</span><span class="op" id="8322547">(</span><span class="string" id="8322548">`^x{1,1000}y{1,1000}$`</span><span class="op" id="8322570">,</span>&nbsp;<span class="ident" id="8322572">syntax</span><span class="op" id="8322578">.</span><span class="ident" id="8322579">Perl</span><span class="op" id="8322583">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8322586">if</span>&nbsp;<span class="ident" id="8322589">err</span>&nbsp;<span class="op" id="8322593">!=</span>&nbsp;<span class="ident" id="8322596">nil</span>&nbsp;<span class="op" id="8322600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8322604">t</span><span class="op" id="8322605">.</span><span class="ident" id="8322606">Fatalf</span><span class="op" id="8322612">(</span><span class="string" id="8322613">&#34;parse:&nbsp;%v&#34;</span><span class="op" id="8322624">,</span>&nbsp;<span class="ident" id="8322626">err</span><span class="op" id="8322629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8322632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8322635">p</span><span class="op" id="8322636">,</span>&nbsp;<span class="ident" id="8322638">err</span>&nbsp;<span class="op" id="8322642">:=</span>&nbsp;<span class="ident" id="8322645">syntax</span><span class="op" id="8322651">.</span><span class="ident" id="8322652">Compile</span><span class="op" id="8322659">(</span><span class="ident" id="8322660">re</span><span class="op" id="8322662">.</span><span class="ident" id="8322663">Simplify</span><span class="op" id="8322671">(</span><span class="op" id="8322672">)</span><span class="op" id="8322673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8322676">if</span>&nbsp;<span class="ident" id="8322679">err</span>&nbsp;<span class="op" id="8322683">!=</span>&nbsp;<span class="ident" id="8322686">nil</span>&nbsp;<span class="op" id="8322690">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8322694">t</span><span class="op" id="8322695">.</span><span class="ident" id="8322696">Fatalf</span><span class="op" id="8322702">(</span><span class="string" id="8322703">&#34;compile:&nbsp;%v&#34;</span><span class="op" id="8322716">,</span>&nbsp;<span class="ident" id="8322718">err</span><span class="op" id="8322721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8322724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8322727">if</span>&nbsp;<span class="ident" id="8322730">compileOnePass</span><span class="op" id="8322744">(</span><span class="ident" id="8322745">p</span><span class="op" id="8322746">)</span>&nbsp;<span class="op" id="8322748">!=</span>&nbsp;<span class="ident" id="8322751">notOnePass</span>&nbsp;<span class="op" id="8322762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8322766">t</span><span class="op" id="8322767">.</span><span class="ident" id="8322768">Fatalf</span><span class="op" id="8322774">(</span><span class="string" id="8322775">&#34;makeOnePass&nbsp;succeeded;&nbsp;wanted&nbsp;notOnePass&#34;</span><span class="op" id="8322817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8322820">}</span><br>
<span class="lineno">490</span><span class="op" id="8322822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8322825">func</span>&nbsp;<span class="ident" id="8322830">BenchmarkLiteral</span><span class="op" id="8322846">(</span><span class="ident" id="8322847">b</span>&nbsp;<span class="op" id="8322849">*</span><span class="ident" id="8322850">testing</span><span class="op" id="8322857">.</span><span class="ident" id="8322858">B</span><span class="op" id="8322859">)</span>&nbsp;<span class="op" id="8322861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8322864">x</span>&nbsp;<span class="op" id="8322866">:=</span>&nbsp;<span class="ident" id="8322869">strings</span><span class="op" id="8322876">.</span><span class="ident" id="8322877">Repeat</span><span class="op" id="8322883">(</span><span class="string" id="8322884">&#34;x&#34;</span><span class="op" id="8322887">,</span>&nbsp;<span class="num" id="8322889">50</span><span class="op" id="8322891">)</span>&nbsp;<span class="op" id="8322893">+</span>&nbsp;<span class="string" id="8322895">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8322900">b</span><span class="op" id="8322901">.</span><span class="ident" id="8322902">StopTimer</span><span class="op" id="8322911">(</span><span class="op" id="8322912">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8322915">re</span>&nbsp;<span class="op" id="8322918">:=</span>&nbsp;<span class="ident" id="8322921">MustCompile</span><span class="op" id="8322932">(</span><span class="string" id="8322933">&#34;y&#34;</span><span class="op" id="8322936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8322939">b</span><span class="op" id="8322940">.</span><span class="ident" id="8322941">StartTimer</span><span class="op" id="8322951">(</span><span class="op" id="8322952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8322955">for</span>&nbsp;<span class="ident" id="8322959">i</span>&nbsp;<span class="op" id="8322961">:=</span>&nbsp;<span class="num" id="8322964">0</span><span class="op" id="8322965">;</span>&nbsp;<span class="ident" id="8322967">i</span>&nbsp;<span class="op" id="8322969">&lt;</span>&nbsp;<span class="ident" id="8322971">b</span><span class="op" id="8322972">.</span><span class="ident" id="8322973">N</span><span class="op" id="8322974">;</span>&nbsp;<span class="ident" id="8322976">i</span><span class="op" id="8322977">++</span>&nbsp;<span class="op" id="8322980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8322984">if</span>&nbsp;<span class="op" id="8322987">!</span><span class="ident" id="8322988">re</span><span class="op" id="8322990">.</span><span class="ident" id="8322991">MatchString</span><span class="op" id="8323002">(</span><span class="ident" id="8323003">x</span><span class="op" id="8323004">)</span>&nbsp;<span class="op" id="8323006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323011">b</span><span class="op" id="8323012">.</span><span class="ident" id="8323013">Fatalf</span><span class="op" id="8323019">(</span><span class="string" id="8323020">&#34;no&nbsp;match!&#34;</span><span class="op" id="8323031">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8323035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8323038">}</span><br>
<span class="lineno"></span><span class="op" id="8323040">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8323043">func</span>&nbsp;<span class="ident" id="8323048">BenchmarkNotLiteral</span><span class="op" id="8323067">(</span><span class="ident" id="8323068">b</span>&nbsp;<span class="op" id="8323070">*</span><span class="ident" id="8323071">testing</span><span class="op" id="8323078">.</span><span class="ident" id="8323079">B</span><span class="op" id="8323080">)</span>&nbsp;<span class="op" id="8323082">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323085">x</span>&nbsp;<span class="op" id="8323087">:=</span>&nbsp;<span class="ident" id="8323090">strings</span><span class="op" id="8323097">.</span><span class="ident" id="8323098">Repeat</span><span class="op" id="8323104">(</span><span class="string" id="8323105">&#34;x&#34;</span><span class="op" id="8323108">,</span>&nbsp;<span class="num" id="8323110">50</span><span class="op" id="8323112">)</span>&nbsp;<span class="op" id="8323114">+</span>&nbsp;<span class="string" id="8323116">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323121">b</span><span class="op" id="8323122">.</span><span class="ident" id="8323123">StopTimer</span><span class="op" id="8323132">(</span><span class="op" id="8323133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323136">re</span>&nbsp;<span class="op" id="8323139">:=</span>&nbsp;<span class="ident" id="8323142">MustCompile</span><span class="op" id="8323153">(</span><span class="string" id="8323154">&#34;.y&#34;</span><span class="op" id="8323158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323161">b</span><span class="op" id="8323162">.</span><span class="ident" id="8323163">StartTimer</span><span class="op" id="8323173">(</span><span class="op" id="8323174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8323177">for</span>&nbsp;<span class="ident" id="8323181">i</span>&nbsp;<span class="op" id="8323183">:=</span>&nbsp;<span class="num" id="8323186">0</span><span class="op" id="8323187">;</span>&nbsp;<span class="ident" id="8323189">i</span>&nbsp;<span class="op" id="8323191">&lt;</span>&nbsp;<span class="ident" id="8323193">b</span><span class="op" id="8323194">.</span><span class="ident" id="8323195">N</span><span class="op" id="8323196">;</span>&nbsp;<span class="ident" id="8323198">i</span><span class="op" id="8323199">++</span>&nbsp;<span class="op" id="8323202">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8323206">if</span>&nbsp;<span class="op" id="8323209">!</span><span class="ident" id="8323210">re</span><span class="op" id="8323212">.</span><span class="ident" id="8323213">MatchString</span><span class="op" id="8323224">(</span><span class="ident" id="8323225">x</span><span class="op" id="8323226">)</span>&nbsp;<span class="op" id="8323228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323233">b</span><span class="op" id="8323234">.</span><span class="ident" id="8323235">Fatalf</span><span class="op" id="8323241">(</span><span class="string" id="8323242">&#34;no&nbsp;match!&#34;</span><span class="op" id="8323253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8323257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8323260">}</span><br>
<span class="lineno"></span><span class="op" id="8323262">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span><span class="keyword" id="8323265">func</span>&nbsp;<span class="ident" id="8323270">BenchmarkMatchClass</span><span class="op" id="8323289">(</span><span class="ident" id="8323290">b</span>&nbsp;<span class="op" id="8323292">*</span><span class="ident" id="8323293">testing</span><span class="op" id="8323300">.</span><span class="ident" id="8323301">B</span><span class="op" id="8323302">)</span>&nbsp;<span class="op" id="8323304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323307">b</span><span class="op" id="8323308">.</span><span class="ident" id="8323309">StopTimer</span><span class="op" id="8323318">(</span><span class="op" id="8323319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323322">x</span>&nbsp;<span class="op" id="8323324">:=</span>&nbsp;<span class="ident" id="8323327">strings</span><span class="op" id="8323334">.</span><span class="ident" id="8323335">Repeat</span><span class="op" id="8323341">(</span><span class="string" id="8323342">&#34;xxxx&#34;</span><span class="op" id="8323348">,</span>&nbsp;<span class="num" id="8323350">20</span><span class="op" id="8323352">)</span>&nbsp;<span class="op" id="8323354">+</span>&nbsp;<span class="string" id="8323356">&#34;w&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323361">re</span>&nbsp;<span class="op" id="8323364">:=</span>&nbsp;<span class="ident" id="8323367">MustCompile</span><span class="op" id="8323378">(</span><span class="string" id="8323379">&#34;[abcdw]&#34;</span><span class="op" id="8323388">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323391">b</span><span class="op" id="8323392">.</span><span class="ident" id="8323393">StartTimer</span><span class="op" id="8323403">(</span><span class="op" id="8323404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8323407">for</span>&nbsp;<span class="ident" id="8323411">i</span>&nbsp;<span class="op" id="8323413">:=</span>&nbsp;<span class="num" id="8323416">0</span><span class="op" id="8323417">;</span>&nbsp;<span class="ident" id="8323419">i</span>&nbsp;<span class="op" id="8323421">&lt;</span>&nbsp;<span class="ident" id="8323423">b</span><span class="op" id="8323424">.</span><span class="ident" id="8323425">N</span><span class="op" id="8323426">;</span>&nbsp;<span class="ident" id="8323428">i</span><span class="op" id="8323429">++</span>&nbsp;<span class="op" id="8323432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8323436">if</span>&nbsp;<span class="op" id="8323439">!</span><span class="ident" id="8323440">re</span><span class="op" id="8323442">.</span><span class="ident" id="8323443">MatchString</span><span class="op" id="8323454">(</span><span class="ident" id="8323455">x</span><span class="op" id="8323456">)</span>&nbsp;<span class="op" id="8323458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323463">b</span><span class="op" id="8323464">.</span><span class="ident" id="8323465">Fatalf</span><span class="op" id="8323471">(</span><span class="string" id="8323472">&#34;no&nbsp;match!&#34;</span><span class="op" id="8323483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8323487">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8323490">}</span><br>
<span class="lineno"></span><span class="op" id="8323492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8323495">func</span>&nbsp;<span class="ident" id="8323500">BenchmarkMatchClass_InRange</span><span class="op" id="8323527">(</span><span class="ident" id="8323528">b</span>&nbsp;<span class="op" id="8323530">*</span><span class="ident" id="8323531">testing</span><span class="op" id="8323538">.</span><span class="ident" id="8323539">B</span><span class="op" id="8323540">)</span>&nbsp;<span class="op" id="8323542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323545">b</span><span class="op" id="8323546">.</span><span class="ident" id="8323547">StopTimer</span><span class="op" id="8323556">(</span><span class="op" id="8323557">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8323560">//&nbsp;&#39;b&#39;&nbsp;is&nbsp;between&nbsp;&#39;a&#39;&nbsp;and&nbsp;&#39;c&#39;,&nbsp;so&nbsp;the&nbsp;charclass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8323609">//&nbsp;range&nbsp;checking&nbsp;is&nbsp;no&nbsp;help&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323645">x</span>&nbsp;<span class="op" id="8323647">:=</span>&nbsp;<span class="ident" id="8323650">strings</span><span class="op" id="8323657">.</span><span class="ident" id="8323658">Repeat</span><span class="op" id="8323664">(</span><span class="string" id="8323665">&#34;bbbb&#34;</span><span class="op" id="8323671">,</span>&nbsp;<span class="num" id="8323673">20</span><span class="op" id="8323675">)</span>&nbsp;<span class="op" id="8323677">+</span>&nbsp;<span class="string" id="8323679">&#34;c&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323684">re</span>&nbsp;<span class="op" id="8323687">:=</span>&nbsp;<span class="ident" id="8323690">MustCompile</span><span class="op" id="8323701">(</span><span class="string" id="8323702">&#34;[ac]&#34;</span><span class="op" id="8323708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323711">b</span><span class="op" id="8323712">.</span><span class="ident" id="8323713">StartTimer</span><span class="op" id="8323723">(</span><span class="op" id="8323724">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8323727">for</span>&nbsp;<span class="ident" id="8323731">i</span>&nbsp;<span class="op" id="8323733">:=</span>&nbsp;<span class="num" id="8323736">0</span><span class="op" id="8323737">;</span>&nbsp;<span class="ident" id="8323739">i</span>&nbsp;<span class="op" id="8323741">&lt;</span>&nbsp;<span class="ident" id="8323743">b</span><span class="op" id="8323744">.</span><span class="ident" id="8323745">N</span><span class="op" id="8323746">;</span>&nbsp;<span class="ident" id="8323748">i</span><span class="op" id="8323749">++</span>&nbsp;<span class="op" id="8323752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8323756">if</span>&nbsp;<span class="op" id="8323759">!</span><span class="ident" id="8323760">re</span><span class="op" id="8323762">.</span><span class="ident" id="8323763">MatchString</span><span class="op" id="8323774">(</span><span class="ident" id="8323775">x</span><span class="op" id="8323776">)</span>&nbsp;<span class="op" id="8323778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323783">b</span><span class="op" id="8323784">.</span><span class="ident" id="8323785">Fatalf</span><span class="op" id="8323791">(</span><span class="string" id="8323792">&#34;no&nbsp;match!&#34;</span><span class="op" id="8323803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8323807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8323810">}</span><br>
<span class="lineno">540</span><span class="op" id="8323812">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8323815">func</span>&nbsp;<span class="ident" id="8323820">BenchmarkReplaceAll</span><span class="op" id="8323839">(</span><span class="ident" id="8323840">b</span>&nbsp;<span class="op" id="8323842">*</span><span class="ident" id="8323843">testing</span><span class="op" id="8323850">.</span><span class="ident" id="8323851">B</span><span class="op" id="8323852">)</span>&nbsp;<span class="op" id="8323854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323857">x</span>&nbsp;<span class="op" id="8323859">:=</span>&nbsp;<span class="string" id="8323862">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323892">b</span><span class="op" id="8323893">.</span><span class="ident" id="8323894">StopTimer</span><span class="op" id="8323903">(</span><span class="op" id="8323904">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323907">re</span>&nbsp;<span class="op" id="8323910">:=</span>&nbsp;<span class="ident" id="8323913">MustCompile</span><span class="op" id="8323924">(</span><span class="string" id="8323925">&#34;[cjrw]&#34;</span><span class="op" id="8323933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323936">b</span><span class="op" id="8323937">.</span><span class="ident" id="8323938">StartTimer</span><span class="op" id="8323948">(</span><span class="op" id="8323949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8323952">for</span>&nbsp;<span class="ident" id="8323956">i</span>&nbsp;<span class="op" id="8323958">:=</span>&nbsp;<span class="num" id="8323961">0</span><span class="op" id="8323962">;</span>&nbsp;<span class="ident" id="8323964">i</span>&nbsp;<span class="op" id="8323966">&lt;</span>&nbsp;<span class="ident" id="8323968">b</span><span class="op" id="8323969">.</span><span class="ident" id="8323970">N</span><span class="op" id="8323971">;</span>&nbsp;<span class="ident" id="8323973">i</span><span class="op" id="8323974">++</span>&nbsp;<span class="op" id="8323977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8323981">re</span><span class="op" id="8323983">.</span><span class="ident" id="8323984">ReplaceAllString</span><span class="op" id="8324000">(</span><span class="ident" id="8324001">x</span><span class="op" id="8324002">,</span>&nbsp;<span class="string" id="8324004">&#34;&#34;</span><span class="op" id="8324006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8324009">}</span><br>
<span class="lineno">550</span><span class="op" id="8324011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8324014">func</span>&nbsp;<span class="ident" id="8324019">BenchmarkAnchoredLiteralShortNonMatch</span><span class="op" id="8324056">(</span><span class="ident" id="8324057">b</span>&nbsp;<span class="op" id="8324059">*</span><span class="ident" id="8324060">testing</span><span class="op" id="8324067">.</span><span class="ident" id="8324068">B</span><span class="op" id="8324069">)</span>&nbsp;<span class="op" id="8324071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324074">b</span><span class="op" id="8324075">.</span><span class="ident" id="8324076">StopTimer</span><span class="op" id="8324085">(</span><span class="op" id="8324086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324089">x</span>&nbsp;<span class="op" id="8324091">:=</span>&nbsp;<span class="op" id="8324094">[</span><span class="op" id="8324095">]</span><span class="builtintype" id="8324096">byte</span><span class="op" id="8324100">(</span><span class="string" id="8324101">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="8324129">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324132">re</span>&nbsp;<span class="op" id="8324135">:=</span>&nbsp;<span class="ident" id="8324138">MustCompile</span><span class="op" id="8324149">(</span><span class="string" id="8324150">&#34;^zbc(d|e)&#34;</span><span class="op" id="8324161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324164">b</span><span class="op" id="8324165">.</span><span class="ident" id="8324166">StartTimer</span><span class="op" id="8324176">(</span><span class="op" id="8324177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8324180">for</span>&nbsp;<span class="ident" id="8324184">i</span>&nbsp;<span class="op" id="8324186">:=</span>&nbsp;<span class="num" id="8324189">0</span><span class="op" id="8324190">;</span>&nbsp;<span class="ident" id="8324192">i</span>&nbsp;<span class="op" id="8324194">&lt;</span>&nbsp;<span class="ident" id="8324196">b</span><span class="op" id="8324197">.</span><span class="ident" id="8324198">N</span><span class="op" id="8324199">;</span>&nbsp;<span class="ident" id="8324201">i</span><span class="op" id="8324202">++</span>&nbsp;<span class="op" id="8324205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324209">re</span><span class="op" id="8324211">.</span><span class="ident" id="8324212">Match</span><span class="op" id="8324217">(</span><span class="ident" id="8324218">x</span><span class="op" id="8324219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8324222">}</span><br>
<span class="lineno">560</span><span class="op" id="8324224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8324227">func</span>&nbsp;<span class="ident" id="8324232">BenchmarkAnchoredLiteralLongNonMatch</span><span class="op" id="8324268">(</span><span class="ident" id="8324269">b</span>&nbsp;<span class="op" id="8324271">*</span><span class="ident" id="8324272">testing</span><span class="op" id="8324279">.</span><span class="ident" id="8324280">B</span><span class="op" id="8324281">)</span>&nbsp;<span class="op" id="8324283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324286">b</span><span class="op" id="8324287">.</span><span class="ident" id="8324288">StopTimer</span><span class="op" id="8324297">(</span><span class="op" id="8324298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324301">x</span>&nbsp;<span class="op" id="8324303">:=</span>&nbsp;<span class="op" id="8324306">[</span><span class="op" id="8324307">]</span><span class="builtintype" id="8324308">byte</span><span class="op" id="8324312">(</span><span class="string" id="8324313">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="8324341">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8324344">for</span>&nbsp;<span class="ident" id="8324348">i</span>&nbsp;<span class="op" id="8324350">:=</span>&nbsp;<span class="num" id="8324353">0</span><span class="op" id="8324354">;</span>&nbsp;<span class="ident" id="8324356">i</span>&nbsp;<span class="op" id="8324358">&lt;</span>&nbsp;<span class="num" id="8324360">15</span><span class="op" id="8324362">;</span>&nbsp;<span class="ident" id="8324364">i</span><span class="op" id="8324365">++</span>&nbsp;<span class="op" id="8324368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324372">x</span>&nbsp;<span class="op" id="8324374">=</span>&nbsp;<span class="builtinfunc" id="8324376">append</span><span class="op" id="8324382">(</span><span class="ident" id="8324383">x</span><span class="op" id="8324384">,</span>&nbsp;<span class="ident" id="8324386">x</span><span class="op" id="8324387">...</span><span class="op" id="8324390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8324393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324396">re</span>&nbsp;<span class="op" id="8324399">:=</span>&nbsp;<span class="ident" id="8324402">MustCompile</span><span class="op" id="8324413">(</span><span class="string" id="8324414">&#34;^zbc(d|e)&#34;</span><span class="op" id="8324425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324428">b</span><span class="op" id="8324429">.</span><span class="ident" id="8324430">StartTimer</span><span class="op" id="8324440">(</span><span class="op" id="8324441">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8324444">for</span>&nbsp;<span class="ident" id="8324448">i</span>&nbsp;<span class="op" id="8324450">:=</span>&nbsp;<span class="num" id="8324453">0</span><span class="op" id="8324454">;</span>&nbsp;<span class="ident" id="8324456">i</span>&nbsp;<span class="op" id="8324458">&lt;</span>&nbsp;<span class="ident" id="8324460">b</span><span class="op" id="8324461">.</span><span class="ident" id="8324462">N</span><span class="op" id="8324463">;</span>&nbsp;<span class="ident" id="8324465">i</span><span class="op" id="8324466">++</span>&nbsp;<span class="op" id="8324469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324473">re</span><span class="op" id="8324475">.</span><span class="ident" id="8324476">Match</span><span class="op" id="8324481">(</span><span class="ident" id="8324482">x</span><span class="op" id="8324483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8324486">}</span><br>
<span class="lineno"></span><span class="op" id="8324488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="8324491">func</span>&nbsp;<span class="ident" id="8324496">BenchmarkAnchoredShortMatch</span><span class="op" id="8324523">(</span><span class="ident" id="8324524">b</span>&nbsp;<span class="op" id="8324526">*</span><span class="ident" id="8324527">testing</span><span class="op" id="8324534">.</span><span class="ident" id="8324535">B</span><span class="op" id="8324536">)</span>&nbsp;<span class="op" id="8324538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324541">b</span><span class="op" id="8324542">.</span><span class="ident" id="8324543">StopTimer</span><span class="op" id="8324552">(</span><span class="op" id="8324553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324556">x</span>&nbsp;<span class="op" id="8324558">:=</span>&nbsp;<span class="op" id="8324561">[</span><span class="op" id="8324562">]</span><span class="builtintype" id="8324563">byte</span><span class="op" id="8324567">(</span><span class="string" id="8324568">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="8324596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324599">re</span>&nbsp;<span class="op" id="8324602">:=</span>&nbsp;<span class="ident" id="8324605">MustCompile</span><span class="op" id="8324616">(</span><span class="string" id="8324617">&#34;^.bc(d|e)&#34;</span><span class="op" id="8324628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324631">b</span><span class="op" id="8324632">.</span><span class="ident" id="8324633">StartTimer</span><span class="op" id="8324643">(</span><span class="op" id="8324644">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8324647">for</span>&nbsp;<span class="ident" id="8324651">i</span>&nbsp;<span class="op" id="8324653">:=</span>&nbsp;<span class="num" id="8324656">0</span><span class="op" id="8324657">;</span>&nbsp;<span class="ident" id="8324659">i</span>&nbsp;<span class="op" id="8324661">&lt;</span>&nbsp;<span class="ident" id="8324663">b</span><span class="op" id="8324664">.</span><span class="ident" id="8324665">N</span><span class="op" id="8324666">;</span>&nbsp;<span class="ident" id="8324668">i</span><span class="op" id="8324669">++</span>&nbsp;<span class="op" id="8324672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324676">re</span><span class="op" id="8324678">.</span><span class="ident" id="8324679">Match</span><span class="op" id="8324684">(</span><span class="ident" id="8324685">x</span><span class="op" id="8324686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8324689">}</span><br>
<span class="lineno"></span><span class="op" id="8324691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="8324694">func</span>&nbsp;<span class="ident" id="8324699">BenchmarkAnchoredLongMatch</span><span class="op" id="8324725">(</span><span class="ident" id="8324726">b</span>&nbsp;<span class="op" id="8324728">*</span><span class="ident" id="8324729">testing</span><span class="op" id="8324736">.</span><span class="ident" id="8324737">B</span><span class="op" id="8324738">)</span>&nbsp;<span class="op" id="8324740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324743">b</span><span class="op" id="8324744">.</span><span class="ident" id="8324745">StopTimer</span><span class="op" id="8324754">(</span><span class="op" id="8324755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324758">x</span>&nbsp;<span class="op" id="8324760">:=</span>&nbsp;<span class="op" id="8324763">[</span><span class="op" id="8324764">]</span><span class="builtintype" id="8324765">byte</span><span class="op" id="8324769">(</span><span class="string" id="8324770">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="8324798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8324801">for</span>&nbsp;<span class="ident" id="8324805">i</span>&nbsp;<span class="op" id="8324807">:=</span>&nbsp;<span class="num" id="8324810">0</span><span class="op" id="8324811">;</span>&nbsp;<span class="ident" id="8324813">i</span>&nbsp;<span class="op" id="8324815">&lt;</span>&nbsp;<span class="num" id="8324817">15</span><span class="op" id="8324819">;</span>&nbsp;<span class="ident" id="8324821">i</span><span class="op" id="8324822">++</span>&nbsp;<span class="op" id="8324825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324829">x</span>&nbsp;<span class="op" id="8324831">=</span>&nbsp;<span class="builtinfunc" id="8324833">append</span><span class="op" id="8324839">(</span><span class="ident" id="8324840">x</span><span class="op" id="8324841">,</span>&nbsp;<span class="ident" id="8324843">x</span><span class="op" id="8324844">...</span><span class="op" id="8324847">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8324850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324853">re</span>&nbsp;<span class="op" id="8324856">:=</span>&nbsp;<span class="ident" id="8324859">MustCompile</span><span class="op" id="8324870">(</span><span class="string" id="8324871">&#34;^.bc(d|e)&#34;</span><span class="op" id="8324882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324885">b</span><span class="op" id="8324886">.</span><span class="ident" id="8324887">StartTimer</span><span class="op" id="8324897">(</span><span class="op" id="8324898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8324901">for</span>&nbsp;<span class="ident" id="8324905">i</span>&nbsp;<span class="op" id="8324907">:=</span>&nbsp;<span class="num" id="8324910">0</span><span class="op" id="8324911">;</span>&nbsp;<span class="ident" id="8324913">i</span>&nbsp;<span class="op" id="8324915">&lt;</span>&nbsp;<span class="ident" id="8324917">b</span><span class="op" id="8324918">.</span><span class="ident" id="8324919">N</span><span class="op" id="8324920">;</span>&nbsp;<span class="ident" id="8324922">i</span><span class="op" id="8324923">++</span>&nbsp;<span class="op" id="8324926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324930">re</span><span class="op" id="8324932">.</span><span class="ident" id="8324933">Match</span><span class="op" id="8324938">(</span><span class="ident" id="8324939">x</span><span class="op" id="8324940">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8324943">}</span><br>
<span class="lineno"></span><span class="op" id="8324945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8324948">func</span>&nbsp;<span class="ident" id="8324953">BenchmarkOnePassShortA</span><span class="op" id="8324975">(</span><span class="ident" id="8324976">b</span>&nbsp;<span class="op" id="8324978">*</span><span class="ident" id="8324979">testing</span><span class="op" id="8324986">.</span><span class="ident" id="8324987">B</span><span class="op" id="8324988">)</span>&nbsp;<span class="op" id="8324990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8324993">b</span><span class="op" id="8324994">.</span><span class="ident" id="8324995">StopTimer</span><span class="op" id="8325004">(</span><span class="op" id="8325005">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325008">x</span>&nbsp;<span class="op" id="8325010">:=</span>&nbsp;<span class="op" id="8325013">[</span><span class="op" id="8325014">]</span><span class="builtintype" id="8325015">byte</span><span class="op" id="8325019">(</span><span class="string" id="8325020">&#34;abcddddddeeeededd&#34;</span><span class="op" id="8325039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325042">re</span>&nbsp;<span class="op" id="8325045">:=</span>&nbsp;<span class="ident" id="8325048">MustCompile</span><span class="op" id="8325059">(</span><span class="string" id="8325060">&#34;^.bc(d|e)*$&#34;</span><span class="op" id="8325073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325076">b</span><span class="op" id="8325077">.</span><span class="ident" id="8325078">StartTimer</span><span class="op" id="8325088">(</span><span class="op" id="8325089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8325092">for</span>&nbsp;<span class="ident" id="8325096">i</span>&nbsp;<span class="op" id="8325098">:=</span>&nbsp;<span class="num" id="8325101">0</span><span class="op" id="8325102">;</span>&nbsp;<span class="ident" id="8325104">i</span>&nbsp;<span class="op" id="8325106">&lt;</span>&nbsp;<span class="ident" id="8325108">b</span><span class="op" id="8325109">.</span><span class="ident" id="8325110">N</span><span class="op" id="8325111">;</span>&nbsp;<span class="ident" id="8325113">i</span><span class="op" id="8325114">++</span>&nbsp;<span class="op" id="8325117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325121">re</span><span class="op" id="8325123">.</span><span class="ident" id="8325124">Match</span><span class="op" id="8325129">(</span><span class="ident" id="8325130">x</span><span class="op" id="8325131">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8325134">}</span><br>
<span class="lineno"></span><span class="op" id="8325136">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8325139">func</span>&nbsp;<span class="ident" id="8325144">BenchmarkNotOnePassShortA</span><span class="op" id="8325169">(</span><span class="ident" id="8325170">b</span>&nbsp;<span class="op" id="8325172">*</span><span class="ident" id="8325173">testing</span><span class="op" id="8325180">.</span><span class="ident" id="8325181">B</span><span class="op" id="8325182">)</span>&nbsp;<span class="op" id="8325184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325187">b</span><span class="op" id="8325188">.</span><span class="ident" id="8325189">StopTimer</span><span class="op" id="8325198">(</span><span class="op" id="8325199">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325202">x</span>&nbsp;<span class="op" id="8325204">:=</span>&nbsp;<span class="op" id="8325207">[</span><span class="op" id="8325208">]</span><span class="builtintype" id="8325209">byte</span><span class="op" id="8325213">(</span><span class="string" id="8325214">&#34;abcddddddeeeededd&#34;</span><span class="op" id="8325233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325236">re</span>&nbsp;<span class="op" id="8325239">:=</span>&nbsp;<span class="ident" id="8325242">MustCompile</span><span class="op" id="8325253">(</span><span class="string" id="8325254">&#34;.bc(d|e)*$&#34;</span><span class="op" id="8325266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325269">b</span><span class="op" id="8325270">.</span><span class="ident" id="8325271">StartTimer</span><span class="op" id="8325281">(</span><span class="op" id="8325282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8325285">for</span>&nbsp;<span class="ident" id="8325289">i</span>&nbsp;<span class="op" id="8325291">:=</span>&nbsp;<span class="num" id="8325294">0</span><span class="op" id="8325295">;</span>&nbsp;<span class="ident" id="8325297">i</span>&nbsp;<span class="op" id="8325299">&lt;</span>&nbsp;<span class="ident" id="8325301">b</span><span class="op" id="8325302">.</span><span class="ident" id="8325303">N</span><span class="op" id="8325304">;</span>&nbsp;<span class="ident" id="8325306">i</span><span class="op" id="8325307">++</span>&nbsp;<span class="op" id="8325310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325314">re</span><span class="op" id="8325316">.</span><span class="ident" id="8325317">Match</span><span class="op" id="8325322">(</span><span class="ident" id="8325323">x</span><span class="op" id="8325324">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8325327">}</span><br>
<span class="lineno"></span><span class="op" id="8325329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8325332">func</span>&nbsp;<span class="ident" id="8325337">BenchmarkOnePassShortB</span><span class="op" id="8325359">(</span><span class="ident" id="8325360">b</span>&nbsp;<span class="op" id="8325362">*</span><span class="ident" id="8325363">testing</span><span class="op" id="8325370">.</span><span class="ident" id="8325371">B</span><span class="op" id="8325372">)</span>&nbsp;<span class="op" id="8325374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325377">b</span><span class="op" id="8325378">.</span><span class="ident" id="8325379">StopTimer</span><span class="op" id="8325388">(</span><span class="op" id="8325389">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325392">x</span>&nbsp;<span class="op" id="8325394">:=</span>&nbsp;<span class="op" id="8325397">[</span><span class="op" id="8325398">]</span><span class="builtintype" id="8325399">byte</span><span class="op" id="8325403">(</span><span class="string" id="8325404">&#34;abcddddddeeeededd&#34;</span><span class="op" id="8325423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325426">re</span>&nbsp;<span class="op" id="8325429">:=</span>&nbsp;<span class="ident" id="8325432">MustCompile</span><span class="op" id="8325443">(</span><span class="string" id="8325444">&#34;^.bc(?:d|e)*$&#34;</span><span class="op" id="8325459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325462">b</span><span class="op" id="8325463">.</span><span class="ident" id="8325464">StartTimer</span><span class="op" id="8325474">(</span><span class="op" id="8325475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8325478">for</span>&nbsp;<span class="ident" id="8325482">i</span>&nbsp;<span class="op" id="8325484">:=</span>&nbsp;<span class="num" id="8325487">0</span><span class="op" id="8325488">;</span>&nbsp;<span class="ident" id="8325490">i</span>&nbsp;<span class="op" id="8325492">&lt;</span>&nbsp;<span class="ident" id="8325494">b</span><span class="op" id="8325495">.</span><span class="ident" id="8325496">N</span><span class="op" id="8325497">;</span>&nbsp;<span class="ident" id="8325499">i</span><span class="op" id="8325500">++</span>&nbsp;<span class="op" id="8325503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325507">re</span><span class="op" id="8325509">.</span><span class="ident" id="8325510">Match</span><span class="op" id="8325515">(</span><span class="ident" id="8325516">x</span><span class="op" id="8325517">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8325520">}</span><br>
<span class="lineno"></span><span class="op" id="8325522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8325525">func</span>&nbsp;<span class="ident" id="8325530">BenchmarkNotOnePassShortB</span><span class="op" id="8325555">(</span><span class="ident" id="8325556">b</span>&nbsp;<span class="op" id="8325558">*</span><span class="ident" id="8325559">testing</span><span class="op" id="8325566">.</span><span class="ident" id="8325567">B</span><span class="op" id="8325568">)</span>&nbsp;<span class="op" id="8325570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325573">b</span><span class="op" id="8325574">.</span><span class="ident" id="8325575">StopTimer</span><span class="op" id="8325584">(</span><span class="op" id="8325585">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325588">x</span>&nbsp;<span class="op" id="8325590">:=</span>&nbsp;<span class="op" id="8325593">[</span><span class="op" id="8325594">]</span><span class="builtintype" id="8325595">byte</span><span class="op" id="8325599">(</span><span class="string" id="8325600">&#34;abcddddddeeeededd&#34;</span><span class="op" id="8325619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325622">re</span>&nbsp;<span class="op" id="8325625">:=</span>&nbsp;<span class="ident" id="8325628">MustCompile</span><span class="op" id="8325639">(</span><span class="string" id="8325640">&#34;.bc(?:d|e)*$&#34;</span><span class="op" id="8325654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325657">b</span><span class="op" id="8325658">.</span><span class="ident" id="8325659">StartTimer</span><span class="op" id="8325669">(</span><span class="op" id="8325670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8325673">for</span>&nbsp;<span class="ident" id="8325677">i</span>&nbsp;<span class="op" id="8325679">:=</span>&nbsp;<span class="num" id="8325682">0</span><span class="op" id="8325683">;</span>&nbsp;<span class="ident" id="8325685">i</span>&nbsp;<span class="op" id="8325687">&lt;</span>&nbsp;<span class="ident" id="8325689">b</span><span class="op" id="8325690">.</span><span class="ident" id="8325691">N</span><span class="op" id="8325692">;</span>&nbsp;<span class="ident" id="8325694">i</span><span class="op" id="8325695">++</span>&nbsp;<span class="op" id="8325698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325702">re</span><span class="op" id="8325704">.</span><span class="ident" id="8325705">Match</span><span class="op" id="8325710">(</span><span class="ident" id="8325711">x</span><span class="op" id="8325712">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8325715">}</span><br>
<span class="lineno"></span><span class="op" id="8325717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8325720">func</span>&nbsp;<span class="ident" id="8325725">BenchmarkOnePassLongPrefix</span><span class="op" id="8325751">(</span><span class="ident" id="8325752">b</span>&nbsp;<span class="op" id="8325754">*</span><span class="ident" id="8325755">testing</span><span class="op" id="8325762">.</span><span class="ident" id="8325763">B</span><span class="op" id="8325764">)</span>&nbsp;<span class="op" id="8325766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325769">b</span><span class="op" id="8325770">.</span><span class="ident" id="8325771">StopTimer</span><span class="op" id="8325780">(</span><span class="op" id="8325781">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325784">x</span>&nbsp;<span class="op" id="8325786">:=</span>&nbsp;<span class="op" id="8325789">[</span><span class="op" id="8325790">]</span><span class="builtintype" id="8325791">byte</span><span class="op" id="8325795">(</span><span class="string" id="8325796">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="8325824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325827">re</span>&nbsp;<span class="op" id="8325830">:=</span>&nbsp;<span class="ident" id="8325833">MustCompile</span><span class="op" id="8325844">(</span><span class="string" id="8325845">&#34;^abcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="8325877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325880">b</span><span class="op" id="8325881">.</span><span class="ident" id="8325882">StartTimer</span><span class="op" id="8325892">(</span><span class="op" id="8325893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8325896">for</span>&nbsp;<span class="ident" id="8325900">i</span>&nbsp;<span class="op" id="8325902">:=</span>&nbsp;<span class="num" id="8325905">0</span><span class="op" id="8325906">;</span>&nbsp;<span class="ident" id="8325908">i</span>&nbsp;<span class="op" id="8325910">&lt;</span>&nbsp;<span class="ident" id="8325912">b</span><span class="op" id="8325913">.</span><span class="ident" id="8325914">N</span><span class="op" id="8325915">;</span>&nbsp;<span class="ident" id="8325917">i</span><span class="op" id="8325918">++</span>&nbsp;<span class="op" id="8325921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325925">re</span><span class="op" id="8325927">.</span><span class="ident" id="8325928">Match</span><span class="op" id="8325933">(</span><span class="ident" id="8325934">x</span><span class="op" id="8325935">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8325938">}</span><br>
<span class="lineno"></span><span class="op" id="8325940">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8325943">func</span>&nbsp;<span class="ident" id="8325948">BenchmarkOnePassLongNotPrefix</span><span class="op" id="8325977">(</span><span class="ident" id="8325978">b</span>&nbsp;<span class="op" id="8325980">*</span><span class="ident" id="8325981">testing</span><span class="op" id="8325988">.</span><span class="ident" id="8325989">B</span><span class="op" id="8325990">)</span>&nbsp;<span class="op" id="8325992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8325995">b</span><span class="op" id="8325996">.</span><span class="ident" id="8325997">StopTimer</span><span class="op" id="8326006">(</span><span class="op" id="8326007">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8326010">x</span>&nbsp;<span class="op" id="8326012">:=</span>&nbsp;<span class="op" id="8326015">[</span><span class="op" id="8326016">]</span><span class="builtintype" id="8326017">byte</span><span class="op" id="8326021">(</span><span class="string" id="8326022">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="8326050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8326053">re</span>&nbsp;<span class="op" id="8326056">:=</span>&nbsp;<span class="ident" id="8326059">MustCompile</span><span class="op" id="8326070">(</span><span class="string" id="8326071">&#34;^.bcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="8326103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8326106">b</span><span class="op" id="8326107">.</span><span class="ident" id="8326108">StartTimer</span><span class="op" id="8326118">(</span><span class="op" id="8326119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8326122">for</span>&nbsp;<span class="ident" id="8326126">i</span>&nbsp;<span class="op" id="8326128">:=</span>&nbsp;<span class="num" id="8326131">0</span><span class="op" id="8326132">;</span>&nbsp;<span class="ident" id="8326134">i</span>&nbsp;<span class="op" id="8326136">&lt;</span>&nbsp;<span class="ident" id="8326138">b</span><span class="op" id="8326139">.</span><span class="ident" id="8326140">N</span><span class="op" id="8326141">;</span>&nbsp;<span class="ident" id="8326143">i</span><span class="op" id="8326144">++</span>&nbsp;<span class="op" id="8326147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8326151">re</span><span class="op" id="8326153">.</span><span class="ident" id="8326154">Match</span><span class="op" id="8326159">(</span><span class="ident" id="8326160">x</span><span class="op" id="8326161">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8326164">}</span><br>
<span class="lineno"></span><span class="op" id="8326166">}</span>
</div>
</body>
</html>
