<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5340655">package</span>&nbsp;<span class="ident" id="5340663">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5340669">import</span>&nbsp;<span class="op" id="5340676">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5340679">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5340701">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5340704">func</span>&nbsp;<span class="ident" id="5340709">isOperandChar</span><span class="op" id="5340722">(</span><span class="ident" id="5340723">r</span>&nbsp;<span class="builtintype" id="5340725">rune</span><span class="op" id="5340729">)</span>&nbsp;<span class="builtintype" id="5340731">bool</span>&nbsp;<span class="op" id="5340736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5340739">if</span>&nbsp;<span class="ident" id="5340742"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5340723">r</a></span>&nbsp;<span class="op" id="5340744">&gt;=</span>&nbsp;<span class="string" id="5340747">&#39;a&#39;</span>&nbsp;<span class="op" id="5340751">&amp;&amp;</span>&nbsp;<span class="ident" id="5340754"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5340723">r</a></span>&nbsp;<span class="op" id="5340756">&lt;=</span>&nbsp;<span class="string" id="5340759">&#39;z&#39;</span>&nbsp;<span class="op" id="5340763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5340767">return</span>&nbsp;<span class="ident" id="5340774">true</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5340780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5340783">if</span>&nbsp;<span class="ident" id="5340786"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5340723">r</a></span>&nbsp;<span class="op" id="5340788">&gt;=</span>&nbsp;<span class="string" id="5340791">&#39;A&#39;</span>&nbsp;<span class="op" id="5340795">&amp;&amp;</span>&nbsp;<span class="ident" id="5340798"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5340723">r</a></span>&nbsp;<span class="op" id="5340800">&lt;=</span>&nbsp;<span class="string" id="5340803">&#39;Z&#39;</span>&nbsp;<span class="op" id="5340807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5340811">return</span>&nbsp;<span class="ident" id="5340818">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5340824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5340827">if</span>&nbsp;<span class="ident" id="5340830"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5340723">r</a></span>&nbsp;<span class="op" id="5340832">&gt;=</span>&nbsp;<span class="string" id="5340835">&#39;0&#39;</span>&nbsp;<span class="op" id="5340839">&amp;&amp;</span>&nbsp;<span class="ident" id="5340842"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5340723">r</a></span>&nbsp;<span class="op" id="5340844">&lt;=</span>&nbsp;<span class="string" id="5340847">&#39;9&#39;</span>&nbsp;<span class="op" id="5340851">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5340855">return</span>&nbsp;<span class="ident" id="5340862">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5340868">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5340872">for</span>&nbsp;<span class="ident" id="5340876">_</span><span class="op" id="5340877">,</span>&nbsp;<span class="ident" id="5340879">x</span>&nbsp;<span class="op" id="5340881">:=</span>&nbsp;<span class="keyword" id="5340884">range</span>&nbsp;<span class="op" id="5340890">[</span><span class="op" id="5340891">]</span><span class="builtintype" id="5340892">rune</span><span class="op" id="5340896">{</span><span class="string" id="5340897">&#39;_&#39;</span><span class="op" id="5340900">,</span>&nbsp;<span class="string" id="5340902">&#39;+&#39;</span><span class="op" id="5340905">,</span>&nbsp;<span class="string" id="5340907">&#39;-&#39;</span><span class="op" id="5340910">,</span>&nbsp;<span class="string" id="5340912">&#39;.&#39;</span><span class="op" id="5340915">,</span>&nbsp;<span class="string" id="5340917">&#39;:&#39;</span><span class="op" id="5340920">}</span>&nbsp;<span class="op" id="5340922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5340926">if</span>&nbsp;<span class="ident" id="5340929"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5340723">r</a></span>&nbsp;<span class="op" id="5340931">==</span>&nbsp;<span class="ident" id="5340934"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5340879">x</a></span>&nbsp;<span class="op" id="5340936">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5340941">return</span>&nbsp;<span class="ident" id="5340948">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5340955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5340958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5340962">return</span>&nbsp;<span class="ident" id="5340969">false</span><br>
<span class="lineno">25</span><span class="op" id="5340975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5340978">func</span>&nbsp;<span class="ident" id="5340983">isKeyword</span><span class="op" id="5340992">(</span><span class="ident" id="5340993">lit</span>&nbsp;<span class="builtintype" id="5340997">string</span><span class="op" id="5341003">)</span>&nbsp;<span class="builtintype" id="5341005">bool</span>&nbsp;<span class="op" id="5341010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5341013">switch</span>&nbsp;<span class="ident" id="5341020"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5340993">lit</a></span>&nbsp;<span class="op" id="5341024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5341027">case</span>&nbsp;<span class="string" id="5341032">&#34;func&#34;</span><span class="op" id="5341038">,</span>&nbsp;<span class="string" id="5341040">&#34;var&#34;</span><span class="op" id="5341045">,</span>&nbsp;<span class="string" id="5341047">&#34;const&#34;</span><span class="op" id="5341054">,</span>&nbsp;<span class="string" id="5341056">&#34;import&#34;</span><span class="op" id="5341064">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5341068">return</span>&nbsp;<span class="ident" id="5341075">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5341081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5341084">return</span>&nbsp;<span class="ident" id="5341091">false</span><br>
<span class="lineno"></span><span class="op" id="5341097">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="5341100">func</span>&nbsp;<span class="ident" id="5341105">lexOperand</span><span class="op" id="5341115">(</span><span class="ident" id="5341116">x</span>&nbsp;<span class="op" id="5341118">*</span><span class="ident" id="5341119"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5340679">lex8</a></span><span class="op" id="5341123">.</span><span class="ident" id="5341124">Lexer</span><span class="op" id="5341129">)</span>&nbsp;<span class="op" id="5341131">*</span><span class="ident" id="5341132"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5340679">lex8</a></span><span class="op" id="5341136">.</span><span class="ident" id="5341137">Token</span>&nbsp;<span class="op" id="5341143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5341146">if</span>&nbsp;<span class="op" id="5341149">!</span><span class="ident" id="5341150"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5340709">isOperandChar</a></span><span class="op" id="5341163">(</span><span class="ident" id="5341164"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5341116">x</a></span><span class="op" id="5341165">.</span><span class="ident" id="5341166">Rune</span><span class="op" id="5341170">(</span><span class="op" id="5341171">)</span><span class="op" id="5341172">)</span>&nbsp;<span class="op" id="5341174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5341178">panic</span><span class="op" id="5341183">(</span><span class="string" id="5341184">&#34;incorrect&nbsp;operand&nbsp;start&#34;</span><span class="op" id="5341209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5341212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5341216">for</span>&nbsp;<span class="op" id="5341220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5341224"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5341116">x</a></span><span class="op" id="5341225">.</span><span class="ident" id="5341226">Next</span><span class="op" id="5341230">(</span><span class="op" id="5341231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5341235">if</span>&nbsp;<span class="ident" id="5341238"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5341116">x</a></span><span class="op" id="5341239">.</span><span class="ident" id="5341240">Ended</span><span class="op" id="5341245">(</span><span class="op" id="5341246">)</span>&nbsp;<span class="op" id="5341248">||</span>&nbsp;<span class="op" id="5341251">!</span><span class="ident" id="5341252"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5340709">isOperandChar</a></span><span class="op" id="5341265">(</span><span class="ident" id="5341266"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5341116">x</a></span><span class="op" id="5341267">.</span><span class="ident" id="5341268">Rune</span><span class="op" id="5341272">(</span><span class="op" id="5341273">)</span><span class="op" id="5341274">)</span>&nbsp;<span class="op" id="5341276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5341281">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5341289">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5341292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5341296">ret</span>&nbsp;<span class="op" id="5341300">:=</span>&nbsp;<span class="ident" id="5341303"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5341116">x</a></span><span class="op" id="5341304">.</span><span class="ident" id="5341305">MakeToken</span><span class="op" id="5341314">(</span><span class="ident" id="5341315"><a href="/lonnie.io/e8vm/asm8/token.go.html#5359834">Operand</a></span><span class="op" id="5341322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5341325">if</span>&nbsp;<span class="ident" id="5341328"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5340983">isKeyword</a></span><span class="op" id="5341337">(</span><span class="ident" id="5341338"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5341296">ret</a></span><span class="op" id="5341341">.</span><span class="ident" id="5341342">Lit</span><span class="op" id="5341345">)</span>&nbsp;<span class="op" id="5341347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5341351"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5341296">ret</a></span><span class="op" id="5341354">.</span><span class="ident" id="5341355">Type</span>&nbsp;<span class="op" id="5341360">=</span>&nbsp;<span class="ident" id="5341362"><a href="/lonnie.io/e8vm/asm8/token.go.html#5359825">Keyword</a></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5341371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5341374">return</span>&nbsp;<span class="ident" id="5341381"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#5341296">ret</a></span><br>
<span class="lineno"></span><span class="op" id="5341385">}</span>
</div>
</body>
</html>
