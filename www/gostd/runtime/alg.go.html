<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html" class="current">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1641428">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1641483">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1641537">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1641588">package</span>&nbsp;<span class="ident" id="1641596">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1641605">import</span>&nbsp;<span class="string" id="1641612">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1641622">const</span>&nbsp;<span class="op" id="1641628">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641631">c0</span>&nbsp;<span class="op" id="1641634">=</span>&nbsp;<span class="builtintype" id="1641636">uintptr</span><span class="op" id="1641643">(</span><span class="op" id="1641644">(</span><span class="num" id="1641645">8</span><span class="op" id="1641646">-</span><span class="ident" id="1641647">ptrSize</span><span class="op" id="1641654">)</span><span class="op" id="1641655">/</span><span class="num" id="1641656">4</span><span class="op" id="1641657">*</span><span class="num" id="1641658">2860486313</span>&nbsp;<span class="op" id="1641669">+</span>&nbsp;<span class="op" id="1641671">(</span><span class="ident" id="1641672">ptrSize</span><span class="op" id="1641679">-</span><span class="num" id="1641680">4</span><span class="op" id="1641681">)</span><span class="op" id="1641682">/</span><span class="num" id="1641683">4</span><span class="op" id="1641684">*</span><span class="num" id="1641685">33054211828000289</span><span class="op" id="1641702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641705">c1</span>&nbsp;<span class="op" id="1641708">=</span>&nbsp;<span class="builtintype" id="1641710">uintptr</span><span class="op" id="1641717">(</span><span class="op" id="1641718">(</span><span class="num" id="1641719">8</span><span class="op" id="1641720">-</span><span class="ident" id="1641721">ptrSize</span><span class="op" id="1641728">)</span><span class="op" id="1641729">/</span><span class="num" id="1641730">4</span><span class="op" id="1641731">*</span><span class="num" id="1641732">3267000013</span>&nbsp;<span class="op" id="1641743">+</span>&nbsp;<span class="op" id="1641745">(</span><span class="ident" id="1641746">ptrSize</span><span class="op" id="1641753">-</span><span class="num" id="1641754">4</span><span class="op" id="1641755">)</span><span class="op" id="1641756">/</span><span class="num" id="1641757">4</span><span class="op" id="1641758">*</span><span class="num" id="1641759">23344194077549503</span><span class="op" id="1641776">)</span><br>
<span class="lineno"></span><span class="op" id="1641778">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1641781">//&nbsp;type&nbsp;algorithms&nbsp;-&nbsp;known&nbsp;to&nbsp;compiler</span><br>
<span class="lineno">15</span><span class="keyword" id="1641820">const</span>&nbsp;<span class="op" id="1641826">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641829">alg_MEM</span>&nbsp;<span class="op" id="1641837">=</span>&nbsp;<span class="ident" id="1641839">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641845">alg_MEM0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641855">alg_MEM8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641865">alg_MEM16</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641876">alg_MEM32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641887">alg_MEM64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641898">alg_MEM128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641910">alg_NOEQ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641920">alg_NOEQ0</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641931">alg_NOEQ8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641942">alg_NOEQ16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641954">alg_NOEQ32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641966">alg_NOEQ64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641978">alg_NOEQ128</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1641991">alg_STRING</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642003">alg_INTER</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642014">alg_NILINTER</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642028">alg_SLICE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642039">alg_FLOAT32</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642052">alg_FLOAT64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642065">alg_CPLX64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642077">alg_CPLX128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642090">alg_max</span><br>
<span class="lineno"></span><span class="op" id="1642098">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="1642101">type</span>&nbsp;<span class="ident" id="1642106">typeAlg</span>&nbsp;<span class="keyword" id="1642114">struct</span>&nbsp;<span class="op" id="1642121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1642124">//&nbsp;function&nbsp;for&nbsp;hashing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1642170">//&nbsp;(ptr&nbsp;to&nbsp;object,&nbsp;size,&nbsp;seed)&nbsp;-&gt;&nbsp;hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642210">hash</span>&nbsp;<span class="keyword" id="1642215">func</span><span class="op" id="1642219">(</span><span class="ident" id="1642220">unsafe</span><span class="op" id="1642226">.</span><span class="ident" id="1642227">Pointer</span><span class="op" id="1642234">,</span>&nbsp;<span class="builtintype" id="1642236">uintptr</span><span class="op" id="1642243">,</span>&nbsp;<span class="builtintype" id="1642245">uintptr</span><span class="op" id="1642252">)</span>&nbsp;<span class="builtintype" id="1642254">uintptr</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1642263">//&nbsp;function&nbsp;for&nbsp;comparing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1642311">//&nbsp;(ptr&nbsp;to&nbsp;object&nbsp;A,&nbsp;ptr&nbsp;to&nbsp;object&nbsp;B,&nbsp;size)&nbsp;-&gt;&nbsp;==?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642363">equal</span>&nbsp;<span class="keyword" id="1642369">func</span><span class="op" id="1642373">(</span><span class="ident" id="1642374">unsafe</span><span class="op" id="1642380">.</span><span class="ident" id="1642381">Pointer</span><span class="op" id="1642388">,</span>&nbsp;<span class="ident" id="1642390">unsafe</span><span class="op" id="1642396">.</span><span class="ident" id="1642397">Pointer</span><span class="op" id="1642404">,</span>&nbsp;<span class="builtintype" id="1642406">uintptr</span><span class="op" id="1642413">)</span>&nbsp;<span class="builtintype" id="1642415">bool</span><br>
<span class="lineno"></span><span class="op" id="1642420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="1642423">var</span>&nbsp;<span class="ident" id="1642427">algarray</span>&nbsp;<span class="op" id="1642436">=</span>&nbsp;<span class="op" id="1642438">[</span><span class="ident" id="1642439">alg_max</span><span class="op" id="1642446">]</span><span class="ident" id="1642447">typeAlg</span><span class="op" id="1642454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642457">alg_MEM</span><span class="op" id="1642464">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642471">{</span><span class="ident" id="1642472">memhash</span><span class="op" id="1642479">,</span>&nbsp;<span class="ident" id="1642481">memequal</span><span class="op" id="1642489">}</span><span class="op" id="1642490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642493">alg_MEM0</span><span class="op" id="1642501">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642507">{</span><span class="ident" id="1642508">memhash</span><span class="op" id="1642515">,</span>&nbsp;<span class="ident" id="1642517">memequal0</span><span class="op" id="1642526">}</span><span class="op" id="1642527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642530">alg_MEM8</span><span class="op" id="1642538">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642544">{</span><span class="ident" id="1642545">memhash</span><span class="op" id="1642552">,</span>&nbsp;<span class="ident" id="1642554">memequal8</span><span class="op" id="1642563">}</span><span class="op" id="1642564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642567">alg_MEM16</span><span class="op" id="1642576">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642581">{</span><span class="ident" id="1642582">memhash</span><span class="op" id="1642589">,</span>&nbsp;<span class="ident" id="1642591">memequal16</span><span class="op" id="1642601">}</span><span class="op" id="1642602">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642605">alg_MEM32</span><span class="op" id="1642614">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642619">{</span><span class="ident" id="1642620">memhash</span><span class="op" id="1642627">,</span>&nbsp;<span class="ident" id="1642629">memequal32</span><span class="op" id="1642639">}</span><span class="op" id="1642640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642643">alg_MEM64</span><span class="op" id="1642652">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642657">{</span><span class="ident" id="1642658">memhash</span><span class="op" id="1642665">,</span>&nbsp;<span class="ident" id="1642667">memequal64</span><span class="op" id="1642677">}</span><span class="op" id="1642678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642681">alg_MEM128</span><span class="op" id="1642691">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1642695">{</span><span class="ident" id="1642696">memhash</span><span class="op" id="1642703">,</span>&nbsp;<span class="ident" id="1642705">memequal128</span><span class="op" id="1642716">}</span><span class="op" id="1642717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642720">alg_NOEQ</span><span class="op" id="1642728">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642734">{</span><span class="ident" id="1642735">nil</span><span class="op" id="1642738">,</span>&nbsp;<span class="ident" id="1642740">nil</span><span class="op" id="1642743">}</span><span class="op" id="1642744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642747">alg_NOEQ0</span><span class="op" id="1642756">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642761">{</span><span class="ident" id="1642762">nil</span><span class="op" id="1642765">,</span>&nbsp;<span class="ident" id="1642767">nil</span><span class="op" id="1642770">}</span><span class="op" id="1642771">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642774">alg_NOEQ8</span><span class="op" id="1642783">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642788">{</span><span class="ident" id="1642789">nil</span><span class="op" id="1642792">,</span>&nbsp;<span class="ident" id="1642794">nil</span><span class="op" id="1642797">}</span><span class="op" id="1642798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642801">alg_NOEQ16</span><span class="op" id="1642811">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1642815">{</span><span class="ident" id="1642816">nil</span><span class="op" id="1642819">,</span>&nbsp;<span class="ident" id="1642821">nil</span><span class="op" id="1642824">}</span><span class="op" id="1642825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642828">alg_NOEQ32</span><span class="op" id="1642838">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1642842">{</span><span class="ident" id="1642843">nil</span><span class="op" id="1642846">,</span>&nbsp;<span class="ident" id="1642848">nil</span><span class="op" id="1642851">}</span><span class="op" id="1642852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642855">alg_NOEQ64</span><span class="op" id="1642865">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1642869">{</span><span class="ident" id="1642870">nil</span><span class="op" id="1642873">,</span>&nbsp;<span class="ident" id="1642875">nil</span><span class="op" id="1642878">}</span><span class="op" id="1642879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642882">alg_NOEQ128</span><span class="op" id="1642893">:</span>&nbsp;&nbsp;<span class="op" id="1642896">{</span><span class="ident" id="1642897">nil</span><span class="op" id="1642900">,</span>&nbsp;<span class="ident" id="1642902">nil</span><span class="op" id="1642905">}</span><span class="op" id="1642906">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642909">alg_STRING</span><span class="op" id="1642919">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1642923">{</span><span class="ident" id="1642924">strhash</span><span class="op" id="1642931">,</span>&nbsp;<span class="ident" id="1642933">strequal</span><span class="op" id="1642941">}</span><span class="op" id="1642942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642945">alg_INTER</span><span class="op" id="1642954">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642959">{</span><span class="ident" id="1642960">interhash</span><span class="op" id="1642969">,</span>&nbsp;<span class="ident" id="1642971">interequal</span><span class="op" id="1642981">}</span><span class="op" id="1642982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1642985">alg_NILINTER</span><span class="op" id="1642997">:</span>&nbsp;<span class="op" id="1642999">{</span><span class="ident" id="1643000">nilinterhash</span><span class="op" id="1643012">,</span>&nbsp;<span class="ident" id="1643014">nilinterequal</span><span class="op" id="1643027">}</span><span class="op" id="1643028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643031">alg_SLICE</span><span class="op" id="1643040">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1643045">{</span><span class="ident" id="1643046">nil</span><span class="op" id="1643049">,</span>&nbsp;<span class="ident" id="1643051">nil</span><span class="op" id="1643054">}</span><span class="op" id="1643055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643058">alg_FLOAT32</span><span class="op" id="1643069">:</span>&nbsp;&nbsp;<span class="op" id="1643072">{</span><span class="ident" id="1643073">f32hash</span><span class="op" id="1643080">,</span>&nbsp;<span class="ident" id="1643082">f32equal</span><span class="op" id="1643090">}</span><span class="op" id="1643091">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643094">alg_FLOAT64</span><span class="op" id="1643105">:</span>&nbsp;&nbsp;<span class="op" id="1643108">{</span><span class="ident" id="1643109">f64hash</span><span class="op" id="1643116">,</span>&nbsp;<span class="ident" id="1643118">f64equal</span><span class="op" id="1643126">}</span><span class="op" id="1643127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643130">alg_CPLX64</span><span class="op" id="1643140">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1643144">{</span><span class="ident" id="1643145">c64hash</span><span class="op" id="1643152">,</span>&nbsp;<span class="ident" id="1643154">c64equal</span><span class="op" id="1643162">}</span><span class="op" id="1643163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643166">alg_CPLX128</span><span class="op" id="1643177">:</span>&nbsp;&nbsp;<span class="op" id="1643180">{</span><span class="ident" id="1643181">c128hash</span><span class="op" id="1643189">,</span>&nbsp;<span class="ident" id="1643191">c128equal</span><span class="op" id="1643200">}</span><span class="op" id="1643201">,</span><br>
<span class="lineno"></span><span class="op" id="1643203">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="1643206">const</span>&nbsp;<span class="ident" id="1643212">nacl</span>&nbsp;<span class="op" id="1643217">=</span>&nbsp;<span class="ident" id="1643219">GOOS</span>&nbsp;<span class="op" id="1643224">==</span>&nbsp;<span class="string" id="1643227">&#34;nacl&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1643235">var</span>&nbsp;<span class="ident" id="1643239">useAeshash</span>&nbsp;<span class="builtintype" id="1643250">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1643256">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno">80</span><span class="keyword" id="1643270">func</span>&nbsp;<span class="ident" id="1643275">aeshash</span><span class="op" id="1643282">(</span><span class="ident" id="1643283">p</span>&nbsp;<span class="ident" id="1643285">unsafe</span><span class="op" id="1643291">.</span><span class="ident" id="1643292">Pointer</span><span class="op" id="1643299">,</span>&nbsp;<span class="ident" id="1643301">s</span><span class="op" id="1643302">,</span>&nbsp;<span class="ident" id="1643304">h</span>&nbsp;<span class="builtintype" id="1643306">uintptr</span><span class="op" id="1643313">)</span>&nbsp;<span class="builtintype" id="1643315">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1643323">func</span>&nbsp;<span class="ident" id="1643328">aeshash32</span><span class="op" id="1643337">(</span><span class="ident" id="1643338">p</span>&nbsp;<span class="ident" id="1643340">unsafe</span><span class="op" id="1643346">.</span><span class="ident" id="1643347">Pointer</span><span class="op" id="1643354">,</span>&nbsp;<span class="ident" id="1643356">s</span><span class="op" id="1643357">,</span>&nbsp;<span class="ident" id="1643359">h</span>&nbsp;<span class="builtintype" id="1643361">uintptr</span><span class="op" id="1643368">)</span>&nbsp;<span class="builtintype" id="1643370">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1643378">func</span>&nbsp;<span class="ident" id="1643383">aeshash64</span><span class="op" id="1643392">(</span><span class="ident" id="1643393">p</span>&nbsp;<span class="ident" id="1643395">unsafe</span><span class="op" id="1643401">.</span><span class="ident" id="1643402">Pointer</span><span class="op" id="1643409">,</span>&nbsp;<span class="ident" id="1643411">s</span><span class="op" id="1643412">,</span>&nbsp;<span class="ident" id="1643414">h</span>&nbsp;<span class="builtintype" id="1643416">uintptr</span><span class="op" id="1643423">)</span>&nbsp;<span class="builtintype" id="1643425">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1643433">func</span>&nbsp;<span class="ident" id="1643438">aeshashstr</span><span class="op" id="1643448">(</span><span class="ident" id="1643449">p</span>&nbsp;<span class="ident" id="1643451">unsafe</span><span class="op" id="1643457">.</span><span class="ident" id="1643458">Pointer</span><span class="op" id="1643465">,</span>&nbsp;<span class="ident" id="1643467">s</span><span class="op" id="1643468">,</span>&nbsp;<span class="ident" id="1643470">h</span>&nbsp;<span class="builtintype" id="1643472">uintptr</span><span class="op" id="1643479">)</span>&nbsp;<span class="builtintype" id="1643481">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="1643490">func</span>&nbsp;<span class="ident" id="1643495">memhash</span><span class="op" id="1643502">(</span><span class="ident" id="1643503">p</span>&nbsp;<span class="ident" id="1643505">unsafe</span><span class="op" id="1643511">.</span><span class="ident" id="1643512">Pointer</span><span class="op" id="1643519">,</span>&nbsp;<span class="ident" id="1643521">s</span><span class="op" id="1643522">,</span>&nbsp;<span class="ident" id="1643524">h</span>&nbsp;<span class="builtintype" id="1643526">uintptr</span><span class="op" id="1643533">)</span>&nbsp;<span class="builtintype" id="1643535">uintptr</span>&nbsp;<span class="op" id="1643543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643546">if</span>&nbsp;<span class="op" id="1643549">!</span><span class="ident" id="1643550">nacl</span>&nbsp;<span class="op" id="1643555">&amp;&amp;</span>&nbsp;<span class="ident" id="1643558">useAeshash</span>&nbsp;<span class="op" id="1643569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643573">return</span>&nbsp;<span class="ident" id="1643580">aeshash</span><span class="op" id="1643587">(</span><span class="ident" id="1643588">p</span><span class="op" id="1643589">,</span>&nbsp;<span class="ident" id="1643591">s</span><span class="op" id="1643592">,</span>&nbsp;<span class="ident" id="1643594">h</span><span class="op" id="1643595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1643598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643602">h</span>&nbsp;<span class="op" id="1643604">^=</span>&nbsp;<span class="ident" id="1643607">c0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643611">for</span>&nbsp;<span class="ident" id="1643615">s</span>&nbsp;<span class="op" id="1643617">&gt;</span>&nbsp;<span class="num" id="1643619">0</span>&nbsp;<span class="op" id="1643621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643625">h</span>&nbsp;<span class="op" id="1643627">=</span>&nbsp;<span class="op" id="1643629">(</span><span class="ident" id="1643630">h</span>&nbsp;<span class="op" id="1643632">^</span>&nbsp;<span class="builtintype" id="1643634">uintptr</span><span class="op" id="1643641">(</span><span class="op" id="1643642">*</span><span class="op" id="1643643">(</span><span class="op" id="1643644">*</span><span class="builtintype" id="1643645">byte</span><span class="op" id="1643649">)</span><span class="op" id="1643650">(</span><span class="ident" id="1643651">p</span><span class="op" id="1643652">)</span><span class="op" id="1643653">)</span><span class="op" id="1643654">)</span>&nbsp;<span class="op" id="1643656">*</span>&nbsp;<span class="ident" id="1643658">c1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643663">p</span>&nbsp;<span class="op" id="1643665">=</span>&nbsp;<span class="ident" id="1643667">add</span><span class="op" id="1643670">(</span><span class="ident" id="1643671">p</span><span class="op" id="1643672">,</span>&nbsp;<span class="num" id="1643674">1</span><span class="op" id="1643675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1643679">s</span><span class="op" id="1643680">--</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1643684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643687">return</span>&nbsp;<span class="ident" id="1643694">h</span><br>
<span class="lineno"></span><span class="op" id="1643696">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1643699">func</span>&nbsp;<span class="ident" id="1643704">strhash</span><span class="op" id="1643711">(</span><span class="ident" id="1643712">a</span>&nbsp;<span class="ident" id="1643714">unsafe</span><span class="op" id="1643720">.</span><span class="ident" id="1643721">Pointer</span><span class="op" id="1643728">,</span>&nbsp;<span class="ident" id="1643730">s</span><span class="op" id="1643731">,</span>&nbsp;<span class="ident" id="1643733">h</span>&nbsp;<span class="builtintype" id="1643735">uintptr</span><span class="op" id="1643742">)</span>&nbsp;<span class="builtintype" id="1643744">uintptr</span>&nbsp;<span class="op" id="1643752">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1643755">return</span>&nbsp;<span class="ident" id="1643762">memhash</span><span class="op" id="1643769">(</span><span class="op" id="1643770">(</span><span class="op" id="1643771">*</span><span class="ident" id="1643772">stringStruct</span><span class="op" id="1643784">)</span><span class="op" id="1643785">(</span><span class="ident" id="1643786">a</span><span class="op" id="1643787">)</span><span class="op" id="1643788">.</span><span class="ident" id="1643789">str</span><span class="op" id="1643792">,</span>&nbsp;<span class="builtintype" id="1643794">uintptr</span><span class="op" id="1643801">(</span><span class="builtinfunc" id="1643802">len</span><span class="op" id="1643805">(</span><span class="op" id="1643806">*</span><span class="op" id="1643807">(</span><span class="op" id="1643808">*</span><span class="builtintype" id="1643809">string</span><span class="op" id="1643815">)</span><span class="op" id="1643816">(</span><span class="ident" id="1643817">a</span><span class="op" id="1643818">)</span><span class="op" id="1643819">)</span><span class="op" id="1643820">)</span><span class="op" id="1643821">,</span>&nbsp;<span class="ident" id="1643823">h</span><span class="op" id="1643824">)</span><br>
<span class="lineno"></span><span class="op" id="1643826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1643829">//&nbsp;NOTE:&nbsp;Because&nbsp;NaN&nbsp;!=&nbsp;NaN,&nbsp;a&nbsp;map&nbsp;can&nbsp;contain&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="1643880">//&nbsp;number&nbsp;of&nbsp;(mostly&nbsp;useless)&nbsp;entries&nbsp;keyed&nbsp;with&nbsp;NaNs.</span><br>
<span class="lineno">105</span><span class="comment" id="1643935">//&nbsp;To&nbsp;avoid&nbsp;long&nbsp;hash&nbsp;chains,&nbsp;we&nbsp;assign&nbsp;a&nbsp;random&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="1643991">//&nbsp;as&nbsp;the&nbsp;hash&nbsp;value&nbsp;for&nbsp;a&nbsp;NaN.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1644024">func</span>&nbsp;<span class="ident" id="1644029">f32hash</span><span class="op" id="1644036">(</span><span class="ident" id="1644037">p</span>&nbsp;<span class="ident" id="1644039">unsafe</span><span class="op" id="1644045">.</span><span class="ident" id="1644046">Pointer</span><span class="op" id="1644053">,</span>&nbsp;<span class="ident" id="1644055">s</span><span class="op" id="1644056">,</span>&nbsp;<span class="ident" id="1644058">h</span>&nbsp;<span class="builtintype" id="1644060">uintptr</span><span class="op" id="1644067">)</span>&nbsp;<span class="builtintype" id="1644069">uintptr</span>&nbsp;<span class="op" id="1644077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1644080">f</span>&nbsp;<span class="op" id="1644082">:=</span>&nbsp;<span class="op" id="1644085">*</span><span class="op" id="1644086">(</span><span class="op" id="1644087">*</span><span class="builtintype" id="1644088">float32</span><span class="op" id="1644095">)</span><span class="op" id="1644096">(</span><span class="ident" id="1644097">p</span><span class="op" id="1644098">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644101">switch</span>&nbsp;<span class="op" id="1644108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644111">case</span>&nbsp;<span class="ident" id="1644116">f</span>&nbsp;<span class="op" id="1644118">==</span>&nbsp;<span class="num" id="1644121">0</span><span class="op" id="1644122">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644126">return</span>&nbsp;<span class="ident" id="1644133">c1</span>&nbsp;<span class="op" id="1644136">*</span>&nbsp;<span class="op" id="1644138">(</span><span class="ident" id="1644139">c0</span>&nbsp;<span class="op" id="1644142">^</span>&nbsp;<span class="ident" id="1644144">h</span><span class="op" id="1644145">)</span>&nbsp;<span class="comment" id="1644147">//&nbsp;+0,&nbsp;-0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644158">case</span>&nbsp;<span class="ident" id="1644163">f</span>&nbsp;<span class="op" id="1644165">!=</span>&nbsp;<span class="ident" id="1644168">f</span><span class="op" id="1644169">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644173">return</span>&nbsp;<span class="ident" id="1644180">c1</span>&nbsp;<span class="op" id="1644183">*</span>&nbsp;<span class="op" id="1644185">(</span><span class="ident" id="1644186">c0</span>&nbsp;<span class="op" id="1644189">^</span>&nbsp;<span class="ident" id="1644191">h</span>&nbsp;<span class="op" id="1644193">^</span>&nbsp;<span class="builtintype" id="1644195">uintptr</span><span class="op" id="1644202">(</span><span class="ident" id="1644203">fastrand1</span><span class="op" id="1644212">(</span><span class="op" id="1644213">)</span><span class="op" id="1644214">)</span><span class="op" id="1644215">)</span>&nbsp;<span class="comment" id="1644217">//&nbsp;any&nbsp;kind&nbsp;of&nbsp;NaN</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644237">default</span><span class="op" id="1644244">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644248">return</span>&nbsp;<span class="ident" id="1644255">memhash</span><span class="op" id="1644262">(</span><span class="ident" id="1644263">p</span><span class="op" id="1644264">,</span>&nbsp;<span class="num" id="1644266">4</span><span class="op" id="1644267">,</span>&nbsp;<span class="ident" id="1644269">h</span><span class="op" id="1644270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1644273">}</span><br>
<span class="lineno"></span><span class="op" id="1644275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="1644278">func</span>&nbsp;<span class="ident" id="1644283">f64hash</span><span class="op" id="1644290">(</span><span class="ident" id="1644291">p</span>&nbsp;<span class="ident" id="1644293">unsafe</span><span class="op" id="1644299">.</span><span class="ident" id="1644300">Pointer</span><span class="op" id="1644307">,</span>&nbsp;<span class="ident" id="1644309">s</span><span class="op" id="1644310">,</span>&nbsp;<span class="ident" id="1644312">h</span>&nbsp;<span class="builtintype" id="1644314">uintptr</span><span class="op" id="1644321">)</span>&nbsp;<span class="builtintype" id="1644323">uintptr</span>&nbsp;<span class="op" id="1644331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1644334">f</span>&nbsp;<span class="op" id="1644336">:=</span>&nbsp;<span class="op" id="1644339">*</span><span class="op" id="1644340">(</span><span class="op" id="1644341">*</span><span class="builtintype" id="1644342">float64</span><span class="op" id="1644349">)</span><span class="op" id="1644350">(</span><span class="ident" id="1644351">p</span><span class="op" id="1644352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644355">switch</span>&nbsp;<span class="op" id="1644362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644365">case</span>&nbsp;<span class="ident" id="1644370">f</span>&nbsp;<span class="op" id="1644372">==</span>&nbsp;<span class="num" id="1644375">0</span><span class="op" id="1644376">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644380">return</span>&nbsp;<span class="ident" id="1644387">c1</span>&nbsp;<span class="op" id="1644390">*</span>&nbsp;<span class="op" id="1644392">(</span><span class="ident" id="1644393">c0</span>&nbsp;<span class="op" id="1644396">^</span>&nbsp;<span class="ident" id="1644398">h</span><span class="op" id="1644399">)</span>&nbsp;<span class="comment" id="1644401">//&nbsp;+0,&nbsp;-0</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644412">case</span>&nbsp;<span class="ident" id="1644417">f</span>&nbsp;<span class="op" id="1644419">!=</span>&nbsp;<span class="ident" id="1644422">f</span><span class="op" id="1644423">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644427">return</span>&nbsp;<span class="ident" id="1644434">c1</span>&nbsp;<span class="op" id="1644437">*</span>&nbsp;<span class="op" id="1644439">(</span><span class="ident" id="1644440">c0</span>&nbsp;<span class="op" id="1644443">^</span>&nbsp;<span class="ident" id="1644445">h</span>&nbsp;<span class="op" id="1644447">^</span>&nbsp;<span class="builtintype" id="1644449">uintptr</span><span class="op" id="1644456">(</span><span class="ident" id="1644457">fastrand1</span><span class="op" id="1644466">(</span><span class="op" id="1644467">)</span><span class="op" id="1644468">)</span><span class="op" id="1644469">)</span>&nbsp;<span class="comment" id="1644471">//&nbsp;any&nbsp;kind&nbsp;of&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644491">default</span><span class="op" id="1644498">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644502">return</span>&nbsp;<span class="ident" id="1644509">memhash</span><span class="op" id="1644516">(</span><span class="ident" id="1644517">p</span><span class="op" id="1644518">,</span>&nbsp;<span class="num" id="1644520">8</span><span class="op" id="1644521">,</span>&nbsp;<span class="ident" id="1644523">h</span><span class="op" id="1644524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1644527">}</span><br>
<span class="lineno">130</span><span class="op" id="1644529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1644532">func</span>&nbsp;<span class="ident" id="1644537">c64hash</span><span class="op" id="1644544">(</span><span class="ident" id="1644545">p</span>&nbsp;<span class="ident" id="1644547">unsafe</span><span class="op" id="1644553">.</span><span class="ident" id="1644554">Pointer</span><span class="op" id="1644561">,</span>&nbsp;<span class="ident" id="1644563">s</span><span class="op" id="1644564">,</span>&nbsp;<span class="ident" id="1644566">h</span>&nbsp;<span class="builtintype" id="1644568">uintptr</span><span class="op" id="1644575">)</span>&nbsp;<span class="builtintype" id="1644577">uintptr</span>&nbsp;<span class="op" id="1644585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1644588">x</span>&nbsp;<span class="op" id="1644590">:=</span>&nbsp;<span class="op" id="1644593">(</span><span class="op" id="1644594">*</span><span class="op" id="1644595">[</span><span class="num" id="1644596">2</span><span class="op" id="1644597">]</span><span class="builtintype" id="1644598">float32</span><span class="op" id="1644605">)</span><span class="op" id="1644606">(</span><span class="ident" id="1644607">p</span><span class="op" id="1644608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644611">return</span>&nbsp;<span class="ident" id="1644618">f32hash</span><span class="op" id="1644625">(</span><span class="ident" id="1644626">unsafe</span><span class="op" id="1644632">.</span><span class="ident" id="1644633">Pointer</span><span class="op" id="1644640">(</span><span class="op" id="1644641">&amp;</span><span class="ident" id="1644642">x</span><span class="op" id="1644643">[</span><span class="num" id="1644644">1</span><span class="op" id="1644645">]</span><span class="op" id="1644646">)</span><span class="op" id="1644647">,</span>&nbsp;<span class="num" id="1644649">4</span><span class="op" id="1644650">,</span>&nbsp;<span class="ident" id="1644652">f32hash</span><span class="op" id="1644659">(</span><span class="ident" id="1644660">unsafe</span><span class="op" id="1644666">.</span><span class="ident" id="1644667">Pointer</span><span class="op" id="1644674">(</span><span class="op" id="1644675">&amp;</span><span class="ident" id="1644676">x</span><span class="op" id="1644677">[</span><span class="num" id="1644678">0</span><span class="op" id="1644679">]</span><span class="op" id="1644680">)</span><span class="op" id="1644681">,</span>&nbsp;<span class="num" id="1644683">4</span><span class="op" id="1644684">,</span>&nbsp;<span class="ident" id="1644686">h</span><span class="op" id="1644687">)</span><span class="op" id="1644688">)</span><br>
<span class="lineno">135</span><span class="op" id="1644690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1644693">func</span>&nbsp;<span class="ident" id="1644698">c128hash</span><span class="op" id="1644706">(</span><span class="ident" id="1644707">p</span>&nbsp;<span class="ident" id="1644709">unsafe</span><span class="op" id="1644715">.</span><span class="ident" id="1644716">Pointer</span><span class="op" id="1644723">,</span>&nbsp;<span class="ident" id="1644725">s</span><span class="op" id="1644726">,</span>&nbsp;<span class="ident" id="1644728">h</span>&nbsp;<span class="builtintype" id="1644730">uintptr</span><span class="op" id="1644737">)</span>&nbsp;<span class="builtintype" id="1644739">uintptr</span>&nbsp;<span class="op" id="1644747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1644750">x</span>&nbsp;<span class="op" id="1644752">:=</span>&nbsp;<span class="op" id="1644755">(</span><span class="op" id="1644756">*</span><span class="op" id="1644757">[</span><span class="num" id="1644758">2</span><span class="op" id="1644759">]</span><span class="builtintype" id="1644760">float64</span><span class="op" id="1644767">)</span><span class="op" id="1644768">(</span><span class="ident" id="1644769">p</span><span class="op" id="1644770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644773">return</span>&nbsp;<span class="ident" id="1644780">f64hash</span><span class="op" id="1644787">(</span><span class="ident" id="1644788">unsafe</span><span class="op" id="1644794">.</span><span class="ident" id="1644795">Pointer</span><span class="op" id="1644802">(</span><span class="op" id="1644803">&amp;</span><span class="ident" id="1644804">x</span><span class="op" id="1644805">[</span><span class="num" id="1644806">1</span><span class="op" id="1644807">]</span><span class="op" id="1644808">)</span><span class="op" id="1644809">,</span>&nbsp;<span class="num" id="1644811">8</span><span class="op" id="1644812">,</span>&nbsp;<span class="ident" id="1644814">f64hash</span><span class="op" id="1644821">(</span><span class="ident" id="1644822">unsafe</span><span class="op" id="1644828">.</span><span class="ident" id="1644829">Pointer</span><span class="op" id="1644836">(</span><span class="op" id="1644837">&amp;</span><span class="ident" id="1644838">x</span><span class="op" id="1644839">[</span><span class="num" id="1644840">0</span><span class="op" id="1644841">]</span><span class="op" id="1644842">)</span><span class="op" id="1644843">,</span>&nbsp;<span class="num" id="1644845">8</span><span class="op" id="1644846">,</span>&nbsp;<span class="ident" id="1644848">h</span><span class="op" id="1644849">)</span><span class="op" id="1644850">)</span><br>
<span class="lineno">140</span><span class="op" id="1644852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1644855">func</span>&nbsp;<span class="ident" id="1644860">interhash</span><span class="op" id="1644869">(</span><span class="ident" id="1644870">p</span>&nbsp;<span class="ident" id="1644872">unsafe</span><span class="op" id="1644878">.</span><span class="ident" id="1644879">Pointer</span><span class="op" id="1644886">,</span>&nbsp;<span class="ident" id="1644888">s</span><span class="op" id="1644889">,</span>&nbsp;<span class="ident" id="1644891">h</span>&nbsp;<span class="builtintype" id="1644893">uintptr</span><span class="op" id="1644900">)</span>&nbsp;<span class="builtintype" id="1644902">uintptr</span>&nbsp;<span class="op" id="1644910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1644913">a</span>&nbsp;<span class="op" id="1644915">:=</span>&nbsp;<span class="op" id="1644918">(</span><span class="op" id="1644919">*</span><span class="ident" id="1644920">iface</span><span class="op" id="1644925">)</span><span class="op" id="1644926">(</span><span class="ident" id="1644927">p</span><span class="op" id="1644928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1644931">tab</span>&nbsp;<span class="op" id="1644935">:=</span>&nbsp;<span class="ident" id="1644938">a</span><span class="op" id="1644939">.</span><span class="ident" id="1644940">tab</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644945">if</span>&nbsp;<span class="ident" id="1644948">tab</span>&nbsp;<span class="op" id="1644952">==</span>&nbsp;<span class="ident" id="1644955">nil</span>&nbsp;<span class="op" id="1644959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1644963">return</span>&nbsp;<span class="ident" id="1644970">h</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1644973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1644976">t</span>&nbsp;<span class="op" id="1644978">:=</span>&nbsp;<span class="ident" id="1644981">tab</span><span class="op" id="1644984">.</span><span class="ident" id="1644985">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1644992">fn</span>&nbsp;<span class="op" id="1644995">:=</span>&nbsp;<span class="ident" id="1644998">goalg</span><span class="op" id="1645003">(</span><span class="ident" id="1645004">t</span><span class="op" id="1645005">.</span><span class="ident" id="1645006">alg</span><span class="op" id="1645009">)</span><span class="op" id="1645010">.</span><span class="ident" id="1645011">hash</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645017">if</span>&nbsp;<span class="ident" id="1645020">fn</span>&nbsp;<span class="op" id="1645023">==</span>&nbsp;<span class="ident" id="1645026">nil</span>&nbsp;<span class="op" id="1645030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1645034">panic</span><span class="op" id="1645039">(</span><span class="ident" id="1645040">errorString</span><span class="op" id="1645051">(</span><span class="string" id="1645052">&#34;hash&nbsp;of&nbsp;unhashable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1645079">+</span>&nbsp;<span class="op" id="1645081">*</span><span class="ident" id="1645082">t</span><span class="op" id="1645083">.</span><span class="ident" id="1645084">_string</span><span class="op" id="1645091">)</span><span class="op" id="1645092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1645095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645098">if</span>&nbsp;<span class="ident" id="1645101">isDirectIface</span><span class="op" id="1645114">(</span><span class="ident" id="1645115">t</span><span class="op" id="1645116">)</span>&nbsp;<span class="op" id="1645118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645122">return</span>&nbsp;<span class="ident" id="1645129">c1</span>&nbsp;<span class="op" id="1645132">*</span>&nbsp;<span class="ident" id="1645134">fn</span><span class="op" id="1645136">(</span><span class="ident" id="1645137">unsafe</span><span class="op" id="1645143">.</span><span class="ident" id="1645144">Pointer</span><span class="op" id="1645151">(</span><span class="op" id="1645152">&amp;</span><span class="ident" id="1645153">a</span><span class="op" id="1645154">.</span><span class="ident" id="1645155">data</span><span class="op" id="1645159">)</span><span class="op" id="1645160">,</span>&nbsp;<span class="builtintype" id="1645162">uintptr</span><span class="op" id="1645169">(</span><span class="ident" id="1645170">t</span><span class="op" id="1645171">.</span><span class="ident" id="1645172">size</span><span class="op" id="1645176">)</span><span class="op" id="1645177">,</span>&nbsp;<span class="ident" id="1645179">h</span><span class="op" id="1645180">^</span><span class="ident" id="1645181">c0</span><span class="op" id="1645183">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1645186">}</span>&nbsp;<span class="keyword" id="1645188">else</span>&nbsp;<span class="op" id="1645193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645197">return</span>&nbsp;<span class="ident" id="1645204">c1</span>&nbsp;<span class="op" id="1645207">*</span>&nbsp;<span class="ident" id="1645209">fn</span><span class="op" id="1645211">(</span><span class="ident" id="1645212">a</span><span class="op" id="1645213">.</span><span class="ident" id="1645214">data</span><span class="op" id="1645218">,</span>&nbsp;<span class="builtintype" id="1645220">uintptr</span><span class="op" id="1645227">(</span><span class="ident" id="1645228">t</span><span class="op" id="1645229">.</span><span class="ident" id="1645230">size</span><span class="op" id="1645234">)</span><span class="op" id="1645235">,</span>&nbsp;<span class="ident" id="1645237">h</span><span class="op" id="1645238">^</span><span class="ident" id="1645239">c0</span><span class="op" id="1645241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1645244">}</span><br>
<span class="lineno"></span><span class="op" id="1645246">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="1645249">func</span>&nbsp;<span class="ident" id="1645254">nilinterhash</span><span class="op" id="1645266">(</span><span class="ident" id="1645267">p</span>&nbsp;<span class="ident" id="1645269">unsafe</span><span class="op" id="1645275">.</span><span class="ident" id="1645276">Pointer</span><span class="op" id="1645283">,</span>&nbsp;<span class="ident" id="1645285">s</span><span class="op" id="1645286">,</span>&nbsp;<span class="ident" id="1645288">h</span>&nbsp;<span class="builtintype" id="1645290">uintptr</span><span class="op" id="1645297">)</span>&nbsp;<span class="builtintype" id="1645299">uintptr</span>&nbsp;<span class="op" id="1645307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1645310">a</span>&nbsp;<span class="op" id="1645312">:=</span>&nbsp;<span class="op" id="1645315">(</span><span class="op" id="1645316">*</span><span class="ident" id="1645317">eface</span><span class="op" id="1645322">)</span><span class="op" id="1645323">(</span><span class="ident" id="1645324">p</span><span class="op" id="1645325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1645328">t</span>&nbsp;<span class="op" id="1645330">:=</span>&nbsp;<span class="ident" id="1645333">a</span><span class="op" id="1645334">.</span><span class="ident" id="1645335">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645342">if</span>&nbsp;<span class="ident" id="1645345">t</span>&nbsp;<span class="op" id="1645347">==</span>&nbsp;<span class="ident" id="1645350">nil</span>&nbsp;<span class="op" id="1645354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645358">return</span>&nbsp;<span class="ident" id="1645365">h</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1645368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1645371">fn</span>&nbsp;<span class="op" id="1645374">:=</span>&nbsp;<span class="ident" id="1645377">goalg</span><span class="op" id="1645382">(</span><span class="ident" id="1645383">t</span><span class="op" id="1645384">.</span><span class="ident" id="1645385">alg</span><span class="op" id="1645388">)</span><span class="op" id="1645389">.</span><span class="ident" id="1645390">hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645396">if</span>&nbsp;<span class="ident" id="1645399">fn</span>&nbsp;<span class="op" id="1645402">==</span>&nbsp;<span class="ident" id="1645405">nil</span>&nbsp;<span class="op" id="1645409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1645413">panic</span><span class="op" id="1645418">(</span><span class="ident" id="1645419">errorString</span><span class="op" id="1645430">(</span><span class="string" id="1645431">&#34;hash&nbsp;of&nbsp;unhashable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1645458">+</span>&nbsp;<span class="op" id="1645460">*</span><span class="ident" id="1645461">t</span><span class="op" id="1645462">.</span><span class="ident" id="1645463">_string</span><span class="op" id="1645470">)</span><span class="op" id="1645471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1645474">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645477">if</span>&nbsp;<span class="ident" id="1645480">isDirectIface</span><span class="op" id="1645493">(</span><span class="ident" id="1645494">t</span><span class="op" id="1645495">)</span>&nbsp;<span class="op" id="1645497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645501">return</span>&nbsp;<span class="ident" id="1645508">c1</span>&nbsp;<span class="op" id="1645511">*</span>&nbsp;<span class="ident" id="1645513">fn</span><span class="op" id="1645515">(</span><span class="ident" id="1645516">unsafe</span><span class="op" id="1645522">.</span><span class="ident" id="1645523">Pointer</span><span class="op" id="1645530">(</span><span class="op" id="1645531">&amp;</span><span class="ident" id="1645532">a</span><span class="op" id="1645533">.</span><span class="ident" id="1645534">data</span><span class="op" id="1645538">)</span><span class="op" id="1645539">,</span>&nbsp;<span class="builtintype" id="1645541">uintptr</span><span class="op" id="1645548">(</span><span class="ident" id="1645549">t</span><span class="op" id="1645550">.</span><span class="ident" id="1645551">size</span><span class="op" id="1645555">)</span><span class="op" id="1645556">,</span>&nbsp;<span class="ident" id="1645558">h</span><span class="op" id="1645559">^</span><span class="ident" id="1645560">c0</span><span class="op" id="1645562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1645565">}</span>&nbsp;<span class="keyword" id="1645567">else</span>&nbsp;<span class="op" id="1645572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645576">return</span>&nbsp;<span class="ident" id="1645583">c1</span>&nbsp;<span class="op" id="1645586">*</span>&nbsp;<span class="ident" id="1645588">fn</span><span class="op" id="1645590">(</span><span class="ident" id="1645591">a</span><span class="op" id="1645592">.</span><span class="ident" id="1645593">data</span><span class="op" id="1645597">,</span>&nbsp;<span class="builtintype" id="1645599">uintptr</span><span class="op" id="1645606">(</span><span class="ident" id="1645607">t</span><span class="op" id="1645608">.</span><span class="ident" id="1645609">size</span><span class="op" id="1645613">)</span><span class="op" id="1645614">,</span>&nbsp;<span class="ident" id="1645616">h</span><span class="op" id="1645617">^</span><span class="ident" id="1645618">c0</span><span class="op" id="1645620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1645623">}</span><br>
<span class="lineno">175</span><span class="op" id="1645625">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1645628">func</span>&nbsp;<span class="ident" id="1645633">memequal</span><span class="op" id="1645641">(</span><span class="ident" id="1645642">p</span><span class="op" id="1645643">,</span>&nbsp;<span class="ident" id="1645645">q</span>&nbsp;<span class="ident" id="1645647">unsafe</span><span class="op" id="1645653">.</span><span class="ident" id="1645654">Pointer</span><span class="op" id="1645661">,</span>&nbsp;<span class="ident" id="1645663">size</span>&nbsp;<span class="builtintype" id="1645668">uintptr</span><span class="op" id="1645675">)</span>&nbsp;<span class="builtintype" id="1645677">bool</span>&nbsp;<span class="op" id="1645682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645685">if</span>&nbsp;<span class="ident" id="1645688">p</span>&nbsp;<span class="op" id="1645690">==</span>&nbsp;<span class="ident" id="1645693">q</span>&nbsp;<span class="op" id="1645695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645699">return</span>&nbsp;<span class="builtintype" id="1645706">true</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1645712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645715">return</span>&nbsp;<span class="ident" id="1645722">memeq</span><span class="op" id="1645727">(</span><span class="ident" id="1645728">p</span><span class="op" id="1645729">,</span>&nbsp;<span class="ident" id="1645731">q</span><span class="op" id="1645732">,</span>&nbsp;<span class="ident" id="1645734">size</span><span class="op" id="1645738">)</span><br>
<span class="lineno"></span><span class="op" id="1645740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1645743">func</span>&nbsp;<span class="ident" id="1645748">memequal0</span><span class="op" id="1645757">(</span><span class="ident" id="1645758">p</span><span class="op" id="1645759">,</span>&nbsp;<span class="ident" id="1645761">q</span>&nbsp;<span class="ident" id="1645763">unsafe</span><span class="op" id="1645769">.</span><span class="ident" id="1645770">Pointer</span><span class="op" id="1645777">,</span>&nbsp;<span class="ident" id="1645779">size</span>&nbsp;<span class="builtintype" id="1645784">uintptr</span><span class="op" id="1645791">)</span>&nbsp;<span class="builtintype" id="1645793">bool</span>&nbsp;<span class="op" id="1645798">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645801">return</span>&nbsp;<span class="builtintype" id="1645808">true</span><br>
<span class="lineno"></span><span class="op" id="1645813">}</span><br>
<span class="lineno"></span><span class="keyword" id="1645815">func</span>&nbsp;<span class="ident" id="1645820">memequal8</span><span class="op" id="1645829">(</span><span class="ident" id="1645830">p</span><span class="op" id="1645831">,</span>&nbsp;<span class="ident" id="1645833">q</span>&nbsp;<span class="ident" id="1645835">unsafe</span><span class="op" id="1645841">.</span><span class="ident" id="1645842">Pointer</span><span class="op" id="1645849">,</span>&nbsp;<span class="ident" id="1645851">size</span>&nbsp;<span class="builtintype" id="1645856">uintptr</span><span class="op" id="1645863">)</span>&nbsp;<span class="builtintype" id="1645865">bool</span>&nbsp;<span class="op" id="1645870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645873">return</span>&nbsp;<span class="op" id="1645880">*</span><span class="op" id="1645881">(</span><span class="op" id="1645882">*</span><span class="builtintype" id="1645883">int8</span><span class="op" id="1645887">)</span><span class="op" id="1645888">(</span><span class="ident" id="1645889">p</span><span class="op" id="1645890">)</span>&nbsp;<span class="op" id="1645892">==</span>&nbsp;<span class="op" id="1645895">*</span><span class="op" id="1645896">(</span><span class="op" id="1645897">*</span><span class="builtintype" id="1645898">int8</span><span class="op" id="1645902">)</span><span class="op" id="1645903">(</span><span class="ident" id="1645904">q</span><span class="op" id="1645905">)</span><br>
<span class="lineno"></span><span class="op" id="1645907">}</span><br>
<span class="lineno">190</span><span class="keyword" id="1645909">func</span>&nbsp;<span class="ident" id="1645914">memequal16</span><span class="op" id="1645924">(</span><span class="ident" id="1645925">p</span><span class="op" id="1645926">,</span>&nbsp;<span class="ident" id="1645928">q</span>&nbsp;<span class="ident" id="1645930">unsafe</span><span class="op" id="1645936">.</span><span class="ident" id="1645937">Pointer</span><span class="op" id="1645944">,</span>&nbsp;<span class="ident" id="1645946">size</span>&nbsp;<span class="builtintype" id="1645951">uintptr</span><span class="op" id="1645958">)</span>&nbsp;<span class="builtintype" id="1645960">bool</span>&nbsp;<span class="op" id="1645965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1645968">return</span>&nbsp;<span class="op" id="1645975">*</span><span class="op" id="1645976">(</span><span class="op" id="1645977">*</span><span class="builtintype" id="1645978">int16</span><span class="op" id="1645983">)</span><span class="op" id="1645984">(</span><span class="ident" id="1645985">p</span><span class="op" id="1645986">)</span>&nbsp;<span class="op" id="1645988">==</span>&nbsp;<span class="op" id="1645991">*</span><span class="op" id="1645992">(</span><span class="op" id="1645993">*</span><span class="builtintype" id="1645994">int16</span><span class="op" id="1645999">)</span><span class="op" id="1646000">(</span><span class="ident" id="1646001">q</span><span class="op" id="1646002">)</span><br>
<span class="lineno"></span><span class="op" id="1646004">}</span><br>
<span class="lineno"></span><span class="keyword" id="1646006">func</span>&nbsp;<span class="ident" id="1646011">memequal32</span><span class="op" id="1646021">(</span><span class="ident" id="1646022">p</span><span class="op" id="1646023">,</span>&nbsp;<span class="ident" id="1646025">q</span>&nbsp;<span class="ident" id="1646027">unsafe</span><span class="op" id="1646033">.</span><span class="ident" id="1646034">Pointer</span><span class="op" id="1646041">,</span>&nbsp;<span class="ident" id="1646043">size</span>&nbsp;<span class="builtintype" id="1646048">uintptr</span><span class="op" id="1646055">)</span>&nbsp;<span class="builtintype" id="1646057">bool</span>&nbsp;<span class="op" id="1646062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646065">return</span>&nbsp;<span class="op" id="1646072">*</span><span class="op" id="1646073">(</span><span class="op" id="1646074">*</span><span class="builtintype" id="1646075">int32</span><span class="op" id="1646080">)</span><span class="op" id="1646081">(</span><span class="ident" id="1646082">p</span><span class="op" id="1646083">)</span>&nbsp;<span class="op" id="1646085">==</span>&nbsp;<span class="op" id="1646088">*</span><span class="op" id="1646089">(</span><span class="op" id="1646090">*</span><span class="builtintype" id="1646091">int32</span><span class="op" id="1646096">)</span><span class="op" id="1646097">(</span><span class="ident" id="1646098">q</span><span class="op" id="1646099">)</span><br>
<span class="lineno">195</span><span class="op" id="1646101">}</span><br>
<span class="lineno"></span><span class="keyword" id="1646103">func</span>&nbsp;<span class="ident" id="1646108">memequal64</span><span class="op" id="1646118">(</span><span class="ident" id="1646119">p</span><span class="op" id="1646120">,</span>&nbsp;<span class="ident" id="1646122">q</span>&nbsp;<span class="ident" id="1646124">unsafe</span><span class="op" id="1646130">.</span><span class="ident" id="1646131">Pointer</span><span class="op" id="1646138">,</span>&nbsp;<span class="ident" id="1646140">size</span>&nbsp;<span class="builtintype" id="1646145">uintptr</span><span class="op" id="1646152">)</span>&nbsp;<span class="builtintype" id="1646154">bool</span>&nbsp;<span class="op" id="1646159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646162">return</span>&nbsp;<span class="op" id="1646169">*</span><span class="op" id="1646170">(</span><span class="op" id="1646171">*</span><span class="ident" id="1646172">int64</span><span class="op" id="1646177">)</span><span class="op" id="1646178">(</span><span class="ident" id="1646179">p</span><span class="op" id="1646180">)</span>&nbsp;<span class="op" id="1646182">==</span>&nbsp;<span class="op" id="1646185">*</span><span class="op" id="1646186">(</span><span class="op" id="1646187">*</span><span class="ident" id="1646188">int64</span><span class="op" id="1646193">)</span><span class="op" id="1646194">(</span><span class="ident" id="1646195">q</span><span class="op" id="1646196">)</span><br>
<span class="lineno"></span><span class="op" id="1646198">}</span><br>
<span class="lineno"></span><span class="keyword" id="1646200">func</span>&nbsp;<span class="ident" id="1646205">memequal128</span><span class="op" id="1646216">(</span><span class="ident" id="1646217">p</span><span class="op" id="1646218">,</span>&nbsp;<span class="ident" id="1646220">q</span>&nbsp;<span class="ident" id="1646222">unsafe</span><span class="op" id="1646228">.</span><span class="ident" id="1646229">Pointer</span><span class="op" id="1646236">,</span>&nbsp;<span class="ident" id="1646238">size</span>&nbsp;<span class="builtintype" id="1646243">uintptr</span><span class="op" id="1646250">)</span>&nbsp;<span class="builtintype" id="1646252">bool</span>&nbsp;<span class="op" id="1646257">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646260">return</span>&nbsp;<span class="op" id="1646267">*</span><span class="op" id="1646268">(</span><span class="op" id="1646269">*</span><span class="op" id="1646270">[</span><span class="num" id="1646271">2</span><span class="op" id="1646272">]</span><span class="ident" id="1646273">int64</span><span class="op" id="1646278">)</span><span class="op" id="1646279">(</span><span class="ident" id="1646280">p</span><span class="op" id="1646281">)</span>&nbsp;<span class="op" id="1646283">==</span>&nbsp;<span class="op" id="1646286">*</span><span class="op" id="1646287">(</span><span class="op" id="1646288">*</span><span class="op" id="1646289">[</span><span class="num" id="1646290">2</span><span class="op" id="1646291">]</span><span class="ident" id="1646292">int64</span><span class="op" id="1646297">)</span><span class="op" id="1646298">(</span><span class="ident" id="1646299">q</span><span class="op" id="1646300">)</span><br>
<span class="lineno"></span><span class="op" id="1646302">}</span><br>
<span class="lineno"></span><span class="keyword" id="1646304">func</span>&nbsp;<span class="ident" id="1646309">f32equal</span><span class="op" id="1646317">(</span><span class="ident" id="1646318">p</span><span class="op" id="1646319">,</span>&nbsp;<span class="ident" id="1646321">q</span>&nbsp;<span class="ident" id="1646323">unsafe</span><span class="op" id="1646329">.</span><span class="ident" id="1646330">Pointer</span><span class="op" id="1646337">,</span>&nbsp;<span class="ident" id="1646339">size</span>&nbsp;<span class="builtintype" id="1646344">uintptr</span><span class="op" id="1646351">)</span>&nbsp;<span class="builtintype" id="1646353">bool</span>&nbsp;<span class="op" id="1646358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646361">return</span>&nbsp;<span class="op" id="1646368">*</span><span class="op" id="1646369">(</span><span class="op" id="1646370">*</span><span class="builtintype" id="1646371">float32</span><span class="op" id="1646378">)</span><span class="op" id="1646379">(</span><span class="ident" id="1646380">p</span><span class="op" id="1646381">)</span>&nbsp;<span class="op" id="1646383">==</span>&nbsp;<span class="op" id="1646386">*</span><span class="op" id="1646387">(</span><span class="op" id="1646388">*</span><span class="builtintype" id="1646389">float32</span><span class="op" id="1646396">)</span><span class="op" id="1646397">(</span><span class="ident" id="1646398">q</span><span class="op" id="1646399">)</span><br>
<span class="lineno"></span><span class="op" id="1646401">}</span><br>
<span class="lineno">205</span><span class="keyword" id="1646403">func</span>&nbsp;<span class="ident" id="1646408">f64equal</span><span class="op" id="1646416">(</span><span class="ident" id="1646417">p</span><span class="op" id="1646418">,</span>&nbsp;<span class="ident" id="1646420">q</span>&nbsp;<span class="ident" id="1646422">unsafe</span><span class="op" id="1646428">.</span><span class="ident" id="1646429">Pointer</span><span class="op" id="1646436">,</span>&nbsp;<span class="ident" id="1646438">size</span>&nbsp;<span class="builtintype" id="1646443">uintptr</span><span class="op" id="1646450">)</span>&nbsp;<span class="builtintype" id="1646452">bool</span>&nbsp;<span class="op" id="1646457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646460">return</span>&nbsp;<span class="op" id="1646467">*</span><span class="op" id="1646468">(</span><span class="op" id="1646469">*</span><span class="builtintype" id="1646470">float64</span><span class="op" id="1646477">)</span><span class="op" id="1646478">(</span><span class="ident" id="1646479">p</span><span class="op" id="1646480">)</span>&nbsp;<span class="op" id="1646482">==</span>&nbsp;<span class="op" id="1646485">*</span><span class="op" id="1646486">(</span><span class="op" id="1646487">*</span><span class="builtintype" id="1646488">float64</span><span class="op" id="1646495">)</span><span class="op" id="1646496">(</span><span class="ident" id="1646497">q</span><span class="op" id="1646498">)</span><br>
<span class="lineno"></span><span class="op" id="1646500">}</span><br>
<span class="lineno"></span><span class="keyword" id="1646502">func</span>&nbsp;<span class="ident" id="1646507">c64equal</span><span class="op" id="1646515">(</span><span class="ident" id="1646516">p</span><span class="op" id="1646517">,</span>&nbsp;<span class="ident" id="1646519">q</span>&nbsp;<span class="ident" id="1646521">unsafe</span><span class="op" id="1646527">.</span><span class="ident" id="1646528">Pointer</span><span class="op" id="1646535">,</span>&nbsp;<span class="ident" id="1646537">size</span>&nbsp;<span class="builtintype" id="1646542">uintptr</span><span class="op" id="1646549">)</span>&nbsp;<span class="builtintype" id="1646551">bool</span>&nbsp;<span class="op" id="1646556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646559">return</span>&nbsp;<span class="op" id="1646566">*</span><span class="op" id="1646567">(</span><span class="op" id="1646568">*</span><span class="builtintype" id="1646569">complex64</span><span class="op" id="1646578">)</span><span class="op" id="1646579">(</span><span class="ident" id="1646580">p</span><span class="op" id="1646581">)</span>&nbsp;<span class="op" id="1646583">==</span>&nbsp;<span class="op" id="1646586">*</span><span class="op" id="1646587">(</span><span class="op" id="1646588">*</span><span class="builtintype" id="1646589">complex64</span><span class="op" id="1646598">)</span><span class="op" id="1646599">(</span><span class="ident" id="1646600">q</span><span class="op" id="1646601">)</span><br>
<span class="lineno">210</span><span class="op" id="1646603">}</span><br>
<span class="lineno"></span><span class="keyword" id="1646605">func</span>&nbsp;<span class="ident" id="1646610">c128equal</span><span class="op" id="1646619">(</span><span class="ident" id="1646620">p</span><span class="op" id="1646621">,</span>&nbsp;<span class="ident" id="1646623">q</span>&nbsp;<span class="ident" id="1646625">unsafe</span><span class="op" id="1646631">.</span><span class="ident" id="1646632">Pointer</span><span class="op" id="1646639">,</span>&nbsp;<span class="ident" id="1646641">size</span>&nbsp;<span class="builtintype" id="1646646">uintptr</span><span class="op" id="1646653">)</span>&nbsp;<span class="builtintype" id="1646655">bool</span>&nbsp;<span class="op" id="1646660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646663">return</span>&nbsp;<span class="op" id="1646670">*</span><span class="op" id="1646671">(</span><span class="op" id="1646672">*</span><span class="builtintype" id="1646673">complex128</span><span class="op" id="1646683">)</span><span class="op" id="1646684">(</span><span class="ident" id="1646685">p</span><span class="op" id="1646686">)</span>&nbsp;<span class="op" id="1646688">==</span>&nbsp;<span class="op" id="1646691">*</span><span class="op" id="1646692">(</span><span class="op" id="1646693">*</span><span class="builtintype" id="1646694">complex128</span><span class="op" id="1646704">)</span><span class="op" id="1646705">(</span><span class="ident" id="1646706">q</span><span class="op" id="1646707">)</span><br>
<span class="lineno"></span><span class="op" id="1646709">}</span><br>
<span class="lineno"></span><span class="keyword" id="1646711">func</span>&nbsp;<span class="ident" id="1646716">strequal</span><span class="op" id="1646724">(</span><span class="ident" id="1646725">p</span><span class="op" id="1646726">,</span>&nbsp;<span class="ident" id="1646728">q</span>&nbsp;<span class="ident" id="1646730">unsafe</span><span class="op" id="1646736">.</span><span class="ident" id="1646737">Pointer</span><span class="op" id="1646744">,</span>&nbsp;<span class="ident" id="1646746">size</span>&nbsp;<span class="builtintype" id="1646751">uintptr</span><span class="op" id="1646758">)</span>&nbsp;<span class="builtintype" id="1646760">bool</span>&nbsp;<span class="op" id="1646765">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646768">return</span>&nbsp;<span class="op" id="1646775">*</span><span class="op" id="1646776">(</span><span class="op" id="1646777">*</span><span class="builtintype" id="1646778">string</span><span class="op" id="1646784">)</span><span class="op" id="1646785">(</span><span class="ident" id="1646786">p</span><span class="op" id="1646787">)</span>&nbsp;<span class="op" id="1646789">==</span>&nbsp;<span class="op" id="1646792">*</span><span class="op" id="1646793">(</span><span class="op" id="1646794">*</span><span class="builtintype" id="1646795">string</span><span class="op" id="1646801">)</span><span class="op" id="1646802">(</span><span class="ident" id="1646803">q</span><span class="op" id="1646804">)</span><br>
<span class="lineno"></span><span class="op" id="1646806">}</span><br>
<span class="lineno"></span><span class="keyword" id="1646808">func</span>&nbsp;<span class="ident" id="1646813">interequal</span><span class="op" id="1646823">(</span><span class="ident" id="1646824">p</span><span class="op" id="1646825">,</span>&nbsp;<span class="ident" id="1646827">q</span>&nbsp;<span class="ident" id="1646829">unsafe</span><span class="op" id="1646835">.</span><span class="ident" id="1646836">Pointer</span><span class="op" id="1646843">,</span>&nbsp;<span class="ident" id="1646845">size</span>&nbsp;<span class="builtintype" id="1646850">uintptr</span><span class="op" id="1646857">)</span>&nbsp;<span class="builtintype" id="1646859">bool</span>&nbsp;<span class="op" id="1646864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1646867">return</span>&nbsp;<span class="ident" id="1646874">ifaceeq</span><span class="op" id="1646881">(</span><span class="op" id="1646882">*</span><span class="op" id="1646883">(</span><span class="op" id="1646884">*</span><span class="keyword" id="1646885">interface</span>&nbsp;<span class="op" id="1646895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646899">f</span><span class="op" id="1646900">(</span><span class="op" id="1646901">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1646904">}</span><span class="op" id="1646905">)</span><span class="op" id="1646906">(</span><span class="ident" id="1646907">p</span><span class="op" id="1646908">)</span><span class="op" id="1646909">,</span>&nbsp;<span class="op" id="1646911">*</span><span class="op" id="1646912">(</span><span class="op" id="1646913">*</span><span class="keyword" id="1646914">interface</span>&nbsp;<span class="op" id="1646924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1646928">f</span><span class="op" id="1646929">(</span><span class="op" id="1646930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1646933">}</span><span class="op" id="1646934">)</span><span class="op" id="1646935">(</span><span class="ident" id="1646936">q</span><span class="op" id="1646937">)</span><span class="op" id="1646938">)</span><br>
<span class="lineno"></span><span class="op" id="1646940">}</span><br>
<span class="lineno"></span><span class="keyword" id="1646942">func</span>&nbsp;<span class="ident" id="1646947">nilinterequal</span><span class="op" id="1646960">(</span><span class="ident" id="1646961">p</span><span class="op" id="1646962">,</span>&nbsp;<span class="ident" id="1646964">q</span>&nbsp;<span class="ident" id="1646966">unsafe</span><span class="op" id="1646972">.</span><span class="ident" id="1646973">Pointer</span><span class="op" id="1646980">,</span>&nbsp;<span class="ident" id="1646982">size</span>&nbsp;<span class="builtintype" id="1646987">uintptr</span><span class="op" id="1646994">)</span>&nbsp;<span class="builtintype" id="1646996">bool</span>&nbsp;<span class="op" id="1647001">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647004">return</span>&nbsp;<span class="ident" id="1647011">efaceeq</span><span class="op" id="1647018">(</span><span class="op" id="1647019">*</span><span class="op" id="1647020">(</span><span class="op" id="1647021">*</span><span class="keyword" id="1647022">interface</span><span class="op" id="1647031">{</span><span class="op" id="1647032">}</span><span class="op" id="1647033">)</span><span class="op" id="1647034">(</span><span class="ident" id="1647035">p</span><span class="op" id="1647036">)</span><span class="op" id="1647037">,</span>&nbsp;<span class="op" id="1647039">*</span><span class="op" id="1647040">(</span><span class="op" id="1647041">*</span><span class="keyword" id="1647042">interface</span><span class="op" id="1647051">{</span><span class="op" id="1647052">}</span><span class="op" id="1647053">)</span><span class="op" id="1647054">(</span><span class="ident" id="1647055">q</span><span class="op" id="1647056">)</span><span class="op" id="1647057">)</span><br>
<span class="lineno"></span><span class="op" id="1647059">}</span><br>
<span class="lineno"></span><span class="keyword" id="1647061">func</span>&nbsp;<span class="ident" id="1647066">efaceeq</span><span class="op" id="1647073">(</span><span class="ident" id="1647074">p</span><span class="op" id="1647075">,</span>&nbsp;<span class="ident" id="1647077">q</span>&nbsp;<span class="keyword" id="1647079">interface</span><span class="op" id="1647088">{</span><span class="op" id="1647089">}</span><span class="op" id="1647090">)</span>&nbsp;<span class="builtintype" id="1647092">bool</span>&nbsp;<span class="op" id="1647097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647100">x</span>&nbsp;<span class="op" id="1647102">:=</span>&nbsp;<span class="op" id="1647105">(</span><span class="op" id="1647106">*</span><span class="ident" id="1647107">eface</span><span class="op" id="1647112">)</span><span class="op" id="1647113">(</span><span class="ident" id="1647114">unsafe</span><span class="op" id="1647120">.</span><span class="ident" id="1647121">Pointer</span><span class="op" id="1647128">(</span><span class="op" id="1647129">&amp;</span><span class="ident" id="1647130">p</span><span class="op" id="1647131">)</span><span class="op" id="1647132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647135">y</span>&nbsp;<span class="op" id="1647137">:=</span>&nbsp;<span class="op" id="1647140">(</span><span class="op" id="1647141">*</span><span class="ident" id="1647142">eface</span><span class="op" id="1647147">)</span><span class="op" id="1647148">(</span><span class="ident" id="1647149">unsafe</span><span class="op" id="1647155">.</span><span class="ident" id="1647156">Pointer</span><span class="op" id="1647163">(</span><span class="op" id="1647164">&amp;</span><span class="ident" id="1647165">q</span><span class="op" id="1647166">)</span><span class="op" id="1647167">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647170">t</span>&nbsp;<span class="op" id="1647172">:=</span>&nbsp;<span class="ident" id="1647175">x</span><span class="op" id="1647176">.</span><span class="ident" id="1647177">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647184">if</span>&nbsp;<span class="ident" id="1647187">t</span>&nbsp;<span class="op" id="1647189">!=</span>&nbsp;<span class="ident" id="1647192">y</span><span class="op" id="1647193">.</span><span class="ident" id="1647194">_type</span>&nbsp;<span class="op" id="1647200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647204">return</span>&nbsp;<span class="builtintype" id="1647211">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1647218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647221">if</span>&nbsp;<span class="ident" id="1647224">t</span>&nbsp;<span class="op" id="1647226">==</span>&nbsp;<span class="ident" id="1647229">nil</span>&nbsp;<span class="op" id="1647233">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647237">return</span>&nbsp;<span class="builtintype" id="1647244">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1647250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647253">eq</span>&nbsp;<span class="op" id="1647256">:=</span>&nbsp;<span class="ident" id="1647259">goalg</span><span class="op" id="1647264">(</span><span class="ident" id="1647265">t</span><span class="op" id="1647266">.</span><span class="ident" id="1647267">alg</span><span class="op" id="1647270">)</span><span class="op" id="1647271">.</span><span class="ident" id="1647272">equal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647279">if</span>&nbsp;<span class="ident" id="1647282">eq</span>&nbsp;<span class="op" id="1647285">==</span>&nbsp;<span class="ident" id="1647288">nil</span>&nbsp;<span class="op" id="1647292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1647296">panic</span><span class="op" id="1647301">(</span><span class="ident" id="1647302">errorString</span><span class="op" id="1647313">(</span><span class="string" id="1647314">&#34;comparing&nbsp;uncomparable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1647345">+</span>&nbsp;<span class="op" id="1647347">*</span><span class="ident" id="1647348">t</span><span class="op" id="1647349">.</span><span class="ident" id="1647350">_string</span><span class="op" id="1647357">)</span><span class="op" id="1647358">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1647361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647364">if</span>&nbsp;<span class="ident" id="1647367">isDirectIface</span><span class="op" id="1647380">(</span><span class="ident" id="1647381">t</span><span class="op" id="1647382">)</span>&nbsp;<span class="op" id="1647384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647388">return</span>&nbsp;<span class="ident" id="1647395">eq</span><span class="op" id="1647397">(</span><span class="ident" id="1647398">noescape</span><span class="op" id="1647406">(</span><span class="ident" id="1647407">unsafe</span><span class="op" id="1647413">.</span><span class="ident" id="1647414">Pointer</span><span class="op" id="1647421">(</span><span class="op" id="1647422">&amp;</span><span class="ident" id="1647423">x</span><span class="op" id="1647424">.</span><span class="ident" id="1647425">data</span><span class="op" id="1647429">)</span><span class="op" id="1647430">)</span><span class="op" id="1647431">,</span>&nbsp;<span class="ident" id="1647433">noescape</span><span class="op" id="1647441">(</span><span class="ident" id="1647442">unsafe</span><span class="op" id="1647448">.</span><span class="ident" id="1647449">Pointer</span><span class="op" id="1647456">(</span><span class="op" id="1647457">&amp;</span><span class="ident" id="1647458">y</span><span class="op" id="1647459">.</span><span class="ident" id="1647460">data</span><span class="op" id="1647464">)</span><span class="op" id="1647465">)</span><span class="op" id="1647466">,</span>&nbsp;<span class="builtintype" id="1647468">uintptr</span><span class="op" id="1647475">(</span><span class="ident" id="1647476">t</span><span class="op" id="1647477">.</span><span class="ident" id="1647478">size</span><span class="op" id="1647482">)</span><span class="op" id="1647483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1647486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647489">return</span>&nbsp;<span class="ident" id="1647496">eq</span><span class="op" id="1647498">(</span><span class="ident" id="1647499">x</span><span class="op" id="1647500">.</span><span class="ident" id="1647501">data</span><span class="op" id="1647505">,</span>&nbsp;<span class="ident" id="1647507">y</span><span class="op" id="1647508">.</span><span class="ident" id="1647509">data</span><span class="op" id="1647513">,</span>&nbsp;<span class="builtintype" id="1647515">uintptr</span><span class="op" id="1647522">(</span><span class="ident" id="1647523">t</span><span class="op" id="1647524">.</span><span class="ident" id="1647525">size</span><span class="op" id="1647529">)</span><span class="op" id="1647530">)</span><br>
<span class="lineno">245</span><span class="op" id="1647532">}</span><br>
<span class="lineno"></span><span class="keyword" id="1647534">func</span>&nbsp;<span class="ident" id="1647539">ifaceeq</span><span class="op" id="1647546">(</span><span class="ident" id="1647547">p</span><span class="op" id="1647548">,</span>&nbsp;<span class="ident" id="1647550">q</span>&nbsp;<span class="keyword" id="1647552">interface</span>&nbsp;<span class="op" id="1647562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647565">f</span><span class="op" id="1647566">(</span><span class="op" id="1647567">)</span><br>
<span class="lineno"></span><span class="op" id="1647569">}</span><span class="op" id="1647570">)</span>&nbsp;<span class="builtintype" id="1647572">bool</span>&nbsp;<span class="op" id="1647577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647580">x</span>&nbsp;<span class="op" id="1647582">:=</span>&nbsp;<span class="op" id="1647585">(</span><span class="op" id="1647586">*</span><span class="ident" id="1647587">iface</span><span class="op" id="1647592">)</span><span class="op" id="1647593">(</span><span class="ident" id="1647594">unsafe</span><span class="op" id="1647600">.</span><span class="ident" id="1647601">Pointer</span><span class="op" id="1647608">(</span><span class="op" id="1647609">&amp;</span><span class="ident" id="1647610">p</span><span class="op" id="1647611">)</span><span class="op" id="1647612">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647615">y</span>&nbsp;<span class="op" id="1647617">:=</span>&nbsp;<span class="op" id="1647620">(</span><span class="op" id="1647621">*</span><span class="ident" id="1647622">iface</span><span class="op" id="1647627">)</span><span class="op" id="1647628">(</span><span class="ident" id="1647629">unsafe</span><span class="op" id="1647635">.</span><span class="ident" id="1647636">Pointer</span><span class="op" id="1647643">(</span><span class="op" id="1647644">&amp;</span><span class="ident" id="1647645">q</span><span class="op" id="1647646">)</span><span class="op" id="1647647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647650">xtab</span>&nbsp;<span class="op" id="1647655">:=</span>&nbsp;<span class="ident" id="1647658">x</span><span class="op" id="1647659">.</span><span class="ident" id="1647660">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647665">if</span>&nbsp;<span class="ident" id="1647668">xtab</span>&nbsp;<span class="op" id="1647673">!=</span>&nbsp;<span class="ident" id="1647676">y</span><span class="op" id="1647677">.</span><span class="ident" id="1647678">tab</span>&nbsp;<span class="op" id="1647682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647686">return</span>&nbsp;<span class="builtintype" id="1647693">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1647700">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647703">if</span>&nbsp;<span class="ident" id="1647706">xtab</span>&nbsp;<span class="op" id="1647711">==</span>&nbsp;<span class="ident" id="1647714">nil</span>&nbsp;<span class="op" id="1647718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647722">return</span>&nbsp;<span class="builtintype" id="1647729">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1647735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647738">t</span>&nbsp;<span class="op" id="1647740">:=</span>&nbsp;<span class="ident" id="1647743">xtab</span><span class="op" id="1647747">.</span><span class="ident" id="1647748">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1647755">eq</span>&nbsp;<span class="op" id="1647758">:=</span>&nbsp;<span class="ident" id="1647761">goalg</span><span class="op" id="1647766">(</span><span class="ident" id="1647767">t</span><span class="op" id="1647768">.</span><span class="ident" id="1647769">alg</span><span class="op" id="1647772">)</span><span class="op" id="1647773">.</span><span class="ident" id="1647774">equal</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647781">if</span>&nbsp;<span class="ident" id="1647784">eq</span>&nbsp;<span class="op" id="1647787">==</span>&nbsp;<span class="ident" id="1647790">nil</span>&nbsp;<span class="op" id="1647794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1647798">panic</span><span class="op" id="1647803">(</span><span class="ident" id="1647804">errorString</span><span class="op" id="1647815">(</span><span class="string" id="1647816">&#34;comparing&nbsp;uncomparable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1647847">+</span>&nbsp;<span class="op" id="1647849">*</span><span class="ident" id="1647850">t</span><span class="op" id="1647851">.</span><span class="ident" id="1647852">_string</span><span class="op" id="1647859">)</span><span class="op" id="1647860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1647863">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647866">if</span>&nbsp;<span class="ident" id="1647869">isDirectIface</span><span class="op" id="1647882">(</span><span class="ident" id="1647883">t</span><span class="op" id="1647884">)</span>&nbsp;<span class="op" id="1647886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647890">return</span>&nbsp;<span class="ident" id="1647897">eq</span><span class="op" id="1647899">(</span><span class="ident" id="1647900">noescape</span><span class="op" id="1647908">(</span><span class="ident" id="1647909">unsafe</span><span class="op" id="1647915">.</span><span class="ident" id="1647916">Pointer</span><span class="op" id="1647923">(</span><span class="op" id="1647924">&amp;</span><span class="ident" id="1647925">x</span><span class="op" id="1647926">.</span><span class="ident" id="1647927">data</span><span class="op" id="1647931">)</span><span class="op" id="1647932">)</span><span class="op" id="1647933">,</span>&nbsp;<span class="ident" id="1647935">noescape</span><span class="op" id="1647943">(</span><span class="ident" id="1647944">unsafe</span><span class="op" id="1647950">.</span><span class="ident" id="1647951">Pointer</span><span class="op" id="1647958">(</span><span class="op" id="1647959">&amp;</span><span class="ident" id="1647960">y</span><span class="op" id="1647961">.</span><span class="ident" id="1647962">data</span><span class="op" id="1647966">)</span><span class="op" id="1647967">)</span><span class="op" id="1647968">,</span>&nbsp;<span class="builtintype" id="1647970">uintptr</span><span class="op" id="1647977">(</span><span class="ident" id="1647978">t</span><span class="op" id="1647979">.</span><span class="ident" id="1647980">size</span><span class="op" id="1647984">)</span><span class="op" id="1647985">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1647988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1647991">return</span>&nbsp;<span class="ident" id="1647998">eq</span><span class="op" id="1648000">(</span><span class="ident" id="1648001">x</span><span class="op" id="1648002">.</span><span class="ident" id="1648003">data</span><span class="op" id="1648007">,</span>&nbsp;<span class="ident" id="1648009">y</span><span class="op" id="1648010">.</span><span class="ident" id="1648011">data</span><span class="op" id="1648015">,</span>&nbsp;<span class="builtintype" id="1648017">uintptr</span><span class="op" id="1648024">(</span><span class="ident" id="1648025">t</span><span class="op" id="1648026">.</span><span class="ident" id="1648027">size</span><span class="op" id="1648031">)</span><span class="op" id="1648032">)</span><br>
<span class="lineno"></span><span class="op" id="1648034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1648037">//&nbsp;Testing&nbsp;adapters&nbsp;for&nbsp;hash&nbsp;quality&nbsp;tests&nbsp;(see&nbsp;hash_test.go)</span><br>
<span class="lineno">270</span><span class="keyword" id="1648099">func</span>&nbsp;<span class="ident" id="1648104">haveGoodHash</span><span class="op" id="1648116">(</span><span class="op" id="1648117">)</span>&nbsp;<span class="builtintype" id="1648119">bool</span>&nbsp;<span class="op" id="1648124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1648127">return</span>&nbsp;<span class="ident" id="1648134">useAeshash</span><br>
<span class="lineno"></span><span class="op" id="1648145">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1648148">func</span>&nbsp;<span class="ident" id="1648153">stringHash</span><span class="op" id="1648163">(</span><span class="ident" id="1648164">s</span>&nbsp;<span class="builtintype" id="1648166">string</span><span class="op" id="1648172">,</span>&nbsp;<span class="ident" id="1648174">seed</span>&nbsp;<span class="builtintype" id="1648179">uintptr</span><span class="op" id="1648186">)</span>&nbsp;<span class="builtintype" id="1648188">uintptr</span>&nbsp;<span class="op" id="1648196">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1648199">return</span>&nbsp;<span class="ident" id="1648206">algarray</span><span class="op" id="1648214">[</span><span class="ident" id="1648215">alg_STRING</span><span class="op" id="1648225">]</span><span class="op" id="1648226">.</span><span class="ident" id="1648227">hash</span><span class="op" id="1648231">(</span><span class="ident" id="1648232">noescape</span><span class="op" id="1648240">(</span><span class="ident" id="1648241">unsafe</span><span class="op" id="1648247">.</span><span class="ident" id="1648248">Pointer</span><span class="op" id="1648255">(</span><span class="op" id="1648256">&amp;</span><span class="ident" id="1648257">s</span><span class="op" id="1648258">)</span><span class="op" id="1648259">)</span><span class="op" id="1648260">,</span>&nbsp;<span class="ident" id="1648262">unsafe</span><span class="op" id="1648268">.</span><span class="ident" id="1648269">Sizeof</span><span class="op" id="1648275">(</span><span class="ident" id="1648276">s</span><span class="op" id="1648277">)</span><span class="op" id="1648278">,</span>&nbsp;<span class="ident" id="1648280">seed</span><span class="op" id="1648284">)</span><br>
<span class="lineno"></span><span class="op" id="1648286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1648289">func</span>&nbsp;<span class="ident" id="1648294">bytesHash</span><span class="op" id="1648303">(</span><span class="ident" id="1648304">b</span>&nbsp;<span class="op" id="1648306">[</span><span class="op" id="1648307">]</span><span class="builtintype" id="1648308">byte</span><span class="op" id="1648312">,</span>&nbsp;<span class="ident" id="1648314">seed</span>&nbsp;<span class="builtintype" id="1648319">uintptr</span><span class="op" id="1648326">)</span>&nbsp;<span class="builtintype" id="1648328">uintptr</span>&nbsp;<span class="op" id="1648336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1648339">s</span>&nbsp;<span class="op" id="1648341">:=</span>&nbsp;<span class="op" id="1648344">(</span><span class="op" id="1648345">*</span><span class="ident" id="1648346">sliceStruct</span><span class="op" id="1648357">)</span><span class="op" id="1648358">(</span><span class="ident" id="1648359">unsafe</span><span class="op" id="1648365">.</span><span class="ident" id="1648366">Pointer</span><span class="op" id="1648373">(</span><span class="op" id="1648374">&amp;</span><span class="ident" id="1648375">b</span><span class="op" id="1648376">)</span><span class="op" id="1648377">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1648380">return</span>&nbsp;<span class="ident" id="1648387">algarray</span><span class="op" id="1648395">[</span><span class="ident" id="1648396">alg_MEM</span><span class="op" id="1648403">]</span><span class="op" id="1648404">.</span><span class="ident" id="1648405">hash</span><span class="op" id="1648409">(</span><span class="ident" id="1648410">s</span><span class="op" id="1648411">.</span><span class="ident" id="1648412">array</span><span class="op" id="1648417">,</span>&nbsp;<span class="builtintype" id="1648419">uintptr</span><span class="op" id="1648426">(</span><span class="ident" id="1648427">s</span><span class="op" id="1648428">.</span><span class="builtinfunc" id="1648429">len</span><span class="op" id="1648432">)</span><span class="op" id="1648433">,</span>&nbsp;<span class="ident" id="1648435">seed</span><span class="op" id="1648439">)</span><br>
<span class="lineno"></span><span class="op" id="1648441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1648444">func</span>&nbsp;<span class="ident" id="1648449">int32Hash</span><span class="op" id="1648458">(</span><span class="ident" id="1648459">i</span>&nbsp;<span class="builtintype" id="1648461">uint32</span><span class="op" id="1648467">,</span>&nbsp;<span class="ident" id="1648469">seed</span>&nbsp;<span class="builtintype" id="1648474">uintptr</span><span class="op" id="1648481">)</span>&nbsp;<span class="builtintype" id="1648483">uintptr</span>&nbsp;<span class="op" id="1648491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1648494">return</span>&nbsp;<span class="ident" id="1648501">algarray</span><span class="op" id="1648509">[</span><span class="ident" id="1648510">alg_MEM32</span><span class="op" id="1648519">]</span><span class="op" id="1648520">.</span><span class="ident" id="1648521">hash</span><span class="op" id="1648525">(</span><span class="ident" id="1648526">noescape</span><span class="op" id="1648534">(</span><span class="ident" id="1648535">unsafe</span><span class="op" id="1648541">.</span><span class="ident" id="1648542">Pointer</span><span class="op" id="1648549">(</span><span class="op" id="1648550">&amp;</span><span class="ident" id="1648551">i</span><span class="op" id="1648552">)</span><span class="op" id="1648553">)</span><span class="op" id="1648554">,</span>&nbsp;<span class="num" id="1648556">4</span><span class="op" id="1648557">,</span>&nbsp;<span class="ident" id="1648559">seed</span><span class="op" id="1648563">)</span><br>
<span class="lineno">285</span><span class="op" id="1648565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1648568">func</span>&nbsp;<span class="ident" id="1648573">int64Hash</span><span class="op" id="1648582">(</span><span class="ident" id="1648583">i</span>&nbsp;<span class="ident" id="1648585">uint64</span><span class="op" id="1648591">,</span>&nbsp;<span class="ident" id="1648593">seed</span>&nbsp;<span class="builtintype" id="1648598">uintptr</span><span class="op" id="1648605">)</span>&nbsp;<span class="builtintype" id="1648607">uintptr</span>&nbsp;<span class="op" id="1648615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1648618">return</span>&nbsp;<span class="ident" id="1648625">algarray</span><span class="op" id="1648633">[</span><span class="ident" id="1648634">alg_MEM64</span><span class="op" id="1648643">]</span><span class="op" id="1648644">.</span><span class="ident" id="1648645">hash</span><span class="op" id="1648649">(</span><span class="ident" id="1648650">noescape</span><span class="op" id="1648658">(</span><span class="ident" id="1648659">unsafe</span><span class="op" id="1648665">.</span><span class="ident" id="1648666">Pointer</span><span class="op" id="1648673">(</span><span class="op" id="1648674">&amp;</span><span class="ident" id="1648675">i</span><span class="op" id="1648676">)</span><span class="op" id="1648677">)</span><span class="op" id="1648678">,</span>&nbsp;<span class="num" id="1648680">8</span><span class="op" id="1648681">,</span>&nbsp;<span class="ident" id="1648683">seed</span><span class="op" id="1648687">)</span><br>
<span class="lineno"></span><span class="op" id="1648689">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="1648692">func</span>&nbsp;<span class="ident" id="1648697">efaceHash</span><span class="op" id="1648706">(</span><span class="ident" id="1648707">i</span>&nbsp;<span class="keyword" id="1648709">interface</span><span class="op" id="1648718">{</span><span class="op" id="1648719">}</span><span class="op" id="1648720">,</span>&nbsp;<span class="ident" id="1648722">seed</span>&nbsp;<span class="builtintype" id="1648727">uintptr</span><span class="op" id="1648734">)</span>&nbsp;<span class="builtintype" id="1648736">uintptr</span>&nbsp;<span class="op" id="1648744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1648747">return</span>&nbsp;<span class="ident" id="1648754">algarray</span><span class="op" id="1648762">[</span><span class="ident" id="1648763">alg_NILINTER</span><span class="op" id="1648775">]</span><span class="op" id="1648776">.</span><span class="ident" id="1648777">hash</span><span class="op" id="1648781">(</span><span class="ident" id="1648782">noescape</span><span class="op" id="1648790">(</span><span class="ident" id="1648791">unsafe</span><span class="op" id="1648797">.</span><span class="ident" id="1648798">Pointer</span><span class="op" id="1648805">(</span><span class="op" id="1648806">&amp;</span><span class="ident" id="1648807">i</span><span class="op" id="1648808">)</span><span class="op" id="1648809">)</span><span class="op" id="1648810">,</span>&nbsp;<span class="ident" id="1648812">unsafe</span><span class="op" id="1648818">.</span><span class="ident" id="1648819">Sizeof</span><span class="op" id="1648825">(</span><span class="ident" id="1648826">i</span><span class="op" id="1648827">)</span><span class="op" id="1648828">,</span>&nbsp;<span class="ident" id="1648830">seed</span><span class="op" id="1648834">)</span><br>
<span class="lineno"></span><span class="op" id="1648836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="keyword" id="1648839">func</span>&nbsp;<span class="ident" id="1648844">ifaceHash</span><span class="op" id="1648853">(</span><span class="ident" id="1648854">i</span>&nbsp;<span class="keyword" id="1648856">interface</span>&nbsp;<span class="op" id="1648866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1648869">F</span><span class="op" id="1648870">(</span><span class="op" id="1648871">)</span><br>
<span class="lineno"></span><span class="op" id="1648873">}</span><span class="op" id="1648874">,</span>&nbsp;<span class="ident" id="1648876">seed</span>&nbsp;<span class="builtintype" id="1648881">uintptr</span><span class="op" id="1648888">)</span>&nbsp;<span class="builtintype" id="1648890">uintptr</span>&nbsp;<span class="op" id="1648898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1648901">return</span>&nbsp;<span class="ident" id="1648908">algarray</span><span class="op" id="1648916">[</span><span class="ident" id="1648917">alg_INTER</span><span class="op" id="1648926">]</span><span class="op" id="1648927">.</span><span class="ident" id="1648928">hash</span><span class="op" id="1648932">(</span><span class="ident" id="1648933">noescape</span><span class="op" id="1648941">(</span><span class="ident" id="1648942">unsafe</span><span class="op" id="1648948">.</span><span class="ident" id="1648949">Pointer</span><span class="op" id="1648956">(</span><span class="op" id="1648957">&amp;</span><span class="ident" id="1648958">i</span><span class="op" id="1648959">)</span><span class="op" id="1648960">)</span><span class="op" id="1648961">,</span>&nbsp;<span class="ident" id="1648963">unsafe</span><span class="op" id="1648969">.</span><span class="ident" id="1648970">Sizeof</span><span class="op" id="1648976">(</span><span class="ident" id="1648977">i</span><span class="op" id="1648978">)</span><span class="op" id="1648979">,</span>&nbsp;<span class="ident" id="1648981">seed</span><span class="op" id="1648985">)</span><br>
<span class="lineno"></span><span class="op" id="1648987">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="1648990">//&nbsp;Testing&nbsp;adapter&nbsp;for&nbsp;memclr</span><br>
<span class="lineno"></span><span class="keyword" id="1649020">func</span>&nbsp;<span class="ident" id="1649025">memclrBytes</span><span class="op" id="1649036">(</span><span class="ident" id="1649037">b</span>&nbsp;<span class="op" id="1649039">[</span><span class="op" id="1649040">]</span><span class="builtintype" id="1649041">byte</span><span class="op" id="1649045">)</span>&nbsp;<span class="op" id="1649047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1649050">s</span>&nbsp;<span class="op" id="1649052">:=</span>&nbsp;<span class="op" id="1649055">(</span><span class="op" id="1649056">*</span><span class="ident" id="1649057">sliceStruct</span><span class="op" id="1649068">)</span><span class="op" id="1649069">(</span><span class="ident" id="1649070">unsafe</span><span class="op" id="1649076">.</span><span class="ident" id="1649077">Pointer</span><span class="op" id="1649084">(</span><span class="op" id="1649085">&amp;</span><span class="ident" id="1649086">b</span><span class="op" id="1649087">)</span><span class="op" id="1649088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1649091">memclr</span><span class="op" id="1649097">(</span><span class="ident" id="1649098">s</span><span class="op" id="1649099">.</span><span class="ident" id="1649100">array</span><span class="op" id="1649105">,</span>&nbsp;<span class="builtintype" id="1649107">uintptr</span><span class="op" id="1649114">(</span><span class="ident" id="1649115">s</span><span class="op" id="1649116">.</span><span class="builtinfunc" id="1649117">len</span><span class="op" id="1649120">)</span><span class="op" id="1649121">)</span><br>
<span class="lineno">305</span><span class="op" id="1649123">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1649126">//&nbsp;TODO(dvyukov):&nbsp;remove&nbsp;when&nbsp;Type&nbsp;is&nbsp;converted&nbsp;to&nbsp;Go&nbsp;and&nbsp;contains&nbsp;*typeAlg.</span><br>
<span class="lineno"></span><span class="keyword" id="1649203">func</span>&nbsp;<span class="ident" id="1649208">goalg</span><span class="op" id="1649213">(</span><span class="ident" id="1649214">a</span>&nbsp;<span class="ident" id="1649216">unsafe</span><span class="op" id="1649222">.</span><span class="ident" id="1649223">Pointer</span><span class="op" id="1649230">)</span>&nbsp;<span class="op" id="1649232">*</span><span class="ident" id="1649233">typeAlg</span>&nbsp;<span class="op" id="1649241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1649244">return</span>&nbsp;<span class="op" id="1649251">(</span><span class="op" id="1649252">*</span><span class="ident" id="1649253">typeAlg</span><span class="op" id="1649260">)</span><span class="op" id="1649261">(</span><span class="ident" id="1649262">a</span><span class="op" id="1649263">)</span><br>
<span class="lineno">310</span><span class="op" id="1649265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1649268">//&nbsp;used&nbsp;in&nbsp;asm_{386,amd64}.s</span><br>
<span class="lineno"></span><span class="keyword" id="1649297">const</span>&nbsp;<span class="ident" id="1649303">hashRandomBytes</span>&nbsp;<span class="op" id="1649319">=</span>&nbsp;<span class="num" id="1649321">32</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="1649325">var</span>&nbsp;<span class="ident" id="1649329">aeskeysched</span>&nbsp;<span class="op" id="1649341">[</span><span class="ident" id="1649342">hashRandomBytes</span><span class="op" id="1649357">]</span><span class="builtintype" id="1649358">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1649364">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1649378">func</span>&nbsp;<span class="ident" id="1649383">get_random_data</span><span class="op" id="1649398">(</span><span class="ident" id="1649399">rnd</span>&nbsp;<span class="op" id="1649403">*</span><span class="ident" id="1649404">unsafe</span><span class="op" id="1649410">.</span><span class="ident" id="1649411">Pointer</span><span class="op" id="1649418">,</span>&nbsp;<span class="ident" id="1649420">n</span>&nbsp;<span class="op" id="1649422">*</span><span class="builtintype" id="1649423">int32</span><span class="op" id="1649428">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="keyword" id="1649431">func</span>&nbsp;<span class="ident" id="1649436">init</span><span class="op" id="1649440">(</span><span class="op" id="1649441">)</span>&nbsp;<span class="op" id="1649443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1649446">if</span>&nbsp;<span class="ident" id="1649449">theGoos</span>&nbsp;<span class="op" id="1649457">==</span>&nbsp;<span class="string" id="1649460">&#34;nacl&#34;</span>&nbsp;<span class="op" id="1649467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1649471">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1649479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1649483">//&nbsp;Install&nbsp;aes&nbsp;hash&nbsp;algorithm&nbsp;if&nbsp;we&nbsp;have&nbsp;the&nbsp;instructions&nbsp;we&nbsp;need</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1649550">if</span>&nbsp;<span class="op" id="1649553">(</span><span class="ident" id="1649554">cpuid_ecx</span><span class="op" id="1649563">&amp;</span><span class="op" id="1649564">(</span><span class="num" id="1649565">1</span><span class="op" id="1649566">&lt;&lt;</span><span class="num" id="1649568">25</span><span class="op" id="1649570">)</span><span class="op" id="1649571">)</span>&nbsp;<span class="op" id="1649573">!=</span>&nbsp;<span class="num" id="1649576">0</span>&nbsp;<span class="op" id="1649578">&amp;&amp;</span>&nbsp;<span class="comment" id="1649581">//&nbsp;aes&nbsp;(aesenc)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1649599">(</span><span class="ident" id="1649600">cpuid_ecx</span><span class="op" id="1649609">&amp;</span><span class="op" id="1649610">(</span><span class="num" id="1649611">1</span><span class="op" id="1649612">&lt;&lt;</span><span class="num" id="1649614">9</span><span class="op" id="1649615">)</span><span class="op" id="1649616">)</span>&nbsp;<span class="op" id="1649618">!=</span>&nbsp;<span class="num" id="1649621">0</span>&nbsp;<span class="op" id="1649623">&amp;&amp;</span>&nbsp;<span class="comment" id="1649626">//&nbsp;sse3&nbsp;(pshufb)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1649645">(</span><span class="ident" id="1649646">cpuid_ecx</span><span class="op" id="1649655">&amp;</span><span class="op" id="1649656">(</span><span class="num" id="1649657">1</span><span class="op" id="1649658">&lt;&lt;</span><span class="num" id="1649660">19</span><span class="op" id="1649662">)</span><span class="op" id="1649663">)</span>&nbsp;<span class="op" id="1649665">!=</span>&nbsp;<span class="num" id="1649668">0</span>&nbsp;<span class="op" id="1649670">{</span>&nbsp;<span class="comment" id="1649672">//&nbsp;sse4.1&nbsp;(pinsr{d,q})</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1649697">useAeshash</span>&nbsp;<span class="op" id="1649708">=</span>&nbsp;<span class="builtintype" id="1649710">true</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1649717">algarray</span><span class="op" id="1649725">[</span><span class="ident" id="1649726">alg_MEM</span><span class="op" id="1649733">]</span><span class="op" id="1649734">.</span><span class="ident" id="1649735">hash</span>&nbsp;<span class="op" id="1649740">=</span>&nbsp;<span class="ident" id="1649742">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1649752">algarray</span><span class="op" id="1649760">[</span><span class="ident" id="1649761">alg_MEM8</span><span class="op" id="1649769">]</span><span class="op" id="1649770">.</span><span class="ident" id="1649771">hash</span>&nbsp;<span class="op" id="1649776">=</span>&nbsp;<span class="ident" id="1649778">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1649788">algarray</span><span class="op" id="1649796">[</span><span class="ident" id="1649797">alg_MEM16</span><span class="op" id="1649806">]</span><span class="op" id="1649807">.</span><span class="ident" id="1649808">hash</span>&nbsp;<span class="op" id="1649813">=</span>&nbsp;<span class="ident" id="1649815">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1649825">algarray</span><span class="op" id="1649833">[</span><span class="ident" id="1649834">alg_MEM32</span><span class="op" id="1649843">]</span><span class="op" id="1649844">.</span><span class="ident" id="1649845">hash</span>&nbsp;<span class="op" id="1649850">=</span>&nbsp;<span class="ident" id="1649852">aeshash32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1649864">algarray</span><span class="op" id="1649872">[</span><span class="ident" id="1649873">alg_MEM64</span><span class="op" id="1649882">]</span><span class="op" id="1649883">.</span><span class="ident" id="1649884">hash</span>&nbsp;<span class="op" id="1649889">=</span>&nbsp;<span class="ident" id="1649891">aeshash64</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1649903">algarray</span><span class="op" id="1649911">[</span><span class="ident" id="1649912">alg_MEM128</span><span class="op" id="1649922">]</span><span class="op" id="1649923">.</span><span class="ident" id="1649924">hash</span>&nbsp;<span class="op" id="1649929">=</span>&nbsp;<span class="ident" id="1649931">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1649941">algarray</span><span class="op" id="1649949">[</span><span class="ident" id="1649950">alg_STRING</span><span class="op" id="1649960">]</span><span class="op" id="1649961">.</span><span class="ident" id="1649962">hash</span>&nbsp;<span class="op" id="1649967">=</span>&nbsp;<span class="ident" id="1649969">aeshashstr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1649982">//&nbsp;Initialize&nbsp;with&nbsp;random&nbsp;data&nbsp;so&nbsp;hash&nbsp;collisions&nbsp;will&nbsp;be&nbsp;hard&nbsp;to&nbsp;engineer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1650060">var</span>&nbsp;<span class="ident" id="1650064">rnd</span>&nbsp;<span class="ident" id="1650068">unsafe</span><span class="op" id="1650074">.</span><span class="ident" id="1650075">Pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1650085">var</span>&nbsp;<span class="ident" id="1650089">n</span>&nbsp;<span class="builtintype" id="1650091">int32</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1650099">get_random_data</span><span class="op" id="1650114">(</span><span class="op" id="1650115">&amp;</span><span class="ident" id="1650116">rnd</span><span class="op" id="1650119">,</span>&nbsp;<span class="op" id="1650121">&amp;</span><span class="ident" id="1650122">n</span><span class="op" id="1650123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1650127">if</span>&nbsp;<span class="ident" id="1650130">n</span>&nbsp;<span class="op" id="1650132">&gt;</span>&nbsp;<span class="ident" id="1650134">hashRandomBytes</span>&nbsp;<span class="op" id="1650150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1650155">n</span>&nbsp;<span class="op" id="1650157">=</span>&nbsp;<span class="ident" id="1650159">hashRandomBytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1650177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1650181">memmove</span><span class="op" id="1650188">(</span><span class="ident" id="1650189">unsafe</span><span class="op" id="1650195">.</span><span class="ident" id="1650196">Pointer</span><span class="op" id="1650203">(</span><span class="op" id="1650204">&amp;</span><span class="ident" id="1650205">aeskeysched</span><span class="op" id="1650216">[</span><span class="num" id="1650217">0</span><span class="op" id="1650218">]</span><span class="op" id="1650219">)</span><span class="op" id="1650220">,</span>&nbsp;<span class="ident" id="1650222">rnd</span><span class="op" id="1650225">,</span>&nbsp;<span class="builtintype" id="1650227">uintptr</span><span class="op" id="1650234">(</span><span class="ident" id="1650235">n</span><span class="op" id="1650236">)</span><span class="op" id="1650237">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1650241">if</span>&nbsp;<span class="ident" id="1650244">n</span>&nbsp;<span class="op" id="1650246">&lt;</span>&nbsp;<span class="ident" id="1650248">hashRandomBytes</span>&nbsp;<span class="op" id="1650264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1650269">//&nbsp;Not&nbsp;very&nbsp;random,&nbsp;but&nbsp;better&nbsp;than&nbsp;nothing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1650317">for</span>&nbsp;<span class="ident" id="1650321">t</span>&nbsp;<span class="op" id="1650323">:=</span>&nbsp;<span class="ident" id="1650326">nanotime</span><span class="op" id="1650334">(</span><span class="op" id="1650335">)</span><span class="op" id="1650336">;</span>&nbsp;<span class="ident" id="1650338">n</span>&nbsp;<span class="op" id="1650340">&lt;</span>&nbsp;<span class="ident" id="1650342">hashRandomBytes</span><span class="op" id="1650357">;</span>&nbsp;<span class="ident" id="1650359">n</span><span class="op" id="1650360">++</span>&nbsp;<span class="op" id="1650363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1650369">aeskeysched</span><span class="op" id="1650380">[</span><span class="ident" id="1650381">n</span><span class="op" id="1650382">]</span>&nbsp;<span class="op" id="1650384">=</span>&nbsp;<span class="builtintype" id="1650386">byte</span><span class="op" id="1650390">(</span><span class="ident" id="1650391">t</span>&nbsp;<span class="op" id="1650393">&gt;&gt;</span>&nbsp;<span class="builtintype" id="1650396">uint</span><span class="op" id="1650400">(</span><span class="num" id="1650401">8</span><span class="op" id="1650402">*</span><span class="op" id="1650403">(</span><span class="ident" id="1650404">n</span><span class="op" id="1650405">%</span><span class="num" id="1650406">8</span><span class="op" id="1650407">)</span><span class="op" id="1650408">)</span><span class="op" id="1650409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1650414">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1650418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1650421">}</span><br>
<span class="lineno"></span><span class="op" id="1650423">}</span>
</div>
</body>
</html>
