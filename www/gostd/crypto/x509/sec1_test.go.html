<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7744700">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7744755">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7744809">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7744860">package</span>&nbsp;<span class="ident" id="7744868">x509</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7744874">import</span>&nbsp;<span class="op" id="7744881">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7744884">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7744893">&#34;encoding/hex&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7744909">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7744919">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7744922">//&nbsp;Generated&nbsp;using:</span><br>
<span class="lineno"></span><span class="comment" id="7744942">//&nbsp;&nbsp;&nbsp;openssl&nbsp;ecparam&nbsp;-genkey&nbsp;-name&nbsp;secp384r1&nbsp;-outform&nbsp;PEM</span><br>
<span class="lineno">15</span><span class="keyword" id="7745000">var</span>&nbsp;<span class="ident" id="7745004">ecPrivateKeyHex</span>&nbsp;<span class="op" id="7745020">=</span>&nbsp;<span class="string" id="7745022">`3081a40201010430bdb9839c08ee793d1157886a7a758a3c8b2a17a4df48f17ace57c72c56b4723cf21dcda21d4e1ad57ff034f19fcfd98ea00706052b81040022a16403620004feea808b5ee2429cfcce13c32160e1c960990bd050bb0fdf7222f3decd0a55008e32a6aa3c9062051c4cba92a7a3b178b24567412d43cdd2f882fa5addddd726fe3e208d2c26d733a773a597abb749714df7256ead5105fa6e7b3650de236b50`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7745360">func</span>&nbsp;<span class="ident" id="7745365">TestParseECPrivateKey</span><span class="op" id="7745386">(</span><span class="ident" id="7745387">t</span>&nbsp;<span class="op" id="7745389">*</span><span class="ident" id="7745390">testing</span><span class="op" id="7745397">.</span><span class="ident" id="7745398">T</span><span class="op" id="7745399">)</span>&nbsp;<span class="op" id="7745401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7745404">derBytes</span><span class="op" id="7745412">,</span>&nbsp;<span class="ident" id="7745414">_</span>&nbsp;<span class="op" id="7745416">:=</span>&nbsp;<span class="ident" id="7745419">hex</span><span class="op" id="7745422">.</span><span class="ident" id="7745423">DecodeString</span><span class="op" id="7745435">(</span><span class="ident" id="7745436">ecPrivateKeyHex</span><span class="op" id="7745451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7745454">key</span><span class="op" id="7745457">,</span>&nbsp;<span class="ident" id="7745459">err</span>&nbsp;<span class="op" id="7745463">:=</span>&nbsp;<span class="ident" id="7745466">ParseECPrivateKey</span><span class="op" id="7745483">(</span><span class="ident" id="7745484">derBytes</span><span class="op" id="7745492">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7745495">if</span>&nbsp;<span class="ident" id="7745498">err</span>&nbsp;<span class="op" id="7745502">!=</span>&nbsp;<span class="ident" id="7745505">nil</span>&nbsp;<span class="op" id="7745509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7745513">t</span><span class="op" id="7745514">.</span><span class="ident" id="7745515">Errorf</span><span class="op" id="7745521">(</span><span class="string" id="7745522">&#34;failed&nbsp;to&nbsp;decode&nbsp;EC&nbsp;private&nbsp;key:&nbsp;%s&#34;</span><span class="op" id="7745559">,</span>&nbsp;<span class="ident" id="7745561">err</span><span class="op" id="7745564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7745567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7745570">serialized</span><span class="op" id="7745580">,</span>&nbsp;<span class="ident" id="7745582">err</span>&nbsp;<span class="op" id="7745586">:=</span>&nbsp;<span class="ident" id="7745589">MarshalECPrivateKey</span><span class="op" id="7745608">(</span><span class="ident" id="7745609">key</span><span class="op" id="7745612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7745615">if</span>&nbsp;<span class="ident" id="7745618">err</span>&nbsp;<span class="op" id="7745622">!=</span>&nbsp;<span class="ident" id="7745625">nil</span>&nbsp;<span class="op" id="7745629">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7745633">t</span><span class="op" id="7745634">.</span><span class="ident" id="7745635">Fatalf</span><span class="op" id="7745641">(</span><span class="string" id="7745642">&#34;failed&nbsp;to&nbsp;encode&nbsp;EC&nbsp;private&nbsp;key:&nbsp;%s&#34;</span><span class="op" id="7745679">,</span>&nbsp;<span class="ident" id="7745681">err</span><span class="op" id="7745684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7745687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7745690">if</span>&nbsp;<span class="op" id="7745693">!</span><span class="ident" id="7745694">bytes</span><span class="op" id="7745699">.</span><span class="ident" id="7745700">Equal</span><span class="op" id="7745705">(</span><span class="ident" id="7745706">serialized</span><span class="op" id="7745716">,</span>&nbsp;<span class="ident" id="7745718">derBytes</span><span class="op" id="7745726">)</span>&nbsp;<span class="op" id="7745728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7745732">t</span><span class="op" id="7745733">.</span><span class="ident" id="7745734">Fatalf</span><span class="op" id="7745740">(</span><span class="string" id="7745741">&#34;serialized&nbsp;key&nbsp;differs:&nbsp;got&nbsp;%x,&nbsp;want&nbsp;%x&#34;</span><span class="op" id="7745782">,</span>&nbsp;<span class="ident" id="7745784">serialized</span><span class="op" id="7745794">,</span>&nbsp;<span class="ident" id="7745796">derBytes</span><span class="op" id="7745804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7745807">}</span><br>
<span class="lineno">30</span><span class="op" id="7745809">}</span>
</div>
</body>
</html>
