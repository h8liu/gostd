<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html" class="current">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7874850">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7874905">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7874959">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7875010">package</span>&nbsp;<span class="ident" id="7875018">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7875028">import</span>&nbsp;<span class="op" id="7875035">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7875038">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7875048">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7875051">func</span>&nbsp;<span class="ident" id="7875056">TestURLNormalizer</span><span class="op" id="7875073">(</span><span class="ident" id="7875074">t</span>&nbsp;<span class="op" id="7875076">*</span><span class="ident" id="7875077">testing</span><span class="op" id="7875084">.</span><span class="ident" id="7875085">T</span><span class="op" id="7875086">)</span>&nbsp;<span class="op" id="7875088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875091">tests</span>&nbsp;<span class="op" id="7875097">:=</span>&nbsp;<span class="op" id="7875100">[</span><span class="op" id="7875101">]</span><span class="keyword" id="7875102">struct</span>&nbsp;<span class="op" id="7875109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875113">url</span><span class="op" id="7875116">,</span>&nbsp;<span class="ident" id="7875118">want</span>&nbsp;<span class="builtintype" id="7875123">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875131">}</span><span class="op" id="7875132">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875136">{</span><span class="string" id="7875137">&#34;&#34;</span><span class="op" id="7875139">,</span>&nbsp;<span class="string" id="7875141">&#34;&#34;</span><span class="op" id="7875143">}</span><span class="op" id="7875144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7875153">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="7875206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7875211">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="7875264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875268">}</span><span class="op" id="7875269">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875273">{</span><span class="string" id="7875274">&#34;&nbsp;&#34;</span><span class="op" id="7875277">,</span>&nbsp;<span class="string" id="7875279">&#34;%20&#34;</span><span class="op" id="7875284">}</span><span class="op" id="7875285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875289">{</span><span class="string" id="7875290">&#34;%7c&#34;</span><span class="op" id="7875295">,</span>&nbsp;<span class="string" id="7875297">&#34;%7c&#34;</span><span class="op" id="7875302">}</span><span class="op" id="7875303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875307">{</span><span class="string" id="7875308">&#34;%7C&#34;</span><span class="op" id="7875313">,</span>&nbsp;<span class="string" id="7875315">&#34;%7C&#34;</span><span class="op" id="7875320">}</span><span class="op" id="7875321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875325">{</span><span class="string" id="7875326">&#34;%2&#34;</span><span class="op" id="7875330">,</span>&nbsp;<span class="string" id="7875332">&#34;%252&#34;</span><span class="op" id="7875338">}</span><span class="op" id="7875339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875343">{</span><span class="string" id="7875344">&#34;%&#34;</span><span class="op" id="7875347">,</span>&nbsp;<span class="string" id="7875349">&#34;%25&#34;</span><span class="op" id="7875354">}</span><span class="op" id="7875355">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875359">{</span><span class="string" id="7875360">&#34;%z&#34;</span><span class="op" id="7875364">,</span>&nbsp;<span class="string" id="7875366">&#34;%25z&#34;</span><span class="op" id="7875372">}</span><span class="op" id="7875373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875377">{</span><span class="string" id="7875378">&#34;/foo|bar/%5c\u1234&#34;</span><span class="op" id="7875398">,</span>&nbsp;<span class="string" id="7875400">&#34;/foo%7cbar/%5c%e1%88%b4&#34;</span><span class="op" id="7875425">}</span><span class="op" id="7875426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875432">for</span>&nbsp;<span class="ident" id="7875436">_</span><span class="op" id="7875437">,</span>&nbsp;<span class="ident" id="7875439">test</span>&nbsp;<span class="op" id="7875444">:=</span>&nbsp;<span class="keyword" id="7875447">range</span>&nbsp;<span class="ident" id="7875453">tests</span>&nbsp;<span class="op" id="7875459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875463">if</span>&nbsp;<span class="ident" id="7875466">got</span>&nbsp;<span class="op" id="7875470">:=</span>&nbsp;<span class="ident" id="7875473">urlNormalizer</span><span class="op" id="7875486">(</span><span class="ident" id="7875487">test</span><span class="op" id="7875491">.</span><span class="ident" id="7875492">url</span><span class="op" id="7875495">)</span><span class="op" id="7875496">;</span>&nbsp;<span class="ident" id="7875498">test</span><span class="op" id="7875502">.</span><span class="ident" id="7875503">want</span>&nbsp;<span class="op" id="7875508">!=</span>&nbsp;<span class="ident" id="7875511">got</span>&nbsp;<span class="op" id="7875515">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875520">t</span><span class="op" id="7875521">.</span><span class="ident" id="7875522">Errorf</span><span class="op" id="7875528">(</span><span class="string" id="7875529">&#34;%q:&nbsp;want\n\t%q\nbut&nbsp;got\n\t%q&#34;</span><span class="op" id="7875560">,</span>&nbsp;<span class="ident" id="7875562">test</span><span class="op" id="7875566">.</span><span class="ident" id="7875567">url</span><span class="op" id="7875570">,</span>&nbsp;<span class="ident" id="7875572">test</span><span class="op" id="7875576">.</span><span class="ident" id="7875577">want</span><span class="op" id="7875581">,</span>&nbsp;<span class="ident" id="7875583">got</span><span class="op" id="7875586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875594">if</span>&nbsp;<span class="ident" id="7875597">test</span><span class="op" id="7875601">.</span><span class="ident" id="7875602">want</span>&nbsp;<span class="op" id="7875607">!=</span>&nbsp;<span class="ident" id="7875610">urlNormalizer</span><span class="op" id="7875623">(</span><span class="ident" id="7875624">test</span><span class="op" id="7875628">.</span><span class="ident" id="7875629">want</span><span class="op" id="7875633">)</span>&nbsp;<span class="op" id="7875635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875640">t</span><span class="op" id="7875641">.</span><span class="ident" id="7875642">Errorf</span><span class="op" id="7875648">(</span><span class="string" id="7875649">&#34;not&nbsp;idempotent:&nbsp;%q&#34;</span><span class="op" id="7875669">,</span>&nbsp;<span class="ident" id="7875671">test</span><span class="op" id="7875675">.</span><span class="ident" id="7875676">want</span><span class="op" id="7875680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875684">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875687">}</span><br>
<span class="lineno"></span><span class="op" id="7875689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7875692">func</span>&nbsp;<span class="ident" id="7875697">TestURLFilters</span><span class="op" id="7875711">(</span><span class="ident" id="7875712">t</span>&nbsp;<span class="op" id="7875714">*</span><span class="ident" id="7875715">testing</span><span class="op" id="7875722">.</span><span class="ident" id="7875723">T</span><span class="op" id="7875724">)</span>&nbsp;<span class="op" id="7875726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875729">input</span>&nbsp;<span class="op" id="7875735">:=</span>&nbsp;<span class="op" id="7875738">(</span><span class="string" id="7875739">&#34;\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f&#34;</span>&nbsp;<span class="op" id="7875800">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7875804">&#34;\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f&#34;</span>&nbsp;<span class="op" id="7875871">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7875875">`&nbsp;!&#34;#$%&amp;&#39;()*+,-./`</span>&nbsp;<span class="op" id="7875894">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7875898">`0123456789:;&lt;=&gt;?`</span>&nbsp;<span class="op" id="7875917">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7875921">`@ABCDEFGHIJKLMNO`</span>&nbsp;<span class="op" id="7875940">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7875944">`PQRSTUVWXYZ[\]^_`</span>&nbsp;<span class="op" id="7875963">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7875967">&#34;`abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7875986">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7875990">&#34;pqrstuvwxyz{|}~\x7f&#34;</span>&nbsp;<span class="op" id="7876012">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876016">&#34;\u00A0\u0100\u2028\u2029\ufeff\U0001D11E&#34;</span><span class="op" id="7876058">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876062">tests</span>&nbsp;<span class="op" id="7876068">:=</span>&nbsp;<span class="op" id="7876071">[</span><span class="op" id="7876072">]</span><span class="keyword" id="7876073">struct</span>&nbsp;<span class="op" id="7876080">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876084">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7876092">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876101">escaper</span>&nbsp;<span class="keyword" id="7876109">func</span><span class="op" id="7876113">(</span><span class="op" id="7876114">...</span><span class="keyword" id="7876117">interface</span><span class="op" id="7876126">{</span><span class="op" id="7876127">}</span><span class="op" id="7876128">)</span>&nbsp;<span class="builtintype" id="7876130">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876139">escaped</span>&nbsp;<span class="builtintype" id="7876147">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876155">}</span><span class="op" id="7876156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876160">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876165">&#34;urlEscaper&#34;</span><span class="op" id="7876177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876182">urlEscaper</span><span class="op" id="7876192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876197">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="7876248">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876254">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="7876305">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876311">&#34;%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f&#34;</span>&nbsp;<span class="op" id="7876358">+</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876364">&#34;0123456789%3a%3b%3c%3d%3e%3f&#34;</span>&nbsp;<span class="op" id="7876395">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876401">&#34;%40ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="7876422">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876428">&#34;PQRSTUVWXYZ%5b%5c%5d%5e_&#34;</span>&nbsp;<span class="op" id="7876455">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876461">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7876482">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876488">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="7876515">+</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876521">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="7876574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876578">}</span><span class="op" id="7876579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876588">&#34;urlNormalizer&#34;</span><span class="op" id="7876603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876608">urlNormalizer</span><span class="op" id="7876621">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876626">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="7876677">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876683">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="7876734">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876740">&#34;%20!%22#$%25&amp;%27%28%29*+,-./&#34;</span>&nbsp;<span class="op" id="7876771">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876777">&#34;0123456789:;%3c=%3e?&#34;</span>&nbsp;<span class="op" id="7876800">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876806">&#34;@ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="7876825">+</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876831">&#34;PQRSTUVWXYZ[%5c]%5e_&#34;</span>&nbsp;<span class="op" id="7876854">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876860">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7876881">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876887">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="7876914">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7876920">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="7876973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876977">}</span><span class="op" id="7876978">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876985">for</span>&nbsp;<span class="ident" id="7876989">_</span><span class="op" id="7876990">,</span>&nbsp;<span class="ident" id="7876992">test</span>&nbsp;<span class="op" id="7876997">:=</span>&nbsp;<span class="keyword" id="7877000">range</span>&nbsp;<span class="ident" id="7877006">tests</span>&nbsp;<span class="op" id="7877012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877016">if</span>&nbsp;<span class="ident" id="7877019">s</span>&nbsp;<span class="op" id="7877021">:=</span>&nbsp;<span class="ident" id="7877024">test</span><span class="op" id="7877028">.</span><span class="ident" id="7877029">escaper</span><span class="op" id="7877036">(</span><span class="ident" id="7877037">input</span><span class="op" id="7877042">)</span><span class="op" id="7877043">;</span>&nbsp;<span class="ident" id="7877045">s</span>&nbsp;<span class="op" id="7877047">!=</span>&nbsp;<span class="ident" id="7877050">test</span><span class="op" id="7877054">.</span><span class="ident" id="7877055">escaped</span>&nbsp;<span class="op" id="7877063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877068">t</span><span class="op" id="7877069">.</span><span class="ident" id="7877070">Errorf</span><span class="op" id="7877076">(</span><span class="string" id="7877077">&#34;%s:&nbsp;want\n\t%q\ngot\n\t%q&#34;</span><span class="op" id="7877104">,</span>&nbsp;<span class="ident" id="7877106">test</span><span class="op" id="7877110">.</span><span class="ident" id="7877111">name</span><span class="op" id="7877115">,</span>&nbsp;<span class="ident" id="7877117">test</span><span class="op" id="7877121">.</span><span class="ident" id="7877122">escaped</span><span class="op" id="7877129">,</span>&nbsp;<span class="ident" id="7877131">s</span><span class="op" id="7877132">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877137">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877151">}</span><br>
<span class="lineno"></span><span class="op" id="7877153">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7877156">func</span>&nbsp;<span class="ident" id="7877161">BenchmarkURLEscaper</span><span class="op" id="7877180">(</span><span class="ident" id="7877181">b</span>&nbsp;<span class="op" id="7877183">*</span><span class="ident" id="7877184">testing</span><span class="op" id="7877191">.</span><span class="ident" id="7877192">B</span><span class="op" id="7877193">)</span>&nbsp;<span class="op" id="7877195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877198">for</span>&nbsp;<span class="ident" id="7877202">i</span>&nbsp;<span class="op" id="7877204">:=</span>&nbsp;<span class="num" id="7877207">0</span><span class="op" id="7877208">;</span>&nbsp;<span class="ident" id="7877210">i</span>&nbsp;<span class="op" id="7877212">&lt;</span>&nbsp;<span class="ident" id="7877214">b</span><span class="op" id="7877215">.</span><span class="ident" id="7877216">N</span><span class="op" id="7877217">;</span>&nbsp;<span class="ident" id="7877219">i</span><span class="op" id="7877220">++</span>&nbsp;<span class="op" id="7877223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877227">urlEscaper</span><span class="op" id="7877237">(</span><span class="string" id="7877238">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="7877287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877290">}</span><br>
<span class="lineno"></span><span class="op" id="7877292">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="7877295">func</span>&nbsp;<span class="ident" id="7877300">BenchmarkURLEscaperNoSpecials</span><span class="op" id="7877329">(</span><span class="ident" id="7877330">b</span>&nbsp;<span class="op" id="7877332">*</span><span class="ident" id="7877333">testing</span><span class="op" id="7877340">.</span><span class="ident" id="7877341">B</span><span class="op" id="7877342">)</span>&nbsp;<span class="op" id="7877344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877347">for</span>&nbsp;<span class="ident" id="7877351">i</span>&nbsp;<span class="op" id="7877353">:=</span>&nbsp;<span class="num" id="7877356">0</span><span class="op" id="7877357">;</span>&nbsp;<span class="ident" id="7877359">i</span>&nbsp;<span class="op" id="7877361">&lt;</span>&nbsp;<span class="ident" id="7877363">b</span><span class="op" id="7877364">.</span><span class="ident" id="7877365">N</span><span class="op" id="7877366">;</span>&nbsp;<span class="ident" id="7877368">i</span><span class="op" id="7877369">++</span>&nbsp;<span class="op" id="7877372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877376">urlEscaper</span><span class="op" id="7877386">(</span><span class="string" id="7877387">&#34;TheQuickBrownFoxJumpsOverTheLazyDog.&#34;</span><span class="op" id="7877425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877428">}</span><br>
<span class="lineno">100</span><span class="op" id="7877430">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7877433">func</span>&nbsp;<span class="ident" id="7877438">BenchmarkURLNormalizer</span><span class="op" id="7877460">(</span><span class="ident" id="7877461">b</span>&nbsp;<span class="op" id="7877463">*</span><span class="ident" id="7877464">testing</span><span class="op" id="7877471">.</span><span class="ident" id="7877472">B</span><span class="op" id="7877473">)</span>&nbsp;<span class="op" id="7877475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877478">for</span>&nbsp;<span class="ident" id="7877482">i</span>&nbsp;<span class="op" id="7877484">:=</span>&nbsp;<span class="num" id="7877487">0</span><span class="op" id="7877488">;</span>&nbsp;<span class="ident" id="7877490">i</span>&nbsp;<span class="op" id="7877492">&lt;</span>&nbsp;<span class="ident" id="7877494">b</span><span class="op" id="7877495">.</span><span class="ident" id="7877496">N</span><span class="op" id="7877497">;</span>&nbsp;<span class="ident" id="7877499">i</span><span class="op" id="7877500">++</span>&nbsp;<span class="op" id="7877503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877507">urlNormalizer</span><span class="op" id="7877520">(</span><span class="string" id="7877521">&#34;The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.\n&#34;</span><span class="op" id="7877569">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877572">}</span><br>
<span class="lineno"></span><span class="op" id="7877574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7877577">func</span>&nbsp;<span class="ident" id="7877582">BenchmarkURLNormalizerNoSpecials</span><span class="op" id="7877614">(</span><span class="ident" id="7877615">b</span>&nbsp;<span class="op" id="7877617">*</span><span class="ident" id="7877618">testing</span><span class="op" id="7877625">.</span><span class="ident" id="7877626">B</span><span class="op" id="7877627">)</span>&nbsp;<span class="op" id="7877629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877632">for</span>&nbsp;<span class="ident" id="7877636">i</span>&nbsp;<span class="op" id="7877638">:=</span>&nbsp;<span class="num" id="7877641">0</span><span class="op" id="7877642">;</span>&nbsp;<span class="ident" id="7877644">i</span>&nbsp;<span class="op" id="7877646">&lt;</span>&nbsp;<span class="ident" id="7877648">b</span><span class="op" id="7877649">.</span><span class="ident" id="7877650">N</span><span class="op" id="7877651">;</span>&nbsp;<span class="ident" id="7877653">i</span><span class="op" id="7877654">++</span>&nbsp;<span class="op" id="7877657">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877661">urlNormalizer</span><span class="op" id="7877674">(</span><span class="string" id="7877675">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="7877724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877727">}</span><br>
<span class="lineno"></span><span class="op" id="7877729">}</span>
</div>
</body>
</html>
