<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1736050">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1736105">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1736159">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1736210">package</span>&nbsp;<span class="ident" id="1736218">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1736227">import</span>&nbsp;<span class="string" id="1736234">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1736244">//&nbsp;NOTE:&nbsp;Func&nbsp;does&nbsp;not&nbsp;expose&nbsp;the&nbsp;actual&nbsp;unexported&nbsp;fields,&nbsp;because&nbsp;we&nbsp;return&nbsp;*Func</span><br>
<span class="lineno">10</span><span class="comment" id="1736328">//&nbsp;values&nbsp;to&nbsp;users,&nbsp;and&nbsp;we&nbsp;want&nbsp;to&nbsp;keep&nbsp;them&nbsp;from&nbsp;being&nbsp;able&nbsp;to&nbsp;overwrite&nbsp;the&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="1736411">//&nbsp;with&nbsp;(say)&nbsp;*f&nbsp;=&nbsp;Func{}.</span><br>
<span class="lineno"></span><span class="comment" id="1736438">//&nbsp;All&nbsp;code&nbsp;operating&nbsp;on&nbsp;a&nbsp;*Func&nbsp;must&nbsp;call&nbsp;raw&nbsp;to&nbsp;get&nbsp;the&nbsp;*_func&nbsp;instead.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1736513">//&nbsp;A&nbsp;Func&nbsp;represents&nbsp;a&nbsp;Go&nbsp;function&nbsp;in&nbsp;the&nbsp;running&nbsp;binary.</span><br>
<span class="lineno">15</span><span class="keyword" id="1736571">type</span>&nbsp;<span class="ident" id="1736576">Func</span>&nbsp;<span class="keyword" id="1736581">struct</span>&nbsp;<span class="op" id="1736588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1736591">opaque</span>&nbsp;<span class="keyword" id="1736598">struct</span><span class="op" id="1736604">{</span><span class="op" id="1736605">}</span>&nbsp;<span class="comment" id="1736607">//&nbsp;unexported&nbsp;field&nbsp;to&nbsp;disallow&nbsp;conversions</span><br>
<span class="lineno"></span><span class="op" id="1736651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1736654">func</span>&nbsp;<span class="op" id="1736659">(</span><span class="ident" id="1736660">f</span>&nbsp;<span class="op" id="1736662">*</span><span class="ident" id="1736663">Func</span><span class="op" id="1736667">)</span>&nbsp;<span class="ident" id="1736669">raw</span><span class="op" id="1736672">(</span><span class="op" id="1736673">)</span>&nbsp;<span class="op" id="1736675">*</span><span class="ident" id="1736676">_func</span>&nbsp;<span class="op" id="1736682">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1736685">return</span>&nbsp;<span class="op" id="1736692">(</span><span class="op" id="1736693">*</span><span class="ident" id="1736694">_func</span><span class="op" id="1736699">)</span><span class="op" id="1736700">(</span><span class="ident" id="1736701">unsafe</span><span class="op" id="1736707">.</span><span class="ident" id="1736708">Pointer</span><span class="op" id="1736715">(</span><span class="ident" id="1736716">f</span><span class="op" id="1736717">)</span><span class="op" id="1736718">)</span><br>
<span class="lineno"></span><span class="op" id="1736720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1736723">//&nbsp;funcdata.h</span><br>
<span class="lineno"></span><span class="keyword" id="1736737">const</span>&nbsp;<span class="op" id="1736743">(</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1736746">_PCDATA_ArgSize</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1736774">=</span>&nbsp;<span class="num" id="1736776">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1736779">_PCDATA_StackMapIndex</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1736807">=</span>&nbsp;<span class="num" id="1736809">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1736812">_FUNCDATA_ArgsPointerMaps</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1736840">=</span>&nbsp;<span class="num" id="1736842">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1736845">_FUNCDATA_LocalsPointerMaps</span>&nbsp;<span class="op" id="1736873">=</span>&nbsp;<span class="num" id="1736875">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1736878">_FUNCDATA_DeadValueMaps</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1736906">=</span>&nbsp;<span class="num" id="1736908">2</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1736911">_ArgsSizeUnknown</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1736939">=</span>&nbsp;<span class="op" id="1736941">-</span><span class="num" id="1736942">0x80000000</span><br>
<span class="lineno"></span><span class="op" id="1736953">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1736956">var</span>&nbsp;<span class="op" id="1736960">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1736963">pclntable</span>&nbsp;<span class="op" id="1736973">[</span><span class="op" id="1736974">]</span><span class="builtintype" id="1736975">byte</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1736981">ftab</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1736991">[</span><span class="op" id="1736992">]</span><span class="ident" id="1736993">functab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1737002">filetab</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1737012">[</span><span class="op" id="1737013">]</span><span class="builtintype" id="1737014">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1737023">pclntab</span><span class="op" id="1737030">,</span>&nbsp;<span class="ident" id="1737032">epclntab</span>&nbsp;<span class="keyword" id="1737041">struct</span><span class="op" id="1737047">{</span><span class="op" id="1737048">}</span>&nbsp;<span class="comment" id="1737050">//&nbsp;linker&nbsp;symbols</span><br>
<span class="lineno"></span><span class="op" id="1737068">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="1737071">type</span>&nbsp;<span class="ident" id="1737076">functab</span>&nbsp;<span class="keyword" id="1737084">struct</span>&nbsp;<span class="op" id="1737091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1737094">entry</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1737102">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1737111">funcoff</span>&nbsp;<span class="builtintype" id="1737119">uintptr</span><br>
<span class="lineno"></span><span class="op" id="1737127">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="1737130">func</span>&nbsp;<span class="ident" id="1737135">symtabinit</span><span class="op" id="1737145">(</span><span class="op" id="1737146">)</span>&nbsp;<span class="op" id="1737148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1737151">//&nbsp;See&nbsp;golang.org/s/go12symtab&nbsp;for&nbsp;header:&nbsp;0xfffffffb,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1737207">//&nbsp;two&nbsp;zero&nbsp;bytes,&nbsp;a&nbsp;byte&nbsp;giving&nbsp;the&nbsp;PC&nbsp;quantum,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1737257">//&nbsp;and&nbsp;a&nbsp;byte&nbsp;giving&nbsp;the&nbsp;pointer&nbsp;width&nbsp;in&nbsp;bytes.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1737307">pcln</span>&nbsp;<span class="op" id="1737312">:=</span>&nbsp;<span class="op" id="1737315">(</span><span class="op" id="1737316">*</span><span class="op" id="1737317">[</span><span class="num" id="1737318">8</span><span class="op" id="1737319">]</span><span class="builtintype" id="1737320">byte</span><span class="op" id="1737324">)</span><span class="op" id="1737325">(</span><span class="ident" id="1737326">unsafe</span><span class="op" id="1737332">.</span><span class="ident" id="1737333">Pointer</span><span class="op" id="1737340">(</span><span class="op" id="1737341">&amp;</span><span class="ident" id="1737342">pclntab</span><span class="op" id="1737349">)</span><span class="op" id="1737350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1737353">pcln32</span>&nbsp;<span class="op" id="1737360">:=</span>&nbsp;<span class="op" id="1737363">(</span><span class="op" id="1737364">*</span><span class="op" id="1737365">[</span><span class="num" id="1737366">2</span><span class="op" id="1737367">]</span><span class="builtintype" id="1737368">uint32</span><span class="op" id="1737374">)</span><span class="op" id="1737375">(</span><span class="ident" id="1737376">unsafe</span><span class="op" id="1737382">.</span><span class="ident" id="1737383">Pointer</span><span class="op" id="1737390">(</span><span class="op" id="1737391">&amp;</span><span class="ident" id="1737392">pclntab</span><span class="op" id="1737399">)</span><span class="op" id="1737400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1737403">if</span>&nbsp;<span class="ident" id="1737406">pcln32</span><span class="op" id="1737412">[</span><span class="num" id="1737413">0</span><span class="op" id="1737414">]</span>&nbsp;<span class="op" id="1737416">!=</span>&nbsp;<span class="num" id="1737419">0xfffffffb</span>&nbsp;<span class="op" id="1737430">||</span>&nbsp;<span class="ident" id="1737433">pcln</span><span class="op" id="1737437">[</span><span class="num" id="1737438">4</span><span class="op" id="1737439">]</span>&nbsp;<span class="op" id="1737441">!=</span>&nbsp;<span class="num" id="1737444">0</span>&nbsp;<span class="op" id="1737446">||</span>&nbsp;<span class="ident" id="1737449">pcln</span><span class="op" id="1737453">[</span><span class="num" id="1737454">5</span><span class="op" id="1737455">]</span>&nbsp;<span class="op" id="1737457">!=</span>&nbsp;<span class="num" id="1737460">0</span>&nbsp;<span class="op" id="1737462">||</span>&nbsp;<span class="ident" id="1737465">pcln</span><span class="op" id="1737469">[</span><span class="num" id="1737470">6</span><span class="op" id="1737471">]</span>&nbsp;<span class="op" id="1737473">!=</span>&nbsp;<span class="ident" id="1737476">_PCQuantum</span>&nbsp;<span class="op" id="1737487">||</span>&nbsp;<span class="ident" id="1737490">pcln</span><span class="op" id="1737494">[</span><span class="num" id="1737495">7</span><span class="op" id="1737496">]</span>&nbsp;<span class="op" id="1737498">!=</span>&nbsp;<span class="ident" id="1737501">ptrSize</span>&nbsp;<span class="op" id="1737509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1737513">println</span><span class="op" id="1737520">(</span><span class="string" id="1737521">&#34;runtime:&nbsp;function&nbsp;symbol&nbsp;table&nbsp;header:&#34;</span><span class="op" id="1737561">,</span>&nbsp;<span class="ident" id="1737563">hex</span><span class="op" id="1737566">(</span><span class="ident" id="1737567">pcln32</span><span class="op" id="1737573">[</span><span class="num" id="1737574">0</span><span class="op" id="1737575">]</span><span class="op" id="1737576">)</span><span class="op" id="1737577">,</span>&nbsp;<span class="ident" id="1737579">hex</span><span class="op" id="1737582">(</span><span class="ident" id="1737583">pcln</span><span class="op" id="1737587">[</span><span class="num" id="1737588">4</span><span class="op" id="1737589">]</span><span class="op" id="1737590">)</span><span class="op" id="1737591">,</span>&nbsp;<span class="ident" id="1737593">hex</span><span class="op" id="1737596">(</span><span class="ident" id="1737597">pcln</span><span class="op" id="1737601">[</span><span class="num" id="1737602">5</span><span class="op" id="1737603">]</span><span class="op" id="1737604">)</span><span class="op" id="1737605">,</span>&nbsp;<span class="ident" id="1737607">hex</span><span class="op" id="1737610">(</span><span class="ident" id="1737611">pcln</span><span class="op" id="1737615">[</span><span class="num" id="1737616">6</span><span class="op" id="1737617">]</span><span class="op" id="1737618">)</span><span class="op" id="1737619">,</span>&nbsp;<span class="ident" id="1737621">hex</span><span class="op" id="1737624">(</span><span class="ident" id="1737625">pcln</span><span class="op" id="1737629">[</span><span class="num" id="1737630">7</span><span class="op" id="1737631">]</span><span class="op" id="1737632">)</span><span class="op" id="1737633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1737637">gothrow</span><span class="op" id="1737644">(</span><span class="string" id="1737645">&#34;invalid&nbsp;function&nbsp;symbol&nbsp;table\n&#34;</span><span class="op" id="1737678">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1737681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1737685">//&nbsp;pclntable&nbsp;is&nbsp;all&nbsp;bytes&nbsp;of&nbsp;pclntab&nbsp;symbol.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1737731">sp</span>&nbsp;<span class="op" id="1737734">:=</span>&nbsp;<span class="op" id="1737737">(</span><span class="op" id="1737738">*</span><span class="ident" id="1737739">sliceStruct</span><span class="op" id="1737750">)</span><span class="op" id="1737751">(</span><span class="ident" id="1737752">unsafe</span><span class="op" id="1737758">.</span><span class="ident" id="1737759">Pointer</span><span class="op" id="1737766">(</span><span class="op" id="1737767">&amp;</span><span class="ident" id="1737768">pclntable</span><span class="op" id="1737777">)</span><span class="op" id="1737778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1737781">sp</span><span class="op" id="1737783">.</span><span class="ident" id="1737784">array</span>&nbsp;<span class="op" id="1737790">=</span>&nbsp;<span class="ident" id="1737792">unsafe</span><span class="op" id="1737798">.</span><span class="ident" id="1737799">Pointer</span><span class="op" id="1737806">(</span><span class="op" id="1737807">&amp;</span><span class="ident" id="1737808">pclntab</span><span class="op" id="1737815">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1737818">sp</span><span class="op" id="1737820">.</span><span class="builtinfunc" id="1737821">len</span>&nbsp;<span class="op" id="1737825">=</span>&nbsp;<span class="builtintype" id="1737827">int</span><span class="op" id="1737830">(</span><span class="builtintype" id="1737831">uintptr</span><span class="op" id="1737838">(</span><span class="ident" id="1737839">unsafe</span><span class="op" id="1737845">.</span><span class="ident" id="1737846">Pointer</span><span class="op" id="1737853">(</span><span class="op" id="1737854">&amp;</span><span class="ident" id="1737855">epclntab</span><span class="op" id="1737863">)</span><span class="op" id="1737864">)</span>&nbsp;<span class="op" id="1737866">-</span>&nbsp;<span class="builtintype" id="1737868">uintptr</span><span class="op" id="1737875">(</span><span class="ident" id="1737876">unsafe</span><span class="op" id="1737882">.</span><span class="ident" id="1737883">Pointer</span><span class="op" id="1737890">(</span><span class="op" id="1737891">&amp;</span><span class="ident" id="1737892">pclntab</span><span class="op" id="1737899">)</span><span class="op" id="1737900">)</span><span class="op" id="1737901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1737904">sp</span><span class="op" id="1737906">.</span><span class="builtinfunc" id="1737907">cap</span>&nbsp;<span class="op" id="1737911">=</span>&nbsp;<span class="ident" id="1737913">sp</span><span class="op" id="1737915">.</span><span class="builtinfunc" id="1737916">len</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1737922">//&nbsp;ftab&nbsp;is&nbsp;lookup&nbsp;table&nbsp;for&nbsp;function&nbsp;by&nbsp;program&nbsp;counter.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1737980">nftab</span>&nbsp;<span class="op" id="1737986">:=</span>&nbsp;<span class="builtintype" id="1737989">int</span><span class="op" id="1737992">(</span><span class="op" id="1737993">*</span><span class="op" id="1737994">(</span><span class="op" id="1737995">*</span><span class="builtintype" id="1737996">uintptr</span><span class="op" id="1738003">)</span><span class="op" id="1738004">(</span><span class="ident" id="1738005">add</span><span class="op" id="1738008">(</span><span class="ident" id="1738009">unsafe</span><span class="op" id="1738015">.</span><span class="ident" id="1738016">Pointer</span><span class="op" id="1738023">(</span><span class="ident" id="1738024">pcln</span><span class="op" id="1738028">)</span><span class="op" id="1738029">,</span>&nbsp;<span class="num" id="1738031">8</span><span class="op" id="1738032">)</span><span class="op" id="1738033">)</span><span class="op" id="1738034">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1738037">p</span>&nbsp;<span class="op" id="1738039">:=</span>&nbsp;<span class="ident" id="1738042">add</span><span class="op" id="1738045">(</span><span class="ident" id="1738046">unsafe</span><span class="op" id="1738052">.</span><span class="ident" id="1738053">Pointer</span><span class="op" id="1738060">(</span><span class="ident" id="1738061">pcln</span><span class="op" id="1738065">)</span><span class="op" id="1738066">,</span>&nbsp;<span class="num" id="1738068">8</span><span class="op" id="1738069">+</span><span class="ident" id="1738070">ptrSize</span><span class="op" id="1738077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1738080">sp</span>&nbsp;<span class="op" id="1738083">=</span>&nbsp;<span class="op" id="1738085">(</span><span class="op" id="1738086">*</span><span class="ident" id="1738087">sliceStruct</span><span class="op" id="1738098">)</span><span class="op" id="1738099">(</span><span class="ident" id="1738100">unsafe</span><span class="op" id="1738106">.</span><span class="ident" id="1738107">Pointer</span><span class="op" id="1738114">(</span><span class="op" id="1738115">&amp;</span><span class="ident" id="1738116">ftab</span><span class="op" id="1738120">)</span><span class="op" id="1738121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1738124">sp</span><span class="op" id="1738126">.</span><span class="ident" id="1738127">array</span>&nbsp;<span class="op" id="1738133">=</span>&nbsp;<span class="ident" id="1738135">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1738138">sp</span><span class="op" id="1738140">.</span><span class="builtinfunc" id="1738141">len</span>&nbsp;<span class="op" id="1738145">=</span>&nbsp;<span class="ident" id="1738147">nftab</span>&nbsp;<span class="op" id="1738153">+</span>&nbsp;<span class="num" id="1738155">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1738158">sp</span><span class="op" id="1738160">.</span><span class="builtinfunc" id="1738161">cap</span>&nbsp;<span class="op" id="1738165">=</span>&nbsp;<span class="ident" id="1738167">sp</span><span class="op" id="1738169">.</span><span class="builtinfunc" id="1738170">len</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1738175">for</span>&nbsp;<span class="ident" id="1738179">i</span>&nbsp;<span class="op" id="1738181">:=</span>&nbsp;<span class="num" id="1738184">0</span><span class="op" id="1738185">;</span>&nbsp;<span class="ident" id="1738187">i</span>&nbsp;<span class="op" id="1738189">&lt;</span>&nbsp;<span class="ident" id="1738191">nftab</span><span class="op" id="1738196">;</span>&nbsp;<span class="ident" id="1738198">i</span><span class="op" id="1738199">++</span>&nbsp;<span class="op" id="1738202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1738206">//&nbsp;NOTE:&nbsp;ftab[nftab].entry&nbsp;is&nbsp;legal;&nbsp;it&nbsp;is&nbsp;the&nbsp;address&nbsp;beyond&nbsp;the&nbsp;final&nbsp;function.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1738290">if</span>&nbsp;<span class="ident" id="1738293">ftab</span><span class="op" id="1738297">[</span><span class="ident" id="1738298">i</span><span class="op" id="1738299">]</span><span class="op" id="1738300">.</span><span class="ident" id="1738301">entry</span>&nbsp;<span class="op" id="1738307">&gt;</span>&nbsp;<span class="ident" id="1738309">ftab</span><span class="op" id="1738313">[</span><span class="ident" id="1738314">i</span><span class="op" id="1738315">+</span><span class="num" id="1738316">1</span><span class="op" id="1738317">]</span><span class="op" id="1738318">.</span><span class="ident" id="1738319">entry</span>&nbsp;<span class="op" id="1738325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1738330">f1</span>&nbsp;<span class="op" id="1738333">:=</span>&nbsp;<span class="op" id="1738336">(</span><span class="op" id="1738337">*</span><span class="ident" id="1738338">_func</span><span class="op" id="1738343">)</span><span class="op" id="1738344">(</span><span class="ident" id="1738345">unsafe</span><span class="op" id="1738351">.</span><span class="ident" id="1738352">Pointer</span><span class="op" id="1738359">(</span><span class="op" id="1738360">&amp;</span><span class="ident" id="1738361">pclntable</span><span class="op" id="1738370">[</span><span class="ident" id="1738371">ftab</span><span class="op" id="1738375">[</span><span class="ident" id="1738376">i</span><span class="op" id="1738377">]</span><span class="op" id="1738378">.</span><span class="ident" id="1738379">funcoff</span><span class="op" id="1738386">]</span><span class="op" id="1738387">)</span><span class="op" id="1738388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1738393">f2</span>&nbsp;<span class="op" id="1738396">:=</span>&nbsp;<span class="op" id="1738399">(</span><span class="op" id="1738400">*</span><span class="ident" id="1738401">_func</span><span class="op" id="1738406">)</span><span class="op" id="1738407">(</span><span class="ident" id="1738408">unsafe</span><span class="op" id="1738414">.</span><span class="ident" id="1738415">Pointer</span><span class="op" id="1738422">(</span><span class="op" id="1738423">&amp;</span><span class="ident" id="1738424">pclntable</span><span class="op" id="1738433">[</span><span class="ident" id="1738434">ftab</span><span class="op" id="1738438">[</span><span class="ident" id="1738439">i</span><span class="op" id="1738440">+</span><span class="num" id="1738441">1</span><span class="op" id="1738442">]</span><span class="op" id="1738443">.</span><span class="ident" id="1738444">funcoff</span><span class="op" id="1738451">]</span><span class="op" id="1738452">)</span><span class="op" id="1738453">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1738458">f2name</span>&nbsp;<span class="op" id="1738465">:=</span>&nbsp;<span class="string" id="1738468">&#34;end&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1738477">if</span>&nbsp;<span class="ident" id="1738480">i</span><span class="op" id="1738481">+</span><span class="num" id="1738482">1</span>&nbsp;<span class="op" id="1738484">&lt;</span>&nbsp;<span class="ident" id="1738486">nftab</span>&nbsp;<span class="op" id="1738492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1738498">f2name</span>&nbsp;<span class="op" id="1738505">=</span>&nbsp;<span class="ident" id="1738507">gofuncname</span><span class="op" id="1738517">(</span><span class="ident" id="1738518">f2</span><span class="op" id="1738520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1738525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1738530">println</span><span class="op" id="1738537">(</span><span class="string" id="1738538">&#34;function&nbsp;symbol&nbsp;table&nbsp;not&nbsp;sorted&nbsp;by&nbsp;program&nbsp;counter:&#34;</span><span class="op" id="1738592">,</span>&nbsp;<span class="ident" id="1738594">hex</span><span class="op" id="1738597">(</span><span class="ident" id="1738598">ftab</span><span class="op" id="1738602">[</span><span class="ident" id="1738603">i</span><span class="op" id="1738604">]</span><span class="op" id="1738605">.</span><span class="ident" id="1738606">entry</span><span class="op" id="1738611">)</span><span class="op" id="1738612">,</span>&nbsp;<span class="ident" id="1738614">gofuncname</span><span class="op" id="1738624">(</span><span class="ident" id="1738625">f1</span><span class="op" id="1738627">)</span><span class="op" id="1738628">,</span>&nbsp;<span class="string" id="1738630">&#34;&gt;&#34;</span><span class="op" id="1738633">,</span>&nbsp;<span class="ident" id="1738635">hex</span><span class="op" id="1738638">(</span><span class="ident" id="1738639">ftab</span><span class="op" id="1738643">[</span><span class="ident" id="1738644">i</span><span class="op" id="1738645">+</span><span class="num" id="1738646">1</span><span class="op" id="1738647">]</span><span class="op" id="1738648">.</span><span class="ident" id="1738649">entry</span><span class="op" id="1738654">)</span><span class="op" id="1738655">,</span>&nbsp;<span class="ident" id="1738657">f2name</span><span class="op" id="1738663">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1738668">for</span>&nbsp;<span class="ident" id="1738672">j</span>&nbsp;<span class="op" id="1738674">:=</span>&nbsp;<span class="num" id="1738677">0</span><span class="op" id="1738678">;</span>&nbsp;<span class="ident" id="1738680">j</span>&nbsp;<span class="op" id="1738682">&lt;=</span>&nbsp;<span class="ident" id="1738685">i</span><span class="op" id="1738686">;</span>&nbsp;<span class="ident" id="1738688">j</span><span class="op" id="1738689">++</span>&nbsp;<span class="op" id="1738692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1738698">print</span><span class="op" id="1738703">(</span><span class="string" id="1738704">&#34;\t&#34;</span><span class="op" id="1738708">,</span>&nbsp;<span class="ident" id="1738710">hex</span><span class="op" id="1738713">(</span><span class="ident" id="1738714">ftab</span><span class="op" id="1738718">[</span><span class="ident" id="1738719">j</span><span class="op" id="1738720">]</span><span class="op" id="1738721">.</span><span class="ident" id="1738722">entry</span><span class="op" id="1738727">)</span><span class="op" id="1738728">,</span>&nbsp;<span class="string" id="1738730">&#34;&nbsp;&#34;</span><span class="op" id="1738733">,</span>&nbsp;<span class="ident" id="1738735">gofuncname</span><span class="op" id="1738745">(</span><span class="op" id="1738746">(</span><span class="op" id="1738747">*</span><span class="ident" id="1738748">_func</span><span class="op" id="1738753">)</span><span class="op" id="1738754">(</span><span class="ident" id="1738755">unsafe</span><span class="op" id="1738761">.</span><span class="ident" id="1738762">Pointer</span><span class="op" id="1738769">(</span><span class="op" id="1738770">&amp;</span><span class="ident" id="1738771">pclntable</span><span class="op" id="1738780">[</span><span class="ident" id="1738781">ftab</span><span class="op" id="1738785">[</span><span class="ident" id="1738786">j</span><span class="op" id="1738787">]</span><span class="op" id="1738788">.</span><span class="ident" id="1738789">funcoff</span><span class="op" id="1738796">]</span><span class="op" id="1738797">)</span><span class="op" id="1738798">)</span><span class="op" id="1738799">)</span><span class="op" id="1738800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1738805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1738810">gothrow</span><span class="op" id="1738817">(</span><span class="string" id="1738818">&#34;invalid&nbsp;runtime&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="1738848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1738852">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1738855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1738859">//&nbsp;The&nbsp;ftab&nbsp;ends&nbsp;with&nbsp;a&nbsp;half&nbsp;functab&nbsp;consisting&nbsp;only&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1738916">//&nbsp;&#39;entry&#39;,&nbsp;followed&nbsp;by&nbsp;a&nbsp;uint32&nbsp;giving&nbsp;the&nbsp;pcln-relative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1738975">//&nbsp;offset&nbsp;of&nbsp;the&nbsp;file&nbsp;table.</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1739005">sp</span>&nbsp;<span class="op" id="1739008">=</span>&nbsp;<span class="op" id="1739010">(</span><span class="op" id="1739011">*</span><span class="ident" id="1739012">sliceStruct</span><span class="op" id="1739023">)</span><span class="op" id="1739024">(</span><span class="ident" id="1739025">unsafe</span><span class="op" id="1739031">.</span><span class="ident" id="1739032">Pointer</span><span class="op" id="1739039">(</span><span class="op" id="1739040">&amp;</span><span class="ident" id="1739041">filetab</span><span class="op" id="1739048">)</span><span class="op" id="1739049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1739052">end</span>&nbsp;<span class="op" id="1739056">:=</span>&nbsp;<span class="ident" id="1739059">unsafe</span><span class="op" id="1739065">.</span><span class="ident" id="1739066">Pointer</span><span class="op" id="1739073">(</span><span class="op" id="1739074">&amp;</span><span class="ident" id="1739075">ftab</span><span class="op" id="1739079">[</span><span class="ident" id="1739080">nftab</span><span class="op" id="1739085">]</span><span class="op" id="1739086">.</span><span class="ident" id="1739087">funcoff</span><span class="op" id="1739094">)</span>&nbsp;<span class="comment" id="1739096">//&nbsp;just&nbsp;beyond&nbsp;ftab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1739117">fileoffset</span>&nbsp;<span class="op" id="1739128">:=</span>&nbsp;<span class="op" id="1739131">*</span><span class="op" id="1739132">(</span><span class="op" id="1739133">*</span><span class="builtintype" id="1739134">uint32</span><span class="op" id="1739140">)</span><span class="op" id="1739141">(</span><span class="ident" id="1739142">end</span><span class="op" id="1739145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1739148">sp</span><span class="op" id="1739150">.</span><span class="ident" id="1739151">array</span>&nbsp;<span class="op" id="1739157">=</span>&nbsp;<span class="ident" id="1739159">unsafe</span><span class="op" id="1739165">.</span><span class="ident" id="1739166">Pointer</span><span class="op" id="1739173">(</span><span class="op" id="1739174">&amp;</span><span class="ident" id="1739175">pclntable</span><span class="op" id="1739184">[</span><span class="ident" id="1739185">fileoffset</span><span class="op" id="1739195">]</span><span class="op" id="1739196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1739199">//&nbsp;length&nbsp;is&nbsp;in&nbsp;first&nbsp;element&nbsp;of&nbsp;array.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1739240">//&nbsp;set&nbsp;len&nbsp;to&nbsp;1&nbsp;so&nbsp;we&nbsp;can&nbsp;get&nbsp;first&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1739286">sp</span><span class="op" id="1739288">.</span><span class="builtinfunc" id="1739289">len</span>&nbsp;<span class="op" id="1739293">=</span>&nbsp;<span class="num" id="1739295">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1739298">sp</span><span class="op" id="1739300">.</span><span class="builtinfunc" id="1739301">cap</span>&nbsp;<span class="op" id="1739305">=</span>&nbsp;<span class="num" id="1739307">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1739310">sp</span><span class="op" id="1739312">.</span><span class="builtinfunc" id="1739313">len</span>&nbsp;<span class="op" id="1739317">=</span>&nbsp;<span class="builtintype" id="1739319">int</span><span class="op" id="1739322">(</span><span class="ident" id="1739323">filetab</span><span class="op" id="1739330">[</span><span class="num" id="1739331">0</span><span class="op" id="1739332">]</span><span class="op" id="1739333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1739336">sp</span><span class="op" id="1739338">.</span><span class="builtinfunc" id="1739339">cap</span>&nbsp;<span class="op" id="1739343">=</span>&nbsp;<span class="ident" id="1739345">sp</span><span class="op" id="1739347">.</span><span class="builtinfunc" id="1739348">len</span><br>
<span class="lineno">100</span><span class="op" id="1739352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1739355">//&nbsp;FuncForPC&nbsp;returns&nbsp;a&nbsp;*Func&nbsp;describing&nbsp;the&nbsp;function&nbsp;that&nbsp;contains&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1739426">//&nbsp;given&nbsp;program&nbsp;counter&nbsp;address,&nbsp;or&nbsp;else&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="1739473">func</span>&nbsp;<span class="ident" id="1739478">FuncForPC</span><span class="op" id="1739487">(</span><span class="ident" id="1739488">pc</span>&nbsp;<span class="builtintype" id="1739491">uintptr</span><span class="op" id="1739498">)</span>&nbsp;<span class="op" id="1739500">*</span><span class="ident" id="1739501">Func</span>&nbsp;<span class="op" id="1739506">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1739509">return</span>&nbsp;<span class="op" id="1739516">(</span><span class="op" id="1739517">*</span><span class="ident" id="1739518">Func</span><span class="op" id="1739522">)</span><span class="op" id="1739523">(</span><span class="ident" id="1739524">unsafe</span><span class="op" id="1739530">.</span><span class="ident" id="1739531">Pointer</span><span class="op" id="1739538">(</span><span class="ident" id="1739539">findfunc</span><span class="op" id="1739547">(</span><span class="ident" id="1739548">pc</span><span class="op" id="1739550">)</span><span class="op" id="1739551">)</span><span class="op" id="1739552">)</span><br>
<span class="lineno"></span><span class="op" id="1739554">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1739557">//&nbsp;Name&nbsp;returns&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="1739599">func</span>&nbsp;<span class="op" id="1739604">(</span><span class="ident" id="1739605">f</span>&nbsp;<span class="op" id="1739607">*</span><span class="ident" id="1739608">Func</span><span class="op" id="1739612">)</span>&nbsp;<span class="ident" id="1739614">Name</span><span class="op" id="1739618">(</span><span class="op" id="1739619">)</span>&nbsp;<span class="builtintype" id="1739621">string</span>&nbsp;<span class="op" id="1739628">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1739631">return</span>&nbsp;<span class="ident" id="1739638">gofuncname</span><span class="op" id="1739648">(</span><span class="ident" id="1739649">f</span><span class="op" id="1739650">.</span><span class="ident" id="1739651">raw</span><span class="op" id="1739654">(</span><span class="op" id="1739655">)</span><span class="op" id="1739656">)</span><br>
<span class="lineno"></span><span class="op" id="1739658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1739661">//&nbsp;Entry&nbsp;returns&nbsp;the&nbsp;entry&nbsp;address&nbsp;of&nbsp;the&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="1739713">func</span>&nbsp;<span class="op" id="1739718">(</span><span class="ident" id="1739719">f</span>&nbsp;<span class="op" id="1739721">*</span><span class="ident" id="1739722">Func</span><span class="op" id="1739726">)</span>&nbsp;<span class="ident" id="1739728">Entry</span><span class="op" id="1739733">(</span><span class="op" id="1739734">)</span>&nbsp;<span class="builtintype" id="1739736">uintptr</span>&nbsp;<span class="op" id="1739744">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1739747">return</span>&nbsp;<span class="ident" id="1739754">f</span><span class="op" id="1739755">.</span><span class="ident" id="1739756">raw</span><span class="op" id="1739759">(</span><span class="op" id="1739760">)</span><span class="op" id="1739761">.</span><span class="ident" id="1739762">entry</span><br>
<span class="lineno"></span><span class="op" id="1739768">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1739771">//&nbsp;FileLine&nbsp;returns&nbsp;the&nbsp;file&nbsp;name&nbsp;and&nbsp;line&nbsp;number&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1739828">//&nbsp;source&nbsp;code&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;program&nbsp;counter&nbsp;pc.</span><br>
<span class="lineno">120</span><span class="comment" id="1739884">//&nbsp;The&nbsp;result&nbsp;will&nbsp;not&nbsp;be&nbsp;accurate&nbsp;if&nbsp;pc&nbsp;is&nbsp;not&nbsp;a&nbsp;program</span><br>
<span class="lineno"></span><span class="comment" id="1739942">//&nbsp;counter&nbsp;within&nbsp;f.</span><br>
<span class="lineno"></span><span class="keyword" id="1739963">func</span>&nbsp;<span class="op" id="1739968">(</span><span class="ident" id="1739969">f</span>&nbsp;<span class="op" id="1739971">*</span><span class="ident" id="1739972">Func</span><span class="op" id="1739976">)</span>&nbsp;<span class="ident" id="1739978">FileLine</span><span class="op" id="1739986">(</span><span class="ident" id="1739987">pc</span>&nbsp;<span class="builtintype" id="1739990">uintptr</span><span class="op" id="1739997">)</span>&nbsp;<span class="op" id="1739999">(</span><span class="ident" id="1740000">file</span>&nbsp;<span class="builtintype" id="1740005">string</span><span class="op" id="1740011">,</span>&nbsp;<span class="ident" id="1740013">line</span>&nbsp;<span class="builtintype" id="1740018">int</span><span class="op" id="1740021">)</span>&nbsp;<span class="op" id="1740023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1740026">//&nbsp;Pass&nbsp;strict=false&nbsp;here,&nbsp;because&nbsp;anyone&nbsp;can&nbsp;call&nbsp;this&nbsp;function,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1740093">//&nbsp;and&nbsp;they&nbsp;might&nbsp;just&nbsp;be&nbsp;wrong&nbsp;about&nbsp;targetpc&nbsp;belonging&nbsp;to&nbsp;f.</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1740157">line</span>&nbsp;<span class="op" id="1740162">=</span>&nbsp;<span class="builtintype" id="1740164">int</span><span class="op" id="1740167">(</span><span class="ident" id="1740168">funcline1</span><span class="op" id="1740177">(</span><span class="ident" id="1740178">f</span><span class="op" id="1740179">.</span><span class="ident" id="1740180">raw</span><span class="op" id="1740183">(</span><span class="op" id="1740184">)</span><span class="op" id="1740185">,</span>&nbsp;<span class="ident" id="1740187">pc</span><span class="op" id="1740189">,</span>&nbsp;<span class="op" id="1740191">&amp;</span><span class="ident" id="1740192">file</span><span class="op" id="1740196">,</span>&nbsp;<span class="ident" id="1740198">false</span><span class="op" id="1740203">)</span><span class="op" id="1740204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1740207">return</span>&nbsp;<span class="ident" id="1740214">file</span><span class="op" id="1740218">,</span>&nbsp;<span class="ident" id="1740220">line</span><br>
<span class="lineno"></span><span class="op" id="1740225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1740228">func</span>&nbsp;<span class="ident" id="1740233">findfunc</span><span class="op" id="1740241">(</span><span class="ident" id="1740242">pc</span>&nbsp;<span class="builtintype" id="1740245">uintptr</span><span class="op" id="1740252">)</span>&nbsp;<span class="op" id="1740254">*</span><span class="ident" id="1740255">_func</span>&nbsp;<span class="op" id="1740261">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1740264">if</span>&nbsp;<span class="builtinfunc" id="1740267">len</span><span class="op" id="1740270">(</span><span class="ident" id="1740271">ftab</span><span class="op" id="1740275">)</span>&nbsp;<span class="op" id="1740277">==</span>&nbsp;<span class="num" id="1740280">0</span>&nbsp;<span class="op" id="1740282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1740286">return</span>&nbsp;<span class="ident" id="1740293">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1740298">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1740302">if</span>&nbsp;<span class="ident" id="1740305">pc</span>&nbsp;<span class="op" id="1740308">&lt;</span>&nbsp;<span class="ident" id="1740310">ftab</span><span class="op" id="1740314">[</span><span class="num" id="1740315">0</span><span class="op" id="1740316">]</span><span class="op" id="1740317">.</span><span class="ident" id="1740318">entry</span>&nbsp;<span class="op" id="1740324">||</span>&nbsp;<span class="ident" id="1740327">pc</span>&nbsp;<span class="op" id="1740330">&gt;=</span>&nbsp;<span class="ident" id="1740333">ftab</span><span class="op" id="1740337">[</span><span class="builtinfunc" id="1740338">len</span><span class="op" id="1740341">(</span><span class="ident" id="1740342">ftab</span><span class="op" id="1740346">)</span><span class="op" id="1740347">-</span><span class="num" id="1740348">1</span><span class="op" id="1740349">]</span><span class="op" id="1740350">.</span><span class="ident" id="1740351">entry</span>&nbsp;<span class="op" id="1740357">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1740361">return</span>&nbsp;<span class="ident" id="1740368">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1740373">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1740377">//&nbsp;binary&nbsp;search&nbsp;to&nbsp;find&nbsp;func&nbsp;with&nbsp;entry&nbsp;&lt;=&nbsp;pc.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1740426">lo</span>&nbsp;<span class="op" id="1740429">:=</span>&nbsp;<span class="num" id="1740432">0</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1740435">nf</span>&nbsp;<span class="op" id="1740438">:=</span>&nbsp;<span class="builtinfunc" id="1740441">len</span><span class="op" id="1740444">(</span><span class="ident" id="1740445">ftab</span><span class="op" id="1740449">)</span>&nbsp;<span class="op" id="1740451">-</span>&nbsp;<span class="num" id="1740453">1</span>&nbsp;<span class="comment" id="1740455">//&nbsp;last&nbsp;entry&nbsp;is&nbsp;sentinel</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1740482">for</span>&nbsp;<span class="ident" id="1740486">nf</span>&nbsp;<span class="op" id="1740489">&gt;</span>&nbsp;<span class="num" id="1740491">0</span>&nbsp;<span class="op" id="1740493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1740497">n</span>&nbsp;<span class="op" id="1740499">:=</span>&nbsp;<span class="ident" id="1740502">nf</span>&nbsp;<span class="op" id="1740505">/</span>&nbsp;<span class="num" id="1740507">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1740511">f</span>&nbsp;<span class="op" id="1740513">:=</span>&nbsp;<span class="op" id="1740516">&amp;</span><span class="ident" id="1740517">ftab</span><span class="op" id="1740521">[</span><span class="ident" id="1740522">lo</span><span class="op" id="1740524">+</span><span class="ident" id="1740525">n</span><span class="op" id="1740526">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1740530">if</span>&nbsp;<span class="ident" id="1740533">f</span><span class="op" id="1740534">.</span><span class="ident" id="1740535">entry</span>&nbsp;<span class="op" id="1740541">&lt;=</span>&nbsp;<span class="ident" id="1740544">pc</span>&nbsp;<span class="op" id="1740547">&amp;&amp;</span>&nbsp;<span class="ident" id="1740550">pc</span>&nbsp;<span class="op" id="1740553">&lt;</span>&nbsp;<span class="ident" id="1740555">ftab</span><span class="op" id="1740559">[</span><span class="ident" id="1740560">lo</span><span class="op" id="1740562">+</span><span class="ident" id="1740563">n</span><span class="op" id="1740564">+</span><span class="num" id="1740565">1</span><span class="op" id="1740566">]</span><span class="op" id="1740567">.</span><span class="ident" id="1740568">entry</span>&nbsp;<span class="op" id="1740574">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1740579">return</span>&nbsp;<span class="op" id="1740586">(</span><span class="op" id="1740587">*</span><span class="ident" id="1740588">_func</span><span class="op" id="1740593">)</span><span class="op" id="1740594">(</span><span class="ident" id="1740595">unsafe</span><span class="op" id="1740601">.</span><span class="ident" id="1740602">Pointer</span><span class="op" id="1740609">(</span><span class="op" id="1740610">&amp;</span><span class="ident" id="1740611">pclntable</span><span class="op" id="1740620">[</span><span class="ident" id="1740621">f</span><span class="op" id="1740622">.</span><span class="ident" id="1740623">funcoff</span><span class="op" id="1740630">]</span><span class="op" id="1740631">)</span><span class="op" id="1740632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1740636">}</span>&nbsp;<span class="keyword" id="1740638">else</span>&nbsp;<span class="keyword" id="1740643">if</span>&nbsp;<span class="ident" id="1740646">pc</span>&nbsp;<span class="op" id="1740649">&lt;</span>&nbsp;<span class="ident" id="1740651">f</span><span class="op" id="1740652">.</span><span class="ident" id="1740653">entry</span>&nbsp;<span class="op" id="1740659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1740664">nf</span>&nbsp;<span class="op" id="1740667">=</span>&nbsp;<span class="ident" id="1740669">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1740673">}</span>&nbsp;<span class="keyword" id="1740675">else</span>&nbsp;<span class="op" id="1740680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1740685">lo</span>&nbsp;<span class="op" id="1740688">+=</span>&nbsp;<span class="ident" id="1740691">n</span>&nbsp;<span class="op" id="1740693">+</span>&nbsp;<span class="num" id="1740695">1</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1740700">nf</span>&nbsp;<span class="op" id="1740703">-=</span>&nbsp;<span class="ident" id="1740706">n</span>&nbsp;<span class="op" id="1740708">+</span>&nbsp;<span class="num" id="1740710">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1740714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1740717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1740721">gothrow</span><span class="op" id="1740728">(</span><span class="string" id="1740729">&#34;findfunc:&nbsp;binary&nbsp;search&nbsp;failed&#34;</span><span class="op" id="1740761">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1740764">return</span>&nbsp;<span class="ident" id="1740771">nil</span><br>
<span class="lineno"></span><span class="op" id="1740775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1740778">func</span>&nbsp;<span class="ident" id="1740783">pcvalue</span><span class="op" id="1740790">(</span><span class="ident" id="1740791">f</span>&nbsp;<span class="op" id="1740793">*</span><span class="ident" id="1740794">_func</span><span class="op" id="1740799">,</span>&nbsp;<span class="ident" id="1740801">off</span>&nbsp;<span class="builtintype" id="1740805">int32</span><span class="op" id="1740810">,</span>&nbsp;<span class="ident" id="1740812">targetpc</span>&nbsp;<span class="builtintype" id="1740821">uintptr</span><span class="op" id="1740828">,</span>&nbsp;<span class="ident" id="1740830">strict</span>&nbsp;<span class="builtintype" id="1740837">bool</span><span class="op" id="1740841">)</span>&nbsp;<span class="builtintype" id="1740843">int32</span>&nbsp;<span class="op" id="1740849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1740852">if</span>&nbsp;<span class="ident" id="1740855">off</span>&nbsp;<span class="op" id="1740859">==</span>&nbsp;<span class="num" id="1740862">0</span>&nbsp;<span class="op" id="1740864">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1740868">return</span>&nbsp;<span class="op" id="1740875">-</span><span class="num" id="1740876">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1740879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1740882">p</span>&nbsp;<span class="op" id="1740884">:=</span>&nbsp;<span class="ident" id="1740887">pclntable</span><span class="op" id="1740896">[</span><span class="ident" id="1740897">off</span><span class="op" id="1740900">:</span><span class="op" id="1740901">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1740904">pc</span>&nbsp;<span class="op" id="1740907">:=</span>&nbsp;<span class="ident" id="1740910">f</span><span class="op" id="1740911">.</span><span class="ident" id="1740912">entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1740919">val</span>&nbsp;<span class="op" id="1740923">:=</span>&nbsp;<span class="builtintype" id="1740926">int32</span><span class="op" id="1740931">(</span><span class="op" id="1740932">-</span><span class="num" id="1740933">1</span><span class="op" id="1740934">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1740937">for</span>&nbsp;<span class="op" id="1740941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1740945">var</span>&nbsp;<span class="ident" id="1740949">ok</span>&nbsp;<span class="builtintype" id="1740952">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1740959">p</span><span class="op" id="1740960">,</span>&nbsp;<span class="ident" id="1740962">ok</span>&nbsp;<span class="op" id="1740965">=</span>&nbsp;<span class="ident" id="1740967">step</span><span class="op" id="1740971">(</span><span class="ident" id="1740972">p</span><span class="op" id="1740973">,</span>&nbsp;<span class="op" id="1740975">&amp;</span><span class="ident" id="1740976">pc</span><span class="op" id="1740978">,</span>&nbsp;<span class="op" id="1740980">&amp;</span><span class="ident" id="1740981">val</span><span class="op" id="1740984">,</span>&nbsp;<span class="ident" id="1740986">pc</span>&nbsp;<span class="op" id="1740989">==</span>&nbsp;<span class="ident" id="1740992">f</span><span class="op" id="1740993">.</span><span class="ident" id="1740994">entry</span><span class="op" id="1740999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741003">if</span>&nbsp;<span class="op" id="1741006">!</span><span class="ident" id="1741007">ok</span>&nbsp;<span class="op" id="1741010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741015">break</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1741023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741027">if</span>&nbsp;<span class="ident" id="1741030">targetpc</span>&nbsp;<span class="op" id="1741039">&lt;</span>&nbsp;<span class="ident" id="1741041">pc</span>&nbsp;<span class="op" id="1741044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741049">return</span>&nbsp;<span class="ident" id="1741056">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1741062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1741065">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1741069">//&nbsp;If&nbsp;there&nbsp;was&nbsp;a&nbsp;table,&nbsp;it&nbsp;should&nbsp;have&nbsp;covered&nbsp;all&nbsp;program&nbsp;counters.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1741140">//&nbsp;If&nbsp;not,&nbsp;something&nbsp;is&nbsp;wrong.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741172">if</span>&nbsp;<span class="ident" id="1741175">panicking</span>&nbsp;<span class="op" id="1741185">!=</span>&nbsp;<span class="num" id="1741188">0</span>&nbsp;<span class="op" id="1741190">||</span>&nbsp;<span class="op" id="1741193">!</span><span class="ident" id="1741194">strict</span>&nbsp;<span class="op" id="1741201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741205">return</span>&nbsp;<span class="op" id="1741212">-</span><span class="num" id="1741213">1</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1741216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1741220">print</span><span class="op" id="1741225">(</span><span class="string" id="1741226">&#34;runtime:&nbsp;invalid&nbsp;pc-encoded&nbsp;table&nbsp;f=&#34;</span><span class="op" id="1741264">,</span>&nbsp;<span class="ident" id="1741266">gofuncname</span><span class="op" id="1741276">(</span><span class="ident" id="1741277">f</span><span class="op" id="1741278">)</span><span class="op" id="1741279">,</span>&nbsp;<span class="string" id="1741281">&#34;&nbsp;pc=&#34;</span><span class="op" id="1741287">,</span>&nbsp;<span class="ident" id="1741289">hex</span><span class="op" id="1741292">(</span><span class="ident" id="1741293">pc</span><span class="op" id="1741295">)</span><span class="op" id="1741296">,</span>&nbsp;<span class="string" id="1741298">&#34;&nbsp;targetpc=&#34;</span><span class="op" id="1741310">,</span>&nbsp;<span class="ident" id="1741312">hex</span><span class="op" id="1741315">(</span><span class="ident" id="1741316">targetpc</span><span class="op" id="1741324">)</span><span class="op" id="1741325">,</span>&nbsp;<span class="string" id="1741327">&#34;&nbsp;tab=&#34;</span><span class="op" id="1741334">,</span>&nbsp;<span class="ident" id="1741336">p</span><span class="op" id="1741337">,</span>&nbsp;<span class="string" id="1741339">&#34;\n&#34;</span><span class="op" id="1741343">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1741347">p</span>&nbsp;<span class="op" id="1741349">=</span>&nbsp;<span class="ident" id="1741351">pclntable</span><span class="op" id="1741360">[</span><span class="ident" id="1741361">off</span><span class="op" id="1741364">:</span><span class="op" id="1741365">]</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1741368">pc</span>&nbsp;<span class="op" id="1741371">=</span>&nbsp;<span class="ident" id="1741373">f</span><span class="op" id="1741374">.</span><span class="ident" id="1741375">entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1741382">val</span>&nbsp;<span class="op" id="1741386">=</span>&nbsp;<span class="op" id="1741388">-</span><span class="num" id="1741389">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741392">for</span>&nbsp;<span class="op" id="1741396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741400">var</span>&nbsp;<span class="ident" id="1741404">ok</span>&nbsp;<span class="builtintype" id="1741407">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1741414">p</span><span class="op" id="1741415">,</span>&nbsp;<span class="ident" id="1741417">ok</span>&nbsp;<span class="op" id="1741420">=</span>&nbsp;<span class="ident" id="1741422">step</span><span class="op" id="1741426">(</span><span class="ident" id="1741427">p</span><span class="op" id="1741428">,</span>&nbsp;<span class="op" id="1741430">&amp;</span><span class="ident" id="1741431">pc</span><span class="op" id="1741433">,</span>&nbsp;<span class="op" id="1741435">&amp;</span><span class="ident" id="1741436">val</span><span class="op" id="1741439">,</span>&nbsp;<span class="ident" id="1741441">pc</span>&nbsp;<span class="op" id="1741444">==</span>&nbsp;<span class="ident" id="1741447">f</span><span class="op" id="1741448">.</span><span class="ident" id="1741449">entry</span><span class="op" id="1741454">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741458">if</span>&nbsp;<span class="op" id="1741461">!</span><span class="ident" id="1741462">ok</span>&nbsp;<span class="op" id="1741465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741470">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1741478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1741482">print</span><span class="op" id="1741487">(</span><span class="string" id="1741488">&#34;\tvalue=&#34;</span><span class="op" id="1741498">,</span>&nbsp;<span class="ident" id="1741500">val</span><span class="op" id="1741503">,</span>&nbsp;<span class="string" id="1741505">&#34;&nbsp;until&nbsp;pc=&#34;</span><span class="op" id="1741517">,</span>&nbsp;<span class="ident" id="1741519">hex</span><span class="op" id="1741522">(</span><span class="ident" id="1741523">pc</span><span class="op" id="1741525">)</span><span class="op" id="1741526">,</span>&nbsp;<span class="string" id="1741528">&#34;\n&#34;</span><span class="op" id="1741532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1741535">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1741539">gothrow</span><span class="op" id="1741546">(</span><span class="string" id="1741547">&#34;invalid&nbsp;runtime&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="1741577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741580">return</span>&nbsp;<span class="op" id="1741587">-</span><span class="num" id="1741588">1</span><br>
<span class="lineno"></span><span class="op" id="1741590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="1741593">func</span>&nbsp;<span class="ident" id="1741598">funcname</span><span class="op" id="1741606">(</span><span class="ident" id="1741607">f</span>&nbsp;<span class="op" id="1741609">*</span><span class="ident" id="1741610">_func</span><span class="op" id="1741615">)</span>&nbsp;<span class="op" id="1741617">*</span><span class="builtintype" id="1741618">byte</span>&nbsp;<span class="op" id="1741623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741626">if</span>&nbsp;<span class="ident" id="1741629">f</span>&nbsp;<span class="op" id="1741631">==</span>&nbsp;<span class="ident" id="1741634">nil</span>&nbsp;<span class="op" id="1741638">||</span>&nbsp;<span class="ident" id="1741641">f</span><span class="op" id="1741642">.</span><span class="ident" id="1741643">nameoff</span>&nbsp;<span class="op" id="1741651">==</span>&nbsp;<span class="num" id="1741654">0</span>&nbsp;<span class="op" id="1741656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741660">return</span>&nbsp;<span class="ident" id="1741667">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1741672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741675">return</span>&nbsp;<span class="op" id="1741682">(</span><span class="op" id="1741683">*</span><span class="builtintype" id="1741684">byte</span><span class="op" id="1741688">)</span><span class="op" id="1741689">(</span><span class="ident" id="1741690">unsafe</span><span class="op" id="1741696">.</span><span class="ident" id="1741697">Pointer</span><span class="op" id="1741704">(</span><span class="op" id="1741705">&amp;</span><span class="ident" id="1741706">pclntable</span><span class="op" id="1741715">[</span><span class="ident" id="1741716">f</span><span class="op" id="1741717">.</span><span class="ident" id="1741718">nameoff</span><span class="op" id="1741725">]</span><span class="op" id="1741726">)</span><span class="op" id="1741727">)</span><br>
<span class="lineno">205</span><span class="op" id="1741729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1741732">func</span>&nbsp;<span class="ident" id="1741737">gofuncname</span><span class="op" id="1741747">(</span><span class="ident" id="1741748">f</span>&nbsp;<span class="op" id="1741750">*</span><span class="ident" id="1741751">_func</span><span class="op" id="1741756">)</span>&nbsp;<span class="builtintype" id="1741758">string</span>&nbsp;<span class="op" id="1741765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741768">return</span>&nbsp;<span class="ident" id="1741775">gostringnocopy</span><span class="op" id="1741789">(</span><span class="ident" id="1741790">funcname</span><span class="op" id="1741798">(</span><span class="ident" id="1741799">f</span><span class="op" id="1741800">)</span><span class="op" id="1741801">)</span><br>
<span class="lineno"></span><span class="op" id="1741803">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="1741806">func</span>&nbsp;<span class="ident" id="1741811">funcline1</span><span class="op" id="1741820">(</span><span class="ident" id="1741821">f</span>&nbsp;<span class="op" id="1741823">*</span><span class="ident" id="1741824">_func</span><span class="op" id="1741829">,</span>&nbsp;<span class="ident" id="1741831">targetpc</span>&nbsp;<span class="builtintype" id="1741840">uintptr</span><span class="op" id="1741847">,</span>&nbsp;<span class="ident" id="1741849">file</span>&nbsp;<span class="op" id="1741854">*</span><span class="builtintype" id="1741855">string</span><span class="op" id="1741861">,</span>&nbsp;<span class="ident" id="1741863">strict</span>&nbsp;<span class="builtintype" id="1741870">bool</span><span class="op" id="1741874">)</span>&nbsp;<span class="builtintype" id="1741876">int32</span>&nbsp;<span class="op" id="1741882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1741885">*</span><span class="ident" id="1741886">file</span>&nbsp;<span class="op" id="1741891">=</span>&nbsp;<span class="string" id="1741893">&#34;?&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1741898">fileno</span>&nbsp;<span class="op" id="1741905">:=</span>&nbsp;<span class="builtintype" id="1741908">int</span><span class="op" id="1741911">(</span><span class="ident" id="1741912">pcvalue</span><span class="op" id="1741919">(</span><span class="ident" id="1741920">f</span><span class="op" id="1741921">,</span>&nbsp;<span class="ident" id="1741923">f</span><span class="op" id="1741924">.</span><span class="ident" id="1741925">pcfile</span><span class="op" id="1741931">,</span>&nbsp;<span class="ident" id="1741933">targetpc</span><span class="op" id="1741941">,</span>&nbsp;<span class="ident" id="1741943">strict</span><span class="op" id="1741949">)</span><span class="op" id="1741950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1741953">line</span>&nbsp;<span class="op" id="1741958">:=</span>&nbsp;<span class="ident" id="1741961">pcvalue</span><span class="op" id="1741968">(</span><span class="ident" id="1741969">f</span><span class="op" id="1741970">,</span>&nbsp;<span class="ident" id="1741972">f</span><span class="op" id="1741973">.</span><span class="ident" id="1741974">pcln</span><span class="op" id="1741978">,</span>&nbsp;<span class="ident" id="1741980">targetpc</span><span class="op" id="1741988">,</span>&nbsp;<span class="ident" id="1741990">strict</span><span class="op" id="1741996">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1741999">if</span>&nbsp;<span class="ident" id="1742002">fileno</span>&nbsp;<span class="op" id="1742009">==</span>&nbsp;<span class="op" id="1742012">-</span><span class="num" id="1742013">1</span>&nbsp;<span class="op" id="1742015">||</span>&nbsp;<span class="ident" id="1742018">line</span>&nbsp;<span class="op" id="1742023">==</span>&nbsp;<span class="op" id="1742026">-</span><span class="num" id="1742027">1</span>&nbsp;<span class="op" id="1742029">||</span>&nbsp;<span class="ident" id="1742032">fileno</span>&nbsp;<span class="op" id="1742039">&gt;=</span>&nbsp;<span class="builtinfunc" id="1742042">len</span><span class="op" id="1742045">(</span><span class="ident" id="1742046">filetab</span><span class="op" id="1742053">)</span>&nbsp;<span class="op" id="1742055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1742059">//&nbsp;print(&#34;looking&nbsp;for&nbsp;&#34;,&nbsp;hex(targetpc),&nbsp;&#34;&nbsp;in&nbsp;&#34;,&nbsp;gofuncname(f),&nbsp;&#34;&nbsp;got&nbsp;file=&#34;,&nbsp;fileno,&nbsp;&#34;&nbsp;line=&#34;,&nbsp;lineno,&nbsp;&#34;\n&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1742170">return</span>&nbsp;<span class="num" id="1742177">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1742180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1742183">*</span><span class="ident" id="1742184">file</span>&nbsp;<span class="op" id="1742189">=</span>&nbsp;<span class="ident" id="1742191">gostringnocopy</span><span class="op" id="1742205">(</span><span class="op" id="1742206">&amp;</span><span class="ident" id="1742207">pclntable</span><span class="op" id="1742216">[</span><span class="ident" id="1742217">filetab</span><span class="op" id="1742224">[</span><span class="ident" id="1742225">fileno</span><span class="op" id="1742231">]</span><span class="op" id="1742232">]</span><span class="op" id="1742233">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1742236">return</span>&nbsp;<span class="ident" id="1742243">line</span><br>
<span class="lineno"></span><span class="op" id="1742248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1742251">func</span>&nbsp;<span class="ident" id="1742256">funcline</span><span class="op" id="1742264">(</span><span class="ident" id="1742265">f</span>&nbsp;<span class="op" id="1742267">*</span><span class="ident" id="1742268">_func</span><span class="op" id="1742273">,</span>&nbsp;<span class="ident" id="1742275">targetpc</span>&nbsp;<span class="builtintype" id="1742284">uintptr</span><span class="op" id="1742291">,</span>&nbsp;<span class="ident" id="1742293">file</span>&nbsp;<span class="op" id="1742298">*</span><span class="builtintype" id="1742299">string</span><span class="op" id="1742305">)</span>&nbsp;<span class="builtintype" id="1742307">int32</span>&nbsp;<span class="op" id="1742313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1742316">return</span>&nbsp;<span class="ident" id="1742323">funcline1</span><span class="op" id="1742332">(</span><span class="ident" id="1742333">f</span><span class="op" id="1742334">,</span>&nbsp;<span class="ident" id="1742336">targetpc</span><span class="op" id="1742344">,</span>&nbsp;<span class="ident" id="1742346">file</span><span class="op" id="1742350">,</span>&nbsp;<span class="ident" id="1742352">true</span><span class="op" id="1742356">)</span><br>
<span class="lineno">225</span><span class="op" id="1742358">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1742361">func</span>&nbsp;<span class="ident" id="1742366">funcspdelta</span><span class="op" id="1742377">(</span><span class="ident" id="1742378">f</span>&nbsp;<span class="op" id="1742380">*</span><span class="ident" id="1742381">_func</span><span class="op" id="1742386">,</span>&nbsp;<span class="ident" id="1742388">targetpc</span>&nbsp;<span class="builtintype" id="1742397">uintptr</span><span class="op" id="1742404">)</span>&nbsp;<span class="builtintype" id="1742406">int32</span>&nbsp;<span class="op" id="1742412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1742415">x</span>&nbsp;<span class="op" id="1742417">:=</span>&nbsp;<span class="ident" id="1742420">pcvalue</span><span class="op" id="1742427">(</span><span class="ident" id="1742428">f</span><span class="op" id="1742429">,</span>&nbsp;<span class="ident" id="1742431">f</span><span class="op" id="1742432">.</span><span class="ident" id="1742433">pcsp</span><span class="op" id="1742437">,</span>&nbsp;<span class="ident" id="1742439">targetpc</span><span class="op" id="1742447">,</span>&nbsp;<span class="ident" id="1742449">true</span><span class="op" id="1742453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1742456">if</span>&nbsp;<span class="ident" id="1742459">x</span><span class="op" id="1742460">&amp;</span><span class="op" id="1742461">(</span><span class="ident" id="1742462">ptrSize</span><span class="op" id="1742469">-</span><span class="num" id="1742470">1</span><span class="op" id="1742471">)</span>&nbsp;<span class="op" id="1742473">!=</span>&nbsp;<span class="num" id="1742476">0</span>&nbsp;<span class="op" id="1742478">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1742482">print</span><span class="op" id="1742487">(</span><span class="string" id="1742488">&#34;invalid&nbsp;spdelta&nbsp;&#34;</span><span class="op" id="1742506">,</span>&nbsp;<span class="ident" id="1742508">hex</span><span class="op" id="1742511">(</span><span class="ident" id="1742512">f</span><span class="op" id="1742513">.</span><span class="ident" id="1742514">entry</span><span class="op" id="1742519">)</span><span class="op" id="1742520">,</span>&nbsp;<span class="string" id="1742522">&#34;&nbsp;&#34;</span><span class="op" id="1742525">,</span>&nbsp;<span class="ident" id="1742527">hex</span><span class="op" id="1742530">(</span><span class="ident" id="1742531">targetpc</span><span class="op" id="1742539">)</span><span class="op" id="1742540">,</span>&nbsp;<span class="string" id="1742542">&#34;&nbsp;&#34;</span><span class="op" id="1742545">,</span>&nbsp;<span class="ident" id="1742547">hex</span><span class="op" id="1742550">(</span><span class="ident" id="1742551">f</span><span class="op" id="1742552">.</span><span class="ident" id="1742553">pcsp</span><span class="op" id="1742557">)</span><span class="op" id="1742558">,</span>&nbsp;<span class="string" id="1742560">&#34;&nbsp;&#34;</span><span class="op" id="1742563">,</span>&nbsp;<span class="ident" id="1742565">x</span><span class="op" id="1742566">,</span>&nbsp;<span class="string" id="1742568">&#34;\n&#34;</span><span class="op" id="1742572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1742575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1742578">return</span>&nbsp;<span class="ident" id="1742585">x</span><br>
<span class="lineno"></span><span class="op" id="1742587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="1742590">func</span>&nbsp;<span class="ident" id="1742595">pcdatavalue</span><span class="op" id="1742606">(</span><span class="ident" id="1742607">f</span>&nbsp;<span class="op" id="1742609">*</span><span class="ident" id="1742610">_func</span><span class="op" id="1742615">,</span>&nbsp;<span class="ident" id="1742617">table</span>&nbsp;<span class="builtintype" id="1742623">int32</span><span class="op" id="1742628">,</span>&nbsp;<span class="ident" id="1742630">targetpc</span>&nbsp;<span class="builtintype" id="1742639">uintptr</span><span class="op" id="1742646">)</span>&nbsp;<span class="builtintype" id="1742648">int32</span>&nbsp;<span class="op" id="1742654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1742657">if</span>&nbsp;<span class="ident" id="1742660">table</span>&nbsp;<span class="op" id="1742666">&lt;</span>&nbsp;<span class="num" id="1742668">0</span>&nbsp;<span class="op" id="1742670">||</span>&nbsp;<span class="ident" id="1742673">table</span>&nbsp;<span class="op" id="1742679">&gt;=</span>&nbsp;<span class="ident" id="1742682">f</span><span class="op" id="1742683">.</span><span class="ident" id="1742684">npcdata</span>&nbsp;<span class="op" id="1742692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1742696">return</span>&nbsp;<span class="op" id="1742703">-</span><span class="num" id="1742704">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1742707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1742710">off</span>&nbsp;<span class="op" id="1742714">:=</span>&nbsp;<span class="op" id="1742717">*</span><span class="op" id="1742718">(</span><span class="op" id="1742719">*</span><span class="builtintype" id="1742720">int32</span><span class="op" id="1742725">)</span><span class="op" id="1742726">(</span><span class="ident" id="1742727">add</span><span class="op" id="1742730">(</span><span class="ident" id="1742731">unsafe</span><span class="op" id="1742737">.</span><span class="ident" id="1742738">Pointer</span><span class="op" id="1742745">(</span><span class="op" id="1742746">&amp;</span><span class="ident" id="1742747">f</span><span class="op" id="1742748">.</span><span class="ident" id="1742749">nfuncdata</span><span class="op" id="1742758">)</span><span class="op" id="1742759">,</span>&nbsp;<span class="ident" id="1742761">unsafe</span><span class="op" id="1742767">.</span><span class="ident" id="1742768">Sizeof</span><span class="op" id="1742774">(</span><span class="ident" id="1742775">f</span><span class="op" id="1742776">.</span><span class="ident" id="1742777">nfuncdata</span><span class="op" id="1742786">)</span><span class="op" id="1742787">+</span><span class="builtintype" id="1742788">uintptr</span><span class="op" id="1742795">(</span><span class="ident" id="1742796">table</span><span class="op" id="1742801">)</span><span class="op" id="1742802">*</span><span class="num" id="1742803">4</span><span class="op" id="1742804">)</span><span class="op" id="1742805">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1742808">return</span>&nbsp;<span class="ident" id="1742815">pcvalue</span><span class="op" id="1742822">(</span><span class="ident" id="1742823">f</span><span class="op" id="1742824">,</span>&nbsp;<span class="ident" id="1742826">off</span><span class="op" id="1742829">,</span>&nbsp;<span class="ident" id="1742831">targetpc</span><span class="op" id="1742839">,</span>&nbsp;<span class="ident" id="1742841">true</span><span class="op" id="1742845">)</span><br>
<span class="lineno"></span><span class="op" id="1742847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1742850">func</span>&nbsp;<span class="ident" id="1742855">funcdata</span><span class="op" id="1742863">(</span><span class="ident" id="1742864">f</span>&nbsp;<span class="op" id="1742866">*</span><span class="ident" id="1742867">_func</span><span class="op" id="1742872">,</span>&nbsp;<span class="ident" id="1742874">i</span>&nbsp;<span class="builtintype" id="1742876">int32</span><span class="op" id="1742881">)</span>&nbsp;<span class="ident" id="1742883">unsafe</span><span class="op" id="1742889">.</span><span class="ident" id="1742890">Pointer</span>&nbsp;<span class="op" id="1742898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1742901">if</span>&nbsp;<span class="ident" id="1742904">i</span>&nbsp;<span class="op" id="1742906">&lt;</span>&nbsp;<span class="num" id="1742908">0</span>&nbsp;<span class="op" id="1742910">||</span>&nbsp;<span class="ident" id="1742913">i</span>&nbsp;<span class="op" id="1742915">&gt;=</span>&nbsp;<span class="ident" id="1742918">f</span><span class="op" id="1742919">.</span><span class="ident" id="1742920">nfuncdata</span>&nbsp;<span class="op" id="1742930">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1742934">return</span>&nbsp;<span class="ident" id="1742941">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1742946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1742949">p</span>&nbsp;<span class="op" id="1742951">:=</span>&nbsp;<span class="ident" id="1742954">add</span><span class="op" id="1742957">(</span><span class="ident" id="1742958">unsafe</span><span class="op" id="1742964">.</span><span class="ident" id="1742965">Pointer</span><span class="op" id="1742972">(</span><span class="op" id="1742973">&amp;</span><span class="ident" id="1742974">f</span><span class="op" id="1742975">.</span><span class="ident" id="1742976">nfuncdata</span><span class="op" id="1742985">)</span><span class="op" id="1742986">,</span>&nbsp;<span class="ident" id="1742988">unsafe</span><span class="op" id="1742994">.</span><span class="ident" id="1742995">Sizeof</span><span class="op" id="1743001">(</span><span class="ident" id="1743002">f</span><span class="op" id="1743003">.</span><span class="ident" id="1743004">nfuncdata</span><span class="op" id="1743013">)</span><span class="op" id="1743014">+</span><span class="builtintype" id="1743015">uintptr</span><span class="op" id="1743022">(</span><span class="ident" id="1743023">f</span><span class="op" id="1743024">.</span><span class="ident" id="1743025">npcdata</span><span class="op" id="1743032">)</span><span class="op" id="1743033">*</span><span class="num" id="1743034">4</span><span class="op" id="1743035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1743038">if</span>&nbsp;<span class="ident" id="1743041">ptrSize</span>&nbsp;<span class="op" id="1743049">==</span>&nbsp;<span class="num" id="1743052">8</span>&nbsp;<span class="op" id="1743054">&amp;&amp;</span>&nbsp;<span class="builtintype" id="1743057">uintptr</span><span class="op" id="1743064">(</span><span class="ident" id="1743065">p</span><span class="op" id="1743066">)</span><span class="op" id="1743067">&amp;</span><span class="num" id="1743068">4</span>&nbsp;<span class="op" id="1743070">!=</span>&nbsp;<span class="num" id="1743073">0</span>&nbsp;<span class="op" id="1743075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1743079">if</span>&nbsp;<span class="builtintype" id="1743082">uintptr</span><span class="op" id="1743089">(</span><span class="ident" id="1743090">unsafe</span><span class="op" id="1743096">.</span><span class="ident" id="1743097">Pointer</span><span class="op" id="1743104">(</span><span class="ident" id="1743105">f</span><span class="op" id="1743106">)</span><span class="op" id="1743107">)</span><span class="op" id="1743108">&amp;</span><span class="num" id="1743109">4</span>&nbsp;<span class="op" id="1743111">!=</span>&nbsp;<span class="num" id="1743114">0</span>&nbsp;<span class="op" id="1743116">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1743121">println</span><span class="op" id="1743128">(</span><span class="string" id="1743129">&#34;runtime:&nbsp;misaligned&nbsp;func&#34;</span><span class="op" id="1743155">,</span>&nbsp;<span class="ident" id="1743157">f</span><span class="op" id="1743158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1743162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1743166">p</span>&nbsp;<span class="op" id="1743168">=</span>&nbsp;<span class="ident" id="1743170">add</span><span class="op" id="1743173">(</span><span class="ident" id="1743174">p</span><span class="op" id="1743175">,</span>&nbsp;<span class="num" id="1743177">4</span><span class="op" id="1743178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1743181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1743184">return</span>&nbsp;<span class="op" id="1743191">*</span><span class="op" id="1743192">(</span><span class="op" id="1743193">*</span><span class="ident" id="1743194">unsafe</span><span class="op" id="1743200">.</span><span class="ident" id="1743201">Pointer</span><span class="op" id="1743208">)</span><span class="op" id="1743209">(</span><span class="ident" id="1743210">add</span><span class="op" id="1743213">(</span><span class="ident" id="1743214">p</span><span class="op" id="1743215">,</span>&nbsp;<span class="builtintype" id="1743217">uintptr</span><span class="op" id="1743224">(</span><span class="ident" id="1743225">i</span><span class="op" id="1743226">)</span><span class="op" id="1743227">*</span><span class="ident" id="1743228">ptrSize</span><span class="op" id="1743235">)</span><span class="op" id="1743236">)</span><br>
<span class="lineno">255</span><span class="op" id="1743238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1743241">//&nbsp;step&nbsp;advances&nbsp;to&nbsp;the&nbsp;next&nbsp;pc,&nbsp;value&nbsp;pair&nbsp;in&nbsp;the&nbsp;encoded&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="1743307">func</span>&nbsp;<span class="ident" id="1743312">step</span><span class="op" id="1743316">(</span><span class="ident" id="1743317">p</span>&nbsp;<span class="op" id="1743319">[</span><span class="op" id="1743320">]</span><span class="builtintype" id="1743321">byte</span><span class="op" id="1743325">,</span>&nbsp;<span class="ident" id="1743327">pc</span>&nbsp;<span class="op" id="1743330">*</span><span class="builtintype" id="1743331">uintptr</span><span class="op" id="1743338">,</span>&nbsp;<span class="ident" id="1743340">val</span>&nbsp;<span class="op" id="1743344">*</span><span class="builtintype" id="1743345">int32</span><span class="op" id="1743350">,</span>&nbsp;<span class="ident" id="1743352">first</span>&nbsp;<span class="builtintype" id="1743358">bool</span><span class="op" id="1743362">)</span>&nbsp;<span class="op" id="1743364">(</span><span class="ident" id="1743365">newp</span>&nbsp;<span class="op" id="1743370">[</span><span class="op" id="1743371">]</span><span class="builtintype" id="1743372">byte</span><span class="op" id="1743376">,</span>&nbsp;<span class="ident" id="1743378">ok</span>&nbsp;<span class="builtintype" id="1743381">bool</span><span class="op" id="1743385">)</span>&nbsp;<span class="op" id="1743387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1743390">p</span><span class="op" id="1743391">,</span>&nbsp;<span class="ident" id="1743393">uvdelta</span>&nbsp;<span class="op" id="1743401">:=</span>&nbsp;<span class="ident" id="1743404">readvarint</span><span class="op" id="1743414">(</span><span class="ident" id="1743415">p</span><span class="op" id="1743416">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1743419">if</span>&nbsp;<span class="ident" id="1743422">uvdelta</span>&nbsp;<span class="op" id="1743430">==</span>&nbsp;<span class="num" id="1743433">0</span>&nbsp;<span class="op" id="1743435">&amp;&amp;</span>&nbsp;<span class="op" id="1743438">!</span><span class="ident" id="1743439">first</span>&nbsp;<span class="op" id="1743445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1743449">return</span>&nbsp;<span class="ident" id="1743456">nil</span><span class="op" id="1743459">,</span>&nbsp;<span class="ident" id="1743461">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1743468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1743471">if</span>&nbsp;<span class="ident" id="1743474">uvdelta</span><span class="op" id="1743481">&amp;</span><span class="num" id="1743482">1</span>&nbsp;<span class="op" id="1743484">!=</span>&nbsp;<span class="num" id="1743487">0</span>&nbsp;<span class="op" id="1743489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1743493">uvdelta</span>&nbsp;<span class="op" id="1743501">=</span>&nbsp;<span class="op" id="1743503">^</span><span class="op" id="1743504">(</span><span class="ident" id="1743505">uvdelta</span>&nbsp;<span class="op" id="1743513">&gt;&gt;</span>&nbsp;<span class="num" id="1743516">1</span><span class="op" id="1743517">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1743520">}</span>&nbsp;<span class="keyword" id="1743522">else</span>&nbsp;<span class="op" id="1743527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1743531">uvdelta</span>&nbsp;<span class="op" id="1743539">&gt;&gt;=</span>&nbsp;<span class="num" id="1743543">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1743546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1743549">vdelta</span>&nbsp;<span class="op" id="1743556">:=</span>&nbsp;<span class="builtintype" id="1743559">int32</span><span class="op" id="1743564">(</span><span class="ident" id="1743565">uvdelta</span><span class="op" id="1743572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1743575">p</span><span class="op" id="1743576">,</span>&nbsp;<span class="ident" id="1743578">pcdelta</span>&nbsp;<span class="op" id="1743586">:=</span>&nbsp;<span class="ident" id="1743589">readvarint</span><span class="op" id="1743599">(</span><span class="ident" id="1743600">p</span><span class="op" id="1743601">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1743604">*</span><span class="ident" id="1743605">pc</span>&nbsp;<span class="op" id="1743608">+=</span>&nbsp;<span class="builtintype" id="1743611">uintptr</span><span class="op" id="1743618">(</span><span class="ident" id="1743619">pcdelta</span>&nbsp;<span class="op" id="1743627">*</span>&nbsp;<span class="ident" id="1743629">_PCQuantum</span><span class="op" id="1743639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1743642">*</span><span class="ident" id="1743643">val</span>&nbsp;<span class="op" id="1743647">+=</span>&nbsp;<span class="ident" id="1743650">vdelta</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1743658">return</span>&nbsp;<span class="ident" id="1743665">p</span><span class="op" id="1743666">,</span>&nbsp;<span class="ident" id="1743668">true</span><br>
<span class="lineno"></span><span class="op" id="1743673">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">275</span><span class="comment" id="1743676">//&nbsp;readvarint&nbsp;reads&nbsp;a&nbsp;varint&nbsp;from&nbsp;p.</span><br>
<span class="lineno"></span><span class="keyword" id="1743713">func</span>&nbsp;<span class="ident" id="1743718">readvarint</span><span class="op" id="1743728">(</span><span class="ident" id="1743729">p</span>&nbsp;<span class="op" id="1743731">[</span><span class="op" id="1743732">]</span><span class="builtintype" id="1743733">byte</span><span class="op" id="1743737">)</span>&nbsp;<span class="op" id="1743739">(</span><span class="ident" id="1743740">newp</span>&nbsp;<span class="op" id="1743745">[</span><span class="op" id="1743746">]</span><span class="builtintype" id="1743747">byte</span><span class="op" id="1743751">,</span>&nbsp;<span class="ident" id="1743753">val</span>&nbsp;<span class="builtintype" id="1743757">uint32</span><span class="op" id="1743763">)</span>&nbsp;<span class="op" id="1743765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1743768">var</span>&nbsp;<span class="ident" id="1743772">v</span><span class="op" id="1743773">,</span>&nbsp;<span class="ident" id="1743775">shift</span>&nbsp;<span class="builtintype" id="1743781">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1743789">for</span>&nbsp;<span class="op" id="1743793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1743797">b</span>&nbsp;<span class="op" id="1743799">:=</span>&nbsp;<span class="ident" id="1743802">p</span><span class="op" id="1743803">[</span><span class="num" id="1743804">0</span><span class="op" id="1743805">]</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1743809">p</span>&nbsp;<span class="op" id="1743811">=</span>&nbsp;<span class="ident" id="1743813">p</span><span class="op" id="1743814">[</span><span class="num" id="1743815">1</span><span class="op" id="1743816">:</span><span class="op" id="1743817">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1743821">v</span>&nbsp;<span class="op" id="1743823">|=</span>&nbsp;<span class="op" id="1743826">(</span><span class="builtintype" id="1743827">uint32</span><span class="op" id="1743833">(</span><span class="ident" id="1743834">b</span><span class="op" id="1743835">)</span>&nbsp;<span class="op" id="1743837">&amp;</span>&nbsp;<span class="num" id="1743839">0x7F</span><span class="op" id="1743843">)</span>&nbsp;<span class="op" id="1743845">&lt;&lt;</span>&nbsp;<span class="ident" id="1743848">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1743856">if</span>&nbsp;<span class="ident" id="1743859">b</span><span class="op" id="1743860">&amp;</span><span class="num" id="1743861">0x80</span>&nbsp;<span class="op" id="1743866">==</span>&nbsp;<span class="num" id="1743869">0</span>&nbsp;<span class="op" id="1743871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1743876">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1743884">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1743888">shift</span>&nbsp;<span class="op" id="1743894">+=</span>&nbsp;<span class="num" id="1743897">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1743900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1743903">return</span>&nbsp;<span class="ident" id="1743910">p</span><span class="op" id="1743911">,</span>&nbsp;<span class="ident" id="1743913">v</span><br>
<span class="lineno"></span><span class="op" id="1743915">}</span>
</div>
</body>
</html>
