<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html" class="current">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7969420">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7969476">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7969530">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7969581">package</span>&nbsp;<span class="ident" id="7969589">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7969597">import</span>&nbsp;<span class="op" id="7969604">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7969607">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7969616">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7969623">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7969634">&#34;unicode&#34;</span><br>
<span class="lineno"></span><span class="op" id="7969644">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7969647">type</span>&nbsp;<span class="ident" id="7969652">parseTest</span>&nbsp;<span class="keyword" id="7969662">struct</span>&nbsp;<span class="op" id="7969669">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7969672">Regexp</span>&nbsp;<span class="builtintype" id="7969679">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7969687">Dump</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7969694">string</span><br>
<span class="lineno"></span><span class="op" id="7969701">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7969704">var</span>&nbsp;<span class="ident" id="7969708">parseTests</span>&nbsp;<span class="op" id="7969719">=</span>&nbsp;<span class="op" id="7969721">[</span><span class="op" id="7969722">]</span><span class="ident" id="7969723"><a href="/gostd/regexp/syntax/parse_test.go.html#7969652">parseTest</a></span><span class="op" id="7969732">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7969735">//&nbsp;Base&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7969750">{</span><span class="string" id="7969751">`a`</span><span class="op" id="7969754">,</span>&nbsp;<span class="string" id="7969756">`lit{a}`</span><span class="op" id="7969764">}</span><span class="op" id="7969765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7969768">{</span><span class="string" id="7969769">`a.`</span><span class="op" id="7969773">,</span>&nbsp;<span class="string" id="7969775">`cat{lit{a}dot{}}`</span><span class="op" id="7969793">}</span><span class="op" id="7969794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7969797">{</span><span class="string" id="7969798">`a.b`</span><span class="op" id="7969803">,</span>&nbsp;<span class="string" id="7969805">`cat{lit{a}dot{}lit{b}}`</span><span class="op" id="7969829">}</span><span class="op" id="7969830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7969833">{</span><span class="string" id="7969834">`ab`</span><span class="op" id="7969838">,</span>&nbsp;<span class="string" id="7969840">`str{ab}`</span><span class="op" id="7969849">}</span><span class="op" id="7969850">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7969853">{</span><span class="string" id="7969854">`a.b.c`</span><span class="op" id="7969861">,</span>&nbsp;<span class="string" id="7969863">`cat{lit{a}dot{}lit{b}dot{}lit{c}}`</span><span class="op" id="7969898">}</span><span class="op" id="7969899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7969902">{</span><span class="string" id="7969903">`abc`</span><span class="op" id="7969908">,</span>&nbsp;<span class="string" id="7969910">`str{abc}`</span><span class="op" id="7969920">}</span><span class="op" id="7969921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7969924">{</span><span class="string" id="7969925">`a|^`</span><span class="op" id="7969930">,</span>&nbsp;<span class="string" id="7969932">`alt{lit{a}bol{}}`</span><span class="op" id="7969950">}</span><span class="op" id="7969951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7969954">{</span><span class="string" id="7969955">`a|b`</span><span class="op" id="7969960">,</span>&nbsp;<span class="string" id="7969962">`cc{0x61-0x62}`</span><span class="op" id="7969977">}</span><span class="op" id="7969978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7969981">{</span><span class="string" id="7969982">`(a)`</span><span class="op" id="7969987">,</span>&nbsp;<span class="string" id="7969989">`cap{lit{a}}`</span><span class="op" id="7970002">}</span><span class="op" id="7970003">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970006">{</span><span class="string" id="7970007">`(a)|b`</span><span class="op" id="7970014">,</span>&nbsp;<span class="string" id="7970016">`alt{cap{lit{a}}lit{b}}`</span><span class="op" id="7970040">}</span><span class="op" id="7970041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970044">{</span><span class="string" id="7970045">`a*`</span><span class="op" id="7970049">,</span>&nbsp;<span class="string" id="7970051">`star{lit{a}}`</span><span class="op" id="7970065">}</span><span class="op" id="7970066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970069">{</span><span class="string" id="7970070">`a+`</span><span class="op" id="7970074">,</span>&nbsp;<span class="string" id="7970076">`plus{lit{a}}`</span><span class="op" id="7970090">}</span><span class="op" id="7970091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970094">{</span><span class="string" id="7970095">`a?`</span><span class="op" id="7970099">,</span>&nbsp;<span class="string" id="7970101">`que{lit{a}}`</span><span class="op" id="7970114">}</span><span class="op" id="7970115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970118">{</span><span class="string" id="7970119">`a{2}`</span><span class="op" id="7970125">,</span>&nbsp;<span class="string" id="7970127">`rep{2,2&nbsp;lit{a}}`</span><span class="op" id="7970144">}</span><span class="op" id="7970145">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970148">{</span><span class="string" id="7970149">`a{2,3}`</span><span class="op" id="7970157">,</span>&nbsp;<span class="string" id="7970159">`rep{2,3&nbsp;lit{a}}`</span><span class="op" id="7970176">}</span><span class="op" id="7970177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970180">{</span><span class="string" id="7970181">`a{2,}`</span><span class="op" id="7970188">,</span>&nbsp;<span class="string" id="7970190">`rep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7970208">}</span><span class="op" id="7970209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970212">{</span><span class="string" id="7970213">`a*?`</span><span class="op" id="7970218">,</span>&nbsp;<span class="string" id="7970220">`nstar{lit{a}}`</span><span class="op" id="7970235">}</span><span class="op" id="7970236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970239">{</span><span class="string" id="7970240">`a+?`</span><span class="op" id="7970245">,</span>&nbsp;<span class="string" id="7970247">`nplus{lit{a}}`</span><span class="op" id="7970262">}</span><span class="op" id="7970263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970266">{</span><span class="string" id="7970267">`a??`</span><span class="op" id="7970272">,</span>&nbsp;<span class="string" id="7970274">`nque{lit{a}}`</span><span class="op" id="7970288">}</span><span class="op" id="7970289">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970292">{</span><span class="string" id="7970293">`a{2}?`</span><span class="op" id="7970300">,</span>&nbsp;<span class="string" id="7970302">`nrep{2,2&nbsp;lit{a}}`</span><span class="op" id="7970320">}</span><span class="op" id="7970321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970324">{</span><span class="string" id="7970325">`a{2,3}?`</span><span class="op" id="7970334">,</span>&nbsp;<span class="string" id="7970336">`nrep{2,3&nbsp;lit{a}}`</span><span class="op" id="7970354">}</span><span class="op" id="7970355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970358">{</span><span class="string" id="7970359">`a{2,}?`</span><span class="op" id="7970367">,</span>&nbsp;<span class="string" id="7970369">`nrep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7970388">}</span><span class="op" id="7970389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7970392">//&nbsp;Malformed&nbsp;{&nbsp;}&nbsp;are&nbsp;treated&nbsp;as&nbsp;literals.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970435">{</span><span class="string" id="7970436">`x{1001`</span><span class="op" id="7970444">,</span>&nbsp;<span class="string" id="7970446">`str{x{1001}`</span><span class="op" id="7970459">}</span><span class="op" id="7970460">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970463">{</span><span class="string" id="7970464">`x{9876543210`</span><span class="op" id="7970478">,</span>&nbsp;<span class="string" id="7970480">`str{x{9876543210}`</span><span class="op" id="7970499">}</span><span class="op" id="7970500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970503">{</span><span class="string" id="7970504">`x{9876543210,`</span><span class="op" id="7970519">,</span>&nbsp;<span class="string" id="7970521">`str{x{9876543210,}`</span><span class="op" id="7970541">}</span><span class="op" id="7970542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970545">{</span><span class="string" id="7970546">`x{2,1`</span><span class="op" id="7970553">,</span>&nbsp;<span class="string" id="7970555">`str{x{2,1}`</span><span class="op" id="7970567">}</span><span class="op" id="7970568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970571">{</span><span class="string" id="7970572">`x{1,9876543210`</span><span class="op" id="7970588">,</span>&nbsp;<span class="string" id="7970590">`str{x{1,9876543210}`</span><span class="op" id="7970611">}</span><span class="op" id="7970612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970615">{</span><span class="string" id="7970616">``</span><span class="op" id="7970618">,</span>&nbsp;<span class="string" id="7970620">`emp{}`</span><span class="op" id="7970627">}</span><span class="op" id="7970628">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970631">{</span><span class="string" id="7970632">`|`</span><span class="op" id="7970635">,</span>&nbsp;<span class="string" id="7970637">`emp{}`</span><span class="op" id="7970644">}</span><span class="op" id="7970645">,</span>&nbsp;<span class="comment" id="7970647">//&nbsp;alt{emp{}emp{}}&nbsp;but&nbsp;got&nbsp;factored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970684">{</span><span class="string" id="7970685">`|x|`</span><span class="op" id="7970690">,</span>&nbsp;<span class="string" id="7970692">`alt{emp{}lit{x}emp{}}`</span><span class="op" id="7970715">}</span><span class="op" id="7970716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970719">{</span><span class="string" id="7970720">`.`</span><span class="op" id="7970723">,</span>&nbsp;<span class="string" id="7970725">`dot{}`</span><span class="op" id="7970732">}</span><span class="op" id="7970733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970736">{</span><span class="string" id="7970737">`^`</span><span class="op" id="7970740">,</span>&nbsp;<span class="string" id="7970742">`bol{}`</span><span class="op" id="7970749">}</span><span class="op" id="7970750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970753">{</span><span class="string" id="7970754">`$`</span><span class="op" id="7970757">,</span>&nbsp;<span class="string" id="7970759">`eol{}`</span><span class="op" id="7970766">}</span><span class="op" id="7970767">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970770">{</span><span class="string" id="7970771">`\|`</span><span class="op" id="7970775">,</span>&nbsp;<span class="string" id="7970777">`lit{|}`</span><span class="op" id="7970785">}</span><span class="op" id="7970786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970789">{</span><span class="string" id="7970790">`\(`</span><span class="op" id="7970794">,</span>&nbsp;<span class="string" id="7970796">`lit{(}`</span><span class="op" id="7970804">}</span><span class="op" id="7970805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970808">{</span><span class="string" id="7970809">`\)`</span><span class="op" id="7970813">,</span>&nbsp;<span class="string" id="7970815">`lit{)}`</span><span class="op" id="7970823">}</span><span class="op" id="7970824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970827">{</span><span class="string" id="7970828">`\*`</span><span class="op" id="7970832">,</span>&nbsp;<span class="string" id="7970834">`lit{*}`</span><span class="op" id="7970842">}</span><span class="op" id="7970843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970846">{</span><span class="string" id="7970847">`\+`</span><span class="op" id="7970851">,</span>&nbsp;<span class="string" id="7970853">`lit{+}`</span><span class="op" id="7970861">}</span><span class="op" id="7970862">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970865">{</span><span class="string" id="7970866">`\?`</span><span class="op" id="7970870">,</span>&nbsp;<span class="string" id="7970872">`lit{?}`</span><span class="op" id="7970880">}</span><span class="op" id="7970881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970884">{</span><span class="string" id="7970885">`{`</span><span class="op" id="7970888">,</span>&nbsp;<span class="string" id="7970890">`lit{{}`</span><span class="op" id="7970898">}</span><span class="op" id="7970899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970902">{</span><span class="string" id="7970903">`}`</span><span class="op" id="7970906">,</span>&nbsp;<span class="string" id="7970908">`lit{}}`</span><span class="op" id="7970916">}</span><span class="op" id="7970917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970920">{</span><span class="string" id="7970921">`\.`</span><span class="op" id="7970925">,</span>&nbsp;<span class="string" id="7970927">`lit{.}`</span><span class="op" id="7970935">}</span><span class="op" id="7970936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970939">{</span><span class="string" id="7970940">`\^`</span><span class="op" id="7970944">,</span>&nbsp;<span class="string" id="7970946">`lit{^}`</span><span class="op" id="7970954">}</span><span class="op" id="7970955">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970958">{</span><span class="string" id="7970959">`\$`</span><span class="op" id="7970963">,</span>&nbsp;<span class="string" id="7970965">`lit{$}`</span><span class="op" id="7970973">}</span><span class="op" id="7970974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970977">{</span><span class="string" id="7970978">`\\`</span><span class="op" id="7970982">,</span>&nbsp;<span class="string" id="7970984">`lit{\}`</span><span class="op" id="7970992">}</span><span class="op" id="7970993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7970996">{</span><span class="string" id="7970997">`[ace]`</span><span class="op" id="7971004">,</span>&nbsp;<span class="string" id="7971006">`cc{0x61&nbsp;0x63&nbsp;0x65}`</span><span class="op" id="7971026">}</span><span class="op" id="7971027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971030">{</span><span class="string" id="7971031">`[abc]`</span><span class="op" id="7971038">,</span>&nbsp;<span class="string" id="7971040">`cc{0x61-0x63}`</span><span class="op" id="7971055">}</span><span class="op" id="7971056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971059">{</span><span class="string" id="7971060">`[a-z]`</span><span class="op" id="7971067">,</span>&nbsp;<span class="string" id="7971069">`cc{0x61-0x7a}`</span><span class="op" id="7971084">}</span><span class="op" id="7971085">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971088">{</span><span class="string" id="7971089">`[a]`</span><span class="op" id="7971094">,</span>&nbsp;<span class="string" id="7971096">`lit{a}`</span><span class="op" id="7971104">}</span><span class="op" id="7971105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971108">{</span><span class="string" id="7971109">`\-`</span><span class="op" id="7971113">,</span>&nbsp;<span class="string" id="7971115">`lit{-}`</span><span class="op" id="7971123">}</span><span class="op" id="7971124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971127">{</span><span class="string" id="7971128">`-`</span><span class="op" id="7971131">,</span>&nbsp;<span class="string" id="7971133">`lit{-}`</span><span class="op" id="7971141">}</span><span class="op" id="7971142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971145">{</span><span class="string" id="7971146">`\_`</span><span class="op" id="7971150">,</span>&nbsp;<span class="string" id="7971152">`lit{_}`</span><span class="op" id="7971160">}</span><span class="op" id="7971161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971164">{</span><span class="string" id="7971165">`abc`</span><span class="op" id="7971170">,</span>&nbsp;<span class="string" id="7971172">`str{abc}`</span><span class="op" id="7971182">}</span><span class="op" id="7971183">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971186">{</span><span class="string" id="7971187">`abc|def`</span><span class="op" id="7971196">,</span>&nbsp;<span class="string" id="7971198">`alt{str{abc}str{def}}`</span><span class="op" id="7971221">}</span><span class="op" id="7971222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971225">{</span><span class="string" id="7971226">`abc|def|ghi`</span><span class="op" id="7971239">,</span>&nbsp;<span class="string" id="7971241">`alt{str{abc}str{def}str{ghi}}`</span><span class="op" id="7971272">}</span><span class="op" id="7971273">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7971277">//&nbsp;Posix&nbsp;and&nbsp;Perl&nbsp;extensions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971307">{</span><span class="string" id="7971308">`[[:lower:]]`</span><span class="op" id="7971321">,</span>&nbsp;<span class="string" id="7971323">`cc{0x61-0x7a}`</span><span class="op" id="7971338">}</span><span class="op" id="7971339">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971342">{</span><span class="string" id="7971343">`[a-z]`</span><span class="op" id="7971350">,</span>&nbsp;<span class="string" id="7971352">`cc{0x61-0x7a}`</span><span class="op" id="7971367">}</span><span class="op" id="7971368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971371">{</span><span class="string" id="7971372">`[^[:lower:]]`</span><span class="op" id="7971386">,</span>&nbsp;<span class="string" id="7971388">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7971416">}</span><span class="op" id="7971417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971420">{</span><span class="string" id="7971421">`[[:^lower:]]`</span><span class="op" id="7971435">,</span>&nbsp;<span class="string" id="7971437">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7971465">}</span><span class="op" id="7971466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971469">{</span><span class="string" id="7971470">`(?i)[[:lower:]]`</span><span class="op" id="7971487">,</span>&nbsp;<span class="string" id="7971489">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7971527">}</span><span class="op" id="7971528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971531">{</span><span class="string" id="7971532">`(?i)[a-z]`</span><span class="op" id="7971543">,</span>&nbsp;<span class="string" id="7971545">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7971583">}</span><span class="op" id="7971584">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971587">{</span><span class="string" id="7971588">`(?i)[^[:lower:]]`</span><span class="op" id="7971606">,</span>&nbsp;<span class="string" id="7971608">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7971672">}</span><span class="op" id="7971673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971676">{</span><span class="string" id="7971677">`(?i)[[:^lower:]]`</span><span class="op" id="7971695">,</span>&nbsp;<span class="string" id="7971697">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7971761">}</span><span class="op" id="7971762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971765">{</span><span class="string" id="7971766">`\d`</span><span class="op" id="7971770">,</span>&nbsp;<span class="string" id="7971772">`cc{0x30-0x39}`</span><span class="op" id="7971787">}</span><span class="op" id="7971788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971791">{</span><span class="string" id="7971792">`\D`</span><span class="op" id="7971796">,</span>&nbsp;<span class="string" id="7971798">`cc{0x0-0x2f&nbsp;0x3a-0x10ffff}`</span><span class="op" id="7971826">}</span><span class="op" id="7971827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971830">{</span><span class="string" id="7971831">`\s`</span><span class="op" id="7971835">,</span>&nbsp;<span class="string" id="7971837">`cc{0x9-0xa&nbsp;0xc-0xd&nbsp;0x20}`</span><span class="op" id="7971863">}</span><span class="op" id="7971864">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971867">{</span><span class="string" id="7971868">`\S`</span><span class="op" id="7971872">,</span>&nbsp;<span class="string" id="7971874">`cc{0x0-0x8&nbsp;0xb&nbsp;0xe-0x1f&nbsp;0x21-0x10ffff}`</span><span class="op" id="7971914">}</span><span class="op" id="7971915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971918">{</span><span class="string" id="7971919">`\w`</span><span class="op" id="7971923">,</span>&nbsp;<span class="string" id="7971925">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a}`</span><span class="op" id="7971965">}</span><span class="op" id="7971966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7971969">{</span><span class="string" id="7971970">`\W`</span><span class="op" id="7971974">,</span>&nbsp;<span class="string" id="7971976">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7972029">}</span><span class="op" id="7972030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972033">{</span><span class="string" id="7972034">`(?i)\w`</span><span class="op" id="7972042">,</span>&nbsp;<span class="string" id="7972044">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7972097">}</span><span class="op" id="7972098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972101">{</span><span class="string" id="7972102">`(?i)\W`</span><span class="op" id="7972110">,</span>&nbsp;<span class="string" id="7972112">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7972191">}</span><span class="op" id="7972192">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972195">{</span><span class="string" id="7972196">`[^\\]`</span><span class="op" id="7972203">,</span>&nbsp;<span class="string" id="7972205">`cc{0x0-0x5b&nbsp;0x5d-0x10ffff}`</span><span class="op" id="7972233">}</span><span class="op" id="7972234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7972237">//&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;`\C`,&nbsp;`byte{}`&nbsp;},&nbsp;&nbsp;//&nbsp;probably&nbsp;never</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7972281">//&nbsp;Unicode,&nbsp;negatives,&nbsp;and&nbsp;a&nbsp;double&nbsp;negative.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972328">{</span><span class="string" id="7972329">`\p{Braille}`</span><span class="op" id="7972342">,</span>&nbsp;<span class="string" id="7972344">`cc{0x2800-0x28ff}`</span><span class="op" id="7972363">}</span><span class="op" id="7972364">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972367">{</span><span class="string" id="7972368">`\P{Braille}`</span><span class="op" id="7972381">,</span>&nbsp;<span class="string" id="7972383">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7972415">}</span><span class="op" id="7972416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972419">{</span><span class="string" id="7972420">`\p{^Braille}`</span><span class="op" id="7972434">,</span>&nbsp;<span class="string" id="7972436">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7972468">}</span><span class="op" id="7972469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972472">{</span><span class="string" id="7972473">`\P{^Braille}`</span><span class="op" id="7972487">,</span>&nbsp;<span class="string" id="7972489">`cc{0x2800-0x28ff}`</span><span class="op" id="7972508">}</span><span class="op" id="7972509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972512">{</span><span class="string" id="7972513">`\pZ`</span><span class="op" id="7972518">,</span>&nbsp;<span class="string" id="7972520">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7972591">}</span><span class="op" id="7972592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972595">{</span><span class="string" id="7972596">`[\p{Braille}]`</span><span class="op" id="7972611">,</span>&nbsp;<span class="string" id="7972613">`cc{0x2800-0x28ff}`</span><span class="op" id="7972632">}</span><span class="op" id="7972633">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972636">{</span><span class="string" id="7972637">`[\P{Braille}]`</span><span class="op" id="7972652">,</span>&nbsp;<span class="string" id="7972654">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7972686">}</span><span class="op" id="7972687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972690">{</span><span class="string" id="7972691">`[\p{^Braille}]`</span><span class="op" id="7972707">,</span>&nbsp;<span class="string" id="7972709">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7972741">}</span><span class="op" id="7972742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972745">{</span><span class="string" id="7972746">`[\P{^Braille}]`</span><span class="op" id="7972762">,</span>&nbsp;<span class="string" id="7972764">`cc{0x2800-0x28ff}`</span><span class="op" id="7972783">}</span><span class="op" id="7972784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972787">{</span><span class="string" id="7972788">`[\pZ]`</span><span class="op" id="7972795">,</span>&nbsp;<span class="string" id="7972797">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7972868">}</span><span class="op" id="7972869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972872">{</span><span class="string" id="7972873">`\p{Lu}`</span><span class="op" id="7972881">,</span>&nbsp;<span class="ident" id="7972883"><a href="/gostd/regexp/syntax/parse_test.go.html#7980011">mkCharClass</a></span><span class="op" id="7972894">(</span><span class="ident" id="7972895"><a href="/gostd/regexp/syntax/parse_test.go.html#7969634">unicode</a></span><span class="op" id="7972902">.</span><span class="ident" id="7972903"><a href="/gostd/unicode/letter.go.html#1826318">IsUpper</a></span><span class="op" id="7972910">)</span><span class="op" id="7972911">}</span><span class="op" id="7972912">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972915">{</span><span class="string" id="7972916">`[\p{Lu}]`</span><span class="op" id="7972926">,</span>&nbsp;<span class="ident" id="7972928"><a href="/gostd/regexp/syntax/parse_test.go.html#7980011">mkCharClass</a></span><span class="op" id="7972939">(</span><span class="ident" id="7972940"><a href="/gostd/regexp/syntax/parse_test.go.html#7969634">unicode</a></span><span class="op" id="7972947">.</span><span class="ident" id="7972948"><a href="/gostd/unicode/letter.go.html#1826318">IsUpper</a></span><span class="op" id="7972955">)</span><span class="op" id="7972956">}</span><span class="op" id="7972957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7972960">{</span><span class="string" id="7972961">`(?i)[\p{Lu}]`</span><span class="op" id="7972975">,</span>&nbsp;<span class="ident" id="7972977"><a href="/gostd/regexp/syntax/parse_test.go.html#7980011">mkCharClass</a></span><span class="op" id="7972988">(</span><span class="ident" id="7972989"><a href="/gostd/regexp/syntax/parse_test.go.html#7980370">isUpperFold</a></span><span class="op" id="7973000">)</span><span class="op" id="7973001">}</span><span class="op" id="7973002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973005">{</span><span class="string" id="7973006">`\p{Any}`</span><span class="op" id="7973015">,</span>&nbsp;<span class="string" id="7973017">`dot{}`</span><span class="op" id="7973024">}</span><span class="op" id="7973025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973028">{</span><span class="string" id="7973029">`\p{^Any}`</span><span class="op" id="7973039">,</span>&nbsp;<span class="string" id="7973041">`cc{}`</span><span class="op" id="7973047">}</span><span class="op" id="7973048">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7973052">//&nbsp;Hex,&nbsp;octal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973068">{</span><span class="string" id="7973069">`[\012-\234]\141`</span><span class="op" id="7973086">,</span>&nbsp;<span class="string" id="7973088">`cat{cc{0xa-0x9c}lit{a}}`</span><span class="op" id="7973113">}</span><span class="op" id="7973114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973117">{</span><span class="string" id="7973118">`[\x{41}-\x7a]\x61`</span><span class="op" id="7973137">,</span>&nbsp;<span class="string" id="7973139">`cat{cc{0x41-0x7a}lit{a}}`</span><span class="op" id="7973165">}</span><span class="op" id="7973166">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7973170">//&nbsp;More&nbsp;interesting&nbsp;regular&nbsp;expressions.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973212">{</span><span class="string" id="7973213">`a{,2}`</span><span class="op" id="7973220">,</span>&nbsp;<span class="string" id="7973222">`str{a{,2}}`</span><span class="op" id="7973234">}</span><span class="op" id="7973235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973238">{</span><span class="string" id="7973239">`\.\^\$\\`</span><span class="op" id="7973249">,</span>&nbsp;<span class="string" id="7973251">`str{.^$\}`</span><span class="op" id="7973262">}</span><span class="op" id="7973263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973266">{</span><span class="string" id="7973267">`[a-zABC]`</span><span class="op" id="7973277">,</span>&nbsp;<span class="string" id="7973279">`cc{0x41-0x43&nbsp;0x61-0x7a}`</span><span class="op" id="7973304">}</span><span class="op" id="7973305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973308">{</span><span class="string" id="7973309">`[^a]`</span><span class="op" id="7973315">,</span>&nbsp;<span class="string" id="7973317">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7973345">}</span><span class="op" id="7973346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973349">{</span><span class="string" id="7973350">`[α-ε☺]`</span><span class="op" id="7973362">,</span>&nbsp;<span class="string" id="7973364">`cc{0x3b1-0x3b5&nbsp;0x263a}`</span><span class="op" id="7973388">}</span><span class="op" id="7973389">,</span>&nbsp;<span class="comment" id="7973391">//&nbsp;utf-8</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973401">{</span><span class="string" id="7973402">`a*{`</span><span class="op" id="7973407">,</span>&nbsp;<span class="string" id="7973409">`cat{star{lit{a}}lit{{}}`</span><span class="op" id="7973434">}</span><span class="op" id="7973435">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7973439">//&nbsp;Test&nbsp;precedences</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973460">{</span><span class="string" id="7973461">`(?:ab)*`</span><span class="op" id="7973470">,</span>&nbsp;<span class="string" id="7973472">`star{str{ab}}`</span><span class="op" id="7973487">}</span><span class="op" id="7973488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973491">{</span><span class="string" id="7973492">`(ab)*`</span><span class="op" id="7973499">,</span>&nbsp;<span class="string" id="7973501">`star{cap{str{ab}}}`</span><span class="op" id="7973521">}</span><span class="op" id="7973522">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973525">{</span><span class="string" id="7973526">`ab|cd`</span><span class="op" id="7973533">,</span>&nbsp;<span class="string" id="7973535">`alt{str{ab}str{cd}}`</span><span class="op" id="7973556">}</span><span class="op" id="7973557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973560">{</span><span class="string" id="7973561">`a(b|c)d`</span><span class="op" id="7973570">,</span>&nbsp;<span class="string" id="7973572">`cat{lit{a}cap{cc{0x62-0x63}}lit{d}}`</span><span class="op" id="7973609">}</span><span class="op" id="7973610">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7973614">//&nbsp;Test&nbsp;flattening.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973635">{</span><span class="string" id="7973636">`(?:a)`</span><span class="op" id="7973643">,</span>&nbsp;<span class="string" id="7973645">`lit{a}`</span><span class="op" id="7973653">}</span><span class="op" id="7973654">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973657">{</span><span class="string" id="7973658">`(?:ab)(?:cd)`</span><span class="op" id="7973672">,</span>&nbsp;<span class="string" id="7973674">`str{abcd}`</span><span class="op" id="7973685">}</span><span class="op" id="7973686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973689">{</span><span class="string" id="7973690">`(?:a+b+)(?:c+d+)`</span><span class="op" id="7973708">,</span>&nbsp;<span class="string" id="7973710">`cat{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7973765">}</span><span class="op" id="7973766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973769">{</span><span class="string" id="7973770">`(?:a+|b+)|(?:c+|d+)`</span><span class="op" id="7973791">,</span>&nbsp;<span class="string" id="7973793">`alt{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7973848">}</span><span class="op" id="7973849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973852">{</span><span class="string" id="7973853">`(?:a|b)|(?:c|d)`</span><span class="op" id="7973870">,</span>&nbsp;<span class="string" id="7973872">`cc{0x61-0x64}`</span><span class="op" id="7973887">}</span><span class="op" id="7973888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973891">{</span><span class="string" id="7973892">`a|.`</span><span class="op" id="7973897">,</span>&nbsp;<span class="string" id="7973899">`dot{}`</span><span class="op" id="7973906">}</span><span class="op" id="7973907">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973910">{</span><span class="string" id="7973911">`.|a`</span><span class="op" id="7973916">,</span>&nbsp;<span class="string" id="7973918">`dot{}`</span><span class="op" id="7973925">}</span><span class="op" id="7973926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7973929">{</span><span class="string" id="7973930">`(?:[abc]|A|Z|hello|world)`</span><span class="op" id="7973957">,</span>&nbsp;<span class="string" id="7973959">`alt{cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}str{hello}str{world}}`</span><span class="op" id="7974009">}</span><span class="op" id="7974010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974013">{</span><span class="string" id="7974014">`(?:[abc]|A|Z)`</span><span class="op" id="7974029">,</span>&nbsp;<span class="string" id="7974031">`cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}`</span><span class="op" id="7974056">}</span><span class="op" id="7974057">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7974061">//&nbsp;Test&nbsp;Perl&nbsp;quoted&nbsp;literals</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974091">{</span><span class="string" id="7974092">`\Q+|*?{[\E`</span><span class="op" id="7974104">,</span>&nbsp;<span class="string" id="7974106">`str{+|*?{[}`</span><span class="op" id="7974119">}</span><span class="op" id="7974120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974123">{</span><span class="string" id="7974124">`\Q+\E+`</span><span class="op" id="7974132">,</span>&nbsp;<span class="string" id="7974134">`plus{lit{+}}`</span><span class="op" id="7974148">}</span><span class="op" id="7974149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974152">{</span><span class="string" id="7974153">`\Q\\E`</span><span class="op" id="7974160">,</span>&nbsp;<span class="string" id="7974162">`lit{\}`</span><span class="op" id="7974170">}</span><span class="op" id="7974171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974174">{</span><span class="string" id="7974175">`\Q\\\E`</span><span class="op" id="7974183">,</span>&nbsp;<span class="string" id="7974185">`str{\\}`</span><span class="op" id="7974194">}</span><span class="op" id="7974195">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7974199">//&nbsp;Test&nbsp;Perl&nbsp;\A&nbsp;and&nbsp;\z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974223">{</span><span class="string" id="7974224">`(?m)^`</span><span class="op" id="7974231">,</span>&nbsp;<span class="string" id="7974233">`bol{}`</span><span class="op" id="7974240">}</span><span class="op" id="7974241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974244">{</span><span class="string" id="7974245">`(?m)$`</span><span class="op" id="7974252">,</span>&nbsp;<span class="string" id="7974254">`eol{}`</span><span class="op" id="7974261">}</span><span class="op" id="7974262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974265">{</span><span class="string" id="7974266">`(?-m)^`</span><span class="op" id="7974274">,</span>&nbsp;<span class="string" id="7974276">`bot{}`</span><span class="op" id="7974283">}</span><span class="op" id="7974284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974287">{</span><span class="string" id="7974288">`(?-m)$`</span><span class="op" id="7974296">,</span>&nbsp;<span class="string" id="7974298">`eot{}`</span><span class="op" id="7974305">}</span><span class="op" id="7974306">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974309">{</span><span class="string" id="7974310">`(?m)\A`</span><span class="op" id="7974318">,</span>&nbsp;<span class="string" id="7974320">`bot{}`</span><span class="op" id="7974327">}</span><span class="op" id="7974328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974331">{</span><span class="string" id="7974332">`(?m)\z`</span><span class="op" id="7974340">,</span>&nbsp;<span class="string" id="7974342">`eot{\z}`</span><span class="op" id="7974351">}</span><span class="op" id="7974352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974355">{</span><span class="string" id="7974356">`(?-m)\A`</span><span class="op" id="7974365">,</span>&nbsp;<span class="string" id="7974367">`bot{}`</span><span class="op" id="7974374">}</span><span class="op" id="7974375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974378">{</span><span class="string" id="7974379">`(?-m)\z`</span><span class="op" id="7974388">,</span>&nbsp;<span class="string" id="7974390">`eot{\z}`</span><span class="op" id="7974399">}</span><span class="op" id="7974400">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7974404">//&nbsp;Test&nbsp;named&nbsp;captures</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974428">{</span><span class="string" id="7974429">`(?P&lt;name&gt;a)`</span><span class="op" id="7974442">,</span>&nbsp;<span class="string" id="7974444">`cap{name:lit{a}}`</span><span class="op" id="7974462">}</span><span class="op" id="7974463">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7974467">//&nbsp;Case-folded&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974492">{</span><span class="string" id="7974493">`[Aa]`</span><span class="op" id="7974499">,</span>&nbsp;<span class="string" id="7974501">`litfold{A}`</span><span class="op" id="7974513">}</span><span class="op" id="7974514">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974517">{</span><span class="string" id="7974518">`[\x{100}\x{101}]`</span><span class="op" id="7974536">,</span>&nbsp;<span class="string" id="7974538">`litfold{Ā}`</span><span class="op" id="7974551">}</span><span class="op" id="7974552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974555">{</span><span class="string" id="7974556">`[Δδ]`</span><span class="op" id="7974564">,</span>&nbsp;<span class="string" id="7974566">`litfold{Δ}`</span><span class="op" id="7974579">}</span><span class="op" id="7974580">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7974584">//&nbsp;Strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974596">{</span><span class="string" id="7974597">`abcde`</span><span class="op" id="7974604">,</span>&nbsp;<span class="string" id="7974606">`str{abcde}`</span><span class="op" id="7974618">}</span><span class="op" id="7974619">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974622">{</span><span class="string" id="7974623">`[Aa][Bb]cd`</span><span class="op" id="7974635">,</span>&nbsp;<span class="string" id="7974637">`cat{strfold{AB}str{cd}}`</span><span class="op" id="7974662">}</span><span class="op" id="7974663">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7974667">//&nbsp;Factoring.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974682">{</span><span class="string" id="7974683">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7974704">,</span>&nbsp;<span class="string" id="7974706">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7974785">}</span><span class="op" id="7974786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974789">{</span><span class="string" id="7974790">`ax+y|ax+z|ay+w`</span><span class="op" id="7974806">,</span>&nbsp;<span class="string" id="7974808">`cat{lit{a}alt{cat{plus{lit{x}}cc{0x79-0x7a}}cat{plus{lit{y}}lit{w}}}}`</span><span class="op" id="7974879">}</span><span class="op" id="7974880">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7974884">//&nbsp;Bug&nbsp;fixes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974899">{</span><span class="string" id="7974900">`(?:.)`</span><span class="op" id="7974907">,</span>&nbsp;<span class="string" id="7974909">`dot{}`</span><span class="op" id="7974916">}</span><span class="op" id="7974917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974920">{</span><span class="string" id="7974921">`(?:x|(?:xa))`</span><span class="op" id="7974935">,</span>&nbsp;<span class="string" id="7974937">`cat{lit{x}alt{emp{}lit{a}}}`</span><span class="op" id="7974966">}</span><span class="op" id="7974967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7974970">{</span><span class="string" id="7974971">`(?:.|(?:.a))`</span><span class="op" id="7974985">,</span>&nbsp;<span class="string" id="7974987">`cat{dot{}alt{emp{}lit{a}}}`</span><span class="op" id="7975015">}</span><span class="op" id="7975016">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975019">{</span><span class="string" id="7975020">`(?:A(?:A|a))`</span><span class="op" id="7975034">,</span>&nbsp;<span class="string" id="7975036">`cat{lit{A}litfold{A}}`</span><span class="op" id="7975059">}</span><span class="op" id="7975060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975063">{</span><span class="string" id="7975064">`(?:A|a)`</span><span class="op" id="7975073">,</span>&nbsp;<span class="string" id="7975075">`litfold{A}`</span><span class="op" id="7975087">}</span><span class="op" id="7975088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975091">{</span><span class="string" id="7975092">`A|(?:A|a)`</span><span class="op" id="7975103">,</span>&nbsp;<span class="string" id="7975105">`litfold{A}`</span><span class="op" id="7975117">}</span><span class="op" id="7975118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975121">{</span><span class="string" id="7975122">`(?s).`</span><span class="op" id="7975129">,</span>&nbsp;<span class="string" id="7975131">`dot{}`</span><span class="op" id="7975138">}</span><span class="op" id="7975139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975142">{</span><span class="string" id="7975143">`(?-s).`</span><span class="op" id="7975151">,</span>&nbsp;<span class="string" id="7975153">`dnl{}`</span><span class="op" id="7975160">}</span><span class="op" id="7975161">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975164">{</span><span class="string" id="7975165">`(?:(?:^).)`</span><span class="op" id="7975177">,</span>&nbsp;<span class="string" id="7975179">`cat{bol{}dot{}}`</span><span class="op" id="7975196">}</span><span class="op" id="7975197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975200">{</span><span class="string" id="7975201">`(?-s)(?:(?:^).)`</span><span class="op" id="7975218">,</span>&nbsp;<span class="string" id="7975220">`cat{bol{}dnl{}}`</span><span class="op" id="7975237">}</span><span class="op" id="7975238">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7975242">//&nbsp;RE2&nbsp;prefix_tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975263">{</span><span class="string" id="7975264">`abc|abd`</span><span class="op" id="7975273">,</span>&nbsp;<span class="string" id="7975275">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7975302">}</span><span class="op" id="7975303">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975306">{</span><span class="string" id="7975307">`a(?:b)c|abd`</span><span class="op" id="7975320">,</span>&nbsp;<span class="string" id="7975322">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7975349">}</span><span class="op" id="7975350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975353">{</span><span class="string" id="7975354">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7975375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7975379">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}`</span>&nbsp;<span class="op" id="7975433">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7975438">`cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7975466">}</span><span class="op" id="7975467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975470">{</span><span class="string" id="7975471">`abc|x|abd`</span><span class="op" id="7975482">,</span>&nbsp;<span class="string" id="7975484">`alt{str{abc}lit{x}str{abd}}`</span><span class="op" id="7975513">}</span><span class="op" id="7975514">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975517">{</span><span class="string" id="7975518">`(?i)abc|ABD`</span><span class="op" id="7975531">,</span>&nbsp;<span class="string" id="7975533">`cat{strfold{AB}cc{0x43-0x44&nbsp;0x63-0x64}}`</span><span class="op" id="7975574">}</span><span class="op" id="7975575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975578">{</span><span class="string" id="7975579">`[ab]c|[ab]d`</span><span class="op" id="7975592">,</span>&nbsp;<span class="string" id="7975594">`cat{cc{0x61-0x62}cc{0x63-0x64}}`</span><span class="op" id="7975627">}</span><span class="op" id="7975628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975631">{</span><span class="string" id="7975632">`(?:xx|yy)c|(?:xx|yy)d`</span><span class="op" id="7975655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7975659">`cat{alt{str{xx}str{yy}}cc{0x63-0x64}}`</span><span class="op" id="7975698">}</span><span class="op" id="7975699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975702">{</span><span class="string" id="7975703">`x{2}|x{2}[0-9]`</span><span class="op" id="7975719">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7975723">`cat{rep{2,2&nbsp;lit{x}}alt{emp{}cc{0x30-0x39}}}`</span><span class="op" id="7975768">}</span><span class="op" id="7975769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975772">{</span><span class="string" id="7975773">`x{2}y|x{2}[0-9]y`</span><span class="op" id="7975791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7975795">`cat{rep{2,2&nbsp;lit{x}}alt{lit{y}cat{cc{0x30-0x39}lit{y}}}}`</span><span class="op" id="7975852">}</span><span class="op" id="7975853">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7975857">//&nbsp;Valid&nbsp;repetitions.</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975880">{</span><span class="string" id="7975881">`((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}))`</span><span class="op" id="7975931">,</span>&nbsp;<span class="string" id="7975933">``</span><span class="op" id="7975935">}</span><span class="op" id="7975936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975939">{</span><span class="string" id="7975940">`((((((((((x{1}){2}){2}){2}){2}){2}){2}){2}){2}){2})`</span><span class="op" id="7975993">,</span>&nbsp;<span class="string" id="7975995">``</span><span class="op" id="7975997">}</span><span class="op" id="7975998">,</span><br>
<span class="lineno"></span><span class="op" id="7976000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7976003">const</span>&nbsp;<span class="ident" id="7976009">testFlags</span>&nbsp;<span class="op" id="7976019">=</span>&nbsp;<span class="ident" id="7976021"><a href="/gostd/regexp/syntax/parse.go.html#3611935">MatchNL</a></span>&nbsp;<span class="op" id="7976029">|</span>&nbsp;<span class="ident" id="7976031"><a href="/gostd/regexp/syntax/parse.go.html#3611645">PerlX</a></span>&nbsp;<span class="op" id="7976037">|</span>&nbsp;<span class="ident" id="7976039"><a href="/gostd/regexp/syntax/parse.go.html#3611703">UnicodeGroups</a></span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="7976054">func</span>&nbsp;<span class="ident" id="7976059">TestParseSimple</span><span class="op" id="7976074">(</span><span class="ident" id="7976075">t</span>&nbsp;<span class="op" id="7976077">*</span><span class="ident" id="7976078"><a href="/gostd/regexp/syntax/parse_test.go.html#7969623">testing</a></span><span class="op" id="7976085">.</span><span class="ident" id="7976086"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7976087">)</span>&nbsp;<span class="op" id="7976089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7976092"><a href="/gostd/regexp/syntax/parse_test.go.html#7977296">testParseDump</a></span><span class="op" id="7976105">(</span><span class="ident" id="7976106"><a href="/gostd/regexp/syntax/parse_test.go.html#7976075">t</a></span><span class="op" id="7976107">,</span>&nbsp;<span class="ident" id="7976109"><a href="/gostd/regexp/syntax/parse_test.go.html#7969708">parseTests</a></span><span class="op" id="7976119">,</span>&nbsp;<span class="ident" id="7976121"><a href="/gostd/regexp/syntax/parse_test.go.html#7976009">testFlags</a></span><span class="op" id="7976130">)</span><br>
<span class="lineno"></span><span class="op" id="7976132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="7976135">var</span>&nbsp;<span class="ident" id="7976139">foldcaseTests</span>&nbsp;<span class="op" id="7976153">=</span>&nbsp;<span class="op" id="7976155">[</span><span class="op" id="7976156">]</span><span class="ident" id="7976157"><a href="/gostd/regexp/syntax/parse_test.go.html#7969652">parseTest</a></span><span class="op" id="7976166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7976169">{</span><span class="string" id="7976170">`AbCdE`</span><span class="op" id="7976177">,</span>&nbsp;<span class="string" id="7976179">`strfold{ABCDE}`</span><span class="op" id="7976195">}</span><span class="op" id="7976196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7976199">{</span><span class="string" id="7976200">`[Aa]`</span><span class="op" id="7976206">,</span>&nbsp;<span class="string" id="7976208">`litfold{A}`</span><span class="op" id="7976220">}</span><span class="op" id="7976221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7976224">{</span><span class="string" id="7976225">`a`</span><span class="op" id="7976228">,</span>&nbsp;<span class="string" id="7976230">`litfold{A}`</span><span class="op" id="7976242">}</span><span class="op" id="7976243">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7976247">//&nbsp;0x17F&nbsp;is&nbsp;an&nbsp;old&nbsp;English&nbsp;long&nbsp;s&nbsp;(looks&nbsp;like&nbsp;an&nbsp;f)&nbsp;and&nbsp;folds&nbsp;to&nbsp;s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7976316">//&nbsp;0x212A&nbsp;is&nbsp;the&nbsp;Kelvin&nbsp;symbol&nbsp;and&nbsp;folds&nbsp;to&nbsp;k.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7976364">{</span><span class="string" id="7976365">`A[F-g]`</span><span class="op" id="7976373">,</span>&nbsp;<span class="string" id="7976375">`cat{litfold{A}cc{0x41-0x7a&nbsp;0x17f&nbsp;0x212a}}`</span><span class="op" id="7976418">}</span><span class="op" id="7976419">,</span>&nbsp;<span class="comment" id="7976421">//&nbsp;[Aa][A-z...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7976438">{</span><span class="string" id="7976439">`[[:upper:]]`</span><span class="op" id="7976452">,</span>&nbsp;<span class="string" id="7976454">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7976492">}</span><span class="op" id="7976493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7976496">{</span><span class="string" id="7976497">`[[:lower:]]`</span><span class="op" id="7976510">,</span>&nbsp;<span class="string" id="7976512">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7976550">}</span><span class="op" id="7976551">,</span><br>
<span class="lineno">225</span><span class="op" id="7976553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7976556">func</span>&nbsp;<span class="ident" id="7976561">TestParseFoldCase</span><span class="op" id="7976578">(</span><span class="ident" id="7976579">t</span>&nbsp;<span class="op" id="7976581">*</span><span class="ident" id="7976582"><a href="/gostd/regexp/syntax/parse_test.go.html#7969623">testing</a></span><span class="op" id="7976589">.</span><span class="ident" id="7976590"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7976591">)</span>&nbsp;<span class="op" id="7976593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7976596"><a href="/gostd/regexp/syntax/parse_test.go.html#7977296">testParseDump</a></span><span class="op" id="7976609">(</span><span class="ident" id="7976610"><a href="/gostd/regexp/syntax/parse_test.go.html#7976579">t</a></span><span class="op" id="7976611">,</span>&nbsp;<span class="ident" id="7976613"><a href="/gostd/regexp/syntax/parse_test.go.html#7976139">foldcaseTests</a></span><span class="op" id="7976626">,</span>&nbsp;<span class="ident" id="7976628"><a href="/gostd/regexp/syntax/parse.go.html#3611172">FoldCase</a></span><span class="op" id="7976636">)</span><br>
<span class="lineno"></span><span class="op" id="7976638">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="7976641">var</span>&nbsp;<span class="ident" id="7976645">literalTests</span>&nbsp;<span class="op" id="7976658">=</span>&nbsp;<span class="op" id="7976660">[</span><span class="op" id="7976661">]</span><span class="ident" id="7976662"><a href="/gostd/regexp/syntax/parse_test.go.html#7969652">parseTest</a></span><span class="op" id="7976671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7976674">{</span><span class="string" id="7976675">&#34;(|)^$.[*+?]{5,10},\\&#34;</span><span class="op" id="7976697">,</span>&nbsp;<span class="string" id="7976699">&#34;str{(|)^$.[*+?]{5,10},\\}&#34;</span><span class="op" id="7976726">}</span><span class="op" id="7976727">,</span><br>
<span class="lineno"></span><span class="op" id="7976729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="7976732">func</span>&nbsp;<span class="ident" id="7976737">TestParseLiteral</span><span class="op" id="7976753">(</span><span class="ident" id="7976754">t</span>&nbsp;<span class="op" id="7976756">*</span><span class="ident" id="7976757"><a href="/gostd/regexp/syntax/parse_test.go.html#7969623">testing</a></span><span class="op" id="7976764">.</span><span class="ident" id="7976765"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7976766">)</span>&nbsp;<span class="op" id="7976768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7976771"><a href="/gostd/regexp/syntax/parse_test.go.html#7977296">testParseDump</a></span><span class="op" id="7976784">(</span><span class="ident" id="7976785"><a href="/gostd/regexp/syntax/parse_test.go.html#7976754">t</a></span><span class="op" id="7976786">,</span>&nbsp;<span class="ident" id="7976788"><a href="/gostd/regexp/syntax/parse_test.go.html#7976645">literalTests</a></span><span class="op" id="7976800">,</span>&nbsp;<span class="ident" id="7976802"><a href="/gostd/regexp/syntax/parse.go.html#3611231">Literal</a></span><span class="op" id="7976809">)</span><br>
<span class="lineno"></span><span class="op" id="7976811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7976814">var</span>&nbsp;<span class="ident" id="7976818">matchnlTests</span>&nbsp;<span class="op" id="7976831">=</span>&nbsp;<span class="op" id="7976833">[</span><span class="op" id="7976834">]</span><span class="ident" id="7976835"><a href="/gostd/regexp/syntax/parse_test.go.html#7969652">parseTest</a></span><span class="op" id="7976844">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7976847">{</span><span class="string" id="7976848">`.`</span><span class="op" id="7976851">,</span>&nbsp;<span class="string" id="7976853">`dot{}`</span><span class="op" id="7976860">}</span><span class="op" id="7976861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7976864">{</span><span class="string" id="7976865">&#34;\n&#34;</span><span class="op" id="7976869">,</span>&nbsp;<span class="string" id="7976871">&#34;lit{\n}&#34;</span><span class="op" id="7976880">}</span><span class="op" id="7976881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7976884">{</span><span class="string" id="7976885">`[^a]`</span><span class="op" id="7976891">,</span>&nbsp;<span class="string" id="7976893">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7976921">}</span><span class="op" id="7976922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7976925">{</span><span class="string" id="7976926">`[a\n]`</span><span class="op" id="7976933">,</span>&nbsp;<span class="string" id="7976935">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7976949">}</span><span class="op" id="7976950">,</span><br>
<span class="lineno"></span><span class="op" id="7976952">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="keyword" id="7976955">func</span>&nbsp;<span class="ident" id="7976960">TestParseMatchNL</span><span class="op" id="7976976">(</span><span class="ident" id="7976977">t</span>&nbsp;<span class="op" id="7976979">*</span><span class="ident" id="7976980"><a href="/gostd/regexp/syntax/parse_test.go.html#7969623">testing</a></span><span class="op" id="7976987">.</span><span class="ident" id="7976988"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7976989">)</span>&nbsp;<span class="op" id="7976991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7976994"><a href="/gostd/regexp/syntax/parse_test.go.html#7977296">testParseDump</a></span><span class="op" id="7977007">(</span><span class="ident" id="7977008"><a href="/gostd/regexp/syntax/parse_test.go.html#7976977">t</a></span><span class="op" id="7977009">,</span>&nbsp;<span class="ident" id="7977011"><a href="/gostd/regexp/syntax/parse_test.go.html#7976818">matchnlTests</a></span><span class="op" id="7977023">,</span>&nbsp;<span class="ident" id="7977025"><a href="/gostd/regexp/syntax/parse.go.html#3611935">MatchNL</a></span><span class="op" id="7977032">)</span><br>
<span class="lineno"></span><span class="op" id="7977034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="7977037">var</span>&nbsp;<span class="ident" id="7977041">nomatchnlTests</span>&nbsp;<span class="op" id="7977056">=</span>&nbsp;<span class="op" id="7977058">[</span><span class="op" id="7977059">]</span><span class="ident" id="7977060"><a href="/gostd/regexp/syntax/parse_test.go.html#7969652">parseTest</a></span><span class="op" id="7977069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7977072">{</span><span class="string" id="7977073">`.`</span><span class="op" id="7977076">,</span>&nbsp;<span class="string" id="7977078">`dnl{}`</span><span class="op" id="7977085">}</span><span class="op" id="7977086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7977089">{</span><span class="string" id="7977090">&#34;\n&#34;</span><span class="op" id="7977094">,</span>&nbsp;<span class="string" id="7977096">&#34;lit{\n}&#34;</span><span class="op" id="7977105">}</span><span class="op" id="7977106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7977109">{</span><span class="string" id="7977110">`[^a]`</span><span class="op" id="7977116">,</span>&nbsp;<span class="string" id="7977118">`cc{0x0-0x9&nbsp;0xb-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7977154">}</span><span class="op" id="7977155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7977158">{</span><span class="string" id="7977159">`[a\n]`</span><span class="op" id="7977166">,</span>&nbsp;<span class="string" id="7977168">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7977182">}</span><span class="op" id="7977183">,</span><br>
<span class="lineno">255</span><span class="op" id="7977185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7977188">func</span>&nbsp;<span class="ident" id="7977193">TestParseNoMatchNL</span><span class="op" id="7977211">(</span><span class="ident" id="7977212">t</span>&nbsp;<span class="op" id="7977214">*</span><span class="ident" id="7977215"><a href="/gostd/regexp/syntax/parse_test.go.html#7969623">testing</a></span><span class="op" id="7977222">.</span><span class="ident" id="7977223"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7977224">)</span>&nbsp;<span class="op" id="7977226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7977229"><a href="/gostd/regexp/syntax/parse_test.go.html#7977296">testParseDump</a></span><span class="op" id="7977242">(</span><span class="ident" id="7977243"><a href="/gostd/regexp/syntax/parse_test.go.html#7977212">t</a></span><span class="op" id="7977244">,</span>&nbsp;<span class="ident" id="7977246"><a href="/gostd/regexp/syntax/parse_test.go.html#7977041">nomatchnlTests</a></span><span class="op" id="7977260">,</span>&nbsp;<span class="num" id="7977262">0</span><span class="op" id="7977263">)</span><br>
<span class="lineno"></span><span class="op" id="7977265">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="7977268">//&nbsp;Test&nbsp;Parse&nbsp;-&gt;&nbsp;Dump.</span><br>
<span class="lineno"></span><span class="keyword" id="7977291">func</span>&nbsp;<span class="ident" id="7977296">testParseDump</span><span class="op" id="7977309">(</span><span class="ident" id="7977310">t</span>&nbsp;<span class="op" id="7977312">*</span><span class="ident" id="7977313"><a href="/gostd/regexp/syntax/parse_test.go.html#7969623">testing</a></span><span class="op" id="7977320">.</span><span class="ident" id="7977321"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7977322">,</span>&nbsp;<span class="ident" id="7977324">tests</span>&nbsp;<span class="op" id="7977330">[</span><span class="op" id="7977331">]</span><span class="ident" id="7977332"><a href="/gostd/regexp/syntax/parse_test.go.html#7969652">parseTest</a></span><span class="op" id="7977341">,</span>&nbsp;<span class="ident" id="7977343">flags</span>&nbsp;<span class="ident" id="7977349"><a href="/gostd/regexp/syntax/parse.go.html#3611149">Flags</a></span><span class="op" id="7977354">)</span>&nbsp;<span class="op" id="7977356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7977359">for</span>&nbsp;<span class="ident" id="7977363">_</span><span class="op" id="7977364">,</span>&nbsp;<span class="ident" id="7977366">tt</span>&nbsp;<span class="op" id="7977369">:=</span>&nbsp;<span class="keyword" id="7977372">range</span>&nbsp;<span class="ident" id="7977378"><a href="/gostd/regexp/syntax/parse_test.go.html#7977324">tests</a></span>&nbsp;<span class="op" id="7977384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7977388">re</span><span class="op" id="7977390">,</span>&nbsp;<span class="ident" id="7977392">err</span>&nbsp;<span class="op" id="7977396">:=</span>&nbsp;<span class="ident" id="7977399"><a href="/gostd/regexp/syntax/parse.go.html#3628333">Parse</a></span><span class="op" id="7977404">(</span><span class="ident" id="7977405"><a href="/gostd/regexp/syntax/parse_test.go.html#7977366">tt</a></span><span class="op" id="7977407">.</span><span class="ident" id="7977408"><a href="/gostd/regexp/syntax/parse_test.go.html#7969672">Regexp</a></span><span class="op" id="7977414">,</span>&nbsp;<span class="ident" id="7977416"><a href="/gostd/regexp/syntax/parse_test.go.html#7977343">flags</a></span><span class="op" id="7977421">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7977425">if</span>&nbsp;<span class="ident" id="7977428"><a href="/gostd/regexp/syntax/parse_test.go.html#7977392">err</a></span>&nbsp;<span class="op" id="7977432">!=</span>&nbsp;<span class="builtintype" id="7977435">nil</span>&nbsp;<span class="op" id="7977439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7977444"><a href="/gostd/regexp/syntax/parse_test.go.html#7977310">t</a></span><span class="op" id="7977445">.</span><span class="ident" id="7977446"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7977452">(</span><span class="string" id="7977453">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7977469">,</span>&nbsp;<span class="ident" id="7977471"><a href="/gostd/regexp/syntax/parse_test.go.html#7977366">tt</a></span><span class="op" id="7977473">.</span><span class="ident" id="7977474"><a href="/gostd/regexp/syntax/parse_test.go.html#7969672">Regexp</a></span><span class="op" id="7977480">,</span>&nbsp;<span class="ident" id="7977482"><a href="/gostd/regexp/syntax/parse_test.go.html#7977392">err</a></span><span class="op" id="7977485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7977490">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7977501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7977505">if</span>&nbsp;<span class="ident" id="7977508"><a href="/gostd/regexp/syntax/parse_test.go.html#7977366">tt</a></span><span class="op" id="7977510">.</span><span class="ident" id="7977511"><a href="/gostd/regexp/syntax/parse_test.go.html#7969687">Dump</a></span>&nbsp;<span class="op" id="7977516">==</span>&nbsp;<span class="string" id="7977519">&#34;&#34;</span>&nbsp;<span class="op" id="7977522">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7977527">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7977570">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7977581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7977585">d</span>&nbsp;<span class="op" id="7977587">:=</span>&nbsp;<span class="ident" id="7977590"><a href="/gostd/regexp/syntax/parse_test.go.html#7977795">dump</a></span><span class="op" id="7977594">(</span><span class="ident" id="7977595"><a href="/gostd/regexp/syntax/parse_test.go.html#7977388">re</a></span><span class="op" id="7977597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7977601">if</span>&nbsp;<span class="ident" id="7977604"><a href="/gostd/regexp/syntax/parse_test.go.html#7977585">d</a></span>&nbsp;<span class="op" id="7977606">!=</span>&nbsp;<span class="ident" id="7977609"><a href="/gostd/regexp/syntax/parse_test.go.html#7977366">tt</a></span><span class="op" id="7977611">.</span><span class="ident" id="7977612"><a href="/gostd/regexp/syntax/parse_test.go.html#7969687">Dump</a></span>&nbsp;<span class="op" id="7977617">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7977622"><a href="/gostd/regexp/syntax/parse_test.go.html#7977310">t</a></span><span class="op" id="7977623">.</span><span class="ident" id="7977624"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7977630">(</span><span class="string" id="7977631">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7977665">,</span>&nbsp;<span class="ident" id="7977667"><a href="/gostd/regexp/syntax/parse_test.go.html#7977366">tt</a></span><span class="op" id="7977669">.</span><span class="ident" id="7977670"><a href="/gostd/regexp/syntax/parse_test.go.html#7969672">Regexp</a></span><span class="op" id="7977676">,</span>&nbsp;<span class="ident" id="7977678"><a href="/gostd/regexp/syntax/parse_test.go.html#7977585">d</a></span><span class="op" id="7977679">,</span>&nbsp;<span class="ident" id="7977681"><a href="/gostd/regexp/syntax/parse_test.go.html#7977366">tt</a></span><span class="op" id="7977683">.</span><span class="ident" id="7977684"><a href="/gostd/regexp/syntax/parse_test.go.html#7969687">Dump</a></span><span class="op" id="7977688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7977692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7977695">}</span><br>
<span class="lineno"></span><span class="op" id="7977697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="comment" id="7977700">//&nbsp;dump&nbsp;prints&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;regexp&nbsp;showing</span><br>
<span class="lineno"></span><span class="comment" id="7977761">//&nbsp;the&nbsp;structure&nbsp;explicitly.</span><br>
<span class="lineno"></span><span class="keyword" id="7977790">func</span>&nbsp;<span class="ident" id="7977795">dump</span><span class="op" id="7977799">(</span><span class="ident" id="7977800">re</span>&nbsp;<span class="op" id="7977803">*</span><span class="ident" id="7977804"><a href="/gostd/regexp/syntax/regexp.go.html#3666871">Regexp</a></span><span class="op" id="7977810">)</span>&nbsp;<span class="builtintype" id="7977812">string</span>&nbsp;<span class="op" id="7977819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7977822">var</span>&nbsp;<span class="ident" id="7977826">b</span>&nbsp;<span class="ident" id="7977828"><a href="/gostd/regexp/syntax/parse_test.go.html#7969607">bytes</a></span><span class="op" id="7977833">.</span><span class="ident" id="7977834"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7977842"><a href="/gostd/regexp/syntax/parse_test.go.html#7978598">dumpRegexp</a></span><span class="op" id="7977852">(</span><span class="op" id="7977853">&amp;</span><span class="ident" id="7977854"><a href="/gostd/regexp/syntax/parse_test.go.html#7977826">b</a></span><span class="op" id="7977855">,</span>&nbsp;<span class="ident" id="7977857"><a href="/gostd/regexp/syntax/parse_test.go.html#7977800">re</a></span><span class="op" id="7977859">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7977862">return</span>&nbsp;<span class="ident" id="7977869"><a href="/gostd/regexp/syntax/parse_test.go.html#7977826">b</a></span><span class="op" id="7977870">.</span><span class="ident" id="7977871"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7977877">(</span><span class="op" id="7977878">)</span><br>
<span class="lineno"></span><span class="op" id="7977880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7977883">var</span>&nbsp;<span class="ident" id="7977887">opNames</span>&nbsp;<span class="op" id="7977895">=</span>&nbsp;<span class="op" id="7977897">[</span><span class="op" id="7977898">]</span><span class="builtintype" id="7977899">string</span><span class="op" id="7977905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7977908"><a href="/gostd/regexp/syntax/regexp.go.html#3667562">OpNoMatch</a></span><span class="op" id="7977917">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7977926">&#34;no&#34;</span><span class="op" id="7977930">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7977933"><a href="/gostd/regexp/syntax/regexp.go.html#3667616">OpEmptyMatch</a></span><span class="op" id="7977945">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7977951">&#34;emp&#34;</span><span class="op" id="7977956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7977959"><a href="/gostd/regexp/syntax/regexp.go.html#3667672">OpLiteral</a></span><span class="op" id="7977968">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7977977">&#34;lit&#34;</span><span class="op" id="7977982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7977985"><a href="/gostd/regexp/syntax/regexp.go.html#3667730">OpCharClass</a></span><span class="op" id="7977996">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978003">&#34;cc&#34;</span><span class="op" id="7978007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978010"><a href="/gostd/regexp/syntax/regexp.go.html#3667810">OpAnyCharNotNL</a></span><span class="op" id="7978024">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7978028">&#34;dnl&#34;</span><span class="op" id="7978033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978036"><a href="/gostd/regexp/syntax/regexp.go.html#3667882">OpAnyChar</a></span><span class="op" id="7978045">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978054">&#34;dot&#34;</span><span class="op" id="7978059">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978062"><a href="/gostd/regexp/syntax/regexp.go.html#3667939">OpBeginLine</a></span><span class="op" id="7978073">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978080">&#34;bol&#34;</span><span class="op" id="7978085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978088"><a href="/gostd/regexp/syntax/regexp.go.html#3668016">OpEndLine</a></span><span class="op" id="7978097">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978106">&#34;eol&#34;</span><span class="op" id="7978111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978114"><a href="/gostd/regexp/syntax/regexp.go.html#3668087">OpBeginText</a></span><span class="op" id="7978125">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978132">&#34;bot&#34;</span><span class="op" id="7978137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978140"><a href="/gostd/regexp/syntax/regexp.go.html#3668164">OpEndText</a></span><span class="op" id="7978149">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978158">&#34;eot&#34;</span><span class="op" id="7978163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978166"><a href="/gostd/regexp/syntax/regexp.go.html#3668235">OpWordBoundary</a></span><span class="op" id="7978180">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7978184">&#34;wb&#34;</span><span class="op" id="7978188">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978191"><a href="/gostd/regexp/syntax/regexp.go.html#3668297">OpNoWordBoundary</a></span><span class="op" id="7978207">:</span>&nbsp;<span class="string" id="7978209">&#34;nwb&#34;</span><span class="op" id="7978214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978217"><a href="/gostd/regexp/syntax/regexp.go.html#3668363">OpCapture</a></span><span class="op" id="7978226">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978235">&#34;cap&#34;</span><span class="op" id="7978240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978243"><a href="/gostd/regexp/syntax/regexp.go.html#3668457">OpStar</a></span><span class="op" id="7978249">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978261">&#34;star&#34;</span><span class="op" id="7978267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978270"><a href="/gostd/regexp/syntax/regexp.go.html#3668526">OpPlus</a></span><span class="op" id="7978276">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978288">&#34;plus&#34;</span><span class="op" id="7978294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978297"><a href="/gostd/regexp/syntax/regexp.go.html#3668594">OpQuest</a></span><span class="op" id="7978304">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978315">&#34;que&#34;</span><span class="op" id="7978320">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978323"><a href="/gostd/regexp/syntax/regexp.go.html#3668662">OpRepeat</a></span><span class="op" id="7978331">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978341">&#34;rep&#34;</span><span class="op" id="7978346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978349"><a href="/gostd/regexp/syntax/regexp.go.html#3668768">OpConcat</a></span><span class="op" id="7978357">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978367">&#34;cat&#34;</span><span class="op" id="7978372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978375"><a href="/gostd/regexp/syntax/regexp.go.html#3668833">OpAlternate</a></span><span class="op" id="7978386">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7978393">&#34;alt&#34;</span><span class="op" id="7978398">,</span><br>
<span class="lineno"></span><span class="op" id="7978400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="comment" id="7978403">//&nbsp;dumpRegexp&nbsp;writes&nbsp;an&nbsp;encoding&nbsp;of&nbsp;the&nbsp;syntax&nbsp;tree&nbsp;for&nbsp;the&nbsp;regexp&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno"></span><span class="comment" id="7978479">//&nbsp;It&nbsp;is&nbsp;used&nbsp;during&nbsp;testing&nbsp;to&nbsp;distinguish&nbsp;between&nbsp;parses&nbsp;that&nbsp;might&nbsp;print</span><br>
<span class="lineno"></span><span class="comment" id="7978555">//&nbsp;the&nbsp;same&nbsp;using&nbsp;re&#39;s&nbsp;String&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="7978593">func</span>&nbsp;<span class="ident" id="7978598">dumpRegexp</span><span class="op" id="7978608">(</span><span class="ident" id="7978609">b</span>&nbsp;<span class="op" id="7978611">*</span><span class="ident" id="7978612"><a href="/gostd/regexp/syntax/parse_test.go.html#7969607">bytes</a></span><span class="op" id="7978617">.</span><span class="ident" id="7978618"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="7978624">,</span>&nbsp;<span class="ident" id="7978626">re</span>&nbsp;<span class="op" id="7978629">*</span><span class="ident" id="7978630"><a href="/gostd/regexp/syntax/regexp.go.html#3666871">Regexp</a></span><span class="op" id="7978636">)</span>&nbsp;<span class="op" id="7978638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7978641">if</span>&nbsp;<span class="builtintype" id="7978644">int</span><span class="op" id="7978647">(</span><span class="ident" id="7978648"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7978650">.</span><span class="ident" id="7978651"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span><span class="op" id="7978653">)</span>&nbsp;<span class="op" id="7978655">&gt;=</span>&nbsp;<span class="builtinfunc" id="7978658">len</span><span class="op" id="7978661">(</span><span class="ident" id="7978662"><a href="/gostd/regexp/syntax/parse_test.go.html#7977887">opNames</a></span><span class="op" id="7978669">)</span>&nbsp;<span class="op" id="7978671">||</span>&nbsp;<span class="ident" id="7978674"><a href="/gostd/regexp/syntax/parse_test.go.html#7977887">opNames</a></span><span class="op" id="7978681">[</span><span class="ident" id="7978682"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7978684">.</span><span class="ident" id="7978685"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span><span class="op" id="7978687">]</span>&nbsp;<span class="op" id="7978689">==</span>&nbsp;<span class="string" id="7978692">&#34;&#34;</span>&nbsp;<span class="op" id="7978695">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978699"><a href="/gostd/regexp/syntax/parse_test.go.html#7969616">fmt</a></span><span class="op" id="7978702">.</span><span class="ident" id="7978703"><a href="/gostd/fmt/print.go.html#2143118">Fprintf</a></span><span class="op" id="7978710">(</span><span class="ident" id="7978711"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7978712">,</span>&nbsp;<span class="string" id="7978714">&#34;op%d&#34;</span><span class="op" id="7978720">,</span>&nbsp;<span class="ident" id="7978722"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7978724">.</span><span class="ident" id="7978725"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span><span class="op" id="7978727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7978730">}</span>&nbsp;<span class="keyword" id="7978732">else</span>&nbsp;<span class="op" id="7978737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7978741">switch</span>&nbsp;<span class="ident" id="7978748"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7978750">.</span><span class="ident" id="7978751"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span>&nbsp;<span class="op" id="7978754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7978758">default</span><span class="op" id="7978765">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978770"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7978771">.</span><span class="ident" id="7978772"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7978783">(</span><span class="ident" id="7978784"><a href="/gostd/regexp/syntax/parse_test.go.html#7977887">opNames</a></span><span class="op" id="7978791">[</span><span class="ident" id="7978792"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7978794">.</span><span class="ident" id="7978795"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span><span class="op" id="7978797">]</span><span class="op" id="7978798">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7978802">case</span>&nbsp;<span class="ident" id="7978807"><a href="/gostd/regexp/syntax/regexp.go.html#3668457">OpStar</a></span><span class="op" id="7978813">,</span>&nbsp;<span class="ident" id="7978815"><a href="/gostd/regexp/syntax/regexp.go.html#3668526">OpPlus</a></span><span class="op" id="7978821">,</span>&nbsp;<span class="ident" id="7978823"><a href="/gostd/regexp/syntax/regexp.go.html#3668594">OpQuest</a></span><span class="op" id="7978830">,</span>&nbsp;<span class="ident" id="7978832"><a href="/gostd/regexp/syntax/regexp.go.html#3668662">OpRepeat</a></span><span class="op" id="7978840">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7978845">if</span>&nbsp;<span class="ident" id="7978848"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7978850">.</span><span class="ident" id="7978851"><a href="/gostd/regexp/syntax/regexp.go.html#3666913">Flags</a></span><span class="op" id="7978856">&amp;</span><span class="ident" id="7978857"><a href="/gostd/regexp/syntax/parse.go.html#3611561">NonGreedy</a></span>&nbsp;<span class="op" id="7978867">!=</span>&nbsp;<span class="num" id="7978870">0</span>&nbsp;<span class="op" id="7978872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978878"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7978879">.</span><span class="ident" id="7978880"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="7978889">(</span><span class="string" id="7978890">&#39;n&#39;</span><span class="op" id="7978893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7978898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978903"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7978904">.</span><span class="ident" id="7978905"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7978916">(</span><span class="ident" id="7978917"><a href="/gostd/regexp/syntax/parse_test.go.html#7977887">opNames</a></span><span class="op" id="7978924">[</span><span class="ident" id="7978925"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7978927">.</span><span class="ident" id="7978928"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span><span class="op" id="7978930">]</span><span class="op" id="7978931">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7978935">case</span>&nbsp;<span class="ident" id="7978940"><a href="/gostd/regexp/syntax/regexp.go.html#3667672">OpLiteral</a></span><span class="op" id="7978949">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7978954">if</span>&nbsp;<span class="builtinfunc" id="7978957">len</span><span class="op" id="7978960">(</span><span class="ident" id="7978961"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7978963">.</span><span class="ident" id="7978964"><a href="/gostd/regexp/syntax/regexp.go.html#3667022">Rune</a></span><span class="op" id="7978968">)</span>&nbsp;<span class="op" id="7978970">&gt;</span>&nbsp;<span class="num" id="7978972">1</span>&nbsp;<span class="op" id="7978974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7978980"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7978981">.</span><span class="ident" id="7978982"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7978993">(</span><span class="string" id="7978994">&#34;str&#34;</span><span class="op" id="7978999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979004">}</span>&nbsp;<span class="keyword" id="7979006">else</span>&nbsp;<span class="op" id="7979011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979017"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979018">.</span><span class="ident" id="7979019"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7979030">(</span><span class="string" id="7979031">&#34;lit&#34;</span><span class="op" id="7979036">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979046">if</span>&nbsp;<span class="ident" id="7979049"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979051">.</span><span class="ident" id="7979052"><a href="/gostd/regexp/syntax/regexp.go.html#3666913">Flags</a></span><span class="op" id="7979057">&amp;</span><span class="ident" id="7979058"><a href="/gostd/regexp/syntax/parse.go.html#3611172">FoldCase</a></span>&nbsp;<span class="op" id="7979067">!=</span>&nbsp;<span class="num" id="7979070">0</span>&nbsp;<span class="op" id="7979072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979078">for</span>&nbsp;<span class="ident" id="7979082">_</span><span class="op" id="7979083">,</span>&nbsp;<span class="ident" id="7979085">r</span>&nbsp;<span class="op" id="7979087">:=</span>&nbsp;<span class="keyword" id="7979090">range</span>&nbsp;<span class="ident" id="7979096"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979098">.</span><span class="ident" id="7979099"><a href="/gostd/regexp/syntax/regexp.go.html#3667022">Rune</a></span>&nbsp;<span class="op" id="7979104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979111">if</span>&nbsp;<span class="ident" id="7979114"><a href="/gostd/regexp/syntax/parse_test.go.html#7969634">unicode</a></span><span class="op" id="7979121">.</span><span class="ident" id="7979122"><a href="/gostd/unicode/letter.go.html#1830259">SimpleFold</a></span><span class="op" id="7979132">(</span><span class="ident" id="7979133"><a href="/gostd/regexp/syntax/parse_test.go.html#7979085">r</a></span><span class="op" id="7979134">)</span>&nbsp;<span class="op" id="7979136">!=</span>&nbsp;<span class="ident" id="7979139"><a href="/gostd/regexp/syntax/parse_test.go.html#7979085">r</a></span>&nbsp;<span class="op" id="7979141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979149"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979150">.</span><span class="ident" id="7979151"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7979162">(</span><span class="string" id="7979163">&#34;fold&#34;</span><span class="op" id="7979169">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979177">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979203">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979209"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979210">.</span><span class="ident" id="7979211"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="7979220">(</span><span class="string" id="7979221">&#39;{&#39;</span><span class="op" id="7979224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979227">switch</span>&nbsp;<span class="ident" id="7979234"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979236">.</span><span class="ident" id="7979237"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span>&nbsp;<span class="op" id="7979240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979243">case</span>&nbsp;<span class="ident" id="7979248"><a href="/gostd/regexp/syntax/regexp.go.html#3668164">OpEndText</a></span><span class="op" id="7979257">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979261">if</span>&nbsp;<span class="ident" id="7979264"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979266">.</span><span class="ident" id="7979267"><a href="/gostd/regexp/syntax/regexp.go.html#3666913">Flags</a></span><span class="op" id="7979272">&amp;</span><span class="ident" id="7979273"><a href="/gostd/regexp/syntax/parse.go.html#3611793">WasDollar</a></span>&nbsp;<span class="op" id="7979283">==</span>&nbsp;<span class="num" id="7979286">0</span>&nbsp;<span class="op" id="7979288">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979293"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979294">.</span><span class="ident" id="7979295"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7979306">(</span><span class="string" id="7979307">`\z`</span><span class="op" id="7979311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979318">case</span>&nbsp;<span class="ident" id="7979323"><a href="/gostd/regexp/syntax/regexp.go.html#3667672">OpLiteral</a></span><span class="op" id="7979332">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979336">for</span>&nbsp;<span class="ident" id="7979340">_</span><span class="op" id="7979341">,</span>&nbsp;<span class="ident" id="7979343">r</span>&nbsp;<span class="op" id="7979345">:=</span>&nbsp;<span class="keyword" id="7979348">range</span>&nbsp;<span class="ident" id="7979354"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979356">.</span><span class="ident" id="7979357"><a href="/gostd/regexp/syntax/regexp.go.html#3667022">Rune</a></span>&nbsp;<span class="op" id="7979362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979367"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979368">.</span><span class="ident" id="7979369"><a href="/gostd/bytes/buffer.go.html#1390522">WriteRune</a></span><span class="op" id="7979378">(</span><span class="ident" id="7979379"><a href="/gostd/regexp/syntax/parse_test.go.html#7979343">r</a></span><span class="op" id="7979380">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979387">case</span>&nbsp;<span class="ident" id="7979392"><a href="/gostd/regexp/syntax/regexp.go.html#3668768">OpConcat</a></span><span class="op" id="7979400">,</span>&nbsp;<span class="ident" id="7979402"><a href="/gostd/regexp/syntax/regexp.go.html#3668833">OpAlternate</a></span><span class="op" id="7979413">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979417">for</span>&nbsp;<span class="ident" id="7979421">_</span><span class="op" id="7979422">,</span>&nbsp;<span class="ident" id="7979424">sub</span>&nbsp;<span class="op" id="7979428">:=</span>&nbsp;<span class="keyword" id="7979431">range</span>&nbsp;<span class="ident" id="7979437"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979439">.</span><span class="ident" id="7979440"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span>&nbsp;<span class="op" id="7979444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979449"><a href="/gostd/regexp/syntax/parse_test.go.html#7978598">dumpRegexp</a></span><span class="op" id="7979459">(</span><span class="ident" id="7979460"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979461">,</span>&nbsp;<span class="ident" id="7979463"><a href="/gostd/regexp/syntax/parse_test.go.html#7979424">sub</a></span><span class="op" id="7979466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979470">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979473">case</span>&nbsp;<span class="ident" id="7979478"><a href="/gostd/regexp/syntax/regexp.go.html#3668457">OpStar</a></span><span class="op" id="7979484">,</span>&nbsp;<span class="ident" id="7979486"><a href="/gostd/regexp/syntax/regexp.go.html#3668526">OpPlus</a></span><span class="op" id="7979492">,</span>&nbsp;<span class="ident" id="7979494"><a href="/gostd/regexp/syntax/regexp.go.html#3668594">OpQuest</a></span><span class="op" id="7979501">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979505"><a href="/gostd/regexp/syntax/parse_test.go.html#7978598">dumpRegexp</a></span><span class="op" id="7979515">(</span><span class="ident" id="7979516"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979517">,</span>&nbsp;<span class="ident" id="7979519"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979521">.</span><span class="ident" id="7979522"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span><span class="op" id="7979525">[</span><span class="num" id="7979526">0</span><span class="op" id="7979527">]</span><span class="op" id="7979528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979531">case</span>&nbsp;<span class="ident" id="7979536"><a href="/gostd/regexp/syntax/regexp.go.html#3668662">OpRepeat</a></span><span class="op" id="7979544">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979548"><a href="/gostd/regexp/syntax/parse_test.go.html#7969616">fmt</a></span><span class="op" id="7979551">.</span><span class="ident" id="7979552"><a href="/gostd/fmt/print.go.html#2143118">Fprintf</a></span><span class="op" id="7979559">(</span><span class="ident" id="7979560"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979561">,</span>&nbsp;<span class="string" id="7979563">&#34;%d,%d&nbsp;&#34;</span><span class="op" id="7979571">,</span>&nbsp;<span class="ident" id="7979573"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979575">.</span><span class="ident" id="7979576"><a href="/gostd/regexp/syntax/regexp.go.html#3667135">Min</a></span><span class="op" id="7979579">,</span>&nbsp;<span class="ident" id="7979581"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979583">.</span><span class="ident" id="7979584"><a href="/gostd/regexp/syntax/regexp.go.html#3667140">Max</a></span><span class="op" id="7979587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979591"><a href="/gostd/regexp/syntax/parse_test.go.html#7978598">dumpRegexp</a></span><span class="op" id="7979601">(</span><span class="ident" id="7979602"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979603">,</span>&nbsp;<span class="ident" id="7979605"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979607">.</span><span class="ident" id="7979608"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span><span class="op" id="7979611">[</span><span class="num" id="7979612">0</span><span class="op" id="7979613">]</span><span class="op" id="7979614">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979617">case</span>&nbsp;<span class="ident" id="7979622"><a href="/gostd/regexp/syntax/regexp.go.html#3668363">OpCapture</a></span><span class="op" id="7979631">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979635">if</span>&nbsp;<span class="ident" id="7979638"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979640">.</span><span class="ident" id="7979641"><a href="/gostd/regexp/syntax/regexp.go.html#3667236">Name</a></span>&nbsp;<span class="op" id="7979646">!=</span>&nbsp;<span class="string" id="7979649">&#34;&#34;</span>&nbsp;<span class="op" id="7979652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979657"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979658">.</span><span class="ident" id="7979659"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7979670">(</span><span class="ident" id="7979671"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979673">.</span><span class="ident" id="7979674"><a href="/gostd/regexp/syntax/regexp.go.html#3667236">Name</a></span><span class="op" id="7979678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979683"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979684">.</span><span class="ident" id="7979685"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="7979694">(</span><span class="string" id="7979695">&#39;:&#39;</span><span class="op" id="7979698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979702">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979706"><a href="/gostd/regexp/syntax/parse_test.go.html#7978598">dumpRegexp</a></span><span class="op" id="7979716">(</span><span class="ident" id="7979717"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979718">,</span>&nbsp;<span class="ident" id="7979720"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979722">.</span><span class="ident" id="7979723"><a href="/gostd/regexp/syntax/regexp.go.html#3666929">Sub</a></span><span class="op" id="7979726">[</span><span class="num" id="7979727">0</span><span class="op" id="7979728">]</span><span class="op" id="7979729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979732">case</span>&nbsp;<span class="ident" id="7979737"><a href="/gostd/regexp/syntax/regexp.go.html#3667730">OpCharClass</a></span><span class="op" id="7979748">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979752">sep</span>&nbsp;<span class="op" id="7979756">:=</span>&nbsp;<span class="string" id="7979759">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979764">for</span>&nbsp;<span class="ident" id="7979768">i</span>&nbsp;<span class="op" id="7979770">:=</span>&nbsp;<span class="num" id="7979773">0</span><span class="op" id="7979774">;</span>&nbsp;<span class="ident" id="7979776"><a href="/gostd/regexp/syntax/parse_test.go.html#7979768">i</a></span>&nbsp;<span class="op" id="7979778">&lt;</span>&nbsp;<span class="builtinfunc" id="7979780">len</span><span class="op" id="7979783">(</span><span class="ident" id="7979784"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979786">.</span><span class="ident" id="7979787"><a href="/gostd/regexp/syntax/regexp.go.html#3667022">Rune</a></span><span class="op" id="7979791">)</span><span class="op" id="7979792">;</span>&nbsp;<span class="ident" id="7979794"><a href="/gostd/regexp/syntax/parse_test.go.html#7979768">i</a></span>&nbsp;<span class="op" id="7979796">+=</span>&nbsp;<span class="num" id="7979799">2</span>&nbsp;<span class="op" id="7979801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979806"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979807">.</span><span class="ident" id="7979808"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="7979819">(</span><span class="ident" id="7979820"><a href="/gostd/regexp/syntax/parse_test.go.html#7979752">sep</a></span><span class="op" id="7979823">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979828"><a href="/gostd/regexp/syntax/parse_test.go.html#7979752">sep</a></span>&nbsp;<span class="op" id="7979832">=</span>&nbsp;<span class="string" id="7979834">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979841">lo</span><span class="op" id="7979843">,</span>&nbsp;<span class="ident" id="7979845">hi</span>&nbsp;<span class="op" id="7979848">:=</span>&nbsp;<span class="ident" id="7979851"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979853">.</span><span class="ident" id="7979854"><a href="/gostd/regexp/syntax/regexp.go.html#3667022">Rune</a></span><span class="op" id="7979858">[</span><span class="ident" id="7979859"><a href="/gostd/regexp/syntax/parse_test.go.html#7979768">i</a></span><span class="op" id="7979860">]</span><span class="op" id="7979861">,</span>&nbsp;<span class="ident" id="7979863"><a href="/gostd/regexp/syntax/parse_test.go.html#7978626">re</a></span><span class="op" id="7979865">.</span><span class="ident" id="7979866"><a href="/gostd/regexp/syntax/regexp.go.html#3667022">Rune</a></span><span class="op" id="7979870">[</span><span class="ident" id="7979871"><a href="/gostd/regexp/syntax/parse_test.go.html#7979768">i</a></span><span class="op" id="7979872">+</span><span class="num" id="7979873">1</span><span class="op" id="7979874">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7979879">if</span>&nbsp;<span class="ident" id="7979882"><a href="/gostd/regexp/syntax/parse_test.go.html#7979841">lo</a></span>&nbsp;<span class="op" id="7979885">==</span>&nbsp;<span class="ident" id="7979888"><a href="/gostd/regexp/syntax/parse_test.go.html#7979845">hi</a></span>&nbsp;<span class="op" id="7979891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979897"><a href="/gostd/regexp/syntax/parse_test.go.html#7969616">fmt</a></span><span class="op" id="7979900">.</span><span class="ident" id="7979901"><a href="/gostd/fmt/print.go.html#2143118">Fprintf</a></span><span class="op" id="7979908">(</span><span class="ident" id="7979909"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979910">,</span>&nbsp;<span class="string" id="7979912">&#34;%#x&#34;</span><span class="op" id="7979917">,</span>&nbsp;<span class="ident" id="7979919"><a href="/gostd/regexp/syntax/parse_test.go.html#7979841">lo</a></span><span class="op" id="7979921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979926">}</span>&nbsp;<span class="keyword" id="7979928">else</span>&nbsp;<span class="op" id="7979933">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979939"><a href="/gostd/regexp/syntax/parse_test.go.html#7969616">fmt</a></span><span class="op" id="7979942">.</span><span class="ident" id="7979943"><a href="/gostd/fmt/print.go.html#2143118">Fprintf</a></span><span class="op" id="7979950">(</span><span class="ident" id="7979951"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979952">,</span>&nbsp;<span class="string" id="7979954">&#34;%#x-%#x&#34;</span><span class="op" id="7979963">,</span>&nbsp;<span class="ident" id="7979965"><a href="/gostd/regexp/syntax/parse_test.go.html#7979841">lo</a></span><span class="op" id="7979967">,</span>&nbsp;<span class="ident" id="7979969"><a href="/gostd/regexp/syntax/parse_test.go.html#7979845">hi</a></span><span class="op" id="7979971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7979983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7979986"><a href="/gostd/regexp/syntax/parse_test.go.html#7978609">b</a></span><span class="op" id="7979987">.</span><span class="ident" id="7979988"><a href="/gostd/bytes/buffer.go.html#1390121">WriteByte</a></span><span class="op" id="7979997">(</span><span class="string" id="7979998">&#39;}&#39;</span><span class="op" id="7980001">)</span><br>
<span class="lineno">380</span><span class="op" id="7980003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7980006">func</span>&nbsp;<span class="ident" id="7980011">mkCharClass</span><span class="op" id="7980022">(</span><span class="ident" id="7980023">f</span>&nbsp;<span class="keyword" id="7980025">func</span><span class="op" id="7980029">(</span><span class="builtintype" id="7980030">rune</span><span class="op" id="7980034">)</span>&nbsp;<span class="builtintype" id="7980036">bool</span><span class="op" id="7980040">)</span>&nbsp;<span class="builtintype" id="7980042">string</span>&nbsp;<span class="op" id="7980049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980052">re</span>&nbsp;<span class="op" id="7980055">:=</span>&nbsp;<span class="op" id="7980058">&amp;</span><span class="ident" id="7980059"><a href="/gostd/regexp/syntax/regexp.go.html#3666871">Regexp</a></span><span class="op" id="7980065">{</span><span class="ident" id="7980066"><a href="/gostd/regexp/syntax/regexp.go.html#3666888">Op</a></span><span class="op" id="7980068">:</span>&nbsp;<span class="ident" id="7980070"><a href="/gostd/regexp/syntax/regexp.go.html#3667730">OpCharClass</a></span><span class="op" id="7980081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980084">lo</span>&nbsp;<span class="op" id="7980087">:=</span>&nbsp;<span class="builtintype" id="7980090">rune</span><span class="op" id="7980094">(</span><span class="op" id="7980095">-</span><span class="num" id="7980096">1</span><span class="op" id="7980097">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980100">for</span>&nbsp;<span class="ident" id="7980104">i</span>&nbsp;<span class="op" id="7980106">:=</span>&nbsp;<span class="builtintype" id="7980109">rune</span><span class="op" id="7980113">(</span><span class="num" id="7980114">0</span><span class="op" id="7980115">)</span><span class="op" id="7980116">;</span>&nbsp;<span class="ident" id="7980118"><a href="/gostd/regexp/syntax/parse_test.go.html#7980104">i</a></span>&nbsp;<span class="op" id="7980120">&lt;=</span>&nbsp;<span class="ident" id="7980123"><a href="/gostd/regexp/syntax/parse_test.go.html#7969634">unicode</a></span><span class="op" id="7980130">.</span><span class="ident" id="7980131"><a href="/gostd/unicode/letter.go.html#1821536">MaxRune</a></span><span class="op" id="7980138">;</span>&nbsp;<span class="ident" id="7980140"><a href="/gostd/regexp/syntax/parse_test.go.html#7980104">i</a></span><span class="op" id="7980141">++</span>&nbsp;<span class="op" id="7980144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980148">if</span>&nbsp;<span class="ident" id="7980151"><a href="/gostd/regexp/syntax/parse_test.go.html#7980023">f</a></span><span class="op" id="7980152">(</span><span class="ident" id="7980153"><a href="/gostd/regexp/syntax/parse_test.go.html#7980104">i</a></span><span class="op" id="7980154">)</span>&nbsp;<span class="op" id="7980156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980161">if</span>&nbsp;<span class="ident" id="7980164"><a href="/gostd/regexp/syntax/parse_test.go.html#7980084">lo</a></span>&nbsp;<span class="op" id="7980167">&lt;</span>&nbsp;<span class="num" id="7980169">0</span>&nbsp;<span class="op" id="7980171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980177"><a href="/gostd/regexp/syntax/parse_test.go.html#7980084">lo</a></span>&nbsp;<span class="op" id="7980180">=</span>&nbsp;<span class="ident" id="7980182"><a href="/gostd/regexp/syntax/parse_test.go.html#7980104">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7980187">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7980191">}</span>&nbsp;<span class="keyword" id="7980193">else</span>&nbsp;<span class="op" id="7980198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980203">if</span>&nbsp;<span class="ident" id="7980206"><a href="/gostd/regexp/syntax/parse_test.go.html#7980084">lo</a></span>&nbsp;<span class="op" id="7980209">&gt;=</span>&nbsp;<span class="num" id="7980212">0</span>&nbsp;<span class="op" id="7980214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980220"><a href="/gostd/regexp/syntax/parse_test.go.html#7980052">re</a></span><span class="op" id="7980222">.</span><span class="ident" id="7980223"><a href="/gostd/regexp/syntax/regexp.go.html#3667022">Rune</a></span>&nbsp;<span class="op" id="7980228">=</span>&nbsp;<span class="builtinfunc" id="7980230">append</span><span class="op" id="7980236">(</span><span class="ident" id="7980237"><a href="/gostd/regexp/syntax/parse_test.go.html#7980052">re</a></span><span class="op" id="7980239">.</span><span class="ident" id="7980240"><a href="/gostd/regexp/syntax/regexp.go.html#3667022">Rune</a></span><span class="op" id="7980244">,</span>&nbsp;<span class="ident" id="7980246"><a href="/gostd/regexp/syntax/parse_test.go.html#7980084">lo</a></span><span class="op" id="7980248">,</span>&nbsp;<span class="ident" id="7980250"><a href="/gostd/regexp/syntax/parse_test.go.html#7980104">i</a></span><span class="op" id="7980251">-</span><span class="num" id="7980252">1</span><span class="op" id="7980253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980259"><a href="/gostd/regexp/syntax/parse_test.go.html#7980084">lo</a></span>&nbsp;<span class="op" id="7980262">=</span>&nbsp;<span class="op" id="7980264">-</span><span class="num" id="7980265">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7980270">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7980274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7980277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980280">if</span>&nbsp;<span class="ident" id="7980283"><a href="/gostd/regexp/syntax/parse_test.go.html#7980084">lo</a></span>&nbsp;<span class="op" id="7980286">&gt;=</span>&nbsp;<span class="num" id="7980289">0</span>&nbsp;<span class="op" id="7980291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980295"><a href="/gostd/regexp/syntax/parse_test.go.html#7980052">re</a></span><span class="op" id="7980297">.</span><span class="ident" id="7980298"><a href="/gostd/regexp/syntax/regexp.go.html#3667022">Rune</a></span>&nbsp;<span class="op" id="7980303">=</span>&nbsp;<span class="builtinfunc" id="7980305">append</span><span class="op" id="7980311">(</span><span class="ident" id="7980312"><a href="/gostd/regexp/syntax/parse_test.go.html#7980052">re</a></span><span class="op" id="7980314">.</span><span class="ident" id="7980315"><a href="/gostd/regexp/syntax/regexp.go.html#3667022">Rune</a></span><span class="op" id="7980319">,</span>&nbsp;<span class="ident" id="7980321"><a href="/gostd/regexp/syntax/parse_test.go.html#7980084">lo</a></span><span class="op" id="7980323">,</span>&nbsp;<span class="ident" id="7980325"><a href="/gostd/regexp/syntax/parse_test.go.html#7969634">unicode</a></span><span class="op" id="7980332">.</span><span class="ident" id="7980333"><a href="/gostd/unicode/letter.go.html#1821536">MaxRune</a></span><span class="op" id="7980340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7980343">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980346">return</span>&nbsp;<span class="ident" id="7980353"><a href="/gostd/regexp/syntax/parse_test.go.html#7977795">dump</a></span><span class="op" id="7980357">(</span><span class="ident" id="7980358"><a href="/gostd/regexp/syntax/parse_test.go.html#7980052">re</a></span><span class="op" id="7980360">)</span><br>
<span class="lineno"></span><span class="op" id="7980362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7980365">func</span>&nbsp;<span class="ident" id="7980370">isUpperFold</span><span class="op" id="7980381">(</span><span class="ident" id="7980382">r</span>&nbsp;<span class="builtintype" id="7980384">rune</span><span class="op" id="7980388">)</span>&nbsp;<span class="builtintype" id="7980390">bool</span>&nbsp;<span class="op" id="7980395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980398">if</span>&nbsp;<span class="ident" id="7980401"><a href="/gostd/regexp/syntax/parse_test.go.html#7969634">unicode</a></span><span class="op" id="7980408">.</span><span class="ident" id="7980409"><a href="/gostd/unicode/letter.go.html#1826318">IsUpper</a></span><span class="op" id="7980416">(</span><span class="ident" id="7980417"><a href="/gostd/regexp/syntax/parse_test.go.html#7980382">r</a></span><span class="op" id="7980418">)</span>&nbsp;<span class="op" id="7980420">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980424">return</span>&nbsp;<span class="builtintype" id="7980431">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7980437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980440">c</span>&nbsp;<span class="op" id="7980442">:=</span>&nbsp;<span class="ident" id="7980445"><a href="/gostd/regexp/syntax/parse_test.go.html#7969634">unicode</a></span><span class="op" id="7980452">.</span><span class="ident" id="7980453"><a href="/gostd/unicode/letter.go.html#1830259">SimpleFold</a></span><span class="op" id="7980463">(</span><span class="ident" id="7980464"><a href="/gostd/regexp/syntax/parse_test.go.html#7980382">r</a></span><span class="op" id="7980465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980468">for</span>&nbsp;<span class="ident" id="7980472"><a href="/gostd/regexp/syntax/parse_test.go.html#7980440">c</a></span>&nbsp;<span class="op" id="7980474">!=</span>&nbsp;<span class="ident" id="7980477"><a href="/gostd/regexp/syntax/parse_test.go.html#7980382">r</a></span>&nbsp;<span class="op" id="7980479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980483">if</span>&nbsp;<span class="ident" id="7980486"><a href="/gostd/regexp/syntax/parse_test.go.html#7969634">unicode</a></span><span class="op" id="7980493">.</span><span class="ident" id="7980494"><a href="/gostd/unicode/letter.go.html#1826318">IsUpper</a></span><span class="op" id="7980501">(</span><span class="ident" id="7980502"><a href="/gostd/regexp/syntax/parse_test.go.html#7980440">c</a></span><span class="op" id="7980503">)</span>&nbsp;<span class="op" id="7980505">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980510">return</span>&nbsp;<span class="builtintype" id="7980517">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7980524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980528"><a href="/gostd/regexp/syntax/parse_test.go.html#7980440">c</a></span>&nbsp;<span class="op" id="7980530">=</span>&nbsp;<span class="ident" id="7980532"><a href="/gostd/regexp/syntax/parse_test.go.html#7969634">unicode</a></span><span class="op" id="7980539">.</span><span class="ident" id="7980540"><a href="/gostd/unicode/letter.go.html#1830259">SimpleFold</a></span><span class="op" id="7980550">(</span><span class="ident" id="7980551"><a href="/gostd/regexp/syntax/parse_test.go.html#7980440">c</a></span><span class="op" id="7980552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7980555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980558">return</span>&nbsp;<span class="builtintype" id="7980565">false</span><br>
<span class="lineno">415</span><span class="op" id="7980571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7980574">func</span>&nbsp;<span class="ident" id="7980579">TestFoldConstants</span><span class="op" id="7980596">(</span><span class="ident" id="7980597">t</span>&nbsp;<span class="op" id="7980599">*</span><span class="ident" id="7980600"><a href="/gostd/regexp/syntax/parse_test.go.html#7969623">testing</a></span><span class="op" id="7980607">.</span><span class="ident" id="7980608"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7980609">)</span>&nbsp;<span class="op" id="7980611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980614">last</span>&nbsp;<span class="op" id="7980619">:=</span>&nbsp;<span class="builtintype" id="7980622">rune</span><span class="op" id="7980626">(</span><span class="op" id="7980627">-</span><span class="num" id="7980628">1</span><span class="op" id="7980629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980632">for</span>&nbsp;<span class="ident" id="7980636">i</span>&nbsp;<span class="op" id="7980638">:=</span>&nbsp;<span class="builtintype" id="7980641">rune</span><span class="op" id="7980645">(</span><span class="num" id="7980646">0</span><span class="op" id="7980647">)</span><span class="op" id="7980648">;</span>&nbsp;<span class="ident" id="7980650"><a href="/gostd/regexp/syntax/parse_test.go.html#7980636">i</a></span>&nbsp;<span class="op" id="7980652">&lt;=</span>&nbsp;<span class="ident" id="7980655"><a href="/gostd/regexp/syntax/parse_test.go.html#7969634">unicode</a></span><span class="op" id="7980662">.</span><span class="ident" id="7980663"><a href="/gostd/unicode/letter.go.html#1821536">MaxRune</a></span><span class="op" id="7980670">;</span>&nbsp;<span class="ident" id="7980672"><a href="/gostd/regexp/syntax/parse_test.go.html#7980636">i</a></span><span class="op" id="7980673">++</span>&nbsp;<span class="op" id="7980676">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980680">if</span>&nbsp;<span class="ident" id="7980683"><a href="/gostd/regexp/syntax/parse_test.go.html#7969634">unicode</a></span><span class="op" id="7980690">.</span><span class="ident" id="7980691"><a href="/gostd/unicode/letter.go.html#1830259">SimpleFold</a></span><span class="op" id="7980701">(</span><span class="ident" id="7980702"><a href="/gostd/regexp/syntax/parse_test.go.html#7980636">i</a></span><span class="op" id="7980703">)</span>&nbsp;<span class="op" id="7980705">==</span>&nbsp;<span class="ident" id="7980708"><a href="/gostd/regexp/syntax/parse_test.go.html#7980636">i</a></span>&nbsp;<span class="op" id="7980710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980715">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7980726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980730">if</span>&nbsp;<span class="ident" id="7980733"><a href="/gostd/regexp/syntax/parse_test.go.html#7980614">last</a></span>&nbsp;<span class="op" id="7980738">==</span>&nbsp;<span class="op" id="7980741">-</span><span class="num" id="7980742">1</span>&nbsp;<span class="op" id="7980744">&amp;&amp;</span>&nbsp;<span class="ident" id="7980747"><a href="/gostd/regexp/syntax/parse.go.html#3651012">minFold</a></span>&nbsp;<span class="op" id="7980755">!=</span>&nbsp;<span class="ident" id="7980758"><a href="/gostd/regexp/syntax/parse_test.go.html#7980636">i</a></span>&nbsp;<span class="op" id="7980760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980765"><a href="/gostd/regexp/syntax/parse_test.go.html#7980597">t</a></span><span class="op" id="7980766">.</span><span class="ident" id="7980767"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7980773">(</span><span class="string" id="7980774">&#34;minFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7980801">,</span>&nbsp;<span class="ident" id="7980803"><a href="/gostd/regexp/syntax/parse.go.html#3651012">minFold</a></span><span class="op" id="7980810">,</span>&nbsp;<span class="ident" id="7980812"><a href="/gostd/regexp/syntax/parse_test.go.html#7980636">i</a></span><span class="op" id="7980813">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7980817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980821"><a href="/gostd/regexp/syntax/parse_test.go.html#7980614">last</a></span>&nbsp;<span class="op" id="7980826">=</span>&nbsp;<span class="ident" id="7980828"><a href="/gostd/regexp/syntax/parse_test.go.html#7980636">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7980831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7980834">if</span>&nbsp;<span class="ident" id="7980837"><a href="/gostd/regexp/syntax/parse.go.html#3651030">maxFold</a></span>&nbsp;<span class="op" id="7980845">!=</span>&nbsp;<span class="ident" id="7980848"><a href="/gostd/regexp/syntax/parse_test.go.html#7980614">last</a></span>&nbsp;<span class="op" id="7980853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7980857"><a href="/gostd/regexp/syntax/parse_test.go.html#7980597">t</a></span><span class="op" id="7980858">.</span><span class="ident" id="7980859"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7980865">(</span><span class="string" id="7980866">&#34;maxFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7980893">,</span>&nbsp;<span class="ident" id="7980895"><a href="/gostd/regexp/syntax/parse.go.html#3651030">maxFold</a></span><span class="op" id="7980902">,</span>&nbsp;<span class="ident" id="7980904"><a href="/gostd/regexp/syntax/parse_test.go.html#7980614">last</a></span><span class="op" id="7980908">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7980911">}</span><br>
<span class="lineno"></span><span class="op" id="7980913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7980916">func</span>&nbsp;<span class="ident" id="7980921">TestAppendRangeCollapse</span><span class="op" id="7980944">(</span><span class="ident" id="7980945">t</span>&nbsp;<span class="op" id="7980947">*</span><span class="ident" id="7980948"><a href="/gostd/regexp/syntax/parse_test.go.html#7969623">testing</a></span><span class="op" id="7980955">.</span><span class="ident" id="7980956"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7980957">)</span>&nbsp;<span class="op" id="7980959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7980962">//&nbsp;AppendRange&nbsp;should&nbsp;collapse&nbsp;each&nbsp;of&nbsp;the&nbsp;new&nbsp;ranges</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7981017">//&nbsp;into&nbsp;the&nbsp;earlier&nbsp;ones&nbsp;(it&nbsp;looks&nbsp;back&nbsp;two&nbsp;ranges),&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7981079">//&nbsp;the&nbsp;slice&nbsp;never&nbsp;grows&nbsp;very&nbsp;large.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7981117">//&nbsp;Note&nbsp;that&nbsp;we&nbsp;are&nbsp;not&nbsp;calling&nbsp;cleanClass.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7981162">var</span>&nbsp;<span class="ident" id="7981166">r</span>&nbsp;<span class="op" id="7981168">[</span><span class="op" id="7981169">]</span><span class="builtintype" id="7981170">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7981176">for</span>&nbsp;<span class="ident" id="7981180">i</span>&nbsp;<span class="op" id="7981182">:=</span>&nbsp;<span class="builtintype" id="7981185">rune</span><span class="op" id="7981189">(</span><span class="string" id="7981190">&#39;A&#39;</span><span class="op" id="7981193">)</span><span class="op" id="7981194">;</span>&nbsp;<span class="ident" id="7981196"><a href="/gostd/regexp/syntax/parse_test.go.html#7981180">i</a></span>&nbsp;<span class="op" id="7981198">&lt;=</span>&nbsp;<span class="string" id="7981201">&#39;Z&#39;</span><span class="op" id="7981204">;</span>&nbsp;<span class="ident" id="7981206"><a href="/gostd/regexp/syntax/parse_test.go.html#7981180">i</a></span><span class="op" id="7981207">++</span>&nbsp;<span class="op" id="7981210">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981214"><a href="/gostd/regexp/syntax/parse_test.go.html#7981166">r</a></span>&nbsp;<span class="op" id="7981216">=</span>&nbsp;<span class="ident" id="7981218"><a href="/gostd/regexp/syntax/parse.go.html#3650382">appendRange</a></span><span class="op" id="7981229">(</span><span class="ident" id="7981230"><a href="/gostd/regexp/syntax/parse_test.go.html#7981166">r</a></span><span class="op" id="7981231">,</span>&nbsp;<span class="ident" id="7981233"><a href="/gostd/regexp/syntax/parse_test.go.html#7981180">i</a></span><span class="op" id="7981234">,</span>&nbsp;<span class="ident" id="7981236"><a href="/gostd/regexp/syntax/parse_test.go.html#7981180">i</a></span><span class="op" id="7981237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981241"><a href="/gostd/regexp/syntax/parse_test.go.html#7981166">r</a></span>&nbsp;<span class="op" id="7981243">=</span>&nbsp;<span class="ident" id="7981245"><a href="/gostd/regexp/syntax/parse.go.html#3650382">appendRange</a></span><span class="op" id="7981256">(</span><span class="ident" id="7981257"><a href="/gostd/regexp/syntax/parse_test.go.html#7981166">r</a></span><span class="op" id="7981258">,</span>&nbsp;<span class="ident" id="7981260"><a href="/gostd/regexp/syntax/parse_test.go.html#7981180">i</a></span><span class="op" id="7981261">+</span><span class="string" id="7981262">&#39;a&#39;</span><span class="op" id="7981265">-</span><span class="string" id="7981266">&#39;A&#39;</span><span class="op" id="7981269">,</span>&nbsp;<span class="ident" id="7981271"><a href="/gostd/regexp/syntax/parse_test.go.html#7981180">i</a></span><span class="op" id="7981272">+</span><span class="string" id="7981273">&#39;a&#39;</span><span class="op" id="7981276">-</span><span class="string" id="7981277">&#39;A&#39;</span><span class="op" id="7981280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7981283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7981286">if</span>&nbsp;<span class="builtintype" id="7981289">string</span><span class="op" id="7981295">(</span><span class="ident" id="7981296"><a href="/gostd/regexp/syntax/parse_test.go.html#7981166">r</a></span><span class="op" id="7981297">)</span>&nbsp;<span class="op" id="7981299">!=</span>&nbsp;<span class="string" id="7981302">&#34;AZaz&#34;</span>&nbsp;<span class="op" id="7981309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981313"><a href="/gostd/regexp/syntax/parse_test.go.html#7980945">t</a></span><span class="op" id="7981314">.</span><span class="ident" id="7981315"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7981321">(</span><span class="string" id="7981322">&#34;appendRange&nbsp;interlaced&nbsp;A-Z&nbsp;a-z&nbsp;=&nbsp;%s,&nbsp;want&nbsp;AZaz&#34;</span><span class="op" id="7981370">,</span>&nbsp;<span class="builtintype" id="7981372">string</span><span class="op" id="7981378">(</span><span class="ident" id="7981379"><a href="/gostd/regexp/syntax/parse_test.go.html#7981166">r</a></span><span class="op" id="7981380">)</span><span class="op" id="7981381">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7981384">}</span><br>
<span class="lineno"></span><span class="op" id="7981386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7981389">var</span>&nbsp;<span class="ident" id="7981393">invalidRegexps</span>&nbsp;<span class="op" id="7981408">=</span>&nbsp;<span class="op" id="7981410">[</span><span class="op" id="7981411">]</span><span class="builtintype" id="7981412">string</span><span class="op" id="7981418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981421">`(`</span><span class="op" id="7981424">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981427">`)`</span><span class="op" id="7981430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981433">`(a`</span><span class="op" id="7981437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981440">`a)`</span><span class="op" id="7981444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981447">`(a))`</span><span class="op" id="7981453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981456">`(a|b|`</span><span class="op" id="7981463">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981466">`a|b|)`</span><span class="op" id="7981473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981476">`(a|b|))`</span><span class="op" id="7981485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981488">`(a|b`</span><span class="op" id="7981494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981497">`a|b)`</span><span class="op" id="7981503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981506">`(a|b))`</span><span class="op" id="7981514">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981517">`[a-z`</span><span class="op" id="7981523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981526">`([a-z)`</span><span class="op" id="7981534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981537">`[a-z)`</span><span class="op" id="7981544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981547">`([a-z]))`</span><span class="op" id="7981557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981560">`x{1001}`</span><span class="op" id="7981569">,</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981572">`x{9876543210}`</span><span class="op" id="7981587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981590">`x{2,1}`</span><span class="op" id="7981598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981601">`x{1,9876543210}`</span><span class="op" id="7981618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981621">&#34;\xff&#34;</span><span class="op" id="7981627">,</span>&nbsp;<span class="comment" id="7981629">//&nbsp;Invalid&nbsp;UTF-8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981647">&#34;[\xff]&#34;</span><span class="op" id="7981655">,</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981658">&#34;[\\\xff]&#34;</span><span class="op" id="7981668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981671">&#34;\\\xff&#34;</span><span class="op" id="7981679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981682">`(?P&lt;name&gt;a`</span><span class="op" id="7981694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981697">`(?P&lt;name&gt;`</span><span class="op" id="7981708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981711">`(?P&lt;name`</span><span class="op" id="7981721">,</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981724">`(?P&lt;x&nbsp;y&gt;a)`</span><span class="op" id="7981736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981739">`(?P&lt;&gt;a)`</span><span class="op" id="7981748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981751">`[a-Z]`</span><span class="op" id="7981758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981761">`(?i)[a-Z]`</span><span class="op" id="7981772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981775">`a{100000}`</span><span class="op" id="7981786">,</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981789">`a{100000,}`</span><span class="op" id="7981801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981804">&#34;((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}){2})&#34;</span><span class="op" id="7981857">,</span><br>
<span class="lineno"></span><span class="op" id="7981859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7981862">var</span>&nbsp;<span class="ident" id="7981866">onlyPerl</span>&nbsp;<span class="op" id="7981875">=</span>&nbsp;<span class="op" id="7981877">[</span><span class="op" id="7981878">]</span><span class="builtintype" id="7981879">string</span><span class="op" id="7981885">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981888">`[a-b-c]`</span><span class="op" id="7981897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981900">`\Qabc\E`</span><span class="op" id="7981909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981912">`\Q*+?{[\E`</span><span class="op" id="7981923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981926">`\Q\\E`</span><span class="op" id="7981933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981936">`\Q\\\E`</span><span class="op" id="7981944">,</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981947">`\Q\\\\E`</span><span class="op" id="7981956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981959">`\Q\\\\\E`</span><span class="op" id="7981969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981972">`(?:a)`</span><span class="op" id="7981979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7981982">`(?P&lt;name&gt;a)`</span><span class="op" id="7981995">,</span><br>
<span class="lineno"></span><span class="op" id="7981997">}</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span><span class="keyword" id="7982000">var</span>&nbsp;<span class="ident" id="7982004">onlyPOSIX</span>&nbsp;<span class="op" id="7982014">=</span>&nbsp;<span class="op" id="7982016">[</span><span class="op" id="7982017">]</span><span class="builtintype" id="7982018">string</span><span class="op" id="7982024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982027">&#34;a++&#34;</span><span class="op" id="7982032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982035">&#34;a**&#34;</span><span class="op" id="7982040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982043">&#34;a?*&#34;</span><span class="op" id="7982048">,</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982051">&#34;a+*&#34;</span><span class="op" id="7982056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982059">&#34;a{1}*&#34;</span><span class="op" id="7982066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7982069">&#34;.{1}{2}.{3}&#34;</span><span class="op" id="7982082">,</span><br>
<span class="lineno"></span><span class="op" id="7982084">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="keyword" id="7982087">func</span>&nbsp;<span class="ident" id="7982092">TestParseInvalidRegexps</span><span class="op" id="7982115">(</span><span class="ident" id="7982116">t</span>&nbsp;<span class="op" id="7982118">*</span><span class="ident" id="7982119"><a href="/gostd/regexp/syntax/parse_test.go.html#7969623">testing</a></span><span class="op" id="7982126">.</span><span class="ident" id="7982127"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7982128">)</span>&nbsp;<span class="op" id="7982130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7982133">for</span>&nbsp;<span class="ident" id="7982137">_</span><span class="op" id="7982138">,</span>&nbsp;<span class="ident" id="7982140">regexp</span>&nbsp;<span class="op" id="7982147">:=</span>&nbsp;<span class="keyword" id="7982150">range</span>&nbsp;<span class="ident" id="7982156"><a href="/gostd/regexp/syntax/parse_test.go.html#7981393">invalidRegexps</a></span>&nbsp;<span class="op" id="7982171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7982175">if</span>&nbsp;<span class="ident" id="7982178">re</span><span class="op" id="7982180">,</span>&nbsp;<span class="ident" id="7982182">err</span>&nbsp;<span class="op" id="7982186">:=</span>&nbsp;<span class="ident" id="7982189"><a href="/gostd/regexp/syntax/parse.go.html#3628333">Parse</a></span><span class="op" id="7982194">(</span><span class="ident" id="7982195"><a href="/gostd/regexp/syntax/parse_test.go.html#7982140">regexp</a></span><span class="op" id="7982201">,</span>&nbsp;<span class="ident" id="7982203"><a href="/gostd/regexp/syntax/parse.go.html#3611963">Perl</a></span><span class="op" id="7982207">)</span><span class="op" id="7982208">;</span>&nbsp;<span class="ident" id="7982210"><a href="/gostd/regexp/syntax/parse_test.go.html#7982182">err</a></span>&nbsp;<span class="op" id="7982214">==</span>&nbsp;<span class="builtintype" id="7982217">nil</span>&nbsp;<span class="op" id="7982221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982226"><a href="/gostd/regexp/syntax/parse_test.go.html#7982116">t</a></span><span class="op" id="7982227">.</span><span class="ident" id="7982228"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7982234">(</span><span class="string" id="7982235">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7982278">,</span>&nbsp;<span class="ident" id="7982280"><a href="/gostd/regexp/syntax/parse_test.go.html#7982140">regexp</a></span><span class="op" id="7982286">,</span>&nbsp;<span class="ident" id="7982288"><a href="/gostd/regexp/syntax/parse_test.go.html#7977795">dump</a></span><span class="op" id="7982292">(</span><span class="ident" id="7982293"><a href="/gostd/regexp/syntax/parse_test.go.html#7982178">re</a></span><span class="op" id="7982295">)</span><span class="op" id="7982296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7982300">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7982304">if</span>&nbsp;<span class="ident" id="7982307">re</span><span class="op" id="7982309">,</span>&nbsp;<span class="ident" id="7982311">err</span>&nbsp;<span class="op" id="7982315">:=</span>&nbsp;<span class="ident" id="7982318"><a href="/gostd/regexp/syntax/parse.go.html#3628333">Parse</a></span><span class="op" id="7982323">(</span><span class="ident" id="7982324"><a href="/gostd/regexp/syntax/parse_test.go.html#7982140">regexp</a></span><span class="op" id="7982330">,</span>&nbsp;<span class="ident" id="7982332"><a href="/gostd/regexp/syntax/parse.go.html#3612052">POSIX</a></span><span class="op" id="7982337">)</span><span class="op" id="7982338">;</span>&nbsp;<span class="ident" id="7982340"><a href="/gostd/regexp/syntax/parse_test.go.html#7982311">err</a></span>&nbsp;<span class="op" id="7982344">==</span>&nbsp;<span class="builtintype" id="7982347">nil</span>&nbsp;<span class="op" id="7982351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982356"><a href="/gostd/regexp/syntax/parse_test.go.html#7982116">t</a></span><span class="op" id="7982357">.</span><span class="ident" id="7982358"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7982364">(</span><span class="string" id="7982365">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7982409">,</span>&nbsp;<span class="ident" id="7982411"><a href="/gostd/regexp/syntax/parse_test.go.html#7982140">regexp</a></span><span class="op" id="7982417">,</span>&nbsp;<span class="ident" id="7982419"><a href="/gostd/regexp/syntax/parse_test.go.html#7977795">dump</a></span><span class="op" id="7982423">(</span><span class="ident" id="7982424"><a href="/gostd/regexp/syntax/parse_test.go.html#7982307">re</a></span><span class="op" id="7982426">)</span><span class="op" id="7982427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7982431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7982434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7982437">for</span>&nbsp;<span class="ident" id="7982441">_</span><span class="op" id="7982442">,</span>&nbsp;<span class="ident" id="7982444">regexp</span>&nbsp;<span class="op" id="7982451">:=</span>&nbsp;<span class="keyword" id="7982454">range</span>&nbsp;<span class="ident" id="7982460"><a href="/gostd/regexp/syntax/parse_test.go.html#7981866">onlyPerl</a></span>&nbsp;<span class="op" id="7982469">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7982473">if</span>&nbsp;<span class="ident" id="7982476">_</span><span class="op" id="7982477">,</span>&nbsp;<span class="ident" id="7982479">err</span>&nbsp;<span class="op" id="7982483">:=</span>&nbsp;<span class="ident" id="7982486"><a href="/gostd/regexp/syntax/parse.go.html#3628333">Parse</a></span><span class="op" id="7982491">(</span><span class="ident" id="7982492"><a href="/gostd/regexp/syntax/parse_test.go.html#7982444">regexp</a></span><span class="op" id="7982498">,</span>&nbsp;<span class="ident" id="7982500"><a href="/gostd/regexp/syntax/parse.go.html#3611963">Perl</a></span><span class="op" id="7982504">)</span><span class="op" id="7982505">;</span>&nbsp;<span class="ident" id="7982507"><a href="/gostd/regexp/syntax/parse_test.go.html#7982479">err</a></span>&nbsp;<span class="op" id="7982511">!=</span>&nbsp;<span class="builtintype" id="7982514">nil</span>&nbsp;<span class="op" id="7982518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982523"><a href="/gostd/regexp/syntax/parse_test.go.html#7982116">t</a></span><span class="op" id="7982524">.</span><span class="ident" id="7982525"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7982531">(</span><span class="string" id="7982532">&#34;Parse(%#q,&nbsp;Perl):&nbsp;%v&#34;</span><span class="op" id="7982554">,</span>&nbsp;<span class="ident" id="7982556"><a href="/gostd/regexp/syntax/parse_test.go.html#7982444">regexp</a></span><span class="op" id="7982562">,</span>&nbsp;<span class="ident" id="7982564"><a href="/gostd/regexp/syntax/parse_test.go.html#7982479">err</a></span><span class="op" id="7982567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7982571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7982575">if</span>&nbsp;<span class="ident" id="7982578">re</span><span class="op" id="7982580">,</span>&nbsp;<span class="ident" id="7982582">err</span>&nbsp;<span class="op" id="7982586">:=</span>&nbsp;<span class="ident" id="7982589"><a href="/gostd/regexp/syntax/parse.go.html#3628333">Parse</a></span><span class="op" id="7982594">(</span><span class="ident" id="7982595"><a href="/gostd/regexp/syntax/parse_test.go.html#7982444">regexp</a></span><span class="op" id="7982601">,</span>&nbsp;<span class="ident" id="7982603"><a href="/gostd/regexp/syntax/parse.go.html#3612052">POSIX</a></span><span class="op" id="7982608">)</span><span class="op" id="7982609">;</span>&nbsp;<span class="ident" id="7982611"><a href="/gostd/regexp/syntax/parse_test.go.html#7982582">err</a></span>&nbsp;<span class="op" id="7982615">==</span>&nbsp;<span class="builtintype" id="7982618">nil</span>&nbsp;<span class="op" id="7982622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982627"><a href="/gostd/regexp/syntax/parse_test.go.html#7982116">t</a></span><span class="op" id="7982628">.</span><span class="ident" id="7982629"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7982635">(</span><span class="string" id="7982636">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7982680">,</span>&nbsp;<span class="ident" id="7982682"><a href="/gostd/regexp/syntax/parse_test.go.html#7982444">regexp</a></span><span class="op" id="7982688">,</span>&nbsp;<span class="ident" id="7982690"><a href="/gostd/regexp/syntax/parse_test.go.html#7977795">dump</a></span><span class="op" id="7982694">(</span><span class="ident" id="7982695"><a href="/gostd/regexp/syntax/parse_test.go.html#7982578">re</a></span><span class="op" id="7982697">)</span><span class="op" id="7982698">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7982702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7982705">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7982708">for</span>&nbsp;<span class="ident" id="7982712">_</span><span class="op" id="7982713">,</span>&nbsp;<span class="ident" id="7982715">regexp</span>&nbsp;<span class="op" id="7982722">:=</span>&nbsp;<span class="keyword" id="7982725">range</span>&nbsp;<span class="ident" id="7982731"><a href="/gostd/regexp/syntax/parse_test.go.html#7982004">onlyPOSIX</a></span>&nbsp;<span class="op" id="7982741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7982745">if</span>&nbsp;<span class="ident" id="7982748">re</span><span class="op" id="7982750">,</span>&nbsp;<span class="ident" id="7982752">err</span>&nbsp;<span class="op" id="7982756">:=</span>&nbsp;<span class="ident" id="7982759"><a href="/gostd/regexp/syntax/parse.go.html#3628333">Parse</a></span><span class="op" id="7982764">(</span><span class="ident" id="7982765"><a href="/gostd/regexp/syntax/parse_test.go.html#7982715">regexp</a></span><span class="op" id="7982771">,</span>&nbsp;<span class="ident" id="7982773"><a href="/gostd/regexp/syntax/parse.go.html#3611963">Perl</a></span><span class="op" id="7982777">)</span><span class="op" id="7982778">;</span>&nbsp;<span class="ident" id="7982780"><a href="/gostd/regexp/syntax/parse_test.go.html#7982752">err</a></span>&nbsp;<span class="op" id="7982784">==</span>&nbsp;<span class="builtintype" id="7982787">nil</span>&nbsp;<span class="op" id="7982791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982796"><a href="/gostd/regexp/syntax/parse_test.go.html#7982116">t</a></span><span class="op" id="7982797">.</span><span class="ident" id="7982798"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7982804">(</span><span class="string" id="7982805">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7982848">,</span>&nbsp;<span class="ident" id="7982850"><a href="/gostd/regexp/syntax/parse_test.go.html#7982715">regexp</a></span><span class="op" id="7982856">,</span>&nbsp;<span class="ident" id="7982858"><a href="/gostd/regexp/syntax/parse_test.go.html#7977795">dump</a></span><span class="op" id="7982862">(</span><span class="ident" id="7982863"><a href="/gostd/regexp/syntax/parse_test.go.html#7982748">re</a></span><span class="op" id="7982865">)</span><span class="op" id="7982866">)</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7982870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7982874">if</span>&nbsp;<span class="ident" id="7982877">_</span><span class="op" id="7982878">,</span>&nbsp;<span class="ident" id="7982880">err</span>&nbsp;<span class="op" id="7982884">:=</span>&nbsp;<span class="ident" id="7982887"><a href="/gostd/regexp/syntax/parse.go.html#3628333">Parse</a></span><span class="op" id="7982892">(</span><span class="ident" id="7982893"><a href="/gostd/regexp/syntax/parse_test.go.html#7982715">regexp</a></span><span class="op" id="7982899">,</span>&nbsp;<span class="ident" id="7982901"><a href="/gostd/regexp/syntax/parse.go.html#3612052">POSIX</a></span><span class="op" id="7982906">)</span><span class="op" id="7982907">;</span>&nbsp;<span class="ident" id="7982909"><a href="/gostd/regexp/syntax/parse_test.go.html#7982880">err</a></span>&nbsp;<span class="op" id="7982913">!=</span>&nbsp;<span class="builtintype" id="7982916">nil</span>&nbsp;<span class="op" id="7982920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7982925"><a href="/gostd/regexp/syntax/parse_test.go.html#7982116">t</a></span><span class="op" id="7982926">.</span><span class="ident" id="7982927"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7982933">(</span><span class="string" id="7982934">&#34;Parse(%#q,&nbsp;POSIX):&nbsp;%v&#34;</span><span class="op" id="7982957">,</span>&nbsp;<span class="ident" id="7982959"><a href="/gostd/regexp/syntax/parse_test.go.html#7982715">regexp</a></span><span class="op" id="7982965">,</span>&nbsp;<span class="ident" id="7982967"><a href="/gostd/regexp/syntax/parse_test.go.html#7982880">err</a></span><span class="op" id="7982970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7982974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7982977">}</span><br>
<span class="lineno">530</span><span class="op" id="7982979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7982982">func</span>&nbsp;<span class="ident" id="7982987">TestToStringEquivalentParse</span><span class="op" id="7983014">(</span><span class="ident" id="7983015">t</span>&nbsp;<span class="op" id="7983017">*</span><span class="ident" id="7983018"><a href="/gostd/regexp/syntax/parse_test.go.html#7969623">testing</a></span><span class="op" id="7983025">.</span><span class="ident" id="7983026"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7983027">)</span>&nbsp;<span class="op" id="7983029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7983032">for</span>&nbsp;<span class="ident" id="7983036">_</span><span class="op" id="7983037">,</span>&nbsp;<span class="ident" id="7983039">tt</span>&nbsp;<span class="op" id="7983042">:=</span>&nbsp;<span class="keyword" id="7983045">range</span>&nbsp;<span class="ident" id="7983051"><a href="/gostd/regexp/syntax/parse_test.go.html#7969708">parseTests</a></span>&nbsp;<span class="op" id="7983062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983066">re</span><span class="op" id="7983068">,</span>&nbsp;<span class="ident" id="7983070">err</span>&nbsp;<span class="op" id="7983074">:=</span>&nbsp;<span class="ident" id="7983077"><a href="/gostd/regexp/syntax/parse.go.html#3628333">Parse</a></span><span class="op" id="7983082">(</span><span class="ident" id="7983083"><a href="/gostd/regexp/syntax/parse_test.go.html#7983039">tt</a></span><span class="op" id="7983085">.</span><span class="ident" id="7983086"><a href="/gostd/regexp/syntax/parse_test.go.html#7969672">Regexp</a></span><span class="op" id="7983092">,</span>&nbsp;<span class="ident" id="7983094"><a href="/gostd/regexp/syntax/parse_test.go.html#7976009">testFlags</a></span><span class="op" id="7983103">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7983107">if</span>&nbsp;<span class="ident" id="7983110"><a href="/gostd/regexp/syntax/parse_test.go.html#7983070">err</a></span>&nbsp;<span class="op" id="7983114">!=</span>&nbsp;<span class="builtintype" id="7983117">nil</span>&nbsp;<span class="op" id="7983121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983126"><a href="/gostd/regexp/syntax/parse_test.go.html#7983015">t</a></span><span class="op" id="7983127">.</span><span class="ident" id="7983128"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7983134">(</span><span class="string" id="7983135">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7983151">,</span>&nbsp;<span class="ident" id="7983153"><a href="/gostd/regexp/syntax/parse_test.go.html#7983039">tt</a></span><span class="op" id="7983155">.</span><span class="ident" id="7983156"><a href="/gostd/regexp/syntax/parse_test.go.html#7969672">Regexp</a></span><span class="op" id="7983162">,</span>&nbsp;<span class="ident" id="7983164"><a href="/gostd/regexp/syntax/parse_test.go.html#7983070">err</a></span><span class="op" id="7983167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7983172">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7983183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7983187">if</span>&nbsp;<span class="ident" id="7983190"><a href="/gostd/regexp/syntax/parse_test.go.html#7983039">tt</a></span><span class="op" id="7983192">.</span><span class="ident" id="7983193"><a href="/gostd/regexp/syntax/parse_test.go.html#7969687">Dump</a></span>&nbsp;<span class="op" id="7983198">==</span>&nbsp;<span class="string" id="7983201">&#34;&#34;</span>&nbsp;<span class="op" id="7983204">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7983209">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7983252">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7983263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983267">d</span>&nbsp;<span class="op" id="7983269">:=</span>&nbsp;<span class="ident" id="7983272"><a href="/gostd/regexp/syntax/parse_test.go.html#7977795">dump</a></span><span class="op" id="7983276">(</span><span class="ident" id="7983277"><a href="/gostd/regexp/syntax/parse_test.go.html#7983066">re</a></span><span class="op" id="7983279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7983283">if</span>&nbsp;<span class="ident" id="7983286"><a href="/gostd/regexp/syntax/parse_test.go.html#7983267">d</a></span>&nbsp;<span class="op" id="7983288">!=</span>&nbsp;<span class="ident" id="7983291"><a href="/gostd/regexp/syntax/parse_test.go.html#7983039">tt</a></span><span class="op" id="7983293">.</span><span class="ident" id="7983294"><a href="/gostd/regexp/syntax/parse_test.go.html#7969687">Dump</a></span>&nbsp;<span class="op" id="7983299">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983304"><a href="/gostd/regexp/syntax/parse_test.go.html#7983015">t</a></span><span class="op" id="7983305">.</span><span class="ident" id="7983306"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7983312">(</span><span class="string" id="7983313">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7983347">,</span>&nbsp;<span class="ident" id="7983349"><a href="/gostd/regexp/syntax/parse_test.go.html#7983039">tt</a></span><span class="op" id="7983351">.</span><span class="ident" id="7983352"><a href="/gostd/regexp/syntax/parse_test.go.html#7969672">Regexp</a></span><span class="op" id="7983358">,</span>&nbsp;<span class="ident" id="7983360"><a href="/gostd/regexp/syntax/parse_test.go.html#7983267">d</a></span><span class="op" id="7983361">,</span>&nbsp;<span class="ident" id="7983363"><a href="/gostd/regexp/syntax/parse_test.go.html#7983039">tt</a></span><span class="op" id="7983365">.</span><span class="ident" id="7983366"><a href="/gostd/regexp/syntax/parse_test.go.html#7969687">Dump</a></span><span class="op" id="7983370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7983375">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7983386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983391">s</span>&nbsp;<span class="op" id="7983393">:=</span>&nbsp;<span class="ident" id="7983396"><a href="/gostd/regexp/syntax/parse_test.go.html#7983066">re</a></span><span class="op" id="7983398">.</span><span class="ident" id="7983399"><a href="/gostd/regexp/syntax/regexp.go.html#3672908">String</a></span><span class="op" id="7983405">(</span><span class="op" id="7983406">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7983410">if</span>&nbsp;<span class="ident" id="7983413"><a href="/gostd/regexp/syntax/parse_test.go.html#7983391">s</a></span>&nbsp;<span class="op" id="7983415">!=</span>&nbsp;<span class="ident" id="7983418"><a href="/gostd/regexp/syntax/parse_test.go.html#7983039">tt</a></span><span class="op" id="7983420">.</span><span class="ident" id="7983421"><a href="/gostd/regexp/syntax/parse_test.go.html#7969672">Regexp</a></span>&nbsp;<span class="op" id="7983428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7983433">//&nbsp;If&nbsp;ToString&nbsp;didn&#39;t&nbsp;return&nbsp;the&nbsp;original&nbsp;regexp,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7983486">//&nbsp;it&nbsp;must&nbsp;have&nbsp;found&nbsp;one&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7983534">//&nbsp;Unfortunately&nbsp;we&nbsp;can&#39;t&nbsp;check&nbsp;the&nbsp;length&nbsp;here,&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7983594">//&nbsp;ToString&nbsp;produces&nbsp;&#34;\\{&#34;&nbsp;for&nbsp;a&nbsp;literal&nbsp;brace,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7983645">//&nbsp;but&nbsp;&#34;{&#34;&nbsp;is&nbsp;a&nbsp;shorter&nbsp;equivalent&nbsp;in&nbsp;some&nbsp;contexts.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983701">nre</span><span class="op" id="7983704">,</span>&nbsp;<span class="ident" id="7983706">err</span>&nbsp;<span class="op" id="7983710">:=</span>&nbsp;<span class="ident" id="7983713"><a href="/gostd/regexp/syntax/parse.go.html#3628333">Parse</a></span><span class="op" id="7983718">(</span><span class="ident" id="7983719"><a href="/gostd/regexp/syntax/parse_test.go.html#7983391">s</a></span><span class="op" id="7983720">,</span>&nbsp;<span class="ident" id="7983722"><a href="/gostd/regexp/syntax/parse_test.go.html#7976009">testFlags</a></span><span class="op" id="7983731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7983736">if</span>&nbsp;<span class="ident" id="7983739"><a href="/gostd/regexp/syntax/parse_test.go.html#7983706">err</a></span>&nbsp;<span class="op" id="7983743">!=</span>&nbsp;<span class="builtintype" id="7983746">nil</span>&nbsp;<span class="op" id="7983750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983756"><a href="/gostd/regexp/syntax/parse_test.go.html#7983015">t</a></span><span class="op" id="7983757">.</span><span class="ident" id="7983758"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7983764">(</span><span class="string" id="7983765">&#34;Parse(%#q.String()&nbsp;=&nbsp;%#q):&nbsp;%v&#34;</span><span class="op" id="7983796">,</span>&nbsp;<span class="ident" id="7983798"><a href="/gostd/regexp/syntax/parse_test.go.html#7983039">tt</a></span><span class="op" id="7983800">.</span><span class="ident" id="7983801"><a href="/gostd/regexp/syntax/parse_test.go.html#7969672">Regexp</a></span><span class="op" id="7983807">,</span>&nbsp;<span class="ident" id="7983809"><a href="/gostd/regexp/syntax/parse_test.go.html#7983391">s</a></span><span class="op" id="7983810">,</span>&nbsp;<span class="ident" id="7983812"><a href="/gostd/regexp/syntax/parse_test.go.html#7983706">err</a></span><span class="op" id="7983815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7983821">continue</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7983833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983838">nd</span>&nbsp;<span class="op" id="7983841">:=</span>&nbsp;<span class="ident" id="7983844"><a href="/gostd/regexp/syntax/parse_test.go.html#7977795">dump</a></span><span class="op" id="7983848">(</span><span class="ident" id="7983849"><a href="/gostd/regexp/syntax/parse_test.go.html#7983701">nre</a></span><span class="op" id="7983852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7983857">if</span>&nbsp;<span class="ident" id="7983860"><a href="/gostd/regexp/syntax/parse_test.go.html#7983267">d</a></span>&nbsp;<span class="op" id="7983862">!=</span>&nbsp;<span class="ident" id="7983865"><a href="/gostd/regexp/syntax/parse_test.go.html#7983838">nd</a></span>&nbsp;<span class="op" id="7983868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983874"><a href="/gostd/regexp/syntax/parse_test.go.html#7983015">t</a></span><span class="op" id="7983875">.</span><span class="ident" id="7983876"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7983882">(</span><span class="string" id="7983883">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q;&nbsp;%#q&nbsp;vs&nbsp;%#q&#34;</span><span class="op" id="7983914">,</span>&nbsp;<span class="ident" id="7983916"><a href="/gostd/regexp/syntax/parse_test.go.html#7983039">tt</a></span><span class="op" id="7983918">.</span><span class="ident" id="7983919"><a href="/gostd/regexp/syntax/parse_test.go.html#7969672">Regexp</a></span><span class="op" id="7983925">,</span>&nbsp;<span class="ident" id="7983927"><a href="/gostd/regexp/syntax/parse_test.go.html#7983391">s</a></span><span class="op" id="7983928">,</span>&nbsp;<span class="ident" id="7983930"><a href="/gostd/regexp/syntax/parse_test.go.html#7983267">d</a></span><span class="op" id="7983931">,</span>&nbsp;<span class="ident" id="7983933"><a href="/gostd/regexp/syntax/parse_test.go.html#7983838">nd</a></span><span class="op" id="7983935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7983940">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983946">ns</span>&nbsp;<span class="op" id="7983949">:=</span>&nbsp;<span class="ident" id="7983952"><a href="/gostd/regexp/syntax/parse_test.go.html#7983701">nre</a></span><span class="op" id="7983955">.</span><span class="ident" id="7983956"><a href="/gostd/regexp/syntax/regexp.go.html#3672908">String</a></span><span class="op" id="7983962">(</span><span class="op" id="7983963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7983968">if</span>&nbsp;<span class="ident" id="7983971"><a href="/gostd/regexp/syntax/parse_test.go.html#7983391">s</a></span>&nbsp;<span class="op" id="7983973">!=</span>&nbsp;<span class="ident" id="7983976"><a href="/gostd/regexp/syntax/parse_test.go.html#7983946">ns</a></span>&nbsp;<span class="op" id="7983979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7983985"><a href="/gostd/regexp/syntax/parse_test.go.html#7983015">t</a></span><span class="op" id="7983986">.</span><span class="ident" id="7983987"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7983993">(</span><span class="string" id="7983994">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q&nbsp;-&gt;&nbsp;%#q&#34;</span><span class="op" id="7984020">,</span>&nbsp;<span class="ident" id="7984022"><a href="/gostd/regexp/syntax/parse_test.go.html#7983039">tt</a></span><span class="op" id="7984024">.</span><span class="ident" id="7984025"><a href="/gostd/regexp/syntax/parse_test.go.html#7969672">Regexp</a></span><span class="op" id="7984031">,</span>&nbsp;<span class="ident" id="7984033"><a href="/gostd/regexp/syntax/parse_test.go.html#7983391">s</a></span><span class="op" id="7984034">,</span>&nbsp;<span class="ident" id="7984036"><a href="/gostd/regexp/syntax/parse_test.go.html#7983946">ns</a></span><span class="op" id="7984038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7984043">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7984047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7984050">}</span><br>
<span class="lineno"></span><span class="op" id="7984052">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
