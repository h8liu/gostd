<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html" class="current">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2023520">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2023575">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2023629">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2023680">package</span>&nbsp;<span class="ident" id="2023688">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2023694">import</span>&nbsp;<span class="op" id="2023701">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2023704">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2023713">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">10</span><span class="op" id="2023728">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2023731">const</span>&nbsp;<span class="op" id="2023737">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2023740">caseMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2023753">=</span>&nbsp;<span class="op" id="2023755">^</span><span class="builtintype" id="2023756">byte</span><span class="op" id="2023760">(</span><span class="num" id="2023761">0x20</span><span class="op" id="2023765">)</span>&nbsp;<span class="comment" id="2023767">//&nbsp;Mask&nbsp;to&nbsp;ignore&nbsp;case&nbsp;in&nbsp;ASCII.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2023801">kelvin</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2023814">=</span>&nbsp;<span class="string" id="2023816">&#39;\u212a&#39;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2023826">smallLongEss</span>&nbsp;<span class="op" id="2023839">=</span>&nbsp;<span class="string" id="2023841">&#39;\u017f&#39;</span><br>
<span class="lineno"></span><span class="op" id="2023850">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2023853">//&nbsp;foldFunc&nbsp;returns&nbsp;one&nbsp;of&nbsp;four&nbsp;different&nbsp;case&nbsp;folding&nbsp;equivalence</span><br>
<span class="lineno"></span><span class="comment" id="2023920">//&nbsp;functions,&nbsp;from&nbsp;most&nbsp;general&nbsp;(and&nbsp;slow)&nbsp;to&nbsp;fastest:</span><br>
<span class="lineno">20</span><span class="comment" id="2023975">//</span><br>
<span class="lineno"></span><span class="comment" id="2023978">//&nbsp;1)&nbsp;bytes.EqualFold,&nbsp;if&nbsp;the&nbsp;key&nbsp;s&nbsp;contains&nbsp;any&nbsp;non-ASCII&nbsp;UTF-8</span><br>
<span class="lineno"></span><span class="comment" id="2024043">//&nbsp;2)&nbsp;equalFoldRight,&nbsp;if&nbsp;s&nbsp;contains&nbsp;special&nbsp;folding&nbsp;ASCII&nbsp;(&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;&#39;S&#39;)</span><br>
<span class="lineno"></span><span class="comment" id="2024122">//&nbsp;3)&nbsp;asciiEqualFold,&nbsp;no&nbsp;special,&nbsp;but&nbsp;includes&nbsp;non-letters&nbsp;(including&nbsp;_)</span><br>
<span class="lineno"></span><span class="comment" id="2024195">//&nbsp;4)&nbsp;simpleLetterEqualFold,&nbsp;no&nbsp;specials,&nbsp;no&nbsp;non-letters.</span><br>
<span class="lineno">25</span><span class="comment" id="2024253">//</span><br>
<span class="lineno"></span><span class="comment" id="2024256">//&nbsp;The&nbsp;letters&nbsp;S&nbsp;and&nbsp;K&nbsp;are&nbsp;special&nbsp;because&nbsp;they&nbsp;map&nbsp;to&nbsp;3&nbsp;runes,&nbsp;not&nbsp;just&nbsp;2:</span><br>
<span class="lineno"></span><span class="comment" id="2024332">//&nbsp;&nbsp;*&nbsp;S&nbsp;maps&nbsp;to&nbsp;s&nbsp;and&nbsp;to&nbsp;U+017F&nbsp;&#39;ſ&#39;&nbsp;Latin&nbsp;small&nbsp;letter&nbsp;long&nbsp;s</span><br>
<span class="lineno"></span><span class="comment" id="2024395">//&nbsp;&nbsp;*&nbsp;k&nbsp;maps&nbsp;to&nbsp;K&nbsp;and&nbsp;to&nbsp;U+212A&nbsp;&#39;K&#39;&nbsp;Kelvin&nbsp;sign</span><br>
<span class="lineno"></span><span class="comment" id="2024445">//&nbsp;See&nbsp;http://play.golang.org/p/tTxjOc0OGo</span><br>
<span class="lineno">30</span><span class="comment" id="2024488">//</span><br>
<span class="lineno"></span><span class="comment" id="2024491">//&nbsp;The&nbsp;returned&nbsp;function&nbsp;is&nbsp;specialized&nbsp;for&nbsp;matching&nbsp;against&nbsp;s&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2024558">//&nbsp;should&nbsp;only&nbsp;be&nbsp;given&nbsp;s.&nbsp;It&#39;s&nbsp;not&nbsp;curried&nbsp;for&nbsp;performance&nbsp;reasons.</span><br>
<span class="lineno"></span><span class="keyword" id="2024627">func</span>&nbsp;<span class="ident" id="2024632">foldFunc</span><span class="op" id="2024640">(</span><span class="ident" id="2024641">s</span>&nbsp;<span class="op" id="2024643">[</span><span class="op" id="2024644">]</span><span class="builtintype" id="2024645">byte</span><span class="op" id="2024649">)</span>&nbsp;<span class="keyword" id="2024651">func</span><span class="op" id="2024655">(</span><span class="ident" id="2024656">s</span><span class="op" id="2024657">,</span>&nbsp;<span class="ident" id="2024659">t</span>&nbsp;<span class="op" id="2024661">[</span><span class="op" id="2024662">]</span><span class="builtintype" id="2024663">byte</span><span class="op" id="2024667">)</span>&nbsp;<span class="builtintype" id="2024669">bool</span>&nbsp;<span class="op" id="2024674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2024677">nonLetter</span>&nbsp;<span class="op" id="2024687">:=</span>&nbsp;<span class="builtintype" id="2024690">false</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2024697">special</span>&nbsp;<span class="op" id="2024705">:=</span>&nbsp;<span class="builtintype" id="2024708">false</span>&nbsp;<span class="comment" id="2024714">//&nbsp;special&nbsp;letter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2024733">for</span>&nbsp;<span class="ident" id="2024737">_</span><span class="op" id="2024738">,</span>&nbsp;<span class="ident" id="2024740">b</span>&nbsp;<span class="op" id="2024742">:=</span>&nbsp;<span class="keyword" id="2024745">range</span>&nbsp;<span class="ident" id="2024751">s</span>&nbsp;<span class="op" id="2024753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2024757">if</span>&nbsp;<span class="ident" id="2024760">b</span>&nbsp;<span class="op" id="2024762">&gt;=</span>&nbsp;<span class="ident" id="2024765">utf8</span><span class="op" id="2024769">.</span><span class="ident" id="2024770">RuneSelf</span>&nbsp;<span class="op" id="2024779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2024784">return</span>&nbsp;<span class="ident" id="2024791">bytes</span><span class="op" id="2024796">.</span><span class="ident" id="2024797">EqualFold</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2024809">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2024813">upper</span>&nbsp;<span class="op" id="2024819">:=</span>&nbsp;<span class="ident" id="2024822">b</span>&nbsp;<span class="op" id="2024824">&amp;</span>&nbsp;<span class="ident" id="2024826">caseMask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2024837">if</span>&nbsp;<span class="ident" id="2024840">upper</span>&nbsp;<span class="op" id="2024846">&lt;</span>&nbsp;<span class="string" id="2024848">&#39;A&#39;</span>&nbsp;<span class="op" id="2024852">||</span>&nbsp;<span class="ident" id="2024855">upper</span>&nbsp;<span class="op" id="2024861">&gt;</span>&nbsp;<span class="string" id="2024863">&#39;Z&#39;</span>&nbsp;<span class="op" id="2024867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2024872">nonLetter</span>&nbsp;<span class="op" id="2024882">=</span>&nbsp;<span class="builtintype" id="2024884">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2024891">}</span>&nbsp;<span class="keyword" id="2024893">else</span>&nbsp;<span class="keyword" id="2024898">if</span>&nbsp;<span class="ident" id="2024901">upper</span>&nbsp;<span class="op" id="2024907">==</span>&nbsp;<span class="string" id="2024910">&#39;K&#39;</span>&nbsp;<span class="op" id="2024914">||</span>&nbsp;<span class="ident" id="2024917">upper</span>&nbsp;<span class="op" id="2024923">==</span>&nbsp;<span class="string" id="2024926">&#39;S&#39;</span>&nbsp;<span class="op" id="2024930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2024935">//&nbsp;See&nbsp;above&nbsp;for&nbsp;why&nbsp;these&nbsp;letters&nbsp;are&nbsp;special.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2024986">special</span>&nbsp;<span class="op" id="2024994">=</span>&nbsp;<span class="builtintype" id="2024996">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2025003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2025006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025009">if</span>&nbsp;<span class="ident" id="2025012">special</span>&nbsp;<span class="op" id="2025020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025024">return</span>&nbsp;<span class="ident" id="2025031">equalFoldRight</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2025047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025050">if</span>&nbsp;<span class="ident" id="2025053">nonLetter</span>&nbsp;<span class="op" id="2025063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025067">return</span>&nbsp;<span class="ident" id="2025074">asciiEqualFold</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2025090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025093">return</span>&nbsp;<span class="ident" id="2025100">simpleLetterEqualFold</span><br>
<span class="lineno">55</span><span class="op" id="2025122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2025125">//&nbsp;equalFoldRight&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;when&nbsp;s&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2025192">//&nbsp;known&nbsp;to&nbsp;be&nbsp;all&nbsp;ASCII&nbsp;(including&nbsp;punctuation),&nbsp;but&nbsp;contains&nbsp;an&nbsp;&#39;s&#39;,</span><br>
<span class="lineno"></span><span class="comment" id="2025263">//&nbsp;&#39;S&#39;,&nbsp;&#39;k&#39;,&nbsp;or&nbsp;&#39;K&#39;,&nbsp;requiring&nbsp;a&nbsp;Unicode&nbsp;fold&nbsp;on&nbsp;the&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno">60</span><span class="comment" id="2025328">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="2025357">func</span>&nbsp;<span class="ident" id="2025362">equalFoldRight</span><span class="op" id="2025376">(</span><span class="ident" id="2025377">s</span><span class="op" id="2025378">,</span>&nbsp;<span class="ident" id="2025380">t</span>&nbsp;<span class="op" id="2025382">[</span><span class="op" id="2025383">]</span><span class="builtintype" id="2025384">byte</span><span class="op" id="2025388">)</span>&nbsp;<span class="builtintype" id="2025390">bool</span>&nbsp;<span class="op" id="2025395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025398">for</span>&nbsp;<span class="ident" id="2025402">_</span><span class="op" id="2025403">,</span>&nbsp;<span class="ident" id="2025405">sb</span>&nbsp;<span class="op" id="2025408">:=</span>&nbsp;<span class="keyword" id="2025411">range</span>&nbsp;<span class="ident" id="2025417">s</span>&nbsp;<span class="op" id="2025419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025423">if</span>&nbsp;<span class="builtinfunc" id="2025426">len</span><span class="op" id="2025429">(</span><span class="ident" id="2025430">t</span><span class="op" id="2025431">)</span>&nbsp;<span class="op" id="2025433">==</span>&nbsp;<span class="num" id="2025436">0</span>&nbsp;<span class="op" id="2025438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025443">return</span>&nbsp;<span class="builtintype" id="2025450">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2025458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2025462">tb</span>&nbsp;<span class="op" id="2025465">:=</span>&nbsp;<span class="ident" id="2025468">t</span><span class="op" id="2025469">[</span><span class="num" id="2025470">0</span><span class="op" id="2025471">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025475">if</span>&nbsp;<span class="ident" id="2025478">tb</span>&nbsp;<span class="op" id="2025481">&lt;</span>&nbsp;<span class="ident" id="2025483">utf8</span><span class="op" id="2025487">.</span><span class="ident" id="2025488">RuneSelf</span>&nbsp;<span class="op" id="2025497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025502">if</span>&nbsp;<span class="ident" id="2025505">sb</span>&nbsp;<span class="op" id="2025508">!=</span>&nbsp;<span class="ident" id="2025511">tb</span>&nbsp;<span class="op" id="2025514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2025520">sbUpper</span>&nbsp;<span class="op" id="2025528">:=</span>&nbsp;<span class="ident" id="2025531">sb</span>&nbsp;<span class="op" id="2025534">&amp;</span>&nbsp;<span class="ident" id="2025536">caseMask</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025549">if</span>&nbsp;<span class="string" id="2025552">&#39;A&#39;</span>&nbsp;<span class="op" id="2025556">&lt;=</span>&nbsp;<span class="ident" id="2025559">sbUpper</span>&nbsp;<span class="op" id="2025567">&amp;&amp;</span>&nbsp;<span class="ident" id="2025570">sbUpper</span>&nbsp;<span class="op" id="2025578">&lt;=</span>&nbsp;<span class="string" id="2025581">&#39;Z&#39;</span>&nbsp;<span class="op" id="2025585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025592">if</span>&nbsp;<span class="ident" id="2025595">sbUpper</span>&nbsp;<span class="op" id="2025603">!=</span>&nbsp;<span class="ident" id="2025606">tb</span><span class="op" id="2025608">&amp;</span><span class="ident" id="2025609">caseMask</span>&nbsp;<span class="op" id="2025618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025626">return</span>&nbsp;<span class="builtintype" id="2025633">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2025644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2025650">}</span>&nbsp;<span class="keyword" id="2025652">else</span>&nbsp;<span class="op" id="2025657">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025664">return</span>&nbsp;<span class="builtintype" id="2025671">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2025681">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2025686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2025691">t</span>&nbsp;<span class="op" id="2025693">=</span>&nbsp;<span class="ident" id="2025695">t</span><span class="op" id="2025696">[</span><span class="num" id="2025697">1</span><span class="op" id="2025698">:</span><span class="op" id="2025699">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025704">continue</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2025715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2025719">//&nbsp;sb&nbsp;is&nbsp;ASCII&nbsp;and&nbsp;t&nbsp;is&nbsp;not.&nbsp;t&nbsp;must&nbsp;be&nbsp;either&nbsp;kelvin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2025774">//&nbsp;sign&nbsp;or&nbsp;long&nbsp;s;&nbsp;sb&nbsp;must&nbsp;be&nbsp;s,&nbsp;S,&nbsp;k,&nbsp;or&nbsp;K.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2025821">tr</span><span class="op" id="2025823">,</span>&nbsp;<span class="ident" id="2025825">size</span>&nbsp;<span class="op" id="2025830">:=</span>&nbsp;<span class="ident" id="2025833">utf8</span><span class="op" id="2025837">.</span><span class="ident" id="2025838">DecodeRune</span><span class="op" id="2025848">(</span><span class="ident" id="2025849">t</span><span class="op" id="2025850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025854">switch</span>&nbsp;<span class="ident" id="2025861">sb</span>&nbsp;<span class="op" id="2025864">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025868">case</span>&nbsp;<span class="string" id="2025873">&#39;s&#39;</span><span class="op" id="2025876">,</span>&nbsp;<span class="string" id="2025878">&#39;S&#39;</span><span class="op" id="2025881">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025886">if</span>&nbsp;<span class="ident" id="2025889">tr</span>&nbsp;<span class="op" id="2025892">!=</span>&nbsp;<span class="ident" id="2025895">smallLongEss</span>&nbsp;<span class="op" id="2025908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025914">return</span>&nbsp;<span class="builtintype" id="2025921">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2025930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025934">case</span>&nbsp;<span class="string" id="2025939">&#39;k&#39;</span><span class="op" id="2025942">,</span>&nbsp;<span class="string" id="2025944">&#39;K&#39;</span><span class="op" id="2025947">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025952">if</span>&nbsp;<span class="ident" id="2025955">tr</span>&nbsp;<span class="op" id="2025958">!=</span>&nbsp;<span class="ident" id="2025961">kelvin</span>&nbsp;<span class="op" id="2025968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025974">return</span>&nbsp;<span class="builtintype" id="2025981">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2025990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2025994">default</span><span class="op" id="2026001">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026006">return</span>&nbsp;<span class="builtintype" id="2026013">false</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2026021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2026025">t</span>&nbsp;<span class="op" id="2026027">=</span>&nbsp;<span class="ident" id="2026029">t</span><span class="op" id="2026030">[</span><span class="ident" id="2026031">size</span><span class="op" id="2026035">:</span><span class="op" id="2026036">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2026040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026043">if</span>&nbsp;<span class="builtinfunc" id="2026046">len</span><span class="op" id="2026049">(</span><span class="ident" id="2026050">t</span><span class="op" id="2026051">)</span>&nbsp;<span class="op" id="2026053">&gt;</span>&nbsp;<span class="num" id="2026055">0</span>&nbsp;<span class="op" id="2026057">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026061">return</span>&nbsp;<span class="builtintype" id="2026068">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2026075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026078">return</span>&nbsp;<span class="builtintype" id="2026085">true</span><br>
<span class="lineno"></span><span class="op" id="2026090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="2026093">//&nbsp;asciiEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for&nbsp;use&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="2026163">//&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;(but&nbsp;may&nbsp;contain&nbsp;non-letters)&nbsp;and&nbsp;contains&nbsp;no</span><br>
<span class="lineno"></span><span class="comment" id="2026227">//&nbsp;special-folding&nbsp;letters.</span><br>
<span class="lineno"></span><span class="comment" id="2026255">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="2026284">func</span>&nbsp;<span class="ident" id="2026289">asciiEqualFold</span><span class="op" id="2026303">(</span><span class="ident" id="2026304">s</span><span class="op" id="2026305">,</span>&nbsp;<span class="ident" id="2026307">t</span>&nbsp;<span class="op" id="2026309">[</span><span class="op" id="2026310">]</span><span class="builtintype" id="2026311">byte</span><span class="op" id="2026315">)</span>&nbsp;<span class="builtintype" id="2026317">bool</span>&nbsp;<span class="op" id="2026322">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026325">if</span>&nbsp;<span class="builtinfunc" id="2026328">len</span><span class="op" id="2026331">(</span><span class="ident" id="2026332">s</span><span class="op" id="2026333">)</span>&nbsp;<span class="op" id="2026335">!=</span>&nbsp;<span class="builtinfunc" id="2026338">len</span><span class="op" id="2026341">(</span><span class="ident" id="2026342">t</span><span class="op" id="2026343">)</span>&nbsp;<span class="op" id="2026345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026349">return</span>&nbsp;<span class="builtintype" id="2026356">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2026363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026366">for</span>&nbsp;<span class="ident" id="2026370">i</span><span class="op" id="2026371">,</span>&nbsp;<span class="ident" id="2026373">sb</span>&nbsp;<span class="op" id="2026376">:=</span>&nbsp;<span class="keyword" id="2026379">range</span>&nbsp;<span class="ident" id="2026385">s</span>&nbsp;<span class="op" id="2026387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2026391">tb</span>&nbsp;<span class="op" id="2026394">:=</span>&nbsp;<span class="ident" id="2026397">t</span><span class="op" id="2026398">[</span><span class="ident" id="2026399">i</span><span class="op" id="2026400">]</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026404">if</span>&nbsp;<span class="ident" id="2026407">sb</span>&nbsp;<span class="op" id="2026410">==</span>&nbsp;<span class="ident" id="2026413">tb</span>&nbsp;<span class="op" id="2026416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026421">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2026432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026436">if</span>&nbsp;<span class="op" id="2026439">(</span><span class="string" id="2026440">&#39;a&#39;</span>&nbsp;<span class="op" id="2026444">&lt;=</span>&nbsp;<span class="ident" id="2026447">sb</span>&nbsp;<span class="op" id="2026450">&amp;&amp;</span>&nbsp;<span class="ident" id="2026453">sb</span>&nbsp;<span class="op" id="2026456">&lt;=</span>&nbsp;<span class="string" id="2026459">&#39;z&#39;</span><span class="op" id="2026462">)</span>&nbsp;<span class="op" id="2026464">||</span>&nbsp;<span class="op" id="2026467">(</span><span class="string" id="2026468">&#39;A&#39;</span>&nbsp;<span class="op" id="2026472">&lt;=</span>&nbsp;<span class="ident" id="2026475">sb</span>&nbsp;<span class="op" id="2026478">&amp;&amp;</span>&nbsp;<span class="ident" id="2026481">sb</span>&nbsp;<span class="op" id="2026484">&lt;=</span>&nbsp;<span class="string" id="2026487">&#39;Z&#39;</span><span class="op" id="2026490">)</span>&nbsp;<span class="op" id="2026492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026497">if</span>&nbsp;<span class="ident" id="2026500">sb</span><span class="op" id="2026502">&amp;</span><span class="ident" id="2026503">caseMask</span>&nbsp;<span class="op" id="2026512">!=</span>&nbsp;<span class="ident" id="2026515">tb</span><span class="op" id="2026517">&amp;</span><span class="ident" id="2026518">caseMask</span>&nbsp;<span class="op" id="2026527">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026533">return</span>&nbsp;<span class="builtintype" id="2026540">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2026549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2026553">}</span>&nbsp;<span class="keyword" id="2026555">else</span>&nbsp;<span class="op" id="2026560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026565">return</span>&nbsp;<span class="builtintype" id="2026572">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2026580">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2026583">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026586">return</span>&nbsp;<span class="builtintype" id="2026593">true</span><br>
<span class="lineno"></span><span class="op" id="2026598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2026601">//&nbsp;simpleLetterEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for</span><br>
<span class="lineno">130</span><span class="comment" id="2026669">//&nbsp;use&nbsp;when&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;letters&nbsp;(no&nbsp;underscores,&nbsp;etc)&nbsp;and&nbsp;also</span><br>
<span class="lineno"></span><span class="comment" id="2026735">//&nbsp;doesn&#39;t&nbsp;contain&nbsp;&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;or&nbsp;&#39;S&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="2026777">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="2026806">func</span>&nbsp;<span class="ident" id="2026811">simpleLetterEqualFold</span><span class="op" id="2026832">(</span><span class="ident" id="2026833">s</span><span class="op" id="2026834">,</span>&nbsp;<span class="ident" id="2026836">t</span>&nbsp;<span class="op" id="2026838">[</span><span class="op" id="2026839">]</span><span class="builtintype" id="2026840">byte</span><span class="op" id="2026844">)</span>&nbsp;<span class="builtintype" id="2026846">bool</span>&nbsp;<span class="op" id="2026851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026854">if</span>&nbsp;<span class="builtinfunc" id="2026857">len</span><span class="op" id="2026860">(</span><span class="ident" id="2026861">s</span><span class="op" id="2026862">)</span>&nbsp;<span class="op" id="2026864">!=</span>&nbsp;<span class="builtinfunc" id="2026867">len</span><span class="op" id="2026870">(</span><span class="ident" id="2026871">t</span><span class="op" id="2026872">)</span>&nbsp;<span class="op" id="2026874">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026878">return</span>&nbsp;<span class="builtintype" id="2026885">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2026892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026895">for</span>&nbsp;<span class="ident" id="2026899">i</span><span class="op" id="2026900">,</span>&nbsp;<span class="ident" id="2026902">b</span>&nbsp;<span class="op" id="2026904">:=</span>&nbsp;<span class="keyword" id="2026907">range</span>&nbsp;<span class="ident" id="2026913">s</span>&nbsp;<span class="op" id="2026915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026919">if</span>&nbsp;<span class="ident" id="2026922">b</span><span class="op" id="2026923">&amp;</span><span class="ident" id="2026924">caseMask</span>&nbsp;<span class="op" id="2026933">!=</span>&nbsp;<span class="ident" id="2026936">t</span><span class="op" id="2026937">[</span><span class="ident" id="2026938">i</span><span class="op" id="2026939">]</span><span class="op" id="2026940">&amp;</span><span class="ident" id="2026941">caseMask</span>&nbsp;<span class="op" id="2026950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026955">return</span>&nbsp;<span class="builtintype" id="2026962">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2026970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2026973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2026976">return</span>&nbsp;<span class="builtintype" id="2026983">true</span><br>
<span class="lineno"></span><span class="op" id="2026988">}</span>
</div>
</body>
</html>
