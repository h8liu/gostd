<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6571234">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6571289">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6571343">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6571394">package</span>&nbsp;<span class="ident" id="6571402">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6571411">import</span>&nbsp;<span class="op" id="6571418">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6571421">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6571430">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6571437">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6571443">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6571454">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6571465">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="6571480">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="6571483">//&nbsp;A&nbsp;StringReader&nbsp;delivers&nbsp;its&nbsp;data&nbsp;one&nbsp;string&nbsp;segment&nbsp;at&nbsp;a&nbsp;time&nbsp;via&nbsp;Read.</span><br>
<span class="lineno"></span><span class="keyword" id="6571558">type</span>&nbsp;<span class="ident" id="6571563">StringReader</span>&nbsp;<span class="keyword" id="6571576">struct</span>&nbsp;<span class="op" id="6571583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571586">data</span>&nbsp;<span class="op" id="6571591">[</span><span class="op" id="6571592">]</span><span class="builtintype" id="6571593">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571601">step</span>&nbsp;<span class="builtintype" id="6571606">int</span><br>
<span class="lineno">20</span><span class="op" id="6571610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6571613">func</span>&nbsp;<span class="op" id="6571618">(</span><span class="ident" id="6571619">r</span>&nbsp;<span class="op" id="6571621">*</span><span class="ident" id="6571622"><a href="/text/scanner/scanner_test.go.html#6571563">StringReader</a></span><span class="op" id="6571634">)</span>&nbsp;<span class="ident" id="6571636">Read</span><span class="op" id="6571640">(</span><span class="ident" id="6571641">p</span>&nbsp;<span class="op" id="6571643">[</span><span class="op" id="6571644">]</span><span class="builtintype" id="6571645">byte</span><span class="op" id="6571649">)</span>&nbsp;<span class="op" id="6571651">(</span><span class="ident" id="6571652">n</span>&nbsp;<span class="builtintype" id="6571654">int</span><span class="op" id="6571657">,</span>&nbsp;<span class="ident" id="6571659">err</span>&nbsp;<span class="builtintype" id="6571663">error</span><span class="op" id="6571668">)</span>&nbsp;<span class="op" id="6571670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6571673">if</span>&nbsp;<span class="ident" id="6571676"><a href="/text/scanner/scanner_test.go.html#6571619">r</a></span><span class="op" id="6571677">.</span><span class="ident" id="6571678">step</span>&nbsp;<span class="op" id="6571683">&lt;</span>&nbsp;<span class="builtinfunc" id="6571685">len</span><span class="op" id="6571688">(</span><span class="ident" id="6571689"><a href="/text/scanner/scanner_test.go.html#6571619">r</a></span><span class="op" id="6571690">.</span><span class="ident" id="6571691">data</span><span class="op" id="6571695">)</span>&nbsp;<span class="op" id="6571697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571701">s</span>&nbsp;<span class="op" id="6571703">:=</span>&nbsp;<span class="ident" id="6571706"><a href="/text/scanner/scanner_test.go.html#6571619">r</a></span><span class="op" id="6571707">.</span><span class="ident" id="6571708">data</span><span class="op" id="6571712">[</span><span class="ident" id="6571713"><a href="/text/scanner/scanner_test.go.html#6571619">r</a></span><span class="op" id="6571714">.</span><span class="ident" id="6571715">step</span><span class="op" id="6571719">]</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571723"><a href="/text/scanner/scanner_test.go.html#6571652">n</a></span>&nbsp;<span class="op" id="6571725">=</span>&nbsp;<span class="builtinfunc" id="6571727">copy</span><span class="op" id="6571731">(</span><span class="ident" id="6571732"><a href="/text/scanner/scanner_test.go.html#6571641">p</a></span><span class="op" id="6571733">,</span>&nbsp;<span class="ident" id="6571735"><a href="/text/scanner/scanner_test.go.html#6571701">s</a></span><span class="op" id="6571736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571740"><a href="/text/scanner/scanner_test.go.html#6571619">r</a></span><span class="op" id="6571741">.</span><span class="ident" id="6571742">step</span><span class="op" id="6571746">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6571750">}</span>&nbsp;<span class="keyword" id="6571752">else</span>&nbsp;<span class="op" id="6571757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571761"><a href="/text/scanner/scanner_test.go.html#6571659">err</a></span>&nbsp;<span class="op" id="6571765">=</span>&nbsp;<span class="ident" id="6571767"><a href="/text/scanner/scanner_test.go.html#6571437">io</a></span><span class="op" id="6571769">.</span><span class="ident" id="6571770">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6571775">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6571778">return</span><br>
<span class="lineno"></span><span class="op" id="6571785">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6571788">func</span>&nbsp;<span class="ident" id="6571793">readRuneSegments</span><span class="op" id="6571809">(</span><span class="ident" id="6571810">t</span>&nbsp;<span class="op" id="6571812">*</span><span class="ident" id="6571813"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6571820">.</span><span class="ident" id="6571821">T</span><span class="op" id="6571822">,</span>&nbsp;<span class="ident" id="6571824">segments</span>&nbsp;<span class="op" id="6571833">[</span><span class="op" id="6571834">]</span><span class="builtintype" id="6571835">string</span><span class="op" id="6571841">)</span>&nbsp;<span class="op" id="6571843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571846">got</span>&nbsp;<span class="op" id="6571850">:=</span>&nbsp;<span class="string" id="6571853">&#34;&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571857">want</span>&nbsp;<span class="op" id="6571862">:=</span>&nbsp;<span class="ident" id="6571865"><a href="/text/scanner/scanner_test.go.html#6571443">strings</a></span><span class="op" id="6571872">.</span><span class="ident" id="6571873">Join</span><span class="op" id="6571877">(</span><span class="ident" id="6571878"><a href="/text/scanner/scanner_test.go.html#6571824">segments</a></span><span class="op" id="6571886">,</span>&nbsp;<span class="string" id="6571888">&#34;&#34;</span><span class="op" id="6571890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571893">s</span>&nbsp;<span class="op" id="6571895">:=</span>&nbsp;<span class="builtinfunc" id="6571898">new</span><span class="op" id="6571901">(</span><span class="ident" id="6571902"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6571909">)</span><span class="op" id="6571910">.</span><span class="ident" id="6571911">Init</span><span class="op" id="6571915">(</span><span class="op" id="6571916">&amp;</span><span class="ident" id="6571917"><a href="/text/scanner/scanner_test.go.html#6571563">StringReader</a></span><span class="op" id="6571929">{</span><span class="ident" id="6571930">data</span><span class="op" id="6571934">:</span>&nbsp;<span class="ident" id="6571936"><a href="/text/scanner/scanner_test.go.html#6571824">segments</a></span><span class="op" id="6571944">}</span><span class="op" id="6571945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6571948">for</span>&nbsp;<span class="op" id="6571952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6571956">ch</span>&nbsp;<span class="op" id="6571959">:=</span>&nbsp;<span class="ident" id="6571962"><a href="/text/scanner/scanner_test.go.html#6571893">s</a></span><span class="op" id="6571963">.</span><span class="ident" id="6571964">Next</span><span class="op" id="6571968">(</span><span class="op" id="6571969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6571973">if</span>&nbsp;<span class="ident" id="6571976"><a href="/text/scanner/scanner_test.go.html#6571956">ch</a></span>&nbsp;<span class="op" id="6571979">==</span>&nbsp;<span class="ident" id="6571982"><a href="/text/scanner/scanner.go.html#6170845">EOF</a></span>&nbsp;<span class="op" id="6571986">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6571991">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6571999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6572003"><a href="/text/scanner/scanner_test.go.html#6571846">got</a></span>&nbsp;<span class="op" id="6572007">+=</span>&nbsp;<span class="builtintype" id="6572010">string</span><span class="op" id="6572016">(</span><span class="ident" id="6572017"><a href="/text/scanner/scanner_test.go.html#6571956">ch</a></span><span class="op" id="6572019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572022">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6572025">if</span>&nbsp;<span class="ident" id="6572028"><a href="/text/scanner/scanner_test.go.html#6571846">got</a></span>&nbsp;<span class="op" id="6572032">!=</span>&nbsp;<span class="ident" id="6572035"><a href="/text/scanner/scanner_test.go.html#6571857">want</a></span>&nbsp;<span class="op" id="6572040">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6572044"><a href="/text/scanner/scanner_test.go.html#6571810">t</a></span><span class="op" id="6572045">.</span><span class="ident" id="6572046">Errorf</span><span class="op" id="6572052">(</span><span class="string" id="6572053">&#34;segments=%v&nbsp;got=%s&nbsp;want=%s&#34;</span><span class="op" id="6572081">,</span>&nbsp;<span class="ident" id="6572083"><a href="/text/scanner/scanner_test.go.html#6571824">segments</a></span><span class="op" id="6572091">,</span>&nbsp;<span class="ident" id="6572093"><a href="/text/scanner/scanner_test.go.html#6571846">got</a></span><span class="op" id="6572096">,</span>&nbsp;<span class="ident" id="6572098"><a href="/text/scanner/scanner_test.go.html#6571857">want</a></span><span class="op" id="6572102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572105">}</span><br>
<span class="lineno"></span><span class="op" id="6572107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6572110">var</span>&nbsp;<span class="ident" id="6572114">segmentList</span>&nbsp;<span class="op" id="6572126">=</span>&nbsp;<span class="op" id="6572128">[</span><span class="op" id="6572129">]</span><span class="op" id="6572130">[</span><span class="op" id="6572131">]</span><span class="builtintype" id="6572132">string</span><span class="op" id="6572138">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572141">{</span><span class="op" id="6572142">}</span><span class="op" id="6572143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572146">{</span><span class="string" id="6572147">&#34;&#34;</span><span class="op" id="6572149">}</span><span class="op" id="6572150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572153">{</span><span class="string" id="6572154">&#34;日&#34;</span><span class="op" id="6572159">,</span>&nbsp;<span class="string" id="6572161">&#34;本語&#34;</span><span class="op" id="6572169">}</span><span class="op" id="6572170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572173">{</span><span class="string" id="6572174">&#34;\u65e5&#34;</span><span class="op" id="6572182">,</span>&nbsp;<span class="string" id="6572184">&#34;\u672c&#34;</span><span class="op" id="6572192">,</span>&nbsp;<span class="string" id="6572194">&#34;\u8a9e&#34;</span><span class="op" id="6572202">}</span><span class="op" id="6572203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572206">{</span><span class="string" id="6572207">&#34;\U000065e5&#34;</span><span class="op" id="6572219">,</span>&nbsp;<span class="string" id="6572221">&#34;&nbsp;&#34;</span><span class="op" id="6572224">,</span>&nbsp;<span class="string" id="6572226">&#34;\U0000672c&#34;</span><span class="op" id="6572238">,</span>&nbsp;<span class="string" id="6572240">&#34;\U00008a9e&#34;</span><span class="op" id="6572252">}</span><span class="op" id="6572253">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572256">{</span><span class="string" id="6572257">&#34;\xe6&#34;</span><span class="op" id="6572263">,</span>&nbsp;<span class="string" id="6572265">&#34;\x97\xa5\xe6&#34;</span><span class="op" id="6572279">,</span>&nbsp;<span class="string" id="6572281">&#34;\x9c\xac\xe8\xaa\x9e&#34;</span><span class="op" id="6572303">}</span><span class="op" id="6572304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572307">{</span><span class="string" id="6572308">&#34;Hello&#34;</span><span class="op" id="6572315">,</span>&nbsp;<span class="string" id="6572317">&#34;,&nbsp;&#34;</span><span class="op" id="6572321">,</span>&nbsp;<span class="string" id="6572323">&#34;World&#34;</span><span class="op" id="6572330">,</span>&nbsp;<span class="string" id="6572332">&#34;!&#34;</span><span class="op" id="6572335">}</span><span class="op" id="6572336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572339">{</span><span class="string" id="6572340">&#34;Hello&#34;</span><span class="op" id="6572347">,</span>&nbsp;<span class="string" id="6572349">&#34;,&nbsp;&#34;</span><span class="op" id="6572353">,</span>&nbsp;<span class="string" id="6572355">&#34;&#34;</span><span class="op" id="6572357">,</span>&nbsp;<span class="string" id="6572359">&#34;World&#34;</span><span class="op" id="6572366">,</span>&nbsp;<span class="string" id="6572368">&#34;!&#34;</span><span class="op" id="6572371">}</span><span class="op" id="6572372">,</span><br>
<span class="lineno"></span><span class="op" id="6572374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="6572377">func</span>&nbsp;<span class="ident" id="6572382">TestNext</span><span class="op" id="6572390">(</span><span class="ident" id="6572391">t</span>&nbsp;<span class="op" id="6572393">*</span><span class="ident" id="6572394"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6572401">.</span><span class="ident" id="6572402">T</span><span class="op" id="6572403">)</span>&nbsp;<span class="op" id="6572405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6572408">for</span>&nbsp;<span class="ident" id="6572412">_</span><span class="op" id="6572413">,</span>&nbsp;<span class="ident" id="6572415">s</span>&nbsp;<span class="op" id="6572417">:=</span>&nbsp;<span class="keyword" id="6572420">range</span>&nbsp;<span class="ident" id="6572426"><a href="/text/scanner/scanner_test.go.html#6572114">segmentList</a></span>&nbsp;<span class="op" id="6572438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6572442"><a href="/text/scanner/scanner_test.go.html#6571793">readRuneSegments</a></span><span class="op" id="6572458">(</span><span class="ident" id="6572459"><a href="/text/scanner/scanner_test.go.html#6572391">t</a></span><span class="op" id="6572460">,</span>&nbsp;<span class="ident" id="6572462"><a href="/text/scanner/scanner_test.go.html#6572415">s</a></span><span class="op" id="6572463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572466">}</span><br>
<span class="lineno"></span><span class="op" id="6572468">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6572471">type</span>&nbsp;<span class="ident" id="6572476">token</span>&nbsp;<span class="keyword" id="6572482">struct</span>&nbsp;<span class="op" id="6572489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6572492">tok</span>&nbsp;&nbsp;<span class="builtintype" id="6572497">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6572503">text</span>&nbsp;<span class="builtintype" id="6572508">string</span><br>
<span class="lineno"></span><span class="op" id="6572515">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="6572518">var</span>&nbsp;<span class="ident" id="6572522">f100</span>&nbsp;<span class="op" id="6572527">=</span>&nbsp;<span class="string" id="6572529">&#34;ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6572633">var</span>&nbsp;<span class="ident" id="6572637">tokenList</span>&nbsp;<span class="op" id="6572647">=</span>&nbsp;<span class="op" id="6572649">[</span><span class="op" id="6572650">]</span><span class="ident" id="6572651"><a href="/text/scanner/scanner_test.go.html#6572476">token</a></span><span class="op" id="6572656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572659">{</span><span class="ident" id="6572660"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6572667">,</span>&nbsp;<span class="string" id="6572669">&#34;//&nbsp;line&nbsp;comments&#34;</span><span class="op" id="6572687">}</span><span class="op" id="6572688">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572691">{</span><span class="ident" id="6572692"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6572699">,</span>&nbsp;<span class="string" id="6572701">&#34;//&#34;</span><span class="op" id="6572705">}</span><span class="op" id="6572706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572709">{</span><span class="ident" id="6572710"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6572717">,</span>&nbsp;<span class="string" id="6572719">&#34;////&#34;</span><span class="op" id="6572725">}</span><span class="op" id="6572726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572729">{</span><span class="ident" id="6572730"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6572737">,</span>&nbsp;<span class="string" id="6572739">&#34;//&nbsp;comment&#34;</span><span class="op" id="6572751">}</span><span class="op" id="6572752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572755">{</span><span class="ident" id="6572756"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6572763">,</span>&nbsp;<span class="string" id="6572765">&#34;//&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6572783">}</span><span class="op" id="6572784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572787">{</span><span class="ident" id="6572788"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6572795">,</span>&nbsp;<span class="string" id="6572797">&#34;//&nbsp;//&nbsp;comment&nbsp;//&#34;</span><span class="op" id="6572815">}</span><span class="op" id="6572816">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572819">{</span><span class="ident" id="6572820"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6572827">,</span>&nbsp;<span class="string" id="6572829">&#34;//&#34;</span>&nbsp;<span class="op" id="6572834">+</span>&nbsp;<span class="ident" id="6572836"><a href="/text/scanner/scanner_test.go.html#6572522">f100</a></span><span class="op" id="6572840">}</span><span class="op" id="6572841">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572845">{</span><span class="ident" id="6572846"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6572853">,</span>&nbsp;<span class="string" id="6572855">&#34;//&nbsp;general&nbsp;comments&#34;</span><span class="op" id="6572876">}</span><span class="op" id="6572877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572880">{</span><span class="ident" id="6572881"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6572888">,</span>&nbsp;<span class="string" id="6572890">&#34;/**/&#34;</span><span class="op" id="6572896">}</span><span class="op" id="6572897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572900">{</span><span class="ident" id="6572901"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6572908">,</span>&nbsp;<span class="string" id="6572910">&#34;/***/&#34;</span><span class="op" id="6572917">}</span><span class="op" id="6572918">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572921">{</span><span class="ident" id="6572922"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6572929">,</span>&nbsp;<span class="string" id="6572931">&#34;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6572946">}</span><span class="op" id="6572947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572950">{</span><span class="ident" id="6572951"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6572958">,</span>&nbsp;<span class="string" id="6572960">&#34;/*&nbsp;//&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6572978">}</span><span class="op" id="6572979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6572982">{</span><span class="ident" id="6572983"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6572990">,</span>&nbsp;<span class="string" id="6572992">&#34;/*&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6573010">}</span><span class="op" id="6573011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573014">{</span><span class="ident" id="6573015"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6573022">,</span>&nbsp;<span class="string" id="6573024">&#34;/*\n&nbsp;comment\n*/&#34;</span><span class="op" id="6573042">}</span><span class="op" id="6573043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573046">{</span><span class="ident" id="6573047"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6573054">,</span>&nbsp;<span class="string" id="6573056">&#34;/*&#34;</span>&nbsp;<span class="op" id="6573061">+</span>&nbsp;<span class="ident" id="6573063"><a href="/text/scanner/scanner_test.go.html#6572522">f100</a></span>&nbsp;<span class="op" id="6573068">+</span>&nbsp;<span class="string" id="6573070">&#34;*/&#34;</span><span class="op" id="6573074">}</span><span class="op" id="6573075">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573079">{</span><span class="ident" id="6573080"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6573087">,</span>&nbsp;<span class="string" id="6573089">&#34;//&nbsp;identifiers&#34;</span><span class="op" id="6573105">}</span><span class="op" id="6573106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573109">{</span><span class="ident" id="6573110"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573115">,</span>&nbsp;<span class="string" id="6573117">&#34;a&#34;</span><span class="op" id="6573120">}</span><span class="op" id="6573121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573124">{</span><span class="ident" id="6573125"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573130">,</span>&nbsp;<span class="string" id="6573132">&#34;a0&#34;</span><span class="op" id="6573136">}</span><span class="op" id="6573137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573140">{</span><span class="ident" id="6573141"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573146">,</span>&nbsp;<span class="string" id="6573148">&#34;foobar&#34;</span><span class="op" id="6573156">}</span><span class="op" id="6573157">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573160">{</span><span class="ident" id="6573161"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573166">,</span>&nbsp;<span class="string" id="6573168">&#34;abc123&#34;</span><span class="op" id="6573176">}</span><span class="op" id="6573177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573180">{</span><span class="ident" id="6573181"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573186">,</span>&nbsp;<span class="string" id="6573188">&#34;LGTM&#34;</span><span class="op" id="6573194">}</span><span class="op" id="6573195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573198">{</span><span class="ident" id="6573199"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573204">,</span>&nbsp;<span class="string" id="6573206">&#34;_&#34;</span><span class="op" id="6573209">}</span><span class="op" id="6573210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573213">{</span><span class="ident" id="6573214"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573219">,</span>&nbsp;<span class="string" id="6573221">&#34;_abc123&#34;</span><span class="op" id="6573230">}</span><span class="op" id="6573231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573234">{</span><span class="ident" id="6573235"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573240">,</span>&nbsp;<span class="string" id="6573242">&#34;abc123_&#34;</span><span class="op" id="6573251">}</span><span class="op" id="6573252">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573255">{</span><span class="ident" id="6573256"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573261">,</span>&nbsp;<span class="string" id="6573263">&#34;_abc_123_&#34;</span><span class="op" id="6573274">}</span><span class="op" id="6573275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573278">{</span><span class="ident" id="6573279"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573284">,</span>&nbsp;<span class="string" id="6573286">&#34;_äöü&#34;</span><span class="op" id="6573295">}</span><span class="op" id="6573296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573299">{</span><span class="ident" id="6573300"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573305">,</span>&nbsp;<span class="string" id="6573307">&#34;_本&#34;</span><span class="op" id="6573313">}</span><span class="op" id="6573314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573317">{</span><span class="ident" id="6573318"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573323">,</span>&nbsp;<span class="string" id="6573325">&#34;äöü&#34;</span><span class="op" id="6573333">}</span><span class="op" id="6573334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573337">{</span><span class="ident" id="6573338"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573343">,</span>&nbsp;<span class="string" id="6573345">&#34;本&#34;</span><span class="op" id="6573350">}</span><span class="op" id="6573351">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573354">{</span><span class="ident" id="6573355"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573360">,</span>&nbsp;<span class="string" id="6573362">&#34;a۰۱۸&#34;</span><span class="op" id="6573371">}</span><span class="op" id="6573372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573375">{</span><span class="ident" id="6573376"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573381">,</span>&nbsp;<span class="string" id="6573383">&#34;foo६४&#34;</span><span class="op" id="6573394">}</span><span class="op" id="6573395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573398">{</span><span class="ident" id="6573399"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573404">,</span>&nbsp;<span class="string" id="6573406">&#34;bar９８７６&#34;</span><span class="op" id="6573423">}</span><span class="op" id="6573424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573427">{</span><span class="ident" id="6573428"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6573433">,</span>&nbsp;<span class="ident" id="6573435"><a href="/text/scanner/scanner_test.go.html#6572522">f100</a></span><span class="op" id="6573439">}</span><span class="op" id="6573440">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573444">{</span><span class="ident" id="6573445"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6573452">,</span>&nbsp;<span class="string" id="6573454">&#34;//&nbsp;decimal&nbsp;ints&#34;</span><span class="op" id="6573471">}</span><span class="op" id="6573472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573475">{</span><span class="ident" id="6573476"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573479">,</span>&nbsp;<span class="string" id="6573481">&#34;0&#34;</span><span class="op" id="6573484">}</span><span class="op" id="6573485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573488">{</span><span class="ident" id="6573489"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573492">,</span>&nbsp;<span class="string" id="6573494">&#34;1&#34;</span><span class="op" id="6573497">}</span><span class="op" id="6573498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573501">{</span><span class="ident" id="6573502"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573505">,</span>&nbsp;<span class="string" id="6573507">&#34;9&#34;</span><span class="op" id="6573510">}</span><span class="op" id="6573511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573514">{</span><span class="ident" id="6573515"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573518">,</span>&nbsp;<span class="string" id="6573520">&#34;42&#34;</span><span class="op" id="6573524">}</span><span class="op" id="6573525">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573528">{</span><span class="ident" id="6573529"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573532">,</span>&nbsp;<span class="string" id="6573534">&#34;1234567890&#34;</span><span class="op" id="6573546">}</span><span class="op" id="6573547">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573551">{</span><span class="ident" id="6573552"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6573559">,</span>&nbsp;<span class="string" id="6573561">&#34;//&nbsp;octal&nbsp;ints&#34;</span><span class="op" id="6573576">}</span><span class="op" id="6573577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573580">{</span><span class="ident" id="6573581"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573584">,</span>&nbsp;<span class="string" id="6573586">&#34;00&#34;</span><span class="op" id="6573590">}</span><span class="op" id="6573591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573594">{</span><span class="ident" id="6573595"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573598">,</span>&nbsp;<span class="string" id="6573600">&#34;01&#34;</span><span class="op" id="6573604">}</span><span class="op" id="6573605">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573608">{</span><span class="ident" id="6573609"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573612">,</span>&nbsp;<span class="string" id="6573614">&#34;07&#34;</span><span class="op" id="6573618">}</span><span class="op" id="6573619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573622">{</span><span class="ident" id="6573623"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573626">,</span>&nbsp;<span class="string" id="6573628">&#34;042&#34;</span><span class="op" id="6573633">}</span><span class="op" id="6573634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573637">{</span><span class="ident" id="6573638"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573641">,</span>&nbsp;<span class="string" id="6573643">&#34;01234567&#34;</span><span class="op" id="6573653">}</span><span class="op" id="6573654">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573658">{</span><span class="ident" id="6573659"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6573666">,</span>&nbsp;<span class="string" id="6573668">&#34;//&nbsp;hexadecimal&nbsp;ints&#34;</span><span class="op" id="6573689">}</span><span class="op" id="6573690">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573693">{</span><span class="ident" id="6573694"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573697">,</span>&nbsp;<span class="string" id="6573699">&#34;0x0&#34;</span><span class="op" id="6573704">}</span><span class="op" id="6573705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573708">{</span><span class="ident" id="6573709"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573712">,</span>&nbsp;<span class="string" id="6573714">&#34;0x1&#34;</span><span class="op" id="6573719">}</span><span class="op" id="6573720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573723">{</span><span class="ident" id="6573724"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573727">,</span>&nbsp;<span class="string" id="6573729">&#34;0xf&#34;</span><span class="op" id="6573734">}</span><span class="op" id="6573735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573738">{</span><span class="ident" id="6573739"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573742">,</span>&nbsp;<span class="string" id="6573744">&#34;0x42&#34;</span><span class="op" id="6573750">}</span><span class="op" id="6573751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573754">{</span><span class="ident" id="6573755"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573758">,</span>&nbsp;<span class="string" id="6573760">&#34;0x123456789abcDEF&#34;</span><span class="op" id="6573779">}</span><span class="op" id="6573780">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573783">{</span><span class="ident" id="6573784"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573787">,</span>&nbsp;<span class="string" id="6573789">&#34;0x&#34;</span>&nbsp;<span class="op" id="6573794">+</span>&nbsp;<span class="ident" id="6573796"><a href="/text/scanner/scanner_test.go.html#6572522">f100</a></span><span class="op" id="6573800">}</span><span class="op" id="6573801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573804">{</span><span class="ident" id="6573805"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573808">,</span>&nbsp;<span class="string" id="6573810">&#34;0X0&#34;</span><span class="op" id="6573815">}</span><span class="op" id="6573816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573819">{</span><span class="ident" id="6573820"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573823">,</span>&nbsp;<span class="string" id="6573825">&#34;0X1&#34;</span><span class="op" id="6573830">}</span><span class="op" id="6573831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573834">{</span><span class="ident" id="6573835"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573838">,</span>&nbsp;<span class="string" id="6573840">&#34;0XF&#34;</span><span class="op" id="6573845">}</span><span class="op" id="6573846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573849">{</span><span class="ident" id="6573850"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573853">,</span>&nbsp;<span class="string" id="6573855">&#34;0X42&#34;</span><span class="op" id="6573861">}</span><span class="op" id="6573862">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573865">{</span><span class="ident" id="6573866"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573869">,</span>&nbsp;<span class="string" id="6573871">&#34;0X123456789abcDEF&#34;</span><span class="op" id="6573890">}</span><span class="op" id="6573891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573894">{</span><span class="ident" id="6573895"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6573898">,</span>&nbsp;<span class="string" id="6573900">&#34;0X&#34;</span>&nbsp;<span class="op" id="6573905">+</span>&nbsp;<span class="ident" id="6573907"><a href="/text/scanner/scanner_test.go.html#6572522">f100</a></span><span class="op" id="6573911">}</span><span class="op" id="6573912">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573916">{</span><span class="ident" id="6573917"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6573924">,</span>&nbsp;<span class="string" id="6573926">&#34;//&nbsp;floats&#34;</span><span class="op" id="6573937">}</span><span class="op" id="6573938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573941">{</span><span class="ident" id="6573942"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6573947">,</span>&nbsp;<span class="string" id="6573949">&#34;0.&#34;</span><span class="op" id="6573953">}</span><span class="op" id="6573954">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573957">{</span><span class="ident" id="6573958"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6573963">,</span>&nbsp;<span class="string" id="6573965">&#34;1.&#34;</span><span class="op" id="6573969">}</span><span class="op" id="6573970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573973">{</span><span class="ident" id="6573974"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6573979">,</span>&nbsp;<span class="string" id="6573981">&#34;42.&#34;</span><span class="op" id="6573986">}</span><span class="op" id="6573987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6573990">{</span><span class="ident" id="6573991"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6573996">,</span>&nbsp;<span class="string" id="6573998">&#34;01234567890.&#34;</span><span class="op" id="6574012">}</span><span class="op" id="6574013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574016">{</span><span class="ident" id="6574017"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574022">,</span>&nbsp;<span class="string" id="6574024">&#34;.0&#34;</span><span class="op" id="6574028">}</span><span class="op" id="6574029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574032">{</span><span class="ident" id="6574033"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574038">,</span>&nbsp;<span class="string" id="6574040">&#34;.1&#34;</span><span class="op" id="6574044">}</span><span class="op" id="6574045">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574048">{</span><span class="ident" id="6574049"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574054">,</span>&nbsp;<span class="string" id="6574056">&#34;.42&#34;</span><span class="op" id="6574061">}</span><span class="op" id="6574062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574065">{</span><span class="ident" id="6574066"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574071">,</span>&nbsp;<span class="string" id="6574073">&#34;.0123456789&#34;</span><span class="op" id="6574086">}</span><span class="op" id="6574087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574090">{</span><span class="ident" id="6574091"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574096">,</span>&nbsp;<span class="string" id="6574098">&#34;0.0&#34;</span><span class="op" id="6574103">}</span><span class="op" id="6574104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574107">{</span><span class="ident" id="6574108"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574113">,</span>&nbsp;<span class="string" id="6574115">&#34;1.0&#34;</span><span class="op" id="6574120">}</span><span class="op" id="6574121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574124">{</span><span class="ident" id="6574125"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574130">,</span>&nbsp;<span class="string" id="6574132">&#34;42.0&#34;</span><span class="op" id="6574138">}</span><span class="op" id="6574139">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574142">{</span><span class="ident" id="6574143"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574148">,</span>&nbsp;<span class="string" id="6574150">&#34;01234567890.0&#34;</span><span class="op" id="6574165">}</span><span class="op" id="6574166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574169">{</span><span class="ident" id="6574170"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574175">,</span>&nbsp;<span class="string" id="6574177">&#34;0e0&#34;</span><span class="op" id="6574182">}</span><span class="op" id="6574183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574186">{</span><span class="ident" id="6574187"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574192">,</span>&nbsp;<span class="string" id="6574194">&#34;1e0&#34;</span><span class="op" id="6574199">}</span><span class="op" id="6574200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574203">{</span><span class="ident" id="6574204"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574209">,</span>&nbsp;<span class="string" id="6574211">&#34;42e0&#34;</span><span class="op" id="6574217">}</span><span class="op" id="6574218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574221">{</span><span class="ident" id="6574222"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574227">,</span>&nbsp;<span class="string" id="6574229">&#34;01234567890e0&#34;</span><span class="op" id="6574244">}</span><span class="op" id="6574245">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574248">{</span><span class="ident" id="6574249"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574254">,</span>&nbsp;<span class="string" id="6574256">&#34;0E0&#34;</span><span class="op" id="6574261">}</span><span class="op" id="6574262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574265">{</span><span class="ident" id="6574266"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574271">,</span>&nbsp;<span class="string" id="6574273">&#34;1E0&#34;</span><span class="op" id="6574278">}</span><span class="op" id="6574279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574282">{</span><span class="ident" id="6574283"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574288">,</span>&nbsp;<span class="string" id="6574290">&#34;42E0&#34;</span><span class="op" id="6574296">}</span><span class="op" id="6574297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574300">{</span><span class="ident" id="6574301"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574306">,</span>&nbsp;<span class="string" id="6574308">&#34;01234567890E0&#34;</span><span class="op" id="6574323">}</span><span class="op" id="6574324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574327">{</span><span class="ident" id="6574328"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574333">,</span>&nbsp;<span class="string" id="6574335">&#34;0e+10&#34;</span><span class="op" id="6574342">}</span><span class="op" id="6574343">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574346">{</span><span class="ident" id="6574347"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574352">,</span>&nbsp;<span class="string" id="6574354">&#34;1e-10&#34;</span><span class="op" id="6574361">}</span><span class="op" id="6574362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574365">{</span><span class="ident" id="6574366"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574371">,</span>&nbsp;<span class="string" id="6574373">&#34;42e+10&#34;</span><span class="op" id="6574381">}</span><span class="op" id="6574382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574385">{</span><span class="ident" id="6574386"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574391">,</span>&nbsp;<span class="string" id="6574393">&#34;01234567890e-10&#34;</span><span class="op" id="6574410">}</span><span class="op" id="6574411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574414">{</span><span class="ident" id="6574415"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574420">,</span>&nbsp;<span class="string" id="6574422">&#34;0E+10&#34;</span><span class="op" id="6574429">}</span><span class="op" id="6574430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574433">{</span><span class="ident" id="6574434"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574439">,</span>&nbsp;<span class="string" id="6574441">&#34;1E-10&#34;</span><span class="op" id="6574448">}</span><span class="op" id="6574449">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574452">{</span><span class="ident" id="6574453"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574458">,</span>&nbsp;<span class="string" id="6574460">&#34;42E+10&#34;</span><span class="op" id="6574468">}</span><span class="op" id="6574469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574472">{</span><span class="ident" id="6574473"><a href="/text/scanner/scanner.go.html#6170876">Float</a></span><span class="op" id="6574478">,</span>&nbsp;<span class="string" id="6574480">&#34;01234567890E-10&#34;</span><span class="op" id="6574497">}</span><span class="op" id="6574498">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574502">{</span><span class="ident" id="6574503"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6574510">,</span>&nbsp;<span class="string" id="6574512">&#34;//&nbsp;chars&#34;</span><span class="op" id="6574522">}</span><span class="op" id="6574523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574526">{</span><span class="ident" id="6574527"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574531">,</span>&nbsp;<span class="string" id="6574533">`&#39;&nbsp;&#39;`</span><span class="op" id="6574538">}</span><span class="op" id="6574539">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574542">{</span><span class="ident" id="6574543"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574547">,</span>&nbsp;<span class="string" id="6574549">`&#39;a&#39;`</span><span class="op" id="6574554">}</span><span class="op" id="6574555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574558">{</span><span class="ident" id="6574559"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574563">,</span>&nbsp;<span class="string" id="6574565">`&#39;本&#39;`</span><span class="op" id="6574572">}</span><span class="op" id="6574573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574576">{</span><span class="ident" id="6574577"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574581">,</span>&nbsp;<span class="string" id="6574583">`&#39;\a&#39;`</span><span class="op" id="6574589">}</span><span class="op" id="6574590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574593">{</span><span class="ident" id="6574594"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574598">,</span>&nbsp;<span class="string" id="6574600">`&#39;\b&#39;`</span><span class="op" id="6574606">}</span><span class="op" id="6574607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574610">{</span><span class="ident" id="6574611"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574615">,</span>&nbsp;<span class="string" id="6574617">`&#39;\f&#39;`</span><span class="op" id="6574623">}</span><span class="op" id="6574624">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574627">{</span><span class="ident" id="6574628"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574632">,</span>&nbsp;<span class="string" id="6574634">`&#39;\n&#39;`</span><span class="op" id="6574640">}</span><span class="op" id="6574641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574644">{</span><span class="ident" id="6574645"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574649">,</span>&nbsp;<span class="string" id="6574651">`&#39;\r&#39;`</span><span class="op" id="6574657">}</span><span class="op" id="6574658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574661">{</span><span class="ident" id="6574662"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574666">,</span>&nbsp;<span class="string" id="6574668">`&#39;\t&#39;`</span><span class="op" id="6574674">}</span><span class="op" id="6574675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574678">{</span><span class="ident" id="6574679"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574683">,</span>&nbsp;<span class="string" id="6574685">`&#39;\v&#39;`</span><span class="op" id="6574691">}</span><span class="op" id="6574692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574695">{</span><span class="ident" id="6574696"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574700">,</span>&nbsp;<span class="string" id="6574702">`&#39;\&#39;&#39;`</span><span class="op" id="6574708">}</span><span class="op" id="6574709">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574712">{</span><span class="ident" id="6574713"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574717">,</span>&nbsp;<span class="string" id="6574719">`&#39;\000&#39;`</span><span class="op" id="6574727">}</span><span class="op" id="6574728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574731">{</span><span class="ident" id="6574732"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574736">,</span>&nbsp;<span class="string" id="6574738">`&#39;\777&#39;`</span><span class="op" id="6574746">}</span><span class="op" id="6574747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574750">{</span><span class="ident" id="6574751"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574755">,</span>&nbsp;<span class="string" id="6574757">`&#39;\x00&#39;`</span><span class="op" id="6574765">}</span><span class="op" id="6574766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574769">{</span><span class="ident" id="6574770"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574774">,</span>&nbsp;<span class="string" id="6574776">`&#39;\xff&#39;`</span><span class="op" id="6574784">}</span><span class="op" id="6574785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574788">{</span><span class="ident" id="6574789"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574793">,</span>&nbsp;<span class="string" id="6574795">`&#39;\u0000&#39;`</span><span class="op" id="6574805">}</span><span class="op" id="6574806">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574809">{</span><span class="ident" id="6574810"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574814">,</span>&nbsp;<span class="string" id="6574816">`&#39;\ufA16&#39;`</span><span class="op" id="6574826">}</span><span class="op" id="6574827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574830">{</span><span class="ident" id="6574831"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574835">,</span>&nbsp;<span class="string" id="6574837">`&#39;\U00000000&#39;`</span><span class="op" id="6574851">}</span><span class="op" id="6574852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574855">{</span><span class="ident" id="6574856"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6574860">,</span>&nbsp;<span class="string" id="6574862">`&#39;\U0000ffAB&#39;`</span><span class="op" id="6574876">}</span><span class="op" id="6574877">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574881">{</span><span class="ident" id="6574882"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6574889">,</span>&nbsp;<span class="string" id="6574891">&#34;//&nbsp;strings&#34;</span><span class="op" id="6574903">}</span><span class="op" id="6574904">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574907">{</span><span class="ident" id="6574908"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6574914">,</span>&nbsp;<span class="string" id="6574916">`&#34;&nbsp;&#34;`</span><span class="op" id="6574921">}</span><span class="op" id="6574922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574925">{</span><span class="ident" id="6574926"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6574932">,</span>&nbsp;<span class="string" id="6574934">`&#34;a&#34;`</span><span class="op" id="6574939">}</span><span class="op" id="6574940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574943">{</span><span class="ident" id="6574944"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6574950">,</span>&nbsp;<span class="string" id="6574952">`&#34;本&#34;`</span><span class="op" id="6574959">}</span><span class="op" id="6574960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574963">{</span><span class="ident" id="6574964"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6574970">,</span>&nbsp;<span class="string" id="6574972">`&#34;\a&#34;`</span><span class="op" id="6574978">}</span><span class="op" id="6574979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6574982">{</span><span class="ident" id="6574983"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6574989">,</span>&nbsp;<span class="string" id="6574991">`&#34;\b&#34;`</span><span class="op" id="6574997">}</span><span class="op" id="6574998">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575001">{</span><span class="ident" id="6575002"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575008">,</span>&nbsp;<span class="string" id="6575010">`&#34;\f&#34;`</span><span class="op" id="6575016">}</span><span class="op" id="6575017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575020">{</span><span class="ident" id="6575021"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575027">,</span>&nbsp;<span class="string" id="6575029">`&#34;\n&#34;`</span><span class="op" id="6575035">}</span><span class="op" id="6575036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575039">{</span><span class="ident" id="6575040"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575046">,</span>&nbsp;<span class="string" id="6575048">`&#34;\r&#34;`</span><span class="op" id="6575054">}</span><span class="op" id="6575055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575058">{</span><span class="ident" id="6575059"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575065">,</span>&nbsp;<span class="string" id="6575067">`&#34;\t&#34;`</span><span class="op" id="6575073">}</span><span class="op" id="6575074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575077">{</span><span class="ident" id="6575078"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575084">,</span>&nbsp;<span class="string" id="6575086">`&#34;\v&#34;`</span><span class="op" id="6575092">}</span><span class="op" id="6575093">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575096">{</span><span class="ident" id="6575097"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575103">,</span>&nbsp;<span class="string" id="6575105">`&#34;\&#34;&#34;`</span><span class="op" id="6575111">}</span><span class="op" id="6575112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575115">{</span><span class="ident" id="6575116"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575122">,</span>&nbsp;<span class="string" id="6575124">`&#34;\000&#34;`</span><span class="op" id="6575132">}</span><span class="op" id="6575133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575136">{</span><span class="ident" id="6575137"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575143">,</span>&nbsp;<span class="string" id="6575145">`&#34;\777&#34;`</span><span class="op" id="6575153">}</span><span class="op" id="6575154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575157">{</span><span class="ident" id="6575158"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575164">,</span>&nbsp;<span class="string" id="6575166">`&#34;\x00&#34;`</span><span class="op" id="6575174">}</span><span class="op" id="6575175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575178">{</span><span class="ident" id="6575179"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575185">,</span>&nbsp;<span class="string" id="6575187">`&#34;\xff&#34;`</span><span class="op" id="6575195">}</span><span class="op" id="6575196">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575199">{</span><span class="ident" id="6575200"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575206">,</span>&nbsp;<span class="string" id="6575208">`&#34;\u0000&#34;`</span><span class="op" id="6575218">}</span><span class="op" id="6575219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575222">{</span><span class="ident" id="6575223"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575229">,</span>&nbsp;<span class="string" id="6575231">`&#34;\ufA16&#34;`</span><span class="op" id="6575241">}</span><span class="op" id="6575242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575245">{</span><span class="ident" id="6575246"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575252">,</span>&nbsp;<span class="string" id="6575254">`&#34;\U00000000&#34;`</span><span class="op" id="6575268">}</span><span class="op" id="6575269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575272">{</span><span class="ident" id="6575273"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575279">,</span>&nbsp;<span class="string" id="6575281">`&#34;\U0000ffAB&#34;`</span><span class="op" id="6575295">}</span><span class="op" id="6575296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575299">{</span><span class="ident" id="6575300"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575306">,</span>&nbsp;<span class="string" id="6575308">`&#34;`</span>&nbsp;<span class="op" id="6575312">+</span>&nbsp;<span class="ident" id="6575314"><a href="/text/scanner/scanner_test.go.html#6572522">f100</a></span>&nbsp;<span class="op" id="6575319">+</span>&nbsp;<span class="string" id="6575321">`&#34;`</span><span class="op" id="6575324">}</span><span class="op" id="6575325">,</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575329">{</span><span class="ident" id="6575330"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6575337">,</span>&nbsp;<span class="string" id="6575339">&#34;//&nbsp;raw&nbsp;strings&#34;</span><span class="op" id="6575355">}</span><span class="op" id="6575356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575359">{</span><span class="ident" id="6575360"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575366">,</span>&nbsp;<span class="string" id="6575368">&#34;``&#34;</span><span class="op" id="6575372">}</span><span class="op" id="6575373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575376">{</span><span class="ident" id="6575377"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575383">,</span>&nbsp;<span class="string" id="6575385">&#34;`\\`&#34;</span><span class="op" id="6575391">}</span><span class="op" id="6575392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575395">{</span><span class="ident" id="6575396"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575402">,</span>&nbsp;<span class="string" id="6575404">&#34;`&#34;</span>&nbsp;<span class="op" id="6575408">+</span>&nbsp;<span class="string" id="6575410">&#34;\n\n/*&nbsp;foobar&nbsp;*/\n\n&#34;</span>&nbsp;<span class="op" id="6575433">+</span>&nbsp;<span class="string" id="6575435">&#34;`&#34;</span><span class="op" id="6575438">}</span><span class="op" id="6575439">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575442">{</span><span class="ident" id="6575443"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6575449">,</span>&nbsp;<span class="string" id="6575451">&#34;`&#34;</span>&nbsp;<span class="op" id="6575455">+</span>&nbsp;<span class="ident" id="6575457"><a href="/text/scanner/scanner_test.go.html#6572522">f100</a></span>&nbsp;<span class="op" id="6575462">+</span>&nbsp;<span class="string" id="6575464">&#34;`&#34;</span><span class="op" id="6575467">}</span><span class="op" id="6575468">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575472">{</span><span class="ident" id="6575473"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6575480">,</span>&nbsp;<span class="string" id="6575482">&#34;//&nbsp;individual&nbsp;characters&#34;</span><span class="op" id="6575508">}</span><span class="op" id="6575509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6575512">//&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575545">{</span><span class="string" id="6575546">&#39;\x01&#39;</span><span class="op" id="6575552">,</span>&nbsp;<span class="string" id="6575554">&#34;\x01&#34;</span><span class="op" id="6575560">}</span><span class="op" id="6575561">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575564">{</span><span class="string" id="6575565">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6575569">-</span>&nbsp;<span class="num" id="6575571">1</span><span class="op" id="6575572">,</span>&nbsp;<span class="builtintype" id="6575574">string</span><span class="op" id="6575580">(</span><span class="string" id="6575581">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6575585">-</span>&nbsp;<span class="num" id="6575587">1</span><span class="op" id="6575588">)</span><span class="op" id="6575589">}</span><span class="op" id="6575590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575593">{</span><span class="string" id="6575594">&#39;+&#39;</span><span class="op" id="6575597">,</span>&nbsp;<span class="string" id="6575599">&#34;+&#34;</span><span class="op" id="6575602">}</span><span class="op" id="6575603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575606">{</span><span class="string" id="6575607">&#39;/&#39;</span><span class="op" id="6575610">,</span>&nbsp;<span class="string" id="6575612">&#34;/&#34;</span><span class="op" id="6575615">}</span><span class="op" id="6575616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575619">{</span><span class="string" id="6575620">&#39;.&#39;</span><span class="op" id="6575623">,</span>&nbsp;<span class="string" id="6575625">&#34;.&#34;</span><span class="op" id="6575628">}</span><span class="op" id="6575629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575632">{</span><span class="string" id="6575633">&#39;~&#39;</span><span class="op" id="6575636">,</span>&nbsp;<span class="string" id="6575638">&#34;~&#34;</span><span class="op" id="6575641">}</span><span class="op" id="6575642">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575645">{</span><span class="string" id="6575646">&#39;(&#39;</span><span class="op" id="6575649">,</span>&nbsp;<span class="string" id="6575651">&#34;(&#34;</span><span class="op" id="6575654">}</span><span class="op" id="6575655">,</span><br>
<span class="lineno"></span><span class="op" id="6575657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6575660">func</span>&nbsp;<span class="ident" id="6575665">makeSource</span><span class="op" id="6575675">(</span><span class="ident" id="6575676">pattern</span>&nbsp;<span class="builtintype" id="6575684">string</span><span class="op" id="6575690">)</span>&nbsp;<span class="op" id="6575692">*</span><span class="ident" id="6575693"><a href="/text/scanner/scanner_test.go.html#6571421">bytes</a></span><span class="op" id="6575698">.</span><span class="ident" id="6575699">Buffer</span>&nbsp;<span class="op" id="6575706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6575709">var</span>&nbsp;<span class="ident" id="6575713">buf</span>&nbsp;<span class="ident" id="6575717"><a href="/text/scanner/scanner_test.go.html#6571421">bytes</a></span><span class="op" id="6575722">.</span><span class="ident" id="6575723">Buffer</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6575731">for</span>&nbsp;<span class="ident" id="6575735">_</span><span class="op" id="6575736">,</span>&nbsp;<span class="ident" id="6575738">k</span>&nbsp;<span class="op" id="6575740">:=</span>&nbsp;<span class="keyword" id="6575743">range</span>&nbsp;<span class="ident" id="6575749"><a href="/text/scanner/scanner_test.go.html#6572637">tokenList</a></span>&nbsp;<span class="op" id="6575759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6575763"><a href="/text/scanner/scanner_test.go.html#6571430">fmt</a></span><span class="op" id="6575766">.</span><span class="ident" id="6575767">Fprintf</span><span class="op" id="6575774">(</span><span class="op" id="6575775">&amp;</span><span class="ident" id="6575776"><a href="/text/scanner/scanner_test.go.html#6575713">buf</a></span><span class="op" id="6575779">,</span>&nbsp;<span class="ident" id="6575781"><a href="/text/scanner/scanner_test.go.html#6575676">pattern</a></span><span class="op" id="6575788">,</span>&nbsp;<span class="ident" id="6575790"><a href="/text/scanner/scanner_test.go.html#6575738">k</a></span><span class="op" id="6575791">.</span><span class="ident" id="6575792">text</span><span class="op" id="6575796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6575802">return</span>&nbsp;<span class="op" id="6575809">&amp;</span><span class="ident" id="6575810"><a href="/text/scanner/scanner_test.go.html#6575713">buf</a></span><br>
<span class="lineno"></span><span class="op" id="6575814">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="6575817">func</span>&nbsp;<span class="ident" id="6575822">checkTok</span><span class="op" id="6575830">(</span><span class="ident" id="6575831">t</span>&nbsp;<span class="op" id="6575833">*</span><span class="ident" id="6575834"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6575841">.</span><span class="ident" id="6575842">T</span><span class="op" id="6575843">,</span>&nbsp;<span class="ident" id="6575845">s</span>&nbsp;<span class="op" id="6575847">*</span><span class="ident" id="6575848"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6575855">,</span>&nbsp;<span class="ident" id="6575857">line</span>&nbsp;<span class="builtintype" id="6575862">int</span><span class="op" id="6575865">,</span>&nbsp;<span class="ident" id="6575867">got</span><span class="op" id="6575870">,</span>&nbsp;<span class="ident" id="6575872">want</span>&nbsp;<span class="builtintype" id="6575877">rune</span><span class="op" id="6575881">,</span>&nbsp;<span class="ident" id="6575883">text</span>&nbsp;<span class="builtintype" id="6575888">string</span><span class="op" id="6575894">)</span>&nbsp;<span class="op" id="6575896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6575899">if</span>&nbsp;<span class="ident" id="6575902"><a href="/text/scanner/scanner_test.go.html#6575867">got</a></span>&nbsp;<span class="op" id="6575906">!=</span>&nbsp;<span class="ident" id="6575909"><a href="/text/scanner/scanner_test.go.html#6575872">want</a></span>&nbsp;<span class="op" id="6575914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6575918"><a href="/text/scanner/scanner_test.go.html#6575831">t</a></span><span class="op" id="6575919">.</span><span class="ident" id="6575920">Fatalf</span><span class="op" id="6575926">(</span><span class="string" id="6575927">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6575953">,</span>&nbsp;<span class="ident" id="6575955"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6575966">(</span><span class="ident" id="6575967"><a href="/text/scanner/scanner_test.go.html#6575867">got</a></span><span class="op" id="6575970">)</span><span class="op" id="6575971">,</span>&nbsp;<span class="ident" id="6575973"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6575984">(</span><span class="ident" id="6575985"><a href="/text/scanner/scanner_test.go.html#6575872">want</a></span><span class="op" id="6575989">)</span><span class="op" id="6575990">,</span>&nbsp;<span class="ident" id="6575992"><a href="/text/scanner/scanner_test.go.html#6575883">text</a></span><span class="op" id="6575996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6575999">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6576002">if</span>&nbsp;<span class="ident" id="6576005"><a href="/text/scanner/scanner_test.go.html#6575845">s</a></span><span class="op" id="6576006">.</span><span class="ident" id="6576007">Line</span>&nbsp;<span class="op" id="6576012">!=</span>&nbsp;<span class="ident" id="6576015"><a href="/text/scanner/scanner_test.go.html#6575857">line</a></span>&nbsp;<span class="op" id="6576020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576024"><a href="/text/scanner/scanner_test.go.html#6575831">t</a></span><span class="op" id="6576025">.</span><span class="ident" id="6576026">Errorf</span><span class="op" id="6576032">(</span><span class="string" id="6576033">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6576060">,</span>&nbsp;<span class="ident" id="6576062"><a href="/text/scanner/scanner_test.go.html#6575845">s</a></span><span class="op" id="6576063">.</span><span class="ident" id="6576064">Line</span><span class="op" id="6576068">,</span>&nbsp;<span class="ident" id="6576070"><a href="/text/scanner/scanner_test.go.html#6575857">line</a></span><span class="op" id="6576074">,</span>&nbsp;<span class="ident" id="6576076"><a href="/text/scanner/scanner_test.go.html#6575883">text</a></span><span class="op" id="6576080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6576083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576086">stext</span>&nbsp;<span class="op" id="6576092">:=</span>&nbsp;<span class="ident" id="6576095"><a href="/text/scanner/scanner_test.go.html#6575845">s</a></span><span class="op" id="6576096">.</span><span class="ident" id="6576097">TokenText</span><span class="op" id="6576106">(</span><span class="op" id="6576107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6576110">if</span>&nbsp;<span class="ident" id="6576113"><a href="/text/scanner/scanner_test.go.html#6576086">stext</a></span>&nbsp;<span class="op" id="6576119">!=</span>&nbsp;<span class="ident" id="6576122"><a href="/text/scanner/scanner_test.go.html#6575883">text</a></span>&nbsp;<span class="op" id="6576127">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576131"><a href="/text/scanner/scanner_test.go.html#6575831">t</a></span><span class="op" id="6576132">.</span><span class="ident" id="6576133">Errorf</span><span class="op" id="6576139">(</span><span class="string" id="6576140">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6576160">,</span>&nbsp;<span class="ident" id="6576162"><a href="/text/scanner/scanner_test.go.html#6576086">stext</a></span><span class="op" id="6576167">,</span>&nbsp;<span class="ident" id="6576169"><a href="/text/scanner/scanner_test.go.html#6575883">text</a></span><span class="op" id="6576173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6576176">}</span>&nbsp;<span class="keyword" id="6576178">else</span>&nbsp;<span class="op" id="6576183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6576187">//&nbsp;check&nbsp;idempotency&nbsp;of&nbsp;TokenText()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576230"><a href="/text/scanner/scanner_test.go.html#6576086">stext</a></span>&nbsp;<span class="op" id="6576236">=</span>&nbsp;<span class="ident" id="6576238"><a href="/text/scanner/scanner_test.go.html#6575845">s</a></span><span class="op" id="6576239">.</span><span class="ident" id="6576240">TokenText</span><span class="op" id="6576249">(</span><span class="op" id="6576250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6576254">if</span>&nbsp;<span class="ident" id="6576257"><a href="/text/scanner/scanner_test.go.html#6576086">stext</a></span>&nbsp;<span class="op" id="6576263">!=</span>&nbsp;<span class="ident" id="6576266"><a href="/text/scanner/scanner_test.go.html#6575883">text</a></span>&nbsp;<span class="op" id="6576271">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576276"><a href="/text/scanner/scanner_test.go.html#6575831">t</a></span><span class="op" id="6576277">.</span><span class="ident" id="6576278">Errorf</span><span class="op" id="6576284">(</span><span class="string" id="6576285">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;(idempotency&nbsp;check)&#34;</span><span class="op" id="6576325">,</span>&nbsp;<span class="ident" id="6576327"><a href="/text/scanner/scanner_test.go.html#6576086">stext</a></span><span class="op" id="6576332">,</span>&nbsp;<span class="ident" id="6576334"><a href="/text/scanner/scanner_test.go.html#6575883">text</a></span><span class="op" id="6576338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6576342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6576345">}</span><br>
<span class="lineno"></span><span class="op" id="6576347">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="6576350">func</span>&nbsp;<span class="ident" id="6576355">countNewlines</span><span class="op" id="6576368">(</span><span class="ident" id="6576369">s</span>&nbsp;<span class="builtintype" id="6576371">string</span><span class="op" id="6576377">)</span>&nbsp;<span class="builtintype" id="6576379">int</span>&nbsp;<span class="op" id="6576383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576386">n</span>&nbsp;<span class="op" id="6576388">:=</span>&nbsp;<span class="num" id="6576391">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6576394">for</span>&nbsp;<span class="ident" id="6576398">_</span><span class="op" id="6576399">,</span>&nbsp;<span class="ident" id="6576401">ch</span>&nbsp;<span class="op" id="6576404">:=</span>&nbsp;<span class="keyword" id="6576407">range</span>&nbsp;<span class="ident" id="6576413"><a href="/text/scanner/scanner_test.go.html#6576369">s</a></span>&nbsp;<span class="op" id="6576415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6576419">if</span>&nbsp;<span class="ident" id="6576422"><a href="/text/scanner/scanner_test.go.html#6576401">ch</a></span>&nbsp;<span class="op" id="6576425">==</span>&nbsp;<span class="string" id="6576428">&#39;\n&#39;</span>&nbsp;<span class="op" id="6576433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576438"><a href="/text/scanner/scanner_test.go.html#6576386">n</a></span><span class="op" id="6576439">++</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6576444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6576447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6576450">return</span>&nbsp;<span class="ident" id="6576457"><a href="/text/scanner/scanner_test.go.html#6576386">n</a></span><br>
<span class="lineno"></span><span class="op" id="6576459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="6576462">func</span>&nbsp;<span class="ident" id="6576467">testScan</span><span class="op" id="6576475">(</span><span class="ident" id="6576476">t</span>&nbsp;<span class="op" id="6576478">*</span><span class="ident" id="6576479"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6576486">.</span><span class="ident" id="6576487">T</span><span class="op" id="6576488">,</span>&nbsp;<span class="ident" id="6576490">mode</span>&nbsp;<span class="builtintype" id="6576495">uint</span><span class="op" id="6576499">)</span>&nbsp;<span class="op" id="6576501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576504">s</span>&nbsp;<span class="op" id="6576506">:=</span>&nbsp;<span class="builtinfunc" id="6576509">new</span><span class="op" id="6576512">(</span><span class="ident" id="6576513"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6576520">)</span><span class="op" id="6576521">.</span><span class="ident" id="6576522">Init</span><span class="op" id="6576526">(</span><span class="ident" id="6576527"><a href="/text/scanner/scanner_test.go.html#6575665">makeSource</a></span><span class="op" id="6576537">(</span><span class="string" id="6576538">&#34;&nbsp;\t%s\n&#34;</span><span class="op" id="6576547">)</span><span class="op" id="6576548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576551"><a href="/text/scanner/scanner_test.go.html#6576504">s</a></span><span class="op" id="6576552">.</span><span class="ident" id="6576553">Mode</span>&nbsp;<span class="op" id="6576558">=</span>&nbsp;<span class="ident" id="6576560"><a href="/text/scanner/scanner_test.go.html#6576490">mode</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576566">tok</span>&nbsp;<span class="op" id="6576570">:=</span>&nbsp;<span class="ident" id="6576573"><a href="/text/scanner/scanner_test.go.html#6576504">s</a></span><span class="op" id="6576574">.</span><span class="ident" id="6576575">Scan</span><span class="op" id="6576579">(</span><span class="op" id="6576580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576583">line</span>&nbsp;<span class="op" id="6576588">:=</span>&nbsp;<span class="num" id="6576591">1</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6576594">for</span>&nbsp;<span class="ident" id="6576598">_</span><span class="op" id="6576599">,</span>&nbsp;<span class="ident" id="6576601">k</span>&nbsp;<span class="op" id="6576603">:=</span>&nbsp;<span class="keyword" id="6576606">range</span>&nbsp;<span class="ident" id="6576612"><a href="/text/scanner/scanner_test.go.html#6572637">tokenList</a></span>&nbsp;<span class="op" id="6576622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6576626">if</span>&nbsp;<span class="ident" id="6576629"><a href="/text/scanner/scanner_test.go.html#6576490">mode</a></span><span class="op" id="6576633">&amp;</span><span class="ident" id="6576634"><a href="/text/scanner/scanner.go.html#6170549">SkipComments</a></span>&nbsp;<span class="op" id="6576647">==</span>&nbsp;<span class="num" id="6576650">0</span>&nbsp;<span class="op" id="6576652">||</span>&nbsp;<span class="ident" id="6576655"><a href="/text/scanner/scanner_test.go.html#6576601">k</a></span><span class="op" id="6576656">.</span><span class="ident" id="6576657">tok</span>&nbsp;<span class="op" id="6576661">!=</span>&nbsp;<span class="ident" id="6576664"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span>&nbsp;<span class="op" id="6576672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576677"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6576685">(</span><span class="ident" id="6576686"><a href="/text/scanner/scanner_test.go.html#6576476">t</a></span><span class="op" id="6576687">,</span>&nbsp;<span class="ident" id="6576689"><a href="/text/scanner/scanner_test.go.html#6576504">s</a></span><span class="op" id="6576690">,</span>&nbsp;<span class="ident" id="6576692"><a href="/text/scanner/scanner_test.go.html#6576583">line</a></span><span class="op" id="6576696">,</span>&nbsp;<span class="ident" id="6576698"><a href="/text/scanner/scanner_test.go.html#6576566">tok</a></span><span class="op" id="6576701">,</span>&nbsp;<span class="ident" id="6576703"><a href="/text/scanner/scanner_test.go.html#6576601">k</a></span><span class="op" id="6576704">.</span><span class="ident" id="6576705">tok</span><span class="op" id="6576708">,</span>&nbsp;<span class="ident" id="6576710"><a href="/text/scanner/scanner_test.go.html#6576601">k</a></span><span class="op" id="6576711">.</span><span class="ident" id="6576712">text</span><span class="op" id="6576716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576721"><a href="/text/scanner/scanner_test.go.html#6576566">tok</a></span>&nbsp;<span class="op" id="6576725">=</span>&nbsp;<span class="ident" id="6576727"><a href="/text/scanner/scanner_test.go.html#6576504">s</a></span><span class="op" id="6576728">.</span><span class="ident" id="6576729">Scan</span><span class="op" id="6576733">(</span><span class="op" id="6576734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6576738">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576742"><a href="/text/scanner/scanner_test.go.html#6576583">line</a></span>&nbsp;<span class="op" id="6576747">+=</span>&nbsp;<span class="ident" id="6576750"><a href="/text/scanner/scanner_test.go.html#6576355">countNewlines</a></span><span class="op" id="6576763">(</span><span class="ident" id="6576764"><a href="/text/scanner/scanner_test.go.html#6576601">k</a></span><span class="op" id="6576765">.</span><span class="ident" id="6576766">text</span><span class="op" id="6576770">)</span>&nbsp;<span class="op" id="6576772">+</span>&nbsp;<span class="num" id="6576774">1</span>&nbsp;<span class="comment" id="6576776">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6576808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576811"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6576819">(</span><span class="ident" id="6576820"><a href="/text/scanner/scanner_test.go.html#6576476">t</a></span><span class="op" id="6576821">,</span>&nbsp;<span class="ident" id="6576823"><a href="/text/scanner/scanner_test.go.html#6576504">s</a></span><span class="op" id="6576824">,</span>&nbsp;<span class="ident" id="6576826"><a href="/text/scanner/scanner_test.go.html#6576583">line</a></span><span class="op" id="6576830">,</span>&nbsp;<span class="ident" id="6576832"><a href="/text/scanner/scanner_test.go.html#6576566">tok</a></span><span class="op" id="6576835">,</span>&nbsp;<span class="ident" id="6576837"><a href="/text/scanner/scanner.go.html#6170845">EOF</a></span><span class="op" id="6576840">,</span>&nbsp;<span class="string" id="6576842">&#34;&#34;</span><span class="op" id="6576844">)</span><br>
<span class="lineno"></span><span class="op" id="6576846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="6576849">func</span>&nbsp;<span class="ident" id="6576854">TestScan</span><span class="op" id="6576862">(</span><span class="ident" id="6576863">t</span>&nbsp;<span class="op" id="6576865">*</span><span class="ident" id="6576866"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6576873">.</span><span class="ident" id="6576874">T</span><span class="op" id="6576875">)</span>&nbsp;<span class="op" id="6576877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576880"><a href="/text/scanner/scanner_test.go.html#6576467">testScan</a></span><span class="op" id="6576888">(</span><span class="ident" id="6576889"><a href="/text/scanner/scanner_test.go.html#6576863">t</a></span><span class="op" id="6576890">,</span>&nbsp;<span class="ident" id="6576892"><a href="/text/scanner/scanner.go.html#6170642">GoTokens</a></span><span class="op" id="6576900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576903"><a href="/text/scanner/scanner_test.go.html#6576467">testScan</a></span><span class="op" id="6576911">(</span><span class="ident" id="6576912"><a href="/text/scanner/scanner_test.go.html#6576863">t</a></span><span class="op" id="6576913">,</span>&nbsp;<span class="ident" id="6576915"><a href="/text/scanner/scanner.go.html#6170642">GoTokens</a></span><span class="op" id="6576923">&amp;^</span><span class="ident" id="6576925"><a href="/text/scanner/scanner.go.html#6170549">SkipComments</a></span><span class="op" id="6576937">)</span><br>
<span class="lineno"></span><span class="op" id="6576939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="6576942">func</span>&nbsp;<span class="ident" id="6576947">TestPosition</span><span class="op" id="6576959">(</span><span class="ident" id="6576960">t</span>&nbsp;<span class="op" id="6576962">*</span><span class="ident" id="6576963"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6576970">.</span><span class="ident" id="6576971">T</span><span class="op" id="6576972">)</span>&nbsp;<span class="op" id="6576974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6576977">src</span>&nbsp;<span class="op" id="6576981">:=</span>&nbsp;<span class="ident" id="6576984"><a href="/text/scanner/scanner_test.go.html#6575665">makeSource</a></span><span class="op" id="6576994">(</span><span class="string" id="6576995">&#34;\t\t\t\t%s\n&#34;</span><span class="op" id="6577009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577012">s</span>&nbsp;<span class="op" id="6577014">:=</span>&nbsp;<span class="builtinfunc" id="6577017">new</span><span class="op" id="6577020">(</span><span class="ident" id="6577021"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6577028">)</span><span class="op" id="6577029">.</span><span class="ident" id="6577030">Init</span><span class="op" id="6577034">(</span><span class="ident" id="6577035"><a href="/text/scanner/scanner_test.go.html#6576977">src</a></span><span class="op" id="6577038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577041"><a href="/text/scanner/scanner_test.go.html#6577012">s</a></span><span class="op" id="6577042">.</span><span class="ident" id="6577043">Mode</span>&nbsp;<span class="op" id="6577048">=</span>&nbsp;<span class="ident" id="6577050"><a href="/text/scanner/scanner.go.html#6170642">GoTokens</a></span>&nbsp;<span class="op" id="6577059">&amp;^</span>&nbsp;<span class="ident" id="6577062"><a href="/text/scanner/scanner.go.html#6170549">SkipComments</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577076"><a href="/text/scanner/scanner_test.go.html#6577012">s</a></span><span class="op" id="6577077">.</span><span class="ident" id="6577078">Scan</span><span class="op" id="6577082">(</span><span class="op" id="6577083">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577086">pos</span>&nbsp;<span class="op" id="6577090">:=</span>&nbsp;<span class="ident" id="6577093"><a href="/text/scanner/scanner.go.html#6169157">Position</a></span><span class="op" id="6577101">{</span><span class="string" id="6577102">&#34;&#34;</span><span class="op" id="6577104">,</span>&nbsp;<span class="num" id="6577106">4</span><span class="op" id="6577107">,</span>&nbsp;<span class="num" id="6577109">1</span><span class="op" id="6577110">,</span>&nbsp;<span class="num" id="6577112">5</span><span class="op" id="6577113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6577116">for</span>&nbsp;<span class="ident" id="6577120">_</span><span class="op" id="6577121">,</span>&nbsp;<span class="ident" id="6577123">k</span>&nbsp;<span class="op" id="6577125">:=</span>&nbsp;<span class="keyword" id="6577128">range</span>&nbsp;<span class="ident" id="6577134"><a href="/text/scanner/scanner_test.go.html#6572637">tokenList</a></span>&nbsp;<span class="op" id="6577144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6577148">if</span>&nbsp;<span class="ident" id="6577151"><a href="/text/scanner/scanner_test.go.html#6577012">s</a></span><span class="op" id="6577152">.</span><span class="ident" id="6577153">Offset</span>&nbsp;<span class="op" id="6577160">!=</span>&nbsp;<span class="ident" id="6577163"><a href="/text/scanner/scanner_test.go.html#6577086">pos</a></span><span class="op" id="6577166">.</span><span class="ident" id="6577167">Offset</span>&nbsp;<span class="op" id="6577174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577179"><a href="/text/scanner/scanner_test.go.html#6576960">t</a></span><span class="op" id="6577180">.</span><span class="ident" id="6577181">Errorf</span><span class="op" id="6577187">(</span><span class="string" id="6577188">&#34;offset&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6577217">,</span>&nbsp;<span class="ident" id="6577219"><a href="/text/scanner/scanner_test.go.html#6577012">s</a></span><span class="op" id="6577220">.</span><span class="ident" id="6577221">Offset</span><span class="op" id="6577227">,</span>&nbsp;<span class="ident" id="6577229"><a href="/text/scanner/scanner_test.go.html#6577086">pos</a></span><span class="op" id="6577232">.</span><span class="ident" id="6577233">Offset</span><span class="op" id="6577239">,</span>&nbsp;<span class="ident" id="6577241"><a href="/text/scanner/scanner_test.go.html#6577123">k</a></span><span class="op" id="6577242">.</span><span class="ident" id="6577243">text</span><span class="op" id="6577247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6577251">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6577255">if</span>&nbsp;<span class="ident" id="6577258"><a href="/text/scanner/scanner_test.go.html#6577012">s</a></span><span class="op" id="6577259">.</span><span class="ident" id="6577260">Line</span>&nbsp;<span class="op" id="6577265">!=</span>&nbsp;<span class="ident" id="6577268"><a href="/text/scanner/scanner_test.go.html#6577086">pos</a></span><span class="op" id="6577271">.</span><span class="ident" id="6577272">Line</span>&nbsp;<span class="op" id="6577277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577282"><a href="/text/scanner/scanner_test.go.html#6576960">t</a></span><span class="op" id="6577283">.</span><span class="ident" id="6577284">Errorf</span><span class="op" id="6577290">(</span><span class="string" id="6577291">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6577318">,</span>&nbsp;<span class="ident" id="6577320"><a href="/text/scanner/scanner_test.go.html#6577012">s</a></span><span class="op" id="6577321">.</span><span class="ident" id="6577322">Line</span><span class="op" id="6577326">,</span>&nbsp;<span class="ident" id="6577328"><a href="/text/scanner/scanner_test.go.html#6577086">pos</a></span><span class="op" id="6577331">.</span><span class="ident" id="6577332">Line</span><span class="op" id="6577336">,</span>&nbsp;<span class="ident" id="6577338"><a href="/text/scanner/scanner_test.go.html#6577123">k</a></span><span class="op" id="6577339">.</span><span class="ident" id="6577340">text</span><span class="op" id="6577344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6577348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6577352">if</span>&nbsp;<span class="ident" id="6577355"><a href="/text/scanner/scanner_test.go.html#6577012">s</a></span><span class="op" id="6577356">.</span><span class="ident" id="6577357">Column</span>&nbsp;<span class="op" id="6577364">!=</span>&nbsp;<span class="ident" id="6577367"><a href="/text/scanner/scanner_test.go.html#6577086">pos</a></span><span class="op" id="6577370">.</span><span class="ident" id="6577371">Column</span>&nbsp;<span class="op" id="6577378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577383"><a href="/text/scanner/scanner_test.go.html#6576960">t</a></span><span class="op" id="6577384">.</span><span class="ident" id="6577385">Errorf</span><span class="op" id="6577391">(</span><span class="string" id="6577392">&#34;column&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6577421">,</span>&nbsp;<span class="ident" id="6577423"><a href="/text/scanner/scanner_test.go.html#6577012">s</a></span><span class="op" id="6577424">.</span><span class="ident" id="6577425">Column</span><span class="op" id="6577431">,</span>&nbsp;<span class="ident" id="6577433"><a href="/text/scanner/scanner_test.go.html#6577086">pos</a></span><span class="op" id="6577436">.</span><span class="ident" id="6577437">Column</span><span class="op" id="6577443">,</span>&nbsp;<span class="ident" id="6577445"><a href="/text/scanner/scanner_test.go.html#6577123">k</a></span><span class="op" id="6577446">.</span><span class="ident" id="6577447">text</span><span class="op" id="6577451">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6577455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577459"><a href="/text/scanner/scanner_test.go.html#6577086">pos</a></span><span class="op" id="6577462">.</span><span class="ident" id="6577463">Offset</span>&nbsp;<span class="op" id="6577470">+=</span>&nbsp;<span class="num" id="6577473">4</span>&nbsp;<span class="op" id="6577475">+</span>&nbsp;<span class="builtinfunc" id="6577477">len</span><span class="op" id="6577480">(</span><span class="ident" id="6577481"><a href="/text/scanner/scanner_test.go.html#6577123">k</a></span><span class="op" id="6577482">.</span><span class="ident" id="6577483">text</span><span class="op" id="6577487">)</span>&nbsp;<span class="op" id="6577489">+</span>&nbsp;<span class="num" id="6577491">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6577497">//&nbsp;4&nbsp;tabs&nbsp;+&nbsp;token&nbsp;bytes&nbsp;+&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577533"><a href="/text/scanner/scanner_test.go.html#6577086">pos</a></span><span class="op" id="6577536">.</span><span class="ident" id="6577537">Line</span>&nbsp;<span class="op" id="6577542">+=</span>&nbsp;<span class="ident" id="6577545"><a href="/text/scanner/scanner_test.go.html#6576355">countNewlines</a></span><span class="op" id="6577558">(</span><span class="ident" id="6577559"><a href="/text/scanner/scanner_test.go.html#6577123">k</a></span><span class="op" id="6577560">.</span><span class="ident" id="6577561">text</span><span class="op" id="6577565">)</span>&nbsp;<span class="op" id="6577567">+</span>&nbsp;<span class="num" id="6577569">1</span>&nbsp;<span class="comment" id="6577571">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577604"><a href="/text/scanner/scanner_test.go.html#6577012">s</a></span><span class="op" id="6577605">.</span><span class="ident" id="6577606">Scan</span><span class="op" id="6577610">(</span><span class="op" id="6577611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6577614">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6577617">//&nbsp;make&nbsp;sure&nbsp;there&nbsp;were&nbsp;no&nbsp;token-internal&nbsp;errors&nbsp;reported&nbsp;by&nbsp;scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6577687">if</span>&nbsp;<span class="ident" id="6577690"><a href="/text/scanner/scanner_test.go.html#6577012">s</a></span><span class="op" id="6577691">.</span><span class="ident" id="6577692">ErrorCount</span>&nbsp;<span class="op" id="6577703">!=</span>&nbsp;<span class="num" id="6577706">0</span>&nbsp;<span class="op" id="6577708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577712"><a href="/text/scanner/scanner_test.go.html#6576960">t</a></span><span class="op" id="6577713">.</span><span class="ident" id="6577714">Errorf</span><span class="op" id="6577720">(</span><span class="string" id="6577721">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6577732">,</span>&nbsp;<span class="ident" id="6577734"><a href="/text/scanner/scanner_test.go.html#6577012">s</a></span><span class="op" id="6577735">.</span><span class="ident" id="6577736">ErrorCount</span><span class="op" id="6577746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6577749">}</span><br>
<span class="lineno"></span><span class="op" id="6577751">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="6577754">func</span>&nbsp;<span class="ident" id="6577759">TestScanZeroMode</span><span class="op" id="6577775">(</span><span class="ident" id="6577776">t</span>&nbsp;<span class="op" id="6577778">*</span><span class="ident" id="6577779"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6577786">.</span><span class="ident" id="6577787">T</span><span class="op" id="6577788">)</span>&nbsp;<span class="op" id="6577790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577793">src</span>&nbsp;<span class="op" id="6577797">:=</span>&nbsp;<span class="ident" id="6577800"><a href="/text/scanner/scanner_test.go.html#6575665">makeSource</a></span><span class="op" id="6577810">(</span><span class="string" id="6577811">&#34;%s\n&#34;</span><span class="op" id="6577817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577820">str</span>&nbsp;<span class="op" id="6577824">:=</span>&nbsp;<span class="ident" id="6577827"><a href="/text/scanner/scanner_test.go.html#6577793">src</a></span><span class="op" id="6577830">.</span><span class="ident" id="6577831">String</span><span class="op" id="6577837">(</span><span class="op" id="6577838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577841">s</span>&nbsp;<span class="op" id="6577843">:=</span>&nbsp;<span class="builtinfunc" id="6577846">new</span><span class="op" id="6577849">(</span><span class="ident" id="6577850"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6577857">)</span><span class="op" id="6577858">.</span><span class="ident" id="6577859">Init</span><span class="op" id="6577863">(</span><span class="ident" id="6577864"><a href="/text/scanner/scanner_test.go.html#6577793">src</a></span><span class="op" id="6577867">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577870"><a href="/text/scanner/scanner_test.go.html#6577841">s</a></span><span class="op" id="6577871">.</span><span class="ident" id="6577872">Mode</span>&nbsp;<span class="op" id="6577877">=</span>&nbsp;<span class="num" id="6577879">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6577887">//&nbsp;don&#39;t&nbsp;recognize&nbsp;any&nbsp;token&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577925"><a href="/text/scanner/scanner_test.go.html#6577841">s</a></span><span class="op" id="6577926">.</span><span class="ident" id="6577927">Whitespace</span>&nbsp;<span class="op" id="6577938">=</span>&nbsp;<span class="num" id="6577940">0</span>&nbsp;<span class="comment" id="6577942">//&nbsp;don&#39;t&nbsp;skip&nbsp;any&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6577972">tok</span>&nbsp;<span class="op" id="6577976">:=</span>&nbsp;<span class="ident" id="6577979"><a href="/text/scanner/scanner_test.go.html#6577841">s</a></span><span class="op" id="6577980">.</span><span class="ident" id="6577981">Scan</span><span class="op" id="6577985">(</span><span class="op" id="6577986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6577989">for</span>&nbsp;<span class="ident" id="6577993">i</span><span class="op" id="6577994">,</span>&nbsp;<span class="ident" id="6577996">ch</span>&nbsp;<span class="op" id="6577999">:=</span>&nbsp;<span class="keyword" id="6578002">range</span>&nbsp;<span class="ident" id="6578008"><a href="/text/scanner/scanner_test.go.html#6577820">str</a></span>&nbsp;<span class="op" id="6578012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6578016">if</span>&nbsp;<span class="ident" id="6578019"><a href="/text/scanner/scanner_test.go.html#6577972">tok</a></span>&nbsp;<span class="op" id="6578023">!=</span>&nbsp;<span class="ident" id="6578026"><a href="/text/scanner/scanner_test.go.html#6577996">ch</a></span>&nbsp;<span class="op" id="6578029">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578034"><a href="/text/scanner/scanner_test.go.html#6577776">t</a></span><span class="op" id="6578035">.</span><span class="ident" id="6578036">Fatalf</span><span class="op" id="6578042">(</span><span class="string" id="6578043">&#34;%d.&nbsp;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6578066">,</span>&nbsp;<span class="ident" id="6578068"><a href="/text/scanner/scanner_test.go.html#6577993">i</a></span><span class="op" id="6578069">,</span>&nbsp;<span class="ident" id="6578071"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6578082">(</span><span class="ident" id="6578083"><a href="/text/scanner/scanner_test.go.html#6577972">tok</a></span><span class="op" id="6578086">)</span><span class="op" id="6578087">,</span>&nbsp;<span class="ident" id="6578089"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6578100">(</span><span class="ident" id="6578101"><a href="/text/scanner/scanner_test.go.html#6577996">ch</a></span><span class="op" id="6578103">)</span><span class="op" id="6578104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578112"><a href="/text/scanner/scanner_test.go.html#6577972">tok</a></span>&nbsp;<span class="op" id="6578116">=</span>&nbsp;<span class="ident" id="6578118"><a href="/text/scanner/scanner_test.go.html#6577841">s</a></span><span class="op" id="6578119">.</span><span class="ident" id="6578120">Scan</span><span class="op" id="6578124">(</span><span class="op" id="6578125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6578131">if</span>&nbsp;<span class="ident" id="6578134"><a href="/text/scanner/scanner_test.go.html#6577972">tok</a></span>&nbsp;<span class="op" id="6578138">!=</span>&nbsp;<span class="ident" id="6578141"><a href="/text/scanner/scanner.go.html#6170845">EOF</a></span>&nbsp;<span class="op" id="6578145">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578149"><a href="/text/scanner/scanner_test.go.html#6577776">t</a></span><span class="op" id="6578150">.</span><span class="ident" id="6578151">Fatalf</span><span class="op" id="6578157">(</span><span class="string" id="6578158">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="6578178">,</span>&nbsp;<span class="ident" id="6578180"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6578191">(</span><span class="ident" id="6578192"><a href="/text/scanner/scanner_test.go.html#6577972">tok</a></span><span class="op" id="6578195">)</span><span class="op" id="6578196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6578202">if</span>&nbsp;<span class="ident" id="6578205"><a href="/text/scanner/scanner_test.go.html#6577841">s</a></span><span class="op" id="6578206">.</span><span class="ident" id="6578207">ErrorCount</span>&nbsp;<span class="op" id="6578218">!=</span>&nbsp;<span class="num" id="6578221">0</span>&nbsp;<span class="op" id="6578223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578227"><a href="/text/scanner/scanner_test.go.html#6577776">t</a></span><span class="op" id="6578228">.</span><span class="ident" id="6578229">Errorf</span><span class="op" id="6578235">(</span><span class="string" id="6578236">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6578247">,</span>&nbsp;<span class="ident" id="6578249"><a href="/text/scanner/scanner_test.go.html#6577841">s</a></span><span class="op" id="6578250">.</span><span class="ident" id="6578251">ErrorCount</span><span class="op" id="6578261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578264">}</span><br>
<span class="lineno">330</span><span class="op" id="6578266">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6578269">func</span>&nbsp;<span class="ident" id="6578274">testScanSelectedMode</span><span class="op" id="6578294">(</span><span class="ident" id="6578295">t</span>&nbsp;<span class="op" id="6578297">*</span><span class="ident" id="6578298"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6578305">.</span><span class="ident" id="6578306">T</span><span class="op" id="6578307">,</span>&nbsp;<span class="ident" id="6578309">mode</span>&nbsp;<span class="builtintype" id="6578314">uint</span><span class="op" id="6578318">,</span>&nbsp;<span class="ident" id="6578320">class</span>&nbsp;<span class="builtintype" id="6578326">rune</span><span class="op" id="6578330">)</span>&nbsp;<span class="op" id="6578332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578335">src</span>&nbsp;<span class="op" id="6578339">:=</span>&nbsp;<span class="ident" id="6578342"><a href="/text/scanner/scanner_test.go.html#6575665">makeSource</a></span><span class="op" id="6578352">(</span><span class="string" id="6578353">&#34;%s\n&#34;</span><span class="op" id="6578359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578362">s</span>&nbsp;<span class="op" id="6578364">:=</span>&nbsp;<span class="builtinfunc" id="6578367">new</span><span class="op" id="6578370">(</span><span class="ident" id="6578371"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6578378">)</span><span class="op" id="6578379">.</span><span class="ident" id="6578380">Init</span><span class="op" id="6578384">(</span><span class="ident" id="6578385"><a href="/text/scanner/scanner_test.go.html#6578335">src</a></span><span class="op" id="6578388">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578391"><a href="/text/scanner/scanner_test.go.html#6578362">s</a></span><span class="op" id="6578392">.</span><span class="ident" id="6578393">Mode</span>&nbsp;<span class="op" id="6578398">=</span>&nbsp;<span class="ident" id="6578400"><a href="/text/scanner/scanner_test.go.html#6578309">mode</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578406">tok</span>&nbsp;<span class="op" id="6578410">:=</span>&nbsp;<span class="ident" id="6578413"><a href="/text/scanner/scanner_test.go.html#6578362">s</a></span><span class="op" id="6578414">.</span><span class="ident" id="6578415">Scan</span><span class="op" id="6578419">(</span><span class="op" id="6578420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6578423">for</span>&nbsp;<span class="ident" id="6578427"><a href="/text/scanner/scanner_test.go.html#6578406">tok</a></span>&nbsp;<span class="op" id="6578431">!=</span>&nbsp;<span class="ident" id="6578434"><a href="/text/scanner/scanner.go.html#6170845">EOF</a></span>&nbsp;<span class="op" id="6578438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6578442">if</span>&nbsp;<span class="ident" id="6578445"><a href="/text/scanner/scanner_test.go.html#6578406">tok</a></span>&nbsp;<span class="op" id="6578449">&lt;</span>&nbsp;<span class="num" id="6578451">0</span>&nbsp;<span class="op" id="6578453">&amp;&amp;</span>&nbsp;<span class="ident" id="6578456"><a href="/text/scanner/scanner_test.go.html#6578406">tok</a></span>&nbsp;<span class="op" id="6578460">!=</span>&nbsp;<span class="ident" id="6578463"><a href="/text/scanner/scanner_test.go.html#6578320">class</a></span>&nbsp;<span class="op" id="6578469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578474"><a href="/text/scanner/scanner_test.go.html#6578295">t</a></span><span class="op" id="6578475">.</span><span class="ident" id="6578476">Fatalf</span><span class="op" id="6578482">(</span><span class="string" id="6578483">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6578502">,</span>&nbsp;<span class="ident" id="6578504"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6578515">(</span><span class="ident" id="6578516"><a href="/text/scanner/scanner_test.go.html#6578406">tok</a></span><span class="op" id="6578519">)</span><span class="op" id="6578520">,</span>&nbsp;<span class="ident" id="6578522"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6578533">(</span><span class="ident" id="6578534"><a href="/text/scanner/scanner_test.go.html#6578320">class</a></span><span class="op" id="6578539">)</span><span class="op" id="6578540">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578548"><a href="/text/scanner/scanner_test.go.html#6578406">tok</a></span>&nbsp;<span class="op" id="6578552">=</span>&nbsp;<span class="ident" id="6578554"><a href="/text/scanner/scanner_test.go.html#6578362">s</a></span><span class="op" id="6578555">.</span><span class="ident" id="6578556">Scan</span><span class="op" id="6578560">(</span><span class="op" id="6578561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6578567">if</span>&nbsp;<span class="ident" id="6578570"><a href="/text/scanner/scanner_test.go.html#6578362">s</a></span><span class="op" id="6578571">.</span><span class="ident" id="6578572">ErrorCount</span>&nbsp;<span class="op" id="6578583">!=</span>&nbsp;<span class="num" id="6578586">0</span>&nbsp;<span class="op" id="6578588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578592"><a href="/text/scanner/scanner_test.go.html#6578295">t</a></span><span class="op" id="6578593">.</span><span class="ident" id="6578594">Errorf</span><span class="op" id="6578600">(</span><span class="string" id="6578601">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6578612">,</span>&nbsp;<span class="ident" id="6578614"><a href="/text/scanner/scanner_test.go.html#6578362">s</a></span><span class="op" id="6578615">.</span><span class="ident" id="6578616">ErrorCount</span><span class="op" id="6578626">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6578629">}</span><br>
<span class="lineno"></span><span class="op" id="6578631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6578634">func</span>&nbsp;<span class="ident" id="6578639">TestScanSelectedMask</span><span class="op" id="6578659">(</span><span class="ident" id="6578660">t</span>&nbsp;<span class="op" id="6578662">*</span><span class="ident" id="6578663"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6578670">.</span><span class="ident" id="6578671">T</span><span class="op" id="6578672">)</span>&nbsp;<span class="op" id="6578674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578677"><a href="/text/scanner/scanner_test.go.html#6578274">testScanSelectedMode</a></span><span class="op" id="6578697">(</span><span class="ident" id="6578698"><a href="/text/scanner/scanner_test.go.html#6578660">t</a></span><span class="op" id="6578699">,</span>&nbsp;<span class="num" id="6578701">0</span><span class="op" id="6578702">,</span>&nbsp;<span class="num" id="6578704">0</span><span class="op" id="6578705">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578708"><a href="/text/scanner/scanner_test.go.html#6578274">testScanSelectedMode</a></span><span class="op" id="6578728">(</span><span class="ident" id="6578729"><a href="/text/scanner/scanner_test.go.html#6578660">t</a></span><span class="op" id="6578730">,</span>&nbsp;<span class="ident" id="6578732"><a href="/text/scanner/scanner.go.html#6170318">ScanIdents</a></span><span class="op" id="6578742">,</span>&nbsp;<span class="ident" id="6578744"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6578749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6578752">//&nbsp;Don&#39;t&nbsp;test&nbsp;ScanInts&nbsp;and&nbsp;ScanNumbers&nbsp;since&nbsp;some&nbsp;parts&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6578812">//&nbsp;the&nbsp;floats&nbsp;in&nbsp;the&nbsp;source&nbsp;look&nbsp;like&nbsp;(illegal)&nbsp;octal&nbsp;ints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6578872">//&nbsp;and&nbsp;ScanNumbers&nbsp;may&nbsp;return&nbsp;either&nbsp;Int&nbsp;or&nbsp;Float.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578924"><a href="/text/scanner/scanner_test.go.html#6578274">testScanSelectedMode</a></span><span class="op" id="6578944">(</span><span class="ident" id="6578945"><a href="/text/scanner/scanner_test.go.html#6578660">t</a></span><span class="op" id="6578946">,</span>&nbsp;<span class="ident" id="6578948"><a href="/text/scanner/scanner.go.html#6170423">ScanChars</a></span><span class="op" id="6578957">,</span>&nbsp;<span class="ident" id="6578959"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6578963">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6578966"><a href="/text/scanner/scanner_test.go.html#6578274">testScanSelectedMode</a></span><span class="op" id="6578986">(</span><span class="ident" id="6578987"><a href="/text/scanner/scanner_test.go.html#6578660">t</a></span><span class="op" id="6578988">,</span>&nbsp;<span class="ident" id="6578990"><a href="/text/scanner/scanner.go.html#6170452">ScanStrings</a></span><span class="op" id="6579001">,</span>&nbsp;<span class="ident" id="6579003"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6579009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579012"><a href="/text/scanner/scanner_test.go.html#6578274">testScanSelectedMode</a></span><span class="op" id="6579032">(</span><span class="ident" id="6579033"><a href="/text/scanner/scanner_test.go.html#6578660">t</a></span><span class="op" id="6579034">,</span>&nbsp;<span class="ident" id="6579036"><a href="/text/scanner/scanner.go.html#6170549">SkipComments</a></span><span class="op" id="6579048">,</span>&nbsp;<span class="num" id="6579050">0</span><span class="op" id="6579051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579054"><a href="/text/scanner/scanner_test.go.html#6578274">testScanSelectedMode</a></span><span class="op" id="6579074">(</span><span class="ident" id="6579075"><a href="/text/scanner/scanner_test.go.html#6578660">t</a></span><span class="op" id="6579076">,</span>&nbsp;<span class="ident" id="6579078"><a href="/text/scanner/scanner.go.html#6170517">ScanComments</a></span><span class="op" id="6579090">,</span>&nbsp;<span class="ident" id="6579092"><a href="/text/scanner/scanner.go.html#6170908">Comment</a></span><span class="op" id="6579099">)</span><br>
<span class="lineno"></span><span class="op" id="6579101">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="6579104">func</span>&nbsp;<span class="ident" id="6579109">TestScanCustomIdent</span><span class="op" id="6579128">(</span><span class="ident" id="6579129">t</span>&nbsp;<span class="op" id="6579131">*</span><span class="ident" id="6579132"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6579139">.</span><span class="ident" id="6579140">T</span><span class="op" id="6579141">)</span>&nbsp;<span class="op" id="6579143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6579146">const</span>&nbsp;<span class="ident" id="6579152">src</span>&nbsp;<span class="op" id="6579156">=</span>&nbsp;<span class="string" id="6579158">&#34;faab12345&nbsp;a12b123&nbsp;a12&nbsp;3b&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579186">s</span>&nbsp;<span class="op" id="6579188">:=</span>&nbsp;<span class="builtinfunc" id="6579191">new</span><span class="op" id="6579194">(</span><span class="ident" id="6579195"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6579202">)</span><span class="op" id="6579203">.</span><span class="ident" id="6579204">Init</span><span class="op" id="6579208">(</span><span class="ident" id="6579209"><a href="/text/scanner/scanner_test.go.html#6571443">strings</a></span><span class="op" id="6579216">.</span><span class="ident" id="6579217">NewReader</span><span class="op" id="6579226">(</span><span class="ident" id="6579227"><a href="/text/scanner/scanner_test.go.html#6579152">src</a></span><span class="op" id="6579230">)</span><span class="op" id="6579231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6579234">//&nbsp;ident&nbsp;=&nbsp;(&nbsp;&#39;a&#39;&nbsp;|&nbsp;&#39;b&#39;&nbsp;)&nbsp;{&nbsp;digit&nbsp;}&nbsp;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6579272">//&nbsp;digit&nbsp;=&nbsp;&#39;0&#39;&nbsp;..&nbsp;&#39;3&#39;&nbsp;.</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6579297">//&nbsp;with&nbsp;a&nbsp;maximum&nbsp;length&nbsp;of&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579328"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579329">.</span><span class="ident" id="6579330">IsIdentRune</span>&nbsp;<span class="op" id="6579342">=</span>&nbsp;<span class="keyword" id="6579344">func</span><span class="op" id="6579348">(</span><span class="ident" id="6579349">ch</span>&nbsp;<span class="builtintype" id="6579352">rune</span><span class="op" id="6579356">,</span>&nbsp;<span class="ident" id="6579358">i</span>&nbsp;<span class="builtintype" id="6579360">int</span><span class="op" id="6579363">)</span>&nbsp;<span class="builtintype" id="6579365">bool</span>&nbsp;<span class="op" id="6579370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6579374">return</span>&nbsp;<span class="ident" id="6579381"><a href="/text/scanner/scanner_test.go.html#6579358">i</a></span>&nbsp;<span class="op" id="6579383">==</span>&nbsp;<span class="num" id="6579386">0</span>&nbsp;<span class="op" id="6579388">&amp;&amp;</span>&nbsp;<span class="op" id="6579391">(</span><span class="ident" id="6579392"><a href="/text/scanner/scanner_test.go.html#6579349">ch</a></span>&nbsp;<span class="op" id="6579395">==</span>&nbsp;<span class="string" id="6579398">&#39;a&#39;</span>&nbsp;<span class="op" id="6579402">||</span>&nbsp;<span class="ident" id="6579405"><a href="/text/scanner/scanner_test.go.html#6579349">ch</a></span>&nbsp;<span class="op" id="6579408">==</span>&nbsp;<span class="string" id="6579411">&#39;b&#39;</span><span class="op" id="6579414">)</span>&nbsp;<span class="op" id="6579416">||</span>&nbsp;<span class="num" id="6579419">0</span>&nbsp;<span class="op" id="6579421">&lt;</span>&nbsp;<span class="ident" id="6579423"><a href="/text/scanner/scanner_test.go.html#6579358">i</a></span>&nbsp;<span class="op" id="6579425">&amp;&amp;</span>&nbsp;<span class="ident" id="6579428"><a href="/text/scanner/scanner_test.go.html#6579358">i</a></span>&nbsp;<span class="op" id="6579430">&lt;</span>&nbsp;<span class="num" id="6579432">4</span>&nbsp;<span class="op" id="6579434">&amp;&amp;</span>&nbsp;<span class="string" id="6579437">&#39;0&#39;</span>&nbsp;<span class="op" id="6579441">&lt;=</span>&nbsp;<span class="ident" id="6579444"><a href="/text/scanner/scanner_test.go.html#6579349">ch</a></span>&nbsp;<span class="op" id="6579447">&amp;&amp;</span>&nbsp;<span class="ident" id="6579450"><a href="/text/scanner/scanner_test.go.html#6579349">ch</a></span>&nbsp;<span class="op" id="6579453">&lt;=</span>&nbsp;<span class="string" id="6579456">&#39;3&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6579461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579464"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6579472">(</span><span class="ident" id="6579473"><a href="/text/scanner/scanner_test.go.html#6579129">t</a></span><span class="op" id="6579474">,</span>&nbsp;<span class="ident" id="6579476"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579477">,</span>&nbsp;<span class="num" id="6579479">1</span><span class="op" id="6579480">,</span>&nbsp;<span class="ident" id="6579482"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579483">.</span><span class="ident" id="6579484">Scan</span><span class="op" id="6579488">(</span><span class="op" id="6579489">)</span><span class="op" id="6579490">,</span>&nbsp;<span class="string" id="6579492">&#39;f&#39;</span><span class="op" id="6579495">,</span>&nbsp;<span class="string" id="6579497">&#34;f&#34;</span><span class="op" id="6579500">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579503"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6579511">(</span><span class="ident" id="6579512"><a href="/text/scanner/scanner_test.go.html#6579129">t</a></span><span class="op" id="6579513">,</span>&nbsp;<span class="ident" id="6579515"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579516">,</span>&nbsp;<span class="num" id="6579518">1</span><span class="op" id="6579519">,</span>&nbsp;<span class="ident" id="6579521"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579522">.</span><span class="ident" id="6579523">Scan</span><span class="op" id="6579527">(</span><span class="op" id="6579528">)</span><span class="op" id="6579529">,</span>&nbsp;<span class="ident" id="6579531"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6579536">,</span>&nbsp;<span class="string" id="6579538">&#34;a&#34;</span><span class="op" id="6579541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579544"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6579552">(</span><span class="ident" id="6579553"><a href="/text/scanner/scanner_test.go.html#6579129">t</a></span><span class="op" id="6579554">,</span>&nbsp;<span class="ident" id="6579556"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579557">,</span>&nbsp;<span class="num" id="6579559">1</span><span class="op" id="6579560">,</span>&nbsp;<span class="ident" id="6579562"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579563">.</span><span class="ident" id="6579564">Scan</span><span class="op" id="6579568">(</span><span class="op" id="6579569">)</span><span class="op" id="6579570">,</span>&nbsp;<span class="ident" id="6579572"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6579577">,</span>&nbsp;<span class="string" id="6579579">&#34;a&#34;</span><span class="op" id="6579582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579585"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6579593">(</span><span class="ident" id="6579594"><a href="/text/scanner/scanner_test.go.html#6579129">t</a></span><span class="op" id="6579595">,</span>&nbsp;<span class="ident" id="6579597"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579598">,</span>&nbsp;<span class="num" id="6579600">1</span><span class="op" id="6579601">,</span>&nbsp;<span class="ident" id="6579603"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579604">.</span><span class="ident" id="6579605">Scan</span><span class="op" id="6579609">(</span><span class="op" id="6579610">)</span><span class="op" id="6579611">,</span>&nbsp;<span class="ident" id="6579613"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6579618">,</span>&nbsp;<span class="string" id="6579620">&#34;b123&#34;</span><span class="op" id="6579626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579629"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6579637">(</span><span class="ident" id="6579638"><a href="/text/scanner/scanner_test.go.html#6579129">t</a></span><span class="op" id="6579639">,</span>&nbsp;<span class="ident" id="6579641"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579642">,</span>&nbsp;<span class="num" id="6579644">1</span><span class="op" id="6579645">,</span>&nbsp;<span class="ident" id="6579647"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579648">.</span><span class="ident" id="6579649">Scan</span><span class="op" id="6579653">(</span><span class="op" id="6579654">)</span><span class="op" id="6579655">,</span>&nbsp;<span class="ident" id="6579657"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6579660">,</span>&nbsp;<span class="string" id="6579662">&#34;45&#34;</span><span class="op" id="6579666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579669"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6579677">(</span><span class="ident" id="6579678"><a href="/text/scanner/scanner_test.go.html#6579129">t</a></span><span class="op" id="6579679">,</span>&nbsp;<span class="ident" id="6579681"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579682">,</span>&nbsp;<span class="num" id="6579684">1</span><span class="op" id="6579685">,</span>&nbsp;<span class="ident" id="6579687"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579688">.</span><span class="ident" id="6579689">Scan</span><span class="op" id="6579693">(</span><span class="op" id="6579694">)</span><span class="op" id="6579695">,</span>&nbsp;<span class="ident" id="6579697"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6579702">,</span>&nbsp;<span class="string" id="6579704">&#34;a12&#34;</span><span class="op" id="6579709">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579712"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6579720">(</span><span class="ident" id="6579721"><a href="/text/scanner/scanner_test.go.html#6579129">t</a></span><span class="op" id="6579722">,</span>&nbsp;<span class="ident" id="6579724"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579725">,</span>&nbsp;<span class="num" id="6579727">1</span><span class="op" id="6579728">,</span>&nbsp;<span class="ident" id="6579730"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579731">.</span><span class="ident" id="6579732">Scan</span><span class="op" id="6579736">(</span><span class="op" id="6579737">)</span><span class="op" id="6579738">,</span>&nbsp;<span class="ident" id="6579740"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6579745">,</span>&nbsp;<span class="string" id="6579747">&#34;b123&#34;</span><span class="op" id="6579753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579756"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6579764">(</span><span class="ident" id="6579765"><a href="/text/scanner/scanner_test.go.html#6579129">t</a></span><span class="op" id="6579766">,</span>&nbsp;<span class="ident" id="6579768"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579769">,</span>&nbsp;<span class="num" id="6579771">1</span><span class="op" id="6579772">,</span>&nbsp;<span class="ident" id="6579774"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579775">.</span><span class="ident" id="6579776">Scan</span><span class="op" id="6579780">(</span><span class="op" id="6579781">)</span><span class="op" id="6579782">,</span>&nbsp;<span class="ident" id="6579784"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6579789">,</span>&nbsp;<span class="string" id="6579791">&#34;a12&#34;</span><span class="op" id="6579796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579799"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6579807">(</span><span class="ident" id="6579808"><a href="/text/scanner/scanner_test.go.html#6579129">t</a></span><span class="op" id="6579809">,</span>&nbsp;<span class="ident" id="6579811"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579812">,</span>&nbsp;<span class="num" id="6579814">1</span><span class="op" id="6579815">,</span>&nbsp;<span class="ident" id="6579817"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579818">.</span><span class="ident" id="6579819">Scan</span><span class="op" id="6579823">(</span><span class="op" id="6579824">)</span><span class="op" id="6579825">,</span>&nbsp;<span class="ident" id="6579827"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6579830">,</span>&nbsp;<span class="string" id="6579832">&#34;3&#34;</span><span class="op" id="6579835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579838"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6579846">(</span><span class="ident" id="6579847"><a href="/text/scanner/scanner_test.go.html#6579129">t</a></span><span class="op" id="6579848">,</span>&nbsp;<span class="ident" id="6579850"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579851">,</span>&nbsp;<span class="num" id="6579853">1</span><span class="op" id="6579854">,</span>&nbsp;<span class="ident" id="6579856"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579857">.</span><span class="ident" id="6579858">Scan</span><span class="op" id="6579862">(</span><span class="op" id="6579863">)</span><span class="op" id="6579864">,</span>&nbsp;<span class="ident" id="6579866"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6579871">,</span>&nbsp;<span class="string" id="6579873">&#34;b&#34;</span><span class="op" id="6579876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579879"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6579887">(</span><span class="ident" id="6579888"><a href="/text/scanner/scanner_test.go.html#6579129">t</a></span><span class="op" id="6579889">,</span>&nbsp;<span class="ident" id="6579891"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579892">,</span>&nbsp;<span class="num" id="6579894">1</span><span class="op" id="6579895">,</span>&nbsp;<span class="ident" id="6579897"><a href="/text/scanner/scanner_test.go.html#6579186">s</a></span><span class="op" id="6579898">.</span><span class="ident" id="6579899">Scan</span><span class="op" id="6579903">(</span><span class="op" id="6579904">)</span><span class="op" id="6579905">,</span>&nbsp;<span class="ident" id="6579907"><a href="/text/scanner/scanner.go.html#6170845">EOF</a></span><span class="op" id="6579910">,</span>&nbsp;<span class="string" id="6579912">&#34;&#34;</span><span class="op" id="6579914">)</span><br>
<span class="lineno">380</span><span class="op" id="6579916">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6579919">func</span>&nbsp;<span class="ident" id="6579924">TestScanNext</span><span class="op" id="6579936">(</span><span class="ident" id="6579937">t</span>&nbsp;<span class="op" id="6579939">*</span><span class="ident" id="6579940"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6579947">.</span><span class="ident" id="6579948">T</span><span class="op" id="6579949">)</span>&nbsp;<span class="op" id="6579951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6579954">const</span>&nbsp;<span class="ident" id="6579960">BOM</span>&nbsp;<span class="op" id="6579964">=</span>&nbsp;<span class="string" id="6579966">&#39;\uFEFF&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579976">BOMs</span>&nbsp;<span class="op" id="6579981">:=</span>&nbsp;<span class="builtintype" id="6579984">string</span><span class="op" id="6579990">(</span><span class="ident" id="6579991"><a href="/text/scanner/scanner_test.go.html#6579960">BOM</a></span><span class="op" id="6579994">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6579997">s</span>&nbsp;<span class="op" id="6579999">:=</span>&nbsp;<span class="builtinfunc" id="6580002">new</span><span class="op" id="6580005">(</span><span class="ident" id="6580006"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6580013">)</span><span class="op" id="6580014">.</span><span class="ident" id="6580015">Init</span><span class="op" id="6580019">(</span><span class="ident" id="6580020"><a href="/text/scanner/scanner_test.go.html#6571443">strings</a></span><span class="op" id="6580027">.</span><span class="ident" id="6580028">NewReader</span><span class="op" id="6580037">(</span><span class="ident" id="6580038"><a href="/text/scanner/scanner_test.go.html#6579976">BOMs</a></span>&nbsp;<span class="op" id="6580043">+</span>&nbsp;<span class="string" id="6580045">&#34;if&nbsp;a&nbsp;==&nbsp;bcd&nbsp;/*&nbsp;com&#34;</span>&nbsp;<span class="op" id="6580066">+</span>&nbsp;<span class="ident" id="6580068"><a href="/text/scanner/scanner_test.go.html#6579976">BOMs</a></span>&nbsp;<span class="op" id="6580073">+</span>&nbsp;<span class="string" id="6580075">&#34;ment&nbsp;*/&nbsp;{\n\ta&nbsp;+=&nbsp;c\n}&#34;</span>&nbsp;<span class="op" id="6580100">+</span>&nbsp;<span class="ident" id="6580102"><a href="/text/scanner/scanner_test.go.html#6579976">BOMs</a></span>&nbsp;<span class="op" id="6580107">+</span>&nbsp;<span class="string" id="6580109">&#34;//&nbsp;line&nbsp;comment&nbsp;ending&nbsp;in&nbsp;eof&#34;</span><span class="op" id="6580140">)</span><span class="op" id="6580141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580144"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6580152">(</span><span class="ident" id="6580153"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580154">,</span>&nbsp;<span class="ident" id="6580156"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580157">,</span>&nbsp;<span class="num" id="6580159">1</span><span class="op" id="6580160">,</span>&nbsp;<span class="ident" id="6580162"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580163">.</span><span class="ident" id="6580164">Scan</span><span class="op" id="6580168">(</span><span class="op" id="6580169">)</span><span class="op" id="6580170">,</span>&nbsp;<span class="ident" id="6580172"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6580177">,</span>&nbsp;<span class="string" id="6580179">&#34;if&#34;</span><span class="op" id="6580183">)</span>&nbsp;<span class="comment" id="6580185">//&nbsp;the&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580214"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6580222">(</span><span class="ident" id="6580223"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580224">,</span>&nbsp;<span class="ident" id="6580226"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580227">,</span>&nbsp;<span class="num" id="6580229">1</span><span class="op" id="6580230">,</span>&nbsp;<span class="ident" id="6580232"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580233">.</span><span class="ident" id="6580234">Scan</span><span class="op" id="6580238">(</span><span class="op" id="6580239">)</span><span class="op" id="6580240">,</span>&nbsp;<span class="ident" id="6580242"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6580247">,</span>&nbsp;<span class="string" id="6580249">&#34;a&#34;</span><span class="op" id="6580252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580255"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6580263">(</span><span class="ident" id="6580264"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580265">,</span>&nbsp;<span class="ident" id="6580267"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580268">,</span>&nbsp;<span class="num" id="6580270">1</span><span class="op" id="6580271">,</span>&nbsp;<span class="ident" id="6580273"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580274">.</span><span class="ident" id="6580275">Scan</span><span class="op" id="6580279">(</span><span class="op" id="6580280">)</span><span class="op" id="6580281">,</span>&nbsp;<span class="string" id="6580283">&#39;=&#39;</span><span class="op" id="6580286">,</span>&nbsp;<span class="string" id="6580288">&#34;=&#34;</span><span class="op" id="6580291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580294"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6580302">(</span><span class="ident" id="6580303"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580304">,</span>&nbsp;<span class="ident" id="6580306"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580307">,</span>&nbsp;<span class="num" id="6580309">0</span><span class="op" id="6580310">,</span>&nbsp;<span class="ident" id="6580312"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580313">.</span><span class="ident" id="6580314">Next</span><span class="op" id="6580318">(</span><span class="op" id="6580319">)</span><span class="op" id="6580320">,</span>&nbsp;<span class="string" id="6580322">&#39;=&#39;</span><span class="op" id="6580325">,</span>&nbsp;<span class="string" id="6580327">&#34;&#34;</span><span class="op" id="6580329">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580332"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6580340">(</span><span class="ident" id="6580341"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580342">,</span>&nbsp;<span class="ident" id="6580344"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580345">,</span>&nbsp;<span class="num" id="6580347">0</span><span class="op" id="6580348">,</span>&nbsp;<span class="ident" id="6580350"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580351">.</span><span class="ident" id="6580352">Next</span><span class="op" id="6580356">(</span><span class="op" id="6580357">)</span><span class="op" id="6580358">,</span>&nbsp;<span class="string" id="6580360">&#39;&nbsp;&#39;</span><span class="op" id="6580363">,</span>&nbsp;<span class="string" id="6580365">&#34;&#34;</span><span class="op" id="6580367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580370"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6580378">(</span><span class="ident" id="6580379"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580380">,</span>&nbsp;<span class="ident" id="6580382"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580383">,</span>&nbsp;<span class="num" id="6580385">0</span><span class="op" id="6580386">,</span>&nbsp;<span class="ident" id="6580388"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580389">.</span><span class="ident" id="6580390">Next</span><span class="op" id="6580394">(</span><span class="op" id="6580395">)</span><span class="op" id="6580396">,</span>&nbsp;<span class="string" id="6580398">&#39;b&#39;</span><span class="op" id="6580401">,</span>&nbsp;<span class="string" id="6580403">&#34;&#34;</span><span class="op" id="6580405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580408"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6580416">(</span><span class="ident" id="6580417"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580418">,</span>&nbsp;<span class="ident" id="6580420"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580421">,</span>&nbsp;<span class="num" id="6580423">1</span><span class="op" id="6580424">,</span>&nbsp;<span class="ident" id="6580426"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580427">.</span><span class="ident" id="6580428">Scan</span><span class="op" id="6580432">(</span><span class="op" id="6580433">)</span><span class="op" id="6580434">,</span>&nbsp;<span class="ident" id="6580436"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6580441">,</span>&nbsp;<span class="string" id="6580443">&#34;cd&#34;</span><span class="op" id="6580447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580450"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6580458">(</span><span class="ident" id="6580459"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580460">,</span>&nbsp;<span class="ident" id="6580462"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580463">,</span>&nbsp;<span class="num" id="6580465">1</span><span class="op" id="6580466">,</span>&nbsp;<span class="ident" id="6580468"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580469">.</span><span class="ident" id="6580470">Scan</span><span class="op" id="6580474">(</span><span class="op" id="6580475">)</span><span class="op" id="6580476">,</span>&nbsp;<span class="string" id="6580478">&#39;{&#39;</span><span class="op" id="6580481">,</span>&nbsp;<span class="string" id="6580483">&#34;{&#34;</span><span class="op" id="6580486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580489"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6580497">(</span><span class="ident" id="6580498"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580499">,</span>&nbsp;<span class="ident" id="6580501"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580502">,</span>&nbsp;<span class="num" id="6580504">2</span><span class="op" id="6580505">,</span>&nbsp;<span class="ident" id="6580507"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580508">.</span><span class="ident" id="6580509">Scan</span><span class="op" id="6580513">(</span><span class="op" id="6580514">)</span><span class="op" id="6580515">,</span>&nbsp;<span class="ident" id="6580517"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6580522">,</span>&nbsp;<span class="string" id="6580524">&#34;a&#34;</span><span class="op" id="6580527">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580530"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6580538">(</span><span class="ident" id="6580539"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580540">,</span>&nbsp;<span class="ident" id="6580542"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580543">,</span>&nbsp;<span class="num" id="6580545">2</span><span class="op" id="6580546">,</span>&nbsp;<span class="ident" id="6580548"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580549">.</span><span class="ident" id="6580550">Scan</span><span class="op" id="6580554">(</span><span class="op" id="6580555">)</span><span class="op" id="6580556">,</span>&nbsp;<span class="string" id="6580558">&#39;+&#39;</span><span class="op" id="6580561">,</span>&nbsp;<span class="string" id="6580563">&#34;+&#34;</span><span class="op" id="6580566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580569"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6580577">(</span><span class="ident" id="6580578"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580579">,</span>&nbsp;<span class="ident" id="6580581"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580582">,</span>&nbsp;<span class="num" id="6580584">0</span><span class="op" id="6580585">,</span>&nbsp;<span class="ident" id="6580587"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580588">.</span><span class="ident" id="6580589">Next</span><span class="op" id="6580593">(</span><span class="op" id="6580594">)</span><span class="op" id="6580595">,</span>&nbsp;<span class="string" id="6580597">&#39;=&#39;</span><span class="op" id="6580600">,</span>&nbsp;<span class="string" id="6580602">&#34;&#34;</span><span class="op" id="6580604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580607"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6580615">(</span><span class="ident" id="6580616"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580617">,</span>&nbsp;<span class="ident" id="6580619"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580620">,</span>&nbsp;<span class="num" id="6580622">2</span><span class="op" id="6580623">,</span>&nbsp;<span class="ident" id="6580625"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580626">.</span><span class="ident" id="6580627">Scan</span><span class="op" id="6580631">(</span><span class="op" id="6580632">)</span><span class="op" id="6580633">,</span>&nbsp;<span class="ident" id="6580635"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6580640">,</span>&nbsp;<span class="string" id="6580642">&#34;c&#34;</span><span class="op" id="6580645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580648"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6580656">(</span><span class="ident" id="6580657"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580658">,</span>&nbsp;<span class="ident" id="6580660"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580661">,</span>&nbsp;<span class="num" id="6580663">3</span><span class="op" id="6580664">,</span>&nbsp;<span class="ident" id="6580666"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580667">.</span><span class="ident" id="6580668">Scan</span><span class="op" id="6580672">(</span><span class="op" id="6580673">)</span><span class="op" id="6580674">,</span>&nbsp;<span class="string" id="6580676">&#39;}&#39;</span><span class="op" id="6580679">,</span>&nbsp;<span class="string" id="6580681">&#34;}&#34;</span><span class="op" id="6580684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580687"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6580695">(</span><span class="ident" id="6580696"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580697">,</span>&nbsp;<span class="ident" id="6580699"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580700">,</span>&nbsp;<span class="num" id="6580702">3</span><span class="op" id="6580703">,</span>&nbsp;<span class="ident" id="6580705"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580706">.</span><span class="ident" id="6580707">Scan</span><span class="op" id="6580711">(</span><span class="op" id="6580712">)</span><span class="op" id="6580713">,</span>&nbsp;<span class="ident" id="6580715"><a href="/text/scanner/scanner_test.go.html#6579960">BOM</a></span><span class="op" id="6580718">,</span>&nbsp;<span class="ident" id="6580720"><a href="/text/scanner/scanner_test.go.html#6579976">BOMs</a></span><span class="op" id="6580724">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580727"><a href="/text/scanner/scanner_test.go.html#6575822">checkTok</a></span><span class="op" id="6580735">(</span><span class="ident" id="6580736"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580737">,</span>&nbsp;<span class="ident" id="6580739"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580740">,</span>&nbsp;<span class="num" id="6580742">3</span><span class="op" id="6580743">,</span>&nbsp;<span class="ident" id="6580745"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580746">.</span><span class="ident" id="6580747">Scan</span><span class="op" id="6580751">(</span><span class="op" id="6580752">)</span><span class="op" id="6580753">,</span>&nbsp;<span class="op" id="6580755">-</span><span class="num" id="6580756">1</span><span class="op" id="6580757">,</span>&nbsp;<span class="string" id="6580759">&#34;&#34;</span><span class="op" id="6580761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6580764">if</span>&nbsp;<span class="ident" id="6580767"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580768">.</span><span class="ident" id="6580769">ErrorCount</span>&nbsp;<span class="op" id="6580780">!=</span>&nbsp;<span class="num" id="6580783">0</span>&nbsp;<span class="op" id="6580785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580789"><a href="/text/scanner/scanner_test.go.html#6579937">t</a></span><span class="op" id="6580790">.</span><span class="ident" id="6580791">Errorf</span><span class="op" id="6580797">(</span><span class="string" id="6580798">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6580809">,</span>&nbsp;<span class="ident" id="6580811"><a href="/text/scanner/scanner_test.go.html#6579997">s</a></span><span class="op" id="6580812">.</span><span class="ident" id="6580813">ErrorCount</span><span class="op" id="6580823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6580826">}</span><br>
<span class="lineno"></span><span class="op" id="6580828">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="keyword" id="6580831">func</span>&nbsp;<span class="ident" id="6580836">TestScanWhitespace</span><span class="op" id="6580854">(</span><span class="ident" id="6580855">t</span>&nbsp;<span class="op" id="6580857">*</span><span class="ident" id="6580858"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6580865">.</span><span class="ident" id="6580866">T</span><span class="op" id="6580867">)</span>&nbsp;<span class="op" id="6580869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6580872">var</span>&nbsp;<span class="ident" id="6580876">buf</span>&nbsp;<span class="ident" id="6580880"><a href="/text/scanner/scanner_test.go.html#6571421">bytes</a></span><span class="op" id="6580885">.</span><span class="ident" id="6580886">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6580894">var</span>&nbsp;<span class="ident" id="6580898">ws</span>&nbsp;<span class="ident" id="6580901">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6580909">//&nbsp;start&nbsp;at&nbsp;1,&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6580954">for</span>&nbsp;<span class="ident" id="6580958">ch</span>&nbsp;<span class="op" id="6580961">:=</span>&nbsp;<span class="builtintype" id="6580964">byte</span><span class="op" id="6580968">(</span><span class="num" id="6580969">1</span><span class="op" id="6580970">)</span><span class="op" id="6580971">;</span>&nbsp;<span class="ident" id="6580973"><a href="/text/scanner/scanner_test.go.html#6580958">ch</a></span>&nbsp;<span class="op" id="6580976">&lt;</span>&nbsp;<span class="string" id="6580978">&#39;&nbsp;&#39;</span><span class="op" id="6580981">;</span>&nbsp;<span class="ident" id="6580983"><a href="/text/scanner/scanner_test.go.html#6580958">ch</a></span><span class="op" id="6580985">++</span>&nbsp;<span class="op" id="6580988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6580992"><a href="/text/scanner/scanner_test.go.html#6580876">buf</a></span><span class="op" id="6580995">.</span><span class="ident" id="6580996">WriteByte</span><span class="op" id="6581005">(</span><span class="ident" id="6581006"><a href="/text/scanner/scanner_test.go.html#6580958">ch</a></span><span class="op" id="6581008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581012"><a href="/text/scanner/scanner_test.go.html#6580898">ws</a></span>&nbsp;<span class="op" id="6581015">|=</span>&nbsp;<span class="num" id="6581018">1</span>&nbsp;<span class="op" id="6581020">&lt;&lt;</span>&nbsp;<span class="ident" id="6581023"><a href="/text/scanner/scanner_test.go.html#6580958">ch</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6581030">const</span>&nbsp;<span class="ident" id="6581036">orig</span>&nbsp;<span class="op" id="6581041">=</span>&nbsp;<span class="string" id="6581043">&#39;x&#39;</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581048"><a href="/text/scanner/scanner_test.go.html#6580876">buf</a></span><span class="op" id="6581051">.</span><span class="ident" id="6581052">WriteByte</span><span class="op" id="6581061">(</span><span class="ident" id="6581062"><a href="/text/scanner/scanner_test.go.html#6581036">orig</a></span><span class="op" id="6581066">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581070">s</span>&nbsp;<span class="op" id="6581072">:=</span>&nbsp;<span class="builtinfunc" id="6581075">new</span><span class="op" id="6581078">(</span><span class="ident" id="6581079"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6581086">)</span><span class="op" id="6581087">.</span><span class="ident" id="6581088">Init</span><span class="op" id="6581092">(</span><span class="op" id="6581093">&amp;</span><span class="ident" id="6581094"><a href="/text/scanner/scanner_test.go.html#6580876">buf</a></span><span class="op" id="6581097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581100"><a href="/text/scanner/scanner_test.go.html#6581070">s</a></span><span class="op" id="6581101">.</span><span class="ident" id="6581102">Mode</span>&nbsp;<span class="op" id="6581107">=</span>&nbsp;<span class="num" id="6581109">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581112"><a href="/text/scanner/scanner_test.go.html#6581070">s</a></span><span class="op" id="6581113">.</span><span class="ident" id="6581114">Whitespace</span>&nbsp;<span class="op" id="6581125">=</span>&nbsp;<span class="ident" id="6581127"><a href="/text/scanner/scanner_test.go.html#6580898">ws</a></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581131">tok</span>&nbsp;<span class="op" id="6581135">:=</span>&nbsp;<span class="ident" id="6581138"><a href="/text/scanner/scanner_test.go.html#6581070">s</a></span><span class="op" id="6581139">.</span><span class="ident" id="6581140">Scan</span><span class="op" id="6581144">(</span><span class="op" id="6581145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6581148">if</span>&nbsp;<span class="ident" id="6581151"><a href="/text/scanner/scanner_test.go.html#6581131">tok</a></span>&nbsp;<span class="op" id="6581155">!=</span>&nbsp;<span class="ident" id="6581158"><a href="/text/scanner/scanner_test.go.html#6581036">orig</a></span>&nbsp;<span class="op" id="6581163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581167"><a href="/text/scanner/scanner_test.go.html#6580855">t</a></span><span class="op" id="6581168">.</span><span class="ident" id="6581169">Errorf</span><span class="op" id="6581175">(</span><span class="string" id="6581176">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6581195">,</span>&nbsp;<span class="ident" id="6581197"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6581208">(</span><span class="ident" id="6581209"><a href="/text/scanner/scanner_test.go.html#6581131">tok</a></span><span class="op" id="6581212">)</span><span class="op" id="6581213">,</span>&nbsp;<span class="ident" id="6581215"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6581226">(</span><span class="ident" id="6581227"><a href="/text/scanner/scanner_test.go.html#6581036">orig</a></span><span class="op" id="6581231">)</span><span class="op" id="6581232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581235">}</span><br>
<span class="lineno"></span><span class="op" id="6581237">}</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span><span class="keyword" id="6581240">func</span>&nbsp;<span class="ident" id="6581245">testError</span><span class="op" id="6581254">(</span><span class="ident" id="6581255">t</span>&nbsp;<span class="op" id="6581257">*</span><span class="ident" id="6581258"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6581265">.</span><span class="ident" id="6581266">T</span><span class="op" id="6581267">,</span>&nbsp;<span class="ident" id="6581269">src</span><span class="op" id="6581272">,</span>&nbsp;<span class="ident" id="6581274">pos</span><span class="op" id="6581277">,</span>&nbsp;<span class="ident" id="6581279">msg</span>&nbsp;<span class="builtintype" id="6581283">string</span><span class="op" id="6581289">,</span>&nbsp;<span class="ident" id="6581291">tok</span>&nbsp;<span class="builtintype" id="6581295">rune</span><span class="op" id="6581299">)</span>&nbsp;<span class="op" id="6581301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581304">s</span>&nbsp;<span class="op" id="6581306">:=</span>&nbsp;<span class="builtinfunc" id="6581309">new</span><span class="op" id="6581312">(</span><span class="ident" id="6581313"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6581320">)</span><span class="op" id="6581321">.</span><span class="ident" id="6581322">Init</span><span class="op" id="6581326">(</span><span class="ident" id="6581327"><a href="/text/scanner/scanner_test.go.html#6571443">strings</a></span><span class="op" id="6581334">.</span><span class="ident" id="6581335">NewReader</span><span class="op" id="6581344">(</span><span class="ident" id="6581345"><a href="/text/scanner/scanner_test.go.html#6581269">src</a></span><span class="op" id="6581348">)</span><span class="op" id="6581349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581352">errorCalled</span>&nbsp;<span class="op" id="6581364">:=</span>&nbsp;<span class="builtintype" id="6581367">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581374"><a href="/text/scanner/scanner_test.go.html#6581304">s</a></span><span class="op" id="6581375">.</span><span class="ident" id="6581376">Error</span>&nbsp;<span class="op" id="6581382">=</span>&nbsp;<span class="keyword" id="6581384">func</span><span class="op" id="6581388">(</span><span class="ident" id="6581389">s</span>&nbsp;<span class="op" id="6581391">*</span><span class="ident" id="6581392"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6581399">,</span>&nbsp;<span class="ident" id="6581401">m</span>&nbsp;<span class="builtintype" id="6581403">string</span><span class="op" id="6581409">)</span>&nbsp;<span class="op" id="6581411">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6581415">if</span>&nbsp;<span class="op" id="6581418">!</span><span class="ident" id="6581419"><a href="/text/scanner/scanner_test.go.html#6581352">errorCalled</a></span>&nbsp;<span class="op" id="6581431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6581436">//&nbsp;only&nbsp;look&nbsp;at&nbsp;first&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6581467">if</span>&nbsp;<span class="ident" id="6581470">p</span>&nbsp;<span class="op" id="6581472">:=</span>&nbsp;<span class="ident" id="6581475"><a href="/text/scanner/scanner_test.go.html#6581389">s</a></span><span class="op" id="6581476">.</span><span class="ident" id="6581477">Pos</span><span class="op" id="6581480">(</span><span class="op" id="6581481">)</span><span class="op" id="6581482">.</span><span class="ident" id="6581483">String</span><span class="op" id="6581489">(</span><span class="op" id="6581490">)</span><span class="op" id="6581491">;</span>&nbsp;<span class="ident" id="6581493"><a href="/text/scanner/scanner_test.go.html#6581470">p</a></span>&nbsp;<span class="op" id="6581495">!=</span>&nbsp;<span class="ident" id="6581498"><a href="/text/scanner/scanner_test.go.html#6581274">pos</a></span>&nbsp;<span class="op" id="6581502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581508"><a href="/text/scanner/scanner_test.go.html#6581255">t</a></span><span class="op" id="6581509">.</span><span class="ident" id="6581510">Errorf</span><span class="op" id="6581516">(</span><span class="string" id="6581517">&#34;pos&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6581543">,</span>&nbsp;<span class="ident" id="6581545"><a href="/text/scanner/scanner_test.go.html#6581470">p</a></span><span class="op" id="6581546">,</span>&nbsp;<span class="ident" id="6581548"><a href="/text/scanner/scanner_test.go.html#6581274">pos</a></span><span class="op" id="6581551">,</span>&nbsp;<span class="ident" id="6581553"><a href="/text/scanner/scanner_test.go.html#6581269">src</a></span><span class="op" id="6581556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581561">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6581566">if</span>&nbsp;<span class="ident" id="6581569"><a href="/text/scanner/scanner_test.go.html#6581401">m</a></span>&nbsp;<span class="op" id="6581571">!=</span>&nbsp;<span class="ident" id="6581574"><a href="/text/scanner/scanner_test.go.html#6581279">msg</a></span>&nbsp;<span class="op" id="6581578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581584"><a href="/text/scanner/scanner_test.go.html#6581255">t</a></span><span class="op" id="6581585">.</span><span class="ident" id="6581586">Errorf</span><span class="op" id="6581592">(</span><span class="string" id="6581593">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6581619">,</span>&nbsp;<span class="ident" id="6581621"><a href="/text/scanner/scanner_test.go.html#6581401">m</a></span><span class="op" id="6581622">,</span>&nbsp;<span class="ident" id="6581624"><a href="/text/scanner/scanner_test.go.html#6581279">msg</a></span><span class="op" id="6581627">,</span>&nbsp;<span class="ident" id="6581629"><a href="/text/scanner/scanner_test.go.html#6581269">src</a></span><span class="op" id="6581632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581642"><a href="/text/scanner/scanner_test.go.html#6581352">errorCalled</a></span>&nbsp;<span class="op" id="6581654">=</span>&nbsp;<span class="builtintype" id="6581656">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581663">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581669">tk</span>&nbsp;<span class="op" id="6581672">:=</span>&nbsp;<span class="ident" id="6581675"><a href="/text/scanner/scanner_test.go.html#6581304">s</a></span><span class="op" id="6581676">.</span><span class="ident" id="6581677">Scan</span><span class="op" id="6581681">(</span><span class="op" id="6581682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6581685">if</span>&nbsp;<span class="ident" id="6581688"><a href="/text/scanner/scanner_test.go.html#6581669">tk</a></span>&nbsp;<span class="op" id="6581691">!=</span>&nbsp;<span class="ident" id="6581694"><a href="/text/scanner/scanner_test.go.html#6581291">tok</a></span>&nbsp;<span class="op" id="6581698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581702"><a href="/text/scanner/scanner_test.go.html#6581255">t</a></span><span class="op" id="6581703">.</span><span class="ident" id="6581704">Errorf</span><span class="op" id="6581710">(</span><span class="string" id="6581711">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6581737">,</span>&nbsp;<span class="ident" id="6581739"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6581750">(</span><span class="ident" id="6581751"><a href="/text/scanner/scanner_test.go.html#6581669">tk</a></span><span class="op" id="6581753">)</span><span class="op" id="6581754">,</span>&nbsp;<span class="ident" id="6581756"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6581767">(</span><span class="ident" id="6581768"><a href="/text/scanner/scanner_test.go.html#6581291">tok</a></span><span class="op" id="6581771">)</span><span class="op" id="6581772">,</span>&nbsp;<span class="ident" id="6581774"><a href="/text/scanner/scanner_test.go.html#6581269">src</a></span><span class="op" id="6581777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581780">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6581783">if</span>&nbsp;<span class="op" id="6581786">!</span><span class="ident" id="6581787"><a href="/text/scanner/scanner_test.go.html#6581352">errorCalled</a></span>&nbsp;<span class="op" id="6581799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581803"><a href="/text/scanner/scanner_test.go.html#6581255">t</a></span><span class="op" id="6581804">.</span><span class="ident" id="6581805">Errorf</span><span class="op" id="6581811">(</span><span class="string" id="6581812">&#34;error&nbsp;handler&nbsp;not&nbsp;called&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6581845">,</span>&nbsp;<span class="ident" id="6581847"><a href="/text/scanner/scanner_test.go.html#6581269">src</a></span><span class="op" id="6581850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6581856">if</span>&nbsp;<span class="ident" id="6581859"><a href="/text/scanner/scanner_test.go.html#6581304">s</a></span><span class="op" id="6581860">.</span><span class="ident" id="6581861">ErrorCount</span>&nbsp;<span class="op" id="6581872">==</span>&nbsp;<span class="num" id="6581875">0</span>&nbsp;<span class="op" id="6581877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581881"><a href="/text/scanner/scanner_test.go.html#6581255">t</a></span><span class="op" id="6581882">.</span><span class="ident" id="6581883">Errorf</span><span class="op" id="6581889">(</span><span class="string" id="6581890">&#34;count&nbsp;=&nbsp;%d,&nbsp;want&nbsp;&gt;&nbsp;0&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6581919">,</span>&nbsp;<span class="ident" id="6581921"><a href="/text/scanner/scanner_test.go.html#6581304">s</a></span><span class="op" id="6581922">.</span><span class="ident" id="6581923">ErrorCount</span><span class="op" id="6581933">,</span>&nbsp;<span class="ident" id="6581935"><a href="/text/scanner/scanner_test.go.html#6581269">src</a></span><span class="op" id="6581938">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6581941">}</span><br>
<span class="lineno"></span><span class="op" id="6581943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6581946">func</span>&nbsp;<span class="ident" id="6581951">TestError</span><span class="op" id="6581960">(</span><span class="ident" id="6581961">t</span>&nbsp;<span class="op" id="6581963">*</span><span class="ident" id="6581964"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6581971">.</span><span class="ident" id="6581972">T</span><span class="op" id="6581973">)</span>&nbsp;<span class="op" id="6581975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6581978"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6581987">(</span><span class="ident" id="6581988"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6581989">,</span>&nbsp;<span class="string" id="6581991">&#34;\x00&#34;</span><span class="op" id="6581997">,</span>&nbsp;<span class="string" id="6581999">&#34;1:1&#34;</span><span class="op" id="6582004">,</span>&nbsp;<span class="string" id="6582006">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6582029">,</span>&nbsp;<span class="num" id="6582031">0</span><span class="op" id="6582032">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582035"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6582044">(</span><span class="ident" id="6582045"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6582046">,</span>&nbsp;<span class="string" id="6582048">&#34;\x80&#34;</span><span class="op" id="6582054">,</span>&nbsp;<span class="string" id="6582056">&#34;1:1&#34;</span><span class="op" id="6582061">,</span>&nbsp;<span class="string" id="6582063">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6582087">,</span>&nbsp;<span class="ident" id="6582089"><a href="/text/scanner/scanner_test.go.html#6571465">utf8</a></span><span class="op" id="6582093">.</span><span class="ident" id="6582094">RuneError</span><span class="op" id="6582103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582106"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6582115">(</span><span class="ident" id="6582116"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6582117">,</span>&nbsp;<span class="string" id="6582119">&#34;\xff&#34;</span><span class="op" id="6582125">,</span>&nbsp;<span class="string" id="6582127">&#34;1:1&#34;</span><span class="op" id="6582132">,</span>&nbsp;<span class="string" id="6582134">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6582158">,</span>&nbsp;<span class="ident" id="6582160"><a href="/text/scanner/scanner_test.go.html#6571465">utf8</a></span><span class="op" id="6582164">.</span><span class="ident" id="6582165">RuneError</span><span class="op" id="6582174">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582178"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6582187">(</span><span class="ident" id="6582188"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6582189">,</span>&nbsp;<span class="string" id="6582191">&#34;a\x00&#34;</span><span class="op" id="6582198">,</span>&nbsp;<span class="string" id="6582200">&#34;1:2&#34;</span><span class="op" id="6582205">,</span>&nbsp;<span class="string" id="6582207">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6582230">,</span>&nbsp;<span class="ident" id="6582232"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6582237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582240"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6582249">(</span><span class="ident" id="6582250"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6582251">,</span>&nbsp;<span class="string" id="6582253">&#34;ab\x80&#34;</span><span class="op" id="6582261">,</span>&nbsp;<span class="string" id="6582263">&#34;1:3&#34;</span><span class="op" id="6582268">,</span>&nbsp;<span class="string" id="6582270">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6582294">,</span>&nbsp;<span class="ident" id="6582296"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6582301">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582304"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6582313">(</span><span class="ident" id="6582314"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6582315">,</span>&nbsp;<span class="string" id="6582317">&#34;abc\xff&#34;</span><span class="op" id="6582326">,</span>&nbsp;<span class="string" id="6582328">&#34;1:4&#34;</span><span class="op" id="6582333">,</span>&nbsp;<span class="string" id="6582335">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6582359">,</span>&nbsp;<span class="ident" id="6582361"><a href="/text/scanner/scanner.go.html#6170864">Ident</a></span><span class="op" id="6582366">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582370"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6582379">(</span><span class="ident" id="6582380"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6582381">,</span>&nbsp;<span class="string" id="6582383">`&#34;a`</span><span class="op" id="6582387">+</span><span class="string" id="6582388">&#34;\x00&#34;</span><span class="op" id="6582394">,</span>&nbsp;<span class="string" id="6582396">&#34;1:3&#34;</span><span class="op" id="6582401">,</span>&nbsp;<span class="string" id="6582403">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6582426">,</span>&nbsp;<span class="ident" id="6582428"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6582434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582437"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6582446">(</span><span class="ident" id="6582447"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6582448">,</span>&nbsp;<span class="string" id="6582450">`&#34;ab`</span><span class="op" id="6582455">+</span><span class="string" id="6582456">&#34;\x80&#34;</span><span class="op" id="6582462">,</span>&nbsp;<span class="string" id="6582464">&#34;1:4&#34;</span><span class="op" id="6582469">,</span>&nbsp;<span class="string" id="6582471">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6582495">,</span>&nbsp;<span class="ident" id="6582497"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6582503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582506"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6582515">(</span><span class="ident" id="6582516"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6582517">,</span>&nbsp;<span class="string" id="6582519">`&#34;abc`</span><span class="op" id="6582525">+</span><span class="string" id="6582526">&#34;\xff&#34;</span><span class="op" id="6582532">,</span>&nbsp;<span class="string" id="6582534">&#34;1:5&#34;</span><span class="op" id="6582539">,</span>&nbsp;<span class="string" id="6582541">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6582565">,</span>&nbsp;<span class="ident" id="6582567"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6582573">)</span><br>
<span class="lineno">465</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582577"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6582586">(</span><span class="ident" id="6582587"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6582588">,</span>&nbsp;<span class="string" id="6582590">&#34;`a&#34;</span><span class="op" id="6582594">+</span><span class="string" id="6582595">&#34;\x00&#34;</span><span class="op" id="6582601">,</span>&nbsp;<span class="string" id="6582603">&#34;1:3&#34;</span><span class="op" id="6582608">,</span>&nbsp;<span class="string" id="6582610">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6582633">,</span>&nbsp;<span class="ident" id="6582635"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6582641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582644"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6582653">(</span><span class="ident" id="6582654"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6582655">,</span>&nbsp;<span class="string" id="6582657">&#34;`ab&#34;</span><span class="op" id="6582662">+</span><span class="string" id="6582663">&#34;\x80&#34;</span><span class="op" id="6582669">,</span>&nbsp;<span class="string" id="6582671">&#34;1:4&#34;</span><span class="op" id="6582676">,</span>&nbsp;<span class="string" id="6582678">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6582702">,</span>&nbsp;<span class="ident" id="6582704"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6582710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582713"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6582722">(</span><span class="ident" id="6582723"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6582724">,</span>&nbsp;<span class="string" id="6582726">&#34;`abc&#34;</span><span class="op" id="6582732">+</span><span class="string" id="6582733">&#34;\xff&#34;</span><span class="op" id="6582739">,</span>&nbsp;<span class="string" id="6582741">&#34;1:5&#34;</span><span class="op" id="6582746">,</span>&nbsp;<span class="string" id="6582748">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6582772">,</span>&nbsp;<span class="ident" id="6582774"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6582780">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582784"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6582793">(</span><span class="ident" id="6582794"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6582795">,</span>&nbsp;<span class="string" id="6582797">`&#39;\&#34;&#39;`</span><span class="op" id="6582803">,</span>&nbsp;<span class="string" id="6582805">&#34;1:3&#34;</span><span class="op" id="6582810">,</span>&nbsp;<span class="string" id="6582812">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="6582833">,</span>&nbsp;<span class="ident" id="6582835"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6582839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582842"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6582851">(</span><span class="ident" id="6582852"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6582853">,</span>&nbsp;<span class="string" id="6582855">`&#34;\&#39;&#34;`</span><span class="op" id="6582861">,</span>&nbsp;<span class="string" id="6582863">&#34;1:3&#34;</span><span class="op" id="6582868">,</span>&nbsp;<span class="string" id="6582870">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="6582891">,</span>&nbsp;<span class="ident" id="6582893"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6582899">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582903"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6582912">(</span><span class="ident" id="6582913"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6582914">,</span>&nbsp;<span class="string" id="6582916">`01238`</span><span class="op" id="6582923">,</span>&nbsp;<span class="string" id="6582925">&#34;1:6&#34;</span><span class="op" id="6582930">,</span>&nbsp;<span class="string" id="6582932">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="6582954">,</span>&nbsp;<span class="ident" id="6582956"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6582959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6582962"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6582971">(</span><span class="ident" id="6582972"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6582973">,</span>&nbsp;<span class="string" id="6582975">`01238123`</span><span class="op" id="6582985">,</span>&nbsp;<span class="string" id="6582987">&#34;1:9&#34;</span><span class="op" id="6582992">,</span>&nbsp;<span class="string" id="6582994">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="6583016">,</span>&nbsp;<span class="ident" id="6583018"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6583021">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583024"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6583033">(</span><span class="ident" id="6583034"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6583035">,</span>&nbsp;<span class="string" id="6583037">`0x`</span><span class="op" id="6583041">,</span>&nbsp;<span class="string" id="6583043">&#34;1:3&#34;</span><span class="op" id="6583048">,</span>&nbsp;<span class="string" id="6583050">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="6583078">,</span>&nbsp;<span class="ident" id="6583080"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6583083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583086"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6583095">(</span><span class="ident" id="6583096"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6583097">,</span>&nbsp;<span class="string" id="6583099">`0xg`</span><span class="op" id="6583104">,</span>&nbsp;<span class="string" id="6583106">&#34;1:3&#34;</span><span class="op" id="6583111">,</span>&nbsp;<span class="string" id="6583113">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="6583141">,</span>&nbsp;<span class="ident" id="6583143"><a href="/text/scanner/scanner.go.html#6170871">Int</a></span><span class="op" id="6583146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583149"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6583158">(</span><span class="ident" id="6583159"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6583160">,</span>&nbsp;<span class="string" id="6583162">`&#39;aa&#39;`</span><span class="op" id="6583168">,</span>&nbsp;<span class="string" id="6583170">&#34;1:4&#34;</span><span class="op" id="6583175">,</span>&nbsp;<span class="string" id="6583177">&#34;illegal&nbsp;char&nbsp;literal&#34;</span><span class="op" id="6583199">,</span>&nbsp;<span class="ident" id="6583201"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6583205">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583209"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6583218">(</span><span class="ident" id="6583219"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6583220">,</span>&nbsp;<span class="string" id="6583222">`&#39;`</span><span class="op" id="6583225">,</span>&nbsp;<span class="string" id="6583227">&#34;1:2&#34;</span><span class="op" id="6583232">,</span>&nbsp;<span class="string" id="6583234">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6583258">,</span>&nbsp;<span class="ident" id="6583260"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6583264">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583267"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6583276">(</span><span class="ident" id="6583277"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6583278">,</span>&nbsp;<span class="string" id="6583280">`&#39;`</span><span class="op" id="6583283">+</span><span class="string" id="6583284">&#34;\n&#34;</span><span class="op" id="6583288">,</span>&nbsp;<span class="string" id="6583290">&#34;1:2&#34;</span><span class="op" id="6583295">,</span>&nbsp;<span class="string" id="6583297">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6583321">,</span>&nbsp;<span class="ident" id="6583323"><a href="/text/scanner/scanner.go.html#6170883">Char</a></span><span class="op" id="6583327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583330"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6583339">(</span><span class="ident" id="6583340"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6583341">,</span>&nbsp;<span class="string" id="6583343">`&#34;abc`</span><span class="op" id="6583349">,</span>&nbsp;<span class="string" id="6583351">&#34;1:5&#34;</span><span class="op" id="6583356">,</span>&nbsp;<span class="string" id="6583358">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6583382">,</span>&nbsp;<span class="ident" id="6583384"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6583390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583393"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6583402">(</span><span class="ident" id="6583403"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6583404">,</span>&nbsp;<span class="string" id="6583406">`&#34;abc`</span><span class="op" id="6583412">+</span><span class="string" id="6583413">&#34;\n&#34;</span><span class="op" id="6583417">,</span>&nbsp;<span class="string" id="6583419">&#34;1:5&#34;</span><span class="op" id="6583424">,</span>&nbsp;<span class="string" id="6583426">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6583450">,</span>&nbsp;<span class="ident" id="6583452"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6583458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583461"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6583470">(</span><span class="ident" id="6583471"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6583472">,</span>&nbsp;<span class="string" id="6583474">&#34;`abc\n&#34;</span><span class="op" id="6583482">,</span>&nbsp;<span class="string" id="6583484">&#34;2:1&#34;</span><span class="op" id="6583489">,</span>&nbsp;<span class="string" id="6583491">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6583515">,</span>&nbsp;<span class="ident" id="6583517"><a href="/text/scanner/scanner.go.html#6170889">String</a></span><span class="op" id="6583523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583526"><a href="/text/scanner/scanner_test.go.html#6581245">testError</a></span><span class="op" id="6583535">(</span><span class="ident" id="6583536"><a href="/text/scanner/scanner_test.go.html#6581961">t</a></span><span class="op" id="6583537">,</span>&nbsp;<span class="string" id="6583539">`/*/`</span><span class="op" id="6583544">,</span>&nbsp;<span class="string" id="6583546">&#34;1:4&#34;</span><span class="op" id="6583551">,</span>&nbsp;<span class="string" id="6583553">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6583577">,</span>&nbsp;<span class="ident" id="6583579"><a href="/text/scanner/scanner.go.html#6170845">EOF</a></span><span class="op" id="6583582">)</span><br>
<span class="lineno">485</span><span class="op" id="6583584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6583587">//&nbsp;An&nbsp;errReader&nbsp;returns&nbsp;(0,&nbsp;err)&nbsp;where&nbsp;err&nbsp;is&nbsp;not&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="6583645">type</span>&nbsp;<span class="ident" id="6583650">errReader</span>&nbsp;<span class="keyword" id="6583660">struct</span><span class="op" id="6583666">{</span><span class="op" id="6583667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="keyword" id="6583670">func</span>&nbsp;<span class="op" id="6583675">(</span><span class="ident" id="6583676"><a href="/text/scanner/scanner_test.go.html#6583650">errReader</a></span><span class="op" id="6583685">)</span>&nbsp;<span class="ident" id="6583687">Read</span><span class="op" id="6583691">(</span><span class="ident" id="6583692">b</span>&nbsp;<span class="op" id="6583694">[</span><span class="op" id="6583695">]</span><span class="builtintype" id="6583696">byte</span><span class="op" id="6583700">)</span>&nbsp;<span class="op" id="6583702">(</span><span class="builtintype" id="6583703">int</span><span class="op" id="6583706">,</span>&nbsp;<span class="builtintype" id="6583708">error</span><span class="op" id="6583713">)</span>&nbsp;<span class="op" id="6583715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6583718">return</span>&nbsp;<span class="num" id="6583725">0</span><span class="op" id="6583726">,</span>&nbsp;<span class="ident" id="6583728"><a href="/text/scanner/scanner_test.go.html#6571437">io</a></span><span class="op" id="6583730">.</span><span class="ident" id="6583731">ErrNoProgress</span>&nbsp;<span class="comment" id="6583745">//&nbsp;some&nbsp;error&nbsp;that&nbsp;is&nbsp;not&nbsp;io.EOF</span><br>
<span class="lineno"></span><span class="op" id="6583778">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6583781">func</span>&nbsp;<span class="ident" id="6583786">TestIOError</span><span class="op" id="6583797">(</span><span class="ident" id="6583798">t</span>&nbsp;<span class="op" id="6583800">*</span><span class="ident" id="6583801"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6583808">.</span><span class="ident" id="6583809">T</span><span class="op" id="6583810">)</span>&nbsp;<span class="op" id="6583812">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583815">s</span>&nbsp;<span class="op" id="6583817">:=</span>&nbsp;<span class="builtinfunc" id="6583820">new</span><span class="op" id="6583823">(</span><span class="ident" id="6583824"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6583831">)</span><span class="op" id="6583832">.</span><span class="ident" id="6583833">Init</span><span class="op" id="6583837">(</span><span class="ident" id="6583838"><a href="/text/scanner/scanner_test.go.html#6583650">errReader</a></span><span class="op" id="6583847">{</span><span class="op" id="6583848">}</span><span class="op" id="6583849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583852">errorCalled</span>&nbsp;<span class="op" id="6583864">:=</span>&nbsp;<span class="builtintype" id="6583867">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583874"><a href="/text/scanner/scanner_test.go.html#6583815">s</a></span><span class="op" id="6583875">.</span><span class="ident" id="6583876">Error</span>&nbsp;<span class="op" id="6583882">=</span>&nbsp;<span class="keyword" id="6583884">func</span><span class="op" id="6583888">(</span><span class="ident" id="6583889">s</span>&nbsp;<span class="op" id="6583891">*</span><span class="ident" id="6583892"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6583899">,</span>&nbsp;<span class="ident" id="6583901">msg</span>&nbsp;<span class="builtintype" id="6583905">string</span><span class="op" id="6583911">)</span>&nbsp;<span class="op" id="6583913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6583917">if</span>&nbsp;<span class="op" id="6583920">!</span><span class="ident" id="6583921"><a href="/text/scanner/scanner_test.go.html#6583852">errorCalled</a></span>&nbsp;<span class="op" id="6583933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6583938">if</span>&nbsp;<span class="ident" id="6583941">want</span>&nbsp;<span class="op" id="6583946">:=</span>&nbsp;<span class="ident" id="6583949"><a href="/text/scanner/scanner_test.go.html#6571437">io</a></span><span class="op" id="6583951">.</span><span class="ident" id="6583952">ErrNoProgress</span><span class="op" id="6583965">.</span><span class="ident" id="6583966">Error</span><span class="op" id="6583971">(</span><span class="op" id="6583972">)</span><span class="op" id="6583973">;</span>&nbsp;<span class="ident" id="6583975"><a href="/text/scanner/scanner_test.go.html#6583901">msg</a></span>&nbsp;<span class="op" id="6583979">!=</span>&nbsp;<span class="ident" id="6583982"><a href="/text/scanner/scanner_test.go.html#6583941">want</a></span>&nbsp;<span class="op" id="6583987">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6583993"><a href="/text/scanner/scanner_test.go.html#6583798">t</a></span><span class="op" id="6583994">.</span><span class="ident" id="6583995">Errorf</span><span class="op" id="6584001">(</span><span class="string" id="6584002">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6584021">,</span>&nbsp;<span class="ident" id="6584023"><a href="/text/scanner/scanner_test.go.html#6583901">msg</a></span><span class="op" id="6584026">,</span>&nbsp;<span class="ident" id="6584028"><a href="/text/scanner/scanner_test.go.html#6583941">want</a></span><span class="op" id="6584032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6584037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584042"><a href="/text/scanner/scanner_test.go.html#6583852">errorCalled</a></span>&nbsp;<span class="op" id="6584054">=</span>&nbsp;<span class="builtintype" id="6584056">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6584063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6584066">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584069">tok</span>&nbsp;<span class="op" id="6584073">:=</span>&nbsp;<span class="ident" id="6584076"><a href="/text/scanner/scanner_test.go.html#6583815">s</a></span><span class="op" id="6584077">.</span><span class="ident" id="6584078">Scan</span><span class="op" id="6584082">(</span><span class="op" id="6584083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6584086">if</span>&nbsp;<span class="ident" id="6584089"><a href="/text/scanner/scanner_test.go.html#6584069">tok</a></span>&nbsp;<span class="op" id="6584093">!=</span>&nbsp;<span class="ident" id="6584096"><a href="/text/scanner/scanner.go.html#6170845">EOF</a></span>&nbsp;<span class="op" id="6584100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584104"><a href="/text/scanner/scanner_test.go.html#6583798">t</a></span><span class="op" id="6584105">.</span><span class="ident" id="6584106">Errorf</span><span class="op" id="6584112">(</span><span class="string" id="6584113">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="6584133">,</span>&nbsp;<span class="ident" id="6584135"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6584146">(</span><span class="ident" id="6584147"><a href="/text/scanner/scanner_test.go.html#6584069">tok</a></span><span class="op" id="6584150">)</span><span class="op" id="6584151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6584154">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6584157">if</span>&nbsp;<span class="op" id="6584160">!</span><span class="ident" id="6584161"><a href="/text/scanner/scanner_test.go.html#6583852">errorCalled</a></span>&nbsp;<span class="op" id="6584173">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584177"><a href="/text/scanner/scanner_test.go.html#6583798">t</a></span><span class="op" id="6584178">.</span><span class="ident" id="6584179">Errorf</span><span class="op" id="6584185">(</span><span class="string" id="6584186">&#34;error&nbsp;handler&nbsp;not&nbsp;called&#34;</span><span class="op" id="6584212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6584215">}</span><br>
<span class="lineno"></span><span class="op" id="6584217">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6584220">func</span>&nbsp;<span class="ident" id="6584225">checkPos</span><span class="op" id="6584233">(</span><span class="ident" id="6584234">t</span>&nbsp;<span class="op" id="6584236">*</span><span class="ident" id="6584237"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6584244">.</span><span class="ident" id="6584245">T</span><span class="op" id="6584246">,</span>&nbsp;<span class="ident" id="6584248">got</span><span class="op" id="6584251">,</span>&nbsp;<span class="ident" id="6584253">want</span>&nbsp;<span class="ident" id="6584258"><a href="/text/scanner/scanner.go.html#6169157">Position</a></span><span class="op" id="6584266">)</span>&nbsp;<span class="op" id="6584268">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6584271">if</span>&nbsp;<span class="ident" id="6584274"><a href="/text/scanner/scanner_test.go.html#6584248">got</a></span><span class="op" id="6584277">.</span><span class="ident" id="6584278">Offset</span>&nbsp;<span class="op" id="6584285">!=</span>&nbsp;<span class="ident" id="6584288"><a href="/text/scanner/scanner_test.go.html#6584253">want</a></span><span class="op" id="6584292">.</span><span class="ident" id="6584293">Offset</span>&nbsp;<span class="op" id="6584300">||</span>&nbsp;<span class="ident" id="6584303"><a href="/text/scanner/scanner_test.go.html#6584248">got</a></span><span class="op" id="6584306">.</span><span class="ident" id="6584307">Line</span>&nbsp;<span class="op" id="6584312">!=</span>&nbsp;<span class="ident" id="6584315"><a href="/text/scanner/scanner_test.go.html#6584253">want</a></span><span class="op" id="6584319">.</span><span class="ident" id="6584320">Line</span>&nbsp;<span class="op" id="6584325">||</span>&nbsp;<span class="ident" id="6584328"><a href="/text/scanner/scanner_test.go.html#6584248">got</a></span><span class="op" id="6584331">.</span><span class="ident" id="6584332">Column</span>&nbsp;<span class="op" id="6584339">!=</span>&nbsp;<span class="ident" id="6584342"><a href="/text/scanner/scanner_test.go.html#6584253">want</a></span><span class="op" id="6584346">.</span><span class="ident" id="6584347">Column</span>&nbsp;<span class="op" id="6584354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584358"><a href="/text/scanner/scanner_test.go.html#6584234">t</a></span><span class="op" id="6584359">.</span><span class="ident" id="6584360">Errorf</span><span class="op" id="6584366">(</span><span class="string" id="6584367">&#34;got&nbsp;offset,&nbsp;line,&nbsp;column&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d;&nbsp;want&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="6584423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584428"><a href="/text/scanner/scanner_test.go.html#6584248">got</a></span><span class="op" id="6584431">.</span><span class="ident" id="6584432">Offset</span><span class="op" id="6584438">,</span>&nbsp;<span class="ident" id="6584440"><a href="/text/scanner/scanner_test.go.html#6584248">got</a></span><span class="op" id="6584443">.</span><span class="ident" id="6584444">Line</span><span class="op" id="6584448">,</span>&nbsp;<span class="ident" id="6584450"><a href="/text/scanner/scanner_test.go.html#6584248">got</a></span><span class="op" id="6584453">.</span><span class="ident" id="6584454">Column</span><span class="op" id="6584460">,</span>&nbsp;<span class="ident" id="6584462"><a href="/text/scanner/scanner_test.go.html#6584253">want</a></span><span class="op" id="6584466">.</span><span class="ident" id="6584467">Offset</span><span class="op" id="6584473">,</span>&nbsp;<span class="ident" id="6584475"><a href="/text/scanner/scanner_test.go.html#6584253">want</a></span><span class="op" id="6584479">.</span><span class="ident" id="6584480">Line</span><span class="op" id="6584484">,</span>&nbsp;<span class="ident" id="6584486"><a href="/text/scanner/scanner_test.go.html#6584253">want</a></span><span class="op" id="6584490">.</span><span class="ident" id="6584491">Column</span><span class="op" id="6584497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6584500">}</span><br>
<span class="lineno"></span><span class="op" id="6584502">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="keyword" id="6584505">func</span>&nbsp;<span class="ident" id="6584510">checkNextPos</span><span class="op" id="6584522">(</span><span class="ident" id="6584523">t</span>&nbsp;<span class="op" id="6584525">*</span><span class="ident" id="6584526"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6584533">.</span><span class="ident" id="6584534">T</span><span class="op" id="6584535">,</span>&nbsp;<span class="ident" id="6584537">s</span>&nbsp;<span class="op" id="6584539">*</span><span class="ident" id="6584540"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6584547">,</span>&nbsp;<span class="ident" id="6584549">offset</span><span class="op" id="6584555">,</span>&nbsp;<span class="ident" id="6584557">line</span><span class="op" id="6584561">,</span>&nbsp;<span class="ident" id="6584563">column</span>&nbsp;<span class="builtintype" id="6584570">int</span><span class="op" id="6584573">,</span>&nbsp;<span class="ident" id="6584575">char</span>&nbsp;<span class="builtintype" id="6584580">rune</span><span class="op" id="6584584">)</span>&nbsp;<span class="op" id="6584586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6584589">if</span>&nbsp;<span class="ident" id="6584592">ch</span>&nbsp;<span class="op" id="6584595">:=</span>&nbsp;<span class="ident" id="6584598"><a href="/text/scanner/scanner_test.go.html#6584537">s</a></span><span class="op" id="6584599">.</span><span class="ident" id="6584600">Next</span><span class="op" id="6584604">(</span><span class="op" id="6584605">)</span><span class="op" id="6584606">;</span>&nbsp;<span class="ident" id="6584608"><a href="/text/scanner/scanner_test.go.html#6584592">ch</a></span>&nbsp;<span class="op" id="6584611">!=</span>&nbsp;<span class="ident" id="6584614"><a href="/text/scanner/scanner_test.go.html#6584575">char</a></span>&nbsp;<span class="op" id="6584619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584623"><a href="/text/scanner/scanner_test.go.html#6584523">t</a></span><span class="op" id="6584624">.</span><span class="ident" id="6584625">Errorf</span><span class="op" id="6584631">(</span><span class="string" id="6584632">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6584650">,</span>&nbsp;<span class="ident" id="6584652"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6584663">(</span><span class="ident" id="6584664"><a href="/text/scanner/scanner_test.go.html#6584592">ch</a></span><span class="op" id="6584666">)</span><span class="op" id="6584667">,</span>&nbsp;<span class="ident" id="6584669"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6584680">(</span><span class="ident" id="6584681"><a href="/text/scanner/scanner_test.go.html#6584575">char</a></span><span class="op" id="6584685">)</span><span class="op" id="6584686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6584689">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584692">want</span>&nbsp;<span class="op" id="6584697">:=</span>&nbsp;<span class="ident" id="6584700"><a href="/text/scanner/scanner.go.html#6169157">Position</a></span><span class="op" id="6584708">{</span><span class="ident" id="6584709">Offset</span><span class="op" id="6584715">:</span>&nbsp;<span class="ident" id="6584717"><a href="/text/scanner/scanner_test.go.html#6584549">offset</a></span><span class="op" id="6584723">,</span>&nbsp;<span class="ident" id="6584725">Line</span><span class="op" id="6584729">:</span>&nbsp;<span class="ident" id="6584731"><a href="/text/scanner/scanner_test.go.html#6584557">line</a></span><span class="op" id="6584735">,</span>&nbsp;<span class="ident" id="6584737">Column</span><span class="op" id="6584743">:</span>&nbsp;<span class="ident" id="6584745"><a href="/text/scanner/scanner_test.go.html#6584563">column</a></span><span class="op" id="6584751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584754"><a href="/text/scanner/scanner_test.go.html#6584225">checkPos</a></span><span class="op" id="6584762">(</span><span class="ident" id="6584763"><a href="/text/scanner/scanner_test.go.html#6584523">t</a></span><span class="op" id="6584764">,</span>&nbsp;<span class="ident" id="6584766"><a href="/text/scanner/scanner_test.go.html#6584537">s</a></span><span class="op" id="6584767">.</span><span class="ident" id="6584768">Pos</span><span class="op" id="6584771">(</span><span class="op" id="6584772">)</span><span class="op" id="6584773">,</span>&nbsp;<span class="ident" id="6584775"><a href="/text/scanner/scanner_test.go.html#6584692">want</a></span><span class="op" id="6584779">)</span><br>
<span class="lineno"></span><span class="op" id="6584781">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6584784">func</span>&nbsp;<span class="ident" id="6584789">checkScanPos</span><span class="op" id="6584801">(</span><span class="ident" id="6584802">t</span>&nbsp;<span class="op" id="6584804">*</span><span class="ident" id="6584805"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6584812">.</span><span class="ident" id="6584813">T</span><span class="op" id="6584814">,</span>&nbsp;<span class="ident" id="6584816">s</span>&nbsp;<span class="op" id="6584818">*</span><span class="ident" id="6584819"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6584826">,</span>&nbsp;<span class="ident" id="6584828">offset</span><span class="op" id="6584834">,</span>&nbsp;<span class="ident" id="6584836">line</span><span class="op" id="6584840">,</span>&nbsp;<span class="ident" id="6584842">column</span>&nbsp;<span class="builtintype" id="6584849">int</span><span class="op" id="6584852">,</span>&nbsp;<span class="ident" id="6584854">char</span>&nbsp;<span class="builtintype" id="6584859">rune</span><span class="op" id="6584863">)</span>&nbsp;<span class="op" id="6584865">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584868">want</span>&nbsp;<span class="op" id="6584873">:=</span>&nbsp;<span class="ident" id="6584876"><a href="/text/scanner/scanner.go.html#6169157">Position</a></span><span class="op" id="6584884">{</span><span class="ident" id="6584885">Offset</span><span class="op" id="6584891">:</span>&nbsp;<span class="ident" id="6584893"><a href="/text/scanner/scanner_test.go.html#6584828">offset</a></span><span class="op" id="6584899">,</span>&nbsp;<span class="ident" id="6584901">Line</span><span class="op" id="6584905">:</span>&nbsp;<span class="ident" id="6584907"><a href="/text/scanner/scanner_test.go.html#6584836">line</a></span><span class="op" id="6584911">,</span>&nbsp;<span class="ident" id="6584913">Column</span><span class="op" id="6584919">:</span>&nbsp;<span class="ident" id="6584921"><a href="/text/scanner/scanner_test.go.html#6584842">column</a></span><span class="op" id="6584927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584930"><a href="/text/scanner/scanner_test.go.html#6584225">checkPos</a></span><span class="op" id="6584938">(</span><span class="ident" id="6584939"><a href="/text/scanner/scanner_test.go.html#6584802">t</a></span><span class="op" id="6584940">,</span>&nbsp;<span class="ident" id="6584942"><a href="/text/scanner/scanner_test.go.html#6584816">s</a></span><span class="op" id="6584943">.</span><span class="ident" id="6584944">Pos</span><span class="op" id="6584947">(</span><span class="op" id="6584948">)</span><span class="op" id="6584949">,</span>&nbsp;<span class="ident" id="6584951"><a href="/text/scanner/scanner_test.go.html#6584868">want</a></span><span class="op" id="6584955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6584958">if</span>&nbsp;<span class="ident" id="6584961">ch</span>&nbsp;<span class="op" id="6584964">:=</span>&nbsp;<span class="ident" id="6584967"><a href="/text/scanner/scanner_test.go.html#6584816">s</a></span><span class="op" id="6584968">.</span><span class="ident" id="6584969">Scan</span><span class="op" id="6584973">(</span><span class="op" id="6584974">)</span><span class="op" id="6584975">;</span>&nbsp;<span class="ident" id="6584977"><a href="/text/scanner/scanner_test.go.html#6584961">ch</a></span>&nbsp;<span class="op" id="6584980">!=</span>&nbsp;<span class="ident" id="6584983"><a href="/text/scanner/scanner_test.go.html#6584854">char</a></span>&nbsp;<span class="op" id="6584988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6584992"><a href="/text/scanner/scanner_test.go.html#6584802">t</a></span><span class="op" id="6584993">.</span><span class="ident" id="6584994">Errorf</span><span class="op" id="6585000">(</span><span class="string" id="6585001">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6585019">,</span>&nbsp;<span class="ident" id="6585021"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6585032">(</span><span class="ident" id="6585033"><a href="/text/scanner/scanner_test.go.html#6584961">ch</a></span><span class="op" id="6585035">)</span><span class="op" id="6585036">,</span>&nbsp;<span class="ident" id="6585038"><a href="/text/scanner/scanner.go.html#6171221">TokenString</a></span><span class="op" id="6585049">(</span><span class="ident" id="6585050"><a href="/text/scanner/scanner_test.go.html#6584854">char</a></span><span class="op" id="6585054">)</span><span class="op" id="6585055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6585059">if</span>&nbsp;<span class="builtintype" id="6585062">string</span><span class="op" id="6585068">(</span><span class="ident" id="6585069"><a href="/text/scanner/scanner_test.go.html#6584961">ch</a></span><span class="op" id="6585071">)</span>&nbsp;<span class="op" id="6585073">!=</span>&nbsp;<span class="ident" id="6585076"><a href="/text/scanner/scanner_test.go.html#6584816">s</a></span><span class="op" id="6585077">.</span><span class="ident" id="6585078">TokenText</span><span class="op" id="6585087">(</span><span class="op" id="6585088">)</span>&nbsp;<span class="op" id="6585090">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585095"><a href="/text/scanner/scanner_test.go.html#6584802">t</a></span><span class="op" id="6585096">.</span><span class="ident" id="6585097">Errorf</span><span class="op" id="6585103">(</span><span class="string" id="6585104">&#34;tok&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6585123">,</span>&nbsp;<span class="ident" id="6585125"><a href="/text/scanner/scanner_test.go.html#6584816">s</a></span><span class="op" id="6585126">.</span><span class="ident" id="6585127">TokenText</span><span class="op" id="6585136">(</span><span class="op" id="6585137">)</span><span class="op" id="6585138">,</span>&nbsp;<span class="builtintype" id="6585140">string</span><span class="op" id="6585146">(</span><span class="ident" id="6585147"><a href="/text/scanner/scanner_test.go.html#6584961">ch</a></span><span class="op" id="6585149">)</span><span class="op" id="6585150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6585154">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6585157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585160"><a href="/text/scanner/scanner_test.go.html#6584225">checkPos</a></span><span class="op" id="6585168">(</span><span class="ident" id="6585169"><a href="/text/scanner/scanner_test.go.html#6584802">t</a></span><span class="op" id="6585170">,</span>&nbsp;<span class="ident" id="6585172"><a href="/text/scanner/scanner_test.go.html#6584816">s</a></span><span class="op" id="6585173">.</span><span class="ident" id="6585174">Position</span><span class="op" id="6585182">,</span>&nbsp;<span class="ident" id="6585184"><a href="/text/scanner/scanner_test.go.html#6584868">want</a></span><span class="op" id="6585188">)</span><br>
<span class="lineno"></span><span class="op" id="6585190">}</span><br>
<span class="lineno">540</span><br>
<span class="lineno"></span><span class="keyword" id="6585193">func</span>&nbsp;<span class="ident" id="6585198">TestPos</span><span class="op" id="6585205">(</span><span class="ident" id="6585206">t</span>&nbsp;<span class="op" id="6585208">*</span><span class="ident" id="6585209"><a href="/text/scanner/scanner_test.go.html#6571454">testing</a></span><span class="op" id="6585216">.</span><span class="ident" id="6585217">T</span><span class="op" id="6585218">)</span>&nbsp;<span class="op" id="6585220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6585223">//&nbsp;corner&nbsp;case:&nbsp;empty&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585253">s</span>&nbsp;<span class="op" id="6585255">:=</span>&nbsp;<span class="builtinfunc" id="6585258">new</span><span class="op" id="6585261">(</span><span class="ident" id="6585262"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6585269">)</span><span class="op" id="6585270">.</span><span class="ident" id="6585271">Init</span><span class="op" id="6585275">(</span><span class="ident" id="6585276"><a href="/text/scanner/scanner_test.go.html#6571443">strings</a></span><span class="op" id="6585283">.</span><span class="ident" id="6585284">NewReader</span><span class="op" id="6585293">(</span><span class="string" id="6585294">&#34;&#34;</span><span class="op" id="6585296">)</span><span class="op" id="6585297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585300"><a href="/text/scanner/scanner_test.go.html#6584225">checkPos</a></span><span class="op" id="6585308">(</span><span class="ident" id="6585309"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6585310">,</span>&nbsp;<span class="ident" id="6585312"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6585313">.</span><span class="ident" id="6585314">Pos</span><span class="op" id="6585317">(</span><span class="op" id="6585318">)</span><span class="op" id="6585319">,</span>&nbsp;<span class="ident" id="6585321"><a href="/text/scanner/scanner.go.html#6169157">Position</a></span><span class="op" id="6585329">{</span><span class="ident" id="6585330">Offset</span><span class="op" id="6585336">:</span>&nbsp;<span class="num" id="6585338">0</span><span class="op" id="6585339">,</span>&nbsp;<span class="ident" id="6585341">Line</span><span class="op" id="6585345">:</span>&nbsp;<span class="num" id="6585347">1</span><span class="op" id="6585348">,</span>&nbsp;<span class="ident" id="6585350">Column</span><span class="op" id="6585356">:</span>&nbsp;<span class="num" id="6585358">1</span><span class="op" id="6585359">}</span><span class="op" id="6585360">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585363"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6585364">.</span><span class="ident" id="6585365">Peek</span><span class="op" id="6585369">(</span><span class="op" id="6585370">)</span>&nbsp;<span class="comment" id="6585372">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585409"><a href="/text/scanner/scanner_test.go.html#6584225">checkPos</a></span><span class="op" id="6585417">(</span><span class="ident" id="6585418"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6585419">,</span>&nbsp;<span class="ident" id="6585421"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6585422">.</span><span class="ident" id="6585423">Pos</span><span class="op" id="6585426">(</span><span class="op" id="6585427">)</span><span class="op" id="6585428">,</span>&nbsp;<span class="ident" id="6585430"><a href="/text/scanner/scanner.go.html#6169157">Position</a></span><span class="op" id="6585438">{</span><span class="ident" id="6585439">Offset</span><span class="op" id="6585445">:</span>&nbsp;<span class="num" id="6585447">0</span><span class="op" id="6585448">,</span>&nbsp;<span class="ident" id="6585450">Line</span><span class="op" id="6585454">:</span>&nbsp;<span class="num" id="6585456">1</span><span class="op" id="6585457">,</span>&nbsp;<span class="ident" id="6585459">Column</span><span class="op" id="6585465">:</span>&nbsp;<span class="num" id="6585467">1</span><span class="op" id="6585468">}</span><span class="op" id="6585469">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6585473">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585517"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span>&nbsp;<span class="op" id="6585519">=</span>&nbsp;<span class="builtinfunc" id="6585521">new</span><span class="op" id="6585524">(</span><span class="ident" id="6585525"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6585532">)</span><span class="op" id="6585533">.</span><span class="ident" id="6585534">Init</span><span class="op" id="6585538">(</span><span class="ident" id="6585539"><a href="/text/scanner/scanner_test.go.html#6571443">strings</a></span><span class="op" id="6585546">.</span><span class="ident" id="6585547">NewReader</span><span class="op" id="6585556">(</span><span class="string" id="6585557">&#34;\n&#34;</span><span class="op" id="6585561">)</span><span class="op" id="6585562">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585565"><a href="/text/scanner/scanner_test.go.html#6584225">checkPos</a></span><span class="op" id="6585573">(</span><span class="ident" id="6585574"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6585575">,</span>&nbsp;<span class="ident" id="6585577"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6585578">.</span><span class="ident" id="6585579">Pos</span><span class="op" id="6585582">(</span><span class="op" id="6585583">)</span><span class="op" id="6585584">,</span>&nbsp;<span class="ident" id="6585586"><a href="/text/scanner/scanner.go.html#6169157">Position</a></span><span class="op" id="6585594">{</span><span class="ident" id="6585595">Offset</span><span class="op" id="6585601">:</span>&nbsp;<span class="num" id="6585603">0</span><span class="op" id="6585604">,</span>&nbsp;<span class="ident" id="6585606">Line</span><span class="op" id="6585610">:</span>&nbsp;<span class="num" id="6585612">1</span><span class="op" id="6585613">,</span>&nbsp;<span class="ident" id="6585615">Column</span><span class="op" id="6585621">:</span>&nbsp;<span class="num" id="6585623">1</span><span class="op" id="6585624">}</span><span class="op" id="6585625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585628"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6585640">(</span><span class="ident" id="6585641"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6585642">,</span>&nbsp;<span class="ident" id="6585644"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6585645">,</span>&nbsp;<span class="num" id="6585647">1</span><span class="op" id="6585648">,</span>&nbsp;<span class="num" id="6585650">2</span><span class="op" id="6585651">,</span>&nbsp;<span class="num" id="6585653">1</span><span class="op" id="6585654">,</span>&nbsp;<span class="string" id="6585656">&#39;\n&#39;</span><span class="op" id="6585660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6585663">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6585701">for</span>&nbsp;<span class="ident" id="6585705">i</span>&nbsp;<span class="op" id="6585707">:=</span>&nbsp;<span class="num" id="6585710">10</span><span class="op" id="6585712">;</span>&nbsp;<span class="ident" id="6585714"><a href="/text/scanner/scanner_test.go.html#6585705">i</a></span>&nbsp;<span class="op" id="6585716">&gt;</span>&nbsp;<span class="num" id="6585718">0</span><span class="op" id="6585719">;</span>&nbsp;<span class="ident" id="6585721"><a href="/text/scanner/scanner_test.go.html#6585705">i</a></span><span class="op" id="6585722">--</span>&nbsp;<span class="op" id="6585725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585729"><a href="/text/scanner/scanner_test.go.html#6584789">checkScanPos</a></span><span class="op" id="6585741">(</span><span class="ident" id="6585742"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6585743">,</span>&nbsp;<span class="ident" id="6585745"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6585746">,</span>&nbsp;<span class="num" id="6585748">1</span><span class="op" id="6585749">,</span>&nbsp;<span class="num" id="6585751">2</span><span class="op" id="6585752">,</span>&nbsp;<span class="num" id="6585754">1</span><span class="op" id="6585755">,</span>&nbsp;<span class="ident" id="6585757"><a href="/text/scanner/scanner.go.html#6170845">EOF</a></span><span class="op" id="6585760">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6585763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6585766">if</span>&nbsp;<span class="ident" id="6585769"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6585770">.</span><span class="ident" id="6585771">ErrorCount</span>&nbsp;<span class="op" id="6585782">!=</span>&nbsp;<span class="num" id="6585785">0</span>&nbsp;<span class="op" id="6585787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585791"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6585792">.</span><span class="ident" id="6585793">Errorf</span><span class="op" id="6585799">(</span><span class="string" id="6585800">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6585811">,</span>&nbsp;<span class="ident" id="6585813"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6585814">.</span><span class="ident" id="6585815">ErrorCount</span><span class="op" id="6585825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6585828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6585832">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;single&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585885"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span>&nbsp;<span class="op" id="6585887">=</span>&nbsp;<span class="builtinfunc" id="6585889">new</span><span class="op" id="6585892">(</span><span class="ident" id="6585893"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6585900">)</span><span class="op" id="6585901">.</span><span class="ident" id="6585902">Init</span><span class="op" id="6585906">(</span><span class="ident" id="6585907"><a href="/text/scanner/scanner_test.go.html#6571443">strings</a></span><span class="op" id="6585914">.</span><span class="ident" id="6585915">NewReader</span><span class="op" id="6585924">(</span><span class="string" id="6585925">&#34;本&#34;</span><span class="op" id="6585930">)</span><span class="op" id="6585931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585934"><a href="/text/scanner/scanner_test.go.html#6584225">checkPos</a></span><span class="op" id="6585942">(</span><span class="ident" id="6585943"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6585944">,</span>&nbsp;<span class="ident" id="6585946"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6585947">.</span><span class="ident" id="6585948">Pos</span><span class="op" id="6585951">(</span><span class="op" id="6585952">)</span><span class="op" id="6585953">,</span>&nbsp;<span class="ident" id="6585955"><a href="/text/scanner/scanner.go.html#6169157">Position</a></span><span class="op" id="6585963">{</span><span class="ident" id="6585964">Offset</span><span class="op" id="6585970">:</span>&nbsp;<span class="num" id="6585972">0</span><span class="op" id="6585973">,</span>&nbsp;<span class="ident" id="6585975">Line</span><span class="op" id="6585979">:</span>&nbsp;<span class="num" id="6585981">1</span><span class="op" id="6585982">,</span>&nbsp;<span class="ident" id="6585984">Column</span><span class="op" id="6585990">:</span>&nbsp;<span class="num" id="6585992">1</span><span class="op" id="6585993">}</span><span class="op" id="6585994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6585997"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6586009">(</span><span class="ident" id="6586010"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586011">,</span>&nbsp;<span class="ident" id="6586013"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586014">,</span>&nbsp;<span class="num" id="6586016">3</span><span class="op" id="6586017">,</span>&nbsp;<span class="num" id="6586019">1</span><span class="op" id="6586020">,</span>&nbsp;<span class="num" id="6586022">2</span><span class="op" id="6586023">,</span>&nbsp;<span class="string" id="6586025">&#39;本&#39;</span><span class="op" id="6586030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6586033">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6586071">for</span>&nbsp;<span class="ident" id="6586075">i</span>&nbsp;<span class="op" id="6586077">:=</span>&nbsp;<span class="num" id="6586080">10</span><span class="op" id="6586082">;</span>&nbsp;<span class="ident" id="6586084"><a href="/text/scanner/scanner_test.go.html#6586075">i</a></span>&nbsp;<span class="op" id="6586086">&gt;</span>&nbsp;<span class="num" id="6586088">0</span><span class="op" id="6586089">;</span>&nbsp;<span class="ident" id="6586091"><a href="/text/scanner/scanner_test.go.html#6586075">i</a></span><span class="op" id="6586092">--</span>&nbsp;<span class="op" id="6586095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586099"><a href="/text/scanner/scanner_test.go.html#6584789">checkScanPos</a></span><span class="op" id="6586111">(</span><span class="ident" id="6586112"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586113">,</span>&nbsp;<span class="ident" id="6586115"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586116">,</span>&nbsp;<span class="num" id="6586118">3</span><span class="op" id="6586119">,</span>&nbsp;<span class="num" id="6586121">1</span><span class="op" id="6586122">,</span>&nbsp;<span class="num" id="6586124">2</span><span class="op" id="6586125">,</span>&nbsp;<span class="ident" id="6586127"><a href="/text/scanner/scanner.go.html#6170845">EOF</a></span><span class="op" id="6586130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6586133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6586136">if</span>&nbsp;<span class="ident" id="6586139"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586140">.</span><span class="ident" id="6586141">ErrorCount</span>&nbsp;<span class="op" id="6586152">!=</span>&nbsp;<span class="num" id="6586155">0</span>&nbsp;<span class="op" id="6586157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586161"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586162">.</span><span class="ident" id="6586163">Errorf</span><span class="op" id="6586169">(</span><span class="string" id="6586170">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6586181">,</span>&nbsp;<span class="ident" id="6586183"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586184">.</span><span class="ident" id="6586185">ErrorCount</span><span class="op" id="6586195">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6586198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6586202">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586235"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span>&nbsp;<span class="op" id="6586237">=</span>&nbsp;<span class="builtinfunc" id="6586239">new</span><span class="op" id="6586242">(</span><span class="ident" id="6586243"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6586250">)</span><span class="op" id="6586251">.</span><span class="ident" id="6586252">Init</span><span class="op" id="6586256">(</span><span class="ident" id="6586257"><a href="/text/scanner/scanner_test.go.html#6571443">strings</a></span><span class="op" id="6586264">.</span><span class="ident" id="6586265">NewReader</span><span class="op" id="6586274">(</span><span class="string" id="6586275">&#34;&nbsp;&nbsp;foo६४&nbsp;&nbsp;\n\n本語\n&#34;</span><span class="op" id="6586302">)</span><span class="op" id="6586303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586306"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6586318">(</span><span class="ident" id="6586319"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586320">,</span>&nbsp;<span class="ident" id="6586322"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586323">,</span>&nbsp;<span class="num" id="6586325">1</span><span class="op" id="6586326">,</span>&nbsp;<span class="num" id="6586328">1</span><span class="op" id="6586329">,</span>&nbsp;<span class="num" id="6586331">2</span><span class="op" id="6586332">,</span>&nbsp;<span class="string" id="6586334">&#39;&nbsp;&#39;</span><span class="op" id="6586337">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586340"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586341">.</span><span class="ident" id="6586342">Peek</span><span class="op" id="6586346">(</span><span class="op" id="6586347">)</span>&nbsp;<span class="comment" id="6586349">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586386"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6586398">(</span><span class="ident" id="6586399"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586400">,</span>&nbsp;<span class="ident" id="6586402"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586403">,</span>&nbsp;<span class="num" id="6586405">2</span><span class="op" id="6586406">,</span>&nbsp;<span class="num" id="6586408">1</span><span class="op" id="6586409">,</span>&nbsp;<span class="num" id="6586411">3</span><span class="op" id="6586412">,</span>&nbsp;<span class="string" id="6586414">&#39;&nbsp;&#39;</span><span class="op" id="6586417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586420"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6586432">(</span><span class="ident" id="6586433"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586434">,</span>&nbsp;<span class="ident" id="6586436"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586437">,</span>&nbsp;<span class="num" id="6586439">3</span><span class="op" id="6586440">,</span>&nbsp;<span class="num" id="6586442">1</span><span class="op" id="6586443">,</span>&nbsp;<span class="num" id="6586445">4</span><span class="op" id="6586446">,</span>&nbsp;<span class="string" id="6586448">&#39;f&#39;</span><span class="op" id="6586451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586454"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6586466">(</span><span class="ident" id="6586467"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586468">,</span>&nbsp;<span class="ident" id="6586470"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586471">,</span>&nbsp;<span class="num" id="6586473">4</span><span class="op" id="6586474">,</span>&nbsp;<span class="num" id="6586476">1</span><span class="op" id="6586477">,</span>&nbsp;<span class="num" id="6586479">5</span><span class="op" id="6586480">,</span>&nbsp;<span class="string" id="6586482">&#39;o&#39;</span><span class="op" id="6586485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586488"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6586500">(</span><span class="ident" id="6586501"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586502">,</span>&nbsp;<span class="ident" id="6586504"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586505">,</span>&nbsp;<span class="num" id="6586507">5</span><span class="op" id="6586508">,</span>&nbsp;<span class="num" id="6586510">1</span><span class="op" id="6586511">,</span>&nbsp;<span class="num" id="6586513">6</span><span class="op" id="6586514">,</span>&nbsp;<span class="string" id="6586516">&#39;o&#39;</span><span class="op" id="6586519">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586522"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6586534">(</span><span class="ident" id="6586535"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586536">,</span>&nbsp;<span class="ident" id="6586538"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586539">,</span>&nbsp;<span class="num" id="6586541">8</span><span class="op" id="6586542">,</span>&nbsp;<span class="num" id="6586544">1</span><span class="op" id="6586545">,</span>&nbsp;<span class="num" id="6586547">7</span><span class="op" id="6586548">,</span>&nbsp;<span class="string" id="6586550">&#39;६&#39;</span><span class="op" id="6586555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586558"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6586570">(</span><span class="ident" id="6586571"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586572">,</span>&nbsp;<span class="ident" id="6586574"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586575">,</span>&nbsp;<span class="num" id="6586577">11</span><span class="op" id="6586579">,</span>&nbsp;<span class="num" id="6586581">1</span><span class="op" id="6586582">,</span>&nbsp;<span class="num" id="6586584">8</span><span class="op" id="6586585">,</span>&nbsp;<span class="string" id="6586587">&#39;४&#39;</span><span class="op" id="6586592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586595"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6586607">(</span><span class="ident" id="6586608"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586609">,</span>&nbsp;<span class="ident" id="6586611"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586612">,</span>&nbsp;<span class="num" id="6586614">12</span><span class="op" id="6586616">,</span>&nbsp;<span class="num" id="6586618">1</span><span class="op" id="6586619">,</span>&nbsp;<span class="num" id="6586621">9</span><span class="op" id="6586622">,</span>&nbsp;<span class="string" id="6586624">&#39;&nbsp;&#39;</span><span class="op" id="6586627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586630"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6586642">(</span><span class="ident" id="6586643"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586644">,</span>&nbsp;<span class="ident" id="6586646"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586647">,</span>&nbsp;<span class="num" id="6586649">13</span><span class="op" id="6586651">,</span>&nbsp;<span class="num" id="6586653">1</span><span class="op" id="6586654">,</span>&nbsp;<span class="num" id="6586656">10</span><span class="op" id="6586658">,</span>&nbsp;<span class="string" id="6586660">&#39;&nbsp;&#39;</span><span class="op" id="6586663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586666"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6586678">(</span><span class="ident" id="6586679"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586680">,</span>&nbsp;<span class="ident" id="6586682"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586683">,</span>&nbsp;<span class="num" id="6586685">14</span><span class="op" id="6586687">,</span>&nbsp;<span class="num" id="6586689">2</span><span class="op" id="6586690">,</span>&nbsp;<span class="num" id="6586692">1</span><span class="op" id="6586693">,</span>&nbsp;<span class="string" id="6586695">&#39;\n&#39;</span><span class="op" id="6586699">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586702"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6586714">(</span><span class="ident" id="6586715"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586716">,</span>&nbsp;<span class="ident" id="6586718"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586719">,</span>&nbsp;<span class="num" id="6586721">15</span><span class="op" id="6586723">,</span>&nbsp;<span class="num" id="6586725">3</span><span class="op" id="6586726">,</span>&nbsp;<span class="num" id="6586728">1</span><span class="op" id="6586729">,</span>&nbsp;<span class="string" id="6586731">&#39;\n&#39;</span><span class="op" id="6586735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586738"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6586750">(</span><span class="ident" id="6586751"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586752">,</span>&nbsp;<span class="ident" id="6586754"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586755">,</span>&nbsp;<span class="num" id="6586757">18</span><span class="op" id="6586759">,</span>&nbsp;<span class="num" id="6586761">3</span><span class="op" id="6586762">,</span>&nbsp;<span class="num" id="6586764">2</span><span class="op" id="6586765">,</span>&nbsp;<span class="string" id="6586767">&#39;本&#39;</span><span class="op" id="6586772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586775"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6586787">(</span><span class="ident" id="6586788"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586789">,</span>&nbsp;<span class="ident" id="6586791"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586792">,</span>&nbsp;<span class="num" id="6586794">21</span><span class="op" id="6586796">,</span>&nbsp;<span class="num" id="6586798">3</span><span class="op" id="6586799">,</span>&nbsp;<span class="num" id="6586801">3</span><span class="op" id="6586802">,</span>&nbsp;<span class="string" id="6586804">&#39;語&#39;</span><span class="op" id="6586809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586812"><a href="/text/scanner/scanner_test.go.html#6584510">checkNextPos</a></span><span class="op" id="6586824">(</span><span class="ident" id="6586825"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586826">,</span>&nbsp;<span class="ident" id="6586828"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586829">,</span>&nbsp;<span class="num" id="6586831">22</span><span class="op" id="6586833">,</span>&nbsp;<span class="num" id="6586835">4</span><span class="op" id="6586836">,</span>&nbsp;<span class="num" id="6586838">1</span><span class="op" id="6586839">,</span>&nbsp;<span class="string" id="6586841">&#39;\n&#39;</span><span class="op" id="6586845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6586848">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6586886">for</span>&nbsp;<span class="ident" id="6586890">i</span>&nbsp;<span class="op" id="6586892">:=</span>&nbsp;<span class="num" id="6586895">10</span><span class="op" id="6586897">;</span>&nbsp;<span class="ident" id="6586899"><a href="/text/scanner/scanner_test.go.html#6586890">i</a></span>&nbsp;<span class="op" id="6586901">&gt;</span>&nbsp;<span class="num" id="6586903">0</span><span class="op" id="6586904">;</span>&nbsp;<span class="ident" id="6586906"><a href="/text/scanner/scanner_test.go.html#6586890">i</a></span><span class="op" id="6586907">--</span>&nbsp;<span class="op" id="6586910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586914"><a href="/text/scanner/scanner_test.go.html#6584789">checkScanPos</a></span><span class="op" id="6586926">(</span><span class="ident" id="6586927"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586928">,</span>&nbsp;<span class="ident" id="6586930"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586931">,</span>&nbsp;<span class="num" id="6586933">22</span><span class="op" id="6586935">,</span>&nbsp;<span class="num" id="6586937">4</span><span class="op" id="6586938">,</span>&nbsp;<span class="num" id="6586940">1</span><span class="op" id="6586941">,</span>&nbsp;<span class="ident" id="6586943"><a href="/text/scanner/scanner.go.html#6170845">EOF</a></span><span class="op" id="6586946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6586949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6586952">if</span>&nbsp;<span class="ident" id="6586955"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6586956">.</span><span class="ident" id="6586957">ErrorCount</span>&nbsp;<span class="op" id="6586968">!=</span>&nbsp;<span class="num" id="6586971">0</span>&nbsp;<span class="op" id="6586973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6586977"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6586978">.</span><span class="ident" id="6586979">Errorf</span><span class="op" id="6586985">(</span><span class="string" id="6586986">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6586997">,</span>&nbsp;<span class="ident" id="6586999"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587000">.</span><span class="ident" id="6587001">ErrorCount</span><span class="op" id="6587011">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6587014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6587018">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587051"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span>&nbsp;<span class="op" id="6587053">=</span>&nbsp;<span class="builtinfunc" id="6587055">new</span><span class="op" id="6587058">(</span><span class="ident" id="6587059"><a href="/text/scanner/scanner.go.html#6171666">Scanner</a></span><span class="op" id="6587066">)</span><span class="op" id="6587067">.</span><span class="ident" id="6587068">Init</span><span class="op" id="6587072">(</span><span class="ident" id="6587073"><a href="/text/scanner/scanner_test.go.html#6571443">strings</a></span><span class="op" id="6587080">.</span><span class="ident" id="6587081">NewReader</span><span class="op" id="6587090">(</span><span class="string" id="6587091">&#34;abc\n本語\n\nx&#34;</span><span class="op" id="6587109">)</span><span class="op" id="6587110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587113"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587114">.</span><span class="ident" id="6587115">Mode</span>&nbsp;<span class="op" id="6587120">=</span>&nbsp;<span class="num" id="6587122">0</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587125"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587126">.</span><span class="ident" id="6587127">Whitespace</span>&nbsp;<span class="op" id="6587138">=</span>&nbsp;<span class="num" id="6587140">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587143"><a href="/text/scanner/scanner_test.go.html#6584789">checkScanPos</a></span><span class="op" id="6587155">(</span><span class="ident" id="6587156"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6587157">,</span>&nbsp;<span class="ident" id="6587159"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587160">,</span>&nbsp;<span class="num" id="6587162">0</span><span class="op" id="6587163">,</span>&nbsp;<span class="num" id="6587165">1</span><span class="op" id="6587166">,</span>&nbsp;<span class="num" id="6587168">1</span><span class="op" id="6587169">,</span>&nbsp;<span class="string" id="6587171">&#39;a&#39;</span><span class="op" id="6587174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587177"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587178">.</span><span class="ident" id="6587179">Peek</span><span class="op" id="6587183">(</span><span class="op" id="6587184">)</span>&nbsp;<span class="comment" id="6587186">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587223"><a href="/text/scanner/scanner_test.go.html#6584789">checkScanPos</a></span><span class="op" id="6587235">(</span><span class="ident" id="6587236"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6587237">,</span>&nbsp;<span class="ident" id="6587239"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587240">,</span>&nbsp;<span class="num" id="6587242">1</span><span class="op" id="6587243">,</span>&nbsp;<span class="num" id="6587245">1</span><span class="op" id="6587246">,</span>&nbsp;<span class="num" id="6587248">2</span><span class="op" id="6587249">,</span>&nbsp;<span class="string" id="6587251">&#39;b&#39;</span><span class="op" id="6587254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587257"><a href="/text/scanner/scanner_test.go.html#6584789">checkScanPos</a></span><span class="op" id="6587269">(</span><span class="ident" id="6587270"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6587271">,</span>&nbsp;<span class="ident" id="6587273"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587274">,</span>&nbsp;<span class="num" id="6587276">2</span><span class="op" id="6587277">,</span>&nbsp;<span class="num" id="6587279">1</span><span class="op" id="6587280">,</span>&nbsp;<span class="num" id="6587282">3</span><span class="op" id="6587283">,</span>&nbsp;<span class="string" id="6587285">&#39;c&#39;</span><span class="op" id="6587288">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587291"><a href="/text/scanner/scanner_test.go.html#6584789">checkScanPos</a></span><span class="op" id="6587303">(</span><span class="ident" id="6587304"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6587305">,</span>&nbsp;<span class="ident" id="6587307"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587308">,</span>&nbsp;<span class="num" id="6587310">3</span><span class="op" id="6587311">,</span>&nbsp;<span class="num" id="6587313">1</span><span class="op" id="6587314">,</span>&nbsp;<span class="num" id="6587316">4</span><span class="op" id="6587317">,</span>&nbsp;<span class="string" id="6587319">&#39;\n&#39;</span><span class="op" id="6587323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587326"><a href="/text/scanner/scanner_test.go.html#6584789">checkScanPos</a></span><span class="op" id="6587338">(</span><span class="ident" id="6587339"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6587340">,</span>&nbsp;<span class="ident" id="6587342"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587343">,</span>&nbsp;<span class="num" id="6587345">4</span><span class="op" id="6587346">,</span>&nbsp;<span class="num" id="6587348">2</span><span class="op" id="6587349">,</span>&nbsp;<span class="num" id="6587351">1</span><span class="op" id="6587352">,</span>&nbsp;<span class="string" id="6587354">&#39;本&#39;</span><span class="op" id="6587359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587362"><a href="/text/scanner/scanner_test.go.html#6584789">checkScanPos</a></span><span class="op" id="6587374">(</span><span class="ident" id="6587375"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6587376">,</span>&nbsp;<span class="ident" id="6587378"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587379">,</span>&nbsp;<span class="num" id="6587381">7</span><span class="op" id="6587382">,</span>&nbsp;<span class="num" id="6587384">2</span><span class="op" id="6587385">,</span>&nbsp;<span class="num" id="6587387">2</span><span class="op" id="6587388">,</span>&nbsp;<span class="string" id="6587390">&#39;語&#39;</span><span class="op" id="6587395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587398"><a href="/text/scanner/scanner_test.go.html#6584789">checkScanPos</a></span><span class="op" id="6587410">(</span><span class="ident" id="6587411"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6587412">,</span>&nbsp;<span class="ident" id="6587414"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587415">,</span>&nbsp;<span class="num" id="6587417">10</span><span class="op" id="6587419">,</span>&nbsp;<span class="num" id="6587421">2</span><span class="op" id="6587422">,</span>&nbsp;<span class="num" id="6587424">3</span><span class="op" id="6587425">,</span>&nbsp;<span class="string" id="6587427">&#39;\n&#39;</span><span class="op" id="6587431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587434"><a href="/text/scanner/scanner_test.go.html#6584789">checkScanPos</a></span><span class="op" id="6587446">(</span><span class="ident" id="6587447"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6587448">,</span>&nbsp;<span class="ident" id="6587450"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587451">,</span>&nbsp;<span class="num" id="6587453">11</span><span class="op" id="6587455">,</span>&nbsp;<span class="num" id="6587457">3</span><span class="op" id="6587458">,</span>&nbsp;<span class="num" id="6587460">1</span><span class="op" id="6587461">,</span>&nbsp;<span class="string" id="6587463">&#39;\n&#39;</span><span class="op" id="6587467">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587470"><a href="/text/scanner/scanner_test.go.html#6584789">checkScanPos</a></span><span class="op" id="6587482">(</span><span class="ident" id="6587483"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6587484">,</span>&nbsp;<span class="ident" id="6587486"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587487">,</span>&nbsp;<span class="num" id="6587489">12</span><span class="op" id="6587491">,</span>&nbsp;<span class="num" id="6587493">4</span><span class="op" id="6587494">,</span>&nbsp;<span class="num" id="6587496">1</span><span class="op" id="6587497">,</span>&nbsp;<span class="string" id="6587499">&#39;x&#39;</span><span class="op" id="6587502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6587505">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6587543">for</span>&nbsp;<span class="ident" id="6587547">i</span>&nbsp;<span class="op" id="6587549">:=</span>&nbsp;<span class="num" id="6587552">10</span><span class="op" id="6587554">;</span>&nbsp;<span class="ident" id="6587556"><a href="/text/scanner/scanner_test.go.html#6587547">i</a></span>&nbsp;<span class="op" id="6587558">&gt;</span>&nbsp;<span class="num" id="6587560">0</span><span class="op" id="6587561">;</span>&nbsp;<span class="ident" id="6587563"><a href="/text/scanner/scanner_test.go.html#6587547">i</a></span><span class="op" id="6587564">--</span>&nbsp;<span class="op" id="6587567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587571"><a href="/text/scanner/scanner_test.go.html#6584789">checkScanPos</a></span><span class="op" id="6587583">(</span><span class="ident" id="6587584"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6587585">,</span>&nbsp;<span class="ident" id="6587587"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587588">,</span>&nbsp;<span class="num" id="6587590">13</span><span class="op" id="6587592">,</span>&nbsp;<span class="num" id="6587594">4</span><span class="op" id="6587595">,</span>&nbsp;<span class="num" id="6587597">2</span><span class="op" id="6587598">,</span>&nbsp;<span class="ident" id="6587600"><a href="/text/scanner/scanner.go.html#6170845">EOF</a></span><span class="op" id="6587603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6587606">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6587609">if</span>&nbsp;<span class="ident" id="6587612"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587613">.</span><span class="ident" id="6587614">ErrorCount</span>&nbsp;<span class="op" id="6587625">!=</span>&nbsp;<span class="num" id="6587628">0</span>&nbsp;<span class="op" id="6587630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6587634"><a href="/text/scanner/scanner_test.go.html#6585206">t</a></span><span class="op" id="6587635">.</span><span class="ident" id="6587636">Errorf</span><span class="op" id="6587642">(</span><span class="string" id="6587643">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6587654">,</span>&nbsp;<span class="ident" id="6587656"><a href="/text/scanner/scanner_test.go.html#6585253">s</a></span><span class="op" id="6587657">.</span><span class="ident" id="6587658">ErrorCount</span><span class="op" id="6587668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6587671">}</span><br>
<span class="lineno"></span><span class="op" id="6587673">}</span>
</div>
</body>
</html>
