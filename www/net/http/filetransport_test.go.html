<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7040995">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7041050">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7041104">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7041155">package</span>&nbsp;<span class="ident" id="7041163">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7041169">import</span>&nbsp;<span class="op" id="7041176">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7041179">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7041192">&#34;os&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7041198">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7041215">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7041225">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7041228">func</span>&nbsp;<span class="ident" id="7041233">checker</span><span class="op" id="7041240">(</span><span class="ident" id="7041241">t</span>&nbsp;<span class="op" id="7041243">*</span><span class="ident" id="7041244"><a href="/net/http/filetransport_test.go.html#7041215">testing</a></span><span class="op" id="7041251">.</span><span class="ident" id="7041252">T</span><span class="op" id="7041253">)</span>&nbsp;<span class="keyword" id="7041255">func</span><span class="op" id="7041259">(</span><span class="builtintype" id="7041260">string</span><span class="op" id="7041266">,</span>&nbsp;<span class="builtintype" id="7041268">error</span><span class="op" id="7041273">)</span>&nbsp;<span class="op" id="7041275">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7041278">return</span>&nbsp;<span class="keyword" id="7041285">func</span><span class="op" id="7041289">(</span><span class="ident" id="7041290">call</span>&nbsp;<span class="builtintype" id="7041295">string</span><span class="op" id="7041301">,</span>&nbsp;<span class="ident" id="7041303">err</span>&nbsp;<span class="builtintype" id="7041307">error</span><span class="op" id="7041312">)</span>&nbsp;<span class="op" id="7041314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7041318">if</span>&nbsp;<span class="ident" id="7041321"><a href="/net/http/filetransport_test.go.html#7041303">err</a></span>&nbsp;<span class="op" id="7041325">==</span>&nbsp;<span class="ident" id="7041328">nil</span>&nbsp;<span class="op" id="7041332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7041337">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7041346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7041350"><a href="/net/http/filetransport_test.go.html#7041241">t</a></span><span class="op" id="7041351">.</span><span class="ident" id="7041352">Fatalf</span><span class="op" id="7041358">(</span><span class="string" id="7041359">&#34;%s:&nbsp;%v&#34;</span><span class="op" id="7041367">,</span>&nbsp;<span class="ident" id="7041369"><a href="/net/http/filetransport_test.go.html#7041290">call</a></span><span class="op" id="7041373">,</span>&nbsp;<span class="ident" id="7041375"><a href="/net/http/filetransport_test.go.html#7041303">err</a></span><span class="op" id="7041378">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7041381">}</span><br>
<span class="lineno"></span><span class="op" id="7041383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7041386">func</span>&nbsp;<span class="ident" id="7041391">TestFileTransport</span><span class="op" id="7041408">(</span><span class="ident" id="7041409">t</span>&nbsp;<span class="op" id="7041411">*</span><span class="ident" id="7041412"><a href="/net/http/filetransport_test.go.html#7041215">testing</a></span><span class="op" id="7041419">.</span><span class="ident" id="7041420">T</span><span class="op" id="7041421">)</span>&nbsp;<span class="op" id="7041423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7041426">check</span>&nbsp;<span class="op" id="7041432">:=</span>&nbsp;<span class="ident" id="7041435"><a href="/net/http/filetransport_test.go.html#7041233">checker</a></span><span class="op" id="7041442">(</span><span class="ident" id="7041443"><a href="/net/http/filetransport_test.go.html#7041409">t</a></span><span class="op" id="7041444">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7041448">dname</span><span class="op" id="7041453">,</span>&nbsp;<span class="ident" id="7041455">err</span>&nbsp;<span class="op" id="7041459">:=</span>&nbsp;<span class="ident" id="7041462"><a href="/net/http/filetransport_test.go.html#7041179">ioutil</a></span><span class="op" id="7041468">.</span><span class="ident" id="7041469">TempDir</span><span class="op" id="7041476">(</span><span class="string" id="7041477">&#34;&#34;</span><span class="op" id="7041479">,</span>&nbsp;<span class="string" id="7041481">&#34;&#34;</span><span class="op" id="7041483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7041486"><a href="/net/http/filetransport_test.go.html#7041426">check</a></span><span class="op" id="7041491">(</span><span class="string" id="7041492">&#34;TempDir&#34;</span><span class="op" id="7041501">,</span>&nbsp;<span class="ident" id="7041503"><a href="/net/http/filetransport_test.go.html#7041455">err</a></span><span class="op" id="7041506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7041509">fname</span>&nbsp;<span class="op" id="7041515">:=</span>&nbsp;<span class="ident" id="7041518"><a href="/net/http/filetransport_test.go.html#7041198">filepath</a></span><span class="op" id="7041526">.</span><span class="ident" id="7041527">Join</span><span class="op" id="7041531">(</span><span class="ident" id="7041532"><a href="/net/http/filetransport_test.go.html#7041448">dname</a></span><span class="op" id="7041537">,</span>&nbsp;<span class="string" id="7041539">&#34;foo.txt&#34;</span><span class="op" id="7041548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7041551"><a href="/net/http/filetransport_test.go.html#7041455">err</a></span>&nbsp;<span class="op" id="7041555">=</span>&nbsp;<span class="ident" id="7041557"><a href="/net/http/filetransport_test.go.html#7041179">ioutil</a></span><span class="op" id="7041563">.</span><span class="ident" id="7041564">WriteFile</span><span class="op" id="7041573">(</span><span class="ident" id="7041574"><a href="/net/http/filetransport_test.go.html#7041509">fname</a></span><span class="op" id="7041579">,</span>&nbsp;<span class="op" id="7041581">[</span><span class="op" id="7041582">]</span><span class="builtintype" id="7041583">byte</span><span class="op" id="7041587">(</span><span class="string" id="7041588">&#34;Bar&#34;</span><span class="op" id="7041593">)</span><span class="op" id="7041594">,</span>&nbsp;<span class="num" id="7041596">0644</span><span class="op" id="7041600">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7041603"><a href="/net/http/filetransport_test.go.html#7041426">check</a></span><span class="op" id="7041608">(</span><span class="string" id="7041609">&#34;WriteFile&#34;</span><span class="op" id="7041620">,</span>&nbsp;<span class="ident" id="7041622"><a href="/net/http/filetransport_test.go.html#7041455">err</a></span><span class="op" id="7041625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7041628">defer</span>&nbsp;<span class="ident" id="7041634"><a href="/net/http/filetransport_test.go.html#7041192">os</a></span><span class="op" id="7041636">.</span><span class="ident" id="7041637">Remove</span><span class="op" id="7041643">(</span><span class="ident" id="7041644"><a href="/net/http/filetransport_test.go.html#7041448">dname</a></span><span class="op" id="7041649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7041652">defer</span>&nbsp;<span class="ident" id="7041658"><a href="/net/http/filetransport_test.go.html#7041192">os</a></span><span class="op" id="7041660">.</span><span class="ident" id="7041661">Remove</span><span class="op" id="7041667">(</span><span class="ident" id="7041668"><a href="/net/http/filetransport_test.go.html#7041509">fname</a></span><span class="op" id="7041673">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7041677">tr</span>&nbsp;<span class="op" id="7041680">:=</span>&nbsp;<span class="op" id="7041683">&amp;</span><span class="ident" id="7041684"><a href="/net/http/transport.go.html#3491333">Transport</a></span><span class="op" id="7041693">{</span><span class="op" id="7041694">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7041697"><a href="/net/http/filetransport_test.go.html#7041677">tr</a></span><span class="op" id="7041699">.</span><span class="ident" id="7041700">RegisterProtocol</span><span class="op" id="7041716">(</span><span class="string" id="7041717">&#34;file&#34;</span><span class="op" id="7041723">,</span>&nbsp;<span class="ident" id="7041725"><a href="/net/http/filetransport.go.html#3338006">NewFileTransport</a></span><span class="op" id="7041741">(</span><span class="ident" id="7041742"><a href="/net/http/fs.go.html#3340873">Dir</a></span><span class="op" id="7041745">(</span><span class="ident" id="7041746"><a href="/net/http/filetransport_test.go.html#7041448">dname</a></span><span class="op" id="7041751">)</span><span class="op" id="7041752">)</span><span class="op" id="7041753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7041756">c</span>&nbsp;<span class="op" id="7041758">:=</span>&nbsp;<span class="op" id="7041761">&amp;</span><span class="ident" id="7041762"><a href="/net/http/client.go.html#3311314">Client</a></span><span class="op" id="7041768">{</span><span class="ident" id="7041769">Transport</span><span class="op" id="7041778">:</span>&nbsp;<span class="ident" id="7041780"><a href="/net/http/filetransport_test.go.html#7041677">tr</a></span><span class="op" id="7041782">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7041786">fooURLs</span>&nbsp;<span class="op" id="7041794">:=</span>&nbsp;<span class="op" id="7041797">[</span><span class="op" id="7041798">]</span><span class="builtintype" id="7041799">string</span><span class="op" id="7041805">{</span><span class="string" id="7041806">&#34;file:///foo.txt&#34;</span><span class="op" id="7041823">,</span>&nbsp;<span class="string" id="7041825">&#34;file://../foo.txt&#34;</span><span class="op" id="7041844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7041847">for</span>&nbsp;<span class="ident" id="7041851">_</span><span class="op" id="7041852">,</span>&nbsp;<span class="ident" id="7041854">urlstr</span>&nbsp;<span class="op" id="7041861">:=</span>&nbsp;<span class="keyword" id="7041864">range</span>&nbsp;<span class="ident" id="7041870"><a href="/net/http/filetransport_test.go.html#7041786">fooURLs</a></span>&nbsp;<span class="op" id="7041878">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7041882">res</span><span class="op" id="7041885">,</span>&nbsp;<span class="ident" id="7041887">err</span>&nbsp;<span class="op" id="7041891">:=</span>&nbsp;<span class="ident" id="7041894"><a href="/net/http/filetransport_test.go.html#7041756">c</a></span><span class="op" id="7041895">.</span><span class="ident" id="7041896">Get</span><span class="op" id="7041899">(</span><span class="ident" id="7041900"><a href="/net/http/filetransport_test.go.html#7041854">urlstr</a></span><span class="op" id="7041906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7041910"><a href="/net/http/filetransport_test.go.html#7041426">check</a></span><span class="op" id="7041915">(</span><span class="string" id="7041916">&#34;Get&nbsp;&#34;</span><span class="op" id="7041922">+</span><span class="ident" id="7041923"><a href="/net/http/filetransport_test.go.html#7041854">urlstr</a></span><span class="op" id="7041929">,</span>&nbsp;<span class="ident" id="7041931"><a href="/net/http/filetransport_test.go.html#7041887">err</a></span><span class="op" id="7041934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7041938">if</span>&nbsp;<span class="ident" id="7041941"><a href="/net/http/filetransport_test.go.html#7041882">res</a></span><span class="op" id="7041944">.</span><span class="ident" id="7041945">StatusCode</span>&nbsp;<span class="op" id="7041956">!=</span>&nbsp;<span class="num" id="7041959">200</span>&nbsp;<span class="op" id="7041963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7041968"><a href="/net/http/filetransport_test.go.html#7041409">t</a></span><span class="op" id="7041969">.</span><span class="ident" id="7041970">Errorf</span><span class="op" id="7041976">(</span><span class="string" id="7041977">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;200&#34;</span><span class="op" id="7042012">,</span>&nbsp;<span class="ident" id="7042014"><a href="/net/http/filetransport_test.go.html#7041854">urlstr</a></span><span class="op" id="7042020">,</span>&nbsp;<span class="ident" id="7042022"><a href="/net/http/filetransport_test.go.html#7041882">res</a></span><span class="op" id="7042025">.</span><span class="ident" id="7042026">StatusCode</span><span class="op" id="7042036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042040">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7042044">if</span>&nbsp;<span class="ident" id="7042047"><a href="/net/http/filetransport_test.go.html#7041882">res</a></span><span class="op" id="7042050">.</span><span class="ident" id="7042051">ContentLength</span>&nbsp;<span class="op" id="7042065">!=</span>&nbsp;<span class="op" id="7042068">-</span><span class="num" id="7042069">1</span>&nbsp;<span class="op" id="7042071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7042076"><a href="/net/http/filetransport_test.go.html#7041409">t</a></span><span class="op" id="7042077">.</span><span class="ident" id="7042078">Errorf</span><span class="op" id="7042084">(</span><span class="string" id="7042085">&#34;for&nbsp;%s,&nbsp;ContentLength&nbsp;=&nbsp;%d,&nbsp;want&nbsp;-1&#34;</span><span class="op" id="7042122">,</span>&nbsp;<span class="ident" id="7042124"><a href="/net/http/filetransport_test.go.html#7041854">urlstr</a></span><span class="op" id="7042130">,</span>&nbsp;<span class="ident" id="7042132"><a href="/net/http/filetransport_test.go.html#7041882">res</a></span><span class="op" id="7042135">.</span><span class="ident" id="7042136">ContentLength</span><span class="op" id="7042149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7042157">if</span>&nbsp;<span class="ident" id="7042160"><a href="/net/http/filetransport_test.go.html#7041882">res</a></span><span class="op" id="7042163">.</span><span class="ident" id="7042164">Body</span>&nbsp;<span class="op" id="7042169">==</span>&nbsp;<span class="ident" id="7042172">nil</span>&nbsp;<span class="op" id="7042176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7042181"><a href="/net/http/filetransport_test.go.html#7041409">t</a></span><span class="op" id="7042182">.</span><span class="ident" id="7042183">Fatalf</span><span class="op" id="7042189">(</span><span class="string" id="7042190">&#34;for&nbsp;%s,&nbsp;nil&nbsp;Body&#34;</span><span class="op" id="7042208">,</span>&nbsp;<span class="ident" id="7042210"><a href="/net/http/filetransport_test.go.html#7041854">urlstr</a></span><span class="op" id="7042216">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7042224">slurp</span><span class="op" id="7042229">,</span>&nbsp;<span class="ident" id="7042231"><a href="/net/http/filetransport_test.go.html#7041887">err</a></span>&nbsp;<span class="op" id="7042235">:=</span>&nbsp;<span class="ident" id="7042238"><a href="/net/http/filetransport_test.go.html#7041179">ioutil</a></span><span class="op" id="7042244">.</span><span class="ident" id="7042245">ReadAll</span><span class="op" id="7042252">(</span><span class="ident" id="7042253"><a href="/net/http/filetransport_test.go.html#7041882">res</a></span><span class="op" id="7042256">.</span><span class="ident" id="7042257">Body</span><span class="op" id="7042261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7042265"><a href="/net/http/filetransport_test.go.html#7041426">check</a></span><span class="op" id="7042270">(</span><span class="string" id="7042271">&#34;ReadAll&nbsp;&#34;</span><span class="op" id="7042281">+</span><span class="ident" id="7042282"><a href="/net/http/filetransport_test.go.html#7041854">urlstr</a></span><span class="op" id="7042288">,</span>&nbsp;<span class="ident" id="7042290"><a href="/net/http/filetransport_test.go.html#7041887">err</a></span><span class="op" id="7042293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7042297">if</span>&nbsp;<span class="builtintype" id="7042300">string</span><span class="op" id="7042306">(</span><span class="ident" id="7042307"><a href="/net/http/filetransport_test.go.html#7042224">slurp</a></span><span class="op" id="7042312">)</span>&nbsp;<span class="op" id="7042314">!=</span>&nbsp;<span class="string" id="7042317">&#34;Bar&#34;</span>&nbsp;<span class="op" id="7042323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7042328"><a href="/net/http/filetransport_test.go.html#7041409">t</a></span><span class="op" id="7042329">.</span><span class="ident" id="7042330">Errorf</span><span class="op" id="7042336">(</span><span class="string" id="7042337">&#34;for&nbsp;%s,&nbsp;got&nbsp;content&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7042370">,</span>&nbsp;<span class="ident" id="7042372"><a href="/net/http/filetransport_test.go.html#7041854">urlstr</a></span><span class="op" id="7042378">,</span>&nbsp;<span class="builtintype" id="7042380">string</span><span class="op" id="7042386">(</span><span class="ident" id="7042387"><a href="/net/http/filetransport_test.go.html#7042224">slurp</a></span><span class="op" id="7042392">)</span><span class="op" id="7042393">,</span>&nbsp;<span class="string" id="7042395">&#34;Bar&#34;</span><span class="op" id="7042400">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7042411">const</span>&nbsp;<span class="ident" id="7042417">badURL</span>&nbsp;<span class="op" id="7042424">=</span>&nbsp;<span class="string" id="7042426">&#34;file://../no-exist.txt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7042452">res</span><span class="op" id="7042455">,</span>&nbsp;<span class="ident" id="7042457"><a href="/net/http/filetransport_test.go.html#7041455">err</a></span>&nbsp;<span class="op" id="7042461">:=</span>&nbsp;<span class="ident" id="7042464"><a href="/net/http/filetransport_test.go.html#7041756">c</a></span><span class="op" id="7042465">.</span><span class="ident" id="7042466">Get</span><span class="op" id="7042469">(</span><span class="ident" id="7042470"><a href="/net/http/filetransport_test.go.html#7042417">badURL</a></span><span class="op" id="7042476">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7042479"><a href="/net/http/filetransport_test.go.html#7041426">check</a></span><span class="op" id="7042484">(</span><span class="string" id="7042485">&#34;Get&nbsp;&#34;</span><span class="op" id="7042491">+</span><span class="ident" id="7042492"><a href="/net/http/filetransport_test.go.html#7042417">badURL</a></span><span class="op" id="7042498">,</span>&nbsp;<span class="ident" id="7042500"><a href="/net/http/filetransport_test.go.html#7041455">err</a></span><span class="op" id="7042503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7042506">if</span>&nbsp;<span class="ident" id="7042509"><a href="/net/http/filetransport_test.go.html#7042452">res</a></span><span class="op" id="7042512">.</span><span class="ident" id="7042513">StatusCode</span>&nbsp;<span class="op" id="7042524">!=</span>&nbsp;<span class="num" id="7042527">404</span>&nbsp;<span class="op" id="7042531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7042535"><a href="/net/http/filetransport_test.go.html#7041409">t</a></span><span class="op" id="7042536">.</span><span class="ident" id="7042537">Errorf</span><span class="op" id="7042543">(</span><span class="string" id="7042544">&#34;for&nbsp;%s,&nbsp;StatusCode&nbsp;=&nbsp;%d,&nbsp;want&nbsp;404&#34;</span><span class="op" id="7042579">,</span>&nbsp;<span class="ident" id="7042581"><a href="/net/http/filetransport_test.go.html#7042417">badURL</a></span><span class="op" id="7042587">,</span>&nbsp;<span class="ident" id="7042589"><a href="/net/http/filetransport_test.go.html#7042452">res</a></span><span class="op" id="7042592">.</span><span class="ident" id="7042593">StatusCode</span><span class="op" id="7042603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7042606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7042609"><a href="/net/http/filetransport_test.go.html#7042452">res</a></span><span class="op" id="7042612">.</span><span class="ident" id="7042613">Body</span><span class="op" id="7042617">.</span><span class="ident" id="7042618">Close</span><span class="op" id="7042623">(</span><span class="op" id="7042624">)</span><br>
<span class="lineno">65</span><span class="op" id="7042626">}</span>
</div>
</body>
</html>
