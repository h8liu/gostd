<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/jpeg</h2>
<ul>
<li><a href="/gostd/image/jpeg/dct_test.go.html">dct_test.go</a></li>
<li><a href="/gostd/image/jpeg/fdct.go.html">fdct.go</a></li>
<li><a href="/gostd/image/jpeg/huffman.go.html">huffman.go</a></li>
<li><a href="/gostd/image/jpeg/idct.go.html">idct.go</a></li>
<li><a href="/gostd/image/jpeg/reader.go.html">reader.go</a></li>
<li><a href="/gostd/image/jpeg/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/image/jpeg/scan.go.html">scan.go</a></li>
<li><a href="/gostd/image/jpeg/writer.go.html">writer.go</a></li>
<li><a href="/gostd/image/jpeg/writer_test.go.html" class="current">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6991339">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6991394">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6991448">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6991499">package</span>&nbsp;<span class="ident" id="6991507">jpeg</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6991513">import</span>&nbsp;<span class="op" id="6991520">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6991523">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6991532">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6991539">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6991548">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6991563">&#34;image/png&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6991576">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6991589">&#34;math/rand&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6991602">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6991608">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6991618">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6991621">//&nbsp;zigzag&nbsp;maps&nbsp;from&nbsp;the&nbsp;natural&nbsp;ordering&nbsp;to&nbsp;the&nbsp;zig-zag&nbsp;ordering.&nbsp;For&nbsp;example,</span><br>
<span class="lineno">20</span><span class="comment" id="6991700">//&nbsp;zigzag[0*8&nbsp;+&nbsp;3]&nbsp;is&nbsp;the&nbsp;zig-zag&nbsp;sequence&nbsp;number&nbsp;of&nbsp;the&nbsp;element&nbsp;in&nbsp;the&nbsp;fourth</span><br>
<span class="lineno"></span><span class="comment" id="6991779">//&nbsp;column&nbsp;and&nbsp;first&nbsp;row.</span><br>
<span class="lineno"></span><span class="keyword" id="6991804">var</span>&nbsp;<span class="ident" id="6991808">zigzag</span>&nbsp;<span class="op" id="6991815">=</span>&nbsp;<span class="op" id="6991817">[</span><span class="ident" id="6991818"><a href="/gostd/image/jpeg/idct.go.html#5096665">blockSize</a></span><span class="op" id="6991827">]</span><span class="builtintype" id="6991828">int</span><span class="op" id="6991831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6991834">0</span><span class="op" id="6991835">,</span>&nbsp;<span class="num" id="6991837">1</span><span class="op" id="6991838">,</span>&nbsp;<span class="num" id="6991840">5</span><span class="op" id="6991841">,</span>&nbsp;<span class="num" id="6991843">6</span><span class="op" id="6991844">,</span>&nbsp;<span class="num" id="6991846">14</span><span class="op" id="6991848">,</span>&nbsp;<span class="num" id="6991850">15</span><span class="op" id="6991852">,</span>&nbsp;<span class="num" id="6991854">27</span><span class="op" id="6991856">,</span>&nbsp;<span class="num" id="6991858">28</span><span class="op" id="6991860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6991863">2</span><span class="op" id="6991864">,</span>&nbsp;<span class="num" id="6991866">4</span><span class="op" id="6991867">,</span>&nbsp;<span class="num" id="6991869">7</span><span class="op" id="6991870">,</span>&nbsp;<span class="num" id="6991872">13</span><span class="op" id="6991874">,</span>&nbsp;<span class="num" id="6991876">16</span><span class="op" id="6991878">,</span>&nbsp;<span class="num" id="6991880">26</span><span class="op" id="6991882">,</span>&nbsp;<span class="num" id="6991884">29</span><span class="op" id="6991886">,</span>&nbsp;<span class="num" id="6991888">42</span><span class="op" id="6991890">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6991893">3</span><span class="op" id="6991894">,</span>&nbsp;<span class="num" id="6991896">8</span><span class="op" id="6991897">,</span>&nbsp;<span class="num" id="6991899">12</span><span class="op" id="6991901">,</span>&nbsp;<span class="num" id="6991903">17</span><span class="op" id="6991905">,</span>&nbsp;<span class="num" id="6991907">25</span><span class="op" id="6991909">,</span>&nbsp;<span class="num" id="6991911">30</span><span class="op" id="6991913">,</span>&nbsp;<span class="num" id="6991915">41</span><span class="op" id="6991917">,</span>&nbsp;<span class="num" id="6991919">43</span><span class="op" id="6991921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6991924">9</span><span class="op" id="6991925">,</span>&nbsp;<span class="num" id="6991927">11</span><span class="op" id="6991929">,</span>&nbsp;<span class="num" id="6991931">18</span><span class="op" id="6991933">,</span>&nbsp;<span class="num" id="6991935">24</span><span class="op" id="6991937">,</span>&nbsp;<span class="num" id="6991939">31</span><span class="op" id="6991941">,</span>&nbsp;<span class="num" id="6991943">40</span><span class="op" id="6991945">,</span>&nbsp;<span class="num" id="6991947">44</span><span class="op" id="6991949">,</span>&nbsp;<span class="num" id="6991951">53</span><span class="op" id="6991953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6991956">10</span><span class="op" id="6991958">,</span>&nbsp;<span class="num" id="6991960">19</span><span class="op" id="6991962">,</span>&nbsp;<span class="num" id="6991964">23</span><span class="op" id="6991966">,</span>&nbsp;<span class="num" id="6991968">32</span><span class="op" id="6991970">,</span>&nbsp;<span class="num" id="6991972">39</span><span class="op" id="6991974">,</span>&nbsp;<span class="num" id="6991976">45</span><span class="op" id="6991978">,</span>&nbsp;<span class="num" id="6991980">52</span><span class="op" id="6991982">,</span>&nbsp;<span class="num" id="6991984">54</span><span class="op" id="6991986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6991989">20</span><span class="op" id="6991991">,</span>&nbsp;<span class="num" id="6991993">22</span><span class="op" id="6991995">,</span>&nbsp;<span class="num" id="6991997">33</span><span class="op" id="6991999">,</span>&nbsp;<span class="num" id="6992001">38</span><span class="op" id="6992003">,</span>&nbsp;<span class="num" id="6992005">46</span><span class="op" id="6992007">,</span>&nbsp;<span class="num" id="6992009">51</span><span class="op" id="6992011">,</span>&nbsp;<span class="num" id="6992013">55</span><span class="op" id="6992015">,</span>&nbsp;<span class="num" id="6992017">60</span><span class="op" id="6992019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6992022">21</span><span class="op" id="6992024">,</span>&nbsp;<span class="num" id="6992026">34</span><span class="op" id="6992028">,</span>&nbsp;<span class="num" id="6992030">37</span><span class="op" id="6992032">,</span>&nbsp;<span class="num" id="6992034">47</span><span class="op" id="6992036">,</span>&nbsp;<span class="num" id="6992038">50</span><span class="op" id="6992040">,</span>&nbsp;<span class="num" id="6992042">56</span><span class="op" id="6992044">,</span>&nbsp;<span class="num" id="6992046">59</span><span class="op" id="6992048">,</span>&nbsp;<span class="num" id="6992050">61</span><span class="op" id="6992052">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6992055">35</span><span class="op" id="6992057">,</span>&nbsp;<span class="num" id="6992059">36</span><span class="op" id="6992061">,</span>&nbsp;<span class="num" id="6992063">48</span><span class="op" id="6992065">,</span>&nbsp;<span class="num" id="6992067">49</span><span class="op" id="6992069">,</span>&nbsp;<span class="num" id="6992071">57</span><span class="op" id="6992073">,</span>&nbsp;<span class="num" id="6992075">58</span><span class="op" id="6992077">,</span>&nbsp;<span class="num" id="6992079">62</span><span class="op" id="6992081">,</span>&nbsp;<span class="num" id="6992083">63</span><span class="op" id="6992085">,</span><br>
<span class="lineno"></span><span class="op" id="6992087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6992090">func</span>&nbsp;<span class="ident" id="6992095">TestZigUnzig</span><span class="op" id="6992107">(</span><span class="ident" id="6992108">t</span>&nbsp;<span class="op" id="6992110">*</span><span class="ident" id="6992111"><a href="/gostd/image/jpeg/writer_test.go.html#6991608">testing</a></span><span class="op" id="6992118">.</span><span class="ident" id="6992119"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6992120">)</span>&nbsp;<span class="op" id="6992122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6992125">for</span>&nbsp;<span class="ident" id="6992129">i</span>&nbsp;<span class="op" id="6992131">:=</span>&nbsp;<span class="num" id="6992134">0</span><span class="op" id="6992135">;</span>&nbsp;<span class="ident" id="6992137"><a href="/gostd/image/jpeg/writer_test.go.html#6992129">i</a></span>&nbsp;<span class="op" id="6992139">&lt;</span>&nbsp;<span class="ident" id="6992141"><a href="/gostd/image/jpeg/idct.go.html#5096665">blockSize</a></span><span class="op" id="6992150">;</span>&nbsp;<span class="ident" id="6992152"><a href="/gostd/image/jpeg/writer_test.go.html#6992129">i</a></span><span class="op" id="6992153">++</span>&nbsp;<span class="op" id="6992156">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6992160">if</span>&nbsp;<span class="ident" id="6992163"><a href="/gostd/image/jpeg/reader.go.html#5102573">unzig</a></span><span class="op" id="6992168">[</span><span class="ident" id="6992169"><a href="/gostd/image/jpeg/writer_test.go.html#6991808">zigzag</a></span><span class="op" id="6992175">[</span><span class="ident" id="6992176"><a href="/gostd/image/jpeg/writer_test.go.html#6992129">i</a></span><span class="op" id="6992177">]</span><span class="op" id="6992178">]</span>&nbsp;<span class="op" id="6992180">!=</span>&nbsp;<span class="ident" id="6992183"><a href="/gostd/image/jpeg/writer_test.go.html#6992129">i</a></span>&nbsp;<span class="op" id="6992185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6992190"><a href="/gostd/image/jpeg/writer_test.go.html#6992108">t</a></span><span class="op" id="6992191">.</span><span class="ident" id="6992192"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6992198">(</span><span class="string" id="6992199">&#34;unzig[zigzag[%d]]&nbsp;==&nbsp;%d&#34;</span><span class="op" id="6992224">,</span>&nbsp;<span class="ident" id="6992226"><a href="/gostd/image/jpeg/writer_test.go.html#6992129">i</a></span><span class="op" id="6992227">,</span>&nbsp;<span class="ident" id="6992229"><a href="/gostd/image/jpeg/reader.go.html#5102573">unzig</a></span><span class="op" id="6992234">[</span><span class="ident" id="6992235"><a href="/gostd/image/jpeg/writer_test.go.html#6991808">zigzag</a></span><span class="op" id="6992241">[</span><span class="ident" id="6992242"><a href="/gostd/image/jpeg/writer_test.go.html#6992129">i</a></span><span class="op" id="6992243">]</span><span class="op" id="6992244">]</span><span class="op" id="6992245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6992249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6992253">if</span>&nbsp;<span class="ident" id="6992256"><a href="/gostd/image/jpeg/writer_test.go.html#6991808">zigzag</a></span><span class="op" id="6992262">[</span><span class="ident" id="6992263"><a href="/gostd/image/jpeg/reader.go.html#5102573">unzig</a></span><span class="op" id="6992268">[</span><span class="ident" id="6992269"><a href="/gostd/image/jpeg/writer_test.go.html#6992129">i</a></span><span class="op" id="6992270">]</span><span class="op" id="6992271">]</span>&nbsp;<span class="op" id="6992273">!=</span>&nbsp;<span class="ident" id="6992276"><a href="/gostd/image/jpeg/writer_test.go.html#6992129">i</a></span>&nbsp;<span class="op" id="6992278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6992283"><a href="/gostd/image/jpeg/writer_test.go.html#6992108">t</a></span><span class="op" id="6992284">.</span><span class="ident" id="6992285"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6992291">(</span><span class="string" id="6992292">&#34;zigzag[unzig[%d]]&nbsp;==&nbsp;%d&#34;</span><span class="op" id="6992317">,</span>&nbsp;<span class="ident" id="6992319"><a href="/gostd/image/jpeg/writer_test.go.html#6992129">i</a></span><span class="op" id="6992320">,</span>&nbsp;<span class="ident" id="6992322"><a href="/gostd/image/jpeg/writer_test.go.html#6991808">zigzag</a></span><span class="op" id="6992328">[</span><span class="ident" id="6992329"><a href="/gostd/image/jpeg/reader.go.html#5102573">unzig</a></span><span class="op" id="6992334">[</span><span class="ident" id="6992335"><a href="/gostd/image/jpeg/writer_test.go.html#6992129">i</a></span><span class="op" id="6992336">]</span><span class="op" id="6992337">]</span><span class="op" id="6992338">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6992342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6992345">}</span><br>
<span class="lineno"></span><span class="op" id="6992347">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6992350">//&nbsp;unscaledQuantInNaturalOrder&nbsp;are&nbsp;the&nbsp;unscaled&nbsp;quantization&nbsp;tables&nbsp;in</span><br>
<span class="lineno">45</span><span class="comment" id="6992421">//&nbsp;natural&nbsp;(not&nbsp;zig-zag)&nbsp;order,&nbsp;as&nbsp;specified&nbsp;in&nbsp;section&nbsp;K.1.</span><br>
<span class="lineno"></span><span class="keyword" id="6992482">var</span>&nbsp;<span class="ident" id="6992486">unscaledQuantInNaturalOrder</span>&nbsp;<span class="op" id="6992514">=</span>&nbsp;<span class="op" id="6992516">[</span><span class="ident" id="6992517"><a href="/gostd/image/jpeg/writer.go.html#5129870">nQuantIndex</a></span><span class="op" id="6992528">]</span><span class="op" id="6992529">[</span><span class="ident" id="6992530"><a href="/gostd/image/jpeg/idct.go.html#5096665">blockSize</a></span><span class="op" id="6992539">]</span><span class="builtintype" id="6992540">byte</span><span class="op" id="6992544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6992547">//&nbsp;Luminance.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6992562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6992566">16</span><span class="op" id="6992568">,</span>&nbsp;<span class="num" id="6992570">11</span><span class="op" id="6992572">,</span>&nbsp;<span class="num" id="6992574">10</span><span class="op" id="6992576">,</span>&nbsp;<span class="num" id="6992578">16</span><span class="op" id="6992580">,</span>&nbsp;<span class="num" id="6992582">24</span><span class="op" id="6992584">,</span>&nbsp;<span class="num" id="6992586">40</span><span class="op" id="6992588">,</span>&nbsp;<span class="num" id="6992590">51</span><span class="op" id="6992592">,</span>&nbsp;<span class="num" id="6992594">61</span><span class="op" id="6992596">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6992600">12</span><span class="op" id="6992602">,</span>&nbsp;<span class="num" id="6992604">12</span><span class="op" id="6992606">,</span>&nbsp;<span class="num" id="6992608">14</span><span class="op" id="6992610">,</span>&nbsp;<span class="num" id="6992612">19</span><span class="op" id="6992614">,</span>&nbsp;<span class="num" id="6992616">26</span><span class="op" id="6992618">,</span>&nbsp;<span class="num" id="6992620">58</span><span class="op" id="6992622">,</span>&nbsp;<span class="num" id="6992624">60</span><span class="op" id="6992626">,</span>&nbsp;<span class="num" id="6992628">55</span><span class="op" id="6992630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6992634">14</span><span class="op" id="6992636">,</span>&nbsp;<span class="num" id="6992638">13</span><span class="op" id="6992640">,</span>&nbsp;<span class="num" id="6992642">16</span><span class="op" id="6992644">,</span>&nbsp;<span class="num" id="6992646">24</span><span class="op" id="6992648">,</span>&nbsp;<span class="num" id="6992650">40</span><span class="op" id="6992652">,</span>&nbsp;<span class="num" id="6992654">57</span><span class="op" id="6992656">,</span>&nbsp;<span class="num" id="6992658">69</span><span class="op" id="6992660">,</span>&nbsp;<span class="num" id="6992662">56</span><span class="op" id="6992664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6992668">14</span><span class="op" id="6992670">,</span>&nbsp;<span class="num" id="6992672">17</span><span class="op" id="6992674">,</span>&nbsp;<span class="num" id="6992676">22</span><span class="op" id="6992678">,</span>&nbsp;<span class="num" id="6992680">29</span><span class="op" id="6992682">,</span>&nbsp;<span class="num" id="6992684">51</span><span class="op" id="6992686">,</span>&nbsp;<span class="num" id="6992688">87</span><span class="op" id="6992690">,</span>&nbsp;<span class="num" id="6992692">80</span><span class="op" id="6992694">,</span>&nbsp;<span class="num" id="6992696">62</span><span class="op" id="6992698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6992702">18</span><span class="op" id="6992704">,</span>&nbsp;<span class="num" id="6992706">22</span><span class="op" id="6992708">,</span>&nbsp;<span class="num" id="6992710">37</span><span class="op" id="6992712">,</span>&nbsp;<span class="num" id="6992714">56</span><span class="op" id="6992716">,</span>&nbsp;<span class="num" id="6992718">68</span><span class="op" id="6992720">,</span>&nbsp;<span class="num" id="6992722">109</span><span class="op" id="6992725">,</span>&nbsp;<span class="num" id="6992727">103</span><span class="op" id="6992730">,</span>&nbsp;<span class="num" id="6992732">77</span><span class="op" id="6992734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6992738">24</span><span class="op" id="6992740">,</span>&nbsp;<span class="num" id="6992742">35</span><span class="op" id="6992744">,</span>&nbsp;<span class="num" id="6992746">55</span><span class="op" id="6992748">,</span>&nbsp;<span class="num" id="6992750">64</span><span class="op" id="6992752">,</span>&nbsp;<span class="num" id="6992754">81</span><span class="op" id="6992756">,</span>&nbsp;<span class="num" id="6992758">104</span><span class="op" id="6992761">,</span>&nbsp;<span class="num" id="6992763">113</span><span class="op" id="6992766">,</span>&nbsp;<span class="num" id="6992768">92</span><span class="op" id="6992770">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6992774">49</span><span class="op" id="6992776">,</span>&nbsp;<span class="num" id="6992778">64</span><span class="op" id="6992780">,</span>&nbsp;<span class="num" id="6992782">78</span><span class="op" id="6992784">,</span>&nbsp;<span class="num" id="6992786">87</span><span class="op" id="6992788">,</span>&nbsp;<span class="num" id="6992790">103</span><span class="op" id="6992793">,</span>&nbsp;<span class="num" id="6992795">121</span><span class="op" id="6992798">,</span>&nbsp;<span class="num" id="6992800">120</span><span class="op" id="6992803">,</span>&nbsp;<span class="num" id="6992805">101</span><span class="op" id="6992808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6992812">72</span><span class="op" id="6992814">,</span>&nbsp;<span class="num" id="6992816">92</span><span class="op" id="6992818">,</span>&nbsp;<span class="num" id="6992820">95</span><span class="op" id="6992822">,</span>&nbsp;<span class="num" id="6992824">98</span><span class="op" id="6992826">,</span>&nbsp;<span class="num" id="6992828">112</span><span class="op" id="6992831">,</span>&nbsp;<span class="num" id="6992833">100</span><span class="op" id="6992836">,</span>&nbsp;<span class="num" id="6992838">103</span><span class="op" id="6992841">,</span>&nbsp;<span class="num" id="6992843">99</span><span class="op" id="6992845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6992848">}</span><span class="op" id="6992849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6992852">//&nbsp;Chrominance.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6992869">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6992873">17</span><span class="op" id="6992875">,</span>&nbsp;<span class="num" id="6992877">18</span><span class="op" id="6992879">,</span>&nbsp;<span class="num" id="6992881">24</span><span class="op" id="6992883">,</span>&nbsp;<span class="num" id="6992885">47</span><span class="op" id="6992887">,</span>&nbsp;<span class="num" id="6992889">99</span><span class="op" id="6992891">,</span>&nbsp;<span class="num" id="6992893">99</span><span class="op" id="6992895">,</span>&nbsp;<span class="num" id="6992897">99</span><span class="op" id="6992899">,</span>&nbsp;<span class="num" id="6992901">99</span><span class="op" id="6992903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6992907">18</span><span class="op" id="6992909">,</span>&nbsp;<span class="num" id="6992911">21</span><span class="op" id="6992913">,</span>&nbsp;<span class="num" id="6992915">26</span><span class="op" id="6992917">,</span>&nbsp;<span class="num" id="6992919">66</span><span class="op" id="6992921">,</span>&nbsp;<span class="num" id="6992923">99</span><span class="op" id="6992925">,</span>&nbsp;<span class="num" id="6992927">99</span><span class="op" id="6992929">,</span>&nbsp;<span class="num" id="6992931">99</span><span class="op" id="6992933">,</span>&nbsp;<span class="num" id="6992935">99</span><span class="op" id="6992937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6992941">24</span><span class="op" id="6992943">,</span>&nbsp;<span class="num" id="6992945">26</span><span class="op" id="6992947">,</span>&nbsp;<span class="num" id="6992949">56</span><span class="op" id="6992951">,</span>&nbsp;<span class="num" id="6992953">99</span><span class="op" id="6992955">,</span>&nbsp;<span class="num" id="6992957">99</span><span class="op" id="6992959">,</span>&nbsp;<span class="num" id="6992961">99</span><span class="op" id="6992963">,</span>&nbsp;<span class="num" id="6992965">99</span><span class="op" id="6992967">,</span>&nbsp;<span class="num" id="6992969">99</span><span class="op" id="6992971">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6992975">47</span><span class="op" id="6992977">,</span>&nbsp;<span class="num" id="6992979">66</span><span class="op" id="6992981">,</span>&nbsp;<span class="num" id="6992983">99</span><span class="op" id="6992985">,</span>&nbsp;<span class="num" id="6992987">99</span><span class="op" id="6992989">,</span>&nbsp;<span class="num" id="6992991">99</span><span class="op" id="6992993">,</span>&nbsp;<span class="num" id="6992995">99</span><span class="op" id="6992997">,</span>&nbsp;<span class="num" id="6992999">99</span><span class="op" id="6993001">,</span>&nbsp;<span class="num" id="6993003">99</span><span class="op" id="6993005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6993009">99</span><span class="op" id="6993011">,</span>&nbsp;<span class="num" id="6993013">99</span><span class="op" id="6993015">,</span>&nbsp;<span class="num" id="6993017">99</span><span class="op" id="6993019">,</span>&nbsp;<span class="num" id="6993021">99</span><span class="op" id="6993023">,</span>&nbsp;<span class="num" id="6993025">99</span><span class="op" id="6993027">,</span>&nbsp;<span class="num" id="6993029">99</span><span class="op" id="6993031">,</span>&nbsp;<span class="num" id="6993033">99</span><span class="op" id="6993035">,</span>&nbsp;<span class="num" id="6993037">99</span><span class="op" id="6993039">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6993043">99</span><span class="op" id="6993045">,</span>&nbsp;<span class="num" id="6993047">99</span><span class="op" id="6993049">,</span>&nbsp;<span class="num" id="6993051">99</span><span class="op" id="6993053">,</span>&nbsp;<span class="num" id="6993055">99</span><span class="op" id="6993057">,</span>&nbsp;<span class="num" id="6993059">99</span><span class="op" id="6993061">,</span>&nbsp;<span class="num" id="6993063">99</span><span class="op" id="6993065">,</span>&nbsp;<span class="num" id="6993067">99</span><span class="op" id="6993069">,</span>&nbsp;<span class="num" id="6993071">99</span><span class="op" id="6993073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6993077">99</span><span class="op" id="6993079">,</span>&nbsp;<span class="num" id="6993081">99</span><span class="op" id="6993083">,</span>&nbsp;<span class="num" id="6993085">99</span><span class="op" id="6993087">,</span>&nbsp;<span class="num" id="6993089">99</span><span class="op" id="6993091">,</span>&nbsp;<span class="num" id="6993093">99</span><span class="op" id="6993095">,</span>&nbsp;<span class="num" id="6993097">99</span><span class="op" id="6993099">,</span>&nbsp;<span class="num" id="6993101">99</span><span class="op" id="6993103">,</span>&nbsp;<span class="num" id="6993105">99</span><span class="op" id="6993107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6993111">99</span><span class="op" id="6993113">,</span>&nbsp;<span class="num" id="6993115">99</span><span class="op" id="6993117">,</span>&nbsp;<span class="num" id="6993119">99</span><span class="op" id="6993121">,</span>&nbsp;<span class="num" id="6993123">99</span><span class="op" id="6993125">,</span>&nbsp;<span class="num" id="6993127">99</span><span class="op" id="6993129">,</span>&nbsp;<span class="num" id="6993131">99</span><span class="op" id="6993133">,</span>&nbsp;<span class="num" id="6993135">99</span><span class="op" id="6993137">,</span>&nbsp;<span class="num" id="6993139">99</span><span class="op" id="6993141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6993144">}</span><span class="op" id="6993145">,</span><br>
<span class="lineno"></span><span class="op" id="6993147">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="6993150">func</span>&nbsp;<span class="ident" id="6993155">TestUnscaledQuant</span><span class="op" id="6993172">(</span><span class="ident" id="6993173">t</span>&nbsp;<span class="op" id="6993175">*</span><span class="ident" id="6993176"><a href="/gostd/image/jpeg/writer_test.go.html#6991608">testing</a></span><span class="op" id="6993183">.</span><span class="ident" id="6993184"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6993185">)</span>&nbsp;<span class="op" id="6993187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6993190">bad</span>&nbsp;<span class="op" id="6993194">:=</span>&nbsp;<span class="builtintype" id="6993197">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6993204">for</span>&nbsp;<span class="ident" id="6993208">i</span>&nbsp;<span class="op" id="6993210">:=</span>&nbsp;<span class="ident" id="6993213"><a href="/gostd/image/jpeg/writer.go.html#5129783">quantIndex</a></span><span class="op" id="6993223">(</span><span class="num" id="6993224">0</span><span class="op" id="6993225">)</span><span class="op" id="6993226">;</span>&nbsp;<span class="ident" id="6993228"><a href="/gostd/image/jpeg/writer_test.go.html#6993208">i</a></span>&nbsp;<span class="op" id="6993230">&lt;</span>&nbsp;<span class="ident" id="6993232"><a href="/gostd/image/jpeg/writer.go.html#5129870">nQuantIndex</a></span><span class="op" id="6993243">;</span>&nbsp;<span class="ident" id="6993245"><a href="/gostd/image/jpeg/writer_test.go.html#6993208">i</a></span><span class="op" id="6993246">++</span>&nbsp;<span class="op" id="6993249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6993253">for</span>&nbsp;<span class="ident" id="6993257">zig</span>&nbsp;<span class="op" id="6993261">:=</span>&nbsp;<span class="num" id="6993264">0</span><span class="op" id="6993265">;</span>&nbsp;<span class="ident" id="6993267"><a href="/gostd/image/jpeg/writer_test.go.html#6993257">zig</a></span>&nbsp;<span class="op" id="6993271">&lt;</span>&nbsp;<span class="ident" id="6993273"><a href="/gostd/image/jpeg/idct.go.html#5096665">blockSize</a></span><span class="op" id="6993282">;</span>&nbsp;<span class="ident" id="6993284"><a href="/gostd/image/jpeg/writer_test.go.html#6993257">zig</a></span><span class="op" id="6993287">++</span>&nbsp;<span class="op" id="6993290">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6993295">got</span>&nbsp;<span class="op" id="6993299">:=</span>&nbsp;<span class="ident" id="6993302"><a href="/gostd/image/jpeg/writer.go.html#5130136">unscaledQuant</a></span><span class="op" id="6993315">[</span><span class="ident" id="6993316"><a href="/gostd/image/jpeg/writer_test.go.html#6993208">i</a></span><span class="op" id="6993317">]</span><span class="op" id="6993318">[</span><span class="ident" id="6993319"><a href="/gostd/image/jpeg/writer_test.go.html#6993257">zig</a></span><span class="op" id="6993322">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6993327">want</span>&nbsp;<span class="op" id="6993332">:=</span>&nbsp;<span class="ident" id="6993335"><a href="/gostd/image/jpeg/writer_test.go.html#6992486">unscaledQuantInNaturalOrder</a></span><span class="op" id="6993362">[</span><span class="ident" id="6993363"><a href="/gostd/image/jpeg/writer_test.go.html#6993208">i</a></span><span class="op" id="6993364">]</span><span class="op" id="6993365">[</span><span class="ident" id="6993366"><a href="/gostd/image/jpeg/reader.go.html#5102573">unzig</a></span><span class="op" id="6993371">[</span><span class="ident" id="6993372"><a href="/gostd/image/jpeg/writer_test.go.html#6993257">zig</a></span><span class="op" id="6993375">]</span><span class="op" id="6993376">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6993381">if</span>&nbsp;<span class="ident" id="6993384"><a href="/gostd/image/jpeg/writer_test.go.html#6993295">got</a></span>&nbsp;<span class="op" id="6993388">!=</span>&nbsp;<span class="ident" id="6993391"><a href="/gostd/image/jpeg/writer_test.go.html#6993327">want</a></span>&nbsp;<span class="op" id="6993396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6993402"><a href="/gostd/image/jpeg/writer_test.go.html#6993173">t</a></span><span class="op" id="6993403">.</span><span class="ident" id="6993404"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6993410">(</span><span class="string" id="6993411">&#34;i=%d,&nbsp;zig=%d:&nbsp;got&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6993442">,</span>&nbsp;<span class="ident" id="6993444"><a href="/gostd/image/jpeg/writer_test.go.html#6993208">i</a></span><span class="op" id="6993445">,</span>&nbsp;<span class="ident" id="6993447"><a href="/gostd/image/jpeg/writer_test.go.html#6993257">zig</a></span><span class="op" id="6993450">,</span>&nbsp;<span class="ident" id="6993452"><a href="/gostd/image/jpeg/writer_test.go.html#6993295">got</a></span><span class="op" id="6993455">,</span>&nbsp;<span class="ident" id="6993457"><a href="/gostd/image/jpeg/writer_test.go.html#6993327">want</a></span><span class="op" id="6993461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6993467"><a href="/gostd/image/jpeg/writer_test.go.html#6993190">bad</a></span>&nbsp;<span class="op" id="6993471">=</span>&nbsp;<span class="builtintype" id="6993473">true</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6993481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6993485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6993488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6993491">if</span>&nbsp;<span class="ident" id="6993494"><a href="/gostd/image/jpeg/writer_test.go.html#6993190">bad</a></span>&nbsp;<span class="op" id="6993498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6993502">names</span>&nbsp;<span class="op" id="6993508">:=</span>&nbsp;<span class="op" id="6993511">[</span><span class="ident" id="6993512"><a href="/gostd/image/jpeg/writer.go.html#5129870">nQuantIndex</a></span><span class="op" id="6993523">]</span><span class="builtintype" id="6993524">string</span><span class="op" id="6993530">{</span><span class="string" id="6993531">&#34;Luminance&#34;</span><span class="op" id="6993542">,</span>&nbsp;<span class="string" id="6993544">&#34;Chrominance&#34;</span><span class="op" id="6993557">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6993561">buf</span>&nbsp;<span class="op" id="6993565">:=</span>&nbsp;<span class="op" id="6993568">&amp;</span><span class="ident" id="6993569"><a href="/gostd/image/jpeg/writer_test.go.html#6991523">bytes</a></span><span class="op" id="6993574">.</span><span class="ident" id="6993575"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="6993581">{</span><span class="op" id="6993582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6993586">for</span>&nbsp;<span class="ident" id="6993590">i</span><span class="op" id="6993591">,</span>&nbsp;<span class="ident" id="6993593">name</span>&nbsp;<span class="op" id="6993598">:=</span>&nbsp;<span class="keyword" id="6993601">range</span>&nbsp;<span class="ident" id="6993607"><a href="/gostd/image/jpeg/writer_test.go.html#6993502">names</a></span>&nbsp;<span class="op" id="6993613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6993618"><a href="/gostd/image/jpeg/writer_test.go.html#6991532">fmt</a></span><span class="op" id="6993621">.</span><span class="ident" id="6993622"><a href="/gostd/fmt/print.go.html#2143118">Fprintf</a></span><span class="op" id="6993629">(</span><span class="ident" id="6993630"><a href="/gostd/image/jpeg/writer_test.go.html#6993561">buf</a></span><span class="op" id="6993633">,</span>&nbsp;<span class="string" id="6993635">&#34;//&nbsp;%s.\n{\n&#34;</span><span class="op" id="6993648">,</span>&nbsp;<span class="ident" id="6993650"><a href="/gostd/image/jpeg/writer_test.go.html#6993593">name</a></span><span class="op" id="6993654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6993659">for</span>&nbsp;<span class="ident" id="6993663">zig</span>&nbsp;<span class="op" id="6993667">:=</span>&nbsp;<span class="num" id="6993670">0</span><span class="op" id="6993671">;</span>&nbsp;<span class="ident" id="6993673"><a href="/gostd/image/jpeg/writer_test.go.html#6993663">zig</a></span>&nbsp;<span class="op" id="6993677">&lt;</span>&nbsp;<span class="ident" id="6993679"><a href="/gostd/image/jpeg/idct.go.html#5096665">blockSize</a></span><span class="op" id="6993688">;</span>&nbsp;<span class="ident" id="6993690"><a href="/gostd/image/jpeg/writer_test.go.html#6993663">zig</a></span><span class="op" id="6993693">++</span>&nbsp;<span class="op" id="6993696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6993702"><a href="/gostd/image/jpeg/writer_test.go.html#6991532">fmt</a></span><span class="op" id="6993705">.</span><span class="ident" id="6993706"><a href="/gostd/fmt/print.go.html#2143118">Fprintf</a></span><span class="op" id="6993713">(</span><span class="ident" id="6993714"><a href="/gostd/image/jpeg/writer_test.go.html#6993561">buf</a></span><span class="op" id="6993717">,</span>&nbsp;<span class="string" id="6993719">&#34;%d,&nbsp;&#34;</span><span class="op" id="6993725">,</span>&nbsp;<span class="ident" id="6993727"><a href="/gostd/image/jpeg/writer_test.go.html#6992486">unscaledQuantInNaturalOrder</a></span><span class="op" id="6993754">[</span><span class="ident" id="6993755"><a href="/gostd/image/jpeg/writer_test.go.html#6993590">i</a></span><span class="op" id="6993756">]</span><span class="op" id="6993757">[</span><span class="ident" id="6993758"><a href="/gostd/image/jpeg/reader.go.html#5102573">unzig</a></span><span class="op" id="6993763">[</span><span class="ident" id="6993764"><a href="/gostd/image/jpeg/writer_test.go.html#6993663">zig</a></span><span class="op" id="6993767">]</span><span class="op" id="6993768">]</span><span class="op" id="6993769">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6993775">if</span>&nbsp;<span class="ident" id="6993778"><a href="/gostd/image/jpeg/writer_test.go.html#6993663">zig</a></span><span class="op" id="6993781">%</span><span class="num" id="6993782">8</span>&nbsp;<span class="op" id="6993784">==</span>&nbsp;<span class="num" id="6993787">7</span>&nbsp;<span class="op" id="6993789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6993796"><a href="/gostd/image/jpeg/writer_test.go.html#6993561">buf</a></span><span class="op" id="6993799">.</span><span class="ident" id="6993800"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="6993811">(</span><span class="string" id="6993812">&#34;\n&#34;</span><span class="op" id="6993816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6993822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6993827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6993832"><a href="/gostd/image/jpeg/writer_test.go.html#6993561">buf</a></span><span class="op" id="6993835">.</span><span class="ident" id="6993836"><a href="/gostd/bytes/buffer.go.html#1387374">WriteString</a></span><span class="op" id="6993847">(</span><span class="string" id="6993848">&#34;},\n&#34;</span><span class="op" id="6993854">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6993858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6993862"><a href="/gostd/image/jpeg/writer_test.go.html#6993173">t</a></span><span class="op" id="6993863">.</span><span class="ident" id="6993864"><a href="/gostd/testing/testing.go.html#5479816">Logf</a></span><span class="op" id="6993868">(</span><span class="string" id="6993869">&#34;expected&nbsp;unscaledQuant&nbsp;values:\n%s&#34;</span><span class="op" id="6993905">,</span>&nbsp;<span class="ident" id="6993907"><a href="/gostd/image/jpeg/writer_test.go.html#6993561">buf</a></span><span class="op" id="6993910">.</span><span class="ident" id="6993911"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="6993917">(</span><span class="op" id="6993918">)</span><span class="op" id="6993919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6993922">}</span><br>
<span class="lineno"></span><span class="op" id="6993924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="6993927">var</span>&nbsp;<span class="ident" id="6993931">testCase</span>&nbsp;<span class="op" id="6993940">=</span>&nbsp;<span class="op" id="6993942">[</span><span class="op" id="6993943">]</span><span class="keyword" id="6993944">struct</span>&nbsp;<span class="op" id="6993951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6993954">filename</span>&nbsp;&nbsp;<span class="builtintype" id="6993964">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6993972">quality</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6993982">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6993987">tolerance</span>&nbsp;<span class="builtintype" id="6993997">int64</span><br>
<span class="lineno"></span><span class="op" id="6994003">}</span><span class="op" id="6994004">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6994007">{</span><span class="string" id="6994008">&#34;../testdata/video-001.png&#34;</span><span class="op" id="6994035">,</span>&nbsp;<span class="num" id="6994037">1</span><span class="op" id="6994038">,</span>&nbsp;<span class="num" id="6994040">24</span>&nbsp;<span class="op" id="6994043">&lt;&lt;</span>&nbsp;<span class="num" id="6994046">8</span><span class="op" id="6994047">}</span><span class="op" id="6994048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6994051">{</span><span class="string" id="6994052">&#34;../testdata/video-001.png&#34;</span><span class="op" id="6994079">,</span>&nbsp;<span class="num" id="6994081">20</span><span class="op" id="6994083">,</span>&nbsp;<span class="num" id="6994085">12</span>&nbsp;<span class="op" id="6994088">&lt;&lt;</span>&nbsp;<span class="num" id="6994091">8</span><span class="op" id="6994092">}</span><span class="op" id="6994093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6994096">{</span><span class="string" id="6994097">&#34;../testdata/video-001.png&#34;</span><span class="op" id="6994124">,</span>&nbsp;<span class="num" id="6994126">60</span><span class="op" id="6994128">,</span>&nbsp;<span class="num" id="6994130">8</span>&nbsp;<span class="op" id="6994132">&lt;&lt;</span>&nbsp;<span class="num" id="6994135">8</span><span class="op" id="6994136">}</span><span class="op" id="6994137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6994140">{</span><span class="string" id="6994141">&#34;../testdata/video-001.png&#34;</span><span class="op" id="6994168">,</span>&nbsp;<span class="num" id="6994170">80</span><span class="op" id="6994172">,</span>&nbsp;<span class="num" id="6994174">6</span>&nbsp;<span class="op" id="6994176">&lt;&lt;</span>&nbsp;<span class="num" id="6994179">8</span><span class="op" id="6994180">}</span><span class="op" id="6994181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6994184">{</span><span class="string" id="6994185">&#34;../testdata/video-001.png&#34;</span><span class="op" id="6994212">,</span>&nbsp;<span class="num" id="6994214">90</span><span class="op" id="6994216">,</span>&nbsp;<span class="num" id="6994218">4</span>&nbsp;<span class="op" id="6994220">&lt;&lt;</span>&nbsp;<span class="num" id="6994223">8</span><span class="op" id="6994224">}</span><span class="op" id="6994225">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6994228">{</span><span class="string" id="6994229">&#34;../testdata/video-001.png&#34;</span><span class="op" id="6994256">,</span>&nbsp;<span class="num" id="6994258">100</span><span class="op" id="6994261">,</span>&nbsp;<span class="num" id="6994263">2</span>&nbsp;<span class="op" id="6994265">&lt;&lt;</span>&nbsp;<span class="num" id="6994268">8</span><span class="op" id="6994269">}</span><span class="op" id="6994270">,</span><br>
<span class="lineno"></span><span class="op" id="6994272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6994275">func</span>&nbsp;<span class="ident" id="6994280">delta</span><span class="op" id="6994285">(</span><span class="ident" id="6994286">u0</span><span class="op" id="6994288">,</span>&nbsp;<span class="ident" id="6994290">u1</span>&nbsp;<span class="builtintype" id="6994293">uint32</span><span class="op" id="6994299">)</span>&nbsp;<span class="builtintype" id="6994301">int64</span>&nbsp;<span class="op" id="6994307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6994310">d</span>&nbsp;<span class="op" id="6994312">:=</span>&nbsp;<span class="builtintype" id="6994315">int64</span><span class="op" id="6994320">(</span><span class="ident" id="6994321"><a href="/gostd/image/jpeg/writer_test.go.html#6994286">u0</a></span><span class="op" id="6994323">)</span>&nbsp;<span class="op" id="6994325">-</span>&nbsp;<span class="builtintype" id="6994327">int64</span><span class="op" id="6994332">(</span><span class="ident" id="6994333"><a href="/gostd/image/jpeg/writer_test.go.html#6994290">u1</a></span><span class="op" id="6994335">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6994338">if</span>&nbsp;<span class="ident" id="6994341"><a href="/gostd/image/jpeg/writer_test.go.html#6994310">d</a></span>&nbsp;<span class="op" id="6994343">&lt;</span>&nbsp;<span class="num" id="6994345">0</span>&nbsp;<span class="op" id="6994347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6994351">return</span>&nbsp;<span class="op" id="6994358">-</span><span class="ident" id="6994359"><a href="/gostd/image/jpeg/writer_test.go.html#6994310">d</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6994362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6994365">return</span>&nbsp;<span class="ident" id="6994372"><a href="/gostd/image/jpeg/writer_test.go.html#6994310">d</a></span><br>
<span class="lineno"></span><span class="op" id="6994374">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="6994377">func</span>&nbsp;<span class="ident" id="6994382">readPng</span><span class="op" id="6994389">(</span><span class="ident" id="6994390">filename</span>&nbsp;<span class="builtintype" id="6994399">string</span><span class="op" id="6994405">)</span>&nbsp;<span class="op" id="6994407">(</span><span class="ident" id="6994408"><a href="/gostd/image/jpeg/writer_test.go.html#6991539">image</a></span><span class="op" id="6994413">.</span><span class="ident" id="6994414"><a href="/gostd/image/image.go.html#5154907">Image</a></span><span class="op" id="6994419">,</span>&nbsp;<span class="builtintype" id="6994421">error</span><span class="op" id="6994426">)</span>&nbsp;<span class="op" id="6994428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6994431">f</span><span class="op" id="6994432">,</span>&nbsp;<span class="ident" id="6994434">err</span>&nbsp;<span class="op" id="6994438">:=</span>&nbsp;<span class="ident" id="6994441"><a href="/gostd/image/jpeg/writer_test.go.html#6991602">os</a></span><span class="op" id="6994443">.</span><span class="ident" id="6994444"><a href="/gostd/os/file.go.html#2446863">Open</a></span><span class="op" id="6994448">(</span><span class="ident" id="6994449"><a href="/gostd/image/jpeg/writer_test.go.html#6994390">filename</a></span><span class="op" id="6994457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6994460">if</span>&nbsp;<span class="ident" id="6994463"><a href="/gostd/image/jpeg/writer_test.go.html#6994434">err</a></span>&nbsp;<span class="op" id="6994467">!=</span>&nbsp;<span class="builtintype" id="6994470">nil</span>&nbsp;<span class="op" id="6994474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6994478">return</span>&nbsp;<span class="builtintype" id="6994485">nil</span><span class="op" id="6994488">,</span>&nbsp;<span class="ident" id="6994490"><a href="/gostd/image/jpeg/writer_test.go.html#6994434">err</a></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6994495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6994498">defer</span>&nbsp;<span class="ident" id="6994504"><a href="/gostd/image/jpeg/writer_test.go.html#6994431">f</a></span><span class="op" id="6994505">.</span><span class="ident" id="6994506"><a href="/gostd/os/file_unix.go.html#2454611">Close</a></span><span class="op" id="6994511">(</span><span class="op" id="6994512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6994515">return</span>&nbsp;<span class="ident" id="6994522"><a href="/gostd/image/jpeg/writer_test.go.html#6991563">png</a></span><span class="op" id="6994525">.</span><span class="ident" id="6994526"><a href="/gostd/image/png/reader.go.html#6167292">Decode</a></span><span class="op" id="6994532">(</span><span class="ident" id="6994533"><a href="/gostd/image/jpeg/writer_test.go.html#6994431">f</a></span><span class="op" id="6994534">)</span><br>
<span class="lineno"></span><span class="op" id="6994536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="keyword" id="6994539">func</span>&nbsp;<span class="ident" id="6994544">TestWriter</span><span class="op" id="6994554">(</span><span class="ident" id="6994555">t</span>&nbsp;<span class="op" id="6994557">*</span><span class="ident" id="6994558"><a href="/gostd/image/jpeg/writer_test.go.html#6991608">testing</a></span><span class="op" id="6994565">.</span><span class="ident" id="6994566"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6994567">)</span>&nbsp;<span class="op" id="6994569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6994572">for</span>&nbsp;<span class="ident" id="6994576">_</span><span class="op" id="6994577">,</span>&nbsp;<span class="ident" id="6994579">tc</span>&nbsp;<span class="op" id="6994582">:=</span>&nbsp;<span class="keyword" id="6994585">range</span>&nbsp;<span class="ident" id="6994591"><a href="/gostd/image/jpeg/writer_test.go.html#6993931">testCase</a></span>&nbsp;<span class="op" id="6994600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6994604">//&nbsp;Read&nbsp;the&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6994625">m0</span><span class="op" id="6994627">,</span>&nbsp;<span class="ident" id="6994629">err</span>&nbsp;<span class="op" id="6994633">:=</span>&nbsp;<span class="ident" id="6994636"><a href="/gostd/image/jpeg/writer_test.go.html#6994382">readPng</a></span><span class="op" id="6994643">(</span><span class="ident" id="6994644"><a href="/gostd/image/jpeg/writer_test.go.html#6994579">tc</a></span><span class="op" id="6994646">.</span><span class="ident" id="6994647"><a href="/gostd/image/jpeg/writer_test.go.html#6993954">filename</a></span><span class="op" id="6994655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6994659">if</span>&nbsp;<span class="ident" id="6994662"><a href="/gostd/image/jpeg/writer_test.go.html#6994629">err</a></span>&nbsp;<span class="op" id="6994666">!=</span>&nbsp;<span class="builtintype" id="6994669">nil</span>&nbsp;<span class="op" id="6994673">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6994678"><a href="/gostd/image/jpeg/writer_test.go.html#6994555">t</a></span><span class="op" id="6994679">.</span><span class="ident" id="6994680"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="6994685">(</span><span class="ident" id="6994686"><a href="/gostd/image/jpeg/writer_test.go.html#6994579">tc</a></span><span class="op" id="6994688">.</span><span class="ident" id="6994689"><a href="/gostd/image/jpeg/writer_test.go.html#6993954">filename</a></span><span class="op" id="6994697">,</span>&nbsp;<span class="ident" id="6994699"><a href="/gostd/image/jpeg/writer_test.go.html#6994629">err</a></span><span class="op" id="6994702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6994707">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6994718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6994722">//&nbsp;Encode&nbsp;that&nbsp;image&nbsp;as&nbsp;JPEG.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6994754">var</span>&nbsp;<span class="ident" id="6994758">buf</span>&nbsp;<span class="ident" id="6994762"><a href="/gostd/image/jpeg/writer_test.go.html#6991523">bytes</a></span><span class="op" id="6994767">.</span><span class="ident" id="6994768"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6994777"><a href="/gostd/image/jpeg/writer_test.go.html#6994629">err</a></span>&nbsp;<span class="op" id="6994781">=</span>&nbsp;<span class="ident" id="6994783"><a href="/gostd/image/jpeg/writer.go.html#5143795">Encode</a></span><span class="op" id="6994789">(</span><span class="op" id="6994790">&amp;</span><span class="ident" id="6994791"><a href="/gostd/image/jpeg/writer_test.go.html#6994758">buf</a></span><span class="op" id="6994794">,</span>&nbsp;<span class="ident" id="6994796"><a href="/gostd/image/jpeg/writer_test.go.html#6994625">m0</a></span><span class="op" id="6994798">,</span>&nbsp;<span class="op" id="6994800">&amp;</span><span class="ident" id="6994801"><a href="/gostd/image/jpeg/writer.go.html#5143609">Options</a></span><span class="op" id="6994808">{</span><span class="ident" id="6994809"><a href="/gostd/image/jpeg/writer.go.html#5143627">Quality</a></span><span class="op" id="6994816">:</span>&nbsp;<span class="ident" id="6994818"><a href="/gostd/image/jpeg/writer_test.go.html#6994579">tc</a></span><span class="op" id="6994820">.</span><span class="ident" id="6994821"><a href="/gostd/image/jpeg/writer_test.go.html#6993972">quality</a></span><span class="op" id="6994828">}</span><span class="op" id="6994829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6994833">if</span>&nbsp;<span class="ident" id="6994836"><a href="/gostd/image/jpeg/writer_test.go.html#6994629">err</a></span>&nbsp;<span class="op" id="6994840">!=</span>&nbsp;<span class="builtintype" id="6994843">nil</span>&nbsp;<span class="op" id="6994847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6994852"><a href="/gostd/image/jpeg/writer_test.go.html#6994555">t</a></span><span class="op" id="6994853">.</span><span class="ident" id="6994854"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="6994859">(</span><span class="ident" id="6994860"><a href="/gostd/image/jpeg/writer_test.go.html#6994579">tc</a></span><span class="op" id="6994862">.</span><span class="ident" id="6994863"><a href="/gostd/image/jpeg/writer_test.go.html#6993954">filename</a></span><span class="op" id="6994871">,</span>&nbsp;<span class="ident" id="6994873"><a href="/gostd/image/jpeg/writer_test.go.html#6994629">err</a></span><span class="op" id="6994876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6994881">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6994892">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6994896">//&nbsp;Decode&nbsp;that&nbsp;JPEG.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6994919">m1</span><span class="op" id="6994921">,</span>&nbsp;<span class="ident" id="6994923"><a href="/gostd/image/jpeg/writer_test.go.html#6994629">err</a></span>&nbsp;<span class="op" id="6994927">:=</span>&nbsp;<span class="ident" id="6994930"><a href="/gostd/image/jpeg/reader.go.html#5114879">Decode</a></span><span class="op" id="6994936">(</span><span class="op" id="6994937">&amp;</span><span class="ident" id="6994938"><a href="/gostd/image/jpeg/writer_test.go.html#6994758">buf</a></span><span class="op" id="6994941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6994945">if</span>&nbsp;<span class="ident" id="6994948"><a href="/gostd/image/jpeg/writer_test.go.html#6994629">err</a></span>&nbsp;<span class="op" id="6994952">!=</span>&nbsp;<span class="builtintype" id="6994955">nil</span>&nbsp;<span class="op" id="6994959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6994964"><a href="/gostd/image/jpeg/writer_test.go.html#6994555">t</a></span><span class="op" id="6994965">.</span><span class="ident" id="6994966"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="6994971">(</span><span class="ident" id="6994972"><a href="/gostd/image/jpeg/writer_test.go.html#6994579">tc</a></span><span class="op" id="6994974">.</span><span class="ident" id="6994975"><a href="/gostd/image/jpeg/writer_test.go.html#6993954">filename</a></span><span class="op" id="6994983">,</span>&nbsp;<span class="ident" id="6994985"><a href="/gostd/image/jpeg/writer_test.go.html#6994629">err</a></span><span class="op" id="6994988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6994993">continue</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6995004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6995008">if</span>&nbsp;<span class="ident" id="6995011"><a href="/gostd/image/jpeg/writer_test.go.html#6994625">m0</a></span><span class="op" id="6995013">.</span><span class="ident" id="6995014"><a href="/gostd/image/image.go.html#5155130">Bounds</a></span><span class="op" id="6995020">(</span><span class="op" id="6995021">)</span>&nbsp;<span class="op" id="6995023">!=</span>&nbsp;<span class="ident" id="6995026"><a href="/gostd/image/jpeg/writer_test.go.html#6994919">m1</a></span><span class="op" id="6995028">.</span><span class="ident" id="6995029"><a href="/gostd/image/image.go.html#5155130">Bounds</a></span><span class="op" id="6995035">(</span><span class="op" id="6995036">)</span>&nbsp;<span class="op" id="6995038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6995043"><a href="/gostd/image/jpeg/writer_test.go.html#6994555">t</a></span><span class="op" id="6995044">.</span><span class="ident" id="6995045"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6995051">(</span><span class="string" id="6995052">&#34;%s,&nbsp;bounds&nbsp;differ:&nbsp;%v&nbsp;and&nbsp;%v&#34;</span><span class="op" id="6995082">,</span>&nbsp;<span class="ident" id="6995084"><a href="/gostd/image/jpeg/writer_test.go.html#6994579">tc</a></span><span class="op" id="6995086">.</span><span class="ident" id="6995087"><a href="/gostd/image/jpeg/writer_test.go.html#6993954">filename</a></span><span class="op" id="6995095">,</span>&nbsp;<span class="ident" id="6995097"><a href="/gostd/image/jpeg/writer_test.go.html#6994625">m0</a></span><span class="op" id="6995099">.</span><span class="ident" id="6995100"><a href="/gostd/image/image.go.html#5155130">Bounds</a></span><span class="op" id="6995106">(</span><span class="op" id="6995107">)</span><span class="op" id="6995108">,</span>&nbsp;<span class="ident" id="6995110"><a href="/gostd/image/jpeg/writer_test.go.html#6994919">m1</a></span><span class="op" id="6995112">.</span><span class="ident" id="6995113"><a href="/gostd/image/image.go.html#5155130">Bounds</a></span><span class="op" id="6995119">(</span><span class="op" id="6995120">)</span><span class="op" id="6995121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6995126">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6995137">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6995141">//&nbsp;Compare&nbsp;the&nbsp;average&nbsp;delta&nbsp;to&nbsp;the&nbsp;tolerance&nbsp;level.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6995196">if</span>&nbsp;<span class="ident" id="6995199"><a href="/gostd/image/jpeg/writer_test.go.html#6996219">averageDelta</a></span><span class="op" id="6995211">(</span><span class="ident" id="6995212"><a href="/gostd/image/jpeg/writer_test.go.html#6994625">m0</a></span><span class="op" id="6995214">,</span>&nbsp;<span class="ident" id="6995216"><a href="/gostd/image/jpeg/writer_test.go.html#6994919">m1</a></span><span class="op" id="6995218">)</span>&nbsp;<span class="op" id="6995220">&gt;</span>&nbsp;<span class="ident" id="6995222"><a href="/gostd/image/jpeg/writer_test.go.html#6994579">tc</a></span><span class="op" id="6995224">.</span><span class="ident" id="6995225"><a href="/gostd/image/jpeg/writer_test.go.html#6993987">tolerance</a></span>&nbsp;<span class="op" id="6995235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6995240"><a href="/gostd/image/jpeg/writer_test.go.html#6994555">t</a></span><span class="op" id="6995241">.</span><span class="ident" id="6995242"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6995248">(</span><span class="string" id="6995249">&#34;%s,&nbsp;quality=%d:&nbsp;average&nbsp;delta&nbsp;is&nbsp;too&nbsp;high&#34;</span><span class="op" id="6995292">,</span>&nbsp;<span class="ident" id="6995294"><a href="/gostd/image/jpeg/writer_test.go.html#6994579">tc</a></span><span class="op" id="6995296">.</span><span class="ident" id="6995297"><a href="/gostd/image/jpeg/writer_test.go.html#6993954">filename</a></span><span class="op" id="6995305">,</span>&nbsp;<span class="ident" id="6995307"><a href="/gostd/image/jpeg/writer_test.go.html#6994579">tc</a></span><span class="op" id="6995309">.</span><span class="ident" id="6995310"><a href="/gostd/image/jpeg/writer_test.go.html#6993972">quality</a></span><span class="op" id="6995317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6995322">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6995333">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6995336">}</span><br>
<span class="lineno"></span><span class="op" id="6995338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6995341">//&nbsp;TestWriteGrayscale&nbsp;tests&nbsp;that&nbsp;a&nbsp;grayscale&nbsp;images&nbsp;survives&nbsp;a&nbsp;round-trip</span><br>
<span class="lineno"></span><span class="comment" id="6995415">//&nbsp;through&nbsp;encode/decode&nbsp;cycle.</span><br>
<span class="lineno">165</span><span class="keyword" id="6995447">func</span>&nbsp;<span class="ident" id="6995452">TestWriteGrayscale</span><span class="op" id="6995470">(</span><span class="ident" id="6995471">t</span>&nbsp;<span class="op" id="6995473">*</span><span class="ident" id="6995474"><a href="/gostd/image/jpeg/writer_test.go.html#6991608">testing</a></span><span class="op" id="6995481">.</span><span class="ident" id="6995482"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6995483">)</span>&nbsp;<span class="op" id="6995485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6995488">m0</span>&nbsp;<span class="op" id="6995491">:=</span>&nbsp;<span class="ident" id="6995494"><a href="/gostd/image/jpeg/writer_test.go.html#6991539">image</a></span><span class="op" id="6995499">.</span><span class="ident" id="6995500"><a href="/gostd/image/image.go.html#5173939">NewGray</a></span><span class="op" id="6995507">(</span><span class="ident" id="6995508"><a href="/gostd/image/jpeg/writer_test.go.html#6991539">image</a></span><span class="op" id="6995513">.</span><span class="ident" id="6995514"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="6995518">(</span><span class="num" id="6995519">0</span><span class="op" id="6995520">,</span>&nbsp;<span class="num" id="6995522">0</span><span class="op" id="6995523">,</span>&nbsp;<span class="num" id="6995525">32</span><span class="op" id="6995527">,</span>&nbsp;<span class="num" id="6995529">32</span><span class="op" id="6995531">)</span><span class="op" id="6995532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6995535">for</span>&nbsp;<span class="ident" id="6995539">i</span>&nbsp;<span class="op" id="6995541">:=</span>&nbsp;<span class="keyword" id="6995544">range</span>&nbsp;<span class="ident" id="6995550"><a href="/gostd/image/jpeg/writer_test.go.html#6995488">m0</a></span><span class="op" id="6995552">.</span><span class="ident" id="6995553"><a href="/gostd/image/image.go.html#5172175">Pix</a></span>&nbsp;<span class="op" id="6995557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6995561"><a href="/gostd/image/jpeg/writer_test.go.html#6995488">m0</a></span><span class="op" id="6995563">.</span><span class="ident" id="6995564"><a href="/gostd/image/image.go.html#5172175">Pix</a></span><span class="op" id="6995567">[</span><span class="ident" id="6995568"><a href="/gostd/image/jpeg/writer_test.go.html#6995539">i</a></span><span class="op" id="6995569">]</span>&nbsp;<span class="op" id="6995571">=</span>&nbsp;<span class="builtintype" id="6995573">uint8</span><span class="op" id="6995578">(</span><span class="ident" id="6995579"><a href="/gostd/image/jpeg/writer_test.go.html#6995539">i</a></span><span class="op" id="6995580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6995583">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6995586">var</span>&nbsp;<span class="ident" id="6995590">buf</span>&nbsp;<span class="ident" id="6995594"><a href="/gostd/image/jpeg/writer_test.go.html#6991523">bytes</a></span><span class="op" id="6995599">.</span><span class="ident" id="6995600"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6995608">if</span>&nbsp;<span class="ident" id="6995611">err</span>&nbsp;<span class="op" id="6995615">:=</span>&nbsp;<span class="ident" id="6995618"><a href="/gostd/image/jpeg/writer.go.html#5143795">Encode</a></span><span class="op" id="6995624">(</span><span class="op" id="6995625">&amp;</span><span class="ident" id="6995626"><a href="/gostd/image/jpeg/writer_test.go.html#6995590">buf</a></span><span class="op" id="6995629">,</span>&nbsp;<span class="ident" id="6995631"><a href="/gostd/image/jpeg/writer_test.go.html#6995488">m0</a></span><span class="op" id="6995633">,</span>&nbsp;<span class="builtintype" id="6995635">nil</span><span class="op" id="6995638">)</span><span class="op" id="6995639">;</span>&nbsp;<span class="ident" id="6995641"><a href="/gostd/image/jpeg/writer_test.go.html#6995611">err</a></span>&nbsp;<span class="op" id="6995645">!=</span>&nbsp;<span class="builtintype" id="6995648">nil</span>&nbsp;<span class="op" id="6995652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6995656"><a href="/gostd/image/jpeg/writer_test.go.html#6995471">t</a></span><span class="op" id="6995657">.</span><span class="ident" id="6995658"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6995663">(</span><span class="ident" id="6995664"><a href="/gostd/image/jpeg/writer_test.go.html#6995611">err</a></span><span class="op" id="6995667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6995670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6995673">m1</span><span class="op" id="6995675">,</span>&nbsp;<span class="ident" id="6995677">err</span>&nbsp;<span class="op" id="6995681">:=</span>&nbsp;<span class="ident" id="6995684"><a href="/gostd/image/jpeg/reader.go.html#5114879">Decode</a></span><span class="op" id="6995690">(</span><span class="op" id="6995691">&amp;</span><span class="ident" id="6995692"><a href="/gostd/image/jpeg/writer_test.go.html#6995590">buf</a></span><span class="op" id="6995695">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6995698">if</span>&nbsp;<span class="ident" id="6995701"><a href="/gostd/image/jpeg/writer_test.go.html#6995677">err</a></span>&nbsp;<span class="op" id="6995705">!=</span>&nbsp;<span class="builtintype" id="6995708">nil</span>&nbsp;<span class="op" id="6995712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6995716"><a href="/gostd/image/jpeg/writer_test.go.html#6995471">t</a></span><span class="op" id="6995717">.</span><span class="ident" id="6995718"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6995723">(</span><span class="ident" id="6995724"><a href="/gostd/image/jpeg/writer_test.go.html#6995677">err</a></span><span class="op" id="6995727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6995730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6995733">if</span>&nbsp;<span class="ident" id="6995736"><a href="/gostd/image/jpeg/writer_test.go.html#6995488">m0</a></span><span class="op" id="6995738">.</span><span class="ident" id="6995739"><a href="/gostd/image/image.go.html#5172409">Bounds</a></span><span class="op" id="6995745">(</span><span class="op" id="6995746">)</span>&nbsp;<span class="op" id="6995748">!=</span>&nbsp;<span class="ident" id="6995751"><a href="/gostd/image/jpeg/writer_test.go.html#6995673">m1</a></span><span class="op" id="6995753">.</span><span class="ident" id="6995754"><a href="/gostd/image/image.go.html#5155130">Bounds</a></span><span class="op" id="6995760">(</span><span class="op" id="6995761">)</span>&nbsp;<span class="op" id="6995763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6995767"><a href="/gostd/image/jpeg/writer_test.go.html#6995471">t</a></span><span class="op" id="6995768">.</span><span class="ident" id="6995769"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6995775">(</span><span class="string" id="6995776">&#34;bounds&nbsp;differ:&nbsp;%v&nbsp;and&nbsp;%v&#34;</span><span class="op" id="6995802">,</span>&nbsp;<span class="ident" id="6995804"><a href="/gostd/image/jpeg/writer_test.go.html#6995488">m0</a></span><span class="op" id="6995806">.</span><span class="ident" id="6995807"><a href="/gostd/image/image.go.html#5172409">Bounds</a></span><span class="op" id="6995813">(</span><span class="op" id="6995814">)</span><span class="op" id="6995815">,</span>&nbsp;<span class="ident" id="6995817"><a href="/gostd/image/jpeg/writer_test.go.html#6995673">m1</a></span><span class="op" id="6995819">.</span><span class="ident" id="6995820"><a href="/gostd/image/image.go.html#5155130">Bounds</a></span><span class="op" id="6995826">(</span><span class="op" id="6995827">)</span><span class="op" id="6995828">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6995831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6995834">if</span>&nbsp;<span class="ident" id="6995837">_</span><span class="op" id="6995838">,</span>&nbsp;<span class="ident" id="6995840">ok</span>&nbsp;<span class="op" id="6995843">:=</span>&nbsp;<span class="ident" id="6995846"><a href="/gostd/image/jpeg/writer_test.go.html#6995673">m1</a></span><span class="op" id="6995848">.</span><span class="op" id="6995849">(</span><span class="op" id="6995850">*</span><span class="ident" id="6995851"><a href="/gostd/image/jpeg/writer_test.go.html#6991539">image</a></span><span class="op" id="6995856">.</span><span class="ident" id="6995857"><a href="/gostd/image/image.go.html#5172029">Gray</a></span><span class="op" id="6995861">)</span><span class="op" id="6995862">;</span>&nbsp;<span class="op" id="6995864">!</span><span class="ident" id="6995865"><a href="/gostd/image/jpeg/writer_test.go.html#6995840">ok</a></span>&nbsp;<span class="op" id="6995868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6995872"><a href="/gostd/image/jpeg/writer_test.go.html#6995471">t</a></span><span class="op" id="6995873">.</span><span class="ident" id="6995874"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6995880">(</span><span class="string" id="6995881">&#34;got&nbsp;%T,&nbsp;want&nbsp;*image.Gray&#34;</span><span class="op" id="6995907">,</span>&nbsp;<span class="ident" id="6995909"><a href="/gostd/image/jpeg/writer_test.go.html#6995673">m1</a></span><span class="op" id="6995911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6995914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6995917">//&nbsp;Compare&nbsp;the&nbsp;average&nbsp;delta&nbsp;to&nbsp;the&nbsp;tolerance&nbsp;level.</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6995971">want</span>&nbsp;<span class="op" id="6995976">:=</span>&nbsp;<span class="builtintype" id="6995979">int64</span><span class="op" id="6995984">(</span><span class="num" id="6995985">2</span>&nbsp;<span class="op" id="6995987">&lt;&lt;</span>&nbsp;<span class="num" id="6995990">8</span><span class="op" id="6995991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6995994">if</span>&nbsp;<span class="ident" id="6995997">got</span>&nbsp;<span class="op" id="6996001">:=</span>&nbsp;<span class="ident" id="6996004"><a href="/gostd/image/jpeg/writer_test.go.html#6996219">averageDelta</a></span><span class="op" id="6996016">(</span><span class="ident" id="6996017"><a href="/gostd/image/jpeg/writer_test.go.html#6995488">m0</a></span><span class="op" id="6996019">,</span>&nbsp;<span class="ident" id="6996021"><a href="/gostd/image/jpeg/writer_test.go.html#6995673">m1</a></span><span class="op" id="6996023">)</span><span class="op" id="6996024">;</span>&nbsp;<span class="ident" id="6996026"><a href="/gostd/image/jpeg/writer_test.go.html#6995997">got</a></span>&nbsp;<span class="op" id="6996030">&gt;</span>&nbsp;<span class="ident" id="6996032"><a href="/gostd/image/jpeg/writer_test.go.html#6995971">want</a></span>&nbsp;<span class="op" id="6996037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996041"><a href="/gostd/image/jpeg/writer_test.go.html#6995471">t</a></span><span class="op" id="6996042">.</span><span class="ident" id="6996043"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6996049">(</span><span class="string" id="6996050">&#34;average&nbsp;delta&nbsp;too&nbsp;high;&nbsp;got&nbsp;%d,&nbsp;want&nbsp;&lt;=&nbsp;%d&#34;</span><span class="op" id="6996094">,</span>&nbsp;<span class="ident" id="6996096"><a href="/gostd/image/jpeg/writer_test.go.html#6995997">got</a></span><span class="op" id="6996099">,</span>&nbsp;<span class="ident" id="6996101"><a href="/gostd/image/jpeg/writer_test.go.html#6995971">want</a></span><span class="op" id="6996105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6996108">}</span><br>
<span class="lineno"></span><span class="op" id="6996110">}</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span><span class="comment" id="6996113">//&nbsp;averageDelta&nbsp;returns&nbsp;the&nbsp;average&nbsp;delta&nbsp;in&nbsp;RGB&nbsp;space.&nbsp;The&nbsp;two&nbsp;images&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="6996189">//&nbsp;have&nbsp;the&nbsp;same&nbsp;bounds.</span><br>
<span class="lineno"></span><span class="keyword" id="6996214">func</span>&nbsp;<span class="ident" id="6996219">averageDelta</span><span class="op" id="6996231">(</span><span class="ident" id="6996232">m0</span><span class="op" id="6996234">,</span>&nbsp;<span class="ident" id="6996236">m1</span>&nbsp;<span class="ident" id="6996239"><a href="/gostd/image/jpeg/writer_test.go.html#6991539">image</a></span><span class="op" id="6996244">.</span><span class="ident" id="6996245"><a href="/gostd/image/image.go.html#5154907">Image</a></span><span class="op" id="6996250">)</span>&nbsp;<span class="builtintype" id="6996252">int64</span>&nbsp;<span class="op" id="6996258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996261">b</span>&nbsp;<span class="op" id="6996263">:=</span>&nbsp;<span class="ident" id="6996266"><a href="/gostd/image/jpeg/writer_test.go.html#6996232">m0</a></span><span class="op" id="6996268">.</span><span class="ident" id="6996269"><a href="/gostd/image/image.go.html#5155130">Bounds</a></span><span class="op" id="6996275">(</span><span class="op" id="6996276">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6996279">var</span>&nbsp;<span class="ident" id="6996283">sum</span><span class="op" id="6996286">,</span>&nbsp;<span class="ident" id="6996288">n</span>&nbsp;<span class="builtintype" id="6996290">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6996297">for</span>&nbsp;<span class="ident" id="6996301">y</span>&nbsp;<span class="op" id="6996303">:=</span>&nbsp;<span class="ident" id="6996306"><a href="/gostd/image/jpeg/writer_test.go.html#6996261">b</a></span><span class="op" id="6996307">.</span><span class="ident" id="6996308"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="6996311">.</span><span class="ident" id="6996312"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="6996313">;</span>&nbsp;<span class="ident" id="6996315"><a href="/gostd/image/jpeg/writer_test.go.html#6996301">y</a></span>&nbsp;<span class="op" id="6996317">&lt;</span>&nbsp;<span class="ident" id="6996319"><a href="/gostd/image/jpeg/writer_test.go.html#6996261">b</a></span><span class="op" id="6996320">.</span><span class="ident" id="6996321"><a href="/gostd/image/geom.go.html#5150021">Max</a></span><span class="op" id="6996324">.</span><span class="ident" id="6996325"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="6996326">;</span>&nbsp;<span class="ident" id="6996328"><a href="/gostd/image/jpeg/writer_test.go.html#6996301">y</a></span><span class="op" id="6996329">++</span>&nbsp;<span class="op" id="6996332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6996336">for</span>&nbsp;<span class="ident" id="6996340">x</span>&nbsp;<span class="op" id="6996342">:=</span>&nbsp;<span class="ident" id="6996345"><a href="/gostd/image/jpeg/writer_test.go.html#6996261">b</a></span><span class="op" id="6996346">.</span><span class="ident" id="6996347"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="6996350">.</span><span class="ident" id="6996351"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="6996352">;</span>&nbsp;<span class="ident" id="6996354"><a href="/gostd/image/jpeg/writer_test.go.html#6996340">x</a></span>&nbsp;<span class="op" id="6996356">&lt;</span>&nbsp;<span class="ident" id="6996358"><a href="/gostd/image/jpeg/writer_test.go.html#6996261">b</a></span><span class="op" id="6996359">.</span><span class="ident" id="6996360"><a href="/gostd/image/geom.go.html#5150021">Max</a></span><span class="op" id="6996363">.</span><span class="ident" id="6996364"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="6996365">;</span>&nbsp;<span class="ident" id="6996367"><a href="/gostd/image/jpeg/writer_test.go.html#6996340">x</a></span><span class="op" id="6996368">++</span>&nbsp;<span class="op" id="6996371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996376">c0</span>&nbsp;<span class="op" id="6996379">:=</span>&nbsp;<span class="ident" id="6996382"><a href="/gostd/image/jpeg/writer_test.go.html#6996232">m0</a></span><span class="op" id="6996384">.</span><span class="ident" id="6996385"><a href="/gostd/image/image.go.html#5155352">At</a></span><span class="op" id="6996387">(</span><span class="ident" id="6996388"><a href="/gostd/image/jpeg/writer_test.go.html#6996340">x</a></span><span class="op" id="6996389">,</span>&nbsp;<span class="ident" id="6996391"><a href="/gostd/image/jpeg/writer_test.go.html#6996301">y</a></span><span class="op" id="6996392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996397">c1</span>&nbsp;<span class="op" id="6996400">:=</span>&nbsp;<span class="ident" id="6996403"><a href="/gostd/image/jpeg/writer_test.go.html#6996236">m1</a></span><span class="op" id="6996405">.</span><span class="ident" id="6996406"><a href="/gostd/image/image.go.html#5155352">At</a></span><span class="op" id="6996408">(</span><span class="ident" id="6996409"><a href="/gostd/image/jpeg/writer_test.go.html#6996340">x</a></span><span class="op" id="6996410">,</span>&nbsp;<span class="ident" id="6996412"><a href="/gostd/image/jpeg/writer_test.go.html#6996301">y</a></span><span class="op" id="6996413">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996418">r0</span><span class="op" id="6996420">,</span>&nbsp;<span class="ident" id="6996422">g0</span><span class="op" id="6996424">,</span>&nbsp;<span class="ident" id="6996426">b0</span><span class="op" id="6996428">,</span>&nbsp;<span class="ident" id="6996430">_</span>&nbsp;<span class="op" id="6996432">:=</span>&nbsp;<span class="ident" id="6996435"><a href="/gostd/image/jpeg/writer_test.go.html#6996376">c0</a></span><span class="op" id="6996437">.</span><span class="ident" id="6996438"><a href="/gostd/image/color/color.go.html#5185453">RGBA</a></span><span class="op" id="6996442">(</span><span class="op" id="6996443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996448">r1</span><span class="op" id="6996450">,</span>&nbsp;<span class="ident" id="6996452">g1</span><span class="op" id="6996454">,</span>&nbsp;<span class="ident" id="6996456">b1</span><span class="op" id="6996458">,</span>&nbsp;<span class="ident" id="6996460">_</span>&nbsp;<span class="op" id="6996462">:=</span>&nbsp;<span class="ident" id="6996465"><a href="/gostd/image/jpeg/writer_test.go.html#6996397">c1</a></span><span class="op" id="6996467">.</span><span class="ident" id="6996468"><a href="/gostd/image/color/color.go.html#5185453">RGBA</a></span><span class="op" id="6996472">(</span><span class="op" id="6996473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996478"><a href="/gostd/image/jpeg/writer_test.go.html#6996283">sum</a></span>&nbsp;<span class="op" id="6996482">+=</span>&nbsp;<span class="ident" id="6996485"><a href="/gostd/image/jpeg/writer_test.go.html#6994280">delta</a></span><span class="op" id="6996490">(</span><span class="ident" id="6996491"><a href="/gostd/image/jpeg/writer_test.go.html#6996418">r0</a></span><span class="op" id="6996493">,</span>&nbsp;<span class="ident" id="6996495"><a href="/gostd/image/jpeg/writer_test.go.html#6996448">r1</a></span><span class="op" id="6996497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996502"><a href="/gostd/image/jpeg/writer_test.go.html#6996283">sum</a></span>&nbsp;<span class="op" id="6996506">+=</span>&nbsp;<span class="ident" id="6996509"><a href="/gostd/image/jpeg/writer_test.go.html#6994280">delta</a></span><span class="op" id="6996514">(</span><span class="ident" id="6996515"><a href="/gostd/image/jpeg/writer_test.go.html#6996422">g0</a></span><span class="op" id="6996517">,</span>&nbsp;<span class="ident" id="6996519"><a href="/gostd/image/jpeg/writer_test.go.html#6996452">g1</a></span><span class="op" id="6996521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996526"><a href="/gostd/image/jpeg/writer_test.go.html#6996283">sum</a></span>&nbsp;<span class="op" id="6996530">+=</span>&nbsp;<span class="ident" id="6996533"><a href="/gostd/image/jpeg/writer_test.go.html#6994280">delta</a></span><span class="op" id="6996538">(</span><span class="ident" id="6996539"><a href="/gostd/image/jpeg/writer_test.go.html#6996426">b0</a></span><span class="op" id="6996541">,</span>&nbsp;<span class="ident" id="6996543"><a href="/gostd/image/jpeg/writer_test.go.html#6996456">b1</a></span><span class="op" id="6996545">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996550"><a href="/gostd/image/jpeg/writer_test.go.html#6996288">n</a></span>&nbsp;<span class="op" id="6996552">+=</span>&nbsp;<span class="num" id="6996555">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6996559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6996562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6996565">return</span>&nbsp;<span class="ident" id="6996572"><a href="/gostd/image/jpeg/writer_test.go.html#6996283">sum</a></span>&nbsp;<span class="op" id="6996576">/</span>&nbsp;<span class="ident" id="6996578"><a href="/gostd/image/jpeg/writer_test.go.html#6996288">n</a></span><br>
<span class="lineno"></span><span class="op" id="6996580">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="6996583">func</span>&nbsp;<span class="ident" id="6996588">BenchmarkEncode</span><span class="op" id="6996603">(</span><span class="ident" id="6996604">b</span>&nbsp;<span class="op" id="6996606">*</span><span class="ident" id="6996607"><a href="/gostd/image/jpeg/writer_test.go.html#6991608">testing</a></span><span class="op" id="6996614">.</span><span class="ident" id="6996615"><a href="/gostd/testing/benchmark.go.html#5450963">B</a></span><span class="op" id="6996616">)</span>&nbsp;<span class="op" id="6996618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996621"><a href="/gostd/image/jpeg/writer_test.go.html#6996604">b</a></span><span class="op" id="6996622">.</span><span class="ident" id="6996623"><a href="/gostd/testing/benchmark.go.html#5452096">StopTimer</a></span><span class="op" id="6996632">(</span><span class="op" id="6996633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996636">img</span>&nbsp;<span class="op" id="6996640">:=</span>&nbsp;<span class="ident" id="6996643"><a href="/gostd/image/jpeg/writer_test.go.html#6991539">image</a></span><span class="op" id="6996648">.</span><span class="ident" id="6996649"><a href="/gostd/image/image.go.html#5158226">NewRGBA</a></span><span class="op" id="6996656">(</span><span class="ident" id="6996657"><a href="/gostd/image/jpeg/writer_test.go.html#6991539">image</a></span><span class="op" id="6996662">.</span><span class="ident" id="6996663"><a href="/gostd/image/geom.go.html#5153452">Rect</a></span><span class="op" id="6996667">(</span><span class="num" id="6996668">0</span><span class="op" id="6996669">,</span>&nbsp;<span class="num" id="6996671">0</span><span class="op" id="6996672">,</span>&nbsp;<span class="num" id="6996674">640</span><span class="op" id="6996677">,</span>&nbsp;<span class="num" id="6996679">480</span><span class="op" id="6996682">)</span><span class="op" id="6996683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996686">bo</span>&nbsp;<span class="op" id="6996689">:=</span>&nbsp;<span class="ident" id="6996692"><a href="/gostd/image/jpeg/writer_test.go.html#6996636">img</a></span><span class="op" id="6996695">.</span><span class="ident" id="6996696"><a href="/gostd/image/image.go.html#5156299">Bounds</a></span><span class="op" id="6996702">(</span><span class="op" id="6996703">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996706">rnd</span>&nbsp;<span class="op" id="6996710">:=</span>&nbsp;<span class="ident" id="6996713"><a href="/gostd/image/jpeg/writer_test.go.html#6991589">rand</a></span><span class="op" id="6996717">.</span><span class="ident" id="6996718"><a href="/gostd/math/rand/rand.go.html#2922124">New</a></span><span class="op" id="6996721">(</span><span class="ident" id="6996722"><a href="/gostd/image/jpeg/writer_test.go.html#6991589">rand</a></span><span class="op" id="6996726">.</span><span class="ident" id="6996727"><a href="/gostd/math/rand/rand.go.html#2921867">NewSource</a></span><span class="op" id="6996736">(</span><span class="num" id="6996737">123</span><span class="op" id="6996740">)</span><span class="op" id="6996741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6996744">for</span>&nbsp;<span class="ident" id="6996748">y</span>&nbsp;<span class="op" id="6996750">:=</span>&nbsp;<span class="ident" id="6996753"><a href="/gostd/image/jpeg/writer_test.go.html#6996686">bo</a></span><span class="op" id="6996755">.</span><span class="ident" id="6996756"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="6996759">.</span><span class="ident" id="6996760"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="6996761">;</span>&nbsp;<span class="ident" id="6996763"><a href="/gostd/image/jpeg/writer_test.go.html#6996748">y</a></span>&nbsp;<span class="op" id="6996765">&lt;</span>&nbsp;<span class="ident" id="6996767"><a href="/gostd/image/jpeg/writer_test.go.html#6996686">bo</a></span><span class="op" id="6996769">.</span><span class="ident" id="6996770"><a href="/gostd/image/geom.go.html#5150021">Max</a></span><span class="op" id="6996773">.</span><span class="ident" id="6996774"><a href="/gostd/image/geom.go.html#5148454">Y</a></span><span class="op" id="6996775">;</span>&nbsp;<span class="ident" id="6996777"><a href="/gostd/image/jpeg/writer_test.go.html#6996748">y</a></span><span class="op" id="6996778">++</span>&nbsp;<span class="op" id="6996781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6996785">for</span>&nbsp;<span class="ident" id="6996789">x</span>&nbsp;<span class="op" id="6996791">:=</span>&nbsp;<span class="ident" id="6996794"><a href="/gostd/image/jpeg/writer_test.go.html#6996686">bo</a></span><span class="op" id="6996796">.</span><span class="ident" id="6996797"><a href="/gostd/image/geom.go.html#5150016">Min</a></span><span class="op" id="6996800">.</span><span class="ident" id="6996801"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="6996802">;</span>&nbsp;<span class="ident" id="6996804"><a href="/gostd/image/jpeg/writer_test.go.html#6996789">x</a></span>&nbsp;<span class="op" id="6996806">&lt;</span>&nbsp;<span class="ident" id="6996808"><a href="/gostd/image/jpeg/writer_test.go.html#6996686">bo</a></span><span class="op" id="6996810">.</span><span class="ident" id="6996811"><a href="/gostd/image/geom.go.html#5150021">Max</a></span><span class="op" id="6996814">.</span><span class="ident" id="6996815"><a href="/gostd/image/geom.go.html#5148451">X</a></span><span class="op" id="6996816">;</span>&nbsp;<span class="ident" id="6996818"><a href="/gostd/image/jpeg/writer_test.go.html#6996789">x</a></span><span class="op" id="6996819">++</span>&nbsp;<span class="op" id="6996822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996827"><a href="/gostd/image/jpeg/writer_test.go.html#6996636">img</a></span><span class="op" id="6996830">.</span><span class="ident" id="6996831"><a href="/gostd/image/image.go.html#5157058">SetRGBA</a></span><span class="op" id="6996838">(</span><span class="ident" id="6996839"><a href="/gostd/image/jpeg/writer_test.go.html#6996789">x</a></span><span class="op" id="6996840">,</span>&nbsp;<span class="ident" id="6996842"><a href="/gostd/image/jpeg/writer_test.go.html#6996748">y</a></span><span class="op" id="6996843">,</span>&nbsp;<span class="ident" id="6996845"><a href="/gostd/image/jpeg/writer_test.go.html#6991548">color</a></span><span class="op" id="6996850">.</span><span class="ident" id="6996851"><a href="/gostd/image/color/color.go.html#5185612">RGBA</a></span><span class="op" id="6996855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6996861">uint8</span><span class="op" id="6996866">(</span><span class="ident" id="6996867"><a href="/gostd/image/jpeg/writer_test.go.html#6996706">rnd</a></span><span class="op" id="6996870">.</span><span class="ident" id="6996871"><a href="/gostd/math/rand/rand.go.html#2923767">Intn</a></span><span class="op" id="6996875">(</span><span class="num" id="6996876">256</span><span class="op" id="6996879">)</span><span class="op" id="6996880">)</span><span class="op" id="6996881">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6996887">uint8</span><span class="op" id="6996892">(</span><span class="ident" id="6996893"><a href="/gostd/image/jpeg/writer_test.go.html#6996706">rnd</a></span><span class="op" id="6996896">.</span><span class="ident" id="6996897"><a href="/gostd/math/rand/rand.go.html#2923767">Intn</a></span><span class="op" id="6996901">(</span><span class="num" id="6996902">256</span><span class="op" id="6996905">)</span><span class="op" id="6996906">)</span><span class="op" id="6996907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6996913">uint8</span><span class="op" id="6996918">(</span><span class="ident" id="6996919"><a href="/gostd/image/jpeg/writer_test.go.html#6996706">rnd</a></span><span class="op" id="6996922">.</span><span class="ident" id="6996923"><a href="/gostd/math/rand/rand.go.html#2923767">Intn</a></span><span class="op" id="6996927">(</span><span class="num" id="6996928">256</span><span class="op" id="6996931">)</span><span class="op" id="6996932">)</span><span class="op" id="6996933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6996939">255</span><span class="op" id="6996942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6996947">}</span><span class="op" id="6996948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6996952">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6996955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996958"><a href="/gostd/image/jpeg/writer_test.go.html#6996604">b</a></span><span class="op" id="6996959">.</span><span class="ident" id="6996960"><a href="/gostd/testing/benchmark.go.html#5452834">SetBytes</a></span><span class="op" id="6996968">(</span><span class="num" id="6996969">640</span>&nbsp;<span class="op" id="6996973">*</span>&nbsp;<span class="num" id="6996975">480</span>&nbsp;<span class="op" id="6996979">*</span>&nbsp;<span class="num" id="6996981">4</span><span class="op" id="6996982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6996985"><a href="/gostd/image/jpeg/writer_test.go.html#6996604">b</a></span><span class="op" id="6996986">.</span><span class="ident" id="6996987"><a href="/gostd/testing/benchmark.go.html#5451749">StartTimer</a></span><span class="op" id="6996997">(</span><span class="op" id="6996998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6997001">options</span>&nbsp;<span class="op" id="6997009">:=</span>&nbsp;<span class="op" id="6997012">&amp;</span><span class="ident" id="6997013"><a href="/gostd/image/jpeg/writer.go.html#5143609">Options</a></span><span class="op" id="6997020">{</span><span class="ident" id="6997021"><a href="/gostd/image/jpeg/writer.go.html#5143627">Quality</a></span><span class="op" id="6997028">:</span>&nbsp;<span class="num" id="6997030">90</span><span class="op" id="6997032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6997035">for</span>&nbsp;<span class="ident" id="6997039">i</span>&nbsp;<span class="op" id="6997041">:=</span>&nbsp;<span class="num" id="6997044">0</span><span class="op" id="6997045">;</span>&nbsp;<span class="ident" id="6997047"><a href="/gostd/image/jpeg/writer_test.go.html#6997039">i</a></span>&nbsp;<span class="op" id="6997049">&lt;</span>&nbsp;<span class="ident" id="6997051"><a href="/gostd/image/jpeg/writer_test.go.html#6996604">b</a></span><span class="op" id="6997052">.</span><span class="ident" id="6997053"><a href="/gostd/testing/benchmark.go.html#5450983">N</a></span><span class="op" id="6997054">;</span>&nbsp;<span class="ident" id="6997056"><a href="/gostd/image/jpeg/writer_test.go.html#6997039">i</a></span><span class="op" id="6997057">++</span>&nbsp;<span class="op" id="6997060">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6997064"><a href="/gostd/image/jpeg/writer.go.html#5143795">Encode</a></span><span class="op" id="6997070">(</span><span class="ident" id="6997071"><a href="/gostd/image/jpeg/writer_test.go.html#6991576">ioutil</a></span><span class="op" id="6997077">.</span><span class="ident" id="6997078"><a href="/gostd/io/ioutil/ioutil.go.html#3768458">Discard</a></span><span class="op" id="6997085">,</span>&nbsp;<span class="ident" id="6997087"><a href="/gostd/image/jpeg/writer_test.go.html#6996636">img</a></span><span class="op" id="6997090">,</span>&nbsp;<span class="ident" id="6997092"><a href="/gostd/image/jpeg/writer_test.go.html#6997001">options</a></span><span class="op" id="6997099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6997102">}</span><br>
<span class="lineno"></span><span class="op" id="6997104">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
