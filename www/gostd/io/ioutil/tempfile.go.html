<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3193190">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3193246">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3193300">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3193351">package</span>&nbsp;<span class="ident" id="3193359">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3193367">import</span>&nbsp;<span class="op" id="3193374">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3193377">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3193383">&#34;path/filepath&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3193400">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3193411">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3193419">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="3193426">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3193429">//&nbsp;Random&nbsp;number&nbsp;state.</span><br>
<span class="lineno"></span><span class="comment" id="3193453">//&nbsp;We&nbsp;generate&nbsp;random&nbsp;temporary&nbsp;file&nbsp;names&nbsp;so&nbsp;that&nbsp;there&#39;s&nbsp;a&nbsp;good</span><br>
<span class="lineno"></span><span class="comment" id="3193519">//&nbsp;chance&nbsp;the&nbsp;file&nbsp;doesn&#39;t&nbsp;exist&nbsp;yet&nbsp;-&nbsp;keeps&nbsp;the&nbsp;number&nbsp;of&nbsp;tries&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="3193587">//&nbsp;TempFile&nbsp;to&nbsp;a&nbsp;minimum.</span><br>
<span class="lineno"></span><span class="keyword" id="3193613">var</span>&nbsp;<span class="ident" id="3193617">rand</span>&nbsp;<span class="builtintype" id="3193622">uint32</span><br>
<span class="lineno">20</span><span class="keyword" id="3193629">var</span>&nbsp;<span class="ident" id="3193633">randmu</span>&nbsp;<span class="ident" id="3193640">sync</span><span class="op" id="3193644">.</span><span class="ident" id="3193645">Mutex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3193652">func</span>&nbsp;<span class="ident" id="3193657">reseed</span><span class="op" id="3193663">(</span><span class="op" id="3193664">)</span>&nbsp;<span class="builtintype" id="3193666">uint32</span>&nbsp;<span class="op" id="3193673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3193676">return</span>&nbsp;<span class="builtintype" id="3193683">uint32</span><span class="op" id="3193689">(</span><span class="ident" id="3193690">time</span><span class="op" id="3193694">.</span><span class="ident" id="3193695">Now</span><span class="op" id="3193698">(</span><span class="op" id="3193699">)</span><span class="op" id="3193700">.</span><span class="ident" id="3193701">UnixNano</span><span class="op" id="3193709">(</span><span class="op" id="3193710">)</span>&nbsp;<span class="op" id="3193712">+</span>&nbsp;<span class="ident" id="3193714">int64</span><span class="op" id="3193719">(</span><span class="ident" id="3193720">os</span><span class="op" id="3193722">.</span><span class="ident" id="3193723">Getpid</span><span class="op" id="3193729">(</span><span class="op" id="3193730">)</span><span class="op" id="3193731">)</span><span class="op" id="3193732">)</span><br>
<span class="lineno"></span><span class="op" id="3193734">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="3193737">func</span>&nbsp;<span class="ident" id="3193742">nextSuffix</span><span class="op" id="3193752">(</span><span class="op" id="3193753">)</span>&nbsp;<span class="builtintype" id="3193755">string</span>&nbsp;<span class="op" id="3193762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193765">randmu</span><span class="op" id="3193771">.</span><span class="ident" id="3193772">Lock</span><span class="op" id="3193776">(</span><span class="op" id="3193777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193780">r</span>&nbsp;<span class="op" id="3193782">:=</span>&nbsp;<span class="ident" id="3193785">rand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3193791">if</span>&nbsp;<span class="ident" id="3193794">r</span>&nbsp;<span class="op" id="3193796">==</span>&nbsp;<span class="num" id="3193799">0</span>&nbsp;<span class="op" id="3193801">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193805">r</span>&nbsp;<span class="op" id="3193807">=</span>&nbsp;<span class="ident" id="3193809">reseed</span><span class="op" id="3193815">(</span><span class="op" id="3193816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3193819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193822">r</span>&nbsp;<span class="op" id="3193824">=</span>&nbsp;<span class="ident" id="3193826">r</span><span class="op" id="3193827">*</span><span class="num" id="3193828">1664525</span>&nbsp;<span class="op" id="3193836">+</span>&nbsp;<span class="num" id="3193838">1013904223</span>&nbsp;<span class="comment" id="3193849">//&nbsp;constants&nbsp;from&nbsp;Numerical&nbsp;Recipes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193886">rand</span>&nbsp;<span class="op" id="3193891">=</span>&nbsp;<span class="ident" id="3193893">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3193896">randmu</span><span class="op" id="3193902">.</span><span class="ident" id="3193903">Unlock</span><span class="op" id="3193909">(</span><span class="op" id="3193910">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3193913">return</span>&nbsp;<span class="ident" id="3193920">strconv</span><span class="op" id="3193927">.</span><span class="ident" id="3193928">Itoa</span><span class="op" id="3193932">(</span><span class="builtintype" id="3193933">int</span><span class="op" id="3193936">(</span><span class="num" id="3193937">1e9</span>&nbsp;<span class="op" id="3193941">+</span>&nbsp;<span class="ident" id="3193943">r</span><span class="op" id="3193944">%</span><span class="num" id="3193945">1e9</span><span class="op" id="3193948">)</span><span class="op" id="3193949">)</span><span class="op" id="3193950">[</span><span class="num" id="3193951">1</span><span class="op" id="3193952">:</span><span class="op" id="3193953">]</span><br>
<span class="lineno"></span><span class="op" id="3193955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3193958">//&nbsp;TempFile&nbsp;creates&nbsp;a&nbsp;new&nbsp;temporary&nbsp;file&nbsp;in&nbsp;the&nbsp;directory&nbsp;dir</span><br>
<span class="lineno"></span><span class="comment" id="3194020">//&nbsp;with&nbsp;a&nbsp;name&nbsp;beginning&nbsp;with&nbsp;prefix,&nbsp;opens&nbsp;the&nbsp;file&nbsp;for&nbsp;reading</span><br>
<span class="lineno">40</span><span class="comment" id="3194085">//&nbsp;and&nbsp;writing,&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;*os.File.</span><br>
<span class="lineno"></span><span class="comment" id="3194137">//&nbsp;If&nbsp;dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;TempFile&nbsp;uses&nbsp;the&nbsp;default&nbsp;directory</span><br>
<span class="lineno"></span><span class="comment" id="3194204">//&nbsp;for&nbsp;temporary&nbsp;files&nbsp;(see&nbsp;os.TempDir).</span><br>
<span class="lineno"></span><span class="comment" id="3194245">//&nbsp;Multiple&nbsp;programs&nbsp;calling&nbsp;TempFile&nbsp;simultaneously</span><br>
<span class="lineno"></span><span class="comment" id="3194298">//&nbsp;will&nbsp;not&nbsp;choose&nbsp;the&nbsp;same&nbsp;file.&nbsp;&nbsp;The&nbsp;caller&nbsp;can&nbsp;use&nbsp;f.Name()</span><br>
<span class="lineno">45</span><span class="comment" id="3194361">//&nbsp;to&nbsp;find&nbsp;the&nbsp;pathname&nbsp;of&nbsp;the&nbsp;file.&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility</span><br>
<span class="lineno"></span><span class="comment" id="3194433">//&nbsp;to&nbsp;remove&nbsp;the&nbsp;file&nbsp;when&nbsp;no&nbsp;longer&nbsp;needed.</span><br>
<span class="lineno"></span><span class="keyword" id="3194478">func</span>&nbsp;<span class="ident" id="3194483">TempFile</span><span class="op" id="3194491">(</span><span class="ident" id="3194492">dir</span><span class="op" id="3194495">,</span>&nbsp;<span class="ident" id="3194497">prefix</span>&nbsp;<span class="builtintype" id="3194504">string</span><span class="op" id="3194510">)</span>&nbsp;<span class="op" id="3194512">(</span><span class="ident" id="3194513">f</span>&nbsp;<span class="op" id="3194515">*</span><span class="ident" id="3194516">os</span><span class="op" id="3194518">.</span><span class="ident" id="3194519">File</span><span class="op" id="3194523">,</span>&nbsp;<span class="ident" id="3194525">err</span>&nbsp;<span class="builtintype" id="3194529">error</span><span class="op" id="3194534">)</span>&nbsp;<span class="op" id="3194536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3194539">if</span>&nbsp;<span class="ident" id="3194542">dir</span>&nbsp;<span class="op" id="3194546">==</span>&nbsp;<span class="string" id="3194549">&#34;&#34;</span>&nbsp;<span class="op" id="3194552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3194556">dir</span>&nbsp;<span class="op" id="3194560">=</span>&nbsp;<span class="ident" id="3194562">os</span><span class="op" id="3194564">.</span><span class="ident" id="3194565">TempDir</span><span class="op" id="3194572">(</span><span class="op" id="3194573">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3194576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3194580">nconflict</span>&nbsp;<span class="op" id="3194590">:=</span>&nbsp;<span class="num" id="3194593">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3194596">for</span>&nbsp;<span class="ident" id="3194600">i</span>&nbsp;<span class="op" id="3194602">:=</span>&nbsp;<span class="num" id="3194605">0</span><span class="op" id="3194606">;</span>&nbsp;<span class="ident" id="3194608">i</span>&nbsp;<span class="op" id="3194610">&lt;</span>&nbsp;<span class="num" id="3194612">10000</span><span class="op" id="3194617">;</span>&nbsp;<span class="ident" id="3194619">i</span><span class="op" id="3194620">++</span>&nbsp;<span class="op" id="3194623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3194627">name</span>&nbsp;<span class="op" id="3194632">:=</span>&nbsp;<span class="ident" id="3194635">filepath</span><span class="op" id="3194643">.</span><span class="ident" id="3194644">Join</span><span class="op" id="3194648">(</span><span class="ident" id="3194649">dir</span><span class="op" id="3194652">,</span>&nbsp;<span class="ident" id="3194654">prefix</span><span class="op" id="3194660">+</span><span class="ident" id="3194661">nextSuffix</span><span class="op" id="3194671">(</span><span class="op" id="3194672">)</span><span class="op" id="3194673">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3194677">f</span><span class="op" id="3194678">,</span>&nbsp;<span class="ident" id="3194680">err</span>&nbsp;<span class="op" id="3194684">=</span>&nbsp;<span class="ident" id="3194686">os</span><span class="op" id="3194688">.</span><span class="ident" id="3194689">OpenFile</span><span class="op" id="3194697">(</span><span class="ident" id="3194698">name</span><span class="op" id="3194702">,</span>&nbsp;<span class="ident" id="3194704">os</span><span class="op" id="3194706">.</span><span class="ident" id="3194707">O_RDWR</span><span class="op" id="3194713">|</span><span class="ident" id="3194714">os</span><span class="op" id="3194716">.</span><span class="ident" id="3194717">O_CREATE</span><span class="op" id="3194725">|</span><span class="ident" id="3194726">os</span><span class="op" id="3194728">.</span><span class="ident" id="3194729">O_EXCL</span><span class="op" id="3194735">,</span>&nbsp;<span class="num" id="3194737">0600</span><span class="op" id="3194741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3194745">if</span>&nbsp;<span class="ident" id="3194748">os</span><span class="op" id="3194750">.</span><span class="ident" id="3194751">IsExist</span><span class="op" id="3194758">(</span><span class="ident" id="3194759">err</span><span class="op" id="3194762">)</span>&nbsp;<span class="op" id="3194764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3194769">if</span>&nbsp;<span class="ident" id="3194772">nconflict</span><span class="op" id="3194781">++</span><span class="op" id="3194783">;</span>&nbsp;<span class="ident" id="3194785">nconflict</span>&nbsp;<span class="op" id="3194795">&gt;</span>&nbsp;<span class="num" id="3194797">10</span>&nbsp;<span class="op" id="3194800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3194806">rand</span>&nbsp;<span class="op" id="3194811">=</span>&nbsp;<span class="ident" id="3194813">reseed</span><span class="op" id="3194819">(</span><span class="op" id="3194820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3194825">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3194830">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3194841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3194845">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3194852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3194855">return</span><br>
<span class="lineno">65</span><span class="op" id="3194862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3194865">//&nbsp;TempDir&nbsp;creates&nbsp;a&nbsp;new&nbsp;temporary&nbsp;directory&nbsp;in&nbsp;the&nbsp;directory&nbsp;dir</span><br>
<span class="lineno"></span><span class="comment" id="3194931">//&nbsp;with&nbsp;a&nbsp;name&nbsp;beginning&nbsp;with&nbsp;prefix&nbsp;and&nbsp;returns&nbsp;the&nbsp;path&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3194996">//&nbsp;new&nbsp;directory.&nbsp;&nbsp;If&nbsp;dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;TempDir&nbsp;uses&nbsp;the</span><br>
<span class="lineno">70</span><span class="comment" id="3195060">//&nbsp;default&nbsp;directory&nbsp;for&nbsp;temporary&nbsp;files&nbsp;(see&nbsp;os.TempDir).</span><br>
<span class="lineno"></span><span class="comment" id="3195119">//&nbsp;Multiple&nbsp;programs&nbsp;calling&nbsp;TempDir&nbsp;simultaneously</span><br>
<span class="lineno"></span><span class="comment" id="3195171">//&nbsp;will&nbsp;not&nbsp;choose&nbsp;the&nbsp;same&nbsp;directory.&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;caller&#39;s&nbsp;responsibility</span><br>
<span class="lineno"></span><span class="comment" id="3195245">//&nbsp;to&nbsp;remove&nbsp;the&nbsp;directory&nbsp;when&nbsp;no&nbsp;longer&nbsp;needed.</span><br>
<span class="lineno"></span><span class="keyword" id="3195295">func</span>&nbsp;<span class="ident" id="3195300">TempDir</span><span class="op" id="3195307">(</span><span class="ident" id="3195308">dir</span><span class="op" id="3195311">,</span>&nbsp;<span class="ident" id="3195313">prefix</span>&nbsp;<span class="builtintype" id="3195320">string</span><span class="op" id="3195326">)</span>&nbsp;<span class="op" id="3195328">(</span><span class="ident" id="3195329">name</span>&nbsp;<span class="builtintype" id="3195334">string</span><span class="op" id="3195340">,</span>&nbsp;<span class="ident" id="3195342">err</span>&nbsp;<span class="builtintype" id="3195346">error</span><span class="op" id="3195351">)</span>&nbsp;<span class="op" id="3195353">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3195356">if</span>&nbsp;<span class="ident" id="3195359">dir</span>&nbsp;<span class="op" id="3195363">==</span>&nbsp;<span class="string" id="3195366">&#34;&#34;</span>&nbsp;<span class="op" id="3195369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3195373">dir</span>&nbsp;<span class="op" id="3195377">=</span>&nbsp;<span class="ident" id="3195379">os</span><span class="op" id="3195381">.</span><span class="ident" id="3195382">TempDir</span><span class="op" id="3195389">(</span><span class="op" id="3195390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3195393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3195397">nconflict</span>&nbsp;<span class="op" id="3195407">:=</span>&nbsp;<span class="num" id="3195410">0</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3195413">for</span>&nbsp;<span class="ident" id="3195417">i</span>&nbsp;<span class="op" id="3195419">:=</span>&nbsp;<span class="num" id="3195422">0</span><span class="op" id="3195423">;</span>&nbsp;<span class="ident" id="3195425">i</span>&nbsp;<span class="op" id="3195427">&lt;</span>&nbsp;<span class="num" id="3195429">10000</span><span class="op" id="3195434">;</span>&nbsp;<span class="ident" id="3195436">i</span><span class="op" id="3195437">++</span>&nbsp;<span class="op" id="3195440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3195444">try</span>&nbsp;<span class="op" id="3195448">:=</span>&nbsp;<span class="ident" id="3195451">filepath</span><span class="op" id="3195459">.</span><span class="ident" id="3195460">Join</span><span class="op" id="3195464">(</span><span class="ident" id="3195465">dir</span><span class="op" id="3195468">,</span>&nbsp;<span class="ident" id="3195470">prefix</span><span class="op" id="3195476">+</span><span class="ident" id="3195477">nextSuffix</span><span class="op" id="3195487">(</span><span class="op" id="3195488">)</span><span class="op" id="3195489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3195493">err</span>&nbsp;<span class="op" id="3195497">=</span>&nbsp;<span class="ident" id="3195499">os</span><span class="op" id="3195501">.</span><span class="ident" id="3195502">Mkdir</span><span class="op" id="3195507">(</span><span class="ident" id="3195508">try</span><span class="op" id="3195511">,</span>&nbsp;<span class="num" id="3195513">0700</span><span class="op" id="3195517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3195521">if</span>&nbsp;<span class="ident" id="3195524">os</span><span class="op" id="3195526">.</span><span class="ident" id="3195527">IsExist</span><span class="op" id="3195534">(</span><span class="ident" id="3195535">err</span><span class="op" id="3195538">)</span>&nbsp;<span class="op" id="3195540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3195545">if</span>&nbsp;<span class="ident" id="3195548">nconflict</span><span class="op" id="3195557">++</span><span class="op" id="3195559">;</span>&nbsp;<span class="ident" id="3195561">nconflict</span>&nbsp;<span class="op" id="3195571">&gt;</span>&nbsp;<span class="num" id="3195573">10</span>&nbsp;<span class="op" id="3195576">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3195582">rand</span>&nbsp;<span class="op" id="3195587">=</span>&nbsp;<span class="ident" id="3195589">reseed</span><span class="op" id="3195595">(</span><span class="op" id="3195596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3195601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3195606">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3195617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3195621">if</span>&nbsp;<span class="ident" id="3195624">err</span>&nbsp;<span class="op" id="3195628">==</span>&nbsp;<span class="ident" id="3195631">nil</span>&nbsp;<span class="op" id="3195635">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3195640">name</span>&nbsp;<span class="op" id="3195645">=</span>&nbsp;<span class="ident" id="3195647">try</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3195653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3195657">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3195664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3195667">return</span><br>
<span class="lineno">95</span><span class="op" id="3195674">}</span>
</div>
</body>
</html>
