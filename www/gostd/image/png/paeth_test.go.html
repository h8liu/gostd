<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/png</h2>
<ul>
<li><a href="/gostd/image/png/paeth.go.html">paeth.go</a></li>
<li><a href="/gostd/image/png/paeth_test.go.html" class="current">paeth_test.go</a></li>
<li><a href="/gostd/image/png/reader.go.html">reader.go</a></li>
<li><a href="/gostd/image/png/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/image/png/writer.go.html">writer.go</a></li>
<li><a href="/gostd/image/png/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8316330">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8316385">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8316439">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8316490">package</span>&nbsp;<span class="ident" id="8316498">png</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8316503">import</span>&nbsp;<span class="op" id="8316510">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8316513">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8316522">&#34;math/rand&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8316535">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8316545">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8316548">func</span>&nbsp;<span class="ident" id="8316553">slowAbs</span><span class="op" id="8316560">(</span><span class="ident" id="8316561">x</span>&nbsp;<span class="builtintype" id="8316563">int</span><span class="op" id="8316566">)</span>&nbsp;<span class="builtintype" id="8316568">int</span>&nbsp;<span class="op" id="8316572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8316575">if</span>&nbsp;<span class="ident" id="8316578"><a href="/gostd/image/png/paeth_test.go.html#8316561">x</a></span>&nbsp;<span class="op" id="8316580">&lt;</span>&nbsp;<span class="num" id="8316582">0</span>&nbsp;<span class="op" id="8316584">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8316588">return</span>&nbsp;<span class="op" id="8316595">-</span><span class="ident" id="8316596"><a href="/gostd/image/png/paeth_test.go.html#8316561">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8316599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8316602">return</span>&nbsp;<span class="ident" id="8316609"><a href="/gostd/image/png/paeth_test.go.html#8316561">x</a></span><br>
<span class="lineno"></span><span class="op" id="8316611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="8316614">//&nbsp;slowPaeth&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Paeth&nbsp;function.</span><br>
<span class="lineno"></span><span class="comment" id="8316686">//&nbsp;It&nbsp;is&nbsp;a&nbsp;straight&nbsp;port&nbsp;of&nbsp;the&nbsp;sample&nbsp;code&nbsp;in&nbsp;the&nbsp;PNG&nbsp;spec,&nbsp;section&nbsp;9.4.</span><br>
<span class="lineno"></span><span class="keyword" id="8316760">func</span>&nbsp;<span class="ident" id="8316765">slowPaeth</span><span class="op" id="8316774">(</span><span class="ident" id="8316775">a</span><span class="op" id="8316776">,</span>&nbsp;<span class="ident" id="8316778">b</span><span class="op" id="8316779">,</span>&nbsp;<span class="ident" id="8316781">c</span>&nbsp;<span class="builtintype" id="8316783">uint8</span><span class="op" id="8316788">)</span>&nbsp;<span class="builtintype" id="8316790">uint8</span>&nbsp;<span class="op" id="8316796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316799">p</span>&nbsp;<span class="op" id="8316801">:=</span>&nbsp;<span class="builtintype" id="8316804">int</span><span class="op" id="8316807">(</span><span class="ident" id="8316808"><a href="/gostd/image/png/paeth_test.go.html#8316775">a</a></span><span class="op" id="8316809">)</span>&nbsp;<span class="op" id="8316811">+</span>&nbsp;<span class="builtintype" id="8316813">int</span><span class="op" id="8316816">(</span><span class="ident" id="8316817"><a href="/gostd/image/png/paeth_test.go.html#8316778">b</a></span><span class="op" id="8316818">)</span>&nbsp;<span class="op" id="8316820">-</span>&nbsp;<span class="builtintype" id="8316822">int</span><span class="op" id="8316825">(</span><span class="ident" id="8316826"><a href="/gostd/image/png/paeth_test.go.html#8316781">c</a></span><span class="op" id="8316827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316830">pa</span>&nbsp;<span class="op" id="8316833">:=</span>&nbsp;<span class="ident" id="8316836"><a href="/gostd/image/png/paeth_test.go.html#8316553">slowAbs</a></span><span class="op" id="8316843">(</span><span class="ident" id="8316844"><a href="/gostd/image/png/paeth_test.go.html#8316799">p</a></span>&nbsp;<span class="op" id="8316846">-</span>&nbsp;<span class="builtintype" id="8316848">int</span><span class="op" id="8316851">(</span><span class="ident" id="8316852"><a href="/gostd/image/png/paeth_test.go.html#8316775">a</a></span><span class="op" id="8316853">)</span><span class="op" id="8316854">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316857">pb</span>&nbsp;<span class="op" id="8316860">:=</span>&nbsp;<span class="ident" id="8316863"><a href="/gostd/image/png/paeth_test.go.html#8316553">slowAbs</a></span><span class="op" id="8316870">(</span><span class="ident" id="8316871"><a href="/gostd/image/png/paeth_test.go.html#8316799">p</a></span>&nbsp;<span class="op" id="8316873">-</span>&nbsp;<span class="builtintype" id="8316875">int</span><span class="op" id="8316878">(</span><span class="ident" id="8316879"><a href="/gostd/image/png/paeth_test.go.html#8316778">b</a></span><span class="op" id="8316880">)</span><span class="op" id="8316881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8316884">pc</span>&nbsp;<span class="op" id="8316887">:=</span>&nbsp;<span class="ident" id="8316890"><a href="/gostd/image/png/paeth_test.go.html#8316553">slowAbs</a></span><span class="op" id="8316897">(</span><span class="ident" id="8316898"><a href="/gostd/image/png/paeth_test.go.html#8316799">p</a></span>&nbsp;<span class="op" id="8316900">-</span>&nbsp;<span class="builtintype" id="8316902">int</span><span class="op" id="8316905">(</span><span class="ident" id="8316906"><a href="/gostd/image/png/paeth_test.go.html#8316781">c</a></span><span class="op" id="8316907">)</span><span class="op" id="8316908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8316911">if</span>&nbsp;<span class="ident" id="8316914"><a href="/gostd/image/png/paeth_test.go.html#8316830">pa</a></span>&nbsp;<span class="op" id="8316917">&lt;=</span>&nbsp;<span class="ident" id="8316920"><a href="/gostd/image/png/paeth_test.go.html#8316857">pb</a></span>&nbsp;<span class="op" id="8316923">&amp;&amp;</span>&nbsp;<span class="ident" id="8316926"><a href="/gostd/image/png/paeth_test.go.html#8316830">pa</a></span>&nbsp;<span class="op" id="8316929">&lt;=</span>&nbsp;<span class="ident" id="8316932"><a href="/gostd/image/png/paeth_test.go.html#8316884">pc</a></span>&nbsp;<span class="op" id="8316935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8316939">return</span>&nbsp;<span class="ident" id="8316946"><a href="/gostd/image/png/paeth_test.go.html#8316775">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8316949">}</span>&nbsp;<span class="keyword" id="8316951">else</span>&nbsp;<span class="keyword" id="8316956">if</span>&nbsp;<span class="ident" id="8316959"><a href="/gostd/image/png/paeth_test.go.html#8316857">pb</a></span>&nbsp;<span class="op" id="8316962">&lt;=</span>&nbsp;<span class="ident" id="8316965"><a href="/gostd/image/png/paeth_test.go.html#8316884">pc</a></span>&nbsp;<span class="op" id="8316968">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8316972">return</span>&nbsp;<span class="ident" id="8316979"><a href="/gostd/image/png/paeth_test.go.html#8316778">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8316982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8316985">return</span>&nbsp;<span class="ident" id="8316992"><a href="/gostd/image/png/paeth_test.go.html#8316781">c</a></span><br>
<span class="lineno"></span><span class="op" id="8316994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="8316997">//&nbsp;slowFilterPaeth&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;func&nbsp;filterPaeth.</span><br>
<span class="lineno"></span><span class="keyword" id="8317073">func</span>&nbsp;<span class="ident" id="8317078">slowFilterPaeth</span><span class="op" id="8317093">(</span><span class="ident" id="8317094">cdat</span><span class="op" id="8317098">,</span>&nbsp;<span class="ident" id="8317100">pdat</span>&nbsp;<span class="op" id="8317105">[</span><span class="op" id="8317106">]</span><span class="builtintype" id="8317107">byte</span><span class="op" id="8317111">,</span>&nbsp;<span class="ident" id="8317113">bytesPerPixel</span>&nbsp;<span class="builtintype" id="8317127">int</span><span class="op" id="8317130">)</span>&nbsp;<span class="op" id="8317132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8317135">for</span>&nbsp;<span class="ident" id="8317139">i</span>&nbsp;<span class="op" id="8317141">:=</span>&nbsp;<span class="num" id="8317144">0</span><span class="op" id="8317145">;</span>&nbsp;<span class="ident" id="8317147"><a href="/gostd/image/png/paeth_test.go.html#8317139">i</a></span>&nbsp;<span class="op" id="8317149">&lt;</span>&nbsp;<span class="ident" id="8317151"><a href="/gostd/image/png/paeth_test.go.html#8317113">bytesPerPixel</a></span><span class="op" id="8317164">;</span>&nbsp;<span class="ident" id="8317166"><a href="/gostd/image/png/paeth_test.go.html#8317139">i</a></span><span class="op" id="8317167">++</span>&nbsp;<span class="op" id="8317170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317174"><a href="/gostd/image/png/paeth_test.go.html#8317094">cdat</a></span><span class="op" id="8317178">[</span><span class="ident" id="8317179"><a href="/gostd/image/png/paeth_test.go.html#8317139">i</a></span><span class="op" id="8317180">]</span>&nbsp;<span class="op" id="8317182">+=</span>&nbsp;<span class="ident" id="8317185"><a href="/gostd/image/png/paeth.go.html#6147280">paeth</a></span><span class="op" id="8317190">(</span><span class="num" id="8317191">0</span><span class="op" id="8317192">,</span>&nbsp;<span class="ident" id="8317194"><a href="/gostd/image/png/paeth_test.go.html#8317100">pdat</a></span><span class="op" id="8317198">[</span><span class="ident" id="8317199"><a href="/gostd/image/png/paeth_test.go.html#8317139">i</a></span><span class="op" id="8317200">]</span><span class="op" id="8317201">,</span>&nbsp;<span class="num" id="8317203">0</span><span class="op" id="8317204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317207">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8317210">for</span>&nbsp;<span class="ident" id="8317214">i</span>&nbsp;<span class="op" id="8317216">:=</span>&nbsp;<span class="ident" id="8317219"><a href="/gostd/image/png/paeth_test.go.html#8317113">bytesPerPixel</a></span><span class="op" id="8317232">;</span>&nbsp;<span class="ident" id="8317234"><a href="/gostd/image/png/paeth_test.go.html#8317214">i</a></span>&nbsp;<span class="op" id="8317236">&lt;</span>&nbsp;<span class="builtinfunc" id="8317238">len</span><span class="op" id="8317241">(</span><span class="ident" id="8317242"><a href="/gostd/image/png/paeth_test.go.html#8317094">cdat</a></span><span class="op" id="8317246">)</span><span class="op" id="8317247">;</span>&nbsp;<span class="ident" id="8317249"><a href="/gostd/image/png/paeth_test.go.html#8317214">i</a></span><span class="op" id="8317250">++</span>&nbsp;<span class="op" id="8317253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317257"><a href="/gostd/image/png/paeth_test.go.html#8317094">cdat</a></span><span class="op" id="8317261">[</span><span class="ident" id="8317262"><a href="/gostd/image/png/paeth_test.go.html#8317214">i</a></span><span class="op" id="8317263">]</span>&nbsp;<span class="op" id="8317265">+=</span>&nbsp;<span class="ident" id="8317268"><a href="/gostd/image/png/paeth.go.html#6147280">paeth</a></span><span class="op" id="8317273">(</span><span class="ident" id="8317274"><a href="/gostd/image/png/paeth_test.go.html#8317094">cdat</a></span><span class="op" id="8317278">[</span><span class="ident" id="8317279"><a href="/gostd/image/png/paeth_test.go.html#8317214">i</a></span><span class="op" id="8317280">-</span><span class="ident" id="8317281"><a href="/gostd/image/png/paeth_test.go.html#8317113">bytesPerPixel</a></span><span class="op" id="8317294">]</span><span class="op" id="8317295">,</span>&nbsp;<span class="ident" id="8317297"><a href="/gostd/image/png/paeth_test.go.html#8317100">pdat</a></span><span class="op" id="8317301">[</span><span class="ident" id="8317302"><a href="/gostd/image/png/paeth_test.go.html#8317214">i</a></span><span class="op" id="8317303">]</span><span class="op" id="8317304">,</span>&nbsp;<span class="ident" id="8317306"><a href="/gostd/image/png/paeth_test.go.html#8317100">pdat</a></span><span class="op" id="8317310">[</span><span class="ident" id="8317311"><a href="/gostd/image/png/paeth_test.go.html#8317214">i</a></span><span class="op" id="8317312">-</span><span class="ident" id="8317313"><a href="/gostd/image/png/paeth_test.go.html#8317113">bytesPerPixel</a></span><span class="op" id="8317326">]</span><span class="op" id="8317327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317330">}</span><br>
<span class="lineno"></span><span class="op" id="8317332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="8317335">func</span>&nbsp;<span class="ident" id="8317340">TestPaeth</span><span class="op" id="8317349">(</span><span class="ident" id="8317350">t</span>&nbsp;<span class="op" id="8317352">*</span><span class="ident" id="8317353"><a href="/gostd/image/png/paeth_test.go.html#8316535">testing</a></span><span class="op" id="8317360">.</span><span class="ident" id="8317361"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8317362">)</span>&nbsp;<span class="op" id="8317364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8317367">for</span>&nbsp;<span class="ident" id="8317371">a</span>&nbsp;<span class="op" id="8317373">:=</span>&nbsp;<span class="num" id="8317376">0</span><span class="op" id="8317377">;</span>&nbsp;<span class="ident" id="8317379"><a href="/gostd/image/png/paeth_test.go.html#8317371">a</a></span>&nbsp;<span class="op" id="8317381">&lt;</span>&nbsp;<span class="num" id="8317383">256</span><span class="op" id="8317386">;</span>&nbsp;<span class="ident" id="8317388"><a href="/gostd/image/png/paeth_test.go.html#8317371">a</a></span>&nbsp;<span class="op" id="8317390">+=</span>&nbsp;<span class="num" id="8317393">15</span>&nbsp;<span class="op" id="8317396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8317400">for</span>&nbsp;<span class="ident" id="8317404">b</span>&nbsp;<span class="op" id="8317406">:=</span>&nbsp;<span class="num" id="8317409">0</span><span class="op" id="8317410">;</span>&nbsp;<span class="ident" id="8317412"><a href="/gostd/image/png/paeth_test.go.html#8317404">b</a></span>&nbsp;<span class="op" id="8317414">&lt;</span>&nbsp;<span class="num" id="8317416">256</span><span class="op" id="8317419">;</span>&nbsp;<span class="ident" id="8317421"><a href="/gostd/image/png/paeth_test.go.html#8317404">b</a></span>&nbsp;<span class="op" id="8317423">+=</span>&nbsp;<span class="num" id="8317426">15</span>&nbsp;<span class="op" id="8317429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8317434">for</span>&nbsp;<span class="ident" id="8317438">c</span>&nbsp;<span class="op" id="8317440">:=</span>&nbsp;<span class="num" id="8317443">0</span><span class="op" id="8317444">;</span>&nbsp;<span class="ident" id="8317446"><a href="/gostd/image/png/paeth_test.go.html#8317438">c</a></span>&nbsp;<span class="op" id="8317448">&lt;</span>&nbsp;<span class="num" id="8317450">256</span><span class="op" id="8317453">;</span>&nbsp;<span class="ident" id="8317455"><a href="/gostd/image/png/paeth_test.go.html#8317438">c</a></span>&nbsp;<span class="op" id="8317457">+=</span>&nbsp;<span class="num" id="8317460">15</span>&nbsp;<span class="op" id="8317463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317469">got</span>&nbsp;<span class="op" id="8317473">:=</span>&nbsp;<span class="ident" id="8317476"><a href="/gostd/image/png/paeth.go.html#6147280">paeth</a></span><span class="op" id="8317481">(</span><span class="builtintype" id="8317482">uint8</span><span class="op" id="8317487">(</span><span class="ident" id="8317488"><a href="/gostd/image/png/paeth_test.go.html#8317371">a</a></span><span class="op" id="8317489">)</span><span class="op" id="8317490">,</span>&nbsp;<span class="builtintype" id="8317492">uint8</span><span class="op" id="8317497">(</span><span class="ident" id="8317498"><a href="/gostd/image/png/paeth_test.go.html#8317404">b</a></span><span class="op" id="8317499">)</span><span class="op" id="8317500">,</span>&nbsp;<span class="builtintype" id="8317502">uint8</span><span class="op" id="8317507">(</span><span class="ident" id="8317508"><a href="/gostd/image/png/paeth_test.go.html#8317438">c</a></span><span class="op" id="8317509">)</span><span class="op" id="8317510">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317516">want</span>&nbsp;<span class="op" id="8317521">:=</span>&nbsp;<span class="ident" id="8317524"><a href="/gostd/image/png/paeth_test.go.html#8316765">slowPaeth</a></span><span class="op" id="8317533">(</span><span class="builtintype" id="8317534">uint8</span><span class="op" id="8317539">(</span><span class="ident" id="8317540"><a href="/gostd/image/png/paeth_test.go.html#8317371">a</a></span><span class="op" id="8317541">)</span><span class="op" id="8317542">,</span>&nbsp;<span class="builtintype" id="8317544">uint8</span><span class="op" id="8317549">(</span><span class="ident" id="8317550"><a href="/gostd/image/png/paeth_test.go.html#8317404">b</a></span><span class="op" id="8317551">)</span><span class="op" id="8317552">,</span>&nbsp;<span class="builtintype" id="8317554">uint8</span><span class="op" id="8317559">(</span><span class="ident" id="8317560"><a href="/gostd/image/png/paeth_test.go.html#8317438">c</a></span><span class="op" id="8317561">)</span><span class="op" id="8317562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8317568">if</span>&nbsp;<span class="ident" id="8317571"><a href="/gostd/image/png/paeth_test.go.html#8317469">got</a></span>&nbsp;<span class="op" id="8317575">!=</span>&nbsp;<span class="ident" id="8317578"><a href="/gostd/image/png/paeth_test.go.html#8317516">want</a></span>&nbsp;<span class="op" id="8317583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317590"><a href="/gostd/image/png/paeth_test.go.html#8317350">t</a></span><span class="op" id="8317591">.</span><span class="ident" id="8317592"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8317598">(</span><span class="string" id="8317599">&#34;a,&nbsp;b,&nbsp;c&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d:&nbsp;got&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8317638">,</span>&nbsp;<span class="ident" id="8317640"><a href="/gostd/image/png/paeth_test.go.html#8317371">a</a></span><span class="op" id="8317641">,</span>&nbsp;<span class="ident" id="8317643"><a href="/gostd/image/png/paeth_test.go.html#8317404">b</a></span><span class="op" id="8317644">,</span>&nbsp;<span class="ident" id="8317646"><a href="/gostd/image/png/paeth_test.go.html#8317438">c</a></span><span class="op" id="8317647">,</span>&nbsp;<span class="ident" id="8317649"><a href="/gostd/image/png/paeth_test.go.html#8317469">got</a></span><span class="op" id="8317652">,</span>&nbsp;<span class="ident" id="8317654"><a href="/gostd/image/png/paeth_test.go.html#8317516">want</a></span><span class="op" id="8317658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317669">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317676">}</span><br>
<span class="lineno"></span><span class="op" id="8317678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8317681">func</span>&nbsp;<span class="ident" id="8317686">BenchmarkPaeth</span><span class="op" id="8317700">(</span><span class="ident" id="8317701">b</span>&nbsp;<span class="op" id="8317703">*</span><span class="ident" id="8317704"><a href="/gostd/image/png/paeth_test.go.html#8316535">testing</a></span><span class="op" id="8317711">.</span><span class="ident" id="8317712"><a href="/gostd/testing/benchmark.go.html#5450963">B</a></span><span class="op" id="8317713">)</span>&nbsp;<span class="op" id="8317715">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8317718">for</span>&nbsp;<span class="ident" id="8317722">i</span>&nbsp;<span class="op" id="8317724">:=</span>&nbsp;<span class="num" id="8317727">0</span><span class="op" id="8317728">;</span>&nbsp;<span class="ident" id="8317730"><a href="/gostd/image/png/paeth_test.go.html#8317722">i</a></span>&nbsp;<span class="op" id="8317732">&lt;</span>&nbsp;<span class="ident" id="8317734"><a href="/gostd/image/png/paeth_test.go.html#8317701">b</a></span><span class="op" id="8317735">.</span><span class="ident" id="8317736"><a href="/gostd/testing/benchmark.go.html#5450983">N</a></span><span class="op" id="8317737">;</span>&nbsp;<span class="ident" id="8317739"><a href="/gostd/image/png/paeth_test.go.html#8317722">i</a></span><span class="op" id="8317740">++</span>&nbsp;<span class="op" id="8317743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317747"><a href="/gostd/image/png/paeth.go.html#6147280">paeth</a></span><span class="op" id="8317752">(</span><span class="builtintype" id="8317753">uint8</span><span class="op" id="8317758">(</span><span class="ident" id="8317759"><a href="/gostd/image/png/paeth_test.go.html#8317722">i</a></span><span class="op" id="8317760">&gt;&gt;</span><span class="num" id="8317762">16</span><span class="op" id="8317764">)</span><span class="op" id="8317765">,</span>&nbsp;<span class="builtintype" id="8317767">uint8</span><span class="op" id="8317772">(</span><span class="ident" id="8317773"><a href="/gostd/image/png/paeth_test.go.html#8317722">i</a></span><span class="op" id="8317774">&gt;&gt;</span><span class="num" id="8317776">8</span><span class="op" id="8317777">)</span><span class="op" id="8317778">,</span>&nbsp;<span class="builtintype" id="8317780">uint8</span><span class="op" id="8317785">(</span><span class="ident" id="8317786"><a href="/gostd/image/png/paeth_test.go.html#8317722">i</a></span><span class="op" id="8317787">)</span><span class="op" id="8317788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8317791">}</span><br>
<span class="lineno"></span><span class="op" id="8317793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="8317796">func</span>&nbsp;<span class="ident" id="8317801">TestPaethDecode</span><span class="op" id="8317816">(</span><span class="ident" id="8317817">t</span>&nbsp;<span class="op" id="8317819">*</span><span class="ident" id="8317820"><a href="/gostd/image/png/paeth_test.go.html#8316535">testing</a></span><span class="op" id="8317827">.</span><span class="ident" id="8317828"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8317829">)</span>&nbsp;<span class="op" id="8317831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317834">pdat0</span>&nbsp;<span class="op" id="8317840">:=</span>&nbsp;<span class="builtinfunc" id="8317843">make</span><span class="op" id="8317847">(</span><span class="op" id="8317848">[</span><span class="op" id="8317849">]</span><span class="builtintype" id="8317850">byte</span><span class="op" id="8317854">,</span>&nbsp;<span class="num" id="8317856">32</span><span class="op" id="8317858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317861">pdat1</span>&nbsp;<span class="op" id="8317867">:=</span>&nbsp;<span class="builtinfunc" id="8317870">make</span><span class="op" id="8317874">(</span><span class="op" id="8317875">[</span><span class="op" id="8317876">]</span><span class="builtintype" id="8317877">byte</span><span class="op" id="8317881">,</span>&nbsp;<span class="num" id="8317883">32</span><span class="op" id="8317885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317888">pdat2</span>&nbsp;<span class="op" id="8317894">:=</span>&nbsp;<span class="builtinfunc" id="8317897">make</span><span class="op" id="8317901">(</span><span class="op" id="8317902">[</span><span class="op" id="8317903">]</span><span class="builtintype" id="8317904">byte</span><span class="op" id="8317908">,</span>&nbsp;<span class="num" id="8317910">32</span><span class="op" id="8317912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317915">cdat0</span>&nbsp;<span class="op" id="8317921">:=</span>&nbsp;<span class="builtinfunc" id="8317924">make</span><span class="op" id="8317928">(</span><span class="op" id="8317929">[</span><span class="op" id="8317930">]</span><span class="builtintype" id="8317931">byte</span><span class="op" id="8317935">,</span>&nbsp;<span class="num" id="8317937">32</span><span class="op" id="8317939">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317942">cdat1</span>&nbsp;<span class="op" id="8317948">:=</span>&nbsp;<span class="builtinfunc" id="8317951">make</span><span class="op" id="8317955">(</span><span class="op" id="8317956">[</span><span class="op" id="8317957">]</span><span class="builtintype" id="8317958">byte</span><span class="op" id="8317962">,</span>&nbsp;<span class="num" id="8317964">32</span><span class="op" id="8317966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317969">cdat2</span>&nbsp;<span class="op" id="8317975">:=</span>&nbsp;<span class="builtinfunc" id="8317978">make</span><span class="op" id="8317982">(</span><span class="op" id="8317983">[</span><span class="op" id="8317984">]</span><span class="builtintype" id="8317985">byte</span><span class="op" id="8317989">,</span>&nbsp;<span class="num" id="8317991">32</span><span class="op" id="8317993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8317996">r</span>&nbsp;<span class="op" id="8317998">:=</span>&nbsp;<span class="ident" id="8318001"><a href="/gostd/image/png/paeth_test.go.html#8316522">rand</a></span><span class="op" id="8318005">.</span><span class="ident" id="8318006"><a href="/gostd/math/rand/rand.go.html#2922124">New</a></span><span class="op" id="8318009">(</span><span class="ident" id="8318010"><a href="/gostd/image/png/paeth_test.go.html#8316522">rand</a></span><span class="op" id="8318014">.</span><span class="ident" id="8318015"><a href="/gostd/math/rand/rand.go.html#2921867">NewSource</a></span><span class="op" id="8318024">(</span><span class="num" id="8318025">1</span><span class="op" id="8318026">)</span><span class="op" id="8318027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8318030">for</span>&nbsp;<span class="ident" id="8318034">bytesPerPixel</span>&nbsp;<span class="op" id="8318048">:=</span>&nbsp;<span class="num" id="8318051">1</span><span class="op" id="8318052">;</span>&nbsp;<span class="ident" id="8318054"><a href="/gostd/image/png/paeth_test.go.html#8318034">bytesPerPixel</a></span>&nbsp;<span class="op" id="8318068">&lt;=</span>&nbsp;<span class="num" id="8318071">8</span><span class="op" id="8318072">;</span>&nbsp;<span class="ident" id="8318074"><a href="/gostd/image/png/paeth_test.go.html#8318034">bytesPerPixel</a></span><span class="op" id="8318087">++</span>&nbsp;<span class="op" id="8318090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8318094">for</span>&nbsp;<span class="ident" id="8318098">i</span>&nbsp;<span class="op" id="8318100">:=</span>&nbsp;<span class="num" id="8318103">0</span><span class="op" id="8318104">;</span>&nbsp;<span class="ident" id="8318106"><a href="/gostd/image/png/paeth_test.go.html#8318098">i</a></span>&nbsp;<span class="op" id="8318108">&lt;</span>&nbsp;<span class="num" id="8318110">100</span><span class="op" id="8318113">;</span>&nbsp;<span class="ident" id="8318115"><a href="/gostd/image/png/paeth_test.go.html#8318098">i</a></span><span class="op" id="8318116">++</span>&nbsp;<span class="op" id="8318119">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8318124">for</span>&nbsp;<span class="ident" id="8318128">j</span>&nbsp;<span class="op" id="8318130">:=</span>&nbsp;<span class="keyword" id="8318133">range</span>&nbsp;<span class="ident" id="8318139"><a href="/gostd/image/png/paeth_test.go.html#8317834">pdat0</a></span>&nbsp;<span class="op" id="8318145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318151"><a href="/gostd/image/png/paeth_test.go.html#8317834">pdat0</a></span><span class="op" id="8318156">[</span><span class="ident" id="8318157"><a href="/gostd/image/png/paeth_test.go.html#8318128">j</a></span><span class="op" id="8318158">]</span>&nbsp;<span class="op" id="8318160">=</span>&nbsp;<span class="builtintype" id="8318162">uint8</span><span class="op" id="8318167">(</span><span class="ident" id="8318168"><a href="/gostd/image/png/paeth_test.go.html#8317996">r</a></span><span class="op" id="8318169">.</span><span class="ident" id="8318170"><a href="/gostd/math/rand/rand.go.html#2922518">Uint32</a></span><span class="op" id="8318176">(</span><span class="op" id="8318177">)</span><span class="op" id="8318178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318184"><a href="/gostd/image/png/paeth_test.go.html#8317915">cdat0</a></span><span class="op" id="8318189">[</span><span class="ident" id="8318190"><a href="/gostd/image/png/paeth_test.go.html#8318128">j</a></span><span class="op" id="8318191">]</span>&nbsp;<span class="op" id="8318193">=</span>&nbsp;<span class="builtintype" id="8318195">uint8</span><span class="op" id="8318200">(</span><span class="ident" id="8318201"><a href="/gostd/image/png/paeth_test.go.html#8317996">r</a></span><span class="op" id="8318202">.</span><span class="ident" id="8318203"><a href="/gostd/math/rand/rand.go.html#2922518">Uint32</a></span><span class="op" id="8318209">(</span><span class="op" id="8318210">)</span><span class="op" id="8318211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8318216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8318221">copy</span><span class="op" id="8318225">(</span><span class="ident" id="8318226"><a href="/gostd/image/png/paeth_test.go.html#8317861">pdat1</a></span><span class="op" id="8318231">,</span>&nbsp;<span class="ident" id="8318233"><a href="/gostd/image/png/paeth_test.go.html#8317834">pdat0</a></span><span class="op" id="8318238">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8318243">copy</span><span class="op" id="8318247">(</span><span class="ident" id="8318248"><a href="/gostd/image/png/paeth_test.go.html#8317888">pdat2</a></span><span class="op" id="8318253">,</span>&nbsp;<span class="ident" id="8318255"><a href="/gostd/image/png/paeth_test.go.html#8317834">pdat0</a></span><span class="op" id="8318260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8318265">copy</span><span class="op" id="8318269">(</span><span class="ident" id="8318270"><a href="/gostd/image/png/paeth_test.go.html#8317942">cdat1</a></span><span class="op" id="8318275">,</span>&nbsp;<span class="ident" id="8318277"><a href="/gostd/image/png/paeth_test.go.html#8317915">cdat0</a></span><span class="op" id="8318282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8318287">copy</span><span class="op" id="8318291">(</span><span class="ident" id="8318292"><a href="/gostd/image/png/paeth_test.go.html#8317969">cdat2</a></span><span class="op" id="8318297">,</span>&nbsp;<span class="ident" id="8318299"><a href="/gostd/image/png/paeth_test.go.html#8317915">cdat0</a></span><span class="op" id="8318304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318309"><a href="/gostd/image/png/paeth.go.html#6147906">filterPaeth</a></span><span class="op" id="8318320">(</span><span class="ident" id="8318321"><a href="/gostd/image/png/paeth_test.go.html#8317942">cdat1</a></span><span class="op" id="8318326">,</span>&nbsp;<span class="ident" id="8318328"><a href="/gostd/image/png/paeth_test.go.html#8317861">pdat1</a></span><span class="op" id="8318333">,</span>&nbsp;<span class="ident" id="8318335"><a href="/gostd/image/png/paeth_test.go.html#8318034">bytesPerPixel</a></span><span class="op" id="8318348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318353"><a href="/gostd/image/png/paeth_test.go.html#8317078">slowFilterPaeth</a></span><span class="op" id="8318368">(</span><span class="ident" id="8318369"><a href="/gostd/image/png/paeth_test.go.html#8317969">cdat2</a></span><span class="op" id="8318374">,</span>&nbsp;<span class="ident" id="8318376"><a href="/gostd/image/png/paeth_test.go.html#8317888">pdat2</a></span><span class="op" id="8318381">,</span>&nbsp;<span class="ident" id="8318383"><a href="/gostd/image/png/paeth_test.go.html#8318034">bytesPerPixel</a></span><span class="op" id="8318396">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8318401">if</span>&nbsp;<span class="op" id="8318404">!</span><span class="ident" id="8318405"><a href="/gostd/image/png/paeth_test.go.html#8316513">bytes</a></span><span class="op" id="8318410">.</span><span class="ident" id="8318411"><a href="/gostd/bytes/bytes_decl.go.html#1414806">Equal</a></span><span class="op" id="8318416">(</span><span class="ident" id="8318417"><a href="/gostd/image/png/paeth_test.go.html#8317942">cdat1</a></span><span class="op" id="8318422">,</span>&nbsp;<span class="ident" id="8318424"><a href="/gostd/image/png/paeth_test.go.html#8317969">cdat2</a></span><span class="op" id="8318429">)</span>&nbsp;<span class="op" id="8318431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318437"><a href="/gostd/image/png/paeth_test.go.html#8317817">t</a></span><span class="op" id="8318438">.</span><span class="ident" id="8318439"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8318445">(</span><span class="string" id="8318446">&#34;bytesPerPixel:&nbsp;%d\npdat0:&nbsp;%&nbsp;x\ncdat0:&nbsp;%&nbsp;x\ngot:&nbsp;&nbsp;&nbsp;%&nbsp;x\nwant:&nbsp;&nbsp;%&nbsp;x&#34;</span><span class="op" id="8318513">,</span>&nbsp;<span class="ident" id="8318515"><a href="/gostd/image/png/paeth_test.go.html#8318034">bytesPerPixel</a></span><span class="op" id="8318528">,</span>&nbsp;<span class="ident" id="8318530"><a href="/gostd/image/png/paeth_test.go.html#8317834">pdat0</a></span><span class="op" id="8318535">,</span>&nbsp;<span class="ident" id="8318537"><a href="/gostd/image/png/paeth_test.go.html#8317915">cdat0</a></span><span class="op" id="8318542">,</span>&nbsp;<span class="ident" id="8318544"><a href="/gostd/image/png/paeth_test.go.html#8317942">cdat1</a></span><span class="op" id="8318549">,</span>&nbsp;<span class="ident" id="8318551"><a href="/gostd/image/png/paeth_test.go.html#8317969">cdat2</a></span><span class="op" id="8318556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8318562">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8318571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8318575">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8318578">}</span><br>
<span class="lineno"></span><span class="op" id="8318580">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
