<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6647145">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6647200">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6647254">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6647305">package</span>&nbsp;<span class="ident" id="6647313">tar</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6647318">import</span>&nbsp;<span class="op" id="6647325">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6647328">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6647337">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6647350">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6647356">&#34;path&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6647364">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6647375">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6647386">&#34;testing&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6647397">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6647404">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6647407">func</span>&nbsp;<span class="ident" id="6647412">TestFileInfoHeader</span><span class="op" id="6647430">(</span><span class="ident" id="6647431">t</span>&nbsp;<span class="op" id="6647433">*</span><span class="ident" id="6647434"><a href="/archive/tar/tar_test.go.html#6647386">testing</a></span><span class="op" id="6647441">.</span><span class="ident" id="6647442">T</span><span class="op" id="6647443">)</span>&nbsp;<span class="op" id="6647445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647448">fi</span><span class="op" id="6647450">,</span>&nbsp;<span class="ident" id="6647452">err</span>&nbsp;<span class="op" id="6647456">:=</span>&nbsp;<span class="ident" id="6647459"><a href="/archive/tar/tar_test.go.html#6647350">os</a></span><span class="op" id="6647461">.</span><span class="ident" id="6647462">Stat</span><span class="op" id="6647466">(</span><span class="string" id="6647467">&#34;testdata/small.txt&#34;</span><span class="op" id="6647487">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647490">if</span>&nbsp;<span class="ident" id="6647493"><a href="/archive/tar/tar_test.go.html#6647452">err</a></span>&nbsp;<span class="op" id="6647497">!=</span>&nbsp;<span class="ident" id="6647500">nil</span>&nbsp;<span class="op" id="6647504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647508"><a href="/archive/tar/tar_test.go.html#6647431">t</a></span><span class="op" id="6647509">.</span><span class="ident" id="6647510">Fatal</span><span class="op" id="6647515">(</span><span class="ident" id="6647516"><a href="/archive/tar/tar_test.go.html#6647452">err</a></span><span class="op" id="6647519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647525">h</span><span class="op" id="6647526">,</span>&nbsp;<span class="ident" id="6647528"><a href="/archive/tar/tar_test.go.html#6647452">err</a></span>&nbsp;<span class="op" id="6647532">:=</span>&nbsp;<span class="ident" id="6647535"><a href="/archive/tar/common.go.html#6191374">FileInfoHeader</a></span><span class="op" id="6647549">(</span><span class="ident" id="6647550"><a href="/archive/tar/tar_test.go.html#6647448">fi</a></span><span class="op" id="6647552">,</span>&nbsp;<span class="string" id="6647554">&#34;&#34;</span><span class="op" id="6647556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647559">if</span>&nbsp;<span class="ident" id="6647562"><a href="/archive/tar/tar_test.go.html#6647452">err</a></span>&nbsp;<span class="op" id="6647566">!=</span>&nbsp;<span class="ident" id="6647569">nil</span>&nbsp;<span class="op" id="6647573">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647577"><a href="/archive/tar/tar_test.go.html#6647431">t</a></span><span class="op" id="6647578">.</span><span class="ident" id="6647579">Fatalf</span><span class="op" id="6647585">(</span><span class="string" id="6647586">&#34;FileInfoHeader:&nbsp;%v&#34;</span><span class="op" id="6647606">,</span>&nbsp;<span class="ident" id="6647608"><a href="/archive/tar/tar_test.go.html#6647452">err</a></span><span class="op" id="6647611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647617">if</span>&nbsp;<span class="ident" id="6647620">g</span><span class="op" id="6647621">,</span>&nbsp;<span class="ident" id="6647623">e</span>&nbsp;<span class="op" id="6647625">:=</span>&nbsp;<span class="ident" id="6647628"><a href="/archive/tar/tar_test.go.html#6647525">h</a></span><span class="op" id="6647629">.</span><span class="ident" id="6647630">Name</span><span class="op" id="6647634">,</span>&nbsp;<span class="string" id="6647636">&#34;small.txt&#34;</span><span class="op" id="6647647">;</span>&nbsp;<span class="ident" id="6647649"><a href="/archive/tar/tar_test.go.html#6647620">g</a></span>&nbsp;<span class="op" id="6647651">!=</span>&nbsp;<span class="ident" id="6647654"><a href="/archive/tar/tar_test.go.html#6647623">e</a></span>&nbsp;<span class="op" id="6647656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647660"><a href="/archive/tar/tar_test.go.html#6647431">t</a></span><span class="op" id="6647661">.</span><span class="ident" id="6647662">Errorf</span><span class="op" id="6647668">(</span><span class="string" id="6647669">&#34;Name&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6647689">,</span>&nbsp;<span class="ident" id="6647691"><a href="/archive/tar/tar_test.go.html#6647620">g</a></span><span class="op" id="6647692">,</span>&nbsp;<span class="ident" id="6647694"><a href="/archive/tar/tar_test.go.html#6647623">e</a></span><span class="op" id="6647695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647698">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647701">if</span>&nbsp;<span class="ident" id="6647704">g</span><span class="op" id="6647705">,</span>&nbsp;<span class="ident" id="6647707">e</span>&nbsp;<span class="op" id="6647709">:=</span>&nbsp;<span class="ident" id="6647712"><a href="/archive/tar/tar_test.go.html#6647525">h</a></span><span class="op" id="6647713">.</span><span class="ident" id="6647714">Mode</span><span class="op" id="6647718">,</span>&nbsp;<span class="ident" id="6647720">int64</span><span class="op" id="6647725">(</span><span class="ident" id="6647726"><a href="/archive/tar/tar_test.go.html#6647448">fi</a></span><span class="op" id="6647728">.</span><span class="ident" id="6647729">Mode</span><span class="op" id="6647733">(</span><span class="op" id="6647734">)</span><span class="op" id="6647735">.</span><span class="ident" id="6647736">Perm</span><span class="op" id="6647740">(</span><span class="op" id="6647741">)</span><span class="op" id="6647742">)</span><span class="op" id="6647743">|</span><span class="ident" id="6647744"><a href="/archive/tar/common.go.html#6190332">c_ISREG</a></span><span class="op" id="6647751">;</span>&nbsp;<span class="ident" id="6647753"><a href="/archive/tar/tar_test.go.html#6647704">g</a></span>&nbsp;<span class="op" id="6647755">!=</span>&nbsp;<span class="ident" id="6647758"><a href="/archive/tar/tar_test.go.html#6647707">e</a></span>&nbsp;<span class="op" id="6647760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647764"><a href="/archive/tar/tar_test.go.html#6647431">t</a></span><span class="op" id="6647765">.</span><span class="ident" id="6647766">Errorf</span><span class="op" id="6647772">(</span><span class="string" id="6647773">&#34;Mode&nbsp;=&nbsp;%#o;&nbsp;want&nbsp;%#o&#34;</span><span class="op" id="6647795">,</span>&nbsp;<span class="ident" id="6647797"><a href="/archive/tar/tar_test.go.html#6647704">g</a></span><span class="op" id="6647798">,</span>&nbsp;<span class="ident" id="6647800"><a href="/archive/tar/tar_test.go.html#6647707">e</a></span><span class="op" id="6647801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647807">if</span>&nbsp;<span class="ident" id="6647810">g</span><span class="op" id="6647811">,</span>&nbsp;<span class="ident" id="6647813">e</span>&nbsp;<span class="op" id="6647815">:=</span>&nbsp;<span class="ident" id="6647818"><a href="/archive/tar/tar_test.go.html#6647525">h</a></span><span class="op" id="6647819">.</span><span class="ident" id="6647820">Size</span><span class="op" id="6647824">,</span>&nbsp;<span class="ident" id="6647826">int64</span><span class="op" id="6647831">(</span><span class="num" id="6647832">5</span><span class="op" id="6647833">)</span><span class="op" id="6647834">;</span>&nbsp;<span class="ident" id="6647836"><a href="/archive/tar/tar_test.go.html#6647810">g</a></span>&nbsp;<span class="op" id="6647838">!=</span>&nbsp;<span class="ident" id="6647841"><a href="/archive/tar/tar_test.go.html#6647813">e</a></span>&nbsp;<span class="op" id="6647843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647847"><a href="/archive/tar/tar_test.go.html#6647431">t</a></span><span class="op" id="6647848">.</span><span class="ident" id="6647849">Errorf</span><span class="op" id="6647855">(</span><span class="string" id="6647856">&#34;Size&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6647876">,</span>&nbsp;<span class="ident" id="6647878"><a href="/archive/tar/tar_test.go.html#6647810">g</a></span><span class="op" id="6647879">,</span>&nbsp;<span class="ident" id="6647881"><a href="/archive/tar/tar_test.go.html#6647813">e</a></span><span class="op" id="6647882">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6647888">if</span>&nbsp;<span class="ident" id="6647891">g</span><span class="op" id="6647892">,</span>&nbsp;<span class="ident" id="6647894">e</span>&nbsp;<span class="op" id="6647896">:=</span>&nbsp;<span class="ident" id="6647899"><a href="/archive/tar/tar_test.go.html#6647525">h</a></span><span class="op" id="6647900">.</span><span class="ident" id="6647901">ModTime</span><span class="op" id="6647908">,</span>&nbsp;<span class="ident" id="6647910"><a href="/archive/tar/tar_test.go.html#6647448">fi</a></span><span class="op" id="6647912">.</span><span class="ident" id="6647913">ModTime</span><span class="op" id="6647920">(</span><span class="op" id="6647921">)</span><span class="op" id="6647922">;</span>&nbsp;<span class="op" id="6647924">!</span><span class="ident" id="6647925"><a href="/archive/tar/tar_test.go.html#6647891">g</a></span><span class="op" id="6647926">.</span><span class="ident" id="6647927">Equal</span><span class="op" id="6647932">(</span><span class="ident" id="6647933"><a href="/archive/tar/tar_test.go.html#6647894">e</a></span><span class="op" id="6647934">)</span>&nbsp;<span class="op" id="6647936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6647940"><a href="/archive/tar/tar_test.go.html#6647431">t</a></span><span class="op" id="6647941">.</span><span class="ident" id="6647942">Errorf</span><span class="op" id="6647948">(</span><span class="string" id="6647949">&#34;ModTime&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6647972">,</span>&nbsp;<span class="ident" id="6647974"><a href="/archive/tar/tar_test.go.html#6647891">g</a></span><span class="op" id="6647975">,</span>&nbsp;<span class="ident" id="6647977"><a href="/archive/tar/tar_test.go.html#6647894">e</a></span><span class="op" id="6647978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6647981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6647984">//&nbsp;FileInfoHeader&nbsp;should&nbsp;error&nbsp;when&nbsp;passing&nbsp;nil&nbsp;FileInfo</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6648042">if</span>&nbsp;<span class="ident" id="6648045">_</span><span class="op" id="6648046">,</span>&nbsp;<span class="ident" id="6648048">err</span>&nbsp;<span class="op" id="6648052">:=</span>&nbsp;<span class="ident" id="6648055"><a href="/archive/tar/common.go.html#6191374">FileInfoHeader</a></span><span class="op" id="6648069">(</span><span class="ident" id="6648070">nil</span><span class="op" id="6648073">,</span>&nbsp;<span class="string" id="6648075">&#34;&#34;</span><span class="op" id="6648077">)</span><span class="op" id="6648078">;</span>&nbsp;<span class="ident" id="6648080"><a href="/archive/tar/tar_test.go.html#6648048">err</a></span>&nbsp;<span class="op" id="6648084">==</span>&nbsp;<span class="ident" id="6648087">nil</span>&nbsp;<span class="op" id="6648091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648095"><a href="/archive/tar/tar_test.go.html#6647431">t</a></span><span class="op" id="6648096">.</span><span class="ident" id="6648097">Fatalf</span><span class="op" id="6648103">(</span><span class="string" id="6648104">&#34;Expected&nbsp;error&nbsp;when&nbsp;passing&nbsp;nil&nbsp;to&nbsp;FileInfoHeader&#34;</span><span class="op" id="6648155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648158">}</span><br>
<span class="lineno"></span><span class="op" id="6648160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="6648163">func</span>&nbsp;<span class="ident" id="6648168">TestFileInfoHeaderDir</span><span class="op" id="6648189">(</span><span class="ident" id="6648190">t</span>&nbsp;<span class="op" id="6648192">*</span><span class="ident" id="6648193"><a href="/archive/tar/tar_test.go.html#6647386">testing</a></span><span class="op" id="6648200">.</span><span class="ident" id="6648201">T</span><span class="op" id="6648202">)</span>&nbsp;<span class="op" id="6648204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648207">fi</span><span class="op" id="6648209">,</span>&nbsp;<span class="ident" id="6648211">err</span>&nbsp;<span class="op" id="6648215">:=</span>&nbsp;<span class="ident" id="6648218"><a href="/archive/tar/tar_test.go.html#6647350">os</a></span><span class="op" id="6648220">.</span><span class="ident" id="6648221">Stat</span><span class="op" id="6648225">(</span><span class="string" id="6648226">&#34;testdata&#34;</span><span class="op" id="6648236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6648239">if</span>&nbsp;<span class="ident" id="6648242"><a href="/archive/tar/tar_test.go.html#6648211">err</a></span>&nbsp;<span class="op" id="6648246">!=</span>&nbsp;<span class="ident" id="6648249">nil</span>&nbsp;<span class="op" id="6648253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648257"><a href="/archive/tar/tar_test.go.html#6648190">t</a></span><span class="op" id="6648258">.</span><span class="ident" id="6648259">Fatal</span><span class="op" id="6648264">(</span><span class="ident" id="6648265"><a href="/archive/tar/tar_test.go.html#6648211">err</a></span><span class="op" id="6648268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648271">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648274">h</span><span class="op" id="6648275">,</span>&nbsp;<span class="ident" id="6648277"><a href="/archive/tar/tar_test.go.html#6648211">err</a></span>&nbsp;<span class="op" id="6648281">:=</span>&nbsp;<span class="ident" id="6648284"><a href="/archive/tar/common.go.html#6191374">FileInfoHeader</a></span><span class="op" id="6648298">(</span><span class="ident" id="6648299"><a href="/archive/tar/tar_test.go.html#6648207">fi</a></span><span class="op" id="6648301">,</span>&nbsp;<span class="string" id="6648303">&#34;&#34;</span><span class="op" id="6648305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6648308">if</span>&nbsp;<span class="ident" id="6648311"><a href="/archive/tar/tar_test.go.html#6648211">err</a></span>&nbsp;<span class="op" id="6648315">!=</span>&nbsp;<span class="ident" id="6648318">nil</span>&nbsp;<span class="op" id="6648322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648326"><a href="/archive/tar/tar_test.go.html#6648190">t</a></span><span class="op" id="6648327">.</span><span class="ident" id="6648328">Fatalf</span><span class="op" id="6648334">(</span><span class="string" id="6648335">&#34;FileInfoHeader:&nbsp;%v&#34;</span><span class="op" id="6648355">,</span>&nbsp;<span class="ident" id="6648357"><a href="/archive/tar/tar_test.go.html#6648211">err</a></span><span class="op" id="6648360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6648366">if</span>&nbsp;<span class="ident" id="6648369">g</span><span class="op" id="6648370">,</span>&nbsp;<span class="ident" id="6648372">e</span>&nbsp;<span class="op" id="6648374">:=</span>&nbsp;<span class="ident" id="6648377"><a href="/archive/tar/tar_test.go.html#6648274">h</a></span><span class="op" id="6648378">.</span><span class="ident" id="6648379">Name</span><span class="op" id="6648383">,</span>&nbsp;<span class="string" id="6648385">&#34;testdata/&#34;</span><span class="op" id="6648396">;</span>&nbsp;<span class="ident" id="6648398"><a href="/archive/tar/tar_test.go.html#6648369">g</a></span>&nbsp;<span class="op" id="6648400">!=</span>&nbsp;<span class="ident" id="6648403"><a href="/archive/tar/tar_test.go.html#6648372">e</a></span>&nbsp;<span class="op" id="6648405">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648409"><a href="/archive/tar/tar_test.go.html#6648190">t</a></span><span class="op" id="6648410">.</span><span class="ident" id="6648411">Errorf</span><span class="op" id="6648417">(</span><span class="string" id="6648418">&#34;Name&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6648438">,</span>&nbsp;<span class="ident" id="6648440"><a href="/archive/tar/tar_test.go.html#6648369">g</a></span><span class="op" id="6648441">,</span>&nbsp;<span class="ident" id="6648443"><a href="/archive/tar/tar_test.go.html#6648372">e</a></span><span class="op" id="6648444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6648450">//&nbsp;Ignoring&nbsp;c_ISGID&nbsp;for&nbsp;golang.org/issue/4867</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6648497">if</span>&nbsp;<span class="ident" id="6648500">g</span><span class="op" id="6648501">,</span>&nbsp;<span class="ident" id="6648503">e</span>&nbsp;<span class="op" id="6648505">:=</span>&nbsp;<span class="ident" id="6648508"><a href="/archive/tar/tar_test.go.html#6648274">h</a></span><span class="op" id="6648509">.</span><span class="ident" id="6648510">Mode</span><span class="op" id="6648514">&amp;^</span><span class="ident" id="6648516"><a href="/archive/tar/common.go.html#6190194">c_ISGID</a></span><span class="op" id="6648523">,</span>&nbsp;<span class="ident" id="6648525">int64</span><span class="op" id="6648530">(</span><span class="ident" id="6648531"><a href="/archive/tar/tar_test.go.html#6648207">fi</a></span><span class="op" id="6648533">.</span><span class="ident" id="6648534">Mode</span><span class="op" id="6648538">(</span><span class="op" id="6648539">)</span><span class="op" id="6648540">.</span><span class="ident" id="6648541">Perm</span><span class="op" id="6648545">(</span><span class="op" id="6648546">)</span><span class="op" id="6648547">)</span><span class="op" id="6648548">|</span><span class="ident" id="6648549"><a href="/archive/tar/common.go.html#6190271">c_ISDIR</a></span><span class="op" id="6648556">;</span>&nbsp;<span class="ident" id="6648558"><a href="/archive/tar/tar_test.go.html#6648500">g</a></span>&nbsp;<span class="op" id="6648560">!=</span>&nbsp;<span class="ident" id="6648563"><a href="/archive/tar/tar_test.go.html#6648503">e</a></span>&nbsp;<span class="op" id="6648565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648569"><a href="/archive/tar/tar_test.go.html#6648190">t</a></span><span class="op" id="6648570">.</span><span class="ident" id="6648571">Errorf</span><span class="op" id="6648577">(</span><span class="string" id="6648578">&#34;Mode&nbsp;=&nbsp;%#o;&nbsp;want&nbsp;%#o&#34;</span><span class="op" id="6648600">,</span>&nbsp;<span class="ident" id="6648602"><a href="/archive/tar/tar_test.go.html#6648500">g</a></span><span class="op" id="6648603">,</span>&nbsp;<span class="ident" id="6648605"><a href="/archive/tar/tar_test.go.html#6648503">e</a></span><span class="op" id="6648606">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6648612">if</span>&nbsp;<span class="ident" id="6648615">g</span><span class="op" id="6648616">,</span>&nbsp;<span class="ident" id="6648618">e</span>&nbsp;<span class="op" id="6648620">:=</span>&nbsp;<span class="ident" id="6648623"><a href="/archive/tar/tar_test.go.html#6648274">h</a></span><span class="op" id="6648624">.</span><span class="ident" id="6648625">Size</span><span class="op" id="6648629">,</span>&nbsp;<span class="ident" id="6648631">int64</span><span class="op" id="6648636">(</span><span class="num" id="6648637">0</span><span class="op" id="6648638">)</span><span class="op" id="6648639">;</span>&nbsp;<span class="ident" id="6648641"><a href="/archive/tar/tar_test.go.html#6648615">g</a></span>&nbsp;<span class="op" id="6648643">!=</span>&nbsp;<span class="ident" id="6648646"><a href="/archive/tar/tar_test.go.html#6648618">e</a></span>&nbsp;<span class="op" id="6648648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648652"><a href="/archive/tar/tar_test.go.html#6648190">t</a></span><span class="op" id="6648653">.</span><span class="ident" id="6648654">Errorf</span><span class="op" id="6648660">(</span><span class="string" id="6648661">&#34;Size&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6648681">,</span>&nbsp;<span class="ident" id="6648683"><a href="/archive/tar/tar_test.go.html#6648615">g</a></span><span class="op" id="6648684">,</span>&nbsp;<span class="ident" id="6648686"><a href="/archive/tar/tar_test.go.html#6648618">e</a></span><span class="op" id="6648687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6648693">if</span>&nbsp;<span class="ident" id="6648696">g</span><span class="op" id="6648697">,</span>&nbsp;<span class="ident" id="6648699">e</span>&nbsp;<span class="op" id="6648701">:=</span>&nbsp;<span class="ident" id="6648704"><a href="/archive/tar/tar_test.go.html#6648274">h</a></span><span class="op" id="6648705">.</span><span class="ident" id="6648706">ModTime</span><span class="op" id="6648713">,</span>&nbsp;<span class="ident" id="6648715"><a href="/archive/tar/tar_test.go.html#6648207">fi</a></span><span class="op" id="6648717">.</span><span class="ident" id="6648718">ModTime</span><span class="op" id="6648725">(</span><span class="op" id="6648726">)</span><span class="op" id="6648727">;</span>&nbsp;<span class="op" id="6648729">!</span><span class="ident" id="6648730"><a href="/archive/tar/tar_test.go.html#6648696">g</a></span><span class="op" id="6648731">.</span><span class="ident" id="6648732">Equal</span><span class="op" id="6648737">(</span><span class="ident" id="6648738"><a href="/archive/tar/tar_test.go.html#6648699">e</a></span><span class="op" id="6648739">)</span>&nbsp;<span class="op" id="6648741">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648745"><a href="/archive/tar/tar_test.go.html#6648190">t</a></span><span class="op" id="6648746">.</span><span class="ident" id="6648747">Errorf</span><span class="op" id="6648753">(</span><span class="string" id="6648754">&#34;ModTime&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6648777">,</span>&nbsp;<span class="ident" id="6648779"><a href="/archive/tar/tar_test.go.html#6648696">g</a></span><span class="op" id="6648780">,</span>&nbsp;<span class="ident" id="6648782"><a href="/archive/tar/tar_test.go.html#6648699">e</a></span><span class="op" id="6648783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648786">}</span><br>
<span class="lineno"></span><span class="op" id="6648788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6648791">func</span>&nbsp;<span class="ident" id="6648796">TestFileInfoHeaderSymlink</span><span class="op" id="6648821">(</span><span class="ident" id="6648822">t</span>&nbsp;<span class="op" id="6648824">*</span><span class="ident" id="6648825"><a href="/archive/tar/tar_test.go.html#6647386">testing</a></span><span class="op" id="6648832">.</span><span class="ident" id="6648833">T</span><span class="op" id="6648834">)</span>&nbsp;<span class="op" id="6648836">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648839">h</span><span class="op" id="6648840">,</span>&nbsp;<span class="ident" id="6648842">err</span>&nbsp;<span class="op" id="6648846">:=</span>&nbsp;<span class="ident" id="6648849"><a href="/archive/tar/common.go.html#6191374">FileInfoHeader</a></span><span class="op" id="6648863">(</span><span class="ident" id="6648864"><a href="/archive/tar/tar_test.go.html#6649114">symlink</a></span><span class="op" id="6648871">{</span><span class="op" id="6648872">}</span><span class="op" id="6648873">,</span>&nbsp;<span class="string" id="6648875">&#34;some-target&#34;</span><span class="op" id="6648888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6648891">if</span>&nbsp;<span class="ident" id="6648894"><a href="/archive/tar/tar_test.go.html#6648842">err</a></span>&nbsp;<span class="op" id="6648898">!=</span>&nbsp;<span class="ident" id="6648901">nil</span>&nbsp;<span class="op" id="6648905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648909"><a href="/archive/tar/tar_test.go.html#6648822">t</a></span><span class="op" id="6648910">.</span><span class="ident" id="6648911">Fatal</span><span class="op" id="6648916">(</span><span class="ident" id="6648917"><a href="/archive/tar/tar_test.go.html#6648842">err</a></span><span class="op" id="6648920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6648923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6648926">if</span>&nbsp;<span class="ident" id="6648929">g</span><span class="op" id="6648930">,</span>&nbsp;<span class="ident" id="6648932">e</span>&nbsp;<span class="op" id="6648934">:=</span>&nbsp;<span class="ident" id="6648937"><a href="/archive/tar/tar_test.go.html#6648839">h</a></span><span class="op" id="6648938">.</span><span class="ident" id="6648939">Name</span><span class="op" id="6648943">,</span>&nbsp;<span class="string" id="6648945">&#34;some-symlink&#34;</span><span class="op" id="6648959">;</span>&nbsp;<span class="ident" id="6648961"><a href="/archive/tar/tar_test.go.html#6648929">g</a></span>&nbsp;<span class="op" id="6648963">!=</span>&nbsp;<span class="ident" id="6648966"><a href="/archive/tar/tar_test.go.html#6648932">e</a></span>&nbsp;<span class="op" id="6648968">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6648972"><a href="/archive/tar/tar_test.go.html#6648822">t</a></span><span class="op" id="6648973">.</span><span class="ident" id="6648974">Errorf</span><span class="op" id="6648980">(</span><span class="string" id="6648981">&#34;Name&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6649001">,</span>&nbsp;<span class="ident" id="6649003"><a href="/archive/tar/tar_test.go.html#6648929">g</a></span><span class="op" id="6649004">,</span>&nbsp;<span class="ident" id="6649006"><a href="/archive/tar/tar_test.go.html#6648932">e</a></span><span class="op" id="6649007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6649013">if</span>&nbsp;<span class="ident" id="6649016">g</span><span class="op" id="6649017">,</span>&nbsp;<span class="ident" id="6649019">e</span>&nbsp;<span class="op" id="6649021">:=</span>&nbsp;<span class="ident" id="6649024"><a href="/archive/tar/tar_test.go.html#6648839">h</a></span><span class="op" id="6649025">.</span><span class="ident" id="6649026">Linkname</span><span class="op" id="6649034">,</span>&nbsp;<span class="string" id="6649036">&#34;some-target&#34;</span><span class="op" id="6649049">;</span>&nbsp;<span class="ident" id="6649051"><a href="/archive/tar/tar_test.go.html#6649016">g</a></span>&nbsp;<span class="op" id="6649053">!=</span>&nbsp;<span class="ident" id="6649056"><a href="/archive/tar/tar_test.go.html#6649019">e</a></span>&nbsp;<span class="op" id="6649058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6649062"><a href="/archive/tar/tar_test.go.html#6648822">t</a></span><span class="op" id="6649063">.</span><span class="ident" id="6649064">Errorf</span><span class="op" id="6649070">(</span><span class="string" id="6649071">&#34;Linkname&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6649095">,</span>&nbsp;<span class="ident" id="6649097"><a href="/archive/tar/tar_test.go.html#6649016">g</a></span><span class="op" id="6649098">,</span>&nbsp;<span class="ident" id="6649100"><a href="/archive/tar/tar_test.go.html#6649019">e</a></span><span class="op" id="6649101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649104">}</span><br>
<span class="lineno">80</span><span class="op" id="6649106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6649109">type</span>&nbsp;<span class="ident" id="6649114">symlink</span>&nbsp;<span class="keyword" id="6649122">struct</span><span class="op" id="6649128">{</span><span class="op" id="6649129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6649132">func</span>&nbsp;<span class="op" id="6649137">(</span><span class="ident" id="6649138"><a href="/archive/tar/tar_test.go.html#6649114">symlink</a></span><span class="op" id="6649145">)</span>&nbsp;<span class="ident" id="6649147">Name</span><span class="op" id="6649151">(</span><span class="op" id="6649152">)</span>&nbsp;<span class="builtintype" id="6649154">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6649167">{</span>&nbsp;<span class="keyword" id="6649169">return</span>&nbsp;<span class="string" id="6649176">&#34;some-symlink&#34;</span>&nbsp;<span class="op" id="6649191">}</span><br>
<span class="lineno">85</span><span class="keyword" id="6649193">func</span>&nbsp;<span class="op" id="6649198">(</span><span class="ident" id="6649199"><a href="/archive/tar/tar_test.go.html#6649114">symlink</a></span><span class="op" id="6649206">)</span>&nbsp;<span class="ident" id="6649208">Size</span><span class="op" id="6649212">(</span><span class="op" id="6649213">)</span>&nbsp;<span class="ident" id="6649215">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6649228">{</span>&nbsp;<span class="keyword" id="6649230">return</span>&nbsp;<span class="num" id="6649237">0</span>&nbsp;<span class="op" id="6649239">}</span><br>
<span class="lineno"></span><span class="keyword" id="6649241">func</span>&nbsp;<span class="op" id="6649246">(</span><span class="ident" id="6649247"><a href="/archive/tar/tar_test.go.html#6649114">symlink</a></span><span class="op" id="6649254">)</span>&nbsp;<span class="ident" id="6649256">Mode</span><span class="op" id="6649260">(</span><span class="op" id="6649261">)</span>&nbsp;<span class="ident" id="6649263"><a href="/archive/tar/tar_test.go.html#6647350">os</a></span><span class="op" id="6649265">.</span><span class="ident" id="6649266">FileMode</span>&nbsp;&nbsp;<span class="op" id="6649276">{</span>&nbsp;<span class="keyword" id="6649278">return</span>&nbsp;<span class="ident" id="6649285"><a href="/archive/tar/tar_test.go.html#6647350">os</a></span><span class="op" id="6649287">.</span><span class="ident" id="6649288">ModeSymlink</span>&nbsp;<span class="op" id="6649300">}</span><br>
<span class="lineno"></span><span class="keyword" id="6649302">func</span>&nbsp;<span class="op" id="6649307">(</span><span class="ident" id="6649308"><a href="/archive/tar/tar_test.go.html#6649114">symlink</a></span><span class="op" id="6649315">)</span>&nbsp;<span class="ident" id="6649317">ModTime</span><span class="op" id="6649324">(</span><span class="op" id="6649325">)</span>&nbsp;<span class="ident" id="6649327"><a href="/archive/tar/tar_test.go.html#6647397">time</a></span><span class="op" id="6649331">.</span><span class="ident" id="6649332">Time</span>&nbsp;<span class="op" id="6649337">{</span>&nbsp;<span class="keyword" id="6649339">return</span>&nbsp;<span class="ident" id="6649346"><a href="/archive/tar/tar_test.go.html#6647397">time</a></span><span class="op" id="6649350">.</span><span class="ident" id="6649351">Time</span><span class="op" id="6649355">{</span><span class="op" id="6649356">}</span>&nbsp;<span class="op" id="6649358">}</span><br>
<span class="lineno"></span><span class="keyword" id="6649360">func</span>&nbsp;<span class="op" id="6649365">(</span><span class="ident" id="6649366"><a href="/archive/tar/tar_test.go.html#6649114">symlink</a></span><span class="op" id="6649373">)</span>&nbsp;<span class="ident" id="6649375">IsDir</span><span class="op" id="6649380">(</span><span class="op" id="6649381">)</span>&nbsp;<span class="builtintype" id="6649383">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6649395">{</span>&nbsp;<span class="keyword" id="6649397">return</span>&nbsp;<span class="builtintype" id="6649404">false</span>&nbsp;<span class="op" id="6649410">}</span><br>
<span class="lineno"></span><span class="keyword" id="6649412">func</span>&nbsp;<span class="op" id="6649417">(</span><span class="ident" id="6649418"><a href="/archive/tar/tar_test.go.html#6649114">symlink</a></span><span class="op" id="6649425">)</span>&nbsp;<span class="ident" id="6649427">Sys</span><span class="op" id="6649430">(</span><span class="op" id="6649431">)</span>&nbsp;<span class="keyword" id="6649433">interface</span><span class="op" id="6649442">{</span><span class="op" id="6649443">}</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6649447">{</span>&nbsp;<span class="keyword" id="6649449">return</span>&nbsp;<span class="ident" id="6649456">nil</span>&nbsp;<span class="op" id="6649460">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="6649463">func</span>&nbsp;<span class="ident" id="6649468">TestRoundTrip</span><span class="op" id="6649481">(</span><span class="ident" id="6649482">t</span>&nbsp;<span class="op" id="6649484">*</span><span class="ident" id="6649485"><a href="/archive/tar/tar_test.go.html#6647386">testing</a></span><span class="op" id="6649492">.</span><span class="ident" id="6649493">T</span><span class="op" id="6649494">)</span>&nbsp;<span class="op" id="6649496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6649499">data</span>&nbsp;<span class="op" id="6649504">:=</span>&nbsp;<span class="op" id="6649507">[</span><span class="op" id="6649508">]</span><span class="builtintype" id="6649509">byte</span><span class="op" id="6649513">(</span><span class="string" id="6649514">&#34;some&nbsp;file&nbsp;contents&#34;</span><span class="op" id="6649534">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6649538">var</span>&nbsp;<span class="ident" id="6649542">b</span>&nbsp;<span class="ident" id="6649544"><a href="/archive/tar/tar_test.go.html#6647328">bytes</a></span><span class="op" id="6649549">.</span><span class="ident" id="6649550">Buffer</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6649558">tw</span>&nbsp;<span class="op" id="6649561">:=</span>&nbsp;<span class="ident" id="6649564"><a href="/archive/tar/writer.go.html#6218490">NewWriter</a></span><span class="op" id="6649573">(</span><span class="op" id="6649574">&amp;</span><span class="ident" id="6649575"><a href="/archive/tar/tar_test.go.html#6649542">b</a></span><span class="op" id="6649576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6649579">hdr</span>&nbsp;<span class="op" id="6649583">:=</span>&nbsp;<span class="op" id="6649586">&amp;</span><span class="ident" id="6649587"><a href="/archive/tar/common.go.html#6187053">Header</a></span><span class="op" id="6649593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6649597">Name</span><span class="op" id="6649601">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6649606">&#34;file.txt&#34;</span><span class="op" id="6649616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6649620">Uid</span><span class="op" id="6649623">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6649629">1</span>&nbsp;<span class="op" id="6649631">&lt;&lt;</span>&nbsp;<span class="num" id="6649634">21</span><span class="op" id="6649636">,</span>&nbsp;<span class="comment" id="6649638">//&nbsp;too&nbsp;big&nbsp;for&nbsp;8&nbsp;octal&nbsp;digits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6649670">Size</span><span class="op" id="6649674">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6649679">int64</span><span class="op" id="6649684">(</span><span class="builtinfunc" id="6649685">len</span><span class="op" id="6649688">(</span><span class="ident" id="6649689"><a href="/archive/tar/tar_test.go.html#6649499">data</a></span><span class="op" id="6649693">)</span><span class="op" id="6649694">)</span><span class="op" id="6649695">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6649699">ModTime</span><span class="op" id="6649706">:</span>&nbsp;<span class="ident" id="6649708"><a href="/archive/tar/tar_test.go.html#6647397">time</a></span><span class="op" id="6649712">.</span><span class="ident" id="6649713">Now</span><span class="op" id="6649716">(</span><span class="op" id="6649717">)</span><span class="op" id="6649718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6649724">//&nbsp;tar&nbsp;only&nbsp;supports&nbsp;second&nbsp;precision.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6649764"><a href="/archive/tar/tar_test.go.html#6649579">hdr</a></span><span class="op" id="6649767">.</span><span class="ident" id="6649768">ModTime</span>&nbsp;<span class="op" id="6649776">=</span>&nbsp;<span class="ident" id="6649778"><a href="/archive/tar/tar_test.go.html#6649579">hdr</a></span><span class="op" id="6649781">.</span><span class="ident" id="6649782">ModTime</span><span class="op" id="6649789">.</span><span class="ident" id="6649790">Add</span><span class="op" id="6649793">(</span><span class="op" id="6649794">-</span><span class="ident" id="6649795"><a href="/archive/tar/tar_test.go.html#6647397">time</a></span><span class="op" id="6649799">.</span><span class="ident" id="6649800">Duration</span><span class="op" id="6649808">(</span><span class="ident" id="6649809"><a href="/archive/tar/tar_test.go.html#6649579">hdr</a></span><span class="op" id="6649812">.</span><span class="ident" id="6649813">ModTime</span><span class="op" id="6649820">.</span><span class="ident" id="6649821">Nanosecond</span><span class="op" id="6649831">(</span><span class="op" id="6649832">)</span><span class="op" id="6649833">)</span>&nbsp;<span class="op" id="6649835">*</span>&nbsp;<span class="ident" id="6649837"><a href="/archive/tar/tar_test.go.html#6647397">time</a></span><span class="op" id="6649841">.</span><span class="ident" id="6649842">Nanosecond</span><span class="op" id="6649852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6649855">if</span>&nbsp;<span class="ident" id="6649858">err</span>&nbsp;<span class="op" id="6649862">:=</span>&nbsp;<span class="ident" id="6649865"><a href="/archive/tar/tar_test.go.html#6649558">tw</a></span><span class="op" id="6649867">.</span><span class="ident" id="6649868">WriteHeader</span><span class="op" id="6649879">(</span><span class="ident" id="6649880"><a href="/archive/tar/tar_test.go.html#6649579">hdr</a></span><span class="op" id="6649883">)</span><span class="op" id="6649884">;</span>&nbsp;<span class="ident" id="6649886"><a href="/archive/tar/tar_test.go.html#6649858">err</a></span>&nbsp;<span class="op" id="6649890">!=</span>&nbsp;<span class="ident" id="6649893">nil</span>&nbsp;<span class="op" id="6649897">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6649901"><a href="/archive/tar/tar_test.go.html#6649482">t</a></span><span class="op" id="6649902">.</span><span class="ident" id="6649903">Fatalf</span><span class="op" id="6649909">(</span><span class="string" id="6649910">&#34;tw.WriteHeader:&nbsp;%v&#34;</span><span class="op" id="6649930">,</span>&nbsp;<span class="ident" id="6649932"><a href="/archive/tar/tar_test.go.html#6649858">err</a></span><span class="op" id="6649935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6649938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6649941">if</span>&nbsp;<span class="ident" id="6649944">_</span><span class="op" id="6649945">,</span>&nbsp;<span class="ident" id="6649947">err</span>&nbsp;<span class="op" id="6649951">:=</span>&nbsp;<span class="ident" id="6649954"><a href="/archive/tar/tar_test.go.html#6649558">tw</a></span><span class="op" id="6649956">.</span><span class="ident" id="6649957">Write</span><span class="op" id="6649962">(</span><span class="ident" id="6649963"><a href="/archive/tar/tar_test.go.html#6649499">data</a></span><span class="op" id="6649967">)</span><span class="op" id="6649968">;</span>&nbsp;<span class="ident" id="6649970"><a href="/archive/tar/tar_test.go.html#6649947">err</a></span>&nbsp;<span class="op" id="6649974">!=</span>&nbsp;<span class="ident" id="6649977">nil</span>&nbsp;<span class="op" id="6649981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6649985"><a href="/archive/tar/tar_test.go.html#6649482">t</a></span><span class="op" id="6649986">.</span><span class="ident" id="6649987">Fatalf</span><span class="op" id="6649993">(</span><span class="string" id="6649994">&#34;tw.Write:&nbsp;%v&#34;</span><span class="op" id="6650008">,</span>&nbsp;<span class="ident" id="6650010"><a href="/archive/tar/tar_test.go.html#6649947">err</a></span><span class="op" id="6650013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650016">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6650019">if</span>&nbsp;<span class="ident" id="6650022">err</span>&nbsp;<span class="op" id="6650026">:=</span>&nbsp;<span class="ident" id="6650029"><a href="/archive/tar/tar_test.go.html#6649558">tw</a></span><span class="op" id="6650031">.</span><span class="ident" id="6650032">Close</span><span class="op" id="6650037">(</span><span class="op" id="6650038">)</span><span class="op" id="6650039">;</span>&nbsp;<span class="ident" id="6650041"><a href="/archive/tar/tar_test.go.html#6650022">err</a></span>&nbsp;<span class="op" id="6650045">!=</span>&nbsp;<span class="ident" id="6650048">nil</span>&nbsp;<span class="op" id="6650052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650056"><a href="/archive/tar/tar_test.go.html#6649482">t</a></span><span class="op" id="6650057">.</span><span class="ident" id="6650058">Fatalf</span><span class="op" id="6650064">(</span><span class="string" id="6650065">&#34;tw.Close:&nbsp;%v&#34;</span><span class="op" id="6650079">,</span>&nbsp;<span class="ident" id="6650081"><a href="/archive/tar/tar_test.go.html#6650022">err</a></span><span class="op" id="6650084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6650091">//&nbsp;Read&nbsp;it&nbsp;back.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650109">tr</span>&nbsp;<span class="op" id="6650112">:=</span>&nbsp;<span class="ident" id="6650115"><a href="/archive/tar/reader.go.html#6196034">NewReader</a></span><span class="op" id="6650124">(</span><span class="op" id="6650125">&amp;</span><span class="ident" id="6650126"><a href="/archive/tar/tar_test.go.html#6649542">b</a></span><span class="op" id="6650127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650130">rHdr</span><span class="op" id="6650134">,</span>&nbsp;<span class="ident" id="6650136">err</span>&nbsp;<span class="op" id="6650140">:=</span>&nbsp;<span class="ident" id="6650143"><a href="/archive/tar/tar_test.go.html#6650109">tr</a></span><span class="op" id="6650145">.</span><span class="ident" id="6650146">Next</span><span class="op" id="6650150">(</span><span class="op" id="6650151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6650154">if</span>&nbsp;<span class="ident" id="6650157"><a href="/archive/tar/tar_test.go.html#6650136">err</a></span>&nbsp;<span class="op" id="6650161">!=</span>&nbsp;<span class="ident" id="6650164">nil</span>&nbsp;<span class="op" id="6650168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650172"><a href="/archive/tar/tar_test.go.html#6649482">t</a></span><span class="op" id="6650173">.</span><span class="ident" id="6650174">Fatalf</span><span class="op" id="6650180">(</span><span class="string" id="6650181">&#34;tr.Next:&nbsp;%v&#34;</span><span class="op" id="6650194">,</span>&nbsp;<span class="ident" id="6650196"><a href="/archive/tar/tar_test.go.html#6650136">err</a></span><span class="op" id="6650199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650202">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6650205">if</span>&nbsp;<span class="op" id="6650208">!</span><span class="ident" id="6650209"><a href="/archive/tar/tar_test.go.html#6647364">reflect</a></span><span class="op" id="6650216">.</span><span class="ident" id="6650217">DeepEqual</span><span class="op" id="6650226">(</span><span class="ident" id="6650227"><a href="/archive/tar/tar_test.go.html#6650130">rHdr</a></span><span class="op" id="6650231">,</span>&nbsp;<span class="ident" id="6650233"><a href="/archive/tar/tar_test.go.html#6649579">hdr</a></span><span class="op" id="6650236">)</span>&nbsp;<span class="op" id="6650238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650242"><a href="/archive/tar/tar_test.go.html#6649482">t</a></span><span class="op" id="6650243">.</span><span class="ident" id="6650244">Errorf</span><span class="op" id="6650250">(</span><span class="string" id="6650251">&#34;Header&nbsp;mismatch.\n&nbsp;got&nbsp;%+v\nwant&nbsp;%+v&#34;</span><span class="op" id="6650289">,</span>&nbsp;<span class="ident" id="6650291"><a href="/archive/tar/tar_test.go.html#6650130">rHdr</a></span><span class="op" id="6650295">,</span>&nbsp;<span class="ident" id="6650297"><a href="/archive/tar/tar_test.go.html#6649579">hdr</a></span><span class="op" id="6650300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650306">rData</span><span class="op" id="6650311">,</span>&nbsp;<span class="ident" id="6650313"><a href="/archive/tar/tar_test.go.html#6650136">err</a></span>&nbsp;<span class="op" id="6650317">:=</span>&nbsp;<span class="ident" id="6650320"><a href="/archive/tar/tar_test.go.html#6647337">ioutil</a></span><span class="op" id="6650326">.</span><span class="ident" id="6650327">ReadAll</span><span class="op" id="6650334">(</span><span class="ident" id="6650335"><a href="/archive/tar/tar_test.go.html#6650109">tr</a></span><span class="op" id="6650337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6650340">if</span>&nbsp;<span class="ident" id="6650343"><a href="/archive/tar/tar_test.go.html#6650136">err</a></span>&nbsp;<span class="op" id="6650347">!=</span>&nbsp;<span class="ident" id="6650350">nil</span>&nbsp;<span class="op" id="6650354">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650358"><a href="/archive/tar/tar_test.go.html#6649482">t</a></span><span class="op" id="6650359">.</span><span class="ident" id="6650360">Fatalf</span><span class="op" id="6650366">(</span><span class="string" id="6650367">&#34;Read:&nbsp;%v&#34;</span><span class="op" id="6650377">,</span>&nbsp;<span class="ident" id="6650379"><a href="/archive/tar/tar_test.go.html#6650136">err</a></span><span class="op" id="6650382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6650388">if</span>&nbsp;<span class="op" id="6650391">!</span><span class="ident" id="6650392"><a href="/archive/tar/tar_test.go.html#6647328">bytes</a></span><span class="op" id="6650397">.</span><span class="ident" id="6650398">Equal</span><span class="op" id="6650403">(</span><span class="ident" id="6650404"><a href="/archive/tar/tar_test.go.html#6650306">rData</a></span><span class="op" id="6650409">,</span>&nbsp;<span class="ident" id="6650411"><a href="/archive/tar/tar_test.go.html#6649499">data</a></span><span class="op" id="6650415">)</span>&nbsp;<span class="op" id="6650417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650421"><a href="/archive/tar/tar_test.go.html#6649482">t</a></span><span class="op" id="6650422">.</span><span class="ident" id="6650423">Errorf</span><span class="op" id="6650429">(</span><span class="string" id="6650430">&#34;Data&nbsp;mismatch.\n&nbsp;got&nbsp;%q\nwant&nbsp;%q&#34;</span><span class="op" id="6650464">,</span>&nbsp;<span class="ident" id="6650466"><a href="/archive/tar/tar_test.go.html#6650306">rData</a></span><span class="op" id="6650471">,</span>&nbsp;<span class="ident" id="6650473"><a href="/archive/tar/tar_test.go.html#6649499">data</a></span><span class="op" id="6650477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650480">}</span><br>
<span class="lineno">130</span><span class="op" id="6650482">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6650485">type</span>&nbsp;<span class="ident" id="6650490">headerRoundTripTest</span>&nbsp;<span class="keyword" id="6650510">struct</span>&nbsp;<span class="op" id="6650517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650520">h</span>&nbsp;&nbsp;<span class="op" id="6650523">*</span><span class="ident" id="6650524"><a href="/archive/tar/common.go.html#6187053">Header</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650532">fm</span>&nbsp;<span class="ident" id="6650535"><a href="/archive/tar/tar_test.go.html#6647350">os</a></span><span class="op" id="6650537">.</span><span class="ident" id="6650538">FileMode</span><br>
<span class="lineno">135</span><span class="op" id="6650547">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6650550">func</span>&nbsp;<span class="ident" id="6650555">TestHeaderRoundTrip</span><span class="op" id="6650574">(</span><span class="ident" id="6650575">t</span>&nbsp;<span class="op" id="6650577">*</span><span class="ident" id="6650578"><a href="/archive/tar/tar_test.go.html#6647386">testing</a></span><span class="op" id="6650585">.</span><span class="ident" id="6650586">T</span><span class="op" id="6650587">)</span>&nbsp;<span class="op" id="6650589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650592">golden</span>&nbsp;<span class="op" id="6650599">:=</span>&nbsp;<span class="op" id="6650602">[</span><span class="op" id="6650603">]</span><span class="ident" id="6650604"><a href="/archive/tar/tar_test.go.html#6650490">headerRoundTripTest</a></span><span class="op" id="6650623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6650627">//&nbsp;regular&nbsp;file.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650651">h</span><span class="op" id="6650652">:</span>&nbsp;<span class="op" id="6650654">&amp;</span><span class="ident" id="6650655"><a href="/archive/tar/common.go.html#6187053">Header</a></span><span class="op" id="6650661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650667">Name</span><span class="op" id="6650671">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6650677">&#34;test.txt&#34;</span><span class="op" id="6650687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650693">Mode</span><span class="op" id="6650697">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6650703">0644</span>&nbsp;<span class="op" id="6650708">|</span>&nbsp;<span class="ident" id="6650710"><a href="/archive/tar/common.go.html#6190332">c_ISREG</a></span><span class="op" id="6650717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650723">Size</span><span class="op" id="6650727">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6650733">12</span><span class="op" id="6650735">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650741">ModTime</span><span class="op" id="6650748">:</span>&nbsp;&nbsp;<span class="ident" id="6650751"><a href="/archive/tar/tar_test.go.html#6647397">time</a></span><span class="op" id="6650755">.</span><span class="ident" id="6650756">Unix</span><span class="op" id="6650760">(</span><span class="num" id="6650761">1360600916</span><span class="op" id="6650771">,</span>&nbsp;<span class="num" id="6650773">0</span><span class="op" id="6650774">)</span><span class="op" id="6650775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650781">Typeflag</span><span class="op" id="6650789">:</span>&nbsp;<span class="ident" id="6650791"><a href="/archive/tar/common.go.html#6186278">TypeReg</a></span><span class="op" id="6650798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650803">}</span><span class="op" id="6650804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650809">fm</span><span class="op" id="6650811">:</span>&nbsp;<span class="num" id="6650813">0644</span><span class="op" id="6650817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650821">}</span><span class="op" id="6650822">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6650826">//&nbsp;hard&nbsp;link.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650847">h</span><span class="op" id="6650848">:</span>&nbsp;<span class="op" id="6650850">&amp;</span><span class="ident" id="6650851"><a href="/archive/tar/common.go.html#6187053">Header</a></span><span class="op" id="6650857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650863">Name</span><span class="op" id="6650867">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6650873">&#34;hard.txt&#34;</span><span class="op" id="6650883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650889">Mode</span><span class="op" id="6650893">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6650899">0644</span>&nbsp;<span class="op" id="6650904">|</span>&nbsp;<span class="ident" id="6650906"><a href="/archive/tar/common.go.html#6190368">c_ISLNK</a></span><span class="op" id="6650913">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650919">Size</span><span class="op" id="6650923">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6650929">0</span><span class="op" id="6650930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650936">ModTime</span><span class="op" id="6650943">:</span>&nbsp;&nbsp;<span class="ident" id="6650946"><a href="/archive/tar/tar_test.go.html#6647397">time</a></span><span class="op" id="6650950">.</span><span class="ident" id="6650951">Unix</span><span class="op" id="6650955">(</span><span class="num" id="6650956">1360600916</span><span class="op" id="6650966">,</span>&nbsp;<span class="num" id="6650968">0</span><span class="op" id="6650969">)</span><span class="op" id="6650970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6650976">Typeflag</span><span class="op" id="6650984">:</span>&nbsp;<span class="ident" id="6650986"><a href="/archive/tar/common.go.html#6186366">TypeLink</a></span><span class="op" id="6650994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6650999">}</span><span class="op" id="6651000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651005">fm</span><span class="op" id="6651007">:</span>&nbsp;<span class="num" id="6651009">0644</span>&nbsp;<span class="op" id="6651014">|</span>&nbsp;<span class="ident" id="6651016"><a href="/archive/tar/tar_test.go.html#6647350">os</a></span><span class="op" id="6651018">.</span><span class="ident" id="6651019">ModeSymlink</span><span class="op" id="6651030">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651034">}</span><span class="op" id="6651035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6651039">//&nbsp;symbolic&nbsp;link.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651064">h</span><span class="op" id="6651065">:</span>&nbsp;<span class="op" id="6651067">&amp;</span><span class="ident" id="6651068"><a href="/archive/tar/common.go.html#6187053">Header</a></span><span class="op" id="6651074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651080">Name</span><span class="op" id="6651084">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6651090">&#34;link.txt&#34;</span><span class="op" id="6651100">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651106">Mode</span><span class="op" id="6651110">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6651116">0777</span>&nbsp;<span class="op" id="6651121">|</span>&nbsp;<span class="ident" id="6651123"><a href="/archive/tar/common.go.html#6190368">c_ISLNK</a></span><span class="op" id="6651130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651136">Size</span><span class="op" id="6651140">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6651146">0</span><span class="op" id="6651147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651153">ModTime</span><span class="op" id="6651160">:</span>&nbsp;&nbsp;<span class="ident" id="6651163"><a href="/archive/tar/tar_test.go.html#6647397">time</a></span><span class="op" id="6651167">.</span><span class="ident" id="6651168">Unix</span><span class="op" id="6651172">(</span><span class="num" id="6651173">1360600852</span><span class="op" id="6651183">,</span>&nbsp;<span class="num" id="6651185">0</span><span class="op" id="6651186">)</span><span class="op" id="6651187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651193">Typeflag</span><span class="op" id="6651201">:</span>&nbsp;<span class="ident" id="6651203"><a href="/archive/tar/common.go.html#6186407">TypeSymlink</a></span><span class="op" id="6651214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651219">}</span><span class="op" id="6651220">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651225">fm</span><span class="op" id="6651227">:</span>&nbsp;<span class="num" id="6651229">0777</span>&nbsp;<span class="op" id="6651234">|</span>&nbsp;<span class="ident" id="6651236"><a href="/archive/tar/tar_test.go.html#6647350">os</a></span><span class="op" id="6651238">.</span><span class="ident" id="6651239">ModeSymlink</span><span class="op" id="6651250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651254">}</span><span class="op" id="6651255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6651259">//&nbsp;character&nbsp;device&nbsp;node.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651292">h</span><span class="op" id="6651293">:</span>&nbsp;<span class="op" id="6651295">&amp;</span><span class="ident" id="6651296"><a href="/archive/tar/common.go.html#6187053">Header</a></span><span class="op" id="6651302">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651308">Name</span><span class="op" id="6651312">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6651318">&#34;dev/null&#34;</span><span class="op" id="6651328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651334">Mode</span><span class="op" id="6651338">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6651344">0666</span>&nbsp;<span class="op" id="6651349">|</span>&nbsp;<span class="ident" id="6651351"><a href="/archive/tar/common.go.html#6190447">c_ISCHR</a></span><span class="op" id="6651358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651364">Size</span><span class="op" id="6651368">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6651374">0</span><span class="op" id="6651375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651381">ModTime</span><span class="op" id="6651388">:</span>&nbsp;&nbsp;<span class="ident" id="6651391"><a href="/archive/tar/tar_test.go.html#6647397">time</a></span><span class="op" id="6651395">.</span><span class="ident" id="6651396">Unix</span><span class="op" id="6651400">(</span><span class="num" id="6651401">1360578951</span><span class="op" id="6651411">,</span>&nbsp;<span class="num" id="6651413">0</span><span class="op" id="6651414">)</span><span class="op" id="6651415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651421">Typeflag</span><span class="op" id="6651429">:</span>&nbsp;<span class="ident" id="6651431"><a href="/archive/tar/common.go.html#6186452">TypeChar</a></span><span class="op" id="6651439">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651444">}</span><span class="op" id="6651445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651450">fm</span><span class="op" id="6651452">:</span>&nbsp;<span class="num" id="6651454">0666</span>&nbsp;<span class="op" id="6651459">|</span>&nbsp;<span class="ident" id="6651461"><a href="/archive/tar/tar_test.go.html#6647350">os</a></span><span class="op" id="6651463">.</span><span class="ident" id="6651464">ModeDevice</span>&nbsp;<span class="op" id="6651475">|</span>&nbsp;<span class="ident" id="6651477"><a href="/archive/tar/tar_test.go.html#6647350">os</a></span><span class="op" id="6651479">.</span><span class="ident" id="6651480">ModeCharDevice</span><span class="op" id="6651494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651498">}</span><span class="op" id="6651499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6651503">//&nbsp;block&nbsp;device&nbsp;node.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651527">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651532">h</span><span class="op" id="6651533">:</span>&nbsp;<span class="op" id="6651535">&amp;</span><span class="ident" id="6651536"><a href="/archive/tar/common.go.html#6187053">Header</a></span><span class="op" id="6651542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651548">Name</span><span class="op" id="6651552">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6651558">&#34;dev/sda&#34;</span><span class="op" id="6651567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651573">Mode</span><span class="op" id="6651577">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6651583">0660</span>&nbsp;<span class="op" id="6651588">|</span>&nbsp;<span class="ident" id="6651590"><a href="/archive/tar/common.go.html#6190405">c_ISBLK</a></span><span class="op" id="6651597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651603">Size</span><span class="op" id="6651607">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6651613">0</span><span class="op" id="6651614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651620">ModTime</span><span class="op" id="6651627">:</span>&nbsp;&nbsp;<span class="ident" id="6651630"><a href="/archive/tar/tar_test.go.html#6647397">time</a></span><span class="op" id="6651634">.</span><span class="ident" id="6651635">Unix</span><span class="op" id="6651639">(</span><span class="num" id="6651640">1360578954</span><span class="op" id="6651650">,</span>&nbsp;<span class="num" id="6651652">0</span><span class="op" id="6651653">)</span><span class="op" id="6651654">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651660">Typeflag</span><span class="op" id="6651668">:</span>&nbsp;<span class="ident" id="6651670"><a href="/archive/tar/common.go.html#6186505">TypeBlock</a></span><span class="op" id="6651679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651684">}</span><span class="op" id="6651685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651690">fm</span><span class="op" id="6651692">:</span>&nbsp;<span class="num" id="6651694">0660</span>&nbsp;<span class="op" id="6651699">|</span>&nbsp;<span class="ident" id="6651701"><a href="/archive/tar/tar_test.go.html#6647350">os</a></span><span class="op" id="6651703">.</span><span class="ident" id="6651704">ModeDevice</span><span class="op" id="6651714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651718">}</span><span class="op" id="6651719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6651723">//&nbsp;directory.</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651744">h</span><span class="op" id="6651745">:</span>&nbsp;<span class="op" id="6651747">&amp;</span><span class="ident" id="6651748"><a href="/archive/tar/common.go.html#6187053">Header</a></span><span class="op" id="6651754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651760">Name</span><span class="op" id="6651764">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6651770">&#34;dir/&#34;</span><span class="op" id="6651776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651782">Mode</span><span class="op" id="6651786">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6651792">0755</span>&nbsp;<span class="op" id="6651797">|</span>&nbsp;<span class="ident" id="6651799"><a href="/archive/tar/common.go.html#6190271">c_ISDIR</a></span><span class="op" id="6651806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651812">Size</span><span class="op" id="6651816">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6651822">0</span><span class="op" id="6651823">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651829">ModTime</span><span class="op" id="6651836">:</span>&nbsp;&nbsp;<span class="ident" id="6651839"><a href="/archive/tar/tar_test.go.html#6647397">time</a></span><span class="op" id="6651843">.</span><span class="ident" id="6651844">Unix</span><span class="op" id="6651848">(</span><span class="num" id="6651849">1360601116</span><span class="op" id="6651859">,</span>&nbsp;<span class="num" id="6651861">0</span><span class="op" id="6651862">)</span><span class="op" id="6651863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651869">Typeflag</span><span class="op" id="6651877">:</span>&nbsp;<span class="ident" id="6651879"><a href="/archive/tar/common.go.html#6186554">TypeDir</a></span><span class="op" id="6651886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651891">}</span><span class="op" id="6651892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651897">fm</span><span class="op" id="6651899">:</span>&nbsp;<span class="num" id="6651901">0755</span>&nbsp;<span class="op" id="6651906">|</span>&nbsp;<span class="ident" id="6651908"><a href="/archive/tar/tar_test.go.html#6647350">os</a></span><span class="op" id="6651910">.</span><span class="ident" id="6651911">ModeDir</span><span class="op" id="6651918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651922">}</span><span class="op" id="6651923">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6651927">//&nbsp;fifo&nbsp;node.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6651943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651948">h</span><span class="op" id="6651949">:</span>&nbsp;<span class="op" id="6651951">&amp;</span><span class="ident" id="6651952"><a href="/archive/tar/common.go.html#6187053">Header</a></span><span class="op" id="6651958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651964">Name</span><span class="op" id="6651968">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6651974">&#34;dev/initctl&#34;</span><span class="op" id="6651987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6651993">Mode</span><span class="op" id="6651997">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6652003">0600</span>&nbsp;<span class="op" id="6652008">|</span>&nbsp;<span class="ident" id="6652010"><a href="/archive/tar/common.go.html#6190304">c_ISFIFO</a></span><span class="op" id="6652018">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652024">Size</span><span class="op" id="6652028">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6652034">0</span><span class="op" id="6652035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652041">ModTime</span><span class="op" id="6652048">:</span>&nbsp;&nbsp;<span class="ident" id="6652051"><a href="/archive/tar/tar_test.go.html#6647397">time</a></span><span class="op" id="6652055">.</span><span class="ident" id="6652056">Unix</span><span class="op" id="6652060">(</span><span class="num" id="6652061">1360578949</span><span class="op" id="6652071">,</span>&nbsp;<span class="num" id="6652073">0</span><span class="op" id="6652074">)</span><span class="op" id="6652075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652081">Typeflag</span><span class="op" id="6652089">:</span>&nbsp;<span class="ident" id="6652091"><a href="/archive/tar/common.go.html#6186595">TypeFifo</a></span><span class="op" id="6652099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652104">}</span><span class="op" id="6652105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652110">fm</span><span class="op" id="6652112">:</span>&nbsp;<span class="num" id="6652114">0600</span>&nbsp;<span class="op" id="6652119">|</span>&nbsp;<span class="ident" id="6652121"><a href="/archive/tar/tar_test.go.html#6647350">os</a></span><span class="op" id="6652123">.</span><span class="ident" id="6652124">ModeNamedPipe</span><span class="op" id="6652137">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652141">}</span><span class="op" id="6652142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6652146">//&nbsp;setuid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652164">h</span><span class="op" id="6652165">:</span>&nbsp;<span class="op" id="6652167">&amp;</span><span class="ident" id="6652168"><a href="/archive/tar/common.go.html#6187053">Header</a></span><span class="op" id="6652174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652180">Name</span><span class="op" id="6652184">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6652190">&#34;bin/su&#34;</span><span class="op" id="6652198">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652204">Mode</span><span class="op" id="6652208">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6652214">0755</span>&nbsp;<span class="op" id="6652219">|</span>&nbsp;<span class="ident" id="6652221"><a href="/archive/tar/common.go.html#6190332">c_ISREG</a></span>&nbsp;<span class="op" id="6652229">|</span>&nbsp;<span class="ident" id="6652231"><a href="/archive/tar/common.go.html#6190163">c_ISUID</a></span><span class="op" id="6652238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652244">Size</span><span class="op" id="6652248">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6652254">23232</span><span class="op" id="6652259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652265">ModTime</span><span class="op" id="6652272">:</span>&nbsp;&nbsp;<span class="ident" id="6652275"><a href="/archive/tar/tar_test.go.html#6647397">time</a></span><span class="op" id="6652279">.</span><span class="ident" id="6652280">Unix</span><span class="op" id="6652284">(</span><span class="num" id="6652285">1355405093</span><span class="op" id="6652295">,</span>&nbsp;<span class="num" id="6652297">0</span><span class="op" id="6652298">)</span><span class="op" id="6652299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652305">Typeflag</span><span class="op" id="6652313">:</span>&nbsp;<span class="ident" id="6652315"><a href="/archive/tar/common.go.html#6186278">TypeReg</a></span><span class="op" id="6652322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652327">}</span><span class="op" id="6652328">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652333">fm</span><span class="op" id="6652335">:</span>&nbsp;<span class="num" id="6652337">0755</span>&nbsp;<span class="op" id="6652342">|</span>&nbsp;<span class="ident" id="6652344"><a href="/archive/tar/tar_test.go.html#6647350">os</a></span><span class="op" id="6652346">.</span><span class="ident" id="6652347">ModeSetuid</span><span class="op" id="6652357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652361">}</span><span class="op" id="6652362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6652366">//&nbsp;setguid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652385">h</span><span class="op" id="6652386">:</span>&nbsp;<span class="op" id="6652388">&amp;</span><span class="ident" id="6652389"><a href="/archive/tar/common.go.html#6187053">Header</a></span><span class="op" id="6652395">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652401">Name</span><span class="op" id="6652405">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6652411">&#34;group.txt&#34;</span><span class="op" id="6652422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652428">Mode</span><span class="op" id="6652432">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6652438">0750</span>&nbsp;<span class="op" id="6652443">|</span>&nbsp;<span class="ident" id="6652445"><a href="/archive/tar/common.go.html#6190332">c_ISREG</a></span>&nbsp;<span class="op" id="6652453">|</span>&nbsp;<span class="ident" id="6652455"><a href="/archive/tar/common.go.html#6190194">c_ISGID</a></span><span class="op" id="6652462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652468">Size</span><span class="op" id="6652472">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6652478">0</span><span class="op" id="6652479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652485">ModTime</span><span class="op" id="6652492">:</span>&nbsp;&nbsp;<span class="ident" id="6652495"><a href="/archive/tar/tar_test.go.html#6647397">time</a></span><span class="op" id="6652499">.</span><span class="ident" id="6652500">Unix</span><span class="op" id="6652504">(</span><span class="num" id="6652505">1360602346</span><span class="op" id="6652515">,</span>&nbsp;<span class="num" id="6652517">0</span><span class="op" id="6652518">)</span><span class="op" id="6652519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652525">Typeflag</span><span class="op" id="6652533">:</span>&nbsp;<span class="ident" id="6652535"><a href="/archive/tar/common.go.html#6186278">TypeReg</a></span><span class="op" id="6652542">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652547">}</span><span class="op" id="6652548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652553">fm</span><span class="op" id="6652555">:</span>&nbsp;<span class="num" id="6652557">0750</span>&nbsp;<span class="op" id="6652562">|</span>&nbsp;<span class="ident" id="6652564"><a href="/archive/tar/tar_test.go.html#6647350">os</a></span><span class="op" id="6652566">.</span><span class="ident" id="6652567">ModeSetgid</span><span class="op" id="6652577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652581">}</span><span class="op" id="6652582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6652586">//&nbsp;sticky.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652599">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652604">h</span><span class="op" id="6652605">:</span>&nbsp;<span class="op" id="6652607">&amp;</span><span class="ident" id="6652608"><a href="/archive/tar/common.go.html#6187053">Header</a></span><span class="op" id="6652614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652620">Name</span><span class="op" id="6652624">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6652630">&#34;sticky.txt&#34;</span><span class="op" id="6652642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652648">Mode</span><span class="op" id="6652652">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6652658">0600</span>&nbsp;<span class="op" id="6652663">|</span>&nbsp;<span class="ident" id="6652665"><a href="/archive/tar/common.go.html#6190332">c_ISREG</a></span>&nbsp;<span class="op" id="6652673">|</span>&nbsp;<span class="ident" id="6652675"><a href="/archive/tar/common.go.html#6190225">c_ISVTX</a></span><span class="op" id="6652682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652688">Size</span><span class="op" id="6652692">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6652698">7</span><span class="op" id="6652699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652705">ModTime</span><span class="op" id="6652712">:</span>&nbsp;&nbsp;<span class="ident" id="6652715"><a href="/archive/tar/tar_test.go.html#6647397">time</a></span><span class="op" id="6652719">.</span><span class="ident" id="6652720">Unix</span><span class="op" id="6652724">(</span><span class="num" id="6652725">1360602540</span><span class="op" id="6652735">,</span>&nbsp;<span class="num" id="6652737">0</span><span class="op" id="6652738">)</span><span class="op" id="6652739">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652745">Typeflag</span><span class="op" id="6652753">:</span>&nbsp;<span class="ident" id="6652755"><a href="/archive/tar/common.go.html#6186278">TypeReg</a></span><span class="op" id="6652762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652767">}</span><span class="op" id="6652768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652773">fm</span><span class="op" id="6652775">:</span>&nbsp;<span class="num" id="6652777">0600</span>&nbsp;<span class="op" id="6652782">|</span>&nbsp;<span class="ident" id="6652784"><a href="/archive/tar/tar_test.go.html#6647350">os</a></span><span class="op" id="6652786">.</span><span class="ident" id="6652787">ModeSticky</span><span class="op" id="6652797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652801">}</span><span class="op" id="6652802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652805">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652809">for</span>&nbsp;<span class="ident" id="6652813">i</span><span class="op" id="6652814">,</span>&nbsp;<span class="ident" id="6652816">g</span>&nbsp;<span class="op" id="6652818">:=</span>&nbsp;<span class="keyword" id="6652821">range</span>&nbsp;<span class="ident" id="6652827"><a href="/archive/tar/tar_test.go.html#6650592">golden</a></span>&nbsp;<span class="op" id="6652834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652838">fi</span>&nbsp;<span class="op" id="6652841">:=</span>&nbsp;<span class="ident" id="6652844"><a href="/archive/tar/tar_test.go.html#6652816">g</a></span><span class="op" id="6652845">.</span><span class="ident" id="6652846">h</span><span class="op" id="6652847">.</span><span class="ident" id="6652848">FileInfo</span><span class="op" id="6652856">(</span><span class="op" id="6652857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652861">h2</span><span class="op" id="6652863">,</span>&nbsp;<span class="ident" id="6652865">err</span>&nbsp;<span class="op" id="6652869">:=</span>&nbsp;<span class="ident" id="6652872"><a href="/archive/tar/common.go.html#6191374">FileInfoHeader</a></span><span class="op" id="6652886">(</span><span class="ident" id="6652887"><a href="/archive/tar/tar_test.go.html#6652838">fi</a></span><span class="op" id="6652889">,</span>&nbsp;<span class="string" id="6652891">&#34;&#34;</span><span class="op" id="6652893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652897">if</span>&nbsp;<span class="ident" id="6652900"><a href="/archive/tar/tar_test.go.html#6652865">err</a></span>&nbsp;<span class="op" id="6652904">!=</span>&nbsp;<span class="ident" id="6652907">nil</span>&nbsp;<span class="op" id="6652911">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652916"><a href="/archive/tar/tar_test.go.html#6650575">t</a></span><span class="op" id="6652917">.</span><span class="ident" id="6652918">Error</span><span class="op" id="6652923">(</span><span class="ident" id="6652924"><a href="/archive/tar/tar_test.go.html#6652865">err</a></span><span class="op" id="6652927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652932">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6652943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6652947">if</span>&nbsp;<span class="ident" id="6652950"><a href="/archive/tar/tar_test.go.html#6647375">strings</a></span><span class="op" id="6652957">.</span><span class="ident" id="6652958">Contains</span><span class="op" id="6652966">(</span><span class="ident" id="6652967"><a href="/archive/tar/tar_test.go.html#6652838">fi</a></span><span class="op" id="6652969">.</span><span class="ident" id="6652970">Name</span><span class="op" id="6652974">(</span><span class="op" id="6652975">)</span><span class="op" id="6652976">,</span>&nbsp;<span class="string" id="6652978">&#34;/&#34;</span><span class="op" id="6652981">)</span>&nbsp;<span class="op" id="6652983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6652988"><a href="/archive/tar/tar_test.go.html#6650575">t</a></span><span class="op" id="6652989">.</span><span class="ident" id="6652990">Errorf</span><span class="op" id="6652996">(</span><span class="string" id="6652997">&#34;FileInfo&nbsp;of&nbsp;%q&nbsp;contains&nbsp;slash:&nbsp;%q&#34;</span><span class="op" id="6653032">,</span>&nbsp;<span class="ident" id="6653034"><a href="/archive/tar/tar_test.go.html#6652816">g</a></span><span class="op" id="6653035">.</span><span class="ident" id="6653036">h</span><span class="op" id="6653037">.</span><span class="ident" id="6653038">Name</span><span class="op" id="6653042">,</span>&nbsp;<span class="ident" id="6653044"><a href="/archive/tar/tar_test.go.html#6652838">fi</a></span><span class="op" id="6653046">.</span><span class="ident" id="6653047">Name</span><span class="op" id="6653051">(</span><span class="op" id="6653052">)</span><span class="op" id="6653053">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653061">name</span>&nbsp;<span class="op" id="6653066">:=</span>&nbsp;<span class="ident" id="6653069"><a href="/archive/tar/tar_test.go.html#6647356">path</a></span><span class="op" id="6653073">.</span><span class="ident" id="6653074">Base</span><span class="op" id="6653078">(</span><span class="ident" id="6653079"><a href="/archive/tar/tar_test.go.html#6652816">g</a></span><span class="op" id="6653080">.</span><span class="ident" id="6653081">h</span><span class="op" id="6653082">.</span><span class="ident" id="6653083">Name</span><span class="op" id="6653087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653091">if</span>&nbsp;<span class="ident" id="6653094"><a href="/archive/tar/tar_test.go.html#6652838">fi</a></span><span class="op" id="6653096">.</span><span class="ident" id="6653097">IsDir</span><span class="op" id="6653102">(</span><span class="op" id="6653103">)</span>&nbsp;<span class="op" id="6653105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653110"><a href="/archive/tar/tar_test.go.html#6653061">name</a></span>&nbsp;<span class="op" id="6653115">+=</span>&nbsp;<span class="string" id="6653118">&#34;/&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653124">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653128">if</span>&nbsp;<span class="ident" id="6653131">got</span><span class="op" id="6653134">,</span>&nbsp;<span class="ident" id="6653136">want</span>&nbsp;<span class="op" id="6653141">:=</span>&nbsp;<span class="ident" id="6653144"><a href="/archive/tar/tar_test.go.html#6652861">h2</a></span><span class="op" id="6653146">.</span><span class="ident" id="6653147">Name</span><span class="op" id="6653151">,</span>&nbsp;<span class="ident" id="6653153"><a href="/archive/tar/tar_test.go.html#6653061">name</a></span><span class="op" id="6653157">;</span>&nbsp;<span class="ident" id="6653159"><a href="/archive/tar/tar_test.go.html#6653131">got</a></span>&nbsp;<span class="op" id="6653163">!=</span>&nbsp;<span class="ident" id="6653166"><a href="/archive/tar/tar_test.go.html#6653136">want</a></span>&nbsp;<span class="op" id="6653171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653176"><a href="/archive/tar/tar_test.go.html#6650575">t</a></span><span class="op" id="6653177">.</span><span class="ident" id="6653178">Errorf</span><span class="op" id="6653184">(</span><span class="string" id="6653185">&#34;i=%d:&nbsp;Name:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6653214">,</span>&nbsp;<span class="ident" id="6653216"><a href="/archive/tar/tar_test.go.html#6652813">i</a></span><span class="op" id="6653217">,</span>&nbsp;<span class="ident" id="6653219"><a href="/archive/tar/tar_test.go.html#6653131">got</a></span><span class="op" id="6653222">,</span>&nbsp;<span class="ident" id="6653224"><a href="/archive/tar/tar_test.go.html#6653136">want</a></span><span class="op" id="6653228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653236">if</span>&nbsp;<span class="ident" id="6653239">got</span><span class="op" id="6653242">,</span>&nbsp;<span class="ident" id="6653244">want</span>&nbsp;<span class="op" id="6653249">:=</span>&nbsp;<span class="ident" id="6653252"><a href="/archive/tar/tar_test.go.html#6652861">h2</a></span><span class="op" id="6653254">.</span><span class="ident" id="6653255">Size</span><span class="op" id="6653259">,</span>&nbsp;<span class="ident" id="6653261"><a href="/archive/tar/tar_test.go.html#6652816">g</a></span><span class="op" id="6653262">.</span><span class="ident" id="6653263">h</span><span class="op" id="6653264">.</span><span class="ident" id="6653265">Size</span><span class="op" id="6653269">;</span>&nbsp;<span class="ident" id="6653271"><a href="/archive/tar/tar_test.go.html#6653239">got</a></span>&nbsp;<span class="op" id="6653275">!=</span>&nbsp;<span class="ident" id="6653278"><a href="/archive/tar/tar_test.go.html#6653244">want</a></span>&nbsp;<span class="op" id="6653283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653288"><a href="/archive/tar/tar_test.go.html#6650575">t</a></span><span class="op" id="6653289">.</span><span class="ident" id="6653290">Errorf</span><span class="op" id="6653296">(</span><span class="string" id="6653297">&#34;i=%d:&nbsp;Size:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6653326">,</span>&nbsp;<span class="ident" id="6653328"><a href="/archive/tar/tar_test.go.html#6652813">i</a></span><span class="op" id="6653329">,</span>&nbsp;<span class="ident" id="6653331"><a href="/archive/tar/tar_test.go.html#6653239">got</a></span><span class="op" id="6653334">,</span>&nbsp;<span class="ident" id="6653336"><a href="/archive/tar/tar_test.go.html#6653244">want</a></span><span class="op" id="6653340">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653348">if</span>&nbsp;<span class="ident" id="6653351">got</span><span class="op" id="6653354">,</span>&nbsp;<span class="ident" id="6653356">want</span>&nbsp;<span class="op" id="6653361">:=</span>&nbsp;<span class="ident" id="6653364"><a href="/archive/tar/tar_test.go.html#6652861">h2</a></span><span class="op" id="6653366">.</span><span class="ident" id="6653367">Mode</span><span class="op" id="6653371">,</span>&nbsp;<span class="ident" id="6653373"><a href="/archive/tar/tar_test.go.html#6652816">g</a></span><span class="op" id="6653374">.</span><span class="ident" id="6653375">h</span><span class="op" id="6653376">.</span><span class="ident" id="6653377">Mode</span><span class="op" id="6653381">;</span>&nbsp;<span class="ident" id="6653383"><a href="/archive/tar/tar_test.go.html#6653351">got</a></span>&nbsp;<span class="op" id="6653387">!=</span>&nbsp;<span class="ident" id="6653390"><a href="/archive/tar/tar_test.go.html#6653356">want</a></span>&nbsp;<span class="op" id="6653395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653400"><a href="/archive/tar/tar_test.go.html#6650575">t</a></span><span class="op" id="6653401">.</span><span class="ident" id="6653402">Errorf</span><span class="op" id="6653408">(</span><span class="string" id="6653409">&#34;i=%d:&nbsp;Mode:&nbsp;got&nbsp;%o,&nbsp;want&nbsp;%o&#34;</span><span class="op" id="6653438">,</span>&nbsp;<span class="ident" id="6653440"><a href="/archive/tar/tar_test.go.html#6652813">i</a></span><span class="op" id="6653441">,</span>&nbsp;<span class="ident" id="6653443"><a href="/archive/tar/tar_test.go.html#6653351">got</a></span><span class="op" id="6653446">,</span>&nbsp;<span class="ident" id="6653448"><a href="/archive/tar/tar_test.go.html#6653356">want</a></span><span class="op" id="6653452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653460">if</span>&nbsp;<span class="ident" id="6653463">got</span><span class="op" id="6653466">,</span>&nbsp;<span class="ident" id="6653468">want</span>&nbsp;<span class="op" id="6653473">:=</span>&nbsp;<span class="ident" id="6653476"><a href="/archive/tar/tar_test.go.html#6652838">fi</a></span><span class="op" id="6653478">.</span><span class="ident" id="6653479">Mode</span><span class="op" id="6653483">(</span><span class="op" id="6653484">)</span><span class="op" id="6653485">,</span>&nbsp;<span class="ident" id="6653487"><a href="/archive/tar/tar_test.go.html#6652816">g</a></span><span class="op" id="6653488">.</span><span class="ident" id="6653489">fm</span><span class="op" id="6653491">;</span>&nbsp;<span class="ident" id="6653493"><a href="/archive/tar/tar_test.go.html#6653463">got</a></span>&nbsp;<span class="op" id="6653497">!=</span>&nbsp;<span class="ident" id="6653500"><a href="/archive/tar/tar_test.go.html#6653468">want</a></span>&nbsp;<span class="op" id="6653505">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653510"><a href="/archive/tar/tar_test.go.html#6650575">t</a></span><span class="op" id="6653511">.</span><span class="ident" id="6653512">Errorf</span><span class="op" id="6653518">(</span><span class="string" id="6653519">&#34;i=%d:&nbsp;fi.Mode:&nbsp;got&nbsp;%o,&nbsp;want&nbsp;%o&#34;</span><span class="op" id="6653551">,</span>&nbsp;<span class="ident" id="6653553"><a href="/archive/tar/tar_test.go.html#6652813">i</a></span><span class="op" id="6653554">,</span>&nbsp;<span class="ident" id="6653556"><a href="/archive/tar/tar_test.go.html#6653463">got</a></span><span class="op" id="6653559">,</span>&nbsp;<span class="ident" id="6653561"><a href="/archive/tar/tar_test.go.html#6653468">want</a></span><span class="op" id="6653565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653569">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653573">if</span>&nbsp;<span class="ident" id="6653576">got</span><span class="op" id="6653579">,</span>&nbsp;<span class="ident" id="6653581">want</span>&nbsp;<span class="op" id="6653586">:=</span>&nbsp;<span class="ident" id="6653589"><a href="/archive/tar/tar_test.go.html#6652861">h2</a></span><span class="op" id="6653591">.</span><span class="ident" id="6653592">ModTime</span><span class="op" id="6653599">,</span>&nbsp;<span class="ident" id="6653601"><a href="/archive/tar/tar_test.go.html#6652816">g</a></span><span class="op" id="6653602">.</span><span class="ident" id="6653603">h</span><span class="op" id="6653604">.</span><span class="ident" id="6653605">ModTime</span><span class="op" id="6653612">;</span>&nbsp;<span class="ident" id="6653614"><a href="/archive/tar/tar_test.go.html#6653576">got</a></span>&nbsp;<span class="op" id="6653618">!=</span>&nbsp;<span class="ident" id="6653621"><a href="/archive/tar/tar_test.go.html#6653581">want</a></span>&nbsp;<span class="op" id="6653626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653631"><a href="/archive/tar/tar_test.go.html#6650575">t</a></span><span class="op" id="6653632">.</span><span class="ident" id="6653633">Errorf</span><span class="op" id="6653639">(</span><span class="string" id="6653640">&#34;i=%d:&nbsp;ModTime:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6653672">,</span>&nbsp;<span class="ident" id="6653674"><a href="/archive/tar/tar_test.go.html#6652813">i</a></span><span class="op" id="6653675">,</span>&nbsp;<span class="ident" id="6653677"><a href="/archive/tar/tar_test.go.html#6653576">got</a></span><span class="op" id="6653680">,</span>&nbsp;<span class="ident" id="6653682"><a href="/archive/tar/tar_test.go.html#6653581">want</a></span><span class="op" id="6653686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653690">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6653694">if</span>&nbsp;<span class="ident" id="6653697">sysh</span><span class="op" id="6653701">,</span>&nbsp;<span class="ident" id="6653703">ok</span>&nbsp;<span class="op" id="6653706">:=</span>&nbsp;<span class="ident" id="6653709"><a href="/archive/tar/tar_test.go.html#6652838">fi</a></span><span class="op" id="6653711">.</span><span class="ident" id="6653712">Sys</span><span class="op" id="6653715">(</span><span class="op" id="6653716">)</span><span class="op" id="6653717">.</span><span class="op" id="6653718">(</span><span class="op" id="6653719">*</span><span class="ident" id="6653720"><a href="/archive/tar/common.go.html#6187053">Header</a></span><span class="op" id="6653726">)</span><span class="op" id="6653727">;</span>&nbsp;<span class="op" id="6653729">!</span><span class="ident" id="6653730"><a href="/archive/tar/tar_test.go.html#6653703">ok</a></span>&nbsp;<span class="op" id="6653733">||</span>&nbsp;<span class="ident" id="6653736"><a href="/archive/tar/tar_test.go.html#6653697">sysh</a></span>&nbsp;<span class="op" id="6653741">!=</span>&nbsp;<span class="ident" id="6653744"><a href="/archive/tar/tar_test.go.html#6652816">g</a></span><span class="op" id="6653745">.</span><span class="ident" id="6653746">h</span>&nbsp;<span class="op" id="6653748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6653753"><a href="/archive/tar/tar_test.go.html#6650575">t</a></span><span class="op" id="6653754">.</span><span class="ident" id="6653755">Errorf</span><span class="op" id="6653761">(</span><span class="string" id="6653762">&#34;i=%d:&nbsp;Sys&nbsp;didn&#39;t&nbsp;return&nbsp;original&nbsp;*Header&#34;</span><span class="op" id="6653804">,</span>&nbsp;<span class="ident" id="6653806"><a href="/archive/tar/tar_test.go.html#6652813">i</a></span><span class="op" id="6653807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6653814">}</span><br>
<span class="lineno"></span><span class="op" id="6653816">}</span>
</div>
</body>
</html>
