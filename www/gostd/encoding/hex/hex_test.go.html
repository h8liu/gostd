<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html" class="current">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6482357">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6482412">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6482466">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6482517">package</span>&nbsp;<span class="ident" id="6482525">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6482530">import</span>&nbsp;<span class="op" id="6482537">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6482540">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6482549">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6482559">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6482562">type</span>&nbsp;<span class="ident" id="6482567">encDecTest</span>&nbsp;<span class="keyword" id="6482578">struct</span>&nbsp;<span class="op" id="6482585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6482588">enc</span>&nbsp;<span class="builtintype" id="6482592">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6482600">dec</span>&nbsp;<span class="op" id="6482604">[</span><span class="op" id="6482605">]</span><span class="builtintype" id="6482606">byte</span><br>
<span class="lineno">15</span><span class="op" id="6482611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6482614">var</span>&nbsp;<span class="ident" id="6482618">encDecTests</span>&nbsp;<span class="op" id="6482630">=</span>&nbsp;<span class="op" id="6482632">[</span><span class="op" id="6482633">]</span><span class="ident" id="6482634">encDecTest</span><span class="op" id="6482644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482647">{</span><span class="string" id="6482648">&#34;&#34;</span><span class="op" id="6482650">,</span>&nbsp;<span class="op" id="6482652">[</span><span class="op" id="6482653">]</span><span class="builtintype" id="6482654">byte</span><span class="op" id="6482658">{</span><span class="op" id="6482659">}</span><span class="op" id="6482660">}</span><span class="op" id="6482661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482664">{</span><span class="string" id="6482665">&#34;0001020304050607&#34;</span><span class="op" id="6482683">,</span>&nbsp;<span class="op" id="6482685">[</span><span class="op" id="6482686">]</span><span class="builtintype" id="6482687">byte</span><span class="op" id="6482691">{</span><span class="num" id="6482692">0</span><span class="op" id="6482693">,</span>&nbsp;<span class="num" id="6482695">1</span><span class="op" id="6482696">,</span>&nbsp;<span class="num" id="6482698">2</span><span class="op" id="6482699">,</span>&nbsp;<span class="num" id="6482701">3</span><span class="op" id="6482702">,</span>&nbsp;<span class="num" id="6482704">4</span><span class="op" id="6482705">,</span>&nbsp;<span class="num" id="6482707">5</span><span class="op" id="6482708">,</span>&nbsp;<span class="num" id="6482710">6</span><span class="op" id="6482711">,</span>&nbsp;<span class="num" id="6482713">7</span><span class="op" id="6482714">}</span><span class="op" id="6482715">}</span><span class="op" id="6482716">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482719">{</span><span class="string" id="6482720">&#34;08090a0b0c0d0e0f&#34;</span><span class="op" id="6482738">,</span>&nbsp;<span class="op" id="6482740">[</span><span class="op" id="6482741">]</span><span class="builtintype" id="6482742">byte</span><span class="op" id="6482746">{</span><span class="num" id="6482747">8</span><span class="op" id="6482748">,</span>&nbsp;<span class="num" id="6482750">9</span><span class="op" id="6482751">,</span>&nbsp;<span class="num" id="6482753">10</span><span class="op" id="6482755">,</span>&nbsp;<span class="num" id="6482757">11</span><span class="op" id="6482759">,</span>&nbsp;<span class="num" id="6482761">12</span><span class="op" id="6482763">,</span>&nbsp;<span class="num" id="6482765">13</span><span class="op" id="6482767">,</span>&nbsp;<span class="num" id="6482769">14</span><span class="op" id="6482771">,</span>&nbsp;<span class="num" id="6482773">15</span><span class="op" id="6482775">}</span><span class="op" id="6482776">}</span><span class="op" id="6482777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482780">{</span><span class="string" id="6482781">&#34;f0f1f2f3f4f5f6f7&#34;</span><span class="op" id="6482799">,</span>&nbsp;<span class="op" id="6482801">[</span><span class="op" id="6482802">]</span><span class="builtintype" id="6482803">byte</span><span class="op" id="6482807">{</span><span class="num" id="6482808">0xf0</span><span class="op" id="6482812">,</span>&nbsp;<span class="num" id="6482814">0xf1</span><span class="op" id="6482818">,</span>&nbsp;<span class="num" id="6482820">0xf2</span><span class="op" id="6482824">,</span>&nbsp;<span class="num" id="6482826">0xf3</span><span class="op" id="6482830">,</span>&nbsp;<span class="num" id="6482832">0xf4</span><span class="op" id="6482836">,</span>&nbsp;<span class="num" id="6482838">0xf5</span><span class="op" id="6482842">,</span>&nbsp;<span class="num" id="6482844">0xf6</span><span class="op" id="6482848">,</span>&nbsp;<span class="num" id="6482850">0xf7</span><span class="op" id="6482854">}</span><span class="op" id="6482855">}</span><span class="op" id="6482856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482859">{</span><span class="string" id="6482860">&#34;f8f9fafbfcfdfeff&#34;</span><span class="op" id="6482878">,</span>&nbsp;<span class="op" id="6482880">[</span><span class="op" id="6482881">]</span><span class="builtintype" id="6482882">byte</span><span class="op" id="6482886">{</span><span class="num" id="6482887">0xf8</span><span class="op" id="6482891">,</span>&nbsp;<span class="num" id="6482893">0xf9</span><span class="op" id="6482897">,</span>&nbsp;<span class="num" id="6482899">0xfa</span><span class="op" id="6482903">,</span>&nbsp;<span class="num" id="6482905">0xfb</span><span class="op" id="6482909">,</span>&nbsp;<span class="num" id="6482911">0xfc</span><span class="op" id="6482915">,</span>&nbsp;<span class="num" id="6482917">0xfd</span><span class="op" id="6482921">,</span>&nbsp;<span class="num" id="6482923">0xfe</span><span class="op" id="6482927">,</span>&nbsp;<span class="num" id="6482929">0xff</span><span class="op" id="6482933">}</span><span class="op" id="6482934">}</span><span class="op" id="6482935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482938">{</span><span class="string" id="6482939">&#34;67&#34;</span><span class="op" id="6482943">,</span>&nbsp;<span class="op" id="6482945">[</span><span class="op" id="6482946">]</span><span class="builtintype" id="6482947">byte</span><span class="op" id="6482951">{</span><span class="string" id="6482952">&#39;g&#39;</span><span class="op" id="6482955">}</span><span class="op" id="6482956">}</span><span class="op" id="6482957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6482960">{</span><span class="string" id="6482961">&#34;e3a1&#34;</span><span class="op" id="6482967">,</span>&nbsp;<span class="op" id="6482969">[</span><span class="op" id="6482970">]</span><span class="builtintype" id="6482971">byte</span><span class="op" id="6482975">{</span><span class="num" id="6482976">0xe3</span><span class="op" id="6482980">,</span>&nbsp;<span class="num" id="6482982">0xa1</span><span class="op" id="6482986">}</span><span class="op" id="6482987">}</span><span class="op" id="6482988">,</span><br>
<span class="lineno">25</span><span class="op" id="6482990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6482993">func</span>&nbsp;<span class="ident" id="6482998">TestEncode</span><span class="op" id="6483008">(</span><span class="ident" id="6483009">t</span>&nbsp;<span class="op" id="6483011">*</span><span class="ident" id="6483012">testing</span><span class="op" id="6483019">.</span><span class="ident" id="6483020">T</span><span class="op" id="6483021">)</span>&nbsp;<span class="op" id="6483023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6483026">for</span>&nbsp;<span class="ident" id="6483030">i</span><span class="op" id="6483031">,</span>&nbsp;<span class="ident" id="6483033">test</span>&nbsp;<span class="op" id="6483038">:=</span>&nbsp;<span class="keyword" id="6483041">range</span>&nbsp;<span class="ident" id="6483047">encDecTests</span>&nbsp;<span class="op" id="6483059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6483063">dst</span>&nbsp;<span class="op" id="6483067">:=</span>&nbsp;<span class="builtinfunc" id="6483070">make</span><span class="op" id="6483074">(</span><span class="op" id="6483075">[</span><span class="op" id="6483076">]</span><span class="builtintype" id="6483077">byte</span><span class="op" id="6483081">,</span>&nbsp;<span class="ident" id="6483083">EncodedLen</span><span class="op" id="6483093">(</span><span class="builtinfunc" id="6483094">len</span><span class="op" id="6483097">(</span><span class="ident" id="6483098">test</span><span class="op" id="6483102">.</span><span class="ident" id="6483103">dec</span><span class="op" id="6483106">)</span><span class="op" id="6483107">)</span><span class="op" id="6483108">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6483112">n</span>&nbsp;<span class="op" id="6483114">:=</span>&nbsp;<span class="ident" id="6483117">Encode</span><span class="op" id="6483123">(</span><span class="ident" id="6483124">dst</span><span class="op" id="6483127">,</span>&nbsp;<span class="ident" id="6483129">test</span><span class="op" id="6483133">.</span><span class="ident" id="6483134">dec</span><span class="op" id="6483137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6483141">if</span>&nbsp;<span class="ident" id="6483144">n</span>&nbsp;<span class="op" id="6483146">!=</span>&nbsp;<span class="builtinfunc" id="6483149">len</span><span class="op" id="6483152">(</span><span class="ident" id="6483153">dst</span><span class="op" id="6483156">)</span>&nbsp;<span class="op" id="6483158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6483163">t</span><span class="op" id="6483164">.</span><span class="ident" id="6483165">Errorf</span><span class="op" id="6483171">(</span><span class="string" id="6483172">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:&nbsp;%d&nbsp;want:&nbsp;%d&#34;</span><span class="op" id="6483213">,</span>&nbsp;<span class="ident" id="6483215">i</span><span class="op" id="6483216">,</span>&nbsp;<span class="ident" id="6483218">n</span><span class="op" id="6483219">,</span>&nbsp;<span class="builtinfunc" id="6483221">len</span><span class="op" id="6483224">(</span><span class="ident" id="6483225">dst</span><span class="op" id="6483228">)</span><span class="op" id="6483229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6483233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6483237">if</span>&nbsp;<span class="builtintype" id="6483240">string</span><span class="op" id="6483246">(</span><span class="ident" id="6483247">dst</span><span class="op" id="6483250">)</span>&nbsp;<span class="op" id="6483252">!=</span>&nbsp;<span class="ident" id="6483255">test</span><span class="op" id="6483259">.</span><span class="ident" id="6483260">enc</span>&nbsp;<span class="op" id="6483264">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6483269">t</span><span class="op" id="6483270">.</span><span class="ident" id="6483271">Errorf</span><span class="op" id="6483277">(</span><span class="string" id="6483278">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="6483303">,</span>&nbsp;<span class="ident" id="6483305">i</span><span class="op" id="6483306">,</span>&nbsp;<span class="ident" id="6483308">dst</span><span class="op" id="6483311">,</span>&nbsp;<span class="ident" id="6483313">test</span><span class="op" id="6483317">.</span><span class="ident" id="6483318">enc</span><span class="op" id="6483321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6483325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6483328">}</span><br>
<span class="lineno"></span><span class="op" id="6483330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="6483333">func</span>&nbsp;<span class="ident" id="6483338">TestDecode</span><span class="op" id="6483348">(</span><span class="ident" id="6483349">t</span>&nbsp;<span class="op" id="6483351">*</span><span class="ident" id="6483352">testing</span><span class="op" id="6483359">.</span><span class="ident" id="6483360">T</span><span class="op" id="6483361">)</span>&nbsp;<span class="op" id="6483363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6483366">//&nbsp;Case&nbsp;for&nbsp;decoding&nbsp;uppercase&nbsp;hex&nbsp;characters,&nbsp;since</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6483420">//&nbsp;Encode&nbsp;always&nbsp;uses&nbsp;lowercase.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6483454">decTests</span>&nbsp;<span class="op" id="6483463">:=</span>&nbsp;<span class="builtinfunc" id="6483466">append</span><span class="op" id="6483472">(</span><span class="ident" id="6483473">encDecTests</span><span class="op" id="6483484">,</span>&nbsp;<span class="ident" id="6483486">encDecTest</span><span class="op" id="6483496">{</span><span class="string" id="6483497">&#34;F8F9FAFBFCFDFEFF&#34;</span><span class="op" id="6483515">,</span>&nbsp;<span class="op" id="6483517">[</span><span class="op" id="6483518">]</span><span class="builtintype" id="6483519">byte</span><span class="op" id="6483523">{</span><span class="num" id="6483524">0xf8</span><span class="op" id="6483528">,</span>&nbsp;<span class="num" id="6483530">0xf9</span><span class="op" id="6483534">,</span>&nbsp;<span class="num" id="6483536">0xfa</span><span class="op" id="6483540">,</span>&nbsp;<span class="num" id="6483542">0xfb</span><span class="op" id="6483546">,</span>&nbsp;<span class="num" id="6483548">0xfc</span><span class="op" id="6483552">,</span>&nbsp;<span class="num" id="6483554">0xfd</span><span class="op" id="6483558">,</span>&nbsp;<span class="num" id="6483560">0xfe</span><span class="op" id="6483564">,</span>&nbsp;<span class="num" id="6483566">0xff</span><span class="op" id="6483570">}</span><span class="op" id="6483571">}</span><span class="op" id="6483572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6483575">for</span>&nbsp;<span class="ident" id="6483579">i</span><span class="op" id="6483580">,</span>&nbsp;<span class="ident" id="6483582">test</span>&nbsp;<span class="op" id="6483587">:=</span>&nbsp;<span class="keyword" id="6483590">range</span>&nbsp;<span class="ident" id="6483596">decTests</span>&nbsp;<span class="op" id="6483605">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6483609">dst</span>&nbsp;<span class="op" id="6483613">:=</span>&nbsp;<span class="builtinfunc" id="6483616">make</span><span class="op" id="6483620">(</span><span class="op" id="6483621">[</span><span class="op" id="6483622">]</span><span class="builtintype" id="6483623">byte</span><span class="op" id="6483627">,</span>&nbsp;<span class="ident" id="6483629">DecodedLen</span><span class="op" id="6483639">(</span><span class="builtinfunc" id="6483640">len</span><span class="op" id="6483643">(</span><span class="ident" id="6483644">test</span><span class="op" id="6483648">.</span><span class="ident" id="6483649">enc</span><span class="op" id="6483652">)</span><span class="op" id="6483653">)</span><span class="op" id="6483654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6483658">n</span><span class="op" id="6483659">,</span>&nbsp;<span class="ident" id="6483661">err</span>&nbsp;<span class="op" id="6483665">:=</span>&nbsp;<span class="ident" id="6483668">Decode</span><span class="op" id="6483674">(</span><span class="ident" id="6483675">dst</span><span class="op" id="6483678">,</span>&nbsp;<span class="op" id="6483680">[</span><span class="op" id="6483681">]</span><span class="builtintype" id="6483682">byte</span><span class="op" id="6483686">(</span><span class="ident" id="6483687">test</span><span class="op" id="6483691">.</span><span class="ident" id="6483692">enc</span><span class="op" id="6483695">)</span><span class="op" id="6483696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6483700">if</span>&nbsp;<span class="ident" id="6483703">err</span>&nbsp;<span class="op" id="6483707">!=</span>&nbsp;<span class="ident" id="6483710">nil</span>&nbsp;<span class="op" id="6483714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6483719">t</span><span class="op" id="6483720">.</span><span class="ident" id="6483721">Errorf</span><span class="op" id="6483727">(</span><span class="string" id="6483728">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:%d&nbsp;want:%d&#34;</span><span class="op" id="6483767">,</span>&nbsp;<span class="ident" id="6483769">i</span><span class="op" id="6483770">,</span>&nbsp;<span class="ident" id="6483772">n</span><span class="op" id="6483773">,</span>&nbsp;<span class="builtinfunc" id="6483775">len</span><span class="op" id="6483778">(</span><span class="ident" id="6483779">dst</span><span class="op" id="6483782">)</span><span class="op" id="6483783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6483787">}</span>&nbsp;<span class="keyword" id="6483789">else</span>&nbsp;<span class="keyword" id="6483794">if</span>&nbsp;<span class="op" id="6483797">!</span><span class="ident" id="6483798">bytes</span><span class="op" id="6483803">.</span><span class="ident" id="6483804">Equal</span><span class="op" id="6483809">(</span><span class="ident" id="6483810">dst</span><span class="op" id="6483813">,</span>&nbsp;<span class="ident" id="6483815">test</span><span class="op" id="6483819">.</span><span class="ident" id="6483820">dec</span><span class="op" id="6483823">)</span>&nbsp;<span class="op" id="6483825">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6483830">t</span><span class="op" id="6483831">.</span><span class="ident" id="6483832">Errorf</span><span class="op" id="6483838">(</span><span class="string" id="6483839">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="6483864">,</span>&nbsp;<span class="ident" id="6483866">i</span><span class="op" id="6483867">,</span>&nbsp;<span class="ident" id="6483869">dst</span><span class="op" id="6483872">,</span>&nbsp;<span class="ident" id="6483874">test</span><span class="op" id="6483878">.</span><span class="ident" id="6483879">dec</span><span class="op" id="6483882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6483886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6483889">}</span><br>
<span class="lineno"></span><span class="op" id="6483891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="6483894">func</span>&nbsp;<span class="ident" id="6483899">TestEncodeToString</span><span class="op" id="6483917">(</span><span class="ident" id="6483918">t</span>&nbsp;<span class="op" id="6483920">*</span><span class="ident" id="6483921">testing</span><span class="op" id="6483928">.</span><span class="ident" id="6483929">T</span><span class="op" id="6483930">)</span>&nbsp;<span class="op" id="6483932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6483935">for</span>&nbsp;<span class="ident" id="6483939">i</span><span class="op" id="6483940">,</span>&nbsp;<span class="ident" id="6483942">test</span>&nbsp;<span class="op" id="6483947">:=</span>&nbsp;<span class="keyword" id="6483950">range</span>&nbsp;<span class="ident" id="6483956">encDecTests</span>&nbsp;<span class="op" id="6483968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6483972">s</span>&nbsp;<span class="op" id="6483974">:=</span>&nbsp;<span class="ident" id="6483977">EncodeToString</span><span class="op" id="6483991">(</span><span class="ident" id="6483992">test</span><span class="op" id="6483996">.</span><span class="ident" id="6483997">dec</span><span class="op" id="6484000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6484004">if</span>&nbsp;<span class="ident" id="6484007">s</span>&nbsp;<span class="op" id="6484009">!=</span>&nbsp;<span class="ident" id="6484012">test</span><span class="op" id="6484016">.</span><span class="ident" id="6484017">enc</span>&nbsp;<span class="op" id="6484021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6484026">t</span><span class="op" id="6484027">.</span><span class="ident" id="6484028">Errorf</span><span class="op" id="6484034">(</span><span class="string" id="6484035">&#34;#%d&nbsp;got:%s&nbsp;want:%s&#34;</span><span class="op" id="6484055">,</span>&nbsp;<span class="ident" id="6484057">i</span><span class="op" id="6484058">,</span>&nbsp;<span class="ident" id="6484060">s</span><span class="op" id="6484061">,</span>&nbsp;<span class="ident" id="6484063">test</span><span class="op" id="6484067">.</span><span class="ident" id="6484068">enc</span><span class="op" id="6484071">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6484075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6484078">}</span><br>
<span class="lineno"></span><span class="op" id="6484080">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6484083">func</span>&nbsp;<span class="ident" id="6484088">TestDecodeString</span><span class="op" id="6484104">(</span><span class="ident" id="6484105">t</span>&nbsp;<span class="op" id="6484107">*</span><span class="ident" id="6484108">testing</span><span class="op" id="6484115">.</span><span class="ident" id="6484116">T</span><span class="op" id="6484117">)</span>&nbsp;<span class="op" id="6484119">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6484122">for</span>&nbsp;<span class="ident" id="6484126">i</span><span class="op" id="6484127">,</span>&nbsp;<span class="ident" id="6484129">test</span>&nbsp;<span class="op" id="6484134">:=</span>&nbsp;<span class="keyword" id="6484137">range</span>&nbsp;<span class="ident" id="6484143">encDecTests</span>&nbsp;<span class="op" id="6484155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6484159">dst</span><span class="op" id="6484162">,</span>&nbsp;<span class="ident" id="6484164">err</span>&nbsp;<span class="op" id="6484168">:=</span>&nbsp;<span class="ident" id="6484171">DecodeString</span><span class="op" id="6484183">(</span><span class="ident" id="6484184">test</span><span class="op" id="6484188">.</span><span class="ident" id="6484189">enc</span><span class="op" id="6484192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6484196">if</span>&nbsp;<span class="ident" id="6484199">err</span>&nbsp;<span class="op" id="6484203">!=</span>&nbsp;<span class="ident" id="6484206">nil</span>&nbsp;<span class="op" id="6484210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6484215">t</span><span class="op" id="6484216">.</span><span class="ident" id="6484217">Errorf</span><span class="op" id="6484223">(</span><span class="string" id="6484224">&#34;#%d:&nbsp;unexpected&nbsp;err&nbsp;value:&nbsp;%s&#34;</span><span class="op" id="6484255">,</span>&nbsp;<span class="ident" id="6484257">i</span><span class="op" id="6484258">,</span>&nbsp;<span class="ident" id="6484260">err</span><span class="op" id="6484263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6484268">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6484279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6484283">if</span>&nbsp;<span class="op" id="6484286">!</span><span class="ident" id="6484287">bytes</span><span class="op" id="6484292">.</span><span class="ident" id="6484293">Equal</span><span class="op" id="6484298">(</span><span class="ident" id="6484299">dst</span><span class="op" id="6484302">,</span>&nbsp;<span class="ident" id="6484304">test</span><span class="op" id="6484308">.</span><span class="ident" id="6484309">dec</span><span class="op" id="6484312">)</span>&nbsp;<span class="op" id="6484314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6484319">t</span><span class="op" id="6484320">.</span><span class="ident" id="6484321">Errorf</span><span class="op" id="6484327">(</span><span class="string" id="6484328">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;#%v&#34;</span><span class="op" id="6484353">,</span>&nbsp;<span class="ident" id="6484355">i</span><span class="op" id="6484356">,</span>&nbsp;<span class="ident" id="6484358">dst</span><span class="op" id="6484361">,</span>&nbsp;<span class="ident" id="6484363">test</span><span class="op" id="6484367">.</span><span class="ident" id="6484368">dec</span><span class="op" id="6484371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6484375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6484378">}</span><br>
<span class="lineno">75</span><span class="op" id="6484380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6484383">type</span>&nbsp;<span class="ident" id="6484388">errTest</span>&nbsp;<span class="keyword" id="6484396">struct</span>&nbsp;<span class="op" id="6484403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6484406">in</span>&nbsp;&nbsp;<span class="builtintype" id="6484410">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6484418">err</span>&nbsp;<span class="builtintype" id="6484422">string</span><br>
<span class="lineno">80</span><span class="op" id="6484429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6484432">var</span>&nbsp;<span class="ident" id="6484436">errTests</span>&nbsp;<span class="op" id="6484445">=</span>&nbsp;<span class="op" id="6484447">[</span><span class="op" id="6484448">]</span><span class="ident" id="6484449">errTest</span><span class="op" id="6484456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6484459">{</span><span class="string" id="6484460">&#34;0&#34;</span><span class="op" id="6484463">,</span>&nbsp;<span class="string" id="6484465">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="6484502">}</span><span class="op" id="6484503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6484506">{</span><span class="string" id="6484507">&#34;0g&#34;</span><span class="op" id="6484511">,</span>&nbsp;<span class="string" id="6484513">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="6484553">}</span><span class="op" id="6484554">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6484557">{</span><span class="string" id="6484558">&#34;00gg&#34;</span><span class="op" id="6484564">,</span>&nbsp;<span class="string" id="6484566">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="6484606">}</span><span class="op" id="6484607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6484610">{</span><span class="string" id="6484611">&#34;0\x01&#34;</span><span class="op" id="6484618">,</span>&nbsp;<span class="string" id="6484620">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0001&#34;</span><span class="op" id="6484656">}</span><span class="op" id="6484657">,</span><br>
<span class="lineno"></span><span class="op" id="6484659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6484662">func</span>&nbsp;<span class="ident" id="6484667">TestInvalidErr</span><span class="op" id="6484681">(</span><span class="ident" id="6484682">t</span>&nbsp;<span class="op" id="6484684">*</span><span class="ident" id="6484685">testing</span><span class="op" id="6484692">.</span><span class="ident" id="6484693">T</span><span class="op" id="6484694">)</span>&nbsp;<span class="op" id="6484696">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6484699">for</span>&nbsp;<span class="ident" id="6484703">i</span><span class="op" id="6484704">,</span>&nbsp;<span class="ident" id="6484706">test</span>&nbsp;<span class="op" id="6484711">:=</span>&nbsp;<span class="keyword" id="6484714">range</span>&nbsp;<span class="ident" id="6484720">errTests</span>&nbsp;<span class="op" id="6484729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6484733">dst</span>&nbsp;<span class="op" id="6484737">:=</span>&nbsp;<span class="builtinfunc" id="6484740">make</span><span class="op" id="6484744">(</span><span class="op" id="6484745">[</span><span class="op" id="6484746">]</span><span class="builtintype" id="6484747">byte</span><span class="op" id="6484751">,</span>&nbsp;<span class="ident" id="6484753">DecodedLen</span><span class="op" id="6484763">(</span><span class="builtinfunc" id="6484764">len</span><span class="op" id="6484767">(</span><span class="ident" id="6484768">test</span><span class="op" id="6484772">.</span><span class="ident" id="6484773">in</span><span class="op" id="6484775">)</span><span class="op" id="6484776">)</span><span class="op" id="6484777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6484781">_</span><span class="op" id="6484782">,</span>&nbsp;<span class="ident" id="6484784">err</span>&nbsp;<span class="op" id="6484788">:=</span>&nbsp;<span class="ident" id="6484791">Decode</span><span class="op" id="6484797">(</span><span class="ident" id="6484798">dst</span><span class="op" id="6484801">,</span>&nbsp;<span class="op" id="6484803">[</span><span class="op" id="6484804">]</span><span class="builtintype" id="6484805">byte</span><span class="op" id="6484809">(</span><span class="ident" id="6484810">test</span><span class="op" id="6484814">.</span><span class="ident" id="6484815">in</span><span class="op" id="6484817">)</span><span class="op" id="6484818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6484822">if</span>&nbsp;<span class="ident" id="6484825">err</span>&nbsp;<span class="op" id="6484829">==</span>&nbsp;<span class="ident" id="6484832">nil</span>&nbsp;<span class="op" id="6484836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6484841">t</span><span class="op" id="6484842">.</span><span class="ident" id="6484843">Errorf</span><span class="op" id="6484849">(</span><span class="string" id="6484850">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="6484881">,</span>&nbsp;<span class="ident" id="6484883">i</span><span class="op" id="6484884">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6484888">}</span>&nbsp;<span class="keyword" id="6484890">else</span>&nbsp;<span class="keyword" id="6484895">if</span>&nbsp;<span class="ident" id="6484898">err</span><span class="op" id="6484901">.</span><span class="ident" id="6484902">Error</span><span class="op" id="6484907">(</span><span class="op" id="6484908">)</span>&nbsp;<span class="op" id="6484910">!=</span>&nbsp;<span class="ident" id="6484913">test</span><span class="op" id="6484917">.</span><span class="ident" id="6484918">err</span>&nbsp;<span class="op" id="6484922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6484927">t</span><span class="op" id="6484928">.</span><span class="ident" id="6484929">Errorf</span><span class="op" id="6484935">(</span><span class="string" id="6484936">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="6484959">,</span>&nbsp;<span class="ident" id="6484961">i</span><span class="op" id="6484962">,</span>&nbsp;<span class="ident" id="6484964">err</span><span class="op" id="6484967">,</span>&nbsp;<span class="ident" id="6484969">test</span><span class="op" id="6484973">.</span><span class="ident" id="6484974">err</span><span class="op" id="6484977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6484981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6484984">}</span><br>
<span class="lineno"></span><span class="op" id="6484986">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="6484989">func</span>&nbsp;<span class="ident" id="6484994">TestInvalidStringErr</span><span class="op" id="6485014">(</span><span class="ident" id="6485015">t</span>&nbsp;<span class="op" id="6485017">*</span><span class="ident" id="6485018">testing</span><span class="op" id="6485025">.</span><span class="ident" id="6485026">T</span><span class="op" id="6485027">)</span>&nbsp;<span class="op" id="6485029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6485032">for</span>&nbsp;<span class="ident" id="6485036">i</span><span class="op" id="6485037">,</span>&nbsp;<span class="ident" id="6485039">test</span>&nbsp;<span class="op" id="6485044">:=</span>&nbsp;<span class="keyword" id="6485047">range</span>&nbsp;<span class="ident" id="6485053">errTests</span>&nbsp;<span class="op" id="6485062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6485066">_</span><span class="op" id="6485067">,</span>&nbsp;<span class="ident" id="6485069">err</span>&nbsp;<span class="op" id="6485073">:=</span>&nbsp;<span class="ident" id="6485076">DecodeString</span><span class="op" id="6485088">(</span><span class="ident" id="6485089">test</span><span class="op" id="6485093">.</span><span class="ident" id="6485094">in</span><span class="op" id="6485096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6485100">if</span>&nbsp;<span class="ident" id="6485103">err</span>&nbsp;<span class="op" id="6485107">==</span>&nbsp;<span class="ident" id="6485110">nil</span>&nbsp;<span class="op" id="6485114">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6485119">t</span><span class="op" id="6485120">.</span><span class="ident" id="6485121">Errorf</span><span class="op" id="6485127">(</span><span class="string" id="6485128">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="6485159">,</span>&nbsp;<span class="ident" id="6485161">i</span><span class="op" id="6485162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6485166">}</span>&nbsp;<span class="keyword" id="6485168">else</span>&nbsp;<span class="keyword" id="6485173">if</span>&nbsp;<span class="ident" id="6485176">err</span><span class="op" id="6485179">.</span><span class="ident" id="6485180">Error</span><span class="op" id="6485185">(</span><span class="op" id="6485186">)</span>&nbsp;<span class="op" id="6485188">!=</span>&nbsp;<span class="ident" id="6485191">test</span><span class="op" id="6485195">.</span><span class="ident" id="6485196">err</span>&nbsp;<span class="op" id="6485200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6485205">t</span><span class="op" id="6485206">.</span><span class="ident" id="6485207">Errorf</span><span class="op" id="6485213">(</span><span class="string" id="6485214">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="6485237">,</span>&nbsp;<span class="ident" id="6485239">i</span><span class="op" id="6485240">,</span>&nbsp;<span class="ident" id="6485242">err</span><span class="op" id="6485245">,</span>&nbsp;<span class="ident" id="6485247">test</span><span class="op" id="6485251">.</span><span class="ident" id="6485252">err</span><span class="op" id="6485255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6485259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6485262">}</span><br>
<span class="lineno">110</span><span class="op" id="6485264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6485267">func</span>&nbsp;<span class="ident" id="6485272">TestDumper</span><span class="op" id="6485282">(</span><span class="ident" id="6485283">t</span>&nbsp;<span class="op" id="6485285">*</span><span class="ident" id="6485286">testing</span><span class="op" id="6485293">.</span><span class="ident" id="6485294">T</span><span class="op" id="6485295">)</span>&nbsp;<span class="op" id="6485297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6485300">var</span>&nbsp;<span class="ident" id="6485304">in</span>&nbsp;<span class="op" id="6485307">[</span><span class="num" id="6485308">40</span><span class="op" id="6485310">]</span><span class="builtintype" id="6485311">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6485317">for</span>&nbsp;<span class="ident" id="6485321">i</span>&nbsp;<span class="op" id="6485323">:=</span>&nbsp;<span class="keyword" id="6485326">range</span>&nbsp;<span class="ident" id="6485332">in</span>&nbsp;<span class="op" id="6485335">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6485339">in</span><span class="op" id="6485341">[</span><span class="ident" id="6485342">i</span><span class="op" id="6485343">]</span>&nbsp;<span class="op" id="6485345">=</span>&nbsp;<span class="builtintype" id="6485347">byte</span><span class="op" id="6485351">(</span><span class="ident" id="6485352">i</span>&nbsp;<span class="op" id="6485354">+</span>&nbsp;<span class="num" id="6485356">30</span><span class="op" id="6485358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6485361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6485365">for</span>&nbsp;<span class="ident" id="6485369">stride</span>&nbsp;<span class="op" id="6485376">:=</span>&nbsp;<span class="num" id="6485379">1</span><span class="op" id="6485380">;</span>&nbsp;<span class="ident" id="6485382">stride</span>&nbsp;<span class="op" id="6485389">&lt;</span>&nbsp;<span class="builtinfunc" id="6485391">len</span><span class="op" id="6485394">(</span><span class="ident" id="6485395">in</span><span class="op" id="6485397">)</span><span class="op" id="6485398">;</span>&nbsp;<span class="ident" id="6485400">stride</span><span class="op" id="6485406">++</span>&nbsp;<span class="op" id="6485409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6485413">var</span>&nbsp;<span class="ident" id="6485417">out</span>&nbsp;<span class="ident" id="6485421">bytes</span><span class="op" id="6485426">.</span><span class="ident" id="6485427">Buffer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6485436">dumper</span>&nbsp;<span class="op" id="6485443">:=</span>&nbsp;<span class="ident" id="6485446">Dumper</span><span class="op" id="6485452">(</span><span class="op" id="6485453">&amp;</span><span class="ident" id="6485454">out</span><span class="op" id="6485457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6485461">done</span>&nbsp;<span class="op" id="6485466">:=</span>&nbsp;<span class="num" id="6485469">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6485473">for</span>&nbsp;<span class="ident" id="6485477">done</span>&nbsp;<span class="op" id="6485482">&lt;</span>&nbsp;<span class="builtinfunc" id="6485484">len</span><span class="op" id="6485487">(</span><span class="ident" id="6485488">in</span><span class="op" id="6485490">)</span>&nbsp;<span class="op" id="6485492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6485497">todo</span>&nbsp;<span class="op" id="6485502">:=</span>&nbsp;<span class="ident" id="6485505">done</span>&nbsp;<span class="op" id="6485510">+</span>&nbsp;<span class="ident" id="6485512">stride</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6485522">if</span>&nbsp;<span class="ident" id="6485525">todo</span>&nbsp;<span class="op" id="6485530">&gt;</span>&nbsp;<span class="builtinfunc" id="6485532">len</span><span class="op" id="6485535">(</span><span class="ident" id="6485536">in</span><span class="op" id="6485538">)</span>&nbsp;<span class="op" id="6485540">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6485546">todo</span>&nbsp;<span class="op" id="6485551">=</span>&nbsp;<span class="builtinfunc" id="6485553">len</span><span class="op" id="6485556">(</span><span class="ident" id="6485557">in</span><span class="op" id="6485559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6485564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6485569">dumper</span><span class="op" id="6485575">.</span><span class="ident" id="6485576">Write</span><span class="op" id="6485581">(</span><span class="ident" id="6485582">in</span><span class="op" id="6485584">[</span><span class="ident" id="6485585">done</span><span class="op" id="6485589">:</span><span class="ident" id="6485590">todo</span><span class="op" id="6485594">]</span><span class="op" id="6485595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6485600">done</span>&nbsp;<span class="op" id="6485605">=</span>&nbsp;<span class="ident" id="6485607">todo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6485614">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6485619">dumper</span><span class="op" id="6485625">.</span><span class="ident" id="6485626">Close</span><span class="op" id="6485631">(</span><span class="op" id="6485632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6485636">if</span>&nbsp;<span class="op" id="6485639">!</span><span class="ident" id="6485640">bytes</span><span class="op" id="6485645">.</span><span class="ident" id="6485646">Equal</span><span class="op" id="6485651">(</span><span class="ident" id="6485652">out</span><span class="op" id="6485655">.</span><span class="ident" id="6485656">Bytes</span><span class="op" id="6485661">(</span><span class="op" id="6485662">)</span><span class="op" id="6485663">,</span>&nbsp;<span class="ident" id="6485665">expectedHexDump</span><span class="op" id="6485680">)</span>&nbsp;<span class="op" id="6485682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6485687">t</span><span class="op" id="6485688">.</span><span class="ident" id="6485689">Errorf</span><span class="op" id="6485695">(</span><span class="string" id="6485696">&#34;stride:&nbsp;%d&nbsp;failed.&nbsp;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="6485736">,</span>&nbsp;<span class="ident" id="6485738">stride</span><span class="op" id="6485744">,</span>&nbsp;<span class="ident" id="6485746">out</span><span class="op" id="6485749">.</span><span class="ident" id="6485750">Bytes</span><span class="op" id="6485755">(</span><span class="op" id="6485756">)</span><span class="op" id="6485757">,</span>&nbsp;<span class="ident" id="6485759">expectedHexDump</span><span class="op" id="6485774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6485778">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6485781">}</span><br>
<span class="lineno"></span><span class="op" id="6485783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6485786">func</span>&nbsp;<span class="ident" id="6485791">TestDump</span><span class="op" id="6485799">(</span><span class="ident" id="6485800">t</span>&nbsp;<span class="op" id="6485802">*</span><span class="ident" id="6485803">testing</span><span class="op" id="6485810">.</span><span class="ident" id="6485811">T</span><span class="op" id="6485812">)</span>&nbsp;<span class="op" id="6485814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6485817">var</span>&nbsp;<span class="ident" id="6485821">in</span>&nbsp;<span class="op" id="6485824">[</span><span class="num" id="6485825">40</span><span class="op" id="6485827">]</span><span class="builtintype" id="6485828">byte</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6485834">for</span>&nbsp;<span class="ident" id="6485838">i</span>&nbsp;<span class="op" id="6485840">:=</span>&nbsp;<span class="keyword" id="6485843">range</span>&nbsp;<span class="ident" id="6485849">in</span>&nbsp;<span class="op" id="6485852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6485856">in</span><span class="op" id="6485858">[</span><span class="ident" id="6485859">i</span><span class="op" id="6485860">]</span>&nbsp;<span class="op" id="6485862">=</span>&nbsp;<span class="builtintype" id="6485864">byte</span><span class="op" id="6485868">(</span><span class="ident" id="6485869">i</span>&nbsp;<span class="op" id="6485871">+</span>&nbsp;<span class="num" id="6485873">30</span><span class="op" id="6485875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6485878">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6485882">out</span>&nbsp;<span class="op" id="6485886">:=</span>&nbsp;<span class="op" id="6485889">[</span><span class="op" id="6485890">]</span><span class="builtintype" id="6485891">byte</span><span class="op" id="6485895">(</span><span class="ident" id="6485896">Dump</span><span class="op" id="6485900">(</span><span class="ident" id="6485901">in</span><span class="op" id="6485903">[</span><span class="op" id="6485904">:</span><span class="op" id="6485905">]</span><span class="op" id="6485906">)</span><span class="op" id="6485907">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6485910">if</span>&nbsp;<span class="op" id="6485913">!</span><span class="ident" id="6485914">bytes</span><span class="op" id="6485919">.</span><span class="ident" id="6485920">Equal</span><span class="op" id="6485925">(</span><span class="ident" id="6485926">out</span><span class="op" id="6485929">,</span>&nbsp;<span class="ident" id="6485931">expectedHexDump</span><span class="op" id="6485946">)</span>&nbsp;<span class="op" id="6485948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6485952">t</span><span class="op" id="6485953">.</span><span class="ident" id="6485954">Errorf</span><span class="op" id="6485960">(</span><span class="string" id="6485961">&#34;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="6485982">,</span>&nbsp;<span class="ident" id="6485984">out</span><span class="op" id="6485987">,</span>&nbsp;<span class="ident" id="6485989">expectedHexDump</span><span class="op" id="6486004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6486007">}</span><br>
<span class="lineno"></span><span class="op" id="6486009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="6486012">var</span>&nbsp;<span class="ident" id="6486016">expectedHexDump</span>&nbsp;<span class="op" id="6486032">=</span>&nbsp;<span class="op" id="6486034">[</span><span class="op" id="6486035">]</span><span class="builtintype" id="6486036">byte</span><span class="op" id="6486040">(</span><span class="string" id="6486041">`00000000&nbsp;&nbsp;1e&nbsp;1f&nbsp;20&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;2a&nbsp;2b&nbsp;2c&nbsp;2d&nbsp;&nbsp;|..&nbsp;!&#34;#$%&amp;&#39;()*+,-|<br>
<span class="lineno"></span>00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|<br>
<span class="lineno"></span>00000020&nbsp;&nbsp;3e&nbsp;3f&nbsp;40&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&gt;?@ABCDE|<br>
<span class="lineno"></span>`</span><span class="op" id="6486272">)</span>
</div>
</body>
</html>
