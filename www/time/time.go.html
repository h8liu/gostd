<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1580192">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1580247">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1580301">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1580352">//&nbsp;Package&nbsp;time&nbsp;provides&nbsp;functionality&nbsp;for&nbsp;measuring&nbsp;and&nbsp;displaying&nbsp;time.</span><br>
<span class="lineno"></span><span class="comment" id="1580426">//</span><br>
<span class="lineno"></span><span class="comment" id="1580429">//&nbsp;The&nbsp;calendrical&nbsp;calculations&nbsp;always&nbsp;assume&nbsp;a&nbsp;Gregorian&nbsp;calendar.</span><br>
<span class="lineno"></span><span class="keyword" id="1580497">package</span>&nbsp;<span class="ident" id="1580505">time</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="1580511">import</span>&nbsp;<span class="string" id="1580518">&#34;errors&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1580528">//&nbsp;A&nbsp;Time&nbsp;represents&nbsp;an&nbsp;instant&nbsp;in&nbsp;time&nbsp;with&nbsp;nanosecond&nbsp;precision.</span><br>
<span class="lineno"></span><span class="comment" id="1580595">//</span><br>
<span class="lineno"></span><span class="comment" id="1580598">//&nbsp;Programs&nbsp;using&nbsp;times&nbsp;should&nbsp;typically&nbsp;store&nbsp;and&nbsp;pass&nbsp;them&nbsp;as&nbsp;values,</span><br>
<span class="lineno">15</span><span class="comment" id="1580670">//&nbsp;not&nbsp;pointers.&nbsp;&nbsp;That&nbsp;is,&nbsp;time&nbsp;variables&nbsp;and&nbsp;struct&nbsp;fields&nbsp;should&nbsp;be&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="1580743">//&nbsp;type&nbsp;time.Time,&nbsp;not&nbsp;*time.Time.&nbsp;&nbsp;A&nbsp;Time&nbsp;value&nbsp;can&nbsp;be&nbsp;used&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="1580807">//&nbsp;multiple&nbsp;goroutines&nbsp;simultaneously.</span><br>
<span class="lineno"></span><span class="comment" id="1580846">//</span><br>
<span class="lineno"></span><span class="comment" id="1580849">//&nbsp;Time&nbsp;instants&nbsp;can&nbsp;be&nbsp;compared&nbsp;using&nbsp;the&nbsp;Before,&nbsp;After,&nbsp;and&nbsp;Equal&nbsp;methods.</span><br>
<span class="lineno">20</span><span class="comment" id="1580926">//&nbsp;The&nbsp;Sub&nbsp;method&nbsp;subtracts&nbsp;two&nbsp;instants,&nbsp;producing&nbsp;a&nbsp;Duration.</span><br>
<span class="lineno"></span><span class="comment" id="1580990">//&nbsp;The&nbsp;Add&nbsp;method&nbsp;adds&nbsp;a&nbsp;Time&nbsp;and&nbsp;a&nbsp;Duration,&nbsp;producing&nbsp;a&nbsp;Time.</span><br>
<span class="lineno"></span><span class="comment" id="1581054">//</span><br>
<span class="lineno"></span><span class="comment" id="1581057">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;of&nbsp;type&nbsp;Time&nbsp;is&nbsp;January&nbsp;1,&nbsp;year&nbsp;1,&nbsp;00:00:00.000000000&nbsp;UTC.</span><br>
<span class="lineno"></span><span class="comment" id="1581134">//&nbsp;As&nbsp;this&nbsp;time&nbsp;is&nbsp;unlikely&nbsp;to&nbsp;come&nbsp;up&nbsp;in&nbsp;practice,&nbsp;the&nbsp;IsZero&nbsp;method&nbsp;gives</span><br>
<span class="lineno">25</span><span class="comment" id="1581210">//&nbsp;a&nbsp;simple&nbsp;way&nbsp;of&nbsp;detecting&nbsp;a&nbsp;time&nbsp;that&nbsp;has&nbsp;not&nbsp;been&nbsp;initialized&nbsp;explicitly.</span><br>
<span class="lineno"></span><span class="comment" id="1581288">//</span><br>
<span class="lineno"></span><span class="comment" id="1581291">//&nbsp;Each&nbsp;Time&nbsp;has&nbsp;associated&nbsp;with&nbsp;it&nbsp;a&nbsp;Location,&nbsp;consulted&nbsp;when&nbsp;computing&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1581368">//&nbsp;presentation&nbsp;form&nbsp;of&nbsp;the&nbsp;time,&nbsp;such&nbsp;as&nbsp;in&nbsp;the&nbsp;Format,&nbsp;Hour,&nbsp;and&nbsp;Year&nbsp;methods.</span><br>
<span class="lineno"></span><span class="comment" id="1581449">//&nbsp;The&nbsp;methods&nbsp;Local,&nbsp;UTC,&nbsp;and&nbsp;In&nbsp;return&nbsp;a&nbsp;Time&nbsp;with&nbsp;a&nbsp;specific&nbsp;location.</span><br>
<span class="lineno">30</span><span class="comment" id="1581523">//&nbsp;Changing&nbsp;the&nbsp;location&nbsp;in&nbsp;this&nbsp;way&nbsp;changes&nbsp;only&nbsp;the&nbsp;presentation;&nbsp;it&nbsp;does&nbsp;not</span><br>
<span class="lineno"></span><span class="comment" id="1581603">//&nbsp;change&nbsp;the&nbsp;instant&nbsp;in&nbsp;time&nbsp;being&nbsp;denoted&nbsp;and&nbsp;therefore&nbsp;does&nbsp;not&nbsp;affect&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1581681">//&nbsp;computations&nbsp;described&nbsp;in&nbsp;earlier&nbsp;paragraphs.</span><br>
<span class="lineno"></span><span class="comment" id="1581730">//</span><br>
<span class="lineno"></span><span class="comment" id="1581733">//&nbsp;Note&nbsp;that&nbsp;the&nbsp;Go&nbsp;==&nbsp;operator&nbsp;compares&nbsp;not&nbsp;just&nbsp;the&nbsp;time&nbsp;instant&nbsp;but&nbsp;also&nbsp;the</span><br>
<span class="lineno">35</span><span class="comment" id="1581813">//&nbsp;Location.&nbsp;Therefore,&nbsp;Time&nbsp;values&nbsp;should&nbsp;not&nbsp;be&nbsp;used&nbsp;as&nbsp;map&nbsp;or&nbsp;database&nbsp;keys</span><br>
<span class="lineno"></span><span class="comment" id="1581892">//&nbsp;without&nbsp;first&nbsp;guaranteeing&nbsp;that&nbsp;the&nbsp;identical&nbsp;Location&nbsp;has&nbsp;been&nbsp;set&nbsp;for&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="1581971">//&nbsp;values,&nbsp;which&nbsp;can&nbsp;be&nbsp;achieved&nbsp;through&nbsp;use&nbsp;of&nbsp;the&nbsp;UTC&nbsp;or&nbsp;Local&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="1582044">//</span><br>
<span class="lineno"></span><span class="keyword" id="1582047">type</span>&nbsp;<span class="ident" id="1582052">Time</span>&nbsp;<span class="keyword" id="1582057">struct</span>&nbsp;<span class="op" id="1582064">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1582067">//&nbsp;sec&nbsp;gives&nbsp;the&nbsp;number&nbsp;of&nbsp;seconds&nbsp;elapsed&nbsp;since</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1582117">//&nbsp;January&nbsp;1,&nbsp;year&nbsp;1&nbsp;00:00:00&nbsp;UTC.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1582153">sec</span>&nbsp;<span class="ident" id="1582157">int64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1582165">//&nbsp;nsec&nbsp;specifies&nbsp;a&nbsp;non-negative&nbsp;nanosecond</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1582210">//&nbsp;offset&nbsp;within&nbsp;the&nbsp;second&nbsp;named&nbsp;by&nbsp;Seconds.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1582257">//&nbsp;It&nbsp;must&nbsp;be&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;999999999].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1582301">nsec</span>&nbsp;<span class="builtintype" id="1582306">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1582314">//&nbsp;loc&nbsp;specifies&nbsp;the&nbsp;Location&nbsp;that&nbsp;should&nbsp;be&nbsp;used&nbsp;to</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1582368">//&nbsp;determine&nbsp;the&nbsp;minute,&nbsp;hour,&nbsp;month,&nbsp;day,&nbsp;and&nbsp;year</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1582421">//&nbsp;that&nbsp;correspond&nbsp;to&nbsp;this&nbsp;Time.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1582455">//&nbsp;Only&nbsp;the&nbsp;zero&nbsp;Time&nbsp;has&nbsp;a&nbsp;nil&nbsp;Location.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1582498">//&nbsp;In&nbsp;that&nbsp;case&nbsp;it&nbsp;is&nbsp;interpreted&nbsp;to&nbsp;mean&nbsp;UTC.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1582546">loc</span>&nbsp;<span class="op" id="1582550">*</span><span class="ident" id="1582551"><a href="/time/zoneinfo.go.html#1614833">Location</a></span><br>
<span class="lineno">55</span><span class="op" id="1582560">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1582563">//&nbsp;After&nbsp;reports&nbsp;whether&nbsp;the&nbsp;time&nbsp;instant&nbsp;t&nbsp;is&nbsp;after&nbsp;u.</span><br>
<span class="lineno"></span><span class="keyword" id="1582619">func</span>&nbsp;<span class="op" id="1582624">(</span><span class="ident" id="1582625">t</span>&nbsp;<span class="ident" id="1582627"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1582631">)</span>&nbsp;<span class="ident" id="1582633">After</span><span class="op" id="1582638">(</span><span class="ident" id="1582639">u</span>&nbsp;<span class="ident" id="1582641"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1582645">)</span>&nbsp;<span class="builtintype" id="1582647">bool</span>&nbsp;<span class="op" id="1582652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1582655">return</span>&nbsp;<span class="ident" id="1582662"><a href="/time/time.go.html#1582625">t</a></span><span class="op" id="1582663">.</span><span class="ident" id="1582664">sec</span>&nbsp;<span class="op" id="1582668">&gt;</span>&nbsp;<span class="ident" id="1582670"><a href="/time/time.go.html#1582639">u</a></span><span class="op" id="1582671">.</span><span class="ident" id="1582672">sec</span>&nbsp;<span class="op" id="1582676">||</span>&nbsp;<span class="ident" id="1582679"><a href="/time/time.go.html#1582625">t</a></span><span class="op" id="1582680">.</span><span class="ident" id="1582681">sec</span>&nbsp;<span class="op" id="1582685">==</span>&nbsp;<span class="ident" id="1582688"><a href="/time/time.go.html#1582639">u</a></span><span class="op" id="1582689">.</span><span class="ident" id="1582690">sec</span>&nbsp;<span class="op" id="1582694">&amp;&amp;</span>&nbsp;<span class="ident" id="1582697"><a href="/time/time.go.html#1582625">t</a></span><span class="op" id="1582698">.</span><span class="ident" id="1582699">nsec</span>&nbsp;<span class="op" id="1582704">&gt;</span>&nbsp;<span class="ident" id="1582706"><a href="/time/time.go.html#1582639">u</a></span><span class="op" id="1582707">.</span><span class="ident" id="1582708">nsec</span><br>
<span class="lineno">60</span><span class="op" id="1582713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1582716">//&nbsp;Before&nbsp;reports&nbsp;whether&nbsp;the&nbsp;time&nbsp;instant&nbsp;t&nbsp;is&nbsp;before&nbsp;u.</span><br>
<span class="lineno"></span><span class="keyword" id="1582774">func</span>&nbsp;<span class="op" id="1582779">(</span><span class="ident" id="1582780">t</span>&nbsp;<span class="ident" id="1582782"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1582786">)</span>&nbsp;<span class="ident" id="1582788">Before</span><span class="op" id="1582794">(</span><span class="ident" id="1582795">u</span>&nbsp;<span class="ident" id="1582797"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1582801">)</span>&nbsp;<span class="builtintype" id="1582803">bool</span>&nbsp;<span class="op" id="1582808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1582811">return</span>&nbsp;<span class="ident" id="1582818"><a href="/time/time.go.html#1582780">t</a></span><span class="op" id="1582819">.</span><span class="ident" id="1582820">sec</span>&nbsp;<span class="op" id="1582824">&lt;</span>&nbsp;<span class="ident" id="1582826"><a href="/time/time.go.html#1582795">u</a></span><span class="op" id="1582827">.</span><span class="ident" id="1582828">sec</span>&nbsp;<span class="op" id="1582832">||</span>&nbsp;<span class="ident" id="1582835"><a href="/time/time.go.html#1582780">t</a></span><span class="op" id="1582836">.</span><span class="ident" id="1582837">sec</span>&nbsp;<span class="op" id="1582841">==</span>&nbsp;<span class="ident" id="1582844"><a href="/time/time.go.html#1582795">u</a></span><span class="op" id="1582845">.</span><span class="ident" id="1582846">sec</span>&nbsp;<span class="op" id="1582850">&amp;&amp;</span>&nbsp;<span class="ident" id="1582853"><a href="/time/time.go.html#1582780">t</a></span><span class="op" id="1582854">.</span><span class="ident" id="1582855">nsec</span>&nbsp;<span class="op" id="1582860">&lt;</span>&nbsp;<span class="ident" id="1582862"><a href="/time/time.go.html#1582795">u</a></span><span class="op" id="1582863">.</span><span class="ident" id="1582864">nsec</span><br>
<span class="lineno">65</span><span class="op" id="1582869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1582872">//&nbsp;Equal&nbsp;reports&nbsp;whether&nbsp;t&nbsp;and&nbsp;u&nbsp;represent&nbsp;the&nbsp;same&nbsp;time&nbsp;instant.</span><br>
<span class="lineno"></span><span class="comment" id="1582938">//&nbsp;Two&nbsp;times&nbsp;can&nbsp;be&nbsp;equal&nbsp;even&nbsp;if&nbsp;they&nbsp;are&nbsp;in&nbsp;different&nbsp;locations.</span><br>
<span class="lineno"></span><span class="comment" id="1583005">//&nbsp;For&nbsp;example,&nbsp;6:00&nbsp;+0200&nbsp;CEST&nbsp;and&nbsp;4:00&nbsp;UTC&nbsp;are&nbsp;Equal.</span><br>
<span class="lineno">70</span><span class="comment" id="1583061">//&nbsp;This&nbsp;comparison&nbsp;is&nbsp;different&nbsp;from&nbsp;using&nbsp;t&nbsp;==&nbsp;u,&nbsp;which&nbsp;also&nbsp;compares</span><br>
<span class="lineno"></span><span class="comment" id="1583132">//&nbsp;the&nbsp;locations.</span><br>
<span class="lineno"></span><span class="keyword" id="1583150">func</span>&nbsp;<span class="op" id="1583155">(</span><span class="ident" id="1583156">t</span>&nbsp;<span class="ident" id="1583158"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1583162">)</span>&nbsp;<span class="ident" id="1583164">Equal</span><span class="op" id="1583169">(</span><span class="ident" id="1583170">u</span>&nbsp;<span class="ident" id="1583172"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1583176">)</span>&nbsp;<span class="builtintype" id="1583178">bool</span>&nbsp;<span class="op" id="1583183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1583186">return</span>&nbsp;<span class="ident" id="1583193"><a href="/time/time.go.html#1583156">t</a></span><span class="op" id="1583194">.</span><span class="ident" id="1583195">sec</span>&nbsp;<span class="op" id="1583199">==</span>&nbsp;<span class="ident" id="1583202"><a href="/time/time.go.html#1583170">u</a></span><span class="op" id="1583203">.</span><span class="ident" id="1583204">sec</span>&nbsp;<span class="op" id="1583208">&amp;&amp;</span>&nbsp;<span class="ident" id="1583211"><a href="/time/time.go.html#1583156">t</a></span><span class="op" id="1583212">.</span><span class="ident" id="1583213">nsec</span>&nbsp;<span class="op" id="1583218">==</span>&nbsp;<span class="ident" id="1583221"><a href="/time/time.go.html#1583170">u</a></span><span class="op" id="1583222">.</span><span class="ident" id="1583223">nsec</span><br>
<span class="lineno"></span><span class="op" id="1583228">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="1583231">//&nbsp;A&nbsp;Month&nbsp;specifies&nbsp;a&nbsp;month&nbsp;of&nbsp;the&nbsp;year&nbsp;(January&nbsp;=&nbsp;1,&nbsp;...).</span><br>
<span class="lineno"></span><span class="keyword" id="1583292">type</span>&nbsp;<span class="ident" id="1583297">Month</span>&nbsp;<span class="builtintype" id="1583303">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1583308">const</span>&nbsp;<span class="op" id="1583314">(</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583317">January</span>&nbsp;<span class="ident" id="1583325"><a href="/time/time.go.html#1583297">Month</a></span>&nbsp;<span class="op" id="1583331">=</span>&nbsp;<span class="num" id="1583333">1</span>&nbsp;<span class="op" id="1583335">+</span>&nbsp;<span class="ident" id="1583337">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583343">February</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583353">March</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583360">April</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583367">May</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583372">June</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583378">July</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583384">August</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583392">September</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583403">October</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583412">November</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583422">December</span><br>
<span class="lineno"></span><span class="op" id="1583431">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1583434">var</span>&nbsp;<span class="ident" id="1583438">months</span>&nbsp;<span class="op" id="1583445">=</span>&nbsp;<span class="op" id="1583447">[</span><span class="op" id="1583448">...</span><span class="op" id="1583451">]</span><span class="builtintype" id="1583452">string</span><span class="op" id="1583458">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583461">&#34;January&#34;</span><span class="op" id="1583470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583473">&#34;February&#34;</span><span class="op" id="1583483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583486">&#34;March&#34;</span><span class="op" id="1583493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583496">&#34;April&#34;</span><span class="op" id="1583503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583506">&#34;May&#34;</span><span class="op" id="1583511">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583514">&#34;June&#34;</span><span class="op" id="1583520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583523">&#34;July&#34;</span><span class="op" id="1583529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583532">&#34;August&#34;</span><span class="op" id="1583540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583543">&#34;September&#34;</span><span class="op" id="1583554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583557">&#34;October&#34;</span><span class="op" id="1583566">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583569">&#34;November&#34;</span><span class="op" id="1583579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583582">&#34;December&#34;</span><span class="op" id="1583592">,</span><br>
<span class="lineno"></span><span class="op" id="1583594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1583597">//&nbsp;String&nbsp;returns&nbsp;the&nbsp;English&nbsp;name&nbsp;of&nbsp;the&nbsp;month&nbsp;(&#34;January&#34;,&nbsp;&#34;February&#34;,&nbsp;...).</span><br>
<span class="lineno">110</span><span class="keyword" id="1583675">func</span>&nbsp;<span class="op" id="1583680">(</span><span class="ident" id="1583681">m</span>&nbsp;<span class="ident" id="1583683"><a href="/time/time.go.html#1583297">Month</a></span><span class="op" id="1583688">)</span>&nbsp;<span class="ident" id="1583690">String</span><span class="op" id="1583696">(</span><span class="op" id="1583697">)</span>&nbsp;<span class="builtintype" id="1583699">string</span>&nbsp;<span class="op" id="1583706">{</span>&nbsp;<span class="keyword" id="1583708">return</span>&nbsp;<span class="ident" id="1583715"><a href="/time/time.go.html#1583438">months</a></span><span class="op" id="1583721">[</span><span class="ident" id="1583722"><a href="/time/time.go.html#1583681">m</a></span><span class="op" id="1583723">-</span><span class="num" id="1583724">1</span><span class="op" id="1583725">]</span>&nbsp;<span class="op" id="1583727">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1583730">//&nbsp;A&nbsp;Weekday&nbsp;specifies&nbsp;a&nbsp;day&nbsp;of&nbsp;the&nbsp;week&nbsp;(Sunday&nbsp;=&nbsp;0,&nbsp;...).</span><br>
<span class="lineno"></span><span class="keyword" id="1583790">type</span>&nbsp;<span class="ident" id="1583795">Weekday</span>&nbsp;<span class="builtintype" id="1583803">int</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="keyword" id="1583808">const</span>&nbsp;<span class="op" id="1583814">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583817">Sunday</span>&nbsp;<span class="ident" id="1583824"><a href="/time/time.go.html#1583795">Weekday</a></span>&nbsp;<span class="op" id="1583832">=</span>&nbsp;<span class="ident" id="1583834">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583840">Monday</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583848">Tuesday</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583857">Wednesday</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583868">Thursday</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583878">Friday</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1583886">Saturday</span><br>
<span class="lineno"></span><span class="op" id="1583895">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="1583898">var</span>&nbsp;<span class="ident" id="1583902">days</span>&nbsp;<span class="op" id="1583907">=</span>&nbsp;<span class="op" id="1583909">[</span><span class="op" id="1583910">...</span><span class="op" id="1583913">]</span><span class="builtintype" id="1583914">string</span><span class="op" id="1583920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583923">&#34;Sunday&#34;</span><span class="op" id="1583931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583934">&#34;Monday&#34;</span><span class="op" id="1583942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583945">&#34;Tuesday&#34;</span><span class="op" id="1583954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583957">&#34;Wednesday&#34;</span><span class="op" id="1583968">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583971">&#34;Thursday&#34;</span><span class="op" id="1583981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583984">&#34;Friday&#34;</span><span class="op" id="1583992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1583995">&#34;Saturday&#34;</span><span class="op" id="1584005">,</span><br>
<span class="lineno"></span><span class="op" id="1584007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="1584010">//&nbsp;String&nbsp;returns&nbsp;the&nbsp;English&nbsp;name&nbsp;of&nbsp;the&nbsp;day&nbsp;(&#34;Sunday&#34;,&nbsp;&#34;Monday&#34;,&nbsp;...).</span><br>
<span class="lineno"></span><span class="keyword" id="1584083">func</span>&nbsp;<span class="op" id="1584088">(</span><span class="ident" id="1584089">d</span>&nbsp;<span class="ident" id="1584091"><a href="/time/time.go.html#1583795">Weekday</a></span><span class="op" id="1584098">)</span>&nbsp;<span class="ident" id="1584100">String</span><span class="op" id="1584106">(</span><span class="op" id="1584107">)</span>&nbsp;<span class="builtintype" id="1584109">string</span>&nbsp;<span class="op" id="1584116">{</span>&nbsp;<span class="keyword" id="1584118">return</span>&nbsp;<span class="ident" id="1584125"><a href="/time/time.go.html#1583902">days</a></span><span class="op" id="1584129">[</span><span class="ident" id="1584130"><a href="/time/time.go.html#1584089">d</a></span><span class="op" id="1584131">]</span>&nbsp;<span class="op" id="1584133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1584136">//&nbsp;Computations&nbsp;on&nbsp;time.</span><br>
<span class="lineno"></span><span class="comment" id="1584161">//</span><br>
<span class="lineno">140</span><span class="comment" id="1584164">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;a&nbsp;Time&nbsp;is&nbsp;defined&nbsp;to&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="1584210">//&nbsp;&nbsp;&nbsp;&nbspJanuary&nbsp;1,&nbsp;year&nbsp;1,&nbsp;00:00:00.000000000&nbsp;UTC</span><br>
<span class="lineno"></span><span class="comment" id="1584255">//&nbsp;which&nbsp;(1)&nbsp;looks&nbsp;like&nbsp;a&nbsp;zero,&nbsp;or&nbsp;as&nbsp;close&nbsp;as&nbsp;you&nbsp;can&nbsp;get&nbsp;in&nbsp;a&nbsp;date</span><br>
<span class="lineno"></span><span class="comment" id="1584324">//&nbsp;(1-1-1&nbsp;00:00:00&nbsp;UTC),&nbsp;(2)&nbsp;is&nbsp;unlikely&nbsp;enough&nbsp;to&nbsp;arise&nbsp;in&nbsp;practice&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="1584396">//&nbsp;be&nbsp;a&nbsp;suitable&nbsp;&#34;not&nbsp;set&#34;&nbsp;sentinel,&nbsp;unlike&nbsp;Jan&nbsp;1&nbsp;1970,&nbsp;and&nbsp;(3)&nbsp;has&nbsp;a</span><br>
<span class="lineno">145</span><span class="comment" id="1584466">//&nbsp;non-negative&nbsp;year&nbsp;even&nbsp;in&nbsp;time&nbsp;zones&nbsp;west&nbsp;of&nbsp;UTC,&nbsp;unlike&nbsp;1-1-0</span><br>
<span class="lineno"></span><span class="comment" id="1584532">//&nbsp;00:00:00&nbsp;UTC,&nbsp;which&nbsp;would&nbsp;be&nbsp;12-31-(-1)&nbsp;19:00:00&nbsp;in&nbsp;New&nbsp;York.</span><br>
<span class="lineno"></span><span class="comment" id="1584597">//</span><br>
<span class="lineno"></span><span class="comment" id="1584600">//&nbsp;The&nbsp;zero&nbsp;Time&nbsp;value&nbsp;does&nbsp;not&nbsp;force&nbsp;a&nbsp;specific&nbsp;epoch&nbsp;for&nbsp;the&nbsp;time</span><br>
<span class="lineno"></span><span class="comment" id="1584668">//&nbsp;representation.&nbsp;&nbsp;For&nbsp;example,&nbsp;to&nbsp;use&nbsp;the&nbsp;Unix&nbsp;epoch&nbsp;internally,&nbsp;we</span><br>
<span class="lineno">150</span><span class="comment" id="1584738">//&nbsp;could&nbsp;define&nbsp;that&nbsp;to&nbsp;distinguish&nbsp;a&nbsp;zero&nbsp;value&nbsp;from&nbsp;Jan&nbsp;1&nbsp;1970,&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="1584809">//&nbsp;time&nbsp;would&nbsp;be&nbsp;represented&nbsp;by&nbsp;sec=-1,&nbsp;nsec=1e9.&nbsp;&nbsp;However,&nbsp;it&nbsp;does</span><br>
<span class="lineno"></span><span class="comment" id="1584877">//&nbsp;suggest&nbsp;a&nbsp;representation,&nbsp;namely&nbsp;using&nbsp;1-1-1&nbsp;00:00:00&nbsp;UTC&nbsp;as&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1584945">//&nbsp;epoch,&nbsp;and&nbsp;that&#39;s&nbsp;what&nbsp;we&nbsp;do.</span><br>
<span class="lineno"></span><span class="comment" id="1584978">//</span><br>
<span class="lineno">155</span><span class="comment" id="1584981">//&nbsp;The&nbsp;Add&nbsp;and&nbsp;Sub&nbsp;computations&nbsp;are&nbsp;oblivious&nbsp;to&nbsp;the&nbsp;choice&nbsp;of&nbsp;epoch.</span><br>
<span class="lineno"></span><span class="comment" id="1585051">//</span><br>
<span class="lineno"></span><span class="comment" id="1585054">//&nbsp;The&nbsp;presentation&nbsp;computations&nbsp;-&nbsp;year,&nbsp;month,&nbsp;minute,&nbsp;and&nbsp;so&nbsp;on&nbsp;-&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="1585126">//&nbsp;rely&nbsp;heavily&nbsp;on&nbsp;division&nbsp;and&nbsp;modulus&nbsp;by&nbsp;positive&nbsp;constants.&nbsp;&nbsp;For</span><br>
<span class="lineno"></span><span class="comment" id="1585194">//&nbsp;calendrical&nbsp;calculations&nbsp;we&nbsp;want&nbsp;these&nbsp;divisions&nbsp;to&nbsp;round&nbsp;down,&nbsp;even</span><br>
<span class="lineno">160</span><span class="comment" id="1585266">//&nbsp;for&nbsp;negative&nbsp;values,&nbsp;so&nbsp;that&nbsp;the&nbsp;remainder&nbsp;is&nbsp;always&nbsp;positive,&nbsp;but</span><br>
<span class="lineno"></span><span class="comment" id="1585336">//&nbsp;Go&#39;s&nbsp;division&nbsp;(like&nbsp;most&nbsp;hardware&nbsp;division&nbsp;instructions)&nbsp;rounds&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="1585406">//&nbsp;zero.&nbsp;&nbsp;We&nbsp;can&nbsp;still&nbsp;do&nbsp;those&nbsp;computations&nbsp;and&nbsp;then&nbsp;adjust&nbsp;the&nbsp;result</span><br>
<span class="lineno"></span><span class="comment" id="1585478">//&nbsp;for&nbsp;a&nbsp;negative&nbsp;numerator,&nbsp;but&nbsp;it&#39;s&nbsp;annoying&nbsp;to&nbsp;write&nbsp;the&nbsp;adjustment</span><br>
<span class="lineno"></span><span class="comment" id="1585549">//&nbsp;over&nbsp;and&nbsp;over.&nbsp;&nbsp;Instead,&nbsp;we&nbsp;can&nbsp;change&nbsp;to&nbsp;a&nbsp;different&nbsp;epoch&nbsp;so&nbsp;long</span><br>
<span class="lineno">165</span><span class="comment" id="1585620">//&nbsp;ago&nbsp;that&nbsp;all&nbsp;the&nbsp;times&nbsp;we&nbsp;care&nbsp;about&nbsp;will&nbsp;be&nbsp;positive,&nbsp;and&nbsp;then&nbsp;round</span><br>
<span class="lineno"></span><span class="comment" id="1585693">//&nbsp;to&nbsp;zero&nbsp;and&nbsp;round&nbsp;down&nbsp;coincide.&nbsp;&nbsp;These&nbsp;presentation&nbsp;routines&nbsp;already</span><br>
<span class="lineno"></span><span class="comment" id="1585766">//&nbsp;have&nbsp;to&nbsp;add&nbsp;the&nbsp;zone&nbsp;offset,&nbsp;so&nbsp;adding&nbsp;the&nbsp;translation&nbsp;to&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1585831">//&nbsp;alternate&nbsp;epoch&nbsp;is&nbsp;cheap.&nbsp;&nbsp;For&nbsp;example,&nbsp;having&nbsp;a&nbsp;non-negative&nbsp;time&nbsp;t</span><br>
<span class="lineno"></span><span class="comment" id="1585903">//&nbsp;means&nbsp;that&nbsp;we&nbsp;can&nbsp;write</span><br>
<span class="lineno">170</span><span class="comment" id="1585930">//</span><br>
<span class="lineno"></span><span class="comment" id="1585933">//&nbsp;&nbsp;&nbsp;&nbspsec&nbsp;=&nbsp;t&nbsp;%&nbsp;60</span><br>
<span class="lineno"></span><span class="comment" id="1585949">//</span><br>
<span class="lineno"></span><span class="comment" id="1585952">//&nbsp;instead&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="1585966">//</span><br>
<span class="lineno">175</span><span class="comment" id="1585969">//&nbsp;&nbsp;&nbsp;&nbspsec&nbsp;=&nbsp;t&nbsp;%&nbsp;60</span><br>
<span class="lineno"></span><span class="comment" id="1585985">//&nbsp;&nbsp;&nbsp;&nbspif&nbsp;sec&nbsp;&lt;&nbsp;0&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="1586001">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspsec&nbsp;+=&nbsp;60</span><br>
<span class="lineno"></span><span class="comment" id="1586015">//&nbsp;&nbsp;&nbsp;&nbsp}</span><br>
<span class="lineno"></span><span class="comment" id="1586020">//</span><br>
<span class="lineno">180</span><span class="comment" id="1586023">//&nbsp;everywhere.</span><br>
<span class="lineno"></span><span class="comment" id="1586038">//</span><br>
<span class="lineno"></span><span class="comment" id="1586041">//&nbsp;The&nbsp;calendar&nbsp;runs&nbsp;on&nbsp;an&nbsp;exact&nbsp;400&nbsp;year&nbsp;cycle:&nbsp;a&nbsp;400-year&nbsp;calendar</span><br>
<span class="lineno"></span><span class="comment" id="1586110">//&nbsp;printed&nbsp;for&nbsp;1970-2469&nbsp;will&nbsp;apply&nbsp;as&nbsp;well&nbsp;to&nbsp;2470-2869.&nbsp;&nbsp;Even&nbsp;the&nbsp;days</span><br>
<span class="lineno"></span><span class="comment" id="1586183">//&nbsp;of&nbsp;the&nbsp;week&nbsp;match&nbsp;up.&nbsp;&nbsp;It&nbsp;simplifies&nbsp;the&nbsp;computations&nbsp;to&nbsp;choose&nbsp;the</span><br>
<span class="lineno">185</span><span class="comment" id="1586254">//&nbsp;cycle&nbsp;boundaries&nbsp;so&nbsp;that&nbsp;the&nbsp;exceptional&nbsp;years&nbsp;are&nbsp;always&nbsp;delayed&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="1586326">//&nbsp;long&nbsp;as&nbsp;possible.&nbsp;&nbsp;That&nbsp;means&nbsp;choosing&nbsp;a&nbsp;year&nbsp;equal&nbsp;to&nbsp;1&nbsp;mod&nbsp;400,&nbsp;so</span><br>
<span class="lineno"></span><span class="comment" id="1586398">//&nbsp;that&nbsp;the&nbsp;first&nbsp;leap&nbsp;year&nbsp;is&nbsp;the&nbsp;4th&nbsp;year,&nbsp;the&nbsp;first&nbsp;missed&nbsp;leap&nbsp;year</span><br>
<span class="lineno"></span><span class="comment" id="1586470">//&nbsp;is&nbsp;the&nbsp;100th&nbsp;year,&nbsp;and&nbsp;the&nbsp;missed&nbsp;missed&nbsp;leap&nbsp;year&nbsp;is&nbsp;the&nbsp;400th&nbsp;year.</span><br>
<span class="lineno"></span><span class="comment" id="1586543">//&nbsp;So&nbsp;we&#39;d&nbsp;prefer&nbsp;instead&nbsp;to&nbsp;print&nbsp;a&nbsp;calendar&nbsp;for&nbsp;2001-2400&nbsp;and&nbsp;reuse&nbsp;it</span><br>
<span class="lineno">190</span><span class="comment" id="1586616">//&nbsp;for&nbsp;2401-2800.</span><br>
<span class="lineno"></span><span class="comment" id="1586634">//</span><br>
<span class="lineno"></span><span class="comment" id="1586637">//&nbsp;Finally,&nbsp;it&#39;s&nbsp;convenient&nbsp;if&nbsp;the&nbsp;delta&nbsp;between&nbsp;the&nbsp;Unix&nbsp;epoch&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="1586705">//&nbsp;long-ago&nbsp;epoch&nbsp;is&nbsp;representable&nbsp;by&nbsp;an&nbsp;int64&nbsp;constant.</span><br>
<span class="lineno"></span><span class="comment" id="1586762">//</span><br>
<span class="lineno">195</span><span class="comment" id="1586765">//&nbsp;These&nbsp;three&nbsp;considerations—choose&nbsp;an&nbsp;epoch&nbsp;as&nbsp;early&nbsp;as&nbsp;possible,&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="1586840">//&nbsp;uses&nbsp;a&nbsp;year&nbsp;equal&nbsp;to&nbsp;1&nbsp;mod&nbsp;400,&nbsp;and&nbsp;that&nbsp;is&nbsp;no&nbsp;more&nbsp;than&nbsp;2⁶³&nbsp;seconds</span><br>
<span class="lineno"></span><span class="comment" id="1586915">//&nbsp;earlier&nbsp;than&nbsp;1970—bring&nbsp;us&nbsp;to&nbsp;the&nbsp;year&nbsp;-292277022399.&nbsp;&nbsp;We&nbsp;refer&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="1586987">//&nbsp;this&nbsp;year&nbsp;as&nbsp;the&nbsp;absolute&nbsp;zero&nbsp;year,&nbsp;and&nbsp;to&nbsp;times&nbsp;measured&nbsp;as&nbsp;a&nbsp;uint64</span><br>
<span class="lineno"></span><span class="comment" id="1587061">//&nbsp;seconds&nbsp;since&nbsp;this&nbsp;year&nbsp;as&nbsp;absolute&nbsp;times.</span><br>
<span class="lineno">200</span><span class="comment" id="1587107">//</span><br>
<span class="lineno"></span><span class="comment" id="1587110">//&nbsp;Times&nbsp;measured&nbsp;as&nbsp;an&nbsp;int64&nbsp;seconds&nbsp;since&nbsp;the&nbsp;year&nbsp;1—the&nbsp;representation</span><br>
<span class="lineno"></span><span class="comment" id="1587186">//&nbsp;used&nbsp;for&nbsp;Time&#39;s&nbsp;sec&nbsp;field—are&nbsp;called&nbsp;internal&nbsp;times.</span><br>
<span class="lineno"></span><span class="comment" id="1587244">//</span><br>
<span class="lineno"></span><span class="comment" id="1587247">//&nbsp;Times&nbsp;measured&nbsp;as&nbsp;an&nbsp;int64&nbsp;seconds&nbsp;since&nbsp;the&nbsp;year&nbsp;1970&nbsp;are&nbsp;called&nbsp;Unix</span><br>
<span class="lineno">205</span><span class="comment" id="1587321">//&nbsp;times.</span><br>
<span class="lineno"></span><span class="comment" id="1587331">//</span><br>
<span class="lineno"></span><span class="comment" id="1587334">//&nbsp;It&nbsp;is&nbsp;tempting&nbsp;to&nbsp;just&nbsp;use&nbsp;the&nbsp;year&nbsp;1&nbsp;as&nbsp;the&nbsp;absolute&nbsp;epoch,&nbsp;defining</span><br>
<span class="lineno"></span><span class="comment" id="1587407">//&nbsp;that&nbsp;the&nbsp;routines&nbsp;are&nbsp;only&nbsp;valid&nbsp;for&nbsp;years&nbsp;&gt;=&nbsp;1.&nbsp;&nbsp;However,&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1587473">//&nbsp;routines&nbsp;would&nbsp;then&nbsp;be&nbsp;invalid&nbsp;when&nbsp;displaying&nbsp;the&nbsp;epoch&nbsp;in&nbsp;time&nbsp;zones</span><br>
<span class="lineno">210</span><span class="comment" id="1587547">//&nbsp;west&nbsp;of&nbsp;UTC,&nbsp;since&nbsp;it&nbsp;is&nbsp;year&nbsp;0.&nbsp;&nbsp;It&nbsp;doesn&#39;t&nbsp;seem&nbsp;tenable&nbsp;to&nbsp;say&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="1587620">//&nbsp;printing&nbsp;the&nbsp;zero&nbsp;time&nbsp;correctly&nbsp;isn&#39;t&nbsp;supported&nbsp;in&nbsp;half&nbsp;the&nbsp;time</span><br>
<span class="lineno"></span><span class="comment" id="1587689">//&nbsp;zones.&nbsp;&nbsp;By&nbsp;comparison,&nbsp;it&#39;s&nbsp;reasonable&nbsp;to&nbsp;mishandle&nbsp;some&nbsp;times&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="1587758">//&nbsp;the&nbsp;year&nbsp;-292277022399.</span><br>
<span class="lineno"></span><span class="comment" id="1587785">//</span><br>
<span class="lineno">215</span><span class="comment" id="1587788">//&nbsp;All&nbsp;this&nbsp;is&nbsp;opaque&nbsp;to&nbsp;clients&nbsp;of&nbsp;the&nbsp;API&nbsp;and&nbsp;can&nbsp;be&nbsp;changed&nbsp;if&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="1587856">//&nbsp;better&nbsp;implementation&nbsp;presents&nbsp;itself.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1587899">const</span>&nbsp;<span class="op" id="1587905">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1587908">//&nbsp;The&nbsp;unsigned&nbsp;zero&nbsp;year&nbsp;for&nbsp;internal&nbsp;calculations.</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1587962">//&nbsp;Must&nbsp;be&nbsp;1&nbsp;mod&nbsp;400,&nbsp;and&nbsp;times&nbsp;before&nbsp;it&nbsp;will&nbsp;not&nbsp;compute&nbsp;correctly,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1588033">//&nbsp;but&nbsp;otherwise&nbsp;can&nbsp;be&nbsp;changed&nbsp;at&nbsp;will.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588075">absoluteZeroYear</span>&nbsp;<span class="op" id="1588092">=</span>&nbsp;<span class="op" id="1588094">-</span><span class="num" id="1588095">292277022399</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1588110">//&nbsp;The&nbsp;year&nbsp;of&nbsp;the&nbsp;zero&nbsp;Time.</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1588141">//&nbsp;Assumed&nbsp;by&nbsp;the&nbsp;unixToInternal&nbsp;computation&nbsp;below.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588194">internalYear</span>&nbsp;<span class="op" id="1588207">=</span>&nbsp;<span class="num" id="1588209">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1588213">//&nbsp;The&nbsp;year&nbsp;of&nbsp;the&nbsp;zero&nbsp;Unix&nbsp;time.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588249">unixYear</span>&nbsp;<span class="op" id="1588258">=</span>&nbsp;<span class="num" id="1588260">1970</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1588267">//&nbsp;Offsets&nbsp;to&nbsp;convert&nbsp;between&nbsp;internal&nbsp;and&nbsp;absolute&nbsp;or&nbsp;Unix&nbsp;times.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588335">absoluteToInternal</span>&nbsp;<span class="ident" id="1588354">int64</span>&nbsp;<span class="op" id="1588360">=</span>&nbsp;<span class="op" id="1588362">(</span><span class="ident" id="1588363"><a href="/time/time.go.html#1588075">absoluteZeroYear</a></span>&nbsp;<span class="op" id="1588380">-</span>&nbsp;<span class="ident" id="1588382"><a href="/time/time.go.html#1588194">internalYear</a></span><span class="op" id="1588394">)</span>&nbsp;<span class="op" id="1588396">*</span>&nbsp;<span class="num" id="1588398">365.2425</span>&nbsp;<span class="op" id="1588407">*</span>&nbsp;<span class="ident" id="1588409"><a href="/time/time.go.html#1600155">secondsPerDay</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588424">internalToAbsolute</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1588449">=</span>&nbsp;<span class="op" id="1588451">-</span><span class="ident" id="1588452"><a href="/time/time.go.html#1588335">absoluteToInternal</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588473">unixToInternal</span>&nbsp;<span class="ident" id="1588488">int64</span>&nbsp;<span class="op" id="1588494">=</span>&nbsp;<span class="op" id="1588496">(</span><span class="num" id="1588497">1969</span><span class="op" id="1588501">*</span><span class="num" id="1588502">365</span>&nbsp;<span class="op" id="1588506">+</span>&nbsp;<span class="num" id="1588508">1969</span><span class="op" id="1588512">/</span><span class="num" id="1588513">4</span>&nbsp;<span class="op" id="1588515">-</span>&nbsp;<span class="num" id="1588517">1969</span><span class="op" id="1588521">/</span><span class="num" id="1588522">100</span>&nbsp;<span class="op" id="1588526">+</span>&nbsp;<span class="num" id="1588528">1969</span><span class="op" id="1588532">/</span><span class="num" id="1588533">400</span><span class="op" id="1588536">)</span>&nbsp;<span class="op" id="1588538">*</span>&nbsp;<span class="ident" id="1588540"><a href="/time/time.go.html#1600155">secondsPerDay</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588555">internalToUnix</span>&nbsp;<span class="ident" id="1588570">int64</span>&nbsp;<span class="op" id="1588576">=</span>&nbsp;<span class="op" id="1588578">-</span><span class="ident" id="1588579"><a href="/time/time.go.html#1588473">unixToInternal</a></span><br>
<span class="lineno"></span><span class="op" id="1588594">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1588597">//&nbsp;IsZero&nbsp;reports&nbsp;whether&nbsp;t&nbsp;represents&nbsp;the&nbsp;zero&nbsp;time&nbsp;instant,</span><br>
<span class="lineno">240</span><span class="comment" id="1588659">//&nbsp;January&nbsp;1,&nbsp;year&nbsp;1,&nbsp;00:00:00&nbsp;UTC.</span><br>
<span class="lineno"></span><span class="keyword" id="1588695">func</span>&nbsp;<span class="op" id="1588700">(</span><span class="ident" id="1588701">t</span>&nbsp;<span class="ident" id="1588703"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1588707">)</span>&nbsp;<span class="ident" id="1588709">IsZero</span><span class="op" id="1588715">(</span><span class="op" id="1588716">)</span>&nbsp;<span class="builtintype" id="1588718">bool</span>&nbsp;<span class="op" id="1588723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588726">return</span>&nbsp;<span class="ident" id="1588733"><a href="/time/time.go.html#1588701">t</a></span><span class="op" id="1588734">.</span><span class="ident" id="1588735">sec</span>&nbsp;<span class="op" id="1588739">==</span>&nbsp;<span class="num" id="1588742">0</span>&nbsp;<span class="op" id="1588744">&amp;&amp;</span>&nbsp;<span class="ident" id="1588747"><a href="/time/time.go.html#1588701">t</a></span><span class="op" id="1588748">.</span><span class="ident" id="1588749">nsec</span>&nbsp;<span class="op" id="1588754">==</span>&nbsp;<span class="num" id="1588757">0</span><br>
<span class="lineno"></span><span class="op" id="1588759">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="1588762">//&nbsp;abs&nbsp;returns&nbsp;the&nbsp;time&nbsp;t&nbsp;as&nbsp;an&nbsp;absolute&nbsp;time,&nbsp;adjusted&nbsp;by&nbsp;the&nbsp;zone&nbsp;offset.</span><br>
<span class="lineno"></span><span class="comment" id="1588838">//&nbsp;It&nbsp;is&nbsp;called&nbsp;when&nbsp;computing&nbsp;a&nbsp;presentation&nbsp;property&nbsp;like&nbsp;Month&nbsp;or&nbsp;Hour.</span><br>
<span class="lineno"></span><span class="keyword" id="1588913">func</span>&nbsp;<span class="op" id="1588918">(</span><span class="ident" id="1588919">t</span>&nbsp;<span class="ident" id="1588921"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1588925">)</span>&nbsp;<span class="ident" id="1588927">abs</span><span class="op" id="1588930">(</span><span class="op" id="1588931">)</span>&nbsp;<span class="ident" id="1588933">uint64</span>&nbsp;<span class="op" id="1588940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1588943">l</span>&nbsp;<span class="op" id="1588945">:=</span>&nbsp;<span class="ident" id="1588948"><a href="/time/time.go.html#1588919">t</a></span><span class="op" id="1588949">.</span><span class="ident" id="1588950">loc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1588955">//&nbsp;Avoid&nbsp;function&nbsp;calls&nbsp;when&nbsp;possible.</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1588995">if</span>&nbsp;<span class="ident" id="1588998"><a href="/time/time.go.html#1588943">l</a></span>&nbsp;<span class="op" id="1589000">==</span>&nbsp;<span class="ident" id="1589003">nil</span>&nbsp;<span class="op" id="1589007">||</span>&nbsp;<span class="ident" id="1589010"><a href="/time/time.go.html#1588943">l</a></span>&nbsp;<span class="op" id="1589012">==</span>&nbsp;<span class="op" id="1589015">&amp;</span><span class="ident" id="1589016"><a href="/time/zoneinfo.go.html#1616473">localLoc</a></span>&nbsp;<span class="op" id="1589025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589029"><a href="/time/time.go.html#1588943">l</a></span>&nbsp;<span class="op" id="1589031">=</span>&nbsp;<span class="ident" id="1589033"><a href="/time/time.go.html#1588943">l</a></span><span class="op" id="1589034">.</span><span class="ident" id="1589035">get</span><span class="op" id="1589038">(</span><span class="op" id="1589039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1589042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589045">sec</span>&nbsp;<span class="op" id="1589049">:=</span>&nbsp;<span class="ident" id="1589052"><a href="/time/time.go.html#1588919">t</a></span><span class="op" id="1589053">.</span><span class="ident" id="1589054">sec</span>&nbsp;<span class="op" id="1589058">+</span>&nbsp;<span class="ident" id="1589060"><a href="/time/time.go.html#1588555">internalToUnix</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589076">if</span>&nbsp;<span class="ident" id="1589079"><a href="/time/time.go.html#1588943">l</a></span>&nbsp;<span class="op" id="1589081">!=</span>&nbsp;<span class="op" id="1589084">&amp;</span><span class="ident" id="1589085"><a href="/time/zoneinfo.go.html#1616255">utcLoc</a></span>&nbsp;<span class="op" id="1589092">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589096">if</span>&nbsp;<span class="ident" id="1589099"><a href="/time/time.go.html#1588943">l</a></span><span class="op" id="1589100">.</span><span class="ident" id="1589101">cacheZone</span>&nbsp;<span class="op" id="1589111">!=</span>&nbsp;<span class="ident" id="1589114">nil</span>&nbsp;<span class="op" id="1589118">&amp;&amp;</span>&nbsp;<span class="ident" id="1589121"><a href="/time/time.go.html#1588943">l</a></span><span class="op" id="1589122">.</span><span class="ident" id="1589123">cacheStart</span>&nbsp;<span class="op" id="1589134">&lt;=</span>&nbsp;<span class="ident" id="1589137"><a href="/time/time.go.html#1589045">sec</a></span>&nbsp;<span class="op" id="1589141">&amp;&amp;</span>&nbsp;<span class="ident" id="1589144"><a href="/time/time.go.html#1589045">sec</a></span>&nbsp;<span class="op" id="1589148">&lt;</span>&nbsp;<span class="ident" id="1589150"><a href="/time/time.go.html#1588943">l</a></span><span class="op" id="1589151">.</span><span class="ident" id="1589152">cacheEnd</span>&nbsp;<span class="op" id="1589161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589166"><a href="/time/time.go.html#1589045">sec</a></span>&nbsp;<span class="op" id="1589170">+=</span>&nbsp;<span class="ident" id="1589173">int64</span><span class="op" id="1589178">(</span><span class="ident" id="1589179"><a href="/time/time.go.html#1588943">l</a></span><span class="op" id="1589180">.</span><span class="ident" id="1589181">cacheZone</span><span class="op" id="1589190">.</span><span class="ident" id="1589191">offset</span><span class="op" id="1589197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1589201">}</span>&nbsp;<span class="keyword" id="1589203">else</span>&nbsp;<span class="op" id="1589208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589213">_</span><span class="op" id="1589214">,</span>&nbsp;<span class="ident" id="1589216">offset</span><span class="op" id="1589222">,</span>&nbsp;<span class="ident" id="1589224">_</span><span class="op" id="1589225">,</span>&nbsp;<span class="ident" id="1589227">_</span><span class="op" id="1589228">,</span>&nbsp;<span class="ident" id="1589230">_</span>&nbsp;<span class="op" id="1589232">:=</span>&nbsp;<span class="ident" id="1589235"><a href="/time/time.go.html#1588943">l</a></span><span class="op" id="1589236">.</span><span class="ident" id="1589237">lookup</span><span class="op" id="1589243">(</span><span class="ident" id="1589244"><a href="/time/time.go.html#1589045">sec</a></span><span class="op" id="1589247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589252"><a href="/time/time.go.html#1589045">sec</a></span>&nbsp;<span class="op" id="1589256">+=</span>&nbsp;<span class="ident" id="1589259">int64</span><span class="op" id="1589264">(</span><span class="ident" id="1589265"><a href="/time/time.go.html#1589216">offset</a></span><span class="op" id="1589271">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1589275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1589278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589281">return</span>&nbsp;<span class="ident" id="1589288">uint64</span><span class="op" id="1589294">(</span><span class="ident" id="1589295"><a href="/time/time.go.html#1589045">sec</a></span>&nbsp;<span class="op" id="1589299">+</span>&nbsp;<span class="op" id="1589301">(</span><span class="ident" id="1589302"><a href="/time/time.go.html#1588473">unixToInternal</a></span>&nbsp;<span class="op" id="1589317">+</span>&nbsp;<span class="ident" id="1589319"><a href="/time/time.go.html#1588424">internalToAbsolute</a></span><span class="op" id="1589337">)</span><span class="op" id="1589338">)</span><br>
<span class="lineno"></span><span class="op" id="1589340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="comment" id="1589343">//&nbsp;locabs&nbsp;is&nbsp;a&nbsp;combination&nbsp;of&nbsp;the&nbsp;Zone&nbsp;and&nbsp;abs&nbsp;methods,</span><br>
<span class="lineno"></span><span class="comment" id="1589399">//&nbsp;extracting&nbsp;both&nbsp;return&nbsp;values&nbsp;from&nbsp;a&nbsp;single&nbsp;zone&nbsp;lookup.</span><br>
<span class="lineno"></span><span class="keyword" id="1589459">func</span>&nbsp;<span class="op" id="1589464">(</span><span class="ident" id="1589465">t</span>&nbsp;<span class="ident" id="1589467"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1589471">)</span>&nbsp;<span class="ident" id="1589473">locabs</span><span class="op" id="1589479">(</span><span class="op" id="1589480">)</span>&nbsp;<span class="op" id="1589482">(</span><span class="ident" id="1589483">name</span>&nbsp;<span class="builtintype" id="1589488">string</span><span class="op" id="1589494">,</span>&nbsp;<span class="ident" id="1589496">offset</span>&nbsp;<span class="builtintype" id="1589503">int</span><span class="op" id="1589506">,</span>&nbsp;<span class="ident" id="1589508">abs</span>&nbsp;<span class="ident" id="1589512">uint64</span><span class="op" id="1589518">)</span>&nbsp;<span class="op" id="1589520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589523">l</span>&nbsp;<span class="op" id="1589525">:=</span>&nbsp;<span class="ident" id="1589528"><a href="/time/time.go.html#1589465">t</a></span><span class="op" id="1589529">.</span><span class="ident" id="1589530">loc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589535">if</span>&nbsp;<span class="ident" id="1589538"><a href="/time/time.go.html#1589523">l</a></span>&nbsp;<span class="op" id="1589540">==</span>&nbsp;<span class="ident" id="1589543">nil</span>&nbsp;<span class="op" id="1589547">||</span>&nbsp;<span class="ident" id="1589550"><a href="/time/time.go.html#1589523">l</a></span>&nbsp;<span class="op" id="1589552">==</span>&nbsp;<span class="op" id="1589555">&amp;</span><span class="ident" id="1589556"><a href="/time/zoneinfo.go.html#1616473">localLoc</a></span>&nbsp;<span class="op" id="1589565">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589569"><a href="/time/time.go.html#1589523">l</a></span>&nbsp;<span class="op" id="1589571">=</span>&nbsp;<span class="ident" id="1589573"><a href="/time/time.go.html#1589523">l</a></span><span class="op" id="1589574">.</span><span class="ident" id="1589575">get</span><span class="op" id="1589578">(</span><span class="op" id="1589579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1589582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1589585">//&nbsp;Avoid&nbsp;function&nbsp;call&nbsp;if&nbsp;we&nbsp;hit&nbsp;the&nbsp;local&nbsp;time&nbsp;cache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589641">sec</span>&nbsp;<span class="op" id="1589645">:=</span>&nbsp;<span class="ident" id="1589648"><a href="/time/time.go.html#1589465">t</a></span><span class="op" id="1589649">.</span><span class="ident" id="1589650">sec</span>&nbsp;<span class="op" id="1589654">+</span>&nbsp;<span class="ident" id="1589656"><a href="/time/time.go.html#1588555">internalToUnix</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589672">if</span>&nbsp;<span class="ident" id="1589675"><a href="/time/time.go.html#1589523">l</a></span>&nbsp;<span class="op" id="1589677">!=</span>&nbsp;<span class="op" id="1589680">&amp;</span><span class="ident" id="1589681"><a href="/time/zoneinfo.go.html#1616255">utcLoc</a></span>&nbsp;<span class="op" id="1589688">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589692">if</span>&nbsp;<span class="ident" id="1589695"><a href="/time/time.go.html#1589523">l</a></span><span class="op" id="1589696">.</span><span class="ident" id="1589697">cacheZone</span>&nbsp;<span class="op" id="1589707">!=</span>&nbsp;<span class="ident" id="1589710">nil</span>&nbsp;<span class="op" id="1589714">&amp;&amp;</span>&nbsp;<span class="ident" id="1589717"><a href="/time/time.go.html#1589523">l</a></span><span class="op" id="1589718">.</span><span class="ident" id="1589719">cacheStart</span>&nbsp;<span class="op" id="1589730">&lt;=</span>&nbsp;<span class="ident" id="1589733"><a href="/time/time.go.html#1589641">sec</a></span>&nbsp;<span class="op" id="1589737">&amp;&amp;</span>&nbsp;<span class="ident" id="1589740"><a href="/time/time.go.html#1589641">sec</a></span>&nbsp;<span class="op" id="1589744">&lt;</span>&nbsp;<span class="ident" id="1589746"><a href="/time/time.go.html#1589523">l</a></span><span class="op" id="1589747">.</span><span class="ident" id="1589748">cacheEnd</span>&nbsp;<span class="op" id="1589757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589762"><a href="/time/time.go.html#1589483">name</a></span>&nbsp;<span class="op" id="1589767">=</span>&nbsp;<span class="ident" id="1589769"><a href="/time/time.go.html#1589523">l</a></span><span class="op" id="1589770">.</span><span class="ident" id="1589771">cacheZone</span><span class="op" id="1589780">.</span><span class="ident" id="1589781">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589789"><a href="/time/time.go.html#1589496">offset</a></span>&nbsp;<span class="op" id="1589796">=</span>&nbsp;<span class="ident" id="1589798"><a href="/time/time.go.html#1589523">l</a></span><span class="op" id="1589799">.</span><span class="ident" id="1589800">cacheZone</span><span class="op" id="1589809">.</span><span class="ident" id="1589810">offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1589819">}</span>&nbsp;<span class="keyword" id="1589821">else</span>&nbsp;<span class="op" id="1589826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589831"><a href="/time/time.go.html#1589483">name</a></span><span class="op" id="1589835">,</span>&nbsp;<span class="ident" id="1589837"><a href="/time/time.go.html#1589496">offset</a></span><span class="op" id="1589843">,</span>&nbsp;<span class="ident" id="1589845">_</span><span class="op" id="1589846">,</span>&nbsp;<span class="ident" id="1589848">_</span><span class="op" id="1589849">,</span>&nbsp;<span class="ident" id="1589851">_</span>&nbsp;<span class="op" id="1589853">=</span>&nbsp;<span class="ident" id="1589855"><a href="/time/time.go.html#1589523">l</a></span><span class="op" id="1589856">.</span><span class="ident" id="1589857">lookup</span><span class="op" id="1589863">(</span><span class="ident" id="1589864"><a href="/time/time.go.html#1589641">sec</a></span><span class="op" id="1589867">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1589871">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589875"><a href="/time/time.go.html#1589641">sec</a></span>&nbsp;<span class="op" id="1589879">+=</span>&nbsp;<span class="ident" id="1589882">int64</span><span class="op" id="1589887">(</span><span class="ident" id="1589888"><a href="/time/time.go.html#1589496">offset</a></span><span class="op" id="1589894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1589897">}</span>&nbsp;<span class="keyword" id="1589899">else</span>&nbsp;<span class="op" id="1589904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589908"><a href="/time/time.go.html#1589483">name</a></span>&nbsp;<span class="op" id="1589913">=</span>&nbsp;<span class="string" id="1589915">&#34;UTC&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1589922">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1589925"><a href="/time/time.go.html#1589508">abs</a></span>&nbsp;<span class="op" id="1589929">=</span>&nbsp;<span class="ident" id="1589931">uint64</span><span class="op" id="1589937">(</span><span class="ident" id="1589938"><a href="/time/time.go.html#1589641">sec</a></span>&nbsp;<span class="op" id="1589942">+</span>&nbsp;<span class="op" id="1589944">(</span><span class="ident" id="1589945"><a href="/time/time.go.html#1588473">unixToInternal</a></span>&nbsp;<span class="op" id="1589960">+</span>&nbsp;<span class="ident" id="1589962"><a href="/time/time.go.html#1588424">internalToAbsolute</a></span><span class="op" id="1589980">)</span><span class="op" id="1589981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1589984">return</span><br>
<span class="lineno"></span><span class="op" id="1589991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1589994">//&nbsp;Date&nbsp;returns&nbsp;the&nbsp;year,&nbsp;month,&nbsp;and&nbsp;day&nbsp;in&nbsp;which&nbsp;t&nbsp;occurs.</span><br>
<span class="lineno">290</span><span class="keyword" id="1590054">func</span>&nbsp;<span class="op" id="1590059">(</span><span class="ident" id="1590060">t</span>&nbsp;<span class="ident" id="1590062"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1590066">)</span>&nbsp;<span class="ident" id="1590068">Date</span><span class="op" id="1590072">(</span><span class="op" id="1590073">)</span>&nbsp;<span class="op" id="1590075">(</span><span class="ident" id="1590076">year</span>&nbsp;<span class="builtintype" id="1590081">int</span><span class="op" id="1590084">,</span>&nbsp;<span class="ident" id="1590086">month</span>&nbsp;<span class="ident" id="1590092"><a href="/time/time.go.html#1583297">Month</a></span><span class="op" id="1590097">,</span>&nbsp;<span class="ident" id="1590099">day</span>&nbsp;<span class="builtintype" id="1590103">int</span><span class="op" id="1590106">)</span>&nbsp;<span class="op" id="1590108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590111"><a href="/time/time.go.html#1590076">year</a></span><span class="op" id="1590115">,</span>&nbsp;<span class="ident" id="1590117"><a href="/time/time.go.html#1590086">month</a></span><span class="op" id="1590122">,</span>&nbsp;<span class="ident" id="1590124"><a href="/time/time.go.html#1590099">day</a></span><span class="op" id="1590127">,</span>&nbsp;<span class="ident" id="1590129">_</span>&nbsp;<span class="op" id="1590131">=</span>&nbsp;<span class="ident" id="1590133"><a href="/time/time.go.html#1590060">t</a></span><span class="op" id="1590134">.</span><span class="ident" id="1590135">date</span><span class="op" id="1590139">(</span><span class="builtintype" id="1590140">true</span><span class="op" id="1590144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590147">return</span><br>
<span class="lineno"></span><span class="op" id="1590154">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="comment" id="1590157">//&nbsp;Year&nbsp;returns&nbsp;the&nbsp;year&nbsp;in&nbsp;which&nbsp;t&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="keyword" id="1590201">func</span>&nbsp;<span class="op" id="1590206">(</span><span class="ident" id="1590207">t</span>&nbsp;<span class="ident" id="1590209"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1590213">)</span>&nbsp;<span class="ident" id="1590215">Year</span><span class="op" id="1590219">(</span><span class="op" id="1590220">)</span>&nbsp;<span class="builtintype" id="1590222">int</span>&nbsp;<span class="op" id="1590226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590229">year</span><span class="op" id="1590233">,</span>&nbsp;<span class="ident" id="1590235">_</span><span class="op" id="1590236">,</span>&nbsp;<span class="ident" id="1590238">_</span><span class="op" id="1590239">,</span>&nbsp;<span class="ident" id="1590241">_</span>&nbsp;<span class="op" id="1590243">:=</span>&nbsp;<span class="ident" id="1590246"><a href="/time/time.go.html#1590207">t</a></span><span class="op" id="1590247">.</span><span class="ident" id="1590248">date</span><span class="op" id="1590252">(</span><span class="builtintype" id="1590253">false</span><span class="op" id="1590258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590261">return</span>&nbsp;<span class="ident" id="1590268"><a href="/time/time.go.html#1590229">year</a></span><br>
<span class="lineno"></span><span class="op" id="1590273">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="1590276">//&nbsp;Month&nbsp;returns&nbsp;the&nbsp;month&nbsp;of&nbsp;the&nbsp;year&nbsp;specified&nbsp;by&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="1590331">func</span>&nbsp;<span class="op" id="1590336">(</span><span class="ident" id="1590337">t</span>&nbsp;<span class="ident" id="1590339"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1590343">)</span>&nbsp;<span class="ident" id="1590345">Month</span><span class="op" id="1590350">(</span><span class="op" id="1590351">)</span>&nbsp;<span class="ident" id="1590353"><a href="/time/time.go.html#1583297">Month</a></span>&nbsp;<span class="op" id="1590359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590362">_</span><span class="op" id="1590363">,</span>&nbsp;<span class="ident" id="1590365">month</span><span class="op" id="1590370">,</span>&nbsp;<span class="ident" id="1590372">_</span><span class="op" id="1590373">,</span>&nbsp;<span class="ident" id="1590375">_</span>&nbsp;<span class="op" id="1590377">:=</span>&nbsp;<span class="ident" id="1590380"><a href="/time/time.go.html#1590337">t</a></span><span class="op" id="1590381">.</span><span class="ident" id="1590382">date</span><span class="op" id="1590386">(</span><span class="builtintype" id="1590387">true</span><span class="op" id="1590391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590394">return</span>&nbsp;<span class="ident" id="1590401"><a href="/time/time.go.html#1590365">month</a></span><br>
<span class="lineno">305</span><span class="op" id="1590407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1590410">//&nbsp;Day&nbsp;returns&nbsp;the&nbsp;day&nbsp;of&nbsp;the&nbsp;month&nbsp;specified&nbsp;by&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="1590462">func</span>&nbsp;<span class="op" id="1590467">(</span><span class="ident" id="1590468">t</span>&nbsp;<span class="ident" id="1590470"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1590474">)</span>&nbsp;<span class="ident" id="1590476">Day</span><span class="op" id="1590479">(</span><span class="op" id="1590480">)</span>&nbsp;<span class="builtintype" id="1590482">int</span>&nbsp;<span class="op" id="1590486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590489">_</span><span class="op" id="1590490">,</span>&nbsp;<span class="ident" id="1590492">_</span><span class="op" id="1590493">,</span>&nbsp;<span class="ident" id="1590495">day</span><span class="op" id="1590498">,</span>&nbsp;<span class="ident" id="1590500">_</span>&nbsp;<span class="op" id="1590502">:=</span>&nbsp;<span class="ident" id="1590505"><a href="/time/time.go.html#1590468">t</a></span><span class="op" id="1590506">.</span><span class="ident" id="1590507">date</span><span class="op" id="1590511">(</span><span class="builtintype" id="1590512">true</span><span class="op" id="1590516">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590519">return</span>&nbsp;<span class="ident" id="1590526"><a href="/time/time.go.html#1590495">day</a></span><br>
<span class="lineno"></span><span class="op" id="1590530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1590533">//&nbsp;Weekday&nbsp;returns&nbsp;the&nbsp;day&nbsp;of&nbsp;the&nbsp;week&nbsp;specified&nbsp;by&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="1590588">func</span>&nbsp;<span class="op" id="1590593">(</span><span class="ident" id="1590594">t</span>&nbsp;<span class="ident" id="1590596"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1590600">)</span>&nbsp;<span class="ident" id="1590602">Weekday</span><span class="op" id="1590609">(</span><span class="op" id="1590610">)</span>&nbsp;<span class="ident" id="1590612"><a href="/time/time.go.html#1583795">Weekday</a></span>&nbsp;<span class="op" id="1590620">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590623">return</span>&nbsp;<span class="ident" id="1590630"><a href="/time/time.go.html#1590722">absWeekday</a></span><span class="op" id="1590640">(</span><span class="ident" id="1590641"><a href="/time/time.go.html#1590594">t</a></span><span class="op" id="1590642">.</span><span class="ident" id="1590643">abs</span><span class="op" id="1590646">(</span><span class="op" id="1590647">)</span><span class="op" id="1590648">)</span><br>
<span class="lineno"></span><span class="op" id="1590650">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1590653">//&nbsp;absWeekday&nbsp;is&nbsp;like&nbsp;Weekday&nbsp;but&nbsp;operates&nbsp;on&nbsp;an&nbsp;absolute&nbsp;time.</span><br>
<span class="lineno"></span><span class="keyword" id="1590717">func</span>&nbsp;<span class="ident" id="1590722">absWeekday</span><span class="op" id="1590732">(</span><span class="ident" id="1590733">abs</span>&nbsp;<span class="ident" id="1590737">uint64</span><span class="op" id="1590743">)</span>&nbsp;<span class="ident" id="1590745"><a href="/time/time.go.html#1583795">Weekday</a></span>&nbsp;<span class="op" id="1590753">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1590756">//&nbsp;January&nbsp;1&nbsp;of&nbsp;the&nbsp;absolute&nbsp;year,&nbsp;like&nbsp;January&nbsp;1&nbsp;of&nbsp;2001,&nbsp;was&nbsp;a&nbsp;Monday.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1590830">sec</span>&nbsp;<span class="op" id="1590834">:=</span>&nbsp;<span class="op" id="1590837">(</span><span class="ident" id="1590838"><a href="/time/time.go.html#1590733">abs</a></span>&nbsp;<span class="op" id="1590842">+</span>&nbsp;<span class="ident" id="1590844">uint64</span><span class="op" id="1590850">(</span><span class="ident" id="1590851"><a href="/time/time.go.html#1583840">Monday</a></span><span class="op" id="1590857">)</span><span class="op" id="1590858">*</span><span class="ident" id="1590859"><a href="/time/time.go.html#1600155">secondsPerDay</a></span><span class="op" id="1590872">)</span>&nbsp;<span class="op" id="1590874">%</span>&nbsp;<span class="ident" id="1590876"><a href="/time/time.go.html#1600195">secondsPerWeek</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1590892">return</span>&nbsp;<span class="ident" id="1590899"><a href="/time/time.go.html#1583795">Weekday</a></span><span class="op" id="1590906">(</span><span class="builtintype" id="1590907">int</span><span class="op" id="1590910">(</span><span class="ident" id="1590911"><a href="/time/time.go.html#1590830">sec</a></span><span class="op" id="1590914">)</span>&nbsp;<span class="op" id="1590916">/</span>&nbsp;<span class="ident" id="1590918"><a href="/time/time.go.html#1600155">secondsPerDay</a></span><span class="op" id="1590931">)</span><br>
<span class="lineno"></span><span class="op" id="1590933">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span><span class="comment" id="1590936">//&nbsp;ISOWeek&nbsp;returns&nbsp;the&nbsp;ISO&nbsp;8601&nbsp;year&nbsp;and&nbsp;week&nbsp;number&nbsp;in&nbsp;which&nbsp;t&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="1591008">//&nbsp;Week&nbsp;ranges&nbsp;from&nbsp;1&nbsp;to&nbsp;53.&nbsp;Jan&nbsp;01&nbsp;to&nbsp;Jan&nbsp;03&nbsp;of&nbsp;year&nbsp;n&nbsp;might&nbsp;belong&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="1591080">//&nbsp;week&nbsp;52&nbsp;or&nbsp;53&nbsp;of&nbsp;year&nbsp;n-1,&nbsp;and&nbsp;Dec&nbsp;29&nbsp;to&nbsp;Dec&nbsp;31&nbsp;might&nbsp;belong&nbsp;to&nbsp;week&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="1591154">//&nbsp;of&nbsp;year&nbsp;n+1.</span><br>
<span class="lineno"></span><span class="keyword" id="1591170">func</span>&nbsp;<span class="op" id="1591175">(</span><span class="ident" id="1591176">t</span>&nbsp;<span class="ident" id="1591178"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1591182">)</span>&nbsp;<span class="ident" id="1591184">ISOWeek</span><span class="op" id="1591191">(</span><span class="op" id="1591192">)</span>&nbsp;<span class="op" id="1591194">(</span><span class="ident" id="1591195">year</span><span class="op" id="1591199">,</span>&nbsp;<span class="ident" id="1591201">week</span>&nbsp;<span class="builtintype" id="1591206">int</span><span class="op" id="1591209">)</span>&nbsp;<span class="op" id="1591211">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591214"><a href="/time/time.go.html#1591195">year</a></span><span class="op" id="1591218">,</span>&nbsp;<span class="ident" id="1591220">month</span><span class="op" id="1591225">,</span>&nbsp;<span class="ident" id="1591227">day</span><span class="op" id="1591230">,</span>&nbsp;<span class="ident" id="1591232">yday</span>&nbsp;<span class="op" id="1591237">:=</span>&nbsp;<span class="ident" id="1591240"><a href="/time/time.go.html#1591176">t</a></span><span class="op" id="1591241">.</span><span class="ident" id="1591242">date</span><span class="op" id="1591246">(</span><span class="builtintype" id="1591247">true</span><span class="op" id="1591251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591254">wday</span>&nbsp;<span class="op" id="1591259">:=</span>&nbsp;<span class="builtintype" id="1591262">int</span><span class="op" id="1591265">(</span><span class="ident" id="1591266"><a href="/time/time.go.html#1591176">t</a></span><span class="op" id="1591267">.</span><span class="ident" id="1591268">Weekday</span><span class="op" id="1591275">(</span><span class="op" id="1591276">)</span><span class="op" id="1591277">+</span><span class="num" id="1591278">6</span><span class="op" id="1591279">)</span>&nbsp;<span class="op" id="1591281">%</span>&nbsp;<span class="num" id="1591283">7</span>&nbsp;<span class="comment" id="1591285">//&nbsp;weekday&nbsp;but&nbsp;Monday&nbsp;=&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1591313">const</span>&nbsp;<span class="op" id="1591319">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591323">Mon</span>&nbsp;<span class="builtintype" id="1591327">int</span>&nbsp;<span class="op" id="1591331">=</span>&nbsp;<span class="ident" id="1591333">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591340">Tue</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591346">Wed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591352">Thu</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591358">Fri</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591364">Sat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591370">Sun</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1591375">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1591379">//&nbsp;Calculate&nbsp;week&nbsp;as&nbsp;number&nbsp;of&nbsp;Mondays&nbsp;in&nbsp;year&nbsp;up&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1591433">//&nbsp;and&nbsp;including&nbsp;today,&nbsp;plus&nbsp;1&nbsp;because&nbsp;the&nbsp;first&nbsp;week&nbsp;is&nbsp;week&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1591499">//&nbsp;Putting&nbsp;the&nbsp;+&nbsp;1&nbsp;inside&nbsp;the&nbsp;numerator&nbsp;as&nbsp;a&nbsp;+&nbsp;7&nbsp;keeps&nbsp;the</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1591559">//&nbsp;numerator&nbsp;from&nbsp;being&nbsp;negative,&nbsp;which&nbsp;would&nbsp;cause&nbsp;it&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1591618">//&nbsp;round&nbsp;incorrectly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591641"><a href="/time/time.go.html#1591201">week</a></span>&nbsp;<span class="op" id="1591646">=</span>&nbsp;<span class="op" id="1591648">(</span><span class="ident" id="1591649"><a href="/time/time.go.html#1591232">yday</a></span>&nbsp;<span class="op" id="1591654">-</span>&nbsp;<span class="ident" id="1591656"><a href="/time/time.go.html#1591254">wday</a></span>&nbsp;<span class="op" id="1591661">+</span>&nbsp;<span class="num" id="1591663">7</span><span class="op" id="1591664">)</span>&nbsp;<span class="op" id="1591666">/</span>&nbsp;<span class="num" id="1591668">7</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1591672">//&nbsp;The&nbsp;week&nbsp;number&nbsp;is&nbsp;now&nbsp;correct&nbsp;under&nbsp;the&nbsp;assumption</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1591728">//&nbsp;that&nbsp;the&nbsp;first&nbsp;Monday&nbsp;of&nbsp;the&nbsp;year&nbsp;is&nbsp;in&nbsp;week&nbsp;1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1591780">//&nbsp;If&nbsp;Jan&nbsp;1&nbsp;is&nbsp;a&nbsp;Tuesday,&nbsp;Wednesday,&nbsp;or&nbsp;Thursday,&nbsp;the&nbsp;first&nbsp;Monday</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1591848">//&nbsp;is&nbsp;actually&nbsp;in&nbsp;week&nbsp;2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591875">jan1wday</span>&nbsp;<span class="op" id="1591884">:=</span>&nbsp;<span class="op" id="1591887">(</span><span class="ident" id="1591888"><a href="/time/time.go.html#1591254">wday</a></span>&nbsp;<span class="op" id="1591893">-</span>&nbsp;<span class="ident" id="1591895"><a href="/time/time.go.html#1591232">yday</a></span>&nbsp;<span class="op" id="1591900">+</span>&nbsp;<span class="num" id="1591902">7</span><span class="op" id="1591903">*</span><span class="num" id="1591904">53</span><span class="op" id="1591906">)</span>&nbsp;<span class="op" id="1591908">%</span>&nbsp;<span class="num" id="1591910">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1591913">if</span>&nbsp;<span class="ident" id="1591916"><a href="/time/time.go.html#1591340">Tue</a></span>&nbsp;<span class="op" id="1591920">&lt;=</span>&nbsp;<span class="ident" id="1591923"><a href="/time/time.go.html#1591875">jan1wday</a></span>&nbsp;<span class="op" id="1591932">&amp;&amp;</span>&nbsp;<span class="ident" id="1591935"><a href="/time/time.go.html#1591875">jan1wday</a></span>&nbsp;<span class="op" id="1591944">&lt;=</span>&nbsp;<span class="ident" id="1591947"><a href="/time/time.go.html#1591352">Thu</a></span>&nbsp;<span class="op" id="1591951">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1591955"><a href="/time/time.go.html#1591201">week</a></span><span class="op" id="1591959">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1591963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1591967">//&nbsp;If&nbsp;the&nbsp;week&nbsp;number&nbsp;is&nbsp;still&nbsp;0,&nbsp;we&#39;re&nbsp;in&nbsp;early&nbsp;January&nbsp;but&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1592032">//&nbsp;the&nbsp;last&nbsp;week&nbsp;of&nbsp;last&nbsp;year.</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1592064">if</span>&nbsp;<span class="ident" id="1592067"><a href="/time/time.go.html#1591201">week</a></span>&nbsp;<span class="op" id="1592072">==</span>&nbsp;<span class="num" id="1592075">0</span>&nbsp;<span class="op" id="1592077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1592081"><a href="/time/time.go.html#1591195">year</a></span><span class="op" id="1592085">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1592090"><a href="/time/time.go.html#1591201">week</a></span>&nbsp;<span class="op" id="1592095">=</span>&nbsp;<span class="num" id="1592097">52</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1592102">//&nbsp;A&nbsp;year&nbsp;has&nbsp;53&nbsp;weeks&nbsp;when&nbsp;Jan&nbsp;1&nbsp;or&nbsp;Dec&nbsp;31&nbsp;is&nbsp;a&nbsp;Thursday,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1592163">//&nbsp;meaning&nbsp;Jan&nbsp;1&nbsp;of&nbsp;the&nbsp;next&nbsp;year&nbsp;is&nbsp;a&nbsp;Friday</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1592211">//&nbsp;or&nbsp;it&nbsp;was&nbsp;a&nbsp;leap&nbsp;year&nbsp;and&nbsp;Jan&nbsp;1&nbsp;of&nbsp;the&nbsp;next&nbsp;year&nbsp;is&nbsp;a&nbsp;Saturday.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1592280">if</span>&nbsp;<span class="ident" id="1592283"><a href="/time/time.go.html#1591875">jan1wday</a></span>&nbsp;<span class="op" id="1592292">==</span>&nbsp;<span class="ident" id="1592295"><a href="/time/time.go.html#1591358">Fri</a></span>&nbsp;<span class="op" id="1592299">||</span>&nbsp;<span class="op" id="1592302">(</span><span class="ident" id="1592303"><a href="/time/time.go.html#1591875">jan1wday</a></span>&nbsp;<span class="op" id="1592312">==</span>&nbsp;<span class="ident" id="1592315"><a href="/time/time.go.html#1591364">Sat</a></span>&nbsp;<span class="op" id="1592319">&amp;&amp;</span>&nbsp;<span class="ident" id="1592322"><a href="/time/time.go.html#1608891">isLeap</a></span><span class="op" id="1592328">(</span><span class="ident" id="1592329"><a href="/time/time.go.html#1591195">year</a></span><span class="op" id="1592333">)</span><span class="op" id="1592334">)</span>&nbsp;<span class="op" id="1592336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1592341"><a href="/time/time.go.html#1591201">week</a></span><span class="op" id="1592345">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1592350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1592353">}</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1592357">//&nbsp;December&nbsp;29&nbsp;to&nbsp;31&nbsp;are&nbsp;in&nbsp;week&nbsp;1&nbsp;of&nbsp;next&nbsp;year&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1592409">//&nbsp;they&nbsp;are&nbsp;after&nbsp;the&nbsp;last&nbsp;Thursday&nbsp;of&nbsp;the&nbsp;year&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1592462">//&nbsp;December&nbsp;31&nbsp;is&nbsp;a&nbsp;Monday,&nbsp;Tuesday,&nbsp;or&nbsp;Wednesday.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1592514">if</span>&nbsp;<span class="ident" id="1592517"><a href="/time/time.go.html#1591220">month</a></span>&nbsp;<span class="op" id="1592523">==</span>&nbsp;<span class="ident" id="1592526"><a href="/time/time.go.html#1583422">December</a></span>&nbsp;<span class="op" id="1592535">&amp;&amp;</span>&nbsp;<span class="ident" id="1592538"><a href="/time/time.go.html#1591227">day</a></span>&nbsp;<span class="op" id="1592542">&gt;=</span>&nbsp;<span class="num" id="1592545">29</span>&nbsp;<span class="op" id="1592548">&amp;&amp;</span>&nbsp;<span class="ident" id="1592551"><a href="/time/time.go.html#1591254">wday</a></span>&nbsp;<span class="op" id="1592556">&lt;</span>&nbsp;<span class="ident" id="1592558"><a href="/time/time.go.html#1591352">Thu</a></span>&nbsp;<span class="op" id="1592562">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1592566">if</span>&nbsp;<span class="ident" id="1592569">dec31wday</span>&nbsp;<span class="op" id="1592579">:=</span>&nbsp;<span class="op" id="1592582">(</span><span class="ident" id="1592583"><a href="/time/time.go.html#1591254">wday</a></span>&nbsp;<span class="op" id="1592588">+</span>&nbsp;<span class="num" id="1592590">31</span>&nbsp;<span class="op" id="1592593">-</span>&nbsp;<span class="ident" id="1592595"><a href="/time/time.go.html#1591227">day</a></span><span class="op" id="1592598">)</span>&nbsp;<span class="op" id="1592600">%</span>&nbsp;<span class="num" id="1592602">7</span><span class="op" id="1592603">;</span>&nbsp;<span class="ident" id="1592605"><a href="/time/time.go.html#1591323">Mon</a></span>&nbsp;<span class="op" id="1592609">&lt;=</span>&nbsp;<span class="ident" id="1592612"><a href="/time/time.go.html#1592569">dec31wday</a></span>&nbsp;<span class="op" id="1592622">&amp;&amp;</span>&nbsp;<span class="ident" id="1592625"><a href="/time/time.go.html#1592569">dec31wday</a></span>&nbsp;<span class="op" id="1592635">&lt;=</span>&nbsp;<span class="ident" id="1592638"><a href="/time/time.go.html#1591346">Wed</a></span>&nbsp;<span class="op" id="1592642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1592647"><a href="/time/time.go.html#1591195">year</a></span><span class="op" id="1592651">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1592657"><a href="/time/time.go.html#1591201">week</a></span>&nbsp;<span class="op" id="1592662">=</span>&nbsp;<span class="num" id="1592664">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1592668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1592671">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1592675">return</span><br>
<span class="lineno"></span><span class="op" id="1592682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1592685">//&nbsp;Clock&nbsp;returns&nbsp;the&nbsp;hour,&nbsp;minute,&nbsp;and&nbsp;second&nbsp;within&nbsp;the&nbsp;day&nbsp;specified&nbsp;by&nbsp;t.</span><br>
<span class="lineno">385</span><span class="keyword" id="1592762">func</span>&nbsp;<span class="op" id="1592767">(</span><span class="ident" id="1592768">t</span>&nbsp;<span class="ident" id="1592770"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1592774">)</span>&nbsp;<span class="ident" id="1592776">Clock</span><span class="op" id="1592781">(</span><span class="op" id="1592782">)</span>&nbsp;<span class="op" id="1592784">(</span><span class="ident" id="1592785">hour</span><span class="op" id="1592789">,</span>&nbsp;<span class="ident" id="1592791">min</span><span class="op" id="1592794">,</span>&nbsp;<span class="ident" id="1592796">sec</span>&nbsp;<span class="builtintype" id="1592800">int</span><span class="op" id="1592803">)</span>&nbsp;<span class="op" id="1592805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1592808">return</span>&nbsp;<span class="ident" id="1592815"><a href="/time/time.go.html#1592901">absClock</a></span><span class="op" id="1592823">(</span><span class="ident" id="1592824"><a href="/time/time.go.html#1592768">t</a></span><span class="op" id="1592825">.</span><span class="ident" id="1592826">abs</span><span class="op" id="1592829">(</span><span class="op" id="1592830">)</span><span class="op" id="1592831">)</span><br>
<span class="lineno"></span><span class="op" id="1592833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1592836">//&nbsp;absClock&nbsp;is&nbsp;like&nbsp;clock&nbsp;but&nbsp;operates&nbsp;on&nbsp;an&nbsp;absolute&nbsp;time.</span><br>
<span class="lineno">390</span><span class="keyword" id="1592896">func</span>&nbsp;<span class="ident" id="1592901">absClock</span><span class="op" id="1592909">(</span><span class="ident" id="1592910">abs</span>&nbsp;<span class="ident" id="1592914">uint64</span><span class="op" id="1592920">)</span>&nbsp;<span class="op" id="1592922">(</span><span class="ident" id="1592923">hour</span><span class="op" id="1592927">,</span>&nbsp;<span class="ident" id="1592929">min</span><span class="op" id="1592932">,</span>&nbsp;<span class="ident" id="1592934">sec</span>&nbsp;<span class="builtintype" id="1592938">int</span><span class="op" id="1592941">)</span>&nbsp;<span class="op" id="1592943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1592946"><a href="/time/time.go.html#1592934">sec</a></span>&nbsp;<span class="op" id="1592950">=</span>&nbsp;<span class="builtintype" id="1592952">int</span><span class="op" id="1592955">(</span><span class="ident" id="1592956"><a href="/time/time.go.html#1592910">abs</a></span>&nbsp;<span class="op" id="1592960">%</span>&nbsp;<span class="ident" id="1592962"><a href="/time/time.go.html#1600155">secondsPerDay</a></span><span class="op" id="1592975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1592978"><a href="/time/time.go.html#1592923">hour</a></span>&nbsp;<span class="op" id="1592983">=</span>&nbsp;<span class="ident" id="1592985"><a href="/time/time.go.html#1592934">sec</a></span>&nbsp;<span class="op" id="1592989">/</span>&nbsp;<span class="ident" id="1592991"><a href="/time/time.go.html#1600127">secondsPerHour</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1593007"><a href="/time/time.go.html#1592934">sec</a></span>&nbsp;<span class="op" id="1593011">-=</span>&nbsp;<span class="ident" id="1593014"><a href="/time/time.go.html#1592923">hour</a></span>&nbsp;<span class="op" id="1593019">*</span>&nbsp;<span class="ident" id="1593021"><a href="/time/time.go.html#1600127">secondsPerHour</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1593037"><a href="/time/time.go.html#1592929">min</a></span>&nbsp;<span class="op" id="1593041">=</span>&nbsp;<span class="ident" id="1593043"><a href="/time/time.go.html#1592934">sec</a></span>&nbsp;<span class="op" id="1593047">/</span>&nbsp;<span class="ident" id="1593049"><a href="/time/time.go.html#1600104">secondsPerMinute</a></span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1593067"><a href="/time/time.go.html#1592934">sec</a></span>&nbsp;<span class="op" id="1593071">-=</span>&nbsp;<span class="ident" id="1593074"><a href="/time/time.go.html#1592929">min</a></span>&nbsp;<span class="op" id="1593078">*</span>&nbsp;<span class="ident" id="1593080"><a href="/time/time.go.html#1600104">secondsPerMinute</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1593098">return</span><br>
<span class="lineno"></span><span class="op" id="1593105">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1593108">//&nbsp;Hour&nbsp;returns&nbsp;the&nbsp;hour&nbsp;within&nbsp;the&nbsp;day&nbsp;specified&nbsp;by&nbsp;t,&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;23].</span><br>
<span class="lineno">400</span><span class="keyword" id="1593186">func</span>&nbsp;<span class="op" id="1593191">(</span><span class="ident" id="1593192">t</span>&nbsp;<span class="ident" id="1593194"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1593198">)</span>&nbsp;<span class="ident" id="1593200">Hour</span><span class="op" id="1593204">(</span><span class="op" id="1593205">)</span>&nbsp;<span class="builtintype" id="1593207">int</span>&nbsp;<span class="op" id="1593211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1593214">return</span>&nbsp;<span class="builtintype" id="1593221">int</span><span class="op" id="1593224">(</span><span class="ident" id="1593225"><a href="/time/time.go.html#1593192">t</a></span><span class="op" id="1593226">.</span><span class="ident" id="1593227">abs</span><span class="op" id="1593230">(</span><span class="op" id="1593231">)</span><span class="op" id="1593232">%</span><span class="ident" id="1593233"><a href="/time/time.go.html#1600155">secondsPerDay</a></span><span class="op" id="1593246">)</span>&nbsp;<span class="op" id="1593248">/</span>&nbsp;<span class="ident" id="1593250"><a href="/time/time.go.html#1600127">secondsPerHour</a></span><br>
<span class="lineno"></span><span class="op" id="1593265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1593268">//&nbsp;Minute&nbsp;returns&nbsp;the&nbsp;minute&nbsp;offset&nbsp;within&nbsp;the&nbsp;hour&nbsp;specified&nbsp;by&nbsp;t,&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;59].</span><br>
<span class="lineno">405</span><span class="keyword" id="1593358">func</span>&nbsp;<span class="op" id="1593363">(</span><span class="ident" id="1593364">t</span>&nbsp;<span class="ident" id="1593366"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1593370">)</span>&nbsp;<span class="ident" id="1593372">Minute</span><span class="op" id="1593378">(</span><span class="op" id="1593379">)</span>&nbsp;<span class="builtintype" id="1593381">int</span>&nbsp;<span class="op" id="1593385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1593388">return</span>&nbsp;<span class="builtintype" id="1593395">int</span><span class="op" id="1593398">(</span><span class="ident" id="1593399"><a href="/time/time.go.html#1593364">t</a></span><span class="op" id="1593400">.</span><span class="ident" id="1593401">abs</span><span class="op" id="1593404">(</span><span class="op" id="1593405">)</span><span class="op" id="1593406">%</span><span class="ident" id="1593407"><a href="/time/time.go.html#1600127">secondsPerHour</a></span><span class="op" id="1593421">)</span>&nbsp;<span class="op" id="1593423">/</span>&nbsp;<span class="ident" id="1593425"><a href="/time/time.go.html#1600104">secondsPerMinute</a></span><br>
<span class="lineno"></span><span class="op" id="1593442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1593445">//&nbsp;Second&nbsp;returns&nbsp;the&nbsp;second&nbsp;offset&nbsp;within&nbsp;the&nbsp;minute&nbsp;specified&nbsp;by&nbsp;t,&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;59].</span><br>
<span class="lineno">410</span><span class="keyword" id="1593537">func</span>&nbsp;<span class="op" id="1593542">(</span><span class="ident" id="1593543">t</span>&nbsp;<span class="ident" id="1593545"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1593549">)</span>&nbsp;<span class="ident" id="1593551">Second</span><span class="op" id="1593557">(</span><span class="op" id="1593558">)</span>&nbsp;<span class="builtintype" id="1593560">int</span>&nbsp;<span class="op" id="1593564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1593567">return</span>&nbsp;<span class="builtintype" id="1593574">int</span><span class="op" id="1593577">(</span><span class="ident" id="1593578"><a href="/time/time.go.html#1593543">t</a></span><span class="op" id="1593579">.</span><span class="ident" id="1593580">abs</span><span class="op" id="1593583">(</span><span class="op" id="1593584">)</span>&nbsp;<span class="op" id="1593586">%</span>&nbsp;<span class="ident" id="1593588"><a href="/time/time.go.html#1600104">secondsPerMinute</a></span><span class="op" id="1593604">)</span><br>
<span class="lineno"></span><span class="op" id="1593606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1593609">//&nbsp;Nanosecond&nbsp;returns&nbsp;the&nbsp;nanosecond&nbsp;offset&nbsp;within&nbsp;the&nbsp;second&nbsp;specified&nbsp;by&nbsp;t,</span><br>
<span class="lineno">415</span><span class="comment" id="1593687">//&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;999999999].</span><br>
<span class="lineno"></span><span class="keyword" id="1593719">func</span>&nbsp;<span class="op" id="1593724">(</span><span class="ident" id="1593725">t</span>&nbsp;<span class="ident" id="1593727"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1593731">)</span>&nbsp;<span class="ident" id="1593733">Nanosecond</span><span class="op" id="1593743">(</span><span class="op" id="1593744">)</span>&nbsp;<span class="builtintype" id="1593746">int</span>&nbsp;<span class="op" id="1593750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1593753">return</span>&nbsp;<span class="builtintype" id="1593760">int</span><span class="op" id="1593763">(</span><span class="ident" id="1593764"><a href="/time/time.go.html#1593725">t</a></span><span class="op" id="1593765">.</span><span class="ident" id="1593766">nsec</span><span class="op" id="1593770">)</span><br>
<span class="lineno"></span><span class="op" id="1593772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="comment" id="1593775">//&nbsp;YearDay&nbsp;returns&nbsp;the&nbsp;day&nbsp;of&nbsp;the&nbsp;year&nbsp;specified&nbsp;by&nbsp;t,&nbsp;in&nbsp;the&nbsp;range&nbsp;[1,365]&nbsp;for&nbsp;non-leap&nbsp;years,</span><br>
<span class="lineno"></span><span class="comment" id="1593871">//&nbsp;and&nbsp;[1,366]&nbsp;in&nbsp;leap&nbsp;years.</span><br>
<span class="lineno"></span><span class="keyword" id="1593901">func</span>&nbsp;<span class="op" id="1593906">(</span><span class="ident" id="1593907">t</span>&nbsp;<span class="ident" id="1593909"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1593913">)</span>&nbsp;<span class="ident" id="1593915">YearDay</span><span class="op" id="1593922">(</span><span class="op" id="1593923">)</span>&nbsp;<span class="builtintype" id="1593925">int</span>&nbsp;<span class="op" id="1593929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1593932">_</span><span class="op" id="1593933">,</span>&nbsp;<span class="ident" id="1593935">_</span><span class="op" id="1593936">,</span>&nbsp;<span class="ident" id="1593938">_</span><span class="op" id="1593939">,</span>&nbsp;<span class="ident" id="1593941">yday</span>&nbsp;<span class="op" id="1593946">:=</span>&nbsp;<span class="ident" id="1593949"><a href="/time/time.go.html#1593907">t</a></span><span class="op" id="1593950">.</span><span class="ident" id="1593951">date</span><span class="op" id="1593955">(</span><span class="builtintype" id="1593956">false</span><span class="op" id="1593961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1593964">return</span>&nbsp;<span class="ident" id="1593971"><a href="/time/time.go.html#1593941">yday</a></span>&nbsp;<span class="op" id="1593976">+</span>&nbsp;<span class="num" id="1593978">1</span><br>
<span class="lineno">425</span><span class="op" id="1593980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1593983">//&nbsp;A&nbsp;Duration&nbsp;represents&nbsp;the&nbsp;elapsed&nbsp;time&nbsp;between&nbsp;two&nbsp;instants</span><br>
<span class="lineno"></span><span class="comment" id="1594046">//&nbsp;as&nbsp;an&nbsp;int64&nbsp;nanosecond&nbsp;count.&nbsp;&nbsp;The&nbsp;representation&nbsp;limits&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1594110">//&nbsp;largest&nbsp;representable&nbsp;duration&nbsp;to&nbsp;approximately&nbsp;290&nbsp;years.</span><br>
<span class="lineno">430</span><span class="keyword" id="1594172">type</span>&nbsp;<span class="ident" id="1594177">Duration</span>&nbsp;<span class="ident" id="1594186">int64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1594193">const</span>&nbsp;<span class="op" id="1594199">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1594202">minDuration</span>&nbsp;<span class="ident" id="1594214"><a href="/time/time.go.html#1594177">Duration</a></span>&nbsp;<span class="op" id="1594223">=</span>&nbsp;<span class="op" id="1594225">-</span><span class="num" id="1594226">1</span>&nbsp;<span class="op" id="1594228">&lt;&lt;</span>&nbsp;<span class="num" id="1594231">63</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1594235">maxDuration</span>&nbsp;<span class="ident" id="1594247"><a href="/time/time.go.html#1594177">Duration</a></span>&nbsp;<span class="op" id="1594256">=</span>&nbsp;<span class="num" id="1594258">1</span><span class="op" id="1594259">&lt;&lt;</span><span class="num" id="1594261">63</span>&nbsp;<span class="op" id="1594264">-</span>&nbsp;<span class="num" id="1594266">1</span><br>
<span class="lineno">435</span><span class="op" id="1594268">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1594271">//&nbsp;Common&nbsp;durations.&nbsp;&nbsp;There&nbsp;is&nbsp;no&nbsp;definition&nbsp;for&nbsp;units&nbsp;of&nbsp;Day&nbsp;or&nbsp;larger</span><br>
<span class="lineno"></span><span class="comment" id="1594343">//&nbsp;to&nbsp;avoid&nbsp;confusion&nbsp;across&nbsp;daylight&nbsp;savings&nbsp;time&nbsp;zone&nbsp;transitions.</span><br>
<span class="lineno"></span><span class="comment" id="1594412">//</span><br>
<span class="lineno">440</span><span class="comment" id="1594415">//&nbsp;To&nbsp;count&nbsp;the&nbsp;number&nbsp;of&nbsp;units&nbsp;in&nbsp;a&nbsp;Duration,&nbsp;divide:</span><br>
<span class="lineno"></span><span class="comment" id="1594470">//&nbsp;&nbsp;&nbsp;&nbspsecond&nbsp;:=&nbsp;time.Second</span><br>
<span class="lineno"></span><span class="comment" id="1594495">//&nbsp;&nbsp;&nbsp;&nbspfmt.Print(int64(second/time.Millisecond))&nbsp;//&nbsp;prints&nbsp;1000</span><br>
<span class="lineno"></span><span class="comment" id="1594555">//</span><br>
<span class="lineno"></span><span class="comment" id="1594558">//&nbsp;To&nbsp;convert&nbsp;an&nbsp;integer&nbsp;number&nbsp;of&nbsp;units&nbsp;to&nbsp;a&nbsp;Duration,&nbsp;multiply:</span><br>
<span class="lineno">445</span><span class="comment" id="1594624">//&nbsp;&nbsp;&nbsp;&nbspseconds&nbsp;:=&nbsp;10</span><br>
<span class="lineno"></span><span class="comment" id="1594641">//&nbsp;&nbsp;&nbsp;&nbspfmt.Print(time.Duration(seconds)*time.Second)&nbsp;//&nbsp;prints&nbsp;10s</span><br>
<span class="lineno"></span><span class="comment" id="1594704">//</span><br>
<span class="lineno"></span><span class="keyword" id="1594707">const</span>&nbsp;<span class="op" id="1594713">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1594716">Nanosecond</span>&nbsp;&nbsp;<span class="ident" id="1594728"><a href="/time/time.go.html#1594177">Duration</a></span>&nbsp;<span class="op" id="1594737">=</span>&nbsp;<span class="num" id="1594739">1</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1594742">Microsecond</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1594763">=</span>&nbsp;<span class="num" id="1594765">1000</span>&nbsp;<span class="op" id="1594770">*</span>&nbsp;<span class="ident" id="1594772"><a href="/time/time.go.html#1594716">Nanosecond</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1594784">Millisecond</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1594805">=</span>&nbsp;<span class="num" id="1594807">1000</span>&nbsp;<span class="op" id="1594812">*</span>&nbsp;<span class="ident" id="1594814"><a href="/time/time.go.html#1594742">Microsecond</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1594827">Second</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1594848">=</span>&nbsp;<span class="num" id="1594850">1000</span>&nbsp;<span class="op" id="1594855">*</span>&nbsp;<span class="ident" id="1594857"><a href="/time/time.go.html#1594784">Millisecond</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1594870">Minute</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1594891">=</span>&nbsp;<span class="num" id="1594893">60</span>&nbsp;<span class="op" id="1594896">*</span>&nbsp;<span class="ident" id="1594898"><a href="/time/time.go.html#1594827">Second</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1594906">Hour</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1594927">=</span>&nbsp;<span class="num" id="1594929">60</span>&nbsp;<span class="op" id="1594932">*</span>&nbsp;<span class="ident" id="1594934"><a href="/time/time.go.html#1594870">Minute</a></span><br>
<span class="lineno">455</span><span class="op" id="1594941">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1594944">//&nbsp;String&nbsp;returns&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;duration&nbsp;in&nbsp;the&nbsp;form&nbsp;&#34;72h3m0.5s&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="1595022">//&nbsp;Leading&nbsp;zero&nbsp;units&nbsp;are&nbsp;omitted.&nbsp;&nbsp;As&nbsp;a&nbsp;special&nbsp;case,&nbsp;durations&nbsp;less&nbsp;than&nbsp;one</span><br>
<span class="lineno"></span><span class="comment" id="1595101">//&nbsp;second&nbsp;format&nbsp;use&nbsp;a&nbsp;smaller&nbsp;unit&nbsp;(milli-,&nbsp;micro-,&nbsp;or&nbsp;nanoseconds)&nbsp;to&nbsp;ensure</span><br>
<span class="lineno">460</span><span class="comment" id="1595180">//&nbsp;that&nbsp;the&nbsp;leading&nbsp;digit&nbsp;is&nbsp;non-zero.&nbsp;&nbsp;The&nbsp;zero&nbsp;duration&nbsp;formats&nbsp;as&nbsp;0,</span><br>
<span class="lineno"></span><span class="comment" id="1595252">//&nbsp;with&nbsp;no&nbsp;unit.</span><br>
<span class="lineno"></span><span class="keyword" id="1595269">func</span>&nbsp;<span class="op" id="1595274">(</span><span class="ident" id="1595275">d</span>&nbsp;<span class="ident" id="1595277"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1595285">)</span>&nbsp;<span class="ident" id="1595287">String</span><span class="op" id="1595293">(</span><span class="op" id="1595294">)</span>&nbsp;<span class="builtintype" id="1595296">string</span>&nbsp;<span class="op" id="1595303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1595306">//&nbsp;Largest&nbsp;time&nbsp;is&nbsp;2540400h10m10.000000000s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1595351">var</span>&nbsp;<span class="ident" id="1595355">buf</span>&nbsp;<span class="op" id="1595359">[</span><span class="num" id="1595360">32</span><span class="op" id="1595362">]</span><span class="builtintype" id="1595363">byte</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1595369">w</span>&nbsp;<span class="op" id="1595371">:=</span>&nbsp;<span class="builtinfunc" id="1595374">len</span><span class="op" id="1595377">(</span><span class="ident" id="1595378"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1595381">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1595385">u</span>&nbsp;<span class="op" id="1595387">:=</span>&nbsp;<span class="ident" id="1595390">uint64</span><span class="op" id="1595396">(</span><span class="ident" id="1595397"><a href="/time/time.go.html#1595275">d</a></span><span class="op" id="1595398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1595401">neg</span>&nbsp;<span class="op" id="1595405">:=</span>&nbsp;<span class="ident" id="1595408"><a href="/time/time.go.html#1595275">d</a></span>&nbsp;<span class="op" id="1595410">&lt;</span>&nbsp;<span class="num" id="1595412">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1595415">if</span>&nbsp;<span class="ident" id="1595418"><a href="/time/time.go.html#1595401">neg</a></span>&nbsp;<span class="op" id="1595422">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1595426"><a href="/time/time.go.html#1595385">u</a></span>&nbsp;<span class="op" id="1595428">=</span>&nbsp;<span class="op" id="1595430">-</span><span class="ident" id="1595431"><a href="/time/time.go.html#1595385">u</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1595434">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1595438">if</span>&nbsp;<span class="ident" id="1595441"><a href="/time/time.go.html#1595385">u</a></span>&nbsp;<span class="op" id="1595443">&lt;</span>&nbsp;<span class="ident" id="1595445">uint64</span><span class="op" id="1595451">(</span><span class="ident" id="1595452"><a href="/time/time.go.html#1594827">Second</a></span><span class="op" id="1595458">)</span>&nbsp;<span class="op" id="1595460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1595464">//&nbsp;Special&nbsp;case:&nbsp;if&nbsp;duration&nbsp;is&nbsp;smaller&nbsp;than&nbsp;a&nbsp;second,</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1595521">//&nbsp;use&nbsp;smaller&nbsp;units,&nbsp;like&nbsp;1.2ms</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1595556">var</span>&nbsp;<span class="ident" id="1595560">prec</span>&nbsp;<span class="builtintype" id="1595565">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1595571"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1595572">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1595577"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1595580">[</span><span class="ident" id="1595581"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1595582">]</span>&nbsp;<span class="op" id="1595584">=</span>&nbsp;<span class="string" id="1595586">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1595592"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1595593">--</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1595598">switch</span>&nbsp;<span class="op" id="1595605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1595609">case</span>&nbsp;<span class="ident" id="1595614"><a href="/time/time.go.html#1595385">u</a></span>&nbsp;<span class="op" id="1595616">==</span>&nbsp;<span class="num" id="1595619">0</span><span class="op" id="1595620">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1595625">return</span>&nbsp;<span class="string" id="1595632">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1595638">case</span>&nbsp;<span class="ident" id="1595643"><a href="/time/time.go.html#1595385">u</a></span>&nbsp;<span class="op" id="1595645">&lt;</span>&nbsp;<span class="ident" id="1595647">uint64</span><span class="op" id="1595653">(</span><span class="ident" id="1595654"><a href="/time/time.go.html#1594742">Microsecond</a></span><span class="op" id="1595665">)</span><span class="op" id="1595666">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1595671">//&nbsp;print&nbsp;nanoseconds</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1595695"><a href="/time/time.go.html#1595560">prec</a></span>&nbsp;<span class="op" id="1595700">=</span>&nbsp;<span class="num" id="1595702">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1595707"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1595710">[</span><span class="ident" id="1595711"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1595712">]</span>&nbsp;<span class="op" id="1595714">=</span>&nbsp;<span class="string" id="1595716">&#39;n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1595722">case</span>&nbsp;<span class="ident" id="1595727"><a href="/time/time.go.html#1595385">u</a></span>&nbsp;<span class="op" id="1595729">&lt;</span>&nbsp;<span class="ident" id="1595731">uint64</span><span class="op" id="1595737">(</span><span class="ident" id="1595738"><a href="/time/time.go.html#1594784">Millisecond</a></span><span class="op" id="1595749">)</span><span class="op" id="1595750">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1595755">//&nbsp;print&nbsp;microseconds</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1595780"><a href="/time/time.go.html#1595560">prec</a></span>&nbsp;<span class="op" id="1595785">=</span>&nbsp;<span class="num" id="1595787">3</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1595792">//&nbsp;U+00B5&nbsp;&#39;µ&#39;&nbsp;micro&nbsp;sign&nbsp;==&nbsp;0xC2&nbsp;0xB5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1595834"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1595835">--</span>&nbsp;<span class="comment" id="1595838">//&nbsp;Need&nbsp;room&nbsp;for&nbsp;two&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1595869">copy</span><span class="op" id="1595873">(</span><span class="ident" id="1595874"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1595877">[</span><span class="ident" id="1595878"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1595879">:</span><span class="op" id="1595880">]</span><span class="op" id="1595881">,</span>&nbsp;<span class="string" id="1595883">&#34;µ&#34;</span><span class="op" id="1595887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1595891">default</span><span class="op" id="1595898">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1595903">//&nbsp;print&nbsp;milliseconds</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1595928"><a href="/time/time.go.html#1595560">prec</a></span>&nbsp;<span class="op" id="1595933">=</span>&nbsp;<span class="num" id="1595935">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1595940"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1595943">[</span><span class="ident" id="1595944"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1595945">]</span>&nbsp;<span class="op" id="1595947">=</span>&nbsp;<span class="string" id="1595949">&#39;m&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1595955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1595959"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1595960">,</span>&nbsp;<span class="ident" id="1595962"><a href="/time/time.go.html#1595385">u</a></span>&nbsp;<span class="op" id="1595964">=</span>&nbsp;<span class="ident" id="1595966"><a href="/time/time.go.html#1596744">fmtFrac</a></span><span class="op" id="1595973">(</span><span class="ident" id="1595974"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1595977">[</span><span class="op" id="1595978">:</span><span class="ident" id="1595979"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1595980">]</span><span class="op" id="1595981">,</span>&nbsp;<span class="ident" id="1595983"><a href="/time/time.go.html#1595385">u</a></span><span class="op" id="1595984">,</span>&nbsp;<span class="ident" id="1595986"><a href="/time/time.go.html#1595560">prec</a></span><span class="op" id="1595990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1595994"><a href="/time/time.go.html#1595369">w</a></span>&nbsp;<span class="op" id="1595996">=</span>&nbsp;<span class="ident" id="1595998"><a href="/time/time.go.html#1597188">fmtInt</a></span><span class="op" id="1596004">(</span><span class="ident" id="1596005"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1596008">[</span><span class="op" id="1596009">:</span><span class="ident" id="1596010"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1596011">]</span><span class="op" id="1596012">,</span>&nbsp;<span class="ident" id="1596014"><a href="/time/time.go.html#1595385">u</a></span><span class="op" id="1596015">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1596018">}</span>&nbsp;<span class="keyword" id="1596020">else</span>&nbsp;<span class="op" id="1596025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596029"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1596030">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596035"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1596038">[</span><span class="ident" id="1596039"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1596040">]</span>&nbsp;<span class="op" id="1596042">=</span>&nbsp;<span class="string" id="1596044">&#39;s&#39;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596051"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1596052">,</span>&nbsp;<span class="ident" id="1596054"><a href="/time/time.go.html#1595385">u</a></span>&nbsp;<span class="op" id="1596056">=</span>&nbsp;<span class="ident" id="1596058"><a href="/time/time.go.html#1596744">fmtFrac</a></span><span class="op" id="1596065">(</span><span class="ident" id="1596066"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1596069">[</span><span class="op" id="1596070">:</span><span class="ident" id="1596071"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1596072">]</span><span class="op" id="1596073">,</span>&nbsp;<span class="ident" id="1596075"><a href="/time/time.go.html#1595385">u</a></span><span class="op" id="1596076">,</span>&nbsp;<span class="num" id="1596078">9</span><span class="op" id="1596079">)</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1596084">//&nbsp;u&nbsp;is&nbsp;now&nbsp;integer&nbsp;seconds</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596114"><a href="/time/time.go.html#1595369">w</a></span>&nbsp;<span class="op" id="1596116">=</span>&nbsp;<span class="ident" id="1596118"><a href="/time/time.go.html#1597188">fmtInt</a></span><span class="op" id="1596124">(</span><span class="ident" id="1596125"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1596128">[</span><span class="op" id="1596129">:</span><span class="ident" id="1596130"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1596131">]</span><span class="op" id="1596132">,</span>&nbsp;<span class="ident" id="1596134"><a href="/time/time.go.html#1595385">u</a></span><span class="op" id="1596135">%</span><span class="num" id="1596136">60</span><span class="op" id="1596138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596142"><a href="/time/time.go.html#1595385">u</a></span>&nbsp;<span class="op" id="1596144">/=</span>&nbsp;<span class="num" id="1596147">60</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1596153">//&nbsp;u&nbsp;is&nbsp;now&nbsp;integer&nbsp;minutes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1596183">if</span>&nbsp;<span class="ident" id="1596186"><a href="/time/time.go.html#1595385">u</a></span>&nbsp;<span class="op" id="1596188">&gt;</span>&nbsp;<span class="num" id="1596190">0</span>&nbsp;<span class="op" id="1596192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596197"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1596198">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596204"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1596207">[</span><span class="ident" id="1596208"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1596209">]</span>&nbsp;<span class="op" id="1596211">=</span>&nbsp;<span class="string" id="1596213">&#39;m&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596220"><a href="/time/time.go.html#1595369">w</a></span>&nbsp;<span class="op" id="1596222">=</span>&nbsp;<span class="ident" id="1596224"><a href="/time/time.go.html#1597188">fmtInt</a></span><span class="op" id="1596230">(</span><span class="ident" id="1596231"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1596234">[</span><span class="op" id="1596235">:</span><span class="ident" id="1596236"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1596237">]</span><span class="op" id="1596238">,</span>&nbsp;<span class="ident" id="1596240"><a href="/time/time.go.html#1595385">u</a></span><span class="op" id="1596241">%</span><span class="num" id="1596242">60</span><span class="op" id="1596244">)</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596249"><a href="/time/time.go.html#1595385">u</a></span>&nbsp;<span class="op" id="1596251">/=</span>&nbsp;<span class="num" id="1596254">60</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1596261">//&nbsp;u&nbsp;is&nbsp;now&nbsp;integer&nbsp;hours</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1596290">//&nbsp;Stop&nbsp;at&nbsp;hours&nbsp;because&nbsp;days&nbsp;can&nbsp;be&nbsp;different&nbsp;lengths.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1596349">if</span>&nbsp;<span class="ident" id="1596352"><a href="/time/time.go.html#1595385">u</a></span>&nbsp;<span class="op" id="1596354">&gt;</span>&nbsp;<span class="num" id="1596356">0</span>&nbsp;<span class="op" id="1596358">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596364"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1596365">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596372"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1596375">[</span><span class="ident" id="1596376"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1596377">]</span>&nbsp;<span class="op" id="1596379">=</span>&nbsp;<span class="string" id="1596381">&#39;h&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596389"><a href="/time/time.go.html#1595369">w</a></span>&nbsp;<span class="op" id="1596391">=</span>&nbsp;<span class="ident" id="1596393"><a href="/time/time.go.html#1597188">fmtInt</a></span><span class="op" id="1596399">(</span><span class="ident" id="1596400"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1596403">[</span><span class="op" id="1596404">:</span><span class="ident" id="1596405"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1596406">]</span><span class="op" id="1596407">,</span>&nbsp;<span class="ident" id="1596409"><a href="/time/time.go.html#1595385">u</a></span><span class="op" id="1596410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1596415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1596419">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1596422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1596426">if</span>&nbsp;<span class="ident" id="1596429"><a href="/time/time.go.html#1595401">neg</a></span>&nbsp;<span class="op" id="1596433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596437"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1596438">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596443"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1596446">[</span><span class="ident" id="1596447"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1596448">]</span>&nbsp;<span class="op" id="1596450">=</span>&nbsp;<span class="string" id="1596452">&#39;-&#39;</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1596457">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1596461">return</span>&nbsp;<span class="builtintype" id="1596468">string</span><span class="op" id="1596474">(</span><span class="ident" id="1596475"><a href="/time/time.go.html#1595355">buf</a></span><span class="op" id="1596478">[</span><span class="ident" id="1596479"><a href="/time/time.go.html#1595369">w</a></span><span class="op" id="1596480">:</span><span class="op" id="1596481">]</span><span class="op" id="1596482">)</span><br>
<span class="lineno"></span><span class="op" id="1596484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">535</span><span class="comment" id="1596487">//&nbsp;fmtFrac&nbsp;formats&nbsp;the&nbsp;fraction&nbsp;of&nbsp;v/10**prec&nbsp;(e.g.,&nbsp;&#34;.12345&#34;)&nbsp;into&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1596559">//&nbsp;tail&nbsp;of&nbsp;buf,&nbsp;omitting&nbsp;trailing&nbsp;zeros.&nbsp;&nbsp;it&nbsp;omits&nbsp;the&nbsp;decimal</span><br>
<span class="lineno"></span><span class="comment" id="1596622">//&nbsp;point&nbsp;too&nbsp;when&nbsp;the&nbsp;fraction&nbsp;is&nbsp;0.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;index&nbsp;where&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1596691">//&nbsp;output&nbsp;bytes&nbsp;begin&nbsp;and&nbsp;the&nbsp;value&nbsp;v/10**prec.</span><br>
<span class="lineno"></span><span class="keyword" id="1596739">func</span>&nbsp;<span class="ident" id="1596744">fmtFrac</span><span class="op" id="1596751">(</span><span class="ident" id="1596752">buf</span>&nbsp;<span class="op" id="1596756">[</span><span class="op" id="1596757">]</span><span class="builtintype" id="1596758">byte</span><span class="op" id="1596762">,</span>&nbsp;<span class="ident" id="1596764">v</span>&nbsp;<span class="ident" id="1596766">uint64</span><span class="op" id="1596772">,</span>&nbsp;<span class="ident" id="1596774">prec</span>&nbsp;<span class="builtintype" id="1596779">int</span><span class="op" id="1596782">)</span>&nbsp;<span class="op" id="1596784">(</span><span class="ident" id="1596785">nw</span>&nbsp;<span class="builtintype" id="1596788">int</span><span class="op" id="1596791">,</span>&nbsp;<span class="ident" id="1596793">nv</span>&nbsp;<span class="ident" id="1596796">uint64</span><span class="op" id="1596802">)</span>&nbsp;<span class="op" id="1596804">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1596807">//&nbsp;Omit&nbsp;trailing&nbsp;zeros&nbsp;up&nbsp;to&nbsp;and&nbsp;including&nbsp;decimal&nbsp;point.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596866">w</span>&nbsp;<span class="op" id="1596868">:=</span>&nbsp;<span class="builtinfunc" id="1596871">len</span><span class="op" id="1596874">(</span><span class="ident" id="1596875"><a href="/time/time.go.html#1596752">buf</a></span><span class="op" id="1596878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1596881">print</span>&nbsp;<span class="op" id="1596887">:=</span>&nbsp;<span class="builtintype" id="1596890">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1596897">for</span>&nbsp;<span class="ident" id="1596901">i</span>&nbsp;<span class="op" id="1596903">:=</span>&nbsp;<span class="num" id="1596906">0</span><span class="op" id="1596907">;</span>&nbsp;<span class="ident" id="1596909"><a href="/time/time.go.html#1596901">i</a></span>&nbsp;<span class="op" id="1596911">&lt;</span>&nbsp;<span class="ident" id="1596913"><a href="/time/time.go.html#1596774">prec</a></span><span class="op" id="1596917">;</span>&nbsp;<span class="ident" id="1596919"><a href="/time/time.go.html#1596901">i</a></span><span class="op" id="1596920">++</span>&nbsp;<span class="op" id="1596923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596927">digit</span>&nbsp;<span class="op" id="1596933">:=</span>&nbsp;<span class="ident" id="1596936"><a href="/time/time.go.html#1596764">v</a></span>&nbsp;<span class="op" id="1596938">%</span>&nbsp;<span class="num" id="1596940">10</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1596945"><a href="/time/time.go.html#1596881">print</a></span>&nbsp;<span class="op" id="1596951">=</span>&nbsp;<span class="builtinfunc" id="1596953"><a href="/time/time.go.html#1596881">print</a></span>&nbsp;<span class="op" id="1596959">||</span>&nbsp;<span class="ident" id="1596962"><a href="/time/time.go.html#1596927">digit</a></span>&nbsp;<span class="op" id="1596968">!=</span>&nbsp;<span class="num" id="1596971">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1596975">if</span>&nbsp;<span class="builtinfunc" id="1596978"><a href="/time/time.go.html#1596881">print</a></span>&nbsp;<span class="op" id="1596984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596989"><a href="/time/time.go.html#1596866">w</a></span><span class="op" id="1596990">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1596996"><a href="/time/time.go.html#1596752">buf</a></span><span class="op" id="1596999">[</span><span class="ident" id="1597000"><a href="/time/time.go.html#1596866">w</a></span><span class="op" id="1597001">]</span>&nbsp;<span class="op" id="1597003">=</span>&nbsp;<span class="builtintype" id="1597005">byte</span><span class="op" id="1597009">(</span><span class="ident" id="1597010"><a href="/time/time.go.html#1596927">digit</a></span><span class="op" id="1597015">)</span>&nbsp;<span class="op" id="1597017">+</span>&nbsp;<span class="string" id="1597019">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1597025">}</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1597029"><a href="/time/time.go.html#1596764">v</a></span>&nbsp;<span class="op" id="1597031">/=</span>&nbsp;<span class="num" id="1597034">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1597038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1597041">if</span>&nbsp;<span class="builtinfunc" id="1597044"><a href="/time/time.go.html#1596881">print</a></span>&nbsp;<span class="op" id="1597050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1597054"><a href="/time/time.go.html#1596866">w</a></span><span class="op" id="1597055">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1597060"><a href="/time/time.go.html#1596752">buf</a></span><span class="op" id="1597063">[</span><span class="ident" id="1597064"><a href="/time/time.go.html#1596866">w</a></span><span class="op" id="1597065">]</span>&nbsp;<span class="op" id="1597067">=</span>&nbsp;<span class="string" id="1597069">&#39;.&#39;</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1597074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1597077">return</span>&nbsp;<span class="ident" id="1597084"><a href="/time/time.go.html#1596866">w</a></span><span class="op" id="1597085">,</span>&nbsp;<span class="ident" id="1597087"><a href="/time/time.go.html#1596764">v</a></span><br>
<span class="lineno"></span><span class="op" id="1597089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1597092">//&nbsp;fmtInt&nbsp;formats&nbsp;v&nbsp;into&nbsp;the&nbsp;tail&nbsp;of&nbsp;buf.</span><br>
<span class="lineno">560</span><span class="comment" id="1597134">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;index&nbsp;where&nbsp;the&nbsp;output&nbsp;begins.</span><br>
<span class="lineno"></span><span class="keyword" id="1597183">func</span>&nbsp;<span class="ident" id="1597188">fmtInt</span><span class="op" id="1597194">(</span><span class="ident" id="1597195">buf</span>&nbsp;<span class="op" id="1597199">[</span><span class="op" id="1597200">]</span><span class="builtintype" id="1597201">byte</span><span class="op" id="1597205">,</span>&nbsp;<span class="ident" id="1597207">v</span>&nbsp;<span class="ident" id="1597209">uint64</span><span class="op" id="1597215">)</span>&nbsp;<span class="builtintype" id="1597217">int</span>&nbsp;<span class="op" id="1597221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1597224">w</span>&nbsp;<span class="op" id="1597226">:=</span>&nbsp;<span class="builtinfunc" id="1597229">len</span><span class="op" id="1597232">(</span><span class="ident" id="1597233"><a href="/time/time.go.html#1597195">buf</a></span><span class="op" id="1597236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1597239">if</span>&nbsp;<span class="ident" id="1597242"><a href="/time/time.go.html#1597207">v</a></span>&nbsp;<span class="op" id="1597244">==</span>&nbsp;<span class="num" id="1597247">0</span>&nbsp;<span class="op" id="1597249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1597253"><a href="/time/time.go.html#1597224">w</a></span><span class="op" id="1597254">--</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1597259"><a href="/time/time.go.html#1597195">buf</a></span><span class="op" id="1597262">[</span><span class="ident" id="1597263"><a href="/time/time.go.html#1597224">w</a></span><span class="op" id="1597264">]</span>&nbsp;<span class="op" id="1597266">=</span>&nbsp;<span class="string" id="1597268">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1597273">}</span>&nbsp;<span class="keyword" id="1597275">else</span>&nbsp;<span class="op" id="1597280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1597284">for</span>&nbsp;<span class="ident" id="1597288"><a href="/time/time.go.html#1597207">v</a></span>&nbsp;<span class="op" id="1597290">&gt;</span>&nbsp;<span class="num" id="1597292">0</span>&nbsp;<span class="op" id="1597294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1597299"><a href="/time/time.go.html#1597224">w</a></span><span class="op" id="1597300">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1597306"><a href="/time/time.go.html#1597195">buf</a></span><span class="op" id="1597309">[</span><span class="ident" id="1597310"><a href="/time/time.go.html#1597224">w</a></span><span class="op" id="1597311">]</span>&nbsp;<span class="op" id="1597313">=</span>&nbsp;<span class="builtintype" id="1597315">byte</span><span class="op" id="1597319">(</span><span class="ident" id="1597320"><a href="/time/time.go.html#1597207">v</a></span><span class="op" id="1597321">%</span><span class="num" id="1597322">10</span><span class="op" id="1597324">)</span>&nbsp;<span class="op" id="1597326">+</span>&nbsp;<span class="string" id="1597328">&#39;0&#39;</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1597335"><a href="/time/time.go.html#1597207">v</a></span>&nbsp;<span class="op" id="1597337">/=</span>&nbsp;<span class="num" id="1597340">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1597345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1597348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1597351">return</span>&nbsp;<span class="ident" id="1597358"><a href="/time/time.go.html#1597224">w</a></span><br>
<span class="lineno"></span><span class="op" id="1597360">}</span><br>
<span class="lineno">575</span><br>
<span class="lineno"></span><span class="comment" id="1597363">//&nbsp;Nanoseconds&nbsp;returns&nbsp;the&nbsp;duration&nbsp;as&nbsp;an&nbsp;integer&nbsp;nanosecond&nbsp;count.</span><br>
<span class="lineno"></span><span class="keyword" id="1597431">func</span>&nbsp;<span class="op" id="1597436">(</span><span class="ident" id="1597437">d</span>&nbsp;<span class="ident" id="1597439"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1597447">)</span>&nbsp;<span class="ident" id="1597449">Nanoseconds</span><span class="op" id="1597460">(</span><span class="op" id="1597461">)</span>&nbsp;<span class="ident" id="1597463">int64</span>&nbsp;<span class="op" id="1597469">{</span>&nbsp;<span class="keyword" id="1597471">return</span>&nbsp;<span class="ident" id="1597478">int64</span><span class="op" id="1597483">(</span><span class="ident" id="1597484"><a href="/time/time.go.html#1597437">d</a></span><span class="op" id="1597485">)</span>&nbsp;<span class="op" id="1597487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1597490">//&nbsp;These&nbsp;methods&nbsp;return&nbsp;float64&nbsp;because&nbsp;the&nbsp;dominant</span><br>
<span class="lineno">580</span><span class="comment" id="1597543">//&nbsp;use&nbsp;case&nbsp;is&nbsp;for&nbsp;printing&nbsp;a&nbsp;floating&nbsp;point&nbsp;number&nbsp;like&nbsp;1.5s,&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="1597610">//&nbsp;a&nbsp;truncation&nbsp;to&nbsp;integer&nbsp;would&nbsp;make&nbsp;them&nbsp;not&nbsp;useful&nbsp;in&nbsp;those&nbsp;cases.</span><br>
<span class="lineno"></span><span class="comment" id="1597680">//&nbsp;Splitting&nbsp;the&nbsp;integer&nbsp;and&nbsp;fraction&nbsp;ourselves&nbsp;guarantees&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="1597744">//&nbsp;converting&nbsp;the&nbsp;returned&nbsp;float64&nbsp;to&nbsp;an&nbsp;integer&nbsp;rounds&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span><span class="comment" id="1597809">//&nbsp;way&nbsp;that&nbsp;a&nbsp;pure&nbsp;integer&nbsp;conversion&nbsp;would&nbsp;have,&nbsp;even&nbsp;in&nbsp;cases</span><br>
<span class="lineno">585</span><span class="comment" id="1597873">//&nbsp;where,&nbsp;say,&nbsp;float64(d.Nanoseconds())/1e9&nbsp;would&nbsp;have&nbsp;rounded</span><br>
<span class="lineno"></span><span class="comment" id="1597936">//&nbsp;differently.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1597953">//&nbsp;Seconds&nbsp;returns&nbsp;the&nbsp;duration&nbsp;as&nbsp;a&nbsp;floating&nbsp;point&nbsp;number&nbsp;of&nbsp;seconds.</span><br>
<span class="lineno"></span><span class="keyword" id="1598024">func</span>&nbsp;<span class="op" id="1598029">(</span><span class="ident" id="1598030">d</span>&nbsp;<span class="ident" id="1598032"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1598040">)</span>&nbsp;<span class="ident" id="1598042">Seconds</span><span class="op" id="1598049">(</span><span class="op" id="1598050">)</span>&nbsp;<span class="builtintype" id="1598052">float64</span>&nbsp;<span class="op" id="1598060">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1598063">sec</span>&nbsp;<span class="op" id="1598067">:=</span>&nbsp;<span class="ident" id="1598070"><a href="/time/time.go.html#1598030">d</a></span>&nbsp;<span class="op" id="1598072">/</span>&nbsp;<span class="ident" id="1598074"><a href="/time/time.go.html#1594827">Second</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1598082">nsec</span>&nbsp;<span class="op" id="1598087">:=</span>&nbsp;<span class="ident" id="1598090"><a href="/time/time.go.html#1598030">d</a></span>&nbsp;<span class="op" id="1598092">%</span>&nbsp;<span class="ident" id="1598094"><a href="/time/time.go.html#1594827">Second</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1598102">return</span>&nbsp;<span class="builtintype" id="1598109">float64</span><span class="op" id="1598116">(</span><span class="ident" id="1598117"><a href="/time/time.go.html#1598063">sec</a></span><span class="op" id="1598120">)</span>&nbsp;<span class="op" id="1598122">+</span>&nbsp;<span class="builtintype" id="1598124">float64</span><span class="op" id="1598131">(</span><span class="ident" id="1598132"><a href="/time/time.go.html#1598082">nsec</a></span><span class="op" id="1598136">)</span><span class="op" id="1598137">*</span><span class="num" id="1598138">1e-9</span><br>
<span class="lineno"></span><span class="op" id="1598143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span><span class="comment" id="1598146">//&nbsp;Minutes&nbsp;returns&nbsp;the&nbsp;duration&nbsp;as&nbsp;a&nbsp;floating&nbsp;point&nbsp;number&nbsp;of&nbsp;minutes.</span><br>
<span class="lineno"></span><span class="keyword" id="1598217">func</span>&nbsp;<span class="op" id="1598222">(</span><span class="ident" id="1598223">d</span>&nbsp;<span class="ident" id="1598225"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1598233">)</span>&nbsp;<span class="ident" id="1598235">Minutes</span><span class="op" id="1598242">(</span><span class="op" id="1598243">)</span>&nbsp;<span class="builtintype" id="1598245">float64</span>&nbsp;<span class="op" id="1598253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1598256">min</span>&nbsp;<span class="op" id="1598260">:=</span>&nbsp;<span class="ident" id="1598263"><a href="/time/time.go.html#1598223">d</a></span>&nbsp;<span class="op" id="1598265">/</span>&nbsp;<span class="ident" id="1598267"><a href="/time/time.go.html#1594870">Minute</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1598275">nsec</span>&nbsp;<span class="op" id="1598280">:=</span>&nbsp;<span class="ident" id="1598283"><a href="/time/time.go.html#1598223">d</a></span>&nbsp;<span class="op" id="1598285">%</span>&nbsp;<span class="ident" id="1598287"><a href="/time/time.go.html#1594870">Minute</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1598295">return</span>&nbsp;<span class="builtintype" id="1598302">float64</span><span class="op" id="1598309">(</span><span class="ident" id="1598310"><a href="/time/time.go.html#1598256">min</a></span><span class="op" id="1598313">)</span>&nbsp;<span class="op" id="1598315">+</span>&nbsp;<span class="builtintype" id="1598317">float64</span><span class="op" id="1598324">(</span><span class="ident" id="1598325"><a href="/time/time.go.html#1598275">nsec</a></span><span class="op" id="1598329">)</span><span class="op" id="1598330">*</span><span class="op" id="1598331">(</span><span class="num" id="1598332">1e-9</span><span class="op" id="1598336">/</span><span class="num" id="1598337">60</span><span class="op" id="1598339">)</span><br>
<span class="lineno">600</span><span class="op" id="1598341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1598344">//&nbsp;Hours&nbsp;returns&nbsp;the&nbsp;duration&nbsp;as&nbsp;a&nbsp;floating&nbsp;point&nbsp;number&nbsp;of&nbsp;hours.</span><br>
<span class="lineno"></span><span class="keyword" id="1598411">func</span>&nbsp;<span class="op" id="1598416">(</span><span class="ident" id="1598417">d</span>&nbsp;<span class="ident" id="1598419"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1598427">)</span>&nbsp;<span class="ident" id="1598429">Hours</span><span class="op" id="1598434">(</span><span class="op" id="1598435">)</span>&nbsp;<span class="builtintype" id="1598437">float64</span>&nbsp;<span class="op" id="1598445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1598448">hour</span>&nbsp;<span class="op" id="1598453">:=</span>&nbsp;<span class="ident" id="1598456"><a href="/time/time.go.html#1598417">d</a></span>&nbsp;<span class="op" id="1598458">/</span>&nbsp;<span class="ident" id="1598460"><a href="/time/time.go.html#1594906">Hour</a></span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1598466">nsec</span>&nbsp;<span class="op" id="1598471">:=</span>&nbsp;<span class="ident" id="1598474"><a href="/time/time.go.html#1598417">d</a></span>&nbsp;<span class="op" id="1598476">%</span>&nbsp;<span class="ident" id="1598478"><a href="/time/time.go.html#1594906">Hour</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1598484">return</span>&nbsp;<span class="builtintype" id="1598491">float64</span><span class="op" id="1598498">(</span><span class="ident" id="1598499"><a href="/time/time.go.html#1598448">hour</a></span><span class="op" id="1598503">)</span>&nbsp;<span class="op" id="1598505">+</span>&nbsp;<span class="builtintype" id="1598507">float64</span><span class="op" id="1598514">(</span><span class="ident" id="1598515"><a href="/time/time.go.html#1598466">nsec</a></span><span class="op" id="1598519">)</span><span class="op" id="1598520">*</span><span class="op" id="1598521">(</span><span class="num" id="1598522">1e-9</span><span class="op" id="1598526">/</span><span class="num" id="1598527">60</span><span class="op" id="1598529">/</span><span class="num" id="1598530">60</span><span class="op" id="1598532">)</span><br>
<span class="lineno"></span><span class="op" id="1598534">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1598537">//&nbsp;Add&nbsp;returns&nbsp;the&nbsp;time&nbsp;t+d.</span><br>
<span class="lineno">610</span><span class="keyword" id="1598566">func</span>&nbsp;<span class="op" id="1598571">(</span><span class="ident" id="1598572">t</span>&nbsp;<span class="ident" id="1598574"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1598578">)</span>&nbsp;<span class="ident" id="1598580">Add</span><span class="op" id="1598583">(</span><span class="ident" id="1598584">d</span>&nbsp;<span class="ident" id="1598586"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1598594">)</span>&nbsp;<span class="ident" id="1598596"><a href="/time/time.go.html#1582052">Time</a></span>&nbsp;<span class="op" id="1598601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1598604"><a href="/time/time.go.html#1598572">t</a></span><span class="op" id="1598605">.</span><span class="ident" id="1598606">sec</span>&nbsp;<span class="op" id="1598610">+=</span>&nbsp;<span class="ident" id="1598613">int64</span><span class="op" id="1598618">(</span><span class="ident" id="1598619"><a href="/time/time.go.html#1598584">d</a></span>&nbsp;<span class="op" id="1598621">/</span>&nbsp;<span class="num" id="1598623">1e9</span><span class="op" id="1598626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1598629">nsec</span>&nbsp;<span class="op" id="1598634">:=</span>&nbsp;<span class="builtintype" id="1598637">int32</span><span class="op" id="1598642">(</span><span class="ident" id="1598643"><a href="/time/time.go.html#1598572">t</a></span><span class="op" id="1598644">.</span><span class="ident" id="1598645">nsec</span><span class="op" id="1598649">)</span>&nbsp;<span class="op" id="1598651">+</span>&nbsp;<span class="builtintype" id="1598653">int32</span><span class="op" id="1598658">(</span><span class="ident" id="1598659"><a href="/time/time.go.html#1598584">d</a></span><span class="op" id="1598660">%</span><span class="num" id="1598661">1e9</span><span class="op" id="1598664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1598667">if</span>&nbsp;<span class="ident" id="1598670"><a href="/time/time.go.html#1598629">nsec</a></span>&nbsp;<span class="op" id="1598675">&gt;=</span>&nbsp;<span class="num" id="1598678">1e9</span>&nbsp;<span class="op" id="1598682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1598686"><a href="/time/time.go.html#1598572">t</a></span><span class="op" id="1598687">.</span><span class="ident" id="1598688">sec</span><span class="op" id="1598691">++</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1598696"><a href="/time/time.go.html#1598629">nsec</a></span>&nbsp;<span class="op" id="1598701">-=</span>&nbsp;<span class="num" id="1598704">1e9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1598709">}</span>&nbsp;<span class="keyword" id="1598711">else</span>&nbsp;<span class="keyword" id="1598716">if</span>&nbsp;<span class="ident" id="1598719"><a href="/time/time.go.html#1598629">nsec</a></span>&nbsp;<span class="op" id="1598724">&lt;</span>&nbsp;<span class="num" id="1598726">0</span>&nbsp;<span class="op" id="1598728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1598732"><a href="/time/time.go.html#1598572">t</a></span><span class="op" id="1598733">.</span><span class="ident" id="1598734">sec</span><span class="op" id="1598737">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1598742"><a href="/time/time.go.html#1598629">nsec</a></span>&nbsp;<span class="op" id="1598747">+=</span>&nbsp;<span class="num" id="1598750">1e9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1598755">}</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1598758"><a href="/time/time.go.html#1598572">t</a></span><span class="op" id="1598759">.</span><span class="ident" id="1598760">nsec</span>&nbsp;<span class="op" id="1598765">=</span>&nbsp;<span class="ident" id="1598767"><a href="/time/time.go.html#1598629">nsec</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1598773">return</span>&nbsp;<span class="ident" id="1598780"><a href="/time/time.go.html#1598572">t</a></span><br>
<span class="lineno"></span><span class="op" id="1598782">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1598785">//&nbsp;Sub&nbsp;returns&nbsp;the&nbsp;duration&nbsp;t-u.&nbsp;If&nbsp;the&nbsp;result&nbsp;exceeds&nbsp;the&nbsp;maximum&nbsp;(or&nbsp;minimum)</span><br>
<span class="lineno">625</span><span class="comment" id="1598865">//&nbsp;value&nbsp;that&nbsp;can&nbsp;be&nbsp;stored&nbsp;in&nbsp;a&nbsp;Duration,&nbsp;the&nbsp;maximum&nbsp;(or&nbsp;minimum)&nbsp;duration</span><br>
<span class="lineno"></span><span class="comment" id="1598942">//&nbsp;will&nbsp;be&nbsp;returned.</span><br>
<span class="lineno"></span><span class="comment" id="1598963">//&nbsp;To&nbsp;compute&nbsp;t-d&nbsp;for&nbsp;a&nbsp;duration&nbsp;d,&nbsp;use&nbsp;t.Add(-d).</span><br>
<span class="lineno"></span><span class="keyword" id="1599014">func</span>&nbsp;<span class="op" id="1599019">(</span><span class="ident" id="1599020">t</span>&nbsp;<span class="ident" id="1599022"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1599026">)</span>&nbsp;<span class="ident" id="1599028">Sub</span><span class="op" id="1599031">(</span><span class="ident" id="1599032">u</span>&nbsp;<span class="ident" id="1599034"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1599038">)</span>&nbsp;<span class="ident" id="1599040"><a href="/time/time.go.html#1594177">Duration</a></span>&nbsp;<span class="op" id="1599049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1599052">d</span>&nbsp;<span class="op" id="1599054">:=</span>&nbsp;<span class="ident" id="1599057"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1599065">(</span><span class="ident" id="1599066"><a href="/time/time.go.html#1599020">t</a></span><span class="op" id="1599067">.</span><span class="ident" id="1599068">sec</span><span class="op" id="1599071">-</span><span class="ident" id="1599072"><a href="/time/time.go.html#1599032">u</a></span><span class="op" id="1599073">.</span><span class="ident" id="1599074">sec</span><span class="op" id="1599077">)</span><span class="op" id="1599078">*</span><span class="ident" id="1599079"><a href="/time/time.go.html#1594827">Second</a></span>&nbsp;<span class="op" id="1599086">+</span>&nbsp;<span class="ident" id="1599088"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1599096">(</span><span class="builtintype" id="1599097">int32</span><span class="op" id="1599102">(</span><span class="ident" id="1599103"><a href="/time/time.go.html#1599020">t</a></span><span class="op" id="1599104">.</span><span class="ident" id="1599105">nsec</span><span class="op" id="1599109">)</span><span class="op" id="1599110">-</span><span class="builtintype" id="1599111">int32</span><span class="op" id="1599116">(</span><span class="ident" id="1599117"><a href="/time/time.go.html#1599032">u</a></span><span class="op" id="1599118">.</span><span class="ident" id="1599119">nsec</span><span class="op" id="1599123">)</span><span class="op" id="1599124">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1599127">//&nbsp;Check&nbsp;for&nbsp;overflow&nbsp;or&nbsp;underflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1599164">switch</span>&nbsp;<span class="op" id="1599171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1599174">case</span>&nbsp;<span class="ident" id="1599179"><a href="/time/time.go.html#1599032">u</a></span><span class="op" id="1599180">.</span><span class="ident" id="1599181">Add</span><span class="op" id="1599184">(</span><span class="ident" id="1599185"><a href="/time/time.go.html#1599052">d</a></span><span class="op" id="1599186">)</span><span class="op" id="1599187">.</span><span class="ident" id="1599188">Equal</span><span class="op" id="1599193">(</span><span class="ident" id="1599194"><a href="/time/time.go.html#1599020">t</a></span><span class="op" id="1599195">)</span><span class="op" id="1599196">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1599200">return</span>&nbsp;<span class="ident" id="1599207"><a href="/time/time.go.html#1599052">d</a></span>&nbsp;<span class="comment" id="1599209">//&nbsp;d&nbsp;is&nbsp;correct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1599226">case</span>&nbsp;<span class="ident" id="1599231"><a href="/time/time.go.html#1599020">t</a></span><span class="op" id="1599232">.</span><span class="ident" id="1599233">Before</span><span class="op" id="1599239">(</span><span class="ident" id="1599240"><a href="/time/time.go.html#1599032">u</a></span><span class="op" id="1599241">)</span><span class="op" id="1599242">:</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1599246">return</span>&nbsp;<span class="ident" id="1599253"><a href="/time/time.go.html#1594202">minDuration</a></span>&nbsp;<span class="comment" id="1599265">//&nbsp;t&nbsp;-&nbsp;u&nbsp;is&nbsp;negative&nbsp;out&nbsp;of&nbsp;range</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1599300">default</span><span class="op" id="1599307">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1599311">return</span>&nbsp;<span class="ident" id="1599318"><a href="/time/time.go.html#1594235">maxDuration</a></span>&nbsp;<span class="comment" id="1599330">//&nbsp;t&nbsp;-&nbsp;u&nbsp;is&nbsp;positive&nbsp;out&nbsp;of&nbsp;range</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1599365">}</span><br>
<span class="lineno"></span><span class="op" id="1599367">}</span><br>
<span class="lineno">640</span><br>
<span class="lineno"></span><span class="comment" id="1599370">//&nbsp;Since&nbsp;returns&nbsp;the&nbsp;time&nbsp;elapsed&nbsp;since&nbsp;t.</span><br>
<span class="lineno"></span><span class="comment" id="1599413">//&nbsp;It&nbsp;is&nbsp;shorthand&nbsp;for&nbsp;time.Now().Sub(t).</span><br>
<span class="lineno"></span><span class="keyword" id="1599455">func</span>&nbsp;<span class="ident" id="1599460">Since</span><span class="op" id="1599465">(</span><span class="ident" id="1599466">t</span>&nbsp;<span class="ident" id="1599468"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1599472">)</span>&nbsp;<span class="ident" id="1599474"><a href="/time/time.go.html#1594177">Duration</a></span>&nbsp;<span class="op" id="1599483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1599486">return</span>&nbsp;<span class="ident" id="1599493"><a href="/time/time.go.html#1603053">Now</a></span><span class="op" id="1599496">(</span><span class="op" id="1599497">)</span><span class="op" id="1599498">.</span><span class="ident" id="1599499">Sub</span><span class="op" id="1599502">(</span><span class="ident" id="1599503"><a href="/time/time.go.html#1599466">t</a></span><span class="op" id="1599504">)</span><br>
<span class="lineno">645</span><span class="op" id="1599506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1599509">//&nbsp;AddDate&nbsp;returns&nbsp;the&nbsp;time&nbsp;corresponding&nbsp;to&nbsp;adding&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1599565">//&nbsp;given&nbsp;number&nbsp;of&nbsp;years,&nbsp;months,&nbsp;and&nbsp;days&nbsp;to&nbsp;t.</span><br>
<span class="lineno"></span><span class="comment" id="1599614">//&nbsp;For&nbsp;example,&nbsp;AddDate(-1,&nbsp;2,&nbsp;3)&nbsp;applied&nbsp;to&nbsp;January&nbsp;1,&nbsp;2011</span><br>
<span class="lineno">650</span><span class="comment" id="1599675">//&nbsp;returns&nbsp;March&nbsp;4,&nbsp;2010.</span><br>
<span class="lineno"></span><span class="comment" id="1599701">//</span><br>
<span class="lineno"></span><span class="comment" id="1599704">//&nbsp;AddDate&nbsp;normalizes&nbsp;its&nbsp;result&nbsp;in&nbsp;the&nbsp;same&nbsp;way&nbsp;that&nbsp;Date&nbsp;does,</span><br>
<span class="lineno"></span><span class="comment" id="1599769">//&nbsp;so,&nbsp;for&nbsp;example,&nbsp;adding&nbsp;one&nbsp;month&nbsp;to&nbsp;October&nbsp;31&nbsp;yields</span><br>
<span class="lineno"></span><span class="comment" id="1599827">//&nbsp;December&nbsp;1,&nbsp;the&nbsp;normalized&nbsp;form&nbsp;for&nbsp;November&nbsp;31.</span><br>
<span class="lineno">655</span><span class="keyword" id="1599879">func</span>&nbsp;<span class="op" id="1599884">(</span><span class="ident" id="1599885">t</span>&nbsp;<span class="ident" id="1599887"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1599891">)</span>&nbsp;<span class="ident" id="1599893">AddDate</span><span class="op" id="1599900">(</span><span class="ident" id="1599901">years</span>&nbsp;<span class="builtintype" id="1599907">int</span><span class="op" id="1599910">,</span>&nbsp;<span class="ident" id="1599912">months</span>&nbsp;<span class="builtintype" id="1599919">int</span><span class="op" id="1599922">,</span>&nbsp;<span class="ident" id="1599924">days</span>&nbsp;<span class="builtintype" id="1599929">int</span><span class="op" id="1599932">)</span>&nbsp;<span class="ident" id="1599934"><a href="/time/time.go.html#1582052">Time</a></span>&nbsp;<span class="op" id="1599939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1599942">year</span><span class="op" id="1599946">,</span>&nbsp;<span class="ident" id="1599948">month</span><span class="op" id="1599953">,</span>&nbsp;<span class="ident" id="1599955">day</span>&nbsp;<span class="op" id="1599959">:=</span>&nbsp;<span class="ident" id="1599962"><a href="/time/time.go.html#1599885">t</a></span><span class="op" id="1599963">.</span><span class="ident" id="1599964">Date</span><span class="op" id="1599968">(</span><span class="op" id="1599969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1599972">hour</span><span class="op" id="1599976">,</span>&nbsp;<span class="ident" id="1599978">min</span><span class="op" id="1599981">,</span>&nbsp;<span class="ident" id="1599983">sec</span>&nbsp;<span class="op" id="1599987">:=</span>&nbsp;<span class="ident" id="1599990"><a href="/time/time.go.html#1599885">t</a></span><span class="op" id="1599991">.</span><span class="ident" id="1599992">Clock</span><span class="op" id="1599997">(</span><span class="op" id="1599998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1600001">return</span>&nbsp;<span class="ident" id="1600008"><a href="/time/time.go.html#1610040">Date</a></span><span class="op" id="1600012">(</span><span class="ident" id="1600013"><a href="/time/time.go.html#1599942">year</a></span><span class="op" id="1600017">+</span><span class="ident" id="1600018"><a href="/time/time.go.html#1599901">years</a></span><span class="op" id="1600023">,</span>&nbsp;<span class="ident" id="1600025"><a href="/time/time.go.html#1599948">month</a></span><span class="op" id="1600030">+</span><span class="ident" id="1600031"><a href="/time/time.go.html#1583297">Month</a></span><span class="op" id="1600036">(</span><span class="ident" id="1600037"><a href="/time/time.go.html#1599912">months</a></span><span class="op" id="1600043">)</span><span class="op" id="1600044">,</span>&nbsp;<span class="ident" id="1600046"><a href="/time/time.go.html#1599955">day</a></span><span class="op" id="1600049">+</span><span class="ident" id="1600050"><a href="/time/time.go.html#1599924">days</a></span><span class="op" id="1600054">,</span>&nbsp;<span class="ident" id="1600056"><a href="/time/time.go.html#1599972">hour</a></span><span class="op" id="1600060">,</span>&nbsp;<span class="ident" id="1600062"><a href="/time/time.go.html#1599978">min</a></span><span class="op" id="1600065">,</span>&nbsp;<span class="ident" id="1600067"><a href="/time/time.go.html#1599983">sec</a></span><span class="op" id="1600070">,</span>&nbsp;<span class="builtintype" id="1600072">int</span><span class="op" id="1600075">(</span><span class="ident" id="1600076"><a href="/time/time.go.html#1599885">t</a></span><span class="op" id="1600077">.</span><span class="ident" id="1600078">nsec</span><span class="op" id="1600082">)</span><span class="op" id="1600083">,</span>&nbsp;<span class="ident" id="1600085"><a href="/time/time.go.html#1599885">t</a></span><span class="op" id="1600086">.</span><span class="ident" id="1600087">loc</span><span class="op" id="1600090">)</span><br>
<span class="lineno"></span><span class="op" id="1600092">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="1600095">const</span>&nbsp;<span class="op" id="1600101">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1600104">secondsPerMinute</span>&nbsp;<span class="op" id="1600121">=</span>&nbsp;<span class="num" id="1600123">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1600127">secondsPerHour</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1600144">=</span>&nbsp;<span class="num" id="1600146">60</span>&nbsp;<span class="op" id="1600149">*</span>&nbsp;<span class="num" id="1600151">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1600155">secondsPerDay</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1600172">=</span>&nbsp;<span class="num" id="1600174">24</span>&nbsp;<span class="op" id="1600177">*</span>&nbsp;<span class="ident" id="1600179"><a href="/time/time.go.html#1600127">secondsPerHour</a></span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1600195">secondsPerWeek</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1600212">=</span>&nbsp;<span class="num" id="1600214">7</span>&nbsp;<span class="op" id="1600216">*</span>&nbsp;<span class="ident" id="1600218"><a href="/time/time.go.html#1600155">secondsPerDay</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1600233">daysPer400Years</span>&nbsp;&nbsp;<span class="op" id="1600250">=</span>&nbsp;<span class="num" id="1600252">365</span><span class="op" id="1600255">*</span><span class="num" id="1600256">400</span>&nbsp;<span class="op" id="1600260">+</span>&nbsp;<span class="num" id="1600262">97</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1600266">daysPer100Years</span>&nbsp;&nbsp;<span class="op" id="1600283">=</span>&nbsp;<span class="num" id="1600285">365</span><span class="op" id="1600288">*</span><span class="num" id="1600289">100</span>&nbsp;<span class="op" id="1600293">+</span>&nbsp;<span class="num" id="1600295">24</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1600299">daysPer4Years</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1600316">=</span>&nbsp;<span class="num" id="1600318">365</span><span class="op" id="1600321">*</span><span class="num" id="1600322">4</span>&nbsp;<span class="op" id="1600324">+</span>&nbsp;<span class="num" id="1600326">1</span><br>
<span class="lineno"></span><span class="op" id="1600328">)</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="comment" id="1600331">//&nbsp;date&nbsp;computes&nbsp;the&nbsp;year,&nbsp;day&nbsp;of&nbsp;year,&nbsp;and&nbsp;when&nbsp;full=true,</span><br>
<span class="lineno"></span><span class="comment" id="1600391">//&nbsp;the&nbsp;month&nbsp;and&nbsp;day&nbsp;in&nbsp;which&nbsp;t&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="keyword" id="1600431">func</span>&nbsp;<span class="op" id="1600436">(</span><span class="ident" id="1600437">t</span>&nbsp;<span class="ident" id="1600439"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1600443">)</span>&nbsp;<span class="ident" id="1600445">date</span><span class="op" id="1600449">(</span><span class="ident" id="1600450">full</span>&nbsp;<span class="builtintype" id="1600455">bool</span><span class="op" id="1600459">)</span>&nbsp;<span class="op" id="1600461">(</span><span class="ident" id="1600462">year</span>&nbsp;<span class="builtintype" id="1600467">int</span><span class="op" id="1600470">,</span>&nbsp;<span class="ident" id="1600472">month</span>&nbsp;<span class="ident" id="1600478"><a href="/time/time.go.html#1583297">Month</a></span><span class="op" id="1600483">,</span>&nbsp;<span class="ident" id="1600485">day</span>&nbsp;<span class="builtintype" id="1600489">int</span><span class="op" id="1600492">,</span>&nbsp;<span class="ident" id="1600494">yday</span>&nbsp;<span class="builtintype" id="1600499">int</span><span class="op" id="1600502">)</span>&nbsp;<span class="op" id="1600504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1600507">return</span>&nbsp;<span class="ident" id="1600514"><a href="/time/time.go.html#1600603">absDate</a></span><span class="op" id="1600521">(</span><span class="ident" id="1600522"><a href="/time/time.go.html#1600437">t</a></span><span class="op" id="1600523">.</span><span class="ident" id="1600524">abs</span><span class="op" id="1600527">(</span><span class="op" id="1600528">)</span><span class="op" id="1600529">,</span>&nbsp;<span class="ident" id="1600531"><a href="/time/time.go.html#1600450">full</a></span><span class="op" id="1600535">)</span><br>
<span class="lineno">675</span><span class="op" id="1600537">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1600540">//&nbsp;absDate&nbsp;is&nbsp;like&nbsp;date&nbsp;but&nbsp;operates&nbsp;on&nbsp;an&nbsp;absolute&nbsp;time.</span><br>
<span class="lineno"></span><span class="keyword" id="1600598">func</span>&nbsp;<span class="ident" id="1600603">absDate</span><span class="op" id="1600610">(</span><span class="ident" id="1600611">abs</span>&nbsp;<span class="ident" id="1600615">uint64</span><span class="op" id="1600621">,</span>&nbsp;<span class="ident" id="1600623">full</span>&nbsp;<span class="builtintype" id="1600628">bool</span><span class="op" id="1600632">)</span>&nbsp;<span class="op" id="1600634">(</span><span class="ident" id="1600635">year</span>&nbsp;<span class="builtintype" id="1600640">int</span><span class="op" id="1600643">,</span>&nbsp;<span class="ident" id="1600645">month</span>&nbsp;<span class="ident" id="1600651"><a href="/time/time.go.html#1583297">Month</a></span><span class="op" id="1600656">,</span>&nbsp;<span class="ident" id="1600658">day</span>&nbsp;<span class="builtintype" id="1600662">int</span><span class="op" id="1600665">,</span>&nbsp;<span class="ident" id="1600667">yday</span>&nbsp;<span class="builtintype" id="1600672">int</span><span class="op" id="1600675">)</span>&nbsp;<span class="op" id="1600677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1600680">//&nbsp;Split&nbsp;into&nbsp;time&nbsp;and&nbsp;day.</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1600709">d</span>&nbsp;<span class="op" id="1600711">:=</span>&nbsp;<span class="ident" id="1600714"><a href="/time/time.go.html#1600611">abs</a></span>&nbsp;<span class="op" id="1600718">/</span>&nbsp;<span class="ident" id="1600720"><a href="/time/time.go.html#1600155">secondsPerDay</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1600736">//&nbsp;Account&nbsp;for&nbsp;400&nbsp;year&nbsp;cycles.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1600769">n</span>&nbsp;<span class="op" id="1600771">:=</span>&nbsp;<span class="ident" id="1600774"><a href="/time/time.go.html#1600709">d</a></span>&nbsp;<span class="op" id="1600776">/</span>&nbsp;<span class="ident" id="1600778"><a href="/time/time.go.html#1600233">daysPer400Years</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1600795">y</span>&nbsp;<span class="op" id="1600797">:=</span>&nbsp;<span class="num" id="1600800">400</span>&nbsp;<span class="op" id="1600804">*</span>&nbsp;<span class="ident" id="1600806"><a href="/time/time.go.html#1600769">n</a></span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1600809"><a href="/time/time.go.html#1600709">d</a></span>&nbsp;<span class="op" id="1600811">-=</span>&nbsp;<span class="ident" id="1600814"><a href="/time/time.go.html#1600233">daysPer400Years</a></span>&nbsp;<span class="op" id="1600830">*</span>&nbsp;<span class="ident" id="1600832"><a href="/time/time.go.html#1600769">n</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1600836">//&nbsp;Cut&nbsp;off&nbsp;100-year&nbsp;cycles.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1600865">//&nbsp;The&nbsp;last&nbsp;cycle&nbsp;has&nbsp;one&nbsp;extra&nbsp;leap&nbsp;year,&nbsp;so&nbsp;on&nbsp;the&nbsp;last&nbsp;day</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1600928">//&nbsp;of&nbsp;that&nbsp;year,&nbsp;day&nbsp;/&nbsp;daysPer100Years&nbsp;will&nbsp;be&nbsp;4&nbsp;instead&nbsp;of&nbsp;3.</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1600992">//&nbsp;Cut&nbsp;it&nbsp;back&nbsp;down&nbsp;to&nbsp;3&nbsp;by&nbsp;subtracting&nbsp;n&gt;&gt;2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601039"><a href="/time/time.go.html#1600769">n</a></span>&nbsp;<span class="op" id="1601041">=</span>&nbsp;<span class="ident" id="1601043"><a href="/time/time.go.html#1600709">d</a></span>&nbsp;<span class="op" id="1601045">/</span>&nbsp;<span class="ident" id="1601047"><a href="/time/time.go.html#1600266">daysPer100Years</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601064"><a href="/time/time.go.html#1600769">n</a></span>&nbsp;<span class="op" id="1601066">-=</span>&nbsp;<span class="ident" id="1601069"><a href="/time/time.go.html#1600769">n</a></span>&nbsp;<span class="op" id="1601071">&gt;&gt;</span>&nbsp;<span class="num" id="1601074">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601077"><a href="/time/time.go.html#1600795">y</a></span>&nbsp;<span class="op" id="1601079">+=</span>&nbsp;<span class="num" id="1601082">100</span>&nbsp;<span class="op" id="1601086">*</span>&nbsp;<span class="ident" id="1601088"><a href="/time/time.go.html#1600769">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601091"><a href="/time/time.go.html#1600709">d</a></span>&nbsp;<span class="op" id="1601093">-=</span>&nbsp;<span class="ident" id="1601096"><a href="/time/time.go.html#1600266">daysPer100Years</a></span>&nbsp;<span class="op" id="1601112">*</span>&nbsp;<span class="ident" id="1601114"><a href="/time/time.go.html#1600769">n</a></span><br>
<span class="lineno">695</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1601118">//&nbsp;Cut&nbsp;off&nbsp;4-year&nbsp;cycles.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1601145">//&nbsp;The&nbsp;last&nbsp;cycle&nbsp;has&nbsp;a&nbsp;missing&nbsp;leap&nbsp;year,&nbsp;which&nbsp;does&nbsp;not</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1601204">//&nbsp;affect&nbsp;the&nbsp;computation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601232"><a href="/time/time.go.html#1600769">n</a></span>&nbsp;<span class="op" id="1601234">=</span>&nbsp;<span class="ident" id="1601236"><a href="/time/time.go.html#1600709">d</a></span>&nbsp;<span class="op" id="1601238">/</span>&nbsp;<span class="ident" id="1601240"><a href="/time/time.go.html#1600299">daysPer4Years</a></span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601255"><a href="/time/time.go.html#1600795">y</a></span>&nbsp;<span class="op" id="1601257">+=</span>&nbsp;<span class="num" id="1601260">4</span>&nbsp;<span class="op" id="1601262">*</span>&nbsp;<span class="ident" id="1601264"><a href="/time/time.go.html#1600769">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601267"><a href="/time/time.go.html#1600709">d</a></span>&nbsp;<span class="op" id="1601269">-=</span>&nbsp;<span class="ident" id="1601272"><a href="/time/time.go.html#1600299">daysPer4Years</a></span>&nbsp;<span class="op" id="1601286">*</span>&nbsp;<span class="ident" id="1601288"><a href="/time/time.go.html#1600769">n</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1601292">//&nbsp;Cut&nbsp;off&nbsp;years&nbsp;within&nbsp;a&nbsp;4-year&nbsp;cycle.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1601333">//&nbsp;The&nbsp;last&nbsp;year&nbsp;is&nbsp;a&nbsp;leap&nbsp;year,&nbsp;so&nbsp;on&nbsp;the&nbsp;last&nbsp;day&nbsp;of&nbsp;that&nbsp;year,</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1601400">//&nbsp;day&nbsp;/&nbsp;365&nbsp;will&nbsp;be&nbsp;4&nbsp;instead&nbsp;of&nbsp;3.&nbsp;&nbsp;Cut&nbsp;it&nbsp;back&nbsp;down&nbsp;to&nbsp;3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1601461">//&nbsp;by&nbsp;subtracting&nbsp;n&gt;&gt;2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601486"><a href="/time/time.go.html#1600769">n</a></span>&nbsp;<span class="op" id="1601488">=</span>&nbsp;<span class="ident" id="1601490"><a href="/time/time.go.html#1600709">d</a></span>&nbsp;<span class="op" id="1601492">/</span>&nbsp;<span class="num" id="1601494">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601499"><a href="/time/time.go.html#1600769">n</a></span>&nbsp;<span class="op" id="1601501">-=</span>&nbsp;<span class="ident" id="1601504"><a href="/time/time.go.html#1600769">n</a></span>&nbsp;<span class="op" id="1601506">&gt;&gt;</span>&nbsp;<span class="num" id="1601509">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601512"><a href="/time/time.go.html#1600795">y</a></span>&nbsp;<span class="op" id="1601514">+=</span>&nbsp;<span class="ident" id="1601517"><a href="/time/time.go.html#1600769">n</a></span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601520"><a href="/time/time.go.html#1600709">d</a></span>&nbsp;<span class="op" id="1601522">-=</span>&nbsp;<span class="num" id="1601525">365</span>&nbsp;<span class="op" id="1601529">*</span>&nbsp;<span class="ident" id="1601531"><a href="/time/time.go.html#1600769">n</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601535"><a href="/time/time.go.html#1600635">year</a></span>&nbsp;<span class="op" id="1601540">=</span>&nbsp;<span class="builtintype" id="1601542">int</span><span class="op" id="1601545">(</span><span class="ident" id="1601546">int64</span><span class="op" id="1601551">(</span><span class="ident" id="1601552"><a href="/time/time.go.html#1600795">y</a></span><span class="op" id="1601553">)</span>&nbsp;<span class="op" id="1601555">+</span>&nbsp;<span class="ident" id="1601557"><a href="/time/time.go.html#1588075">absoluteZeroYear</a></span><span class="op" id="1601573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601576"><a href="/time/time.go.html#1600667">yday</a></span>&nbsp;<span class="op" id="1601581">=</span>&nbsp;<span class="builtintype" id="1601583">int</span><span class="op" id="1601586">(</span><span class="ident" id="1601587"><a href="/time/time.go.html#1600709">d</a></span><span class="op" id="1601588">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1601592">if</span>&nbsp;<span class="op" id="1601595">!</span><span class="ident" id="1601596"><a href="/time/time.go.html#1600623">full</a></span>&nbsp;<span class="op" id="1601601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1601605">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1601613">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601617"><a href="/time/time.go.html#1600658">day</a></span>&nbsp;<span class="op" id="1601621">=</span>&nbsp;<span class="ident" id="1601623"><a href="/time/time.go.html#1600667">yday</a></span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1601629">if</span>&nbsp;<span class="ident" id="1601632"><a href="/time/time.go.html#1608891">isLeap</a></span><span class="op" id="1601638">(</span><span class="ident" id="1601639"><a href="/time/time.go.html#1600635">year</a></span><span class="op" id="1601643">)</span>&nbsp;<span class="op" id="1601645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1601649">//&nbsp;Leap&nbsp;year</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1601664">switch</span>&nbsp;<span class="op" id="1601671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1601675">case</span>&nbsp;<span class="ident" id="1601680"><a href="/time/time.go.html#1600658">day</a></span>&nbsp;<span class="op" id="1601684">&gt;</span>&nbsp;<span class="num" id="1601686">31</span><span class="op" id="1601688">+</span><span class="num" id="1601689">29</span><span class="op" id="1601691">-</span><span class="num" id="1601692">1</span><span class="op" id="1601693">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1601698">//&nbsp;After&nbsp;leap&nbsp;day;&nbsp;pretend&nbsp;it&nbsp;wasn&#39;t&nbsp;there.</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601745"><a href="/time/time.go.html#1600658">day</a></span><span class="op" id="1601748">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1601753">case</span>&nbsp;<span class="ident" id="1601758"><a href="/time/time.go.html#1600658">day</a></span>&nbsp;<span class="op" id="1601762">==</span>&nbsp;<span class="num" id="1601765">31</span><span class="op" id="1601767">+</span><span class="num" id="1601768">29</span><span class="op" id="1601770">-</span><span class="num" id="1601771">1</span><span class="op" id="1601772">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1601777">//&nbsp;Leap&nbsp;day.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601793"><a href="/time/time.go.html#1600645">month</a></span>&nbsp;<span class="op" id="1601799">=</span>&nbsp;<span class="ident" id="1601801"><a href="/time/time.go.html#1583343">February</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601813"><a href="/time/time.go.html#1600658">day</a></span>&nbsp;<span class="op" id="1601817">=</span>&nbsp;<span class="num" id="1601819">29</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1601825">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1601834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1601837">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1601841">//&nbsp;Estimate&nbsp;month&nbsp;on&nbsp;assumption&nbsp;that&nbsp;every&nbsp;month&nbsp;has&nbsp;31&nbsp;days.</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1601904">//&nbsp;The&nbsp;estimate&nbsp;may&nbsp;be&nbsp;too&nbsp;low&nbsp;by&nbsp;at&nbsp;most&nbsp;one&nbsp;month,&nbsp;so&nbsp;adjust.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601969"><a href="/time/time.go.html#1600645">month</a></span>&nbsp;<span class="op" id="1601975">=</span>&nbsp;<span class="ident" id="1601977"><a href="/time/time.go.html#1583297">Month</a></span><span class="op" id="1601982">(</span><span class="ident" id="1601983"><a href="/time/time.go.html#1600658">day</a></span>&nbsp;<span class="op" id="1601987">/</span>&nbsp;<span class="num" id="1601989">31</span><span class="op" id="1601991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601994">end</span>&nbsp;<span class="op" id="1601998">:=</span>&nbsp;<span class="builtintype" id="1602001">int</span><span class="op" id="1602004">(</span><span class="ident" id="1602005"><a href="/time/time.go.html#1602383">daysBefore</a></span><span class="op" id="1602015">[</span><span class="ident" id="1602016"><a href="/time/time.go.html#1600645">month</a></span><span class="op" id="1602021">+</span><span class="num" id="1602022">1</span><span class="op" id="1602023">]</span><span class="op" id="1602024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1602027">var</span>&nbsp;<span class="ident" id="1602031">begin</span>&nbsp;<span class="builtintype" id="1602037">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1602042">if</span>&nbsp;<span class="ident" id="1602045"><a href="/time/time.go.html#1600658">day</a></span>&nbsp;<span class="op" id="1602049">&gt;=</span>&nbsp;<span class="ident" id="1602052"><a href="/time/time.go.html#1601994">end</a></span>&nbsp;<span class="op" id="1602056">{</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602060"><a href="/time/time.go.html#1600645">month</a></span><span class="op" id="1602065">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602070"><a href="/time/time.go.html#1602031">begin</a></span>&nbsp;<span class="op" id="1602076">=</span>&nbsp;<span class="ident" id="1602078"><a href="/time/time.go.html#1601994">end</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1602083">}</span>&nbsp;<span class="keyword" id="1602085">else</span>&nbsp;<span class="op" id="1602090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602094"><a href="/time/time.go.html#1602031">begin</a></span>&nbsp;<span class="op" id="1602100">=</span>&nbsp;<span class="builtintype" id="1602102">int</span><span class="op" id="1602105">(</span><span class="ident" id="1602106"><a href="/time/time.go.html#1602383">daysBefore</a></span><span class="op" id="1602116">[</span><span class="ident" id="1602117"><a href="/time/time.go.html#1600645">month</a></span><span class="op" id="1602122">]</span><span class="op" id="1602123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1602126">}</span><br>
<span class="lineno">745</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602130"><a href="/time/time.go.html#1600645">month</a></span><span class="op" id="1602135">++</span>&nbsp;<span class="comment" id="1602138">//&nbsp;because&nbsp;January&nbsp;is&nbsp;1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602163"><a href="/time/time.go.html#1600658">day</a></span>&nbsp;<span class="op" id="1602167">=</span>&nbsp;<span class="ident" id="1602169"><a href="/time/time.go.html#1600658">day</a></span>&nbsp;<span class="op" id="1602173">-</span>&nbsp;<span class="ident" id="1602175"><a href="/time/time.go.html#1602031">begin</a></span>&nbsp;<span class="op" id="1602181">+</span>&nbsp;<span class="num" id="1602183">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1602186">return</span><br>
<span class="lineno"></span><span class="op" id="1602193">}</span><br>
<span class="lineno">750</span><br>
<span class="lineno"></span><span class="comment" id="1602196">//&nbsp;daysBefore[m]&nbsp;counts&nbsp;the&nbsp;number&nbsp;of&nbsp;days&nbsp;in&nbsp;a&nbsp;non-leap&nbsp;year</span><br>
<span class="lineno"></span><span class="comment" id="1602258">//&nbsp;before&nbsp;month&nbsp;m&nbsp;begins.&nbsp;&nbsp;There&nbsp;is&nbsp;an&nbsp;entry&nbsp;for&nbsp;m=12,&nbsp;counting</span><br>
<span class="lineno"></span><span class="comment" id="1602322">//&nbsp;the&nbsp;number&nbsp;of&nbsp;days&nbsp;before&nbsp;January&nbsp;of&nbsp;next&nbsp;year&nbsp;(365).</span><br>
<span class="lineno"></span><span class="keyword" id="1602379">var</span>&nbsp;<span class="ident" id="1602383">daysBefore</span>&nbsp;<span class="op" id="1602394">=</span>&nbsp;<span class="op" id="1602396">[</span><span class="op" id="1602397">...</span><span class="op" id="1602400">]</span><span class="builtintype" id="1602401">int32</span><span class="op" id="1602406">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1602409">0</span><span class="op" id="1602410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1602413">31</span><span class="op" id="1602415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1602418">31</span>&nbsp;<span class="op" id="1602421">+</span>&nbsp;<span class="num" id="1602423">28</span><span class="op" id="1602425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1602428">31</span>&nbsp;<span class="op" id="1602431">+</span>&nbsp;<span class="num" id="1602433">28</span>&nbsp;<span class="op" id="1602436">+</span>&nbsp;<span class="num" id="1602438">31</span><span class="op" id="1602440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1602443">31</span>&nbsp;<span class="op" id="1602446">+</span>&nbsp;<span class="num" id="1602448">28</span>&nbsp;<span class="op" id="1602451">+</span>&nbsp;<span class="num" id="1602453">31</span>&nbsp;<span class="op" id="1602456">+</span>&nbsp;<span class="num" id="1602458">30</span><span class="op" id="1602460">,</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1602463">31</span>&nbsp;<span class="op" id="1602466">+</span>&nbsp;<span class="num" id="1602468">28</span>&nbsp;<span class="op" id="1602471">+</span>&nbsp;<span class="num" id="1602473">31</span>&nbsp;<span class="op" id="1602476">+</span>&nbsp;<span class="num" id="1602478">30</span>&nbsp;<span class="op" id="1602481">+</span>&nbsp;<span class="num" id="1602483">31</span><span class="op" id="1602485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1602488">31</span>&nbsp;<span class="op" id="1602491">+</span>&nbsp;<span class="num" id="1602493">28</span>&nbsp;<span class="op" id="1602496">+</span>&nbsp;<span class="num" id="1602498">31</span>&nbsp;<span class="op" id="1602501">+</span>&nbsp;<span class="num" id="1602503">30</span>&nbsp;<span class="op" id="1602506">+</span>&nbsp;<span class="num" id="1602508">31</span>&nbsp;<span class="op" id="1602511">+</span>&nbsp;<span class="num" id="1602513">30</span><span class="op" id="1602515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1602518">31</span>&nbsp;<span class="op" id="1602521">+</span>&nbsp;<span class="num" id="1602523">28</span>&nbsp;<span class="op" id="1602526">+</span>&nbsp;<span class="num" id="1602528">31</span>&nbsp;<span class="op" id="1602531">+</span>&nbsp;<span class="num" id="1602533">30</span>&nbsp;<span class="op" id="1602536">+</span>&nbsp;<span class="num" id="1602538">31</span>&nbsp;<span class="op" id="1602541">+</span>&nbsp;<span class="num" id="1602543">30</span>&nbsp;<span class="op" id="1602546">+</span>&nbsp;<span class="num" id="1602548">31</span><span class="op" id="1602550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1602553">31</span>&nbsp;<span class="op" id="1602556">+</span>&nbsp;<span class="num" id="1602558">28</span>&nbsp;<span class="op" id="1602561">+</span>&nbsp;<span class="num" id="1602563">31</span>&nbsp;<span class="op" id="1602566">+</span>&nbsp;<span class="num" id="1602568">30</span>&nbsp;<span class="op" id="1602571">+</span>&nbsp;<span class="num" id="1602573">31</span>&nbsp;<span class="op" id="1602576">+</span>&nbsp;<span class="num" id="1602578">30</span>&nbsp;<span class="op" id="1602581">+</span>&nbsp;<span class="num" id="1602583">31</span>&nbsp;<span class="op" id="1602586">+</span>&nbsp;<span class="num" id="1602588">31</span><span class="op" id="1602590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1602593">31</span>&nbsp;<span class="op" id="1602596">+</span>&nbsp;<span class="num" id="1602598">28</span>&nbsp;<span class="op" id="1602601">+</span>&nbsp;<span class="num" id="1602603">31</span>&nbsp;<span class="op" id="1602606">+</span>&nbsp;<span class="num" id="1602608">30</span>&nbsp;<span class="op" id="1602611">+</span>&nbsp;<span class="num" id="1602613">31</span>&nbsp;<span class="op" id="1602616">+</span>&nbsp;<span class="num" id="1602618">30</span>&nbsp;<span class="op" id="1602621">+</span>&nbsp;<span class="num" id="1602623">31</span>&nbsp;<span class="op" id="1602626">+</span>&nbsp;<span class="num" id="1602628">31</span>&nbsp;<span class="op" id="1602631">+</span>&nbsp;<span class="num" id="1602633">30</span><span class="op" id="1602635">,</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1602638">31</span>&nbsp;<span class="op" id="1602641">+</span>&nbsp;<span class="num" id="1602643">28</span>&nbsp;<span class="op" id="1602646">+</span>&nbsp;<span class="num" id="1602648">31</span>&nbsp;<span class="op" id="1602651">+</span>&nbsp;<span class="num" id="1602653">30</span>&nbsp;<span class="op" id="1602656">+</span>&nbsp;<span class="num" id="1602658">31</span>&nbsp;<span class="op" id="1602661">+</span>&nbsp;<span class="num" id="1602663">30</span>&nbsp;<span class="op" id="1602666">+</span>&nbsp;<span class="num" id="1602668">31</span>&nbsp;<span class="op" id="1602671">+</span>&nbsp;<span class="num" id="1602673">31</span>&nbsp;<span class="op" id="1602676">+</span>&nbsp;<span class="num" id="1602678">30</span>&nbsp;<span class="op" id="1602681">+</span>&nbsp;<span class="num" id="1602683">31</span><span class="op" id="1602685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1602688">31</span>&nbsp;<span class="op" id="1602691">+</span>&nbsp;<span class="num" id="1602693">28</span>&nbsp;<span class="op" id="1602696">+</span>&nbsp;<span class="num" id="1602698">31</span>&nbsp;<span class="op" id="1602701">+</span>&nbsp;<span class="num" id="1602703">30</span>&nbsp;<span class="op" id="1602706">+</span>&nbsp;<span class="num" id="1602708">31</span>&nbsp;<span class="op" id="1602711">+</span>&nbsp;<span class="num" id="1602713">30</span>&nbsp;<span class="op" id="1602716">+</span>&nbsp;<span class="num" id="1602718">31</span>&nbsp;<span class="op" id="1602721">+</span>&nbsp;<span class="num" id="1602723">31</span>&nbsp;<span class="op" id="1602726">+</span>&nbsp;<span class="num" id="1602728">30</span>&nbsp;<span class="op" id="1602731">+</span>&nbsp;<span class="num" id="1602733">31</span>&nbsp;<span class="op" id="1602736">+</span>&nbsp;<span class="num" id="1602738">30</span><span class="op" id="1602740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1602743">31</span>&nbsp;<span class="op" id="1602746">+</span>&nbsp;<span class="num" id="1602748">28</span>&nbsp;<span class="op" id="1602751">+</span>&nbsp;<span class="num" id="1602753">31</span>&nbsp;<span class="op" id="1602756">+</span>&nbsp;<span class="num" id="1602758">30</span>&nbsp;<span class="op" id="1602761">+</span>&nbsp;<span class="num" id="1602763">31</span>&nbsp;<span class="op" id="1602766">+</span>&nbsp;<span class="num" id="1602768">30</span>&nbsp;<span class="op" id="1602771">+</span>&nbsp;<span class="num" id="1602773">31</span>&nbsp;<span class="op" id="1602776">+</span>&nbsp;<span class="num" id="1602778">31</span>&nbsp;<span class="op" id="1602781">+</span>&nbsp;<span class="num" id="1602783">30</span>&nbsp;<span class="op" id="1602786">+</span>&nbsp;<span class="num" id="1602788">31</span>&nbsp;<span class="op" id="1602791">+</span>&nbsp;<span class="num" id="1602793">30</span>&nbsp;<span class="op" id="1602796">+</span>&nbsp;<span class="num" id="1602798">31</span><span class="op" id="1602800">,</span><br>
<span class="lineno"></span><span class="op" id="1602802">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">770</span><span class="keyword" id="1602805">func</span>&nbsp;<span class="ident" id="1602810">daysIn</span><span class="op" id="1602816">(</span><span class="ident" id="1602817">m</span>&nbsp;<span class="ident" id="1602819"><a href="/time/time.go.html#1583297">Month</a></span><span class="op" id="1602824">,</span>&nbsp;<span class="ident" id="1602826">year</span>&nbsp;<span class="builtintype" id="1602831">int</span><span class="op" id="1602834">)</span>&nbsp;<span class="builtintype" id="1602836">int</span>&nbsp;<span class="op" id="1602840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1602843">if</span>&nbsp;<span class="ident" id="1602846"><a href="/time/time.go.html#1602817">m</a></span>&nbsp;<span class="op" id="1602848">==</span>&nbsp;<span class="ident" id="1602851"><a href="/time/time.go.html#1583343">February</a></span>&nbsp;<span class="op" id="1602860">&amp;&amp;</span>&nbsp;<span class="ident" id="1602863"><a href="/time/time.go.html#1608891">isLeap</a></span><span class="op" id="1602869">(</span><span class="ident" id="1602870"><a href="/time/time.go.html#1602826">year</a></span><span class="op" id="1602874">)</span>&nbsp;<span class="op" id="1602876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1602880">return</span>&nbsp;<span class="num" id="1602887">29</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1602891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1602894">return</span>&nbsp;<span class="builtintype" id="1602901">int</span><span class="op" id="1602904">(</span><span class="ident" id="1602905"><a href="/time/time.go.html#1602383">daysBefore</a></span><span class="op" id="1602915">[</span><span class="ident" id="1602916"><a href="/time/time.go.html#1602817">m</a></span><span class="op" id="1602917">]</span>&nbsp;<span class="op" id="1602919">-</span>&nbsp;<span class="ident" id="1602921"><a href="/time/time.go.html#1602383">daysBefore</a></span><span class="op" id="1602931">[</span><span class="ident" id="1602932"><a href="/time/time.go.html#1602817">m</a></span><span class="op" id="1602933">-</span><span class="num" id="1602934">1</span><span class="op" id="1602935">]</span><span class="op" id="1602936">)</span><br>
<span class="lineno">775</span><span class="op" id="1602938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1602941">//&nbsp;Provided&nbsp;by&nbsp;package&nbsp;runtime.</span><br>
<span class="lineno"></span><span class="keyword" id="1602973">func</span>&nbsp;<span class="ident" id="1602978">now</span><span class="op" id="1602981">(</span><span class="op" id="1602982">)</span>&nbsp;<span class="op" id="1602984">(</span><span class="ident" id="1602985">sec</span>&nbsp;<span class="ident" id="1602989">int64</span><span class="op" id="1602994">,</span>&nbsp;<span class="ident" id="1602996">nsec</span>&nbsp;<span class="builtintype" id="1603001">int32</span><span class="op" id="1603006">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">780</span><span class="comment" id="1603009">//&nbsp;Now&nbsp;returns&nbsp;the&nbsp;current&nbsp;local&nbsp;time.</span><br>
<span class="lineno"></span><span class="keyword" id="1603048">func</span>&nbsp;<span class="ident" id="1603053">Now</span><span class="op" id="1603056">(</span><span class="op" id="1603057">)</span>&nbsp;<span class="ident" id="1603059"><a href="/time/time.go.html#1582052">Time</a></span>&nbsp;<span class="op" id="1603064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1603067">sec</span><span class="op" id="1603070">,</span>&nbsp;<span class="ident" id="1603072">nsec</span>&nbsp;<span class="op" id="1603077">:=</span>&nbsp;<span class="ident" id="1603080"><a href="/time/time.go.html#1602978">now</a></span><span class="op" id="1603083">(</span><span class="op" id="1603084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603087">return</span>&nbsp;<span class="ident" id="1603094"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1603098">{</span><span class="ident" id="1603099"><a href="/time/time.go.html#1603067">sec</a></span>&nbsp;<span class="op" id="1603103">+</span>&nbsp;<span class="ident" id="1603105"><a href="/time/time.go.html#1588473">unixToInternal</a></span><span class="op" id="1603119">,</span>&nbsp;<span class="ident" id="1603121"><a href="/time/time.go.html#1603072">nsec</a></span><span class="op" id="1603125">,</span>&nbsp;<span class="ident" id="1603127"><a href="/time/zoneinfo.go.html#1616341">Local</a></span><span class="op" id="1603132">}</span><br>
<span class="lineno"></span><span class="op" id="1603134">}</span><br>
<span class="lineno">785</span><br>
<span class="lineno"></span><span class="comment" id="1603137">//&nbsp;UTC&nbsp;returns&nbsp;t&nbsp;with&nbsp;the&nbsp;location&nbsp;set&nbsp;to&nbsp;UTC.</span><br>
<span class="lineno"></span><span class="keyword" id="1603184">func</span>&nbsp;<span class="op" id="1603189">(</span><span class="ident" id="1603190">t</span>&nbsp;<span class="ident" id="1603192"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1603196">)</span>&nbsp;<span class="ident" id="1603198">UTC</span><span class="op" id="1603201">(</span><span class="op" id="1603202">)</span>&nbsp;<span class="ident" id="1603204"><a href="/time/time.go.html#1582052">Time</a></span>&nbsp;<span class="op" id="1603209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1603212"><a href="/time/time.go.html#1603190">t</a></span><span class="op" id="1603213">.</span><span class="ident" id="1603214">loc</span>&nbsp;<span class="op" id="1603218">=</span>&nbsp;<span class="ident" id="1603220"><a href="/time/zoneinfo.go.html#1616067">UTC</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603225">return</span>&nbsp;<span class="ident" id="1603232"><a href="/time/time.go.html#1603190">t</a></span><br>
<span class="lineno">790</span><span class="op" id="1603234">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1603237">//&nbsp;Local&nbsp;returns&nbsp;t&nbsp;with&nbsp;the&nbsp;location&nbsp;set&nbsp;to&nbsp;local&nbsp;time.</span><br>
<span class="lineno"></span><span class="keyword" id="1603293">func</span>&nbsp;<span class="op" id="1603298">(</span><span class="ident" id="1603299">t</span>&nbsp;<span class="ident" id="1603301"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1603305">)</span>&nbsp;<span class="ident" id="1603307">Local</span><span class="op" id="1603312">(</span><span class="op" id="1603313">)</span>&nbsp;<span class="ident" id="1603315"><a href="/time/time.go.html#1582052">Time</a></span>&nbsp;<span class="op" id="1603320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1603323"><a href="/time/time.go.html#1603299">t</a></span><span class="op" id="1603324">.</span><span class="ident" id="1603325">loc</span>&nbsp;<span class="op" id="1603329">=</span>&nbsp;<span class="ident" id="1603331"><a href="/time/zoneinfo.go.html#1616341">Local</a></span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603338">return</span>&nbsp;<span class="ident" id="1603345"><a href="/time/time.go.html#1603299">t</a></span><br>
<span class="lineno"></span><span class="op" id="1603347">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1603350">//&nbsp;In&nbsp;returns&nbsp;t&nbsp;with&nbsp;the&nbsp;location&nbsp;information&nbsp;set&nbsp;to&nbsp;loc.</span><br>
<span class="lineno"></span><span class="comment" id="1603408">//</span><br>
<span class="lineno">800</span><span class="comment" id="1603411">//&nbsp;In&nbsp;panics&nbsp;if&nbsp;loc&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="1603439">func</span>&nbsp;<span class="op" id="1603444">(</span><span class="ident" id="1603445">t</span>&nbsp;<span class="ident" id="1603447"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1603451">)</span>&nbsp;<span class="ident" id="1603453">In</span><span class="op" id="1603455">(</span><span class="ident" id="1603456">loc</span>&nbsp;<span class="op" id="1603460">*</span><span class="ident" id="1603461"><a href="/time/zoneinfo.go.html#1614833">Location</a></span><span class="op" id="1603469">)</span>&nbsp;<span class="ident" id="1603471"><a href="/time/time.go.html#1582052">Time</a></span>&nbsp;<span class="op" id="1603476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603479">if</span>&nbsp;<span class="ident" id="1603482"><a href="/time/time.go.html#1603456">loc</a></span>&nbsp;<span class="op" id="1603486">==</span>&nbsp;<span class="ident" id="1603489">nil</span>&nbsp;<span class="op" id="1603493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1603497">panic</span><span class="op" id="1603502">(</span><span class="string" id="1603503">&#34;time:&nbsp;missing&nbsp;Location&nbsp;in&nbsp;call&nbsp;to&nbsp;Time.In&#34;</span><span class="op" id="1603546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1603549">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1603552"><a href="/time/time.go.html#1603445">t</a></span><span class="op" id="1603553">.</span><span class="ident" id="1603554">loc</span>&nbsp;<span class="op" id="1603558">=</span>&nbsp;<span class="ident" id="1603560"><a href="/time/time.go.html#1603456">loc</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603565">return</span>&nbsp;<span class="ident" id="1603572"><a href="/time/time.go.html#1603445">t</a></span><br>
<span class="lineno"></span><span class="op" id="1603574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1603577">//&nbsp;Location&nbsp;returns&nbsp;the&nbsp;time&nbsp;zone&nbsp;information&nbsp;associated&nbsp;with&nbsp;t.</span><br>
<span class="lineno">810</span><span class="keyword" id="1603642">func</span>&nbsp;<span class="op" id="1603647">(</span><span class="ident" id="1603648">t</span>&nbsp;<span class="ident" id="1603650"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1603654">)</span>&nbsp;<span class="ident" id="1603656">Location</span><span class="op" id="1603664">(</span><span class="op" id="1603665">)</span>&nbsp;<span class="op" id="1603667">*</span><span class="ident" id="1603668"><a href="/time/zoneinfo.go.html#1614833">Location</a></span>&nbsp;<span class="op" id="1603677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1603680">l</span>&nbsp;<span class="op" id="1603682">:=</span>&nbsp;<span class="ident" id="1603685"><a href="/time/time.go.html#1603648">t</a></span><span class="op" id="1603686">.</span><span class="ident" id="1603687">loc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603692">if</span>&nbsp;<span class="ident" id="1603695"><a href="/time/time.go.html#1603680">l</a></span>&nbsp;<span class="op" id="1603697">==</span>&nbsp;<span class="ident" id="1603700">nil</span>&nbsp;<span class="op" id="1603704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1603708"><a href="/time/time.go.html#1603680">l</a></span>&nbsp;<span class="op" id="1603710">=</span>&nbsp;<span class="ident" id="1603712"><a href="/time/zoneinfo.go.html#1616067">UTC</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1603717">}</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603720">return</span>&nbsp;<span class="ident" id="1603727"><a href="/time/time.go.html#1603680">l</a></span><br>
<span class="lineno"></span><span class="op" id="1603729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1603732">//&nbsp;Zone&nbsp;computes&nbsp;the&nbsp;time&nbsp;zone&nbsp;in&nbsp;effect&nbsp;at&nbsp;time&nbsp;t,&nbsp;returning&nbsp;the&nbsp;abbreviated</span><br>
<span class="lineno"></span><span class="comment" id="1603810">//&nbsp;name&nbsp;of&nbsp;the&nbsp;zone&nbsp;(such&nbsp;as&nbsp;&#34;CET&#34;)&nbsp;and&nbsp;its&nbsp;offset&nbsp;in&nbsp;seconds&nbsp;east&nbsp;of&nbsp;UTC.</span><br>
<span class="lineno">820</span><span class="keyword" id="1603885">func</span>&nbsp;<span class="op" id="1603890">(</span><span class="ident" id="1603891">t</span>&nbsp;<span class="ident" id="1603893"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1603897">)</span>&nbsp;<span class="ident" id="1603899">Zone</span><span class="op" id="1603903">(</span><span class="op" id="1603904">)</span>&nbsp;<span class="op" id="1603906">(</span><span class="ident" id="1603907">name</span>&nbsp;<span class="builtintype" id="1603912">string</span><span class="op" id="1603918">,</span>&nbsp;<span class="ident" id="1603920">offset</span>&nbsp;<span class="builtintype" id="1603927">int</span><span class="op" id="1603930">)</span>&nbsp;<span class="op" id="1603932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1603935"><a href="/time/time.go.html#1603907">name</a></span><span class="op" id="1603939">,</span>&nbsp;<span class="ident" id="1603941"><a href="/time/time.go.html#1603920">offset</a></span><span class="op" id="1603947">,</span>&nbsp;<span class="ident" id="1603949">_</span><span class="op" id="1603950">,</span>&nbsp;<span class="ident" id="1603952">_</span><span class="op" id="1603953">,</span>&nbsp;<span class="ident" id="1603955">_</span>&nbsp;<span class="op" id="1603957">=</span>&nbsp;<span class="ident" id="1603959"><a href="/time/time.go.html#1603891">t</a></span><span class="op" id="1603960">.</span><span class="ident" id="1603961">loc</span><span class="op" id="1603964">.</span><span class="ident" id="1603965">lookup</span><span class="op" id="1603971">(</span><span class="ident" id="1603972"><a href="/time/time.go.html#1603891">t</a></span><span class="op" id="1603973">.</span><span class="ident" id="1603974">sec</span>&nbsp;<span class="op" id="1603978">+</span>&nbsp;<span class="ident" id="1603980"><a href="/time/time.go.html#1588555">internalToUnix</a></span><span class="op" id="1603994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603997">return</span><br>
<span class="lineno"></span><span class="op" id="1604004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">825</span><span class="comment" id="1604007">//&nbsp;Unix&nbsp;returns&nbsp;t&nbsp;as&nbsp;a&nbsp;Unix&nbsp;time,&nbsp;the&nbsp;number&nbsp;of&nbsp;seconds&nbsp;elapsed</span><br>
<span class="lineno"></span><span class="comment" id="1604071">//&nbsp;since&nbsp;January&nbsp;1,&nbsp;1970&nbsp;UTC.</span><br>
<span class="lineno"></span><span class="keyword" id="1604101">func</span>&nbsp;<span class="op" id="1604106">(</span><span class="ident" id="1604107">t</span>&nbsp;<span class="ident" id="1604109"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1604113">)</span>&nbsp;<span class="ident" id="1604115">Unix</span><span class="op" id="1604119">(</span><span class="op" id="1604120">)</span>&nbsp;<span class="ident" id="1604122">int64</span>&nbsp;<span class="op" id="1604128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604131">return</span>&nbsp;<span class="ident" id="1604138"><a href="/time/time.go.html#1604107">t</a></span><span class="op" id="1604139">.</span><span class="ident" id="1604140">sec</span>&nbsp;<span class="op" id="1604144">+</span>&nbsp;<span class="ident" id="1604146"><a href="/time/time.go.html#1588555">internalToUnix</a></span><br>
<span class="lineno"></span><span class="op" id="1604161">}</span><br>
<span class="lineno">830</span><br>
<span class="lineno"></span><span class="comment" id="1604164">//&nbsp;UnixNano&nbsp;returns&nbsp;t&nbsp;as&nbsp;a&nbsp;Unix&nbsp;time,&nbsp;the&nbsp;number&nbsp;of&nbsp;nanoseconds&nbsp;elapsed</span><br>
<span class="lineno"></span><span class="comment" id="1604236">//&nbsp;since&nbsp;January&nbsp;1,&nbsp;1970&nbsp;UTC.&nbsp;The&nbsp;result&nbsp;is&nbsp;undefined&nbsp;if&nbsp;the&nbsp;Unix&nbsp;time</span><br>
<span class="lineno"></span><span class="comment" id="1604307">//&nbsp;in&nbsp;nanoseconds&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;by&nbsp;an&nbsp;int64.&nbsp;Note&nbsp;that&nbsp;this</span><br>
<span class="lineno"></span><span class="comment" id="1604375">//&nbsp;means&nbsp;the&nbsp;result&nbsp;of&nbsp;calling&nbsp;UnixNano&nbsp;on&nbsp;the&nbsp;zero&nbsp;Time&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">835</span><span class="keyword" id="1604446">func</span>&nbsp;<span class="op" id="1604451">(</span><span class="ident" id="1604452">t</span>&nbsp;<span class="ident" id="1604454"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1604458">)</span>&nbsp;<span class="ident" id="1604460">UnixNano</span><span class="op" id="1604468">(</span><span class="op" id="1604469">)</span>&nbsp;<span class="ident" id="1604471">int64</span>&nbsp;<span class="op" id="1604477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604480">return</span>&nbsp;<span class="op" id="1604487">(</span><span class="ident" id="1604488"><a href="/time/time.go.html#1604452">t</a></span><span class="op" id="1604489">.</span><span class="ident" id="1604490">sec</span><span class="op" id="1604493">+</span><span class="ident" id="1604494"><a href="/time/time.go.html#1588555">internalToUnix</a></span><span class="op" id="1604508">)</span><span class="op" id="1604509">*</span><span class="num" id="1604510">1e9</span>&nbsp;<span class="op" id="1604514">+</span>&nbsp;<span class="ident" id="1604516">int64</span><span class="op" id="1604521">(</span><span class="ident" id="1604522"><a href="/time/time.go.html#1604452">t</a></span><span class="op" id="1604523">.</span><span class="ident" id="1604524">nsec</span><span class="op" id="1604528">)</span><br>
<span class="lineno"></span><span class="op" id="1604530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1604533">const</span>&nbsp;<span class="ident" id="1604539">timeBinaryVersion</span>&nbsp;<span class="builtintype" id="1604557">byte</span>&nbsp;<span class="op" id="1604562">=</span>&nbsp;<span class="num" id="1604564">1</span><br>
<span class="lineno">840</span><br>
<span class="lineno"></span><span class="comment" id="1604567">//&nbsp;MarshalBinary&nbsp;implements&nbsp;the&nbsp;encoding.BinaryMarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="1604635">func</span>&nbsp;<span class="op" id="1604640">(</span><span class="ident" id="1604641">t</span>&nbsp;<span class="ident" id="1604643"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1604647">)</span>&nbsp;<span class="ident" id="1604649">MarshalBinary</span><span class="op" id="1604662">(</span><span class="op" id="1604663">)</span>&nbsp;<span class="op" id="1604665">(</span><span class="op" id="1604666">[</span><span class="op" id="1604667">]</span><span class="builtintype" id="1604668">byte</span><span class="op" id="1604672">,</span>&nbsp;<span class="builtintype" id="1604674">error</span><span class="op" id="1604679">)</span>&nbsp;<span class="op" id="1604681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604684">var</span>&nbsp;<span class="ident" id="1604688">offsetMin</span>&nbsp;<span class="builtintype" id="1604698">int16</span>&nbsp;<span class="comment" id="1604704">//&nbsp;minutes&nbsp;east&nbsp;of&nbsp;UTC.&nbsp;-1&nbsp;is&nbsp;UTC.</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604741">if</span>&nbsp;<span class="ident" id="1604744"><a href="/time/time.go.html#1604641">t</a></span><span class="op" id="1604745">.</span><span class="ident" id="1604746">Location</span><span class="op" id="1604754">(</span><span class="op" id="1604755">)</span>&nbsp;<span class="op" id="1604757">==</span>&nbsp;<span class="op" id="1604760">&amp;</span><span class="ident" id="1604761"><a href="/time/zoneinfo.go.html#1616255">utcLoc</a></span>&nbsp;<span class="op" id="1604768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1604772"><a href="/time/time.go.html#1604688">offsetMin</a></span>&nbsp;<span class="op" id="1604782">=</span>&nbsp;<span class="op" id="1604784">-</span><span class="num" id="1604785">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1604788">}</span>&nbsp;<span class="keyword" id="1604790">else</span>&nbsp;<span class="op" id="1604795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1604799">_</span><span class="op" id="1604800">,</span>&nbsp;<span class="ident" id="1604802">offset</span>&nbsp;<span class="op" id="1604809">:=</span>&nbsp;<span class="ident" id="1604812"><a href="/time/time.go.html#1604641">t</a></span><span class="op" id="1604813">.</span><span class="ident" id="1604814">Zone</span><span class="op" id="1604818">(</span><span class="op" id="1604819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604823">if</span>&nbsp;<span class="ident" id="1604826"><a href="/time/time.go.html#1604802">offset</a></span><span class="op" id="1604832">%</span><span class="num" id="1604833">60</span>&nbsp;<span class="op" id="1604836">!=</span>&nbsp;<span class="num" id="1604839">0</span>&nbsp;<span class="op" id="1604841">{</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604846">return</span>&nbsp;<span class="ident" id="1604853">nil</span><span class="op" id="1604856">,</span>&nbsp;<span class="ident" id="1604858"><a href="/time/time.go.html#1580518">errors</a></span><span class="op" id="1604864">.</span><span class="ident" id="1604865">New</span><span class="op" id="1604868">(</span><span class="string" id="1604869">&#34;Time.MarshalBinary:&nbsp;zone&nbsp;offset&nbsp;has&nbsp;fractional&nbsp;minute&#34;</span><span class="op" id="1604924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1604928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1604932"><a href="/time/time.go.html#1604802">offset</a></span>&nbsp;<span class="op" id="1604939">/=</span>&nbsp;<span class="num" id="1604942">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604947">if</span>&nbsp;<span class="ident" id="1604950"><a href="/time/time.go.html#1604802">offset</a></span>&nbsp;<span class="op" id="1604957">&lt;</span>&nbsp;<span class="op" id="1604959">-</span><span class="num" id="1604960">32768</span>&nbsp;<span class="op" id="1604966">||</span>&nbsp;<span class="ident" id="1604969"><a href="/time/time.go.html#1604802">offset</a></span>&nbsp;<span class="op" id="1604976">==</span>&nbsp;<span class="op" id="1604979">-</span><span class="num" id="1604980">1</span>&nbsp;<span class="op" id="1604982">||</span>&nbsp;<span class="ident" id="1604985"><a href="/time/time.go.html#1604802">offset</a></span>&nbsp;<span class="op" id="1604992">&gt;</span>&nbsp;<span class="num" id="1604994">32767</span>&nbsp;<span class="op" id="1605000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1605005">return</span>&nbsp;<span class="ident" id="1605012">nil</span><span class="op" id="1605015">,</span>&nbsp;<span class="ident" id="1605017"><a href="/time/time.go.html#1580518">errors</a></span><span class="op" id="1605023">.</span><span class="ident" id="1605024">New</span><span class="op" id="1605027">(</span><span class="string" id="1605028">&#34;Time.MarshalBinary:&nbsp;unexpected&nbsp;zone&nbsp;offset&#34;</span><span class="op" id="1605072">)</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1605076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1605080"><a href="/time/time.go.html#1604688">offsetMin</a></span>&nbsp;<span class="op" id="1605090">=</span>&nbsp;<span class="builtintype" id="1605092">int16</span><span class="op" id="1605097">(</span><span class="ident" id="1605098"><a href="/time/time.go.html#1604802">offset</a></span><span class="op" id="1605104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1605107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1605111">enc</span>&nbsp;<span class="op" id="1605115">:=</span>&nbsp;<span class="op" id="1605118">[</span><span class="op" id="1605119">]</span><span class="builtintype" id="1605120">byte</span><span class="op" id="1605124">{</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1605128"><a href="/time/time.go.html#1604539">timeBinaryVersion</a></span><span class="op" id="1605145">,</span>&nbsp;<span class="comment" id="1605147">//&nbsp;byte&nbsp;0&nbsp;:&nbsp;version</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1605169">byte</span><span class="op" id="1605173">(</span><span class="ident" id="1605174"><a href="/time/time.go.html#1604641">t</a></span><span class="op" id="1605175">.</span><span class="ident" id="1605176">sec</span>&nbsp;<span class="op" id="1605180">&gt;&gt;</span>&nbsp;<span class="num" id="1605183">56</span><span class="op" id="1605185">)</span><span class="op" id="1605186">,</span>&nbsp;<span class="comment" id="1605188">//&nbsp;bytes&nbsp;1-8:&nbsp;seconds</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1605212">byte</span><span class="op" id="1605216">(</span><span class="ident" id="1605217"><a href="/time/time.go.html#1604641">t</a></span><span class="op" id="1605218">.</span><span class="ident" id="1605219">sec</span>&nbsp;<span class="op" id="1605223">&gt;&gt;</span>&nbsp;<span class="num" id="1605226">48</span><span class="op" id="1605228">)</span><span class="op" id="1605229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1605233">byte</span><span class="op" id="1605237">(</span><span class="ident" id="1605238"><a href="/time/time.go.html#1604641">t</a></span><span class="op" id="1605239">.</span><span class="ident" id="1605240">sec</span>&nbsp;<span class="op" id="1605244">&gt;&gt;</span>&nbsp;<span class="num" id="1605247">40</span><span class="op" id="1605249">)</span><span class="op" id="1605250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1605254">byte</span><span class="op" id="1605258">(</span><span class="ident" id="1605259"><a href="/time/time.go.html#1604641">t</a></span><span class="op" id="1605260">.</span><span class="ident" id="1605261">sec</span>&nbsp;<span class="op" id="1605265">&gt;&gt;</span>&nbsp;<span class="num" id="1605268">32</span><span class="op" id="1605270">)</span><span class="op" id="1605271">,</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1605275">byte</span><span class="op" id="1605279">(</span><span class="ident" id="1605280"><a href="/time/time.go.html#1604641">t</a></span><span class="op" id="1605281">.</span><span class="ident" id="1605282">sec</span>&nbsp;<span class="op" id="1605286">&gt;&gt;</span>&nbsp;<span class="num" id="1605289">24</span><span class="op" id="1605291">)</span><span class="op" id="1605292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1605296">byte</span><span class="op" id="1605300">(</span><span class="ident" id="1605301"><a href="/time/time.go.html#1604641">t</a></span><span class="op" id="1605302">.</span><span class="ident" id="1605303">sec</span>&nbsp;<span class="op" id="1605307">&gt;&gt;</span>&nbsp;<span class="num" id="1605310">16</span><span class="op" id="1605312">)</span><span class="op" id="1605313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1605317">byte</span><span class="op" id="1605321">(</span><span class="ident" id="1605322"><a href="/time/time.go.html#1604641">t</a></span><span class="op" id="1605323">.</span><span class="ident" id="1605324">sec</span>&nbsp;<span class="op" id="1605328">&gt;&gt;</span>&nbsp;<span class="num" id="1605331">8</span><span class="op" id="1605332">)</span><span class="op" id="1605333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1605337">byte</span><span class="op" id="1605341">(</span><span class="ident" id="1605342"><a href="/time/time.go.html#1604641">t</a></span><span class="op" id="1605343">.</span><span class="ident" id="1605344">sec</span><span class="op" id="1605347">)</span><span class="op" id="1605348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1605352">byte</span><span class="op" id="1605356">(</span><span class="ident" id="1605357"><a href="/time/time.go.html#1604641">t</a></span><span class="op" id="1605358">.</span><span class="ident" id="1605359">nsec</span>&nbsp;<span class="op" id="1605364">&gt;&gt;</span>&nbsp;<span class="num" id="1605367">24</span><span class="op" id="1605369">)</span><span class="op" id="1605370">,</span>&nbsp;<span class="comment" id="1605372">//&nbsp;bytes&nbsp;9-12:&nbsp;nanoseconds</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1605401">byte</span><span class="op" id="1605405">(</span><span class="ident" id="1605406"><a href="/time/time.go.html#1604641">t</a></span><span class="op" id="1605407">.</span><span class="ident" id="1605408">nsec</span>&nbsp;<span class="op" id="1605413">&gt;&gt;</span>&nbsp;<span class="num" id="1605416">16</span><span class="op" id="1605418">)</span><span class="op" id="1605419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1605423">byte</span><span class="op" id="1605427">(</span><span class="ident" id="1605428"><a href="/time/time.go.html#1604641">t</a></span><span class="op" id="1605429">.</span><span class="ident" id="1605430">nsec</span>&nbsp;<span class="op" id="1605435">&gt;&gt;</span>&nbsp;<span class="num" id="1605438">8</span><span class="op" id="1605439">)</span><span class="op" id="1605440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1605444">byte</span><span class="op" id="1605448">(</span><span class="ident" id="1605449"><a href="/time/time.go.html#1604641">t</a></span><span class="op" id="1605450">.</span><span class="ident" id="1605451">nsec</span><span class="op" id="1605455">)</span><span class="op" id="1605456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1605460">byte</span><span class="op" id="1605464">(</span><span class="ident" id="1605465"><a href="/time/time.go.html#1604688">offsetMin</a></span>&nbsp;<span class="op" id="1605475">&gt;&gt;</span>&nbsp;<span class="num" id="1605478">8</span><span class="op" id="1605479">)</span><span class="op" id="1605480">,</span>&nbsp;<span class="comment" id="1605482">//&nbsp;bytes&nbsp;13-14:&nbsp;zone&nbsp;offset&nbsp;in&nbsp;minutes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1605523">byte</span><span class="op" id="1605527">(</span><span class="ident" id="1605528"><a href="/time/time.go.html#1604688">offsetMin</a></span><span class="op" id="1605537">)</span><span class="op" id="1605538">,</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1605541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1605545">return</span>&nbsp;<span class="ident" id="1605552"><a href="/time/time.go.html#1605111">enc</a></span><span class="op" id="1605555">,</span>&nbsp;<span class="ident" id="1605557">nil</span><br>
<span class="lineno"></span><span class="op" id="1605561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">880</span><span class="comment" id="1605564">//&nbsp;UnmarshalBinary&nbsp;implements&nbsp;the&nbsp;encoding.BinaryUnmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="1605636">func</span>&nbsp;<span class="op" id="1605641">(</span><span class="ident" id="1605642">t</span>&nbsp;<span class="op" id="1605644">*</span><span class="ident" id="1605645"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1605649">)</span>&nbsp;<span class="ident" id="1605651">UnmarshalBinary</span><span class="op" id="1605666">(</span><span class="ident" id="1605667">data</span>&nbsp;<span class="op" id="1605672">[</span><span class="op" id="1605673">]</span><span class="builtintype" id="1605674">byte</span><span class="op" id="1605678">)</span>&nbsp;<span class="builtintype" id="1605680">error</span>&nbsp;<span class="op" id="1605686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1605689">buf</span>&nbsp;<span class="op" id="1605693">:=</span>&nbsp;<span class="ident" id="1605696"><a href="/time/time.go.html#1605667">data</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1605702">if</span>&nbsp;<span class="builtinfunc" id="1605705">len</span><span class="op" id="1605708">(</span><span class="ident" id="1605709"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1605712">)</span>&nbsp;<span class="op" id="1605714">==</span>&nbsp;<span class="num" id="1605717">0</span>&nbsp;<span class="op" id="1605719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1605723">return</span>&nbsp;<span class="ident" id="1605730"><a href="/time/time.go.html#1580518">errors</a></span><span class="op" id="1605736">.</span><span class="ident" id="1605737">New</span><span class="op" id="1605740">(</span><span class="string" id="1605741">&#34;Time.UnmarshalBinary:&nbsp;no&nbsp;data&#34;</span><span class="op" id="1605772">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1605775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1605779">if</span>&nbsp;<span class="ident" id="1605782"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1605785">[</span><span class="num" id="1605786">0</span><span class="op" id="1605787">]</span>&nbsp;<span class="op" id="1605789">!=</span>&nbsp;<span class="ident" id="1605792"><a href="/time/time.go.html#1604539">timeBinaryVersion</a></span>&nbsp;<span class="op" id="1605810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1605814">return</span>&nbsp;<span class="ident" id="1605821"><a href="/time/time.go.html#1580518">errors</a></span><span class="op" id="1605827">.</span><span class="ident" id="1605828">New</span><span class="op" id="1605831">(</span><span class="string" id="1605832">&#34;Time.UnmarshalBinary:&nbsp;unsupported&nbsp;version&#34;</span><span class="op" id="1605875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1605878">}</span><br>
<span class="lineno">890</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1605882">if</span>&nbsp;<span class="builtinfunc" id="1605885">len</span><span class="op" id="1605888">(</span><span class="ident" id="1605889"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1605892">)</span>&nbsp;<span class="op" id="1605894">!=</span>&nbsp;<span class="comment" id="1605897">/*version*/</span>&nbsp;<span class="num" id="1605909">1</span><span class="op" id="1605910">+</span>&nbsp;<span class="comment" id="1605912">/*sec*/</span>&nbsp;<span class="num" id="1605920">8</span><span class="op" id="1605921">+</span>&nbsp;<span class="comment" id="1605923">/*nsec*/</span>&nbsp;<span class="num" id="1605932">4</span><span class="op" id="1605933">+</span>&nbsp;<span class="comment" id="1605935">/*zone&nbsp;offset*/</span>&nbsp;<span class="num" id="1605951">2</span>&nbsp;<span class="op" id="1605953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1605957">return</span>&nbsp;<span class="ident" id="1605964"><a href="/time/time.go.html#1580518">errors</a></span><span class="op" id="1605970">.</span><span class="ident" id="1605971">New</span><span class="op" id="1605974">(</span><span class="string" id="1605975">&#34;Time.UnmarshalBinary:&nbsp;invalid&nbsp;length&#34;</span><span class="op" id="1606013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1606016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1606020"><a href="/time/time.go.html#1605689">buf</a></span>&nbsp;<span class="op" id="1606024">=</span>&nbsp;<span class="ident" id="1606026"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606029">[</span><span class="num" id="1606030">1</span><span class="op" id="1606031">:</span><span class="op" id="1606032">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1606035"><a href="/time/time.go.html#1605642">t</a></span><span class="op" id="1606036">.</span><span class="ident" id="1606037">sec</span>&nbsp;<span class="op" id="1606041">=</span>&nbsp;<span class="ident" id="1606043">int64</span><span class="op" id="1606048">(</span><span class="ident" id="1606049"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606052">[</span><span class="num" id="1606053">7</span><span class="op" id="1606054">]</span><span class="op" id="1606055">)</span>&nbsp;<span class="op" id="1606057">|</span>&nbsp;<span class="ident" id="1606059">int64</span><span class="op" id="1606064">(</span><span class="ident" id="1606065"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606068">[</span><span class="num" id="1606069">6</span><span class="op" id="1606070">]</span><span class="op" id="1606071">)</span><span class="op" id="1606072">&lt;&lt;</span><span class="num" id="1606074">8</span>&nbsp;<span class="op" id="1606076">|</span>&nbsp;<span class="ident" id="1606078">int64</span><span class="op" id="1606083">(</span><span class="ident" id="1606084"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606087">[</span><span class="num" id="1606088">5</span><span class="op" id="1606089">]</span><span class="op" id="1606090">)</span><span class="op" id="1606091">&lt;&lt;</span><span class="num" id="1606093">16</span>&nbsp;<span class="op" id="1606096">|</span>&nbsp;<span class="ident" id="1606098">int64</span><span class="op" id="1606103">(</span><span class="ident" id="1606104"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606107">[</span><span class="num" id="1606108">4</span><span class="op" id="1606109">]</span><span class="op" id="1606110">)</span><span class="op" id="1606111">&lt;&lt;</span><span class="num" id="1606113">24</span>&nbsp;<span class="op" id="1606116">|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1606120">int64</span><span class="op" id="1606125">(</span><span class="ident" id="1606126"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606129">[</span><span class="num" id="1606130">3</span><span class="op" id="1606131">]</span><span class="op" id="1606132">)</span><span class="op" id="1606133">&lt;&lt;</span><span class="num" id="1606135">32</span>&nbsp;<span class="op" id="1606138">|</span>&nbsp;<span class="ident" id="1606140">int64</span><span class="op" id="1606145">(</span><span class="ident" id="1606146"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606149">[</span><span class="num" id="1606150">2</span><span class="op" id="1606151">]</span><span class="op" id="1606152">)</span><span class="op" id="1606153">&lt;&lt;</span><span class="num" id="1606155">40</span>&nbsp;<span class="op" id="1606158">|</span>&nbsp;<span class="ident" id="1606160">int64</span><span class="op" id="1606165">(</span><span class="ident" id="1606166"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606169">[</span><span class="num" id="1606170">1</span><span class="op" id="1606171">]</span><span class="op" id="1606172">)</span><span class="op" id="1606173">&lt;&lt;</span><span class="num" id="1606175">48</span>&nbsp;<span class="op" id="1606178">|</span>&nbsp;<span class="ident" id="1606180">int64</span><span class="op" id="1606185">(</span><span class="ident" id="1606186"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606189">[</span><span class="num" id="1606190">0</span><span class="op" id="1606191">]</span><span class="op" id="1606192">)</span><span class="op" id="1606193">&lt;&lt;</span><span class="num" id="1606195">56</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1606200"><a href="/time/time.go.html#1605689">buf</a></span>&nbsp;<span class="op" id="1606204">=</span>&nbsp;<span class="ident" id="1606206"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606209">[</span><span class="num" id="1606210">8</span><span class="op" id="1606211">:</span><span class="op" id="1606212">]</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1606215"><a href="/time/time.go.html#1605642">t</a></span><span class="op" id="1606216">.</span><span class="ident" id="1606217">nsec</span>&nbsp;<span class="op" id="1606222">=</span>&nbsp;<span class="builtintype" id="1606224">int32</span><span class="op" id="1606229">(</span><span class="ident" id="1606230"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606233">[</span><span class="num" id="1606234">3</span><span class="op" id="1606235">]</span><span class="op" id="1606236">)</span>&nbsp;<span class="op" id="1606238">|</span>&nbsp;<span class="builtintype" id="1606240">int32</span><span class="op" id="1606245">(</span><span class="ident" id="1606246"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606249">[</span><span class="num" id="1606250">2</span><span class="op" id="1606251">]</span><span class="op" id="1606252">)</span><span class="op" id="1606253">&lt;&lt;</span><span class="num" id="1606255">8</span>&nbsp;<span class="op" id="1606257">|</span>&nbsp;<span class="builtintype" id="1606259">int32</span><span class="op" id="1606264">(</span><span class="ident" id="1606265"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606268">[</span><span class="num" id="1606269">1</span><span class="op" id="1606270">]</span><span class="op" id="1606271">)</span><span class="op" id="1606272">&lt;&lt;</span><span class="num" id="1606274">16</span>&nbsp;<span class="op" id="1606277">|</span>&nbsp;<span class="builtintype" id="1606279">int32</span><span class="op" id="1606284">(</span><span class="ident" id="1606285"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606288">[</span><span class="num" id="1606289">0</span><span class="op" id="1606290">]</span><span class="op" id="1606291">)</span><span class="op" id="1606292">&lt;&lt;</span><span class="num" id="1606294">24</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1606299"><a href="/time/time.go.html#1605689">buf</a></span>&nbsp;<span class="op" id="1606303">=</span>&nbsp;<span class="ident" id="1606305"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606308">[</span><span class="num" id="1606309">4</span><span class="op" id="1606310">:</span><span class="op" id="1606311">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1606314">offset</span>&nbsp;<span class="op" id="1606321">:=</span>&nbsp;<span class="builtintype" id="1606324">int</span><span class="op" id="1606327">(</span><span class="builtintype" id="1606328">int16</span><span class="op" id="1606333">(</span><span class="ident" id="1606334"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606337">[</span><span class="num" id="1606338">1</span><span class="op" id="1606339">]</span><span class="op" id="1606340">)</span><span class="op" id="1606341">|</span><span class="builtintype" id="1606342">int16</span><span class="op" id="1606347">(</span><span class="ident" id="1606348"><a href="/time/time.go.html#1605689">buf</a></span><span class="op" id="1606351">[</span><span class="num" id="1606352">0</span><span class="op" id="1606353">]</span><span class="op" id="1606354">)</span><span class="op" id="1606355">&lt;&lt;</span><span class="num" id="1606357">8</span><span class="op" id="1606358">)</span>&nbsp;<span class="op" id="1606360">*</span>&nbsp;<span class="num" id="1606362">60</span><br>
<span class="lineno"></span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1606367">if</span>&nbsp;<span class="ident" id="1606370"><a href="/time/time.go.html#1606314">offset</a></span>&nbsp;<span class="op" id="1606377">==</span>&nbsp;<span class="op" id="1606380">-</span><span class="num" id="1606381">1</span><span class="op" id="1606382">*</span><span class="num" id="1606383">60</span>&nbsp;<span class="op" id="1606386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1606390"><a href="/time/time.go.html#1605642">t</a></span><span class="op" id="1606391">.</span><span class="ident" id="1606392">loc</span>&nbsp;<span class="op" id="1606396">=</span>&nbsp;<span class="op" id="1606398">&amp;</span><span class="ident" id="1606399"><a href="/time/zoneinfo.go.html#1616255">utcLoc</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1606407">}</span>&nbsp;<span class="keyword" id="1606409">else</span>&nbsp;<span class="keyword" id="1606414">if</span>&nbsp;<span class="ident" id="1606417">_</span><span class="op" id="1606418">,</span>&nbsp;<span class="ident" id="1606420">localoff</span><span class="op" id="1606428">,</span>&nbsp;<span class="ident" id="1606430">_</span><span class="op" id="1606431">,</span>&nbsp;<span class="ident" id="1606433">_</span><span class="op" id="1606434">,</span>&nbsp;<span class="ident" id="1606436">_</span>&nbsp;<span class="op" id="1606438">:=</span>&nbsp;<span class="ident" id="1606441"><a href="/time/zoneinfo.go.html#1616341">Local</a></span><span class="op" id="1606446">.</span><span class="ident" id="1606447">lookup</span><span class="op" id="1606453">(</span><span class="ident" id="1606454"><a href="/time/time.go.html#1605642">t</a></span><span class="op" id="1606455">.</span><span class="ident" id="1606456">sec</span>&nbsp;<span class="op" id="1606460">+</span>&nbsp;<span class="ident" id="1606462"><a href="/time/time.go.html#1588555">internalToUnix</a></span><span class="op" id="1606476">)</span><span class="op" id="1606477">;</span>&nbsp;<span class="ident" id="1606479"><a href="/time/time.go.html#1606314">offset</a></span>&nbsp;<span class="op" id="1606486">==</span>&nbsp;<span class="ident" id="1606489"><a href="/time/time.go.html#1606420">localoff</a></span>&nbsp;<span class="op" id="1606498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1606502"><a href="/time/time.go.html#1605642">t</a></span><span class="op" id="1606503">.</span><span class="ident" id="1606504">loc</span>&nbsp;<span class="op" id="1606508">=</span>&nbsp;<span class="ident" id="1606510"><a href="/time/zoneinfo.go.html#1616341">Local</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1606517">}</span>&nbsp;<span class="keyword" id="1606519">else</span>&nbsp;<span class="op" id="1606524">{</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1606528"><a href="/time/time.go.html#1605642">t</a></span><span class="op" id="1606529">.</span><span class="ident" id="1606530">loc</span>&nbsp;<span class="op" id="1606534">=</span>&nbsp;<span class="ident" id="1606536"><a href="/time/zoneinfo.go.html#1616941">FixedZone</a></span><span class="op" id="1606545">(</span><span class="string" id="1606546">&#34;&#34;</span><span class="op" id="1606548">,</span>&nbsp;<span class="ident" id="1606550"><a href="/time/time.go.html#1606314">offset</a></span><span class="op" id="1606556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1606559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1606563">return</span>&nbsp;<span class="ident" id="1606570">nil</span><br>
<span class="lineno"></span><span class="op" id="1606574">}</span><br>
<span class="lineno">915</span><br>
<span class="lineno"></span><span class="comment" id="1606577">//&nbsp;TODO(rsc):&nbsp;Remove&nbsp;GobEncoder,&nbsp;GobDecoder,&nbsp;MarshalJSON,&nbsp;UnmarshalJSON&nbsp;in&nbsp;Go&nbsp;2.</span><br>
<span class="lineno"></span><span class="comment" id="1606658">//&nbsp;The&nbsp;same&nbsp;semantics&nbsp;will&nbsp;be&nbsp;provided&nbsp;by&nbsp;the&nbsp;generic&nbsp;MarshalBinary,&nbsp;MarshalText,</span><br>
<span class="lineno"></span><span class="comment" id="1606740">//&nbsp;UnmarshalBinary,&nbsp;UnmarshalText.</span><br>
<span class="lineno"></span><br>
<span class="lineno">920</span><span class="comment" id="1606776">//&nbsp;GobEncode&nbsp;implements&nbsp;the&nbsp;gob.GobEncoder&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="1606830">func</span>&nbsp;<span class="op" id="1606835">(</span><span class="ident" id="1606836">t</span>&nbsp;<span class="ident" id="1606838"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1606842">)</span>&nbsp;<span class="ident" id="1606844">GobEncode</span><span class="op" id="1606853">(</span><span class="op" id="1606854">)</span>&nbsp;<span class="op" id="1606856">(</span><span class="op" id="1606857">[</span><span class="op" id="1606858">]</span><span class="builtintype" id="1606859">byte</span><span class="op" id="1606863">,</span>&nbsp;<span class="builtintype" id="1606865">error</span><span class="op" id="1606870">)</span>&nbsp;<span class="op" id="1606872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1606875">return</span>&nbsp;<span class="ident" id="1606882"><a href="/time/time.go.html#1606836">t</a></span><span class="op" id="1606883">.</span><span class="ident" id="1606884">MarshalBinary</span><span class="op" id="1606897">(</span><span class="op" id="1606898">)</span><br>
<span class="lineno"></span><span class="op" id="1606900">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">925</span><span class="comment" id="1606903">//&nbsp;GobDecode&nbsp;implements&nbsp;the&nbsp;gob.GobDecoder&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="1606957">func</span>&nbsp;<span class="op" id="1606962">(</span><span class="ident" id="1606963">t</span>&nbsp;<span class="op" id="1606965">*</span><span class="ident" id="1606966"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1606970">)</span>&nbsp;<span class="ident" id="1606972">GobDecode</span><span class="op" id="1606981">(</span><span class="ident" id="1606982">data</span>&nbsp;<span class="op" id="1606987">[</span><span class="op" id="1606988">]</span><span class="builtintype" id="1606989">byte</span><span class="op" id="1606993">)</span>&nbsp;<span class="builtintype" id="1606995">error</span>&nbsp;<span class="op" id="1607001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1607004">return</span>&nbsp;<span class="ident" id="1607011"><a href="/time/time.go.html#1606963">t</a></span><span class="op" id="1607012">.</span><span class="ident" id="1607013">UnmarshalBinary</span><span class="op" id="1607028">(</span><span class="ident" id="1607029"><a href="/time/time.go.html#1606982">data</a></span><span class="op" id="1607033">)</span><br>
<span class="lineno"></span><span class="op" id="1607035">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">930</span><span class="comment" id="1607038">//&nbsp;MarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Marshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="comment" id="1607094">//&nbsp;The&nbsp;time&nbsp;is&nbsp;a&nbsp;quoted&nbsp;string&nbsp;in&nbsp;RFC&nbsp;3339&nbsp;format,&nbsp;with&nbsp;sub-second&nbsp;precision&nbsp;added&nbsp;if&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="1607189">func</span>&nbsp;<span class="op" id="1607194">(</span><span class="ident" id="1607195">t</span>&nbsp;<span class="ident" id="1607197"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1607201">)</span>&nbsp;<span class="ident" id="1607203">MarshalJSON</span><span class="op" id="1607214">(</span><span class="op" id="1607215">)</span>&nbsp;<span class="op" id="1607217">(</span><span class="op" id="1607218">[</span><span class="op" id="1607219">]</span><span class="builtintype" id="1607220">byte</span><span class="op" id="1607224">,</span>&nbsp;<span class="builtintype" id="1607226">error</span><span class="op" id="1607231">)</span>&nbsp;<span class="op" id="1607233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1607236">if</span>&nbsp;<span class="ident" id="1607239">y</span>&nbsp;<span class="op" id="1607241">:=</span>&nbsp;<span class="ident" id="1607244"><a href="/time/time.go.html#1607195">t</a></span><span class="op" id="1607245">.</span><span class="ident" id="1607246">Year</span><span class="op" id="1607250">(</span><span class="op" id="1607251">)</span><span class="op" id="1607252">;</span>&nbsp;<span class="ident" id="1607254"><a href="/time/time.go.html#1607239">y</a></span>&nbsp;<span class="op" id="1607256">&lt;</span>&nbsp;<span class="num" id="1607258">0</span>&nbsp;<span class="op" id="1607260">||</span>&nbsp;<span class="ident" id="1607263"><a href="/time/time.go.html#1607239">y</a></span>&nbsp;<span class="op" id="1607265">&gt;=</span>&nbsp;<span class="num" id="1607268">10000</span>&nbsp;<span class="op" id="1607274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1607278">//&nbsp;RFC&nbsp;3339&nbsp;is&nbsp;clear&nbsp;that&nbsp;years&nbsp;are&nbsp;4&nbsp;digits&nbsp;exactly.</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1607334">//&nbsp;See&nbsp;golang.org/issue/4556#c15&nbsp;for&nbsp;more&nbsp;discussion.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1607390">return</span>&nbsp;<span class="ident" id="1607397">nil</span><span class="op" id="1607400">,</span>&nbsp;<span class="ident" id="1607402"><a href="/time/time.go.html#1580518">errors</a></span><span class="op" id="1607408">.</span><span class="ident" id="1607409">New</span><span class="op" id="1607412">(</span><span class="string" id="1607413">&#34;Time.MarshalJSON:&nbsp;year&nbsp;outside&nbsp;of&nbsp;range&nbsp;[0,9999]&#34;</span><span class="op" id="1607463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1607466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1607469">return</span>&nbsp;<span class="op" id="1607476">[</span><span class="op" id="1607477">]</span><span class="builtintype" id="1607478">byte</span><span class="op" id="1607482">(</span><span class="ident" id="1607483"><a href="/time/time.go.html#1607195">t</a></span><span class="op" id="1607484">.</span><span class="ident" id="1607485">Format</span><span class="op" id="1607491">(</span><span class="string" id="1607492">`&#34;`</span>&nbsp;<span class="op" id="1607496">+</span>&nbsp;<span class="ident" id="1607498"><a href="/time/format.go.html#1540542">RFC3339Nano</a></span>&nbsp;<span class="op" id="1607510">+</span>&nbsp;<span class="string" id="1607512">`&#34;`</span><span class="op" id="1607515">)</span><span class="op" id="1607516">)</span><span class="op" id="1607517">,</span>&nbsp;<span class="ident" id="1607519">nil</span><br>
<span class="lineno"></span><span class="op" id="1607523">}</span><br>
<span class="lineno">940</span><br>
<span class="lineno"></span><span class="comment" id="1607526">//&nbsp;UnmarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Unmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="comment" id="1607586">//&nbsp;The&nbsp;time&nbsp;is&nbsp;expected&nbsp;to&nbsp;be&nbsp;a&nbsp;quoted&nbsp;string&nbsp;in&nbsp;RFC&nbsp;3339&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="1607652">func</span>&nbsp;<span class="op" id="1607657">(</span><span class="ident" id="1607658">t</span>&nbsp;<span class="op" id="1607660">*</span><span class="ident" id="1607661"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1607665">)</span>&nbsp;<span class="ident" id="1607667">UnmarshalJSON</span><span class="op" id="1607680">(</span><span class="ident" id="1607681">data</span>&nbsp;<span class="op" id="1607686">[</span><span class="op" id="1607687">]</span><span class="builtintype" id="1607688">byte</span><span class="op" id="1607692">)</span>&nbsp;<span class="op" id="1607694">(</span><span class="ident" id="1607695">err</span>&nbsp;<span class="builtintype" id="1607699">error</span><span class="op" id="1607704">)</span>&nbsp;<span class="op" id="1607706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1607709">//&nbsp;Fractional&nbsp;seconds&nbsp;are&nbsp;handled&nbsp;implicitly&nbsp;by&nbsp;Parse.</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1607765">*</span><span class="ident" id="1607766"><a href="/time/time.go.html#1607658">t</a></span><span class="op" id="1607767">,</span>&nbsp;<span class="ident" id="1607769"><a href="/time/time.go.html#1607695">err</a></span>&nbsp;<span class="op" id="1607773">=</span>&nbsp;<span class="ident" id="1607775"><a href="/time/format.go.html#1559318">Parse</a></span><span class="op" id="1607780">(</span><span class="string" id="1607781">`&#34;`</span><span class="op" id="1607784">+</span><span class="ident" id="1607785"><a href="/time/format.go.html#1540499">RFC3339</a></span><span class="op" id="1607792">+</span><span class="string" id="1607793">`&#34;`</span><span class="op" id="1607796">,</span>&nbsp;<span class="builtintype" id="1607798">string</span><span class="op" id="1607804">(</span><span class="ident" id="1607805"><a href="/time/time.go.html#1607681">data</a></span><span class="op" id="1607809">)</span><span class="op" id="1607810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1607813">return</span><br>
<span class="lineno"></span><span class="op" id="1607820">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1607823">//&nbsp;MarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextMarshaler&nbsp;interface.</span><br>
<span class="lineno">950</span><span class="comment" id="1607887">//&nbsp;The&nbsp;time&nbsp;is&nbsp;formatted&nbsp;in&nbsp;RFC&nbsp;3339&nbsp;format,&nbsp;with&nbsp;sub-second&nbsp;precision&nbsp;added&nbsp;if&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="1607976">func</span>&nbsp;<span class="op" id="1607981">(</span><span class="ident" id="1607982">t</span>&nbsp;<span class="ident" id="1607984"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1607988">)</span>&nbsp;<span class="ident" id="1607990">MarshalText</span><span class="op" id="1608001">(</span><span class="op" id="1608002">)</span>&nbsp;<span class="op" id="1608004">(</span><span class="op" id="1608005">[</span><span class="op" id="1608006">]</span><span class="builtintype" id="1608007">byte</span><span class="op" id="1608011">,</span>&nbsp;<span class="builtintype" id="1608013">error</span><span class="op" id="1608018">)</span>&nbsp;<span class="op" id="1608020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1608023">if</span>&nbsp;<span class="ident" id="1608026">y</span>&nbsp;<span class="op" id="1608028">:=</span>&nbsp;<span class="ident" id="1608031"><a href="/time/time.go.html#1607982">t</a></span><span class="op" id="1608032">.</span><span class="ident" id="1608033">Year</span><span class="op" id="1608037">(</span><span class="op" id="1608038">)</span><span class="op" id="1608039">;</span>&nbsp;<span class="ident" id="1608041"><a href="/time/time.go.html#1608026">y</a></span>&nbsp;<span class="op" id="1608043">&lt;</span>&nbsp;<span class="num" id="1608045">0</span>&nbsp;<span class="op" id="1608047">||</span>&nbsp;<span class="ident" id="1608050"><a href="/time/time.go.html#1608026">y</a></span>&nbsp;<span class="op" id="1608052">&gt;=</span>&nbsp;<span class="num" id="1608055">10000</span>&nbsp;<span class="op" id="1608061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1608065">return</span>&nbsp;<span class="ident" id="1608072">nil</span><span class="op" id="1608075">,</span>&nbsp;<span class="ident" id="1608077"><a href="/time/time.go.html#1580518">errors</a></span><span class="op" id="1608083">.</span><span class="ident" id="1608084">New</span><span class="op" id="1608087">(</span><span class="string" id="1608088">&#34;Time.MarshalText:&nbsp;year&nbsp;outside&nbsp;of&nbsp;range&nbsp;[0,9999]&#34;</span><span class="op" id="1608138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1608141">}</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1608144">return</span>&nbsp;<span class="op" id="1608151">[</span><span class="op" id="1608152">]</span><span class="builtintype" id="1608153">byte</span><span class="op" id="1608157">(</span><span class="ident" id="1608158"><a href="/time/time.go.html#1607982">t</a></span><span class="op" id="1608159">.</span><span class="ident" id="1608160">Format</span><span class="op" id="1608166">(</span><span class="ident" id="1608167"><a href="/time/format.go.html#1540542">RFC3339Nano</a></span><span class="op" id="1608178">)</span><span class="op" id="1608179">)</span><span class="op" id="1608180">,</span>&nbsp;<span class="ident" id="1608182">nil</span><br>
<span class="lineno"></span><span class="op" id="1608186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1608189">//&nbsp;UnmarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextUnmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="comment" id="1608257">//&nbsp;The&nbsp;time&nbsp;is&nbsp;expected&nbsp;to&nbsp;be&nbsp;in&nbsp;RFC&nbsp;3339&nbsp;format.</span><br>
<span class="lineno">960</span><span class="keyword" id="1608307">func</span>&nbsp;<span class="op" id="1608312">(</span><span class="ident" id="1608313">t</span>&nbsp;<span class="op" id="1608315">*</span><span class="ident" id="1608316"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1608320">)</span>&nbsp;<span class="ident" id="1608322">UnmarshalText</span><span class="op" id="1608335">(</span><span class="ident" id="1608336">data</span>&nbsp;<span class="op" id="1608341">[</span><span class="op" id="1608342">]</span><span class="builtintype" id="1608343">byte</span><span class="op" id="1608347">)</span>&nbsp;<span class="op" id="1608349">(</span><span class="ident" id="1608350">err</span>&nbsp;<span class="builtintype" id="1608354">error</span><span class="op" id="1608359">)</span>&nbsp;<span class="op" id="1608361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1608364">//&nbsp;Fractional&nbsp;seconds&nbsp;are&nbsp;handled&nbsp;implicitly&nbsp;by&nbsp;Parse.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1608420">*</span><span class="ident" id="1608421"><a href="/time/time.go.html#1608313">t</a></span><span class="op" id="1608422">,</span>&nbsp;<span class="ident" id="1608424"><a href="/time/time.go.html#1608350">err</a></span>&nbsp;<span class="op" id="1608428">=</span>&nbsp;<span class="ident" id="1608430"><a href="/time/format.go.html#1559318">Parse</a></span><span class="op" id="1608435">(</span><span class="ident" id="1608436"><a href="/time/format.go.html#1540499">RFC3339</a></span><span class="op" id="1608443">,</span>&nbsp;<span class="builtintype" id="1608445">string</span><span class="op" id="1608451">(</span><span class="ident" id="1608452"><a href="/time/time.go.html#1608336">data</a></span><span class="op" id="1608456">)</span><span class="op" id="1608457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1608460">return</span><br>
<span class="lineno"></span><span class="op" id="1608467">}</span><br>
<span class="lineno">965</span><br>
<span class="lineno"></span><span class="comment" id="1608470">//&nbsp;Unix&nbsp;returns&nbsp;the&nbsp;local&nbsp;Time&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;given&nbsp;Unix&nbsp;time,</span><br>
<span class="lineno"></span><span class="comment" id="1608539">//&nbsp;sec&nbsp;seconds&nbsp;and&nbsp;nsec&nbsp;nanoseconds&nbsp;since&nbsp;January&nbsp;1,&nbsp;1970&nbsp;UTC.</span><br>
<span class="lineno"></span><span class="comment" id="1608602">//&nbsp;It&nbsp;is&nbsp;valid&nbsp;to&nbsp;pass&nbsp;nsec&nbsp;outside&nbsp;the&nbsp;range&nbsp;[0,&nbsp;999999999].</span><br>
<span class="lineno"></span><span class="keyword" id="1608664">func</span>&nbsp;<span class="ident" id="1608669">Unix</span><span class="op" id="1608673">(</span><span class="ident" id="1608674">sec</span>&nbsp;<span class="ident" id="1608678">int64</span><span class="op" id="1608683">,</span>&nbsp;<span class="ident" id="1608685">nsec</span>&nbsp;<span class="ident" id="1608690">int64</span><span class="op" id="1608695">)</span>&nbsp;<span class="ident" id="1608697"><a href="/time/time.go.html#1582052">Time</a></span>&nbsp;<span class="op" id="1608702">{</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1608705">if</span>&nbsp;<span class="ident" id="1608708"><a href="/time/time.go.html#1608685">nsec</a></span>&nbsp;<span class="op" id="1608713">&lt;</span>&nbsp;<span class="num" id="1608715">0</span>&nbsp;<span class="op" id="1608717">||</span>&nbsp;<span class="ident" id="1608720"><a href="/time/time.go.html#1608685">nsec</a></span>&nbsp;<span class="op" id="1608725">&gt;=</span>&nbsp;<span class="num" id="1608728">1e9</span>&nbsp;<span class="op" id="1608732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1608736">n</span>&nbsp;<span class="op" id="1608738">:=</span>&nbsp;<span class="ident" id="1608741"><a href="/time/time.go.html#1608685">nsec</a></span>&nbsp;<span class="op" id="1608746">/</span>&nbsp;<span class="num" id="1608748">1e9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1608754"><a href="/time/time.go.html#1608674">sec</a></span>&nbsp;<span class="op" id="1608758">+=</span>&nbsp;<span class="ident" id="1608761"><a href="/time/time.go.html#1608736">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1608765"><a href="/time/time.go.html#1608685">nsec</a></span>&nbsp;<span class="op" id="1608770">-=</span>&nbsp;<span class="ident" id="1608773"><a href="/time/time.go.html#1608736">n</a></span>&nbsp;<span class="op" id="1608775">*</span>&nbsp;<span class="num" id="1608777">1e9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1608783">if</span>&nbsp;<span class="ident" id="1608786"><a href="/time/time.go.html#1608685">nsec</a></span>&nbsp;<span class="op" id="1608791">&lt;</span>&nbsp;<span class="num" id="1608793">0</span>&nbsp;<span class="op" id="1608795">{</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1608800"><a href="/time/time.go.html#1608685">nsec</a></span>&nbsp;<span class="op" id="1608805">+=</span>&nbsp;<span class="num" id="1608808">1e9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1608815"><a href="/time/time.go.html#1608674">sec</a></span><span class="op" id="1608818">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1608823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1608826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1608829">return</span>&nbsp;<span class="ident" id="1608836"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1608840">{</span><span class="ident" id="1608841"><a href="/time/time.go.html#1608674">sec</a></span>&nbsp;<span class="op" id="1608845">+</span>&nbsp;<span class="ident" id="1608847"><a href="/time/time.go.html#1588473">unixToInternal</a></span><span class="op" id="1608861">,</span>&nbsp;<span class="builtintype" id="1608863">int32</span><span class="op" id="1608868">(</span><span class="ident" id="1608869"><a href="/time/time.go.html#1608685">nsec</a></span><span class="op" id="1608873">)</span><span class="op" id="1608874">,</span>&nbsp;<span class="ident" id="1608876"><a href="/time/zoneinfo.go.html#1616341">Local</a></span><span class="op" id="1608881">}</span><br>
<span class="lineno">980</span><span class="op" id="1608883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1608886">func</span>&nbsp;<span class="ident" id="1608891">isLeap</span><span class="op" id="1608897">(</span><span class="ident" id="1608898">year</span>&nbsp;<span class="builtintype" id="1608903">int</span><span class="op" id="1608906">)</span>&nbsp;<span class="builtintype" id="1608908">bool</span>&nbsp;<span class="op" id="1608913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1608916">return</span>&nbsp;<span class="ident" id="1608923"><a href="/time/time.go.html#1608898">year</a></span><span class="op" id="1608927">%</span><span class="num" id="1608928">4</span>&nbsp;<span class="op" id="1608930">==</span>&nbsp;<span class="num" id="1608933">0</span>&nbsp;<span class="op" id="1608935">&amp;&amp;</span>&nbsp;<span class="op" id="1608938">(</span><span class="ident" id="1608939"><a href="/time/time.go.html#1608898">year</a></span><span class="op" id="1608943">%</span><span class="num" id="1608944">100</span>&nbsp;<span class="op" id="1608948">!=</span>&nbsp;<span class="num" id="1608951">0</span>&nbsp;<span class="op" id="1608953">||</span>&nbsp;<span class="ident" id="1608956"><a href="/time/time.go.html#1608898">year</a></span><span class="op" id="1608960">%</span><span class="num" id="1608961">400</span>&nbsp;<span class="op" id="1608965">==</span>&nbsp;<span class="num" id="1608968">0</span><span class="op" id="1608969">)</span><br>
<span class="lineno"></span><span class="op" id="1608971">}</span><br>
<span class="lineno">985</span><br>
<span class="lineno"></span><span class="comment" id="1608974">//&nbsp;norm&nbsp;returns&nbsp;nhi,&nbsp;nlo&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="1609009">//&nbsp;&nbsp;&nbsp;&nbsphi&nbsp;*&nbsp;base&nbsp;+&nbsp;lo&nbsp;==&nbsp;nhi&nbsp;*&nbsp;base&nbsp;+&nbsp;nlo</span><br>
<span class="lineno"></span><span class="comment" id="1609047">//&nbsp;&nbsp;&nbsp;&nbsp0&nbsp;&lt;=&nbsp;nlo&nbsp;&lt;&nbsp;base</span><br>
<span class="lineno"></span><span class="keyword" id="1609066">func</span>&nbsp;<span class="ident" id="1609071">norm</span><span class="op" id="1609075">(</span><span class="ident" id="1609076">hi</span><span class="op" id="1609078">,</span>&nbsp;<span class="ident" id="1609080">lo</span><span class="op" id="1609082">,</span>&nbsp;<span class="ident" id="1609084">base</span>&nbsp;<span class="builtintype" id="1609089">int</span><span class="op" id="1609092">)</span>&nbsp;<span class="op" id="1609094">(</span><span class="ident" id="1609095">nhi</span><span class="op" id="1609098">,</span>&nbsp;<span class="ident" id="1609100">nlo</span>&nbsp;<span class="builtintype" id="1609104">int</span><span class="op" id="1609107">)</span>&nbsp;<span class="op" id="1609109">{</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1609112">if</span>&nbsp;<span class="ident" id="1609115"><a href="/time/time.go.html#1609080">lo</a></span>&nbsp;<span class="op" id="1609118">&lt;</span>&nbsp;<span class="num" id="1609120">0</span>&nbsp;<span class="op" id="1609122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1609126">n</span>&nbsp;<span class="op" id="1609128">:=</span>&nbsp;<span class="op" id="1609131">(</span><span class="op" id="1609132">-</span><span class="ident" id="1609133"><a href="/time/time.go.html#1609080">lo</a></span><span class="op" id="1609135">-</span><span class="num" id="1609136">1</span><span class="op" id="1609137">)</span><span class="op" id="1609138">/</span><span class="ident" id="1609139"><a href="/time/time.go.html#1609084">base</a></span>&nbsp;<span class="op" id="1609144">+</span>&nbsp;<span class="num" id="1609146">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1609150"><a href="/time/time.go.html#1609076">hi</a></span>&nbsp;<span class="op" id="1609153">-=</span>&nbsp;<span class="ident" id="1609156"><a href="/time/time.go.html#1609126">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1609160"><a href="/time/time.go.html#1609080">lo</a></span>&nbsp;<span class="op" id="1609163">+=</span>&nbsp;<span class="ident" id="1609166"><a href="/time/time.go.html#1609126">n</a></span>&nbsp;<span class="op" id="1609168">*</span>&nbsp;<span class="ident" id="1609170"><a href="/time/time.go.html#1609084">base</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1609176">}</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1609179">if</span>&nbsp;<span class="ident" id="1609182"><a href="/time/time.go.html#1609080">lo</a></span>&nbsp;<span class="op" id="1609185">&gt;=</span>&nbsp;<span class="ident" id="1609188"><a href="/time/time.go.html#1609084">base</a></span>&nbsp;<span class="op" id="1609193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1609197">n</span>&nbsp;<span class="op" id="1609199">:=</span>&nbsp;<span class="ident" id="1609202"><a href="/time/time.go.html#1609080">lo</a></span>&nbsp;<span class="op" id="1609205">/</span>&nbsp;<span class="ident" id="1609207"><a href="/time/time.go.html#1609084">base</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1609214"><a href="/time/time.go.html#1609076">hi</a></span>&nbsp;<span class="op" id="1609217">+=</span>&nbsp;<span class="ident" id="1609220"><a href="/time/time.go.html#1609197">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1609224"><a href="/time/time.go.html#1609080">lo</a></span>&nbsp;<span class="op" id="1609227">-=</span>&nbsp;<span class="ident" id="1609230"><a href="/time/time.go.html#1609197">n</a></span>&nbsp;<span class="op" id="1609232">*</span>&nbsp;<span class="ident" id="1609234"><a href="/time/time.go.html#1609084">base</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1609240">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1609243">return</span>&nbsp;<span class="ident" id="1609250"><a href="/time/time.go.html#1609076">hi</a></span><span class="op" id="1609252">,</span>&nbsp;<span class="ident" id="1609254"><a href="/time/time.go.html#1609080">lo</a></span><br>
<span class="lineno"></span><span class="op" id="1609257">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1609260">//&nbsp;Date&nbsp;returns&nbsp;the&nbsp;Time&nbsp;corresponding&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="1609302">//&nbsp;&nbsp;&nbsp;&nbspyyyy-mm-dd&nbsp;hh:mm:ss&nbsp;+&nbsp;nsec&nbsp;nanoseconds</span><br>
<span class="lineno">1005</span><span class="comment" id="1609344">//&nbsp;in&nbsp;the&nbsp;appropriate&nbsp;zone&nbsp;for&nbsp;that&nbsp;time&nbsp;in&nbsp;the&nbsp;given&nbsp;location.</span><br>
<span class="lineno"></span><span class="comment" id="1609408">//</span><br>
<span class="lineno"></span><span class="comment" id="1609411">//&nbsp;The&nbsp;month,&nbsp;day,&nbsp;hour,&nbsp;min,&nbsp;sec,&nbsp;and&nbsp;nsec&nbsp;values&nbsp;may&nbsp;be&nbsp;outside</span><br>
<span class="lineno"></span><span class="comment" id="1609477">//&nbsp;their&nbsp;usual&nbsp;ranges&nbsp;and&nbsp;will&nbsp;be&nbsp;normalized&nbsp;during&nbsp;the&nbsp;conversion.</span><br>
<span class="lineno"></span><span class="comment" id="1609545">//&nbsp;For&nbsp;example,&nbsp;October&nbsp;32&nbsp;converts&nbsp;to&nbsp;November&nbsp;1.</span><br>
<span class="lineno">1010</span><span class="comment" id="1609596">//</span><br>
<span class="lineno"></span><span class="comment" id="1609599">//&nbsp;A&nbsp;daylight&nbsp;savings&nbsp;time&nbsp;transition&nbsp;skips&nbsp;or&nbsp;repeats&nbsp;times.</span><br>
<span class="lineno"></span><span class="comment" id="1609661">//&nbsp;For&nbsp;example,&nbsp;in&nbsp;the&nbsp;United&nbsp;States,&nbsp;March&nbsp;13,&nbsp;2011&nbsp;2:15am&nbsp;never&nbsp;occurred,</span><br>
<span class="lineno"></span><span class="comment" id="1609737">//&nbsp;while&nbsp;November&nbsp;6,&nbsp;2011&nbsp;1:15am&nbsp;occurred&nbsp;twice.&nbsp;&nbsp;In&nbsp;such&nbsp;cases,&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1609806">//&nbsp;choice&nbsp;of&nbsp;time&nbsp;zone,&nbsp;and&nbsp;therefore&nbsp;the&nbsp;time,&nbsp;is&nbsp;not&nbsp;well-defined.</span><br>
<span class="lineno">1015</span><span class="comment" id="1609875">//&nbsp;Date&nbsp;returns&nbsp;a&nbsp;time&nbsp;that&nbsp;is&nbsp;correct&nbsp;in&nbsp;one&nbsp;of&nbsp;the&nbsp;two&nbsp;zones&nbsp;involved</span><br>
<span class="lineno"></span><span class="comment" id="1609947">//&nbsp;in&nbsp;the&nbsp;transition,&nbsp;but&nbsp;it&nbsp;does&nbsp;not&nbsp;guarantee&nbsp;which.</span><br>
<span class="lineno"></span><span class="comment" id="1610002">//</span><br>
<span class="lineno"></span><span class="comment" id="1610005">//&nbsp;Date&nbsp;panics&nbsp;if&nbsp;loc&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="1610035">func</span>&nbsp;<span class="ident" id="1610040">Date</span><span class="op" id="1610044">(</span><span class="ident" id="1610045">year</span>&nbsp;<span class="builtintype" id="1610050">int</span><span class="op" id="1610053">,</span>&nbsp;<span class="ident" id="1610055">month</span>&nbsp;<span class="ident" id="1610061"><a href="/time/time.go.html#1583297">Month</a></span><span class="op" id="1610066">,</span>&nbsp;<span class="ident" id="1610068">day</span><span class="op" id="1610071">,</span>&nbsp;<span class="ident" id="1610073">hour</span><span class="op" id="1610077">,</span>&nbsp;<span class="ident" id="1610079">min</span><span class="op" id="1610082">,</span>&nbsp;<span class="ident" id="1610084">sec</span><span class="op" id="1610087">,</span>&nbsp;<span class="ident" id="1610089">nsec</span>&nbsp;<span class="builtintype" id="1610094">int</span><span class="op" id="1610097">,</span>&nbsp;<span class="ident" id="1610099">loc</span>&nbsp;<span class="op" id="1610103">*</span><span class="ident" id="1610104"><a href="/time/zoneinfo.go.html#1614833">Location</a></span><span class="op" id="1610112">)</span>&nbsp;<span class="ident" id="1610114"><a href="/time/time.go.html#1582052">Time</a></span>&nbsp;<span class="op" id="1610119">{</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1610122">if</span>&nbsp;<span class="ident" id="1610125"><a href="/time/time.go.html#1610099">loc</a></span>&nbsp;<span class="op" id="1610129">==</span>&nbsp;<span class="ident" id="1610132">nil</span>&nbsp;<span class="op" id="1610136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1610140">panic</span><span class="op" id="1610145">(</span><span class="string" id="1610146">&#34;time:&nbsp;missing&nbsp;Location&nbsp;in&nbsp;call&nbsp;to&nbsp;Date&#34;</span><span class="op" id="1610186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1610189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1610193">//&nbsp;Normalize&nbsp;month,&nbsp;overflowing&nbsp;into&nbsp;year.</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610237">m</span>&nbsp;<span class="op" id="1610239">:=</span>&nbsp;<span class="builtintype" id="1610242">int</span><span class="op" id="1610245">(</span><span class="ident" id="1610246"><a href="/time/time.go.html#1610055">month</a></span><span class="op" id="1610251">)</span>&nbsp;<span class="op" id="1610253">-</span>&nbsp;<span class="num" id="1610255">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610258"><a href="/time/time.go.html#1610045">year</a></span><span class="op" id="1610262">,</span>&nbsp;<span class="ident" id="1610264"><a href="/time/time.go.html#1610237">m</a></span>&nbsp;<span class="op" id="1610266">=</span>&nbsp;<span class="ident" id="1610268"><a href="/time/time.go.html#1609071">norm</a></span><span class="op" id="1610272">(</span><span class="ident" id="1610273"><a href="/time/time.go.html#1610045">year</a></span><span class="op" id="1610277">,</span>&nbsp;<span class="ident" id="1610279"><a href="/time/time.go.html#1610237">m</a></span><span class="op" id="1610280">,</span>&nbsp;<span class="num" id="1610282">12</span><span class="op" id="1610284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610287"><a href="/time/time.go.html#1610055">month</a></span>&nbsp;<span class="op" id="1610293">=</span>&nbsp;<span class="ident" id="1610295"><a href="/time/time.go.html#1583297">Month</a></span><span class="op" id="1610300">(</span><span class="ident" id="1610301"><a href="/time/time.go.html#1610237">m</a></span><span class="op" id="1610302">)</span>&nbsp;<span class="op" id="1610304">+</span>&nbsp;<span class="num" id="1610306">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1610310">//&nbsp;Normalize&nbsp;nsec,&nbsp;sec,&nbsp;min,&nbsp;hour,&nbsp;overflowing&nbsp;into&nbsp;day.</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610368"><a href="/time/time.go.html#1610084">sec</a></span><span class="op" id="1610371">,</span>&nbsp;<span class="ident" id="1610373"><a href="/time/time.go.html#1610089">nsec</a></span>&nbsp;<span class="op" id="1610378">=</span>&nbsp;<span class="ident" id="1610380"><a href="/time/time.go.html#1609071">norm</a></span><span class="op" id="1610384">(</span><span class="ident" id="1610385"><a href="/time/time.go.html#1610084">sec</a></span><span class="op" id="1610388">,</span>&nbsp;<span class="ident" id="1610390"><a href="/time/time.go.html#1610089">nsec</a></span><span class="op" id="1610394">,</span>&nbsp;<span class="num" id="1610396">1e9</span><span class="op" id="1610399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610402"><a href="/time/time.go.html#1610079">min</a></span><span class="op" id="1610405">,</span>&nbsp;<span class="ident" id="1610407"><a href="/time/time.go.html#1610084">sec</a></span>&nbsp;<span class="op" id="1610411">=</span>&nbsp;<span class="ident" id="1610413"><a href="/time/time.go.html#1609071">norm</a></span><span class="op" id="1610417">(</span><span class="ident" id="1610418"><a href="/time/time.go.html#1610079">min</a></span><span class="op" id="1610421">,</span>&nbsp;<span class="ident" id="1610423"><a href="/time/time.go.html#1610084">sec</a></span><span class="op" id="1610426">,</span>&nbsp;<span class="num" id="1610428">60</span><span class="op" id="1610430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610433"><a href="/time/time.go.html#1610073">hour</a></span><span class="op" id="1610437">,</span>&nbsp;<span class="ident" id="1610439"><a href="/time/time.go.html#1610079">min</a></span>&nbsp;<span class="op" id="1610443">=</span>&nbsp;<span class="ident" id="1610445"><a href="/time/time.go.html#1609071">norm</a></span><span class="op" id="1610449">(</span><span class="ident" id="1610450"><a href="/time/time.go.html#1610073">hour</a></span><span class="op" id="1610454">,</span>&nbsp;<span class="ident" id="1610456"><a href="/time/time.go.html#1610079">min</a></span><span class="op" id="1610459">,</span>&nbsp;<span class="num" id="1610461">60</span><span class="op" id="1610463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610466"><a href="/time/time.go.html#1610068">day</a></span><span class="op" id="1610469">,</span>&nbsp;<span class="ident" id="1610471"><a href="/time/time.go.html#1610073">hour</a></span>&nbsp;<span class="op" id="1610476">=</span>&nbsp;<span class="ident" id="1610478"><a href="/time/time.go.html#1609071">norm</a></span><span class="op" id="1610482">(</span><span class="ident" id="1610483"><a href="/time/time.go.html#1610068">day</a></span><span class="op" id="1610486">,</span>&nbsp;<span class="ident" id="1610488"><a href="/time/time.go.html#1610073">hour</a></span><span class="op" id="1610492">,</span>&nbsp;<span class="num" id="1610494">24</span><span class="op" id="1610496">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610500">y</span>&nbsp;<span class="op" id="1610502">:=</span>&nbsp;<span class="ident" id="1610505">uint64</span><span class="op" id="1610511">(</span><span class="ident" id="1610512">int64</span><span class="op" id="1610517">(</span><span class="ident" id="1610518"><a href="/time/time.go.html#1610045">year</a></span><span class="op" id="1610522">)</span>&nbsp;<span class="op" id="1610524">-</span>&nbsp;<span class="ident" id="1610526"><a href="/time/time.go.html#1588075">absoluteZeroYear</a></span><span class="op" id="1610542">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1610546">//&nbsp;Compute&nbsp;days&nbsp;since&nbsp;the&nbsp;absolute&nbsp;epoch.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1610590">//&nbsp;Add&nbsp;in&nbsp;days&nbsp;from&nbsp;400-year&nbsp;cycles.</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610628">n</span>&nbsp;<span class="op" id="1610630">:=</span>&nbsp;<span class="ident" id="1610633"><a href="/time/time.go.html#1610500">y</a></span>&nbsp;<span class="op" id="1610635">/</span>&nbsp;<span class="num" id="1610637">400</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610642"><a href="/time/time.go.html#1610500">y</a></span>&nbsp;<span class="op" id="1610644">-=</span>&nbsp;<span class="num" id="1610647">400</span>&nbsp;<span class="op" id="1610651">*</span>&nbsp;<span class="ident" id="1610653"><a href="/time/time.go.html#1610628">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610656">d</span>&nbsp;<span class="op" id="1610658">:=</span>&nbsp;<span class="ident" id="1610661"><a href="/time/time.go.html#1600233">daysPer400Years</a></span>&nbsp;<span class="op" id="1610677">*</span>&nbsp;<span class="ident" id="1610679"><a href="/time/time.go.html#1610628">n</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1610683">//&nbsp;Add&nbsp;in&nbsp;100-year&nbsp;cycles.</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610711"><a href="/time/time.go.html#1610628">n</a></span>&nbsp;<span class="op" id="1610713">=</span>&nbsp;<span class="ident" id="1610715"><a href="/time/time.go.html#1610500">y</a></span>&nbsp;<span class="op" id="1610717">/</span>&nbsp;<span class="num" id="1610719">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610724"><a href="/time/time.go.html#1610500">y</a></span>&nbsp;<span class="op" id="1610726">-=</span>&nbsp;<span class="num" id="1610729">100</span>&nbsp;<span class="op" id="1610733">*</span>&nbsp;<span class="ident" id="1610735"><a href="/time/time.go.html#1610628">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610738"><a href="/time/time.go.html#1610656">d</a></span>&nbsp;<span class="op" id="1610740">+=</span>&nbsp;<span class="ident" id="1610743"><a href="/time/time.go.html#1600266">daysPer100Years</a></span>&nbsp;<span class="op" id="1610759">*</span>&nbsp;<span class="ident" id="1610761"><a href="/time/time.go.html#1610628">n</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1610765">//&nbsp;Add&nbsp;in&nbsp;4-year&nbsp;cycles.</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610791"><a href="/time/time.go.html#1610628">n</a></span>&nbsp;<span class="op" id="1610793">=</span>&nbsp;<span class="ident" id="1610795"><a href="/time/time.go.html#1610500">y</a></span>&nbsp;<span class="op" id="1610797">/</span>&nbsp;<span class="num" id="1610799">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610802"><a href="/time/time.go.html#1610500">y</a></span>&nbsp;<span class="op" id="1610804">-=</span>&nbsp;<span class="num" id="1610807">4</span>&nbsp;<span class="op" id="1610809">*</span>&nbsp;<span class="ident" id="1610811"><a href="/time/time.go.html#1610628">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610814"><a href="/time/time.go.html#1610656">d</a></span>&nbsp;<span class="op" id="1610816">+=</span>&nbsp;<span class="ident" id="1610819"><a href="/time/time.go.html#1600299">daysPer4Years</a></span>&nbsp;<span class="op" id="1610833">*</span>&nbsp;<span class="ident" id="1610835"><a href="/time/time.go.html#1610628">n</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1610839">//&nbsp;Add&nbsp;in&nbsp;non-leap&nbsp;years.</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610866"><a href="/time/time.go.html#1610628">n</a></span>&nbsp;<span class="op" id="1610868">=</span>&nbsp;<span class="ident" id="1610870"><a href="/time/time.go.html#1610500">y</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610873"><a href="/time/time.go.html#1610656">d</a></span>&nbsp;<span class="op" id="1610875">+=</span>&nbsp;<span class="num" id="1610878">365</span>&nbsp;<span class="op" id="1610882">*</span>&nbsp;<span class="ident" id="1610884"><a href="/time/time.go.html#1610628">n</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1610888">//&nbsp;Add&nbsp;in&nbsp;days&nbsp;before&nbsp;this&nbsp;month.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610923"><a href="/time/time.go.html#1610656">d</a></span>&nbsp;<span class="op" id="1610925">+=</span>&nbsp;<span class="ident" id="1610928">uint64</span><span class="op" id="1610934">(</span><span class="ident" id="1610935"><a href="/time/time.go.html#1602383">daysBefore</a></span><span class="op" id="1610945">[</span><span class="ident" id="1610946"><a href="/time/time.go.html#1610055">month</a></span><span class="op" id="1610951">-</span><span class="num" id="1610952">1</span><span class="op" id="1610953">]</span><span class="op" id="1610954">)</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1610957">if</span>&nbsp;<span class="ident" id="1610960"><a href="/time/time.go.html#1608891">isLeap</a></span><span class="op" id="1610966">(</span><span class="ident" id="1610967"><a href="/time/time.go.html#1610045">year</a></span><span class="op" id="1610971">)</span>&nbsp;<span class="op" id="1610973">&amp;&amp;</span>&nbsp;<span class="ident" id="1610976"><a href="/time/time.go.html#1610055">month</a></span>&nbsp;<span class="op" id="1610982">&gt;=</span>&nbsp;<span class="ident" id="1610985"><a href="/time/time.go.html#1583353">March</a></span>&nbsp;<span class="op" id="1610991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1610995"><a href="/time/time.go.html#1610656">d</a></span><span class="op" id="1610996">++</span>&nbsp;<span class="comment" id="1610999">//&nbsp;February&nbsp;29</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1611015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1611019">//&nbsp;Add&nbsp;in&nbsp;days&nbsp;before&nbsp;today.</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1611049"><a href="/time/time.go.html#1610656">d</a></span>&nbsp;<span class="op" id="1611051">+=</span>&nbsp;<span class="ident" id="1611054">uint64</span><span class="op" id="1611060">(</span><span class="ident" id="1611061"><a href="/time/time.go.html#1610068">day</a></span>&nbsp;<span class="op" id="1611065">-</span>&nbsp;<span class="num" id="1611067">1</span><span class="op" id="1611068">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1611072">//&nbsp;Add&nbsp;in&nbsp;time&nbsp;elapsed&nbsp;today.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1611103">abs</span>&nbsp;<span class="op" id="1611107">:=</span>&nbsp;<span class="ident" id="1611110"><a href="/time/time.go.html#1610656">d</a></span>&nbsp;<span class="op" id="1611112">*</span>&nbsp;<span class="ident" id="1611114"><a href="/time/time.go.html#1600155">secondsPerDay</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1611129"><a href="/time/time.go.html#1611103">abs</a></span>&nbsp;<span class="op" id="1611133">+=</span>&nbsp;<span class="ident" id="1611136">uint64</span><span class="op" id="1611142">(</span><span class="ident" id="1611143"><a href="/time/time.go.html#1610073">hour</a></span><span class="op" id="1611147">*</span><span class="ident" id="1611148"><a href="/time/time.go.html#1600127">secondsPerHour</a></span>&nbsp;<span class="op" id="1611163">+</span>&nbsp;<span class="ident" id="1611165"><a href="/time/time.go.html#1610079">min</a></span><span class="op" id="1611168">*</span><span class="ident" id="1611169"><a href="/time/time.go.html#1600104">secondsPerMinute</a></span>&nbsp;<span class="op" id="1611186">+</span>&nbsp;<span class="ident" id="1611188"><a href="/time/time.go.html#1610084">sec</a></span><span class="op" id="1611191">)</span><br>
<span class="lineno">1070</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1611195">unix</span>&nbsp;<span class="op" id="1611200">:=</span>&nbsp;<span class="ident" id="1611203">int64</span><span class="op" id="1611208">(</span><span class="ident" id="1611209"><a href="/time/time.go.html#1611103">abs</a></span><span class="op" id="1611212">)</span>&nbsp;<span class="op" id="1611214">+</span>&nbsp;<span class="op" id="1611216">(</span><span class="ident" id="1611217"><a href="/time/time.go.html#1588335">absoluteToInternal</a></span>&nbsp;<span class="op" id="1611236">+</span>&nbsp;<span class="ident" id="1611238"><a href="/time/time.go.html#1588555">internalToUnix</a></span><span class="op" id="1611252">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1611256">//&nbsp;Look&nbsp;for&nbsp;zone&nbsp;offset&nbsp;for&nbsp;t,&nbsp;so&nbsp;we&nbsp;can&nbsp;adjust&nbsp;to&nbsp;UTC.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1611313">//&nbsp;The&nbsp;lookup&nbsp;function&nbsp;expects&nbsp;UTC,&nbsp;so&nbsp;we&nbsp;pass&nbsp;t&nbsp;in&nbsp;the</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1611370">//&nbsp;hope&nbsp;that&nbsp;it&nbsp;will&nbsp;not&nbsp;be&nbsp;too&nbsp;close&nbsp;to&nbsp;a&nbsp;zone&nbsp;transition,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1611431">//&nbsp;and&nbsp;then&nbsp;adjust&nbsp;if&nbsp;it&nbsp;is.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1611461">_</span><span class="op" id="1611462">,</span>&nbsp;<span class="ident" id="1611464">offset</span><span class="op" id="1611470">,</span>&nbsp;<span class="ident" id="1611472">_</span><span class="op" id="1611473">,</span>&nbsp;<span class="ident" id="1611475">start</span><span class="op" id="1611480">,</span>&nbsp;<span class="ident" id="1611482">end</span>&nbsp;<span class="op" id="1611486">:=</span>&nbsp;<span class="ident" id="1611489"><a href="/time/time.go.html#1610099">loc</a></span><span class="op" id="1611492">.</span><span class="ident" id="1611493">lookup</span><span class="op" id="1611499">(</span><span class="ident" id="1611500"><a href="/time/time.go.html#1611195">unix</a></span><span class="op" id="1611504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1611507">if</span>&nbsp;<span class="ident" id="1611510"><a href="/time/time.go.html#1611464">offset</a></span>&nbsp;<span class="op" id="1611517">!=</span>&nbsp;<span class="num" id="1611520">0</span>&nbsp;<span class="op" id="1611522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1611526">switch</span>&nbsp;<span class="ident" id="1611533">utc</span>&nbsp;<span class="op" id="1611537">:=</span>&nbsp;<span class="ident" id="1611540"><a href="/time/time.go.html#1611195">unix</a></span>&nbsp;<span class="op" id="1611545">-</span>&nbsp;<span class="ident" id="1611547">int64</span><span class="op" id="1611552">(</span><span class="ident" id="1611553"><a href="/time/time.go.html#1611464">offset</a></span><span class="op" id="1611559">)</span><span class="op" id="1611560">;</span>&nbsp;<span class="op" id="1611562">{</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1611566">case</span>&nbsp;<span class="ident" id="1611571"><a href="/time/time.go.html#1611533">utc</a></span>&nbsp;<span class="op" id="1611575">&lt;</span>&nbsp;<span class="ident" id="1611577"><a href="/time/time.go.html#1611475">start</a></span><span class="op" id="1611582">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1611587">_</span><span class="op" id="1611588">,</span>&nbsp;<span class="ident" id="1611590"><a href="/time/time.go.html#1611464">offset</a></span><span class="op" id="1611596">,</span>&nbsp;<span class="ident" id="1611598">_</span><span class="op" id="1611599">,</span>&nbsp;<span class="ident" id="1611601">_</span><span class="op" id="1611602">,</span>&nbsp;<span class="ident" id="1611604">_</span>&nbsp;<span class="op" id="1611606">=</span>&nbsp;<span class="ident" id="1611608"><a href="/time/time.go.html#1610099">loc</a></span><span class="op" id="1611611">.</span><span class="ident" id="1611612">lookup</span><span class="op" id="1611618">(</span><span class="ident" id="1611619"><a href="/time/time.go.html#1611475">start</a></span>&nbsp;<span class="op" id="1611625">-</span>&nbsp;<span class="num" id="1611627">1</span><span class="op" id="1611628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1611632">case</span>&nbsp;<span class="ident" id="1611637"><a href="/time/time.go.html#1611533">utc</a></span>&nbsp;<span class="op" id="1611641">&gt;=</span>&nbsp;<span class="ident" id="1611644"><a href="/time/time.go.html#1611482">end</a></span><span class="op" id="1611647">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1611652">_</span><span class="op" id="1611653">,</span>&nbsp;<span class="ident" id="1611655"><a href="/time/time.go.html#1611464">offset</a></span><span class="op" id="1611661">,</span>&nbsp;<span class="ident" id="1611663">_</span><span class="op" id="1611664">,</span>&nbsp;<span class="ident" id="1611666">_</span><span class="op" id="1611667">,</span>&nbsp;<span class="ident" id="1611669">_</span>&nbsp;<span class="op" id="1611671">=</span>&nbsp;<span class="ident" id="1611673"><a href="/time/time.go.html#1610099">loc</a></span><span class="op" id="1611676">.</span><span class="ident" id="1611677">lookup</span><span class="op" id="1611683">(</span><span class="ident" id="1611684"><a href="/time/time.go.html#1611482">end</a></span><span class="op" id="1611687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1611691">}</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1611695"><a href="/time/time.go.html#1611195">unix</a></span>&nbsp;<span class="op" id="1611700">-=</span>&nbsp;<span class="ident" id="1611703">int64</span><span class="op" id="1611708">(</span><span class="ident" id="1611709"><a href="/time/time.go.html#1611464">offset</a></span><span class="op" id="1611715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1611718">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1611722">return</span>&nbsp;<span class="ident" id="1611729"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1611733">{</span><span class="ident" id="1611734"><a href="/time/time.go.html#1611195">unix</a></span>&nbsp;<span class="op" id="1611739">+</span>&nbsp;<span class="ident" id="1611741"><a href="/time/time.go.html#1588473">unixToInternal</a></span><span class="op" id="1611755">,</span>&nbsp;<span class="builtintype" id="1611757">int32</span><span class="op" id="1611762">(</span><span class="ident" id="1611763"><a href="/time/time.go.html#1610089">nsec</a></span><span class="op" id="1611767">)</span><span class="op" id="1611768">,</span>&nbsp;<span class="ident" id="1611770"><a href="/time/time.go.html#1610099">loc</a></span><span class="op" id="1611773">}</span><br>
<span class="lineno"></span><span class="op" id="1611775">}</span><br>
<span class="lineno">1090</span><br>
<span class="lineno"></span><span class="comment" id="1611778">//&nbsp;Truncate&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;rounding&nbsp;t&nbsp;down&nbsp;to&nbsp;a&nbsp;multiple&nbsp;of&nbsp;d&nbsp;(since&nbsp;the&nbsp;zero&nbsp;time).</span><br>
<span class="lineno"></span><span class="comment" id="1611870">//&nbsp;If&nbsp;d&nbsp;&lt;=&nbsp;0,&nbsp;Truncate&nbsp;returns&nbsp;t&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="keyword" id="1611914">func</span>&nbsp;<span class="op" id="1611919">(</span><span class="ident" id="1611920">t</span>&nbsp;<span class="ident" id="1611922"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1611926">)</span>&nbsp;<span class="ident" id="1611928">Truncate</span><span class="op" id="1611936">(</span><span class="ident" id="1611937">d</span>&nbsp;<span class="ident" id="1611939"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1611947">)</span>&nbsp;<span class="ident" id="1611949"><a href="/time/time.go.html#1582052">Time</a></span>&nbsp;<span class="op" id="1611954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1611957">if</span>&nbsp;<span class="ident" id="1611960"><a href="/time/time.go.html#1611937">d</a></span>&nbsp;<span class="op" id="1611962">&lt;=</span>&nbsp;<span class="num" id="1611965">0</span>&nbsp;<span class="op" id="1611967">{</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1611971">return</span>&nbsp;<span class="ident" id="1611978"><a href="/time/time.go.html#1611920">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1611981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1611984">_</span><span class="op" id="1611985">,</span>&nbsp;<span class="ident" id="1611987">r</span>&nbsp;<span class="op" id="1611989">:=</span>&nbsp;<span class="ident" id="1611992"><a href="/time/time.go.html#1612574">div</a></span><span class="op" id="1611995">(</span><span class="ident" id="1611996"><a href="/time/time.go.html#1611920">t</a></span><span class="op" id="1611997">,</span>&nbsp;<span class="ident" id="1611999"><a href="/time/time.go.html#1611937">d</a></span><span class="op" id="1612000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1612003">return</span>&nbsp;<span class="ident" id="1612010"><a href="/time/time.go.html#1611920">t</a></span><span class="op" id="1612011">.</span><span class="ident" id="1612012">Add</span><span class="op" id="1612015">(</span><span class="op" id="1612016">-</span><span class="ident" id="1612017"><a href="/time/time.go.html#1611987">r</a></span><span class="op" id="1612018">)</span><br>
<span class="lineno"></span><span class="op" id="1612020">}</span><br>
<span class="lineno">1100</span><br>
<span class="lineno"></span><span class="comment" id="1612023">//&nbsp;Round&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;rounding&nbsp;t&nbsp;to&nbsp;the&nbsp;nearest&nbsp;multiple&nbsp;of&nbsp;d&nbsp;(since&nbsp;the&nbsp;zero&nbsp;time).</span><br>
<span class="lineno"></span><span class="comment" id="1612117">//&nbsp;The&nbsp;rounding&nbsp;behavior&nbsp;for&nbsp;halfway&nbsp;values&nbsp;is&nbsp;to&nbsp;round&nbsp;up.</span><br>
<span class="lineno"></span><span class="comment" id="1612177">//&nbsp;If&nbsp;d&nbsp;&lt;=&nbsp;0,&nbsp;Round&nbsp;returns&nbsp;t&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="keyword" id="1612218">func</span>&nbsp;<span class="op" id="1612223">(</span><span class="ident" id="1612224">t</span>&nbsp;<span class="ident" id="1612226"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1612230">)</span>&nbsp;<span class="ident" id="1612232">Round</span><span class="op" id="1612237">(</span><span class="ident" id="1612238">d</span>&nbsp;<span class="ident" id="1612240"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1612248">)</span>&nbsp;<span class="ident" id="1612250"><a href="/time/time.go.html#1582052">Time</a></span>&nbsp;<span class="op" id="1612255">{</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1612258">if</span>&nbsp;<span class="ident" id="1612261"><a href="/time/time.go.html#1612238">d</a></span>&nbsp;<span class="op" id="1612263">&lt;=</span>&nbsp;<span class="num" id="1612266">0</span>&nbsp;<span class="op" id="1612268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1612272">return</span>&nbsp;<span class="ident" id="1612279"><a href="/time/time.go.html#1612224">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1612282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1612285">_</span><span class="op" id="1612286">,</span>&nbsp;<span class="ident" id="1612288">r</span>&nbsp;<span class="op" id="1612290">:=</span>&nbsp;<span class="ident" id="1612293"><a href="/time/time.go.html#1612574">div</a></span><span class="op" id="1612296">(</span><span class="ident" id="1612297"><a href="/time/time.go.html#1612224">t</a></span><span class="op" id="1612298">,</span>&nbsp;<span class="ident" id="1612300"><a href="/time/time.go.html#1612238">d</a></span><span class="op" id="1612301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1612304">if</span>&nbsp;<span class="ident" id="1612307"><a href="/time/time.go.html#1612288">r</a></span><span class="op" id="1612308">+</span><span class="ident" id="1612309"><a href="/time/time.go.html#1612288">r</a></span>&nbsp;<span class="op" id="1612311">&lt;</span>&nbsp;<span class="ident" id="1612313"><a href="/time/time.go.html#1612238">d</a></span>&nbsp;<span class="op" id="1612315">{</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1612319">return</span>&nbsp;<span class="ident" id="1612326"><a href="/time/time.go.html#1612224">t</a></span><span class="op" id="1612327">.</span><span class="ident" id="1612328">Add</span><span class="op" id="1612331">(</span><span class="op" id="1612332">-</span><span class="ident" id="1612333"><a href="/time/time.go.html#1612288">r</a></span><span class="op" id="1612334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1612337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1612340">return</span>&nbsp;<span class="ident" id="1612347"><a href="/time/time.go.html#1612224">t</a></span><span class="op" id="1612348">.</span><span class="ident" id="1612349">Add</span><span class="op" id="1612352">(</span><span class="ident" id="1612353"><a href="/time/time.go.html#1612238">d</a></span>&nbsp;<span class="op" id="1612355">-</span>&nbsp;<span class="ident" id="1612357"><a href="/time/time.go.html#1612288">r</a></span><span class="op" id="1612358">)</span><br>
<span class="lineno"></span><span class="op" id="1612360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1115</span><span class="comment" id="1612363">//&nbsp;div&nbsp;divides&nbsp;t&nbsp;by&nbsp;d&nbsp;and&nbsp;returns&nbsp;the&nbsp;quotient&nbsp;parity&nbsp;and&nbsp;remainder.</span><br>
<span class="lineno"></span><span class="comment" id="1612432">//&nbsp;We&nbsp;don&#39;t&nbsp;use&nbsp;the&nbsp;quotient&nbsp;parity&nbsp;anymore&nbsp;(round&nbsp;half&nbsp;up&nbsp;instead&nbsp;of&nbsp;round&nbsp;to&nbsp;even)</span><br>
<span class="lineno"></span><span class="comment" id="1612517">//&nbsp;but&nbsp;it&#39;s&nbsp;still&nbsp;here&nbsp;in&nbsp;case&nbsp;we&nbsp;change&nbsp;our&nbsp;minds.</span><br>
<span class="lineno"></span><span class="keyword" id="1612569">func</span>&nbsp;<span class="ident" id="1612574">div</span><span class="op" id="1612577">(</span><span class="ident" id="1612578">t</span>&nbsp;<span class="ident" id="1612580"><a href="/time/time.go.html#1582052">Time</a></span><span class="op" id="1612584">,</span>&nbsp;<span class="ident" id="1612586">d</span>&nbsp;<span class="ident" id="1612588"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1612596">)</span>&nbsp;<span class="op" id="1612598">(</span><span class="ident" id="1612599">qmod2</span>&nbsp;<span class="builtintype" id="1612605">int</span><span class="op" id="1612608">,</span>&nbsp;<span class="ident" id="1612610">r</span>&nbsp;<span class="ident" id="1612612"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1612620">)</span>&nbsp;<span class="op" id="1612622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1612625">neg</span>&nbsp;<span class="op" id="1612629">:=</span>&nbsp;<span class="builtintype" id="1612632">false</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1612639">nsec</span>&nbsp;<span class="op" id="1612644">:=</span>&nbsp;<span class="builtintype" id="1612647">int32</span><span class="op" id="1612652">(</span><span class="ident" id="1612653"><a href="/time/time.go.html#1612578">t</a></span><span class="op" id="1612654">.</span><span class="ident" id="1612655">nsec</span><span class="op" id="1612659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1612662">if</span>&nbsp;<span class="ident" id="1612665"><a href="/time/time.go.html#1612578">t</a></span><span class="op" id="1612666">.</span><span class="ident" id="1612667">sec</span>&nbsp;<span class="op" id="1612671">&lt;</span>&nbsp;<span class="num" id="1612673">0</span>&nbsp;<span class="op" id="1612675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1612679">//&nbsp;Operate&nbsp;on&nbsp;absolute&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1612711"><a href="/time/time.go.html#1612625">neg</a></span>&nbsp;<span class="op" id="1612715">=</span>&nbsp;<span class="builtintype" id="1612717">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1612724"><a href="/time/time.go.html#1612578">t</a></span><span class="op" id="1612725">.</span><span class="ident" id="1612726">sec</span>&nbsp;<span class="op" id="1612730">=</span>&nbsp;<span class="op" id="1612732">-</span><span class="ident" id="1612733"><a href="/time/time.go.html#1612578">t</a></span><span class="op" id="1612734">.</span><span class="ident" id="1612735">sec</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1612741"><a href="/time/time.go.html#1612639">nsec</a></span>&nbsp;<span class="op" id="1612746">=</span>&nbsp;<span class="op" id="1612748">-</span><span class="ident" id="1612749"><a href="/time/time.go.html#1612639">nsec</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1612756">if</span>&nbsp;<span class="ident" id="1612759"><a href="/time/time.go.html#1612639">nsec</a></span>&nbsp;<span class="op" id="1612764">&lt;</span>&nbsp;<span class="num" id="1612766">0</span>&nbsp;<span class="op" id="1612768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1612773"><a href="/time/time.go.html#1612639">nsec</a></span>&nbsp;<span class="op" id="1612778">+=</span>&nbsp;<span class="num" id="1612781">1e9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1612788"><a href="/time/time.go.html#1612578">t</a></span><span class="op" id="1612789">.</span><span class="ident" id="1612790">sec</span><span class="op" id="1612793">--</span>&nbsp;<span class="comment" id="1612796">//&nbsp;t.sec&nbsp;&gt;=&nbsp;1&nbsp;before&nbsp;the&nbsp;--&nbsp;so&nbsp;safe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1612834">}</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1612837">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1612841">switch</span>&nbsp;<span class="op" id="1612848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1612851">//&nbsp;Special&nbsp;case:&nbsp;2d&nbsp;divides&nbsp;1&nbsp;second.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1612890">case</span>&nbsp;<span class="ident" id="1612895"><a href="/time/time.go.html#1612586">d</a></span>&nbsp;<span class="op" id="1612897">&lt;</span>&nbsp;<span class="ident" id="1612899"><a href="/time/time.go.html#1594827">Second</a></span>&nbsp;<span class="op" id="1612906">&amp;&amp;</span>&nbsp;<span class="ident" id="1612909"><a href="/time/time.go.html#1594827">Second</a></span><span class="op" id="1612915">%</span><span class="op" id="1612916">(</span><span class="ident" id="1612917"><a href="/time/time.go.html#1612586">d</a></span><span class="op" id="1612918">+</span><span class="ident" id="1612919"><a href="/time/time.go.html#1612586">d</a></span><span class="op" id="1612920">)</span>&nbsp;<span class="op" id="1612922">==</span>&nbsp;<span class="num" id="1612925">0</span><span class="op" id="1612926">:</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1612930"><a href="/time/time.go.html#1612599">qmod2</a></span>&nbsp;<span class="op" id="1612936">=</span>&nbsp;<span class="builtintype" id="1612938">int</span><span class="op" id="1612941">(</span><span class="ident" id="1612942"><a href="/time/time.go.html#1612639">nsec</a></span><span class="op" id="1612946">/</span><span class="builtintype" id="1612947">int32</span><span class="op" id="1612952">(</span><span class="ident" id="1612953"><a href="/time/time.go.html#1612586">d</a></span><span class="op" id="1612954">)</span><span class="op" id="1612955">)</span>&nbsp;<span class="op" id="1612957">&amp;</span>&nbsp;<span class="num" id="1612959">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1612963"><a href="/time/time.go.html#1612610">r</a></span>&nbsp;<span class="op" id="1612965">=</span>&nbsp;<span class="ident" id="1612967"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1612975">(</span><span class="ident" id="1612976"><a href="/time/time.go.html#1612639">nsec</a></span>&nbsp;<span class="op" id="1612981">%</span>&nbsp;<span class="builtintype" id="1612983">int32</span><span class="op" id="1612988">(</span><span class="ident" id="1612989"><a href="/time/time.go.html#1612586">d</a></span><span class="op" id="1612990">)</span><span class="op" id="1612991">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1612995">//&nbsp;Special&nbsp;case:&nbsp;d&nbsp;is&nbsp;a&nbsp;multiple&nbsp;of&nbsp;1&nbsp;second.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1613042">case</span>&nbsp;<span class="ident" id="1613047"><a href="/time/time.go.html#1612586">d</a></span><span class="op" id="1613048">%</span><span class="ident" id="1613049"><a href="/time/time.go.html#1594827">Second</a></span>&nbsp;<span class="op" id="1613056">==</span>&nbsp;<span class="num" id="1613059">0</span><span class="op" id="1613060">:</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613064">d1</span>&nbsp;<span class="op" id="1613067">:=</span>&nbsp;<span class="ident" id="1613070">int64</span><span class="op" id="1613075">(</span><span class="ident" id="1613076"><a href="/time/time.go.html#1612586">d</a></span>&nbsp;<span class="op" id="1613078">/</span>&nbsp;<span class="ident" id="1613080"><a href="/time/time.go.html#1594827">Second</a></span><span class="op" id="1613086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613090"><a href="/time/time.go.html#1612599">qmod2</a></span>&nbsp;<span class="op" id="1613096">=</span>&nbsp;<span class="builtintype" id="1613098">int</span><span class="op" id="1613101">(</span><span class="ident" id="1613102"><a href="/time/time.go.html#1612578">t</a></span><span class="op" id="1613103">.</span><span class="ident" id="1613104">sec</span><span class="op" id="1613107">/</span><span class="ident" id="1613108"><a href="/time/time.go.html#1613064">d1</a></span><span class="op" id="1613110">)</span>&nbsp;<span class="op" id="1613112">&amp;</span>&nbsp;<span class="num" id="1613114">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613118"><a href="/time/time.go.html#1612610">r</a></span>&nbsp;<span class="op" id="1613120">=</span>&nbsp;<span class="ident" id="1613122"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1613130">(</span><span class="ident" id="1613131"><a href="/time/time.go.html#1612578">t</a></span><span class="op" id="1613132">.</span><span class="ident" id="1613133">sec</span><span class="op" id="1613136">%</span><span class="ident" id="1613137"><a href="/time/time.go.html#1613064">d1</a></span><span class="op" id="1613139">)</span><span class="op" id="1613140">*</span><span class="ident" id="1613141"><a href="/time/time.go.html#1594827">Second</a></span>&nbsp;<span class="op" id="1613148">+</span>&nbsp;<span class="ident" id="1613150"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1613158">(</span><span class="ident" id="1613159"><a href="/time/time.go.html#1612639">nsec</a></span><span class="op" id="1613163">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1613167">//&nbsp;General&nbsp;case.</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1613185">//&nbsp;This&nbsp;could&nbsp;be&nbsp;faster&nbsp;if&nbsp;more&nbsp;cleverness&nbsp;were&nbsp;applied,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1613243">//&nbsp;but&nbsp;it&#39;s&nbsp;really&nbsp;only&nbsp;here&nbsp;to&nbsp;avoid&nbsp;special&nbsp;case&nbsp;restrictions&nbsp;in&nbsp;the&nbsp;API.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1613320">//&nbsp;No&nbsp;one&nbsp;will&nbsp;care&nbsp;about&nbsp;these&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1613360">default</span><span class="op" id="1613367">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1613371">//&nbsp;Compute&nbsp;nanoseconds&nbsp;as&nbsp;128-bit&nbsp;number.</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613415">sec</span>&nbsp;<span class="op" id="1613419">:=</span>&nbsp;<span class="ident" id="1613422">uint64</span><span class="op" id="1613428">(</span><span class="ident" id="1613429"><a href="/time/time.go.html#1612578">t</a></span><span class="op" id="1613430">.</span><span class="ident" id="1613431">sec</span><span class="op" id="1613434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613438">tmp</span>&nbsp;<span class="op" id="1613442">:=</span>&nbsp;<span class="op" id="1613445">(</span><span class="ident" id="1613446"><a href="/time/time.go.html#1613415">sec</a></span>&nbsp;<span class="op" id="1613450">&gt;&gt;</span>&nbsp;<span class="num" id="1613453">32</span><span class="op" id="1613455">)</span>&nbsp;<span class="op" id="1613457">*</span>&nbsp;<span class="num" id="1613459">1e9</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613465">u1</span>&nbsp;<span class="op" id="1613468">:=</span>&nbsp;<span class="ident" id="1613471"><a href="/time/time.go.html#1613438">tmp</a></span>&nbsp;<span class="op" id="1613475">&gt;&gt;</span>&nbsp;<span class="num" id="1613478">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613483">u0</span>&nbsp;<span class="op" id="1613486">:=</span>&nbsp;<span class="ident" id="1613489"><a href="/time/time.go.html#1613438">tmp</a></span>&nbsp;<span class="op" id="1613493">&lt;&lt;</span>&nbsp;<span class="num" id="1613496">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613501"><a href="/time/time.go.html#1613438">tmp</a></span>&nbsp;<span class="op" id="1613505">=</span>&nbsp;<span class="ident" id="1613507">uint64</span><span class="op" id="1613513">(</span><span class="ident" id="1613514"><a href="/time/time.go.html#1613415">sec</a></span><span class="op" id="1613517">&amp;</span><span class="num" id="1613518">0xFFFFFFFF</span><span class="op" id="1613528">)</span>&nbsp;<span class="op" id="1613530">*</span>&nbsp;<span class="num" id="1613532">1e9</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613538">u0x</span><span class="op" id="1613541">,</span>&nbsp;<span class="ident" id="1613543"><a href="/time/time.go.html#1613483">u0</a></span>&nbsp;<span class="op" id="1613546">:=</span>&nbsp;<span class="ident" id="1613549"><a href="/time/time.go.html#1613483">u0</a></span><span class="op" id="1613551">,</span>&nbsp;<span class="ident" id="1613553"><a href="/time/time.go.html#1613483">u0</a></span><span class="op" id="1613555">+</span><span class="ident" id="1613556"><a href="/time/time.go.html#1613438">tmp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1613562">if</span>&nbsp;<span class="ident" id="1613565"><a href="/time/time.go.html#1613483">u0</a></span>&nbsp;<span class="op" id="1613568">&lt;</span>&nbsp;<span class="ident" id="1613570"><a href="/time/time.go.html#1613538">u0x</a></span>&nbsp;<span class="op" id="1613574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613579"><a href="/time/time.go.html#1613465">u1</a></span><span class="op" id="1613581">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1613586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613590"><a href="/time/time.go.html#1613538">u0x</a></span><span class="op" id="1613593">,</span>&nbsp;<span class="ident" id="1613595"><a href="/time/time.go.html#1613483">u0</a></span>&nbsp;<span class="op" id="1613598">=</span>&nbsp;<span class="ident" id="1613600"><a href="/time/time.go.html#1613483">u0</a></span><span class="op" id="1613602">,</span>&nbsp;<span class="ident" id="1613604"><a href="/time/time.go.html#1613483">u0</a></span><span class="op" id="1613606">+</span><span class="ident" id="1613607">uint64</span><span class="op" id="1613613">(</span><span class="ident" id="1613614"><a href="/time/time.go.html#1612639">nsec</a></span><span class="op" id="1613618">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1613622">if</span>&nbsp;<span class="ident" id="1613625"><a href="/time/time.go.html#1613483">u0</a></span>&nbsp;<span class="op" id="1613628">&lt;</span>&nbsp;<span class="ident" id="1613630"><a href="/time/time.go.html#1613538">u0x</a></span>&nbsp;<span class="op" id="1613634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613639"><a href="/time/time.go.html#1613465">u1</a></span><span class="op" id="1613641">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1613646">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1613651">//&nbsp;Compute&nbsp;remainder&nbsp;by&nbsp;subtracting&nbsp;r&lt;&lt;k&nbsp;for&nbsp;decreasing&nbsp;k.</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1613712">//&nbsp;Quotient&nbsp;parity&nbsp;is&nbsp;whether&nbsp;we&nbsp;subtract&nbsp;on&nbsp;last&nbsp;round.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613771">d1</span>&nbsp;<span class="op" id="1613774">:=</span>&nbsp;<span class="ident" id="1613777">uint64</span><span class="op" id="1613783">(</span><span class="ident" id="1613784"><a href="/time/time.go.html#1612586">d</a></span><span class="op" id="1613785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1613789">for</span>&nbsp;<span class="ident" id="1613793"><a href="/time/time.go.html#1613771">d1</a></span><span class="op" id="1613795">&gt;&gt;</span><span class="num" id="1613797">63</span>&nbsp;<span class="op" id="1613800">!=</span>&nbsp;<span class="num" id="1613803">1</span>&nbsp;<span class="op" id="1613805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613810"><a href="/time/time.go.html#1613771">d1</a></span>&nbsp;<span class="op" id="1613813">&lt;&lt;=</span>&nbsp;<span class="num" id="1613817">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1613821">}</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613825">d0</span>&nbsp;<span class="op" id="1613828">:=</span>&nbsp;<span class="ident" id="1613831">uint64</span><span class="op" id="1613837">(</span><span class="num" id="1613838">0</span><span class="op" id="1613839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1613843">for</span>&nbsp;<span class="op" id="1613847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613852"><a href="/time/time.go.html#1612599">qmod2</a></span>&nbsp;<span class="op" id="1613858">=</span>&nbsp;<span class="num" id="1613860">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1613865">if</span>&nbsp;<span class="ident" id="1613868"><a href="/time/time.go.html#1613465">u1</a></span>&nbsp;<span class="op" id="1613871">&gt;</span>&nbsp;<span class="ident" id="1613873"><a href="/time/time.go.html#1613771">d1</a></span>&nbsp;<span class="op" id="1613876">||</span>&nbsp;<span class="ident" id="1613879"><a href="/time/time.go.html#1613465">u1</a></span>&nbsp;<span class="op" id="1613882">==</span>&nbsp;<span class="ident" id="1613885"><a href="/time/time.go.html#1613771">d1</a></span>&nbsp;<span class="op" id="1613888">&amp;&amp;</span>&nbsp;<span class="ident" id="1613891"><a href="/time/time.go.html#1613483">u0</a></span>&nbsp;<span class="op" id="1613894">&gt;=</span>&nbsp;<span class="ident" id="1613897"><a href="/time/time.go.html#1613825">d0</a></span>&nbsp;<span class="op" id="1613900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1613906">//&nbsp;subtract</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613922"><a href="/time/time.go.html#1612599">qmod2</a></span>&nbsp;<span class="op" id="1613928">=</span>&nbsp;<span class="num" id="1613930">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613936"><a href="/time/time.go.html#1613538">u0x</a></span><span class="op" id="1613939">,</span>&nbsp;<span class="ident" id="1613941"><a href="/time/time.go.html#1613483">u0</a></span>&nbsp;<span class="op" id="1613944">=</span>&nbsp;<span class="ident" id="1613946"><a href="/time/time.go.html#1613483">u0</a></span><span class="op" id="1613948">,</span>&nbsp;<span class="ident" id="1613950"><a href="/time/time.go.html#1613483">u0</a></span><span class="op" id="1613952">-</span><span class="ident" id="1613953"><a href="/time/time.go.html#1613825">d0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1613960">if</span>&nbsp;<span class="ident" id="1613963"><a href="/time/time.go.html#1613483">u0</a></span>&nbsp;<span class="op" id="1613966">&gt;</span>&nbsp;<span class="ident" id="1613968"><a href="/time/time.go.html#1613538">u0x</a></span>&nbsp;<span class="op" id="1613972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613979"><a href="/time/time.go.html#1613465">u1</a></span><span class="op" id="1613981">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1613988">}</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1613994"><a href="/time/time.go.html#1613465">u1</a></span>&nbsp;<span class="op" id="1613997">-=</span>&nbsp;<span class="ident" id="1614000"><a href="/time/time.go.html#1613771">d1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1614006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1614011">if</span>&nbsp;<span class="ident" id="1614014"><a href="/time/time.go.html#1613771">d1</a></span>&nbsp;<span class="op" id="1614017">==</span>&nbsp;<span class="num" id="1614020">0</span>&nbsp;<span class="op" id="1614022">&amp;&amp;</span>&nbsp;<span class="ident" id="1614025"><a href="/time/time.go.html#1613825">d0</a></span>&nbsp;<span class="op" id="1614028">==</span>&nbsp;<span class="ident" id="1614031">uint64</span><span class="op" id="1614037">(</span><span class="ident" id="1614038"><a href="/time/time.go.html#1612586">d</a></span><span class="op" id="1614039">)</span>&nbsp;<span class="op" id="1614041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1614047">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1614056">}</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1614061"><a href="/time/time.go.html#1613825">d0</a></span>&nbsp;<span class="op" id="1614064">&gt;&gt;=</span>&nbsp;<span class="num" id="1614068">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1614073"><a href="/time/time.go.html#1613825">d0</a></span>&nbsp;<span class="op" id="1614076">|=</span>&nbsp;<span class="op" id="1614079">(</span><span class="ident" id="1614080"><a href="/time/time.go.html#1613771">d1</a></span>&nbsp;<span class="op" id="1614083">&amp;</span>&nbsp;<span class="num" id="1614085">1</span><span class="op" id="1614086">)</span>&nbsp;<span class="op" id="1614088">&lt;&lt;</span>&nbsp;<span class="num" id="1614091">63</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1614097"><a href="/time/time.go.html#1613771">d1</a></span>&nbsp;<span class="op" id="1614100">&gt;&gt;=</span>&nbsp;<span class="num" id="1614104">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1614108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1614112"><a href="/time/time.go.html#1612610">r</a></span>&nbsp;<span class="op" id="1614114">=</span>&nbsp;<span class="ident" id="1614116"><a href="/time/time.go.html#1594177">Duration</a></span><span class="op" id="1614124">(</span><span class="ident" id="1614125"><a href="/time/time.go.html#1613483">u0</a></span><span class="op" id="1614127">)</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1614130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1614134">if</span>&nbsp;<span class="ident" id="1614137"><a href="/time/time.go.html#1612625">neg</a></span>&nbsp;<span class="op" id="1614141">&amp;&amp;</span>&nbsp;<span class="ident" id="1614144"><a href="/time/time.go.html#1612610">r</a></span>&nbsp;<span class="op" id="1614146">!=</span>&nbsp;<span class="num" id="1614149">0</span>&nbsp;<span class="op" id="1614151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1614155">//&nbsp;If&nbsp;input&nbsp;was&nbsp;negative&nbsp;and&nbsp;not&nbsp;an&nbsp;exact&nbsp;multiple&nbsp;of&nbsp;d,&nbsp;we&nbsp;computed&nbsp;q,&nbsp;r&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1614241">//&nbsp;&nbsp;&nbsp;&nbspq*d&nbsp;+&nbsp;r&nbsp;=&nbsp;-t</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1614259">//&nbsp;But&nbsp;the&nbsp;right&nbsp;answers&nbsp;are&nbsp;given&nbsp;by&nbsp;-(q-1),&nbsp;d-r:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1614312">//&nbsp;&nbsp;&nbsp;&nbspq*d&nbsp;+&nbsp;r&nbsp;=&nbsp;-t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1614330">//&nbsp;&nbsp;&nbsp;&nbsp-q*d&nbsp;-&nbsp;r&nbsp;=&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1614348">//&nbsp;&nbsp;&nbsp;&nbsp-(q-1)*d&nbsp;+&nbsp;(d&nbsp;-&nbsp;r)&nbsp;=&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1614376"><a href="/time/time.go.html#1612599">qmod2</a></span>&nbsp;<span class="op" id="1614382">^=</span>&nbsp;<span class="num" id="1614385">1</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1614389"><a href="/time/time.go.html#1612610">r</a></span>&nbsp;<span class="op" id="1614391">=</span>&nbsp;<span class="ident" id="1614393"><a href="/time/time.go.html#1612586">d</a></span>&nbsp;<span class="op" id="1614395">-</span>&nbsp;<span class="ident" id="1614397"><a href="/time/time.go.html#1612610">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1614400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1614403">return</span><br>
<span class="lineno"></span><span class="op" id="1614410">}</span>
</div>
</body>
</html>
