<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8494549">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8494604">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8494658">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8494709">package</span>&nbsp;<span class="ident" id="8494717">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8494727">import</span>&nbsp;<span class="op" id="8494734">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8494737">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8494747">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8494750">func</span>&nbsp;<span class="ident" id="8494755">TestURLNormalizer</span><span class="op" id="8494772">(</span><span class="ident" id="8494773">t</span>&nbsp;<span class="op" id="8494775">*</span><span class="ident" id="8494776"><a href="/html/template/url_test.go.html#8494737">testing</a></span><span class="op" id="8494783">.</span><span class="ident" id="8494784">T</span><span class="op" id="8494785">)</span>&nbsp;<span class="op" id="8494787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494790">tests</span>&nbsp;<span class="op" id="8494796">:=</span>&nbsp;<span class="op" id="8494799">[</span><span class="op" id="8494800">]</span><span class="keyword" id="8494801">struct</span>&nbsp;<span class="op" id="8494808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8494812">url</span><span class="op" id="8494815">,</span>&nbsp;<span class="ident" id="8494817">want</span>&nbsp;<span class="builtintype" id="8494822">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8494830">}</span><span class="op" id="8494831">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8494835">{</span><span class="string" id="8494836">&#34;&#34;</span><span class="op" id="8494838">,</span>&nbsp;<span class="string" id="8494840">&#34;&#34;</span><span class="op" id="8494842">}</span><span class="op" id="8494843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8494847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8494852">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="8494905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8494910">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="8494963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8494967">}</span><span class="op" id="8494968">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8494972">{</span><span class="string" id="8494973">&#34;&nbsp;&#34;</span><span class="op" id="8494976">,</span>&nbsp;<span class="string" id="8494978">&#34;%20&#34;</span><span class="op" id="8494983">}</span><span class="op" id="8494984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8494988">{</span><span class="string" id="8494989">&#34;%7c&#34;</span><span class="op" id="8494994">,</span>&nbsp;<span class="string" id="8494996">&#34;%7c&#34;</span><span class="op" id="8495001">}</span><span class="op" id="8495002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495006">{</span><span class="string" id="8495007">&#34;%7C&#34;</span><span class="op" id="8495012">,</span>&nbsp;<span class="string" id="8495014">&#34;%7C&#34;</span><span class="op" id="8495019">}</span><span class="op" id="8495020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495024">{</span><span class="string" id="8495025">&#34;%2&#34;</span><span class="op" id="8495029">,</span>&nbsp;<span class="string" id="8495031">&#34;%252&#34;</span><span class="op" id="8495037">}</span><span class="op" id="8495038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495042">{</span><span class="string" id="8495043">&#34;%&#34;</span><span class="op" id="8495046">,</span>&nbsp;<span class="string" id="8495048">&#34;%25&#34;</span><span class="op" id="8495053">}</span><span class="op" id="8495054">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495058">{</span><span class="string" id="8495059">&#34;%z&#34;</span><span class="op" id="8495063">,</span>&nbsp;<span class="string" id="8495065">&#34;%25z&#34;</span><span class="op" id="8495071">}</span><span class="op" id="8495072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495076">{</span><span class="string" id="8495077">&#34;/foo|bar/%5c\u1234&#34;</span><span class="op" id="8495097">,</span>&nbsp;<span class="string" id="8495099">&#34;/foo%7cbar/%5c%e1%88%b4&#34;</span><span class="op" id="8495124">}</span><span class="op" id="8495125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8495131">for</span>&nbsp;<span class="ident" id="8495135">_</span><span class="op" id="8495136">,</span>&nbsp;<span class="ident" id="8495138">test</span>&nbsp;<span class="op" id="8495143">:=</span>&nbsp;<span class="keyword" id="8495146">range</span>&nbsp;<span class="ident" id="8495152"><a href="/html/template/url_test.go.html#8494790">tests</a></span>&nbsp;<span class="op" id="8495158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8495162">if</span>&nbsp;<span class="ident" id="8495165">got</span>&nbsp;<span class="op" id="8495169">:=</span>&nbsp;<span class="ident" id="8495172"><a href="/html/template/url.go.html#4493978">urlNormalizer</a></span><span class="op" id="8495185">(</span><span class="ident" id="8495186"><a href="/html/template/url_test.go.html#8495138">test</a></span><span class="op" id="8495190">.</span><span class="ident" id="8495191">url</span><span class="op" id="8495194">)</span><span class="op" id="8495195">;</span>&nbsp;<span class="ident" id="8495197"><a href="/html/template/url_test.go.html#8495138">test</a></span><span class="op" id="8495201">.</span><span class="ident" id="8495202">want</span>&nbsp;<span class="op" id="8495207">!=</span>&nbsp;<span class="ident" id="8495210"><a href="/html/template/url_test.go.html#8495165">got</a></span>&nbsp;<span class="op" id="8495214">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495219"><a href="/html/template/url_test.go.html#8494773">t</a></span><span class="op" id="8495220">.</span><span class="ident" id="8495221">Errorf</span><span class="op" id="8495227">(</span><span class="string" id="8495228">&#34;%q:&nbsp;want\n\t%q\nbut&nbsp;got\n\t%q&#34;</span><span class="op" id="8495259">,</span>&nbsp;<span class="ident" id="8495261"><a href="/html/template/url_test.go.html#8495138">test</a></span><span class="op" id="8495265">.</span><span class="ident" id="8495266">url</span><span class="op" id="8495269">,</span>&nbsp;<span class="ident" id="8495271"><a href="/html/template/url_test.go.html#8495138">test</a></span><span class="op" id="8495275">.</span><span class="ident" id="8495276">want</span><span class="op" id="8495280">,</span>&nbsp;<span class="ident" id="8495282"><a href="/html/template/url_test.go.html#8495165">got</a></span><span class="op" id="8495285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8495293">if</span>&nbsp;<span class="ident" id="8495296"><a href="/html/template/url_test.go.html#8495138">test</a></span><span class="op" id="8495300">.</span><span class="ident" id="8495301">want</span>&nbsp;<span class="op" id="8495306">!=</span>&nbsp;<span class="ident" id="8495309"><a href="/html/template/url.go.html#4493978">urlNormalizer</a></span><span class="op" id="8495322">(</span><span class="ident" id="8495323"><a href="/html/template/url_test.go.html#8495138">test</a></span><span class="op" id="8495327">.</span><span class="ident" id="8495328">want</span><span class="op" id="8495332">)</span>&nbsp;<span class="op" id="8495334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495339"><a href="/html/template/url_test.go.html#8494773">t</a></span><span class="op" id="8495340">.</span><span class="ident" id="8495341">Errorf</span><span class="op" id="8495347">(</span><span class="string" id="8495348">&#34;not&nbsp;idempotent:&nbsp;%q&#34;</span><span class="op" id="8495368">,</span>&nbsp;<span class="ident" id="8495370"><a href="/html/template/url_test.go.html#8495138">test</a></span><span class="op" id="8495374">.</span><span class="ident" id="8495375">want</span><span class="op" id="8495379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495383">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495386">}</span><br>
<span class="lineno"></span><span class="op" id="8495388">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8495391">func</span>&nbsp;<span class="ident" id="8495396">TestURLFilters</span><span class="op" id="8495410">(</span><span class="ident" id="8495411">t</span>&nbsp;<span class="op" id="8495413">*</span><span class="ident" id="8495414"><a href="/html/template/url_test.go.html#8494737">testing</a></span><span class="op" id="8495421">.</span><span class="ident" id="8495422">T</span><span class="op" id="8495423">)</span>&nbsp;<span class="op" id="8495425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495428">input</span>&nbsp;<span class="op" id="8495434">:=</span>&nbsp;<span class="op" id="8495437">(</span><span class="string" id="8495438">&#34;\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f&#34;</span>&nbsp;<span class="op" id="8495499">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8495503">&#34;\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f&#34;</span>&nbsp;<span class="op" id="8495570">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8495574">`&nbsp;!&#34;#$%&amp;&#39;()*+,-./`</span>&nbsp;<span class="op" id="8495593">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8495597">`0123456789:;&lt;=&gt;?`</span>&nbsp;<span class="op" id="8495616">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8495620">`@ABCDEFGHIJKLMNO`</span>&nbsp;<span class="op" id="8495639">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8495643">`PQRSTUVWXYZ[\]^_`</span>&nbsp;<span class="op" id="8495662">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8495666">&#34;`abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="8495685">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8495689">&#34;pqrstuvwxyz{|}~\x7f&#34;</span>&nbsp;<span class="op" id="8495711">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8495715">&#34;\u00A0\u0100\u2028\u2029\ufeff\U0001D11E&#34;</span><span class="op" id="8495757">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495761">tests</span>&nbsp;<span class="op" id="8495767">:=</span>&nbsp;<span class="op" id="8495770">[</span><span class="op" id="8495771">]</span><span class="keyword" id="8495772">struct</span>&nbsp;<span class="op" id="8495779">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495783">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8495791">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495800">escaper</span>&nbsp;<span class="keyword" id="8495808">func</span><span class="op" id="8495812">(</span><span class="op" id="8495813">...</span><span class="keyword" id="8495816">interface</span><span class="op" id="8495825">{</span><span class="op" id="8495826">}</span><span class="op" id="8495827">)</span>&nbsp;<span class="builtintype" id="8495829">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495838">escaped</span>&nbsp;<span class="builtintype" id="8495846">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495854">}</span><span class="op" id="8495855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8495859">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8495864">&#34;urlEscaper&#34;</span><span class="op" id="8495876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8495881"><a href="/html/template/url.go.html#4493592">urlEscaper</a></span><span class="op" id="8495891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8495896">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="8495947">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8495953">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="8496004">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496010">&#34;%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f&#34;</span>&nbsp;<span class="op" id="8496057">+</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496063">&#34;0123456789%3a%3b%3c%3d%3e%3f&#34;</span>&nbsp;<span class="op" id="8496094">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496100">&#34;%40ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="8496121">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496127">&#34;PQRSTUVWXYZ%5b%5c%5d%5e_&#34;</span>&nbsp;<span class="op" id="8496154">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496160">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="8496181">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496187">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="8496214">+</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496220">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="8496273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8496277">}</span><span class="op" id="8496278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8496282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496287">&#34;urlNormalizer&#34;</span><span class="op" id="8496302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8496307"><a href="/html/template/url.go.html#4493978">urlNormalizer</a></span><span class="op" id="8496320">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496325">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="8496376">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496382">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="8496433">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496439">&#34;%20!%22#$%25&amp;%27%28%29*+,-./&#34;</span>&nbsp;<span class="op" id="8496470">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496476">&#34;0123456789:;%3c=%3e?&#34;</span>&nbsp;<span class="op" id="8496499">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496505">&#34;@ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="8496524">+</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496530">&#34;PQRSTUVWXYZ[%5c]%5e_&#34;</span>&nbsp;<span class="op" id="8496553">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496559">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="8496580">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496586">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="8496613">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8496619">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="8496672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8496676">}</span><span class="op" id="8496677">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8496680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8496684">for</span>&nbsp;<span class="ident" id="8496688">_</span><span class="op" id="8496689">,</span>&nbsp;<span class="ident" id="8496691">test</span>&nbsp;<span class="op" id="8496696">:=</span>&nbsp;<span class="keyword" id="8496699">range</span>&nbsp;<span class="ident" id="8496705"><a href="/html/template/url_test.go.html#8495761">tests</a></span>&nbsp;<span class="op" id="8496711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8496715">if</span>&nbsp;<span class="ident" id="8496718">s</span>&nbsp;<span class="op" id="8496720">:=</span>&nbsp;<span class="ident" id="8496723"><a href="/html/template/url_test.go.html#8496691">test</a></span><span class="op" id="8496727">.</span><span class="ident" id="8496728">escaper</span><span class="op" id="8496735">(</span><span class="ident" id="8496736"><a href="/html/template/url_test.go.html#8495428">input</a></span><span class="op" id="8496741">)</span><span class="op" id="8496742">;</span>&nbsp;<span class="ident" id="8496744"><a href="/html/template/url_test.go.html#8496718">s</a></span>&nbsp;<span class="op" id="8496746">!=</span>&nbsp;<span class="ident" id="8496749"><a href="/html/template/url_test.go.html#8496691">test</a></span><span class="op" id="8496753">.</span><span class="ident" id="8496754">escaped</span>&nbsp;<span class="op" id="8496762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8496767"><a href="/html/template/url_test.go.html#8495411">t</a></span><span class="op" id="8496768">.</span><span class="ident" id="8496769">Errorf</span><span class="op" id="8496775">(</span><span class="string" id="8496776">&#34;%s:&nbsp;want\n\t%q\ngot\n\t%q&#34;</span><span class="op" id="8496803">,</span>&nbsp;<span class="ident" id="8496805"><a href="/html/template/url_test.go.html#8496691">test</a></span><span class="op" id="8496809">.</span><span class="ident" id="8496810">name</span><span class="op" id="8496814">,</span>&nbsp;<span class="ident" id="8496816"><a href="/html/template/url_test.go.html#8496691">test</a></span><span class="op" id="8496820">.</span><span class="ident" id="8496821">escaped</span><span class="op" id="8496828">,</span>&nbsp;<span class="ident" id="8496830"><a href="/html/template/url_test.go.html#8496718">s</a></span><span class="op" id="8496831">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8496836">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8496847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8496850">}</span><br>
<span class="lineno"></span><span class="op" id="8496852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="8496855">func</span>&nbsp;<span class="ident" id="8496860">BenchmarkURLEscaper</span><span class="op" id="8496879">(</span><span class="ident" id="8496880">b</span>&nbsp;<span class="op" id="8496882">*</span><span class="ident" id="8496883"><a href="/html/template/url_test.go.html#8494737">testing</a></span><span class="op" id="8496890">.</span><span class="ident" id="8496891">B</span><span class="op" id="8496892">)</span>&nbsp;<span class="op" id="8496894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8496897">for</span>&nbsp;<span class="ident" id="8496901">i</span>&nbsp;<span class="op" id="8496903">:=</span>&nbsp;<span class="num" id="8496906">0</span><span class="op" id="8496907">;</span>&nbsp;<span class="ident" id="8496909"><a href="/html/template/url_test.go.html#8496901">i</a></span>&nbsp;<span class="op" id="8496911">&lt;</span>&nbsp;<span class="ident" id="8496913"><a href="/html/template/url_test.go.html#8496880">b</a></span><span class="op" id="8496914">.</span><span class="ident" id="8496915">N</span><span class="op" id="8496916">;</span>&nbsp;<span class="ident" id="8496918"><a href="/html/template/url_test.go.html#8496901">i</a></span><span class="op" id="8496919">++</span>&nbsp;<span class="op" id="8496922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8496926"><a href="/html/template/url.go.html#4493592">urlEscaper</a></span><span class="op" id="8496936">(</span><span class="string" id="8496937">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="8496986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8496989">}</span><br>
<span class="lineno"></span><span class="op" id="8496991">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="8496994">func</span>&nbsp;<span class="ident" id="8496999">BenchmarkURLEscaperNoSpecials</span><span class="op" id="8497028">(</span><span class="ident" id="8497029">b</span>&nbsp;<span class="op" id="8497031">*</span><span class="ident" id="8497032"><a href="/html/template/url_test.go.html#8494737">testing</a></span><span class="op" id="8497039">.</span><span class="ident" id="8497040">B</span><span class="op" id="8497041">)</span>&nbsp;<span class="op" id="8497043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8497046">for</span>&nbsp;<span class="ident" id="8497050">i</span>&nbsp;<span class="op" id="8497052">:=</span>&nbsp;<span class="num" id="8497055">0</span><span class="op" id="8497056">;</span>&nbsp;<span class="ident" id="8497058"><a href="/html/template/url_test.go.html#8497050">i</a></span>&nbsp;<span class="op" id="8497060">&lt;</span>&nbsp;<span class="ident" id="8497062"><a href="/html/template/url_test.go.html#8497029">b</a></span><span class="op" id="8497063">.</span><span class="ident" id="8497064">N</span><span class="op" id="8497065">;</span>&nbsp;<span class="ident" id="8497067"><a href="/html/template/url_test.go.html#8497050">i</a></span><span class="op" id="8497068">++</span>&nbsp;<span class="op" id="8497071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8497075"><a href="/html/template/url.go.html#4493592">urlEscaper</a></span><span class="op" id="8497085">(</span><span class="string" id="8497086">&#34;TheQuickBrownFoxJumpsOverTheLazyDog.&#34;</span><span class="op" id="8497124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8497127">}</span><br>
<span class="lineno">100</span><span class="op" id="8497129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8497132">func</span>&nbsp;<span class="ident" id="8497137">BenchmarkURLNormalizer</span><span class="op" id="8497159">(</span><span class="ident" id="8497160">b</span>&nbsp;<span class="op" id="8497162">*</span><span class="ident" id="8497163"><a href="/html/template/url_test.go.html#8494737">testing</a></span><span class="op" id="8497170">.</span><span class="ident" id="8497171">B</span><span class="op" id="8497172">)</span>&nbsp;<span class="op" id="8497174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8497177">for</span>&nbsp;<span class="ident" id="8497181">i</span>&nbsp;<span class="op" id="8497183">:=</span>&nbsp;<span class="num" id="8497186">0</span><span class="op" id="8497187">;</span>&nbsp;<span class="ident" id="8497189"><a href="/html/template/url_test.go.html#8497181">i</a></span>&nbsp;<span class="op" id="8497191">&lt;</span>&nbsp;<span class="ident" id="8497193"><a href="/html/template/url_test.go.html#8497160">b</a></span><span class="op" id="8497194">.</span><span class="ident" id="8497195">N</span><span class="op" id="8497196">;</span>&nbsp;<span class="ident" id="8497198"><a href="/html/template/url_test.go.html#8497181">i</a></span><span class="op" id="8497199">++</span>&nbsp;<span class="op" id="8497202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8497206"><a href="/html/template/url.go.html#4493978">urlNormalizer</a></span><span class="op" id="8497219">(</span><span class="string" id="8497220">&#34;The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.\n&#34;</span><span class="op" id="8497268">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8497271">}</span><br>
<span class="lineno"></span><span class="op" id="8497273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8497276">func</span>&nbsp;<span class="ident" id="8497281">BenchmarkURLNormalizerNoSpecials</span><span class="op" id="8497313">(</span><span class="ident" id="8497314">b</span>&nbsp;<span class="op" id="8497316">*</span><span class="ident" id="8497317"><a href="/html/template/url_test.go.html#8494737">testing</a></span><span class="op" id="8497324">.</span><span class="ident" id="8497325">B</span><span class="op" id="8497326">)</span>&nbsp;<span class="op" id="8497328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8497331">for</span>&nbsp;<span class="ident" id="8497335">i</span>&nbsp;<span class="op" id="8497337">:=</span>&nbsp;<span class="num" id="8497340">0</span><span class="op" id="8497341">;</span>&nbsp;<span class="ident" id="8497343"><a href="/html/template/url_test.go.html#8497335">i</a></span>&nbsp;<span class="op" id="8497345">&lt;</span>&nbsp;<span class="ident" id="8497347"><a href="/html/template/url_test.go.html#8497314">b</a></span><span class="op" id="8497348">.</span><span class="ident" id="8497349">N</span><span class="op" id="8497350">;</span>&nbsp;<span class="ident" id="8497352"><a href="/html/template/url_test.go.html#8497335">i</a></span><span class="op" id="8497353">++</span>&nbsp;<span class="op" id="8497356">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8497360"><a href="/html/template/url.go.html#4493978">urlNormalizer</a></span><span class="op" id="8497373">(</span><span class="string" id="8497374">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="8497423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8497426">}</span><br>
<span class="lineno"></span><span class="op" id="8497428">}</span>
</div>
</body>
</html>
