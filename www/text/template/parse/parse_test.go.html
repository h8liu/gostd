<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8430876">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8430931">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8430985">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8431036">package</span>&nbsp;<span class="ident" id="8431044">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8431051">import</span>&nbsp;<span class="op" id="8431058">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431061">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431069">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431076">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8431087">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8431097">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8431100">var</span>&nbsp;<span class="ident" id="8431104">debug</span>&nbsp;<span class="op" id="8431110">=</span>&nbsp;<span class="ident" id="8431112">flag</span><span class="op" id="8431116">.</span><span class="ident" id="8431117">Bool</span><span class="op" id="8431121">(</span><span class="string" id="8431122">&#34;debug&#34;</span><span class="op" id="8431129">,</span>&nbsp;<span class="ident" id="8431131">false</span><span class="op" id="8431136">,</span>&nbsp;<span class="string" id="8431138">&#34;show&nbsp;the&nbsp;errors&nbsp;produced&nbsp;by&nbsp;the&nbsp;main&nbsp;tests&#34;</span><span class="op" id="8431182">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8431185">type</span>&nbsp;<span class="ident" id="8431190">numberTest</span>&nbsp;<span class="keyword" id="8431201">struct</span>&nbsp;<span class="op" id="8431208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431211">text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8431221">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431229">isInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8431239">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431245">isUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8431255">bool</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431261">isFloat</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8431271">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431277">isComplex</span>&nbsp;<span class="builtintype" id="8431287">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431293">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431300">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8431308">float64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8431317">complex128</span><br>
<span class="lineno"></span><span class="op" id="8431328">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8431331">var</span>&nbsp;<span class="ident" id="8431335">numberTests</span>&nbsp;<span class="op" id="8431347">=</span>&nbsp;<span class="op" id="8431349">[</span><span class="op" id="8431350">]</span><span class="ident" id="8431351">numberTest</span><span class="op" id="8431361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8431364">//&nbsp;basics</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431375">{</span><span class="string" id="8431376">&#34;0&#34;</span><span class="op" id="8431379">,</span>&nbsp;<span class="ident" id="8431381">true</span><span class="op" id="8431385">,</span>&nbsp;<span class="ident" id="8431387">true</span><span class="op" id="8431391">,</span>&nbsp;<span class="ident" id="8431393">true</span><span class="op" id="8431397">,</span>&nbsp;<span class="ident" id="8431399">false</span><span class="op" id="8431404">,</span>&nbsp;<span class="num" id="8431406">0</span><span class="op" id="8431407">,</span>&nbsp;<span class="num" id="8431409">0</span><span class="op" id="8431410">,</span>&nbsp;<span class="num" id="8431412">0</span><span class="op" id="8431413">,</span>&nbsp;<span class="num" id="8431415">0</span><span class="op" id="8431416">}</span><span class="op" id="8431417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431420">{</span><span class="string" id="8431421">&#34;-0&#34;</span><span class="op" id="8431425">,</span>&nbsp;<span class="ident" id="8431427">true</span><span class="op" id="8431431">,</span>&nbsp;<span class="ident" id="8431433">true</span><span class="op" id="8431437">,</span>&nbsp;<span class="ident" id="8431439">true</span><span class="op" id="8431443">,</span>&nbsp;<span class="ident" id="8431445">false</span><span class="op" id="8431450">,</span>&nbsp;<span class="num" id="8431452">0</span><span class="op" id="8431453">,</span>&nbsp;<span class="num" id="8431455">0</span><span class="op" id="8431456">,</span>&nbsp;<span class="num" id="8431458">0</span><span class="op" id="8431459">,</span>&nbsp;<span class="num" id="8431461">0</span><span class="op" id="8431462">}</span><span class="op" id="8431463">,</span>&nbsp;<span class="comment" id="8431465">//&nbsp;check&nbsp;that&nbsp;-0&nbsp;is&nbsp;a&nbsp;uint.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431494">{</span><span class="string" id="8431495">&#34;73&#34;</span><span class="op" id="8431499">,</span>&nbsp;<span class="ident" id="8431501">true</span><span class="op" id="8431505">,</span>&nbsp;<span class="ident" id="8431507">true</span><span class="op" id="8431511">,</span>&nbsp;<span class="ident" id="8431513">true</span><span class="op" id="8431517">,</span>&nbsp;<span class="ident" id="8431519">false</span><span class="op" id="8431524">,</span>&nbsp;<span class="num" id="8431526">73</span><span class="op" id="8431528">,</span>&nbsp;<span class="num" id="8431530">73</span><span class="op" id="8431532">,</span>&nbsp;<span class="num" id="8431534">73</span><span class="op" id="8431536">,</span>&nbsp;<span class="num" id="8431538">0</span><span class="op" id="8431539">}</span><span class="op" id="8431540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431543">{</span><span class="string" id="8431544">&#34;073&#34;</span><span class="op" id="8431549">,</span>&nbsp;<span class="ident" id="8431551">true</span><span class="op" id="8431555">,</span>&nbsp;<span class="ident" id="8431557">true</span><span class="op" id="8431561">,</span>&nbsp;<span class="ident" id="8431563">true</span><span class="op" id="8431567">,</span>&nbsp;<span class="ident" id="8431569">false</span><span class="op" id="8431574">,</span>&nbsp;<span class="num" id="8431576">073</span><span class="op" id="8431579">,</span>&nbsp;<span class="num" id="8431581">073</span><span class="op" id="8431584">,</span>&nbsp;<span class="num" id="8431586">073</span><span class="op" id="8431589">,</span>&nbsp;<span class="num" id="8431591">0</span><span class="op" id="8431592">}</span><span class="op" id="8431593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431596">{</span><span class="string" id="8431597">&#34;0x73&#34;</span><span class="op" id="8431603">,</span>&nbsp;<span class="ident" id="8431605">true</span><span class="op" id="8431609">,</span>&nbsp;<span class="ident" id="8431611">true</span><span class="op" id="8431615">,</span>&nbsp;<span class="ident" id="8431617">true</span><span class="op" id="8431621">,</span>&nbsp;<span class="ident" id="8431623">false</span><span class="op" id="8431628">,</span>&nbsp;<span class="num" id="8431630">0x73</span><span class="op" id="8431634">,</span>&nbsp;<span class="num" id="8431636">0x73</span><span class="op" id="8431640">,</span>&nbsp;<span class="num" id="8431642">0x73</span><span class="op" id="8431646">,</span>&nbsp;<span class="num" id="8431648">0</span><span class="op" id="8431649">}</span><span class="op" id="8431650">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431653">{</span><span class="string" id="8431654">&#34;-73&#34;</span><span class="op" id="8431659">,</span>&nbsp;<span class="ident" id="8431661">true</span><span class="op" id="8431665">,</span>&nbsp;<span class="ident" id="8431667">false</span><span class="op" id="8431672">,</span>&nbsp;<span class="ident" id="8431674">true</span><span class="op" id="8431678">,</span>&nbsp;<span class="ident" id="8431680">false</span><span class="op" id="8431685">,</span>&nbsp;<span class="op" id="8431687">-</span><span class="num" id="8431688">73</span><span class="op" id="8431690">,</span>&nbsp;<span class="num" id="8431692">0</span><span class="op" id="8431693">,</span>&nbsp;<span class="op" id="8431695">-</span><span class="num" id="8431696">73</span><span class="op" id="8431698">,</span>&nbsp;<span class="num" id="8431700">0</span><span class="op" id="8431701">}</span><span class="op" id="8431702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431705">{</span><span class="string" id="8431706">&#34;+73&#34;</span><span class="op" id="8431711">,</span>&nbsp;<span class="ident" id="8431713">true</span><span class="op" id="8431717">,</span>&nbsp;<span class="ident" id="8431719">false</span><span class="op" id="8431724">,</span>&nbsp;<span class="ident" id="8431726">true</span><span class="op" id="8431730">,</span>&nbsp;<span class="ident" id="8431732">false</span><span class="op" id="8431737">,</span>&nbsp;<span class="num" id="8431739">73</span><span class="op" id="8431741">,</span>&nbsp;<span class="num" id="8431743">0</span><span class="op" id="8431744">,</span>&nbsp;<span class="num" id="8431746">73</span><span class="op" id="8431748">,</span>&nbsp;<span class="num" id="8431750">0</span><span class="op" id="8431751">}</span><span class="op" id="8431752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431755">{</span><span class="string" id="8431756">&#34;100&#34;</span><span class="op" id="8431761">,</span>&nbsp;<span class="ident" id="8431763">true</span><span class="op" id="8431767">,</span>&nbsp;<span class="ident" id="8431769">true</span><span class="op" id="8431773">,</span>&nbsp;<span class="ident" id="8431775">true</span><span class="op" id="8431779">,</span>&nbsp;<span class="ident" id="8431781">false</span><span class="op" id="8431786">,</span>&nbsp;<span class="num" id="8431788">100</span><span class="op" id="8431791">,</span>&nbsp;<span class="num" id="8431793">100</span><span class="op" id="8431796">,</span>&nbsp;<span class="num" id="8431798">100</span><span class="op" id="8431801">,</span>&nbsp;<span class="num" id="8431803">0</span><span class="op" id="8431804">}</span><span class="op" id="8431805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431808">{</span><span class="string" id="8431809">&#34;1e9&#34;</span><span class="op" id="8431814">,</span>&nbsp;<span class="ident" id="8431816">true</span><span class="op" id="8431820">,</span>&nbsp;<span class="ident" id="8431822">true</span><span class="op" id="8431826">,</span>&nbsp;<span class="ident" id="8431828">true</span><span class="op" id="8431832">,</span>&nbsp;<span class="ident" id="8431834">false</span><span class="op" id="8431839">,</span>&nbsp;<span class="num" id="8431841">1e9</span><span class="op" id="8431844">,</span>&nbsp;<span class="num" id="8431846">1e9</span><span class="op" id="8431849">,</span>&nbsp;<span class="num" id="8431851">1e9</span><span class="op" id="8431854">,</span>&nbsp;<span class="num" id="8431856">0</span><span class="op" id="8431857">}</span><span class="op" id="8431858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431861">{</span><span class="string" id="8431862">&#34;-1e9&#34;</span><span class="op" id="8431868">,</span>&nbsp;<span class="ident" id="8431870">true</span><span class="op" id="8431874">,</span>&nbsp;<span class="ident" id="8431876">false</span><span class="op" id="8431881">,</span>&nbsp;<span class="ident" id="8431883">true</span><span class="op" id="8431887">,</span>&nbsp;<span class="ident" id="8431889">false</span><span class="op" id="8431894">,</span>&nbsp;<span class="op" id="8431896">-</span><span class="num" id="8431897">1e9</span><span class="op" id="8431900">,</span>&nbsp;<span class="num" id="8431902">0</span><span class="op" id="8431903">,</span>&nbsp;<span class="op" id="8431905">-</span><span class="num" id="8431906">1e9</span><span class="op" id="8431909">,</span>&nbsp;<span class="num" id="8431911">0</span><span class="op" id="8431912">}</span><span class="op" id="8431913">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431916">{</span><span class="string" id="8431917">&#34;-1.2&#34;</span><span class="op" id="8431923">,</span>&nbsp;<span class="ident" id="8431925">false</span><span class="op" id="8431930">,</span>&nbsp;<span class="ident" id="8431932">false</span><span class="op" id="8431937">,</span>&nbsp;<span class="ident" id="8431939">true</span><span class="op" id="8431943">,</span>&nbsp;<span class="ident" id="8431945">false</span><span class="op" id="8431950">,</span>&nbsp;<span class="num" id="8431952">0</span><span class="op" id="8431953">,</span>&nbsp;<span class="num" id="8431955">0</span><span class="op" id="8431956">,</span>&nbsp;<span class="op" id="8431958">-</span><span class="num" id="8431959">1.2</span><span class="op" id="8431962">,</span>&nbsp;<span class="num" id="8431964">0</span><span class="op" id="8431965">}</span><span class="op" id="8431966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431969">{</span><span class="string" id="8431970">&#34;1e19&#34;</span><span class="op" id="8431976">,</span>&nbsp;<span class="ident" id="8431978">false</span><span class="op" id="8431983">,</span>&nbsp;<span class="ident" id="8431985">true</span><span class="op" id="8431989">,</span>&nbsp;<span class="ident" id="8431991">true</span><span class="op" id="8431995">,</span>&nbsp;<span class="ident" id="8431997">false</span><span class="op" id="8432002">,</span>&nbsp;<span class="num" id="8432004">0</span><span class="op" id="8432005">,</span>&nbsp;<span class="num" id="8432007">1e19</span><span class="op" id="8432011">,</span>&nbsp;<span class="num" id="8432013">1e19</span><span class="op" id="8432017">,</span>&nbsp;<span class="num" id="8432019">0</span><span class="op" id="8432020">}</span><span class="op" id="8432021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432024">{</span><span class="string" id="8432025">&#34;-1e19&#34;</span><span class="op" id="8432032">,</span>&nbsp;<span class="ident" id="8432034">false</span><span class="op" id="8432039">,</span>&nbsp;<span class="ident" id="8432041">false</span><span class="op" id="8432046">,</span>&nbsp;<span class="ident" id="8432048">true</span><span class="op" id="8432052">,</span>&nbsp;<span class="ident" id="8432054">false</span><span class="op" id="8432059">,</span>&nbsp;<span class="num" id="8432061">0</span><span class="op" id="8432062">,</span>&nbsp;<span class="num" id="8432064">0</span><span class="op" id="8432065">,</span>&nbsp;<span class="op" id="8432067">-</span><span class="num" id="8432068">1e19</span><span class="op" id="8432072">,</span>&nbsp;<span class="num" id="8432074">0</span><span class="op" id="8432075">}</span><span class="op" id="8432076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432079">{</span><span class="string" id="8432080">&#34;4i&#34;</span><span class="op" id="8432084">,</span>&nbsp;<span class="ident" id="8432086">false</span><span class="op" id="8432091">,</span>&nbsp;<span class="ident" id="8432093">false</span><span class="op" id="8432098">,</span>&nbsp;<span class="ident" id="8432100">false</span><span class="op" id="8432105">,</span>&nbsp;<span class="ident" id="8432107">true</span><span class="op" id="8432111">,</span>&nbsp;<span class="num" id="8432113">0</span><span class="op" id="8432114">,</span>&nbsp;<span class="num" id="8432116">0</span><span class="op" id="8432117">,</span>&nbsp;<span class="num" id="8432119">0</span><span class="op" id="8432120">,</span>&nbsp;<span class="num" id="8432122">4i</span><span class="op" id="8432124">}</span><span class="op" id="8432125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432128">{</span><span class="string" id="8432129">&#34;-1.2+4.2i&#34;</span><span class="op" id="8432140">,</span>&nbsp;<span class="ident" id="8432142">false</span><span class="op" id="8432147">,</span>&nbsp;<span class="ident" id="8432149">false</span><span class="op" id="8432154">,</span>&nbsp;<span class="ident" id="8432156">false</span><span class="op" id="8432161">,</span>&nbsp;<span class="ident" id="8432163">true</span><span class="op" id="8432167">,</span>&nbsp;<span class="num" id="8432169">0</span><span class="op" id="8432170">,</span>&nbsp;<span class="num" id="8432172">0</span><span class="op" id="8432173">,</span>&nbsp;<span class="num" id="8432175">0</span><span class="op" id="8432176">,</span>&nbsp;<span class="op" id="8432178">-</span><span class="num" id="8432179">1.2</span>&nbsp;<span class="op" id="8432183">+</span>&nbsp;<span class="num" id="8432185">4.2i</span><span class="op" id="8432189">}</span><span class="op" id="8432190">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432193">{</span><span class="string" id="8432194">&#34;073i&#34;</span><span class="op" id="8432200">,</span>&nbsp;<span class="ident" id="8432202">false</span><span class="op" id="8432207">,</span>&nbsp;<span class="ident" id="8432209">false</span><span class="op" id="8432214">,</span>&nbsp;<span class="ident" id="8432216">false</span><span class="op" id="8432221">,</span>&nbsp;<span class="ident" id="8432223">true</span><span class="op" id="8432227">,</span>&nbsp;<span class="num" id="8432229">0</span><span class="op" id="8432230">,</span>&nbsp;<span class="num" id="8432232">0</span><span class="op" id="8432233">,</span>&nbsp;<span class="num" id="8432235">0</span><span class="op" id="8432236">,</span>&nbsp;<span class="num" id="8432238">73i</span><span class="op" id="8432241">}</span><span class="op" id="8432242">,</span>&nbsp;<span class="comment" id="8432244">//&nbsp;not&nbsp;octal!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8432259">//&nbsp;complex&nbsp;with&nbsp;0&nbsp;imaginary&nbsp;are&nbsp;float&nbsp;(and&nbsp;maybe&nbsp;integer)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432318">{</span><span class="string" id="8432319">&#34;0i&#34;</span><span class="op" id="8432323">,</span>&nbsp;<span class="ident" id="8432325">true</span><span class="op" id="8432329">,</span>&nbsp;<span class="ident" id="8432331">true</span><span class="op" id="8432335">,</span>&nbsp;<span class="ident" id="8432337">true</span><span class="op" id="8432341">,</span>&nbsp;<span class="ident" id="8432343">true</span><span class="op" id="8432347">,</span>&nbsp;<span class="num" id="8432349">0</span><span class="op" id="8432350">,</span>&nbsp;<span class="num" id="8432352">0</span><span class="op" id="8432353">,</span>&nbsp;<span class="num" id="8432355">0</span><span class="op" id="8432356">,</span>&nbsp;<span class="num" id="8432358">0</span><span class="op" id="8432359">}</span><span class="op" id="8432360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432363">{</span><span class="string" id="8432364">&#34;-1.2+0i&#34;</span><span class="op" id="8432373">,</span>&nbsp;<span class="ident" id="8432375">false</span><span class="op" id="8432380">,</span>&nbsp;<span class="ident" id="8432382">false</span><span class="op" id="8432387">,</span>&nbsp;<span class="ident" id="8432389">true</span><span class="op" id="8432393">,</span>&nbsp;<span class="ident" id="8432395">true</span><span class="op" id="8432399">,</span>&nbsp;<span class="num" id="8432401">0</span><span class="op" id="8432402">,</span>&nbsp;<span class="num" id="8432404">0</span><span class="op" id="8432405">,</span>&nbsp;<span class="op" id="8432407">-</span><span class="num" id="8432408">1.2</span><span class="op" id="8432411">,</span>&nbsp;<span class="op" id="8432413">-</span><span class="num" id="8432414">1.2</span><span class="op" id="8432417">}</span><span class="op" id="8432418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432421">{</span><span class="string" id="8432422">&#34;-12+0i&#34;</span><span class="op" id="8432430">,</span>&nbsp;<span class="ident" id="8432432">true</span><span class="op" id="8432436">,</span>&nbsp;<span class="ident" id="8432438">false</span><span class="op" id="8432443">,</span>&nbsp;<span class="ident" id="8432445">true</span><span class="op" id="8432449">,</span>&nbsp;<span class="ident" id="8432451">true</span><span class="op" id="8432455">,</span>&nbsp;<span class="op" id="8432457">-</span><span class="num" id="8432458">12</span><span class="op" id="8432460">,</span>&nbsp;<span class="num" id="8432462">0</span><span class="op" id="8432463">,</span>&nbsp;<span class="op" id="8432465">-</span><span class="num" id="8432466">12</span><span class="op" id="8432468">,</span>&nbsp;<span class="op" id="8432470">-</span><span class="num" id="8432471">12</span><span class="op" id="8432473">}</span><span class="op" id="8432474">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432477">{</span><span class="string" id="8432478">&#34;13+0i&#34;</span><span class="op" id="8432485">,</span>&nbsp;<span class="ident" id="8432487">true</span><span class="op" id="8432491">,</span>&nbsp;<span class="ident" id="8432493">true</span><span class="op" id="8432497">,</span>&nbsp;<span class="ident" id="8432499">true</span><span class="op" id="8432503">,</span>&nbsp;<span class="ident" id="8432505">true</span><span class="op" id="8432509">,</span>&nbsp;<span class="num" id="8432511">13</span><span class="op" id="8432513">,</span>&nbsp;<span class="num" id="8432515">13</span><span class="op" id="8432517">,</span>&nbsp;<span class="num" id="8432519">13</span><span class="op" id="8432521">,</span>&nbsp;<span class="num" id="8432523">13</span><span class="op" id="8432525">}</span><span class="op" id="8432526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8432529">//&nbsp;funny&nbsp;bases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432545">{</span><span class="string" id="8432546">&#34;0123&#34;</span><span class="op" id="8432552">,</span>&nbsp;<span class="ident" id="8432554">true</span><span class="op" id="8432558">,</span>&nbsp;<span class="ident" id="8432560">true</span><span class="op" id="8432564">,</span>&nbsp;<span class="ident" id="8432566">true</span><span class="op" id="8432570">,</span>&nbsp;<span class="ident" id="8432572">false</span><span class="op" id="8432577">,</span>&nbsp;<span class="num" id="8432579">0123</span><span class="op" id="8432583">,</span>&nbsp;<span class="num" id="8432585">0123</span><span class="op" id="8432589">,</span>&nbsp;<span class="num" id="8432591">0123</span><span class="op" id="8432595">,</span>&nbsp;<span class="num" id="8432597">0</span><span class="op" id="8432598">}</span><span class="op" id="8432599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432602">{</span><span class="string" id="8432603">&#34;-0x0&#34;</span><span class="op" id="8432609">,</span>&nbsp;<span class="ident" id="8432611">true</span><span class="op" id="8432615">,</span>&nbsp;<span class="ident" id="8432617">true</span><span class="op" id="8432621">,</span>&nbsp;<span class="ident" id="8432623">true</span><span class="op" id="8432627">,</span>&nbsp;<span class="ident" id="8432629">false</span><span class="op" id="8432634">,</span>&nbsp;<span class="num" id="8432636">0</span><span class="op" id="8432637">,</span>&nbsp;<span class="num" id="8432639">0</span><span class="op" id="8432640">,</span>&nbsp;<span class="num" id="8432642">0</span><span class="op" id="8432643">,</span>&nbsp;<span class="num" id="8432645">0</span><span class="op" id="8432646">}</span><span class="op" id="8432647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432650">{</span><span class="string" id="8432651">&#34;0xdeadbeef&#34;</span><span class="op" id="8432663">,</span>&nbsp;<span class="ident" id="8432665">true</span><span class="op" id="8432669">,</span>&nbsp;<span class="ident" id="8432671">true</span><span class="op" id="8432675">,</span>&nbsp;<span class="ident" id="8432677">true</span><span class="op" id="8432681">,</span>&nbsp;<span class="ident" id="8432683">false</span><span class="op" id="8432688">,</span>&nbsp;<span class="num" id="8432690">0xdeadbeef</span><span class="op" id="8432700">,</span>&nbsp;<span class="num" id="8432702">0xdeadbeef</span><span class="op" id="8432712">,</span>&nbsp;<span class="num" id="8432714">0xdeadbeef</span><span class="op" id="8432724">,</span>&nbsp;<span class="num" id="8432726">0</span><span class="op" id="8432727">}</span><span class="op" id="8432728">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8432731">//&nbsp;character&nbsp;constants</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432755">{</span><span class="string" id="8432756">`&#39;a&#39;`</span><span class="op" id="8432761">,</span>&nbsp;<span class="ident" id="8432763">true</span><span class="op" id="8432767">,</span>&nbsp;<span class="ident" id="8432769">true</span><span class="op" id="8432773">,</span>&nbsp;<span class="ident" id="8432775">true</span><span class="op" id="8432779">,</span>&nbsp;<span class="ident" id="8432781">false</span><span class="op" id="8432786">,</span>&nbsp;<span class="string" id="8432788">&#39;a&#39;</span><span class="op" id="8432791">,</span>&nbsp;<span class="string" id="8432793">&#39;a&#39;</span><span class="op" id="8432796">,</span>&nbsp;<span class="string" id="8432798">&#39;a&#39;</span><span class="op" id="8432801">,</span>&nbsp;<span class="num" id="8432803">0</span><span class="op" id="8432804">}</span><span class="op" id="8432805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432808">{</span><span class="string" id="8432809">`&#39;\n&#39;`</span><span class="op" id="8432815">,</span>&nbsp;<span class="ident" id="8432817">true</span><span class="op" id="8432821">,</span>&nbsp;<span class="ident" id="8432823">true</span><span class="op" id="8432827">,</span>&nbsp;<span class="ident" id="8432829">true</span><span class="op" id="8432833">,</span>&nbsp;<span class="ident" id="8432835">false</span><span class="op" id="8432840">,</span>&nbsp;<span class="string" id="8432842">&#39;\n&#39;</span><span class="op" id="8432846">,</span>&nbsp;<span class="string" id="8432848">&#39;\n&#39;</span><span class="op" id="8432852">,</span>&nbsp;<span class="string" id="8432854">&#39;\n&#39;</span><span class="op" id="8432858">,</span>&nbsp;<span class="num" id="8432860">0</span><span class="op" id="8432861">}</span><span class="op" id="8432862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432865">{</span><span class="string" id="8432866">`&#39;\\&#39;`</span><span class="op" id="8432872">,</span>&nbsp;<span class="ident" id="8432874">true</span><span class="op" id="8432878">,</span>&nbsp;<span class="ident" id="8432880">true</span><span class="op" id="8432884">,</span>&nbsp;<span class="ident" id="8432886">true</span><span class="op" id="8432890">,</span>&nbsp;<span class="ident" id="8432892">false</span><span class="op" id="8432897">,</span>&nbsp;<span class="string" id="8432899">&#39;\\&#39;</span><span class="op" id="8432903">,</span>&nbsp;<span class="string" id="8432905">&#39;\\&#39;</span><span class="op" id="8432909">,</span>&nbsp;<span class="string" id="8432911">&#39;\\&#39;</span><span class="op" id="8432915">,</span>&nbsp;<span class="num" id="8432917">0</span><span class="op" id="8432918">}</span><span class="op" id="8432919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432922">{</span><span class="string" id="8432923">`&#39;\&#39;&#39;`</span><span class="op" id="8432929">,</span>&nbsp;<span class="ident" id="8432931">true</span><span class="op" id="8432935">,</span>&nbsp;<span class="ident" id="8432937">true</span><span class="op" id="8432941">,</span>&nbsp;<span class="ident" id="8432943">true</span><span class="op" id="8432947">,</span>&nbsp;<span class="ident" id="8432949">false</span><span class="op" id="8432954">,</span>&nbsp;<span class="string" id="8432956">&#39;\&#39;&#39;</span><span class="op" id="8432960">,</span>&nbsp;<span class="string" id="8432962">&#39;\&#39;&#39;</span><span class="op" id="8432966">,</span>&nbsp;<span class="string" id="8432968">&#39;\&#39;&#39;</span><span class="op" id="8432972">,</span>&nbsp;<span class="num" id="8432974">0</span><span class="op" id="8432975">}</span><span class="op" id="8432976">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432979">{</span><span class="string" id="8432980">`&#39;\xFF&#39;`</span><span class="op" id="8432988">,</span>&nbsp;<span class="ident" id="8432990">true</span><span class="op" id="8432994">,</span>&nbsp;<span class="ident" id="8432996">true</span><span class="op" id="8433000">,</span>&nbsp;<span class="ident" id="8433002">true</span><span class="op" id="8433006">,</span>&nbsp;<span class="ident" id="8433008">false</span><span class="op" id="8433013">,</span>&nbsp;<span class="num" id="8433015">0xFF</span><span class="op" id="8433019">,</span>&nbsp;<span class="num" id="8433021">0xFF</span><span class="op" id="8433025">,</span>&nbsp;<span class="num" id="8433027">0xFF</span><span class="op" id="8433031">,</span>&nbsp;<span class="num" id="8433033">0</span><span class="op" id="8433034">}</span><span class="op" id="8433035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433038">{</span><span class="string" id="8433039">`&#39;パ&#39;`</span><span class="op" id="8433046">,</span>&nbsp;<span class="ident" id="8433048">true</span><span class="op" id="8433052">,</span>&nbsp;<span class="ident" id="8433054">true</span><span class="op" id="8433058">,</span>&nbsp;<span class="ident" id="8433060">true</span><span class="op" id="8433064">,</span>&nbsp;<span class="ident" id="8433066">false</span><span class="op" id="8433071">,</span>&nbsp;<span class="num" id="8433073">0x30d1</span><span class="op" id="8433079">,</span>&nbsp;<span class="num" id="8433081">0x30d1</span><span class="op" id="8433087">,</span>&nbsp;<span class="num" id="8433089">0x30d1</span><span class="op" id="8433095">,</span>&nbsp;<span class="num" id="8433097">0</span><span class="op" id="8433098">}</span><span class="op" id="8433099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433102">{</span><span class="string" id="8433103">`&#39;\u30d1&#39;`</span><span class="op" id="8433113">,</span>&nbsp;<span class="ident" id="8433115">true</span><span class="op" id="8433119">,</span>&nbsp;<span class="ident" id="8433121">true</span><span class="op" id="8433125">,</span>&nbsp;<span class="ident" id="8433127">true</span><span class="op" id="8433131">,</span>&nbsp;<span class="ident" id="8433133">false</span><span class="op" id="8433138">,</span>&nbsp;<span class="num" id="8433140">0x30d1</span><span class="op" id="8433146">,</span>&nbsp;<span class="num" id="8433148">0x30d1</span><span class="op" id="8433154">,</span>&nbsp;<span class="num" id="8433156">0x30d1</span><span class="op" id="8433162">,</span>&nbsp;<span class="num" id="8433164">0</span><span class="op" id="8433165">}</span><span class="op" id="8433166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433169">{</span><span class="string" id="8433170">`&#39;\U000030d1&#39;`</span><span class="op" id="8433184">,</span>&nbsp;<span class="ident" id="8433186">true</span><span class="op" id="8433190">,</span>&nbsp;<span class="ident" id="8433192">true</span><span class="op" id="8433196">,</span>&nbsp;<span class="ident" id="8433198">true</span><span class="op" id="8433202">,</span>&nbsp;<span class="ident" id="8433204">false</span><span class="op" id="8433209">,</span>&nbsp;<span class="num" id="8433211">0x30d1</span><span class="op" id="8433217">,</span>&nbsp;<span class="num" id="8433219">0x30d1</span><span class="op" id="8433225">,</span>&nbsp;<span class="num" id="8433227">0x30d1</span><span class="op" id="8433233">,</span>&nbsp;<span class="num" id="8433235">0</span><span class="op" id="8433236">}</span><span class="op" id="8433237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8433240">//&nbsp;some&nbsp;broken&nbsp;syntax</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433263">{</span><span class="ident" id="8433264">text</span><span class="op" id="8433268">:</span>&nbsp;<span class="string" id="8433270">&#34;+-2&#34;</span><span class="op" id="8433275">}</span><span class="op" id="8433276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433279">{</span><span class="ident" id="8433280">text</span><span class="op" id="8433284">:</span>&nbsp;<span class="string" id="8433286">&#34;0x123.&#34;</span><span class="op" id="8433294">}</span><span class="op" id="8433295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433298">{</span><span class="ident" id="8433299">text</span><span class="op" id="8433303">:</span>&nbsp;<span class="string" id="8433305">&#34;1e.&#34;</span><span class="op" id="8433310">}</span><span class="op" id="8433311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433314">{</span><span class="ident" id="8433315">text</span><span class="op" id="8433319">:</span>&nbsp;<span class="string" id="8433321">&#34;0xi.&#34;</span><span class="op" id="8433327">}</span><span class="op" id="8433328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433331">{</span><span class="ident" id="8433332">text</span><span class="op" id="8433336">:</span>&nbsp;<span class="string" id="8433338">&#34;1+2.&#34;</span><span class="op" id="8433344">}</span><span class="op" id="8433345">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433348">{</span><span class="ident" id="8433349">text</span><span class="op" id="8433353">:</span>&nbsp;<span class="string" id="8433355">&#34;&#39;x&#34;</span><span class="op" id="8433359">}</span><span class="op" id="8433360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433363">{</span><span class="ident" id="8433364">text</span><span class="op" id="8433368">:</span>&nbsp;<span class="string" id="8433370">&#34;&#39;xx&#39;&#34;</span><span class="op" id="8433376">}</span><span class="op" id="8433377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8433380">//&nbsp;Issue&nbsp;8622&nbsp;-&nbsp;0xe&nbsp;parsed&nbsp;as&nbsp;floating&nbsp;point.&nbsp;Very&nbsp;embarrassing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433446">{</span><span class="string" id="8433447">&#34;0xef&#34;</span><span class="op" id="8433453">,</span>&nbsp;<span class="ident" id="8433455">true</span><span class="op" id="8433459">,</span>&nbsp;<span class="ident" id="8433461">true</span><span class="op" id="8433465">,</span>&nbsp;<span class="ident" id="8433467">true</span><span class="op" id="8433471">,</span>&nbsp;<span class="ident" id="8433473">false</span><span class="op" id="8433478">,</span>&nbsp;<span class="num" id="8433480">0xef</span><span class="op" id="8433484">,</span>&nbsp;<span class="num" id="8433486">0xef</span><span class="op" id="8433490">,</span>&nbsp;<span class="num" id="8433492">0xef</span><span class="op" id="8433496">,</span>&nbsp;<span class="num" id="8433498">0</span><span class="op" id="8433499">}</span><span class="op" id="8433500">,</span><br>
<span class="lineno"></span><span class="op" id="8433502">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="8433505">func</span>&nbsp;<span class="ident" id="8433510">TestNumberParse</span><span class="op" id="8433525">(</span><span class="ident" id="8433526">t</span>&nbsp;<span class="op" id="8433528">*</span><span class="ident" id="8433529">testing</span><span class="op" id="8433536">.</span><span class="ident" id="8433537">T</span><span class="op" id="8433538">)</span>&nbsp;<span class="op" id="8433540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8433543">for</span>&nbsp;<span class="ident" id="8433547">_</span><span class="op" id="8433548">,</span>&nbsp;<span class="ident" id="8433550">test</span>&nbsp;<span class="op" id="8433555">:=</span>&nbsp;<span class="keyword" id="8433558">range</span>&nbsp;<span class="ident" id="8433564">numberTests</span>&nbsp;<span class="op" id="8433576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8433580">//&nbsp;If&nbsp;fmt.Sscan&nbsp;thinks&nbsp;it&#39;s&nbsp;complex,&nbsp;it&#39;s&nbsp;complex.&nbsp;&nbsp;We&nbsp;can&#39;t&nbsp;trust&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8433660">//&nbsp;because&nbsp;imaginary&nbsp;comes&nbsp;out&nbsp;as&nbsp;a&nbsp;number.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8433706">var</span>&nbsp;<span class="ident" id="8433710">c</span>&nbsp;<span class="builtintype" id="8433712">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433725">typ</span>&nbsp;<span class="op" id="8433729">:=</span>&nbsp;<span class="ident" id="8433732">itemNumber</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8433745">var</span>&nbsp;<span class="ident" id="8433749">tree</span>&nbsp;<span class="op" id="8433754">*</span><span class="ident" id="8433755">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8433762">if</span>&nbsp;<span class="ident" id="8433765">test</span><span class="op" id="8433769">.</span><span class="ident" id="8433770">text</span><span class="op" id="8433774">[</span><span class="num" id="8433775">0</span><span class="op" id="8433776">]</span>&nbsp;<span class="op" id="8433778">==</span>&nbsp;<span class="string" id="8433781">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="8433786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433791">typ</span>&nbsp;<span class="op" id="8433795">=</span>&nbsp;<span class="ident" id="8433797">itemCharConstant</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433816">}</span>&nbsp;<span class="keyword" id="8433818">else</span>&nbsp;<span class="op" id="8433823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433828">_</span><span class="op" id="8433829">,</span>&nbsp;<span class="ident" id="8433831">err</span>&nbsp;<span class="op" id="8433835">:=</span>&nbsp;<span class="ident" id="8433838">fmt</span><span class="op" id="8433841">.</span><span class="ident" id="8433842">Sscan</span><span class="op" id="8433847">(</span><span class="ident" id="8433848">test</span><span class="op" id="8433852">.</span><span class="ident" id="8433853">text</span><span class="op" id="8433857">,</span>&nbsp;<span class="op" id="8433859">&amp;</span><span class="ident" id="8433860">c</span><span class="op" id="8433861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8433866">if</span>&nbsp;<span class="ident" id="8433869">err</span>&nbsp;<span class="op" id="8433873">==</span>&nbsp;<span class="ident" id="8433876">nil</span>&nbsp;<span class="op" id="8433880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433886">typ</span>&nbsp;<span class="op" id="8433890">=</span>&nbsp;<span class="ident" id="8433892">itemComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433907">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433915">n</span><span class="op" id="8433916">,</span>&nbsp;<span class="ident" id="8433918">err</span>&nbsp;<span class="op" id="8433922">:=</span>&nbsp;<span class="ident" id="8433925">tree</span><span class="op" id="8433929">.</span><span class="ident" id="8433930">newNumber</span><span class="op" id="8433939">(</span><span class="num" id="8433940">0</span><span class="op" id="8433941">,</span>&nbsp;<span class="ident" id="8433943">test</span><span class="op" id="8433947">.</span><span class="ident" id="8433948">text</span><span class="op" id="8433952">,</span>&nbsp;<span class="ident" id="8433954">typ</span><span class="op" id="8433957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433961">ok</span>&nbsp;<span class="op" id="8433964">:=</span>&nbsp;<span class="ident" id="8433967">test</span><span class="op" id="8433971">.</span><span class="ident" id="8433972">isInt</span>&nbsp;<span class="op" id="8433978">||</span>&nbsp;<span class="ident" id="8433981">test</span><span class="op" id="8433985">.</span><span class="ident" id="8433986">isUint</span>&nbsp;<span class="op" id="8433993">||</span>&nbsp;<span class="ident" id="8433996">test</span><span class="op" id="8434000">.</span><span class="ident" id="8434001">isFloat</span>&nbsp;<span class="op" id="8434009">||</span>&nbsp;<span class="ident" id="8434012">test</span><span class="op" id="8434016">.</span><span class="ident" id="8434017">isComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434029">if</span>&nbsp;<span class="ident" id="8434032">ok</span>&nbsp;<span class="op" id="8434035">&amp;&amp;</span>&nbsp;<span class="ident" id="8434038">err</span>&nbsp;<span class="op" id="8434042">!=</span>&nbsp;<span class="ident" id="8434045">nil</span>&nbsp;<span class="op" id="8434049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434054">t</span><span class="op" id="8434055">.</span><span class="ident" id="8434056">Errorf</span><span class="op" id="8434062">(</span><span class="string" id="8434063">&#34;unexpected&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8434092">,</span>&nbsp;<span class="ident" id="8434094">test</span><span class="op" id="8434098">.</span><span class="ident" id="8434099">text</span><span class="op" id="8434103">,</span>&nbsp;<span class="ident" id="8434105">err</span><span class="op" id="8434108">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434113">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434128">if</span>&nbsp;<span class="op" id="8434131">!</span><span class="ident" id="8434132">ok</span>&nbsp;<span class="op" id="8434135">&amp;&amp;</span>&nbsp;<span class="ident" id="8434138">err</span>&nbsp;<span class="op" id="8434142">==</span>&nbsp;<span class="ident" id="8434145">nil</span>&nbsp;<span class="op" id="8434149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434154">t</span><span class="op" id="8434155">.</span><span class="ident" id="8434156">Errorf</span><span class="op" id="8434162">(</span><span class="string" id="8434163">&#34;expected&nbsp;error&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8434186">,</span>&nbsp;<span class="ident" id="8434188">test</span><span class="op" id="8434192">.</span><span class="ident" id="8434193">text</span><span class="op" id="8434197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434202">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434217">if</span>&nbsp;<span class="op" id="8434220">!</span><span class="ident" id="8434221">ok</span>&nbsp;<span class="op" id="8434224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434229">if</span>&nbsp;<span class="op" id="8434232">*</span><span class="ident" id="8434233">debug</span>&nbsp;<span class="op" id="8434239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434245">fmt</span><span class="op" id="8434248">.</span><span class="ident" id="8434249">Printf</span><span class="op" id="8434255">(</span><span class="string" id="8434256">&#34;%s\n\t%s\n&#34;</span><span class="op" id="8434268">,</span>&nbsp;<span class="ident" id="8434270">test</span><span class="op" id="8434274">.</span><span class="ident" id="8434275">text</span><span class="op" id="8434279">,</span>&nbsp;<span class="ident" id="8434281">err</span><span class="op" id="8434284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434289">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434294">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434309">if</span>&nbsp;<span class="ident" id="8434312">n</span><span class="op" id="8434313">.</span><span class="ident" id="8434314">IsComplex</span>&nbsp;<span class="op" id="8434324">!=</span>&nbsp;<span class="ident" id="8434327">test</span><span class="op" id="8434331">.</span><span class="ident" id="8434332">isComplex</span>&nbsp;<span class="op" id="8434342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434347">t</span><span class="op" id="8434348">.</span><span class="ident" id="8434349">Errorf</span><span class="op" id="8434355">(</span><span class="string" id="8434356">&#34;complex&nbsp;incorrect&nbsp;for&nbsp;%q;&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="8434396">,</span>&nbsp;<span class="ident" id="8434398">test</span><span class="op" id="8434402">.</span><span class="ident" id="8434403">text</span><span class="op" id="8434407">,</span>&nbsp;<span class="ident" id="8434409">test</span><span class="op" id="8434413">.</span><span class="ident" id="8434414">isComplex</span><span class="op" id="8434423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434427">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434431">if</span>&nbsp;<span class="ident" id="8434434">test</span><span class="op" id="8434438">.</span><span class="ident" id="8434439">isInt</span>&nbsp;<span class="op" id="8434445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434450">if</span>&nbsp;<span class="op" id="8434453">!</span><span class="ident" id="8434454">n</span><span class="op" id="8434455">.</span><span class="ident" id="8434456">IsInt</span>&nbsp;<span class="op" id="8434462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434468">t</span><span class="op" id="8434469">.</span><span class="ident" id="8434470">Errorf</span><span class="op" id="8434476">(</span><span class="string" id="8434477">&#34;expected&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8434502">,</span>&nbsp;<span class="ident" id="8434504">test</span><span class="op" id="8434508">.</span><span class="ident" id="8434509">text</span><span class="op" id="8434513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434523">if</span>&nbsp;<span class="ident" id="8434526">n</span><span class="op" id="8434527">.</span><span class="ident" id="8434528">Int64</span>&nbsp;<span class="op" id="8434534">!=</span>&nbsp;<span class="ident" id="8434537">test</span><span class="op" id="8434541">.</span><span class="ident" id="8434542">int64</span>&nbsp;<span class="op" id="8434548">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434554">t</span><span class="op" id="8434555">.</span><span class="ident" id="8434556">Errorf</span><span class="op" id="8434562">(</span><span class="string" id="8434563">&#34;int64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="8434596">,</span>&nbsp;<span class="ident" id="8434598">test</span><span class="op" id="8434602">.</span><span class="ident" id="8434603">text</span><span class="op" id="8434607">,</span>&nbsp;<span class="ident" id="8434609">test</span><span class="op" id="8434613">.</span><span class="ident" id="8434614">int64</span><span class="op" id="8434619">,</span>&nbsp;<span class="ident" id="8434621">n</span><span class="op" id="8434622">.</span><span class="ident" id="8434623">Int64</span><span class="op" id="8434628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434637">}</span>&nbsp;<span class="keyword" id="8434639">else</span>&nbsp;<span class="keyword" id="8434644">if</span>&nbsp;<span class="ident" id="8434647">n</span><span class="op" id="8434648">.</span><span class="ident" id="8434649">IsInt</span>&nbsp;<span class="op" id="8434655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434660">t</span><span class="op" id="8434661">.</span><span class="ident" id="8434662">Errorf</span><span class="op" id="8434668">(</span><span class="string" id="8434669">&#34;did&nbsp;not&nbsp;expect&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8434700">,</span>&nbsp;<span class="ident" id="8434702">test</span><span class="op" id="8434706">.</span><span class="ident" id="8434707">text</span><span class="op" id="8434711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434715">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434719">if</span>&nbsp;<span class="ident" id="8434722">test</span><span class="op" id="8434726">.</span><span class="ident" id="8434727">isUint</span>&nbsp;<span class="op" id="8434734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434739">if</span>&nbsp;<span class="op" id="8434742">!</span><span class="ident" id="8434743">n</span><span class="op" id="8434744">.</span><span class="ident" id="8434745">IsUint</span>&nbsp;<span class="op" id="8434752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434758">t</span><span class="op" id="8434759">.</span><span class="ident" id="8434760">Errorf</span><span class="op" id="8434766">(</span><span class="string" id="8434767">&#34;expected&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8434801">,</span>&nbsp;<span class="ident" id="8434803">test</span><span class="op" id="8434807">.</span><span class="ident" id="8434808">text</span><span class="op" id="8434812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434822">if</span>&nbsp;<span class="ident" id="8434825">n</span><span class="op" id="8434826">.</span><span class="ident" id="8434827">Uint64</span>&nbsp;<span class="op" id="8434834">!=</span>&nbsp;<span class="ident" id="8434837">test</span><span class="op" id="8434841">.</span><span class="ident" id="8434842">uint64</span>&nbsp;<span class="op" id="8434849">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434855">t</span><span class="op" id="8434856">.</span><span class="ident" id="8434857">Errorf</span><span class="op" id="8434863">(</span><span class="string" id="8434864">&#34;uint64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="8434898">,</span>&nbsp;<span class="ident" id="8434900">test</span><span class="op" id="8434904">.</span><span class="ident" id="8434905">text</span><span class="op" id="8434909">,</span>&nbsp;<span class="ident" id="8434911">test</span><span class="op" id="8434915">.</span><span class="ident" id="8434916">uint64</span><span class="op" id="8434922">,</span>&nbsp;<span class="ident" id="8434924">n</span><span class="op" id="8434925">.</span><span class="ident" id="8434926">Uint64</span><span class="op" id="8434932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434941">}</span>&nbsp;<span class="keyword" id="8434943">else</span>&nbsp;<span class="keyword" id="8434948">if</span>&nbsp;<span class="ident" id="8434951">n</span><span class="op" id="8434952">.</span><span class="ident" id="8434953">IsUint</span>&nbsp;<span class="op" id="8434960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434965">t</span><span class="op" id="8434966">.</span><span class="ident" id="8434967">Errorf</span><span class="op" id="8434973">(</span><span class="string" id="8434974">&#34;did&nbsp;not&nbsp;expect&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8435014">,</span>&nbsp;<span class="ident" id="8435016">test</span><span class="op" id="8435020">.</span><span class="ident" id="8435021">text</span><span class="op" id="8435025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435029">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8435033">if</span>&nbsp;<span class="ident" id="8435036">test</span><span class="op" id="8435040">.</span><span class="ident" id="8435041">isFloat</span>&nbsp;<span class="op" id="8435049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8435054">if</span>&nbsp;<span class="op" id="8435057">!</span><span class="ident" id="8435058">n</span><span class="op" id="8435059">.</span><span class="ident" id="8435060">IsFloat</span>&nbsp;<span class="op" id="8435068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435074">t</span><span class="op" id="8435075">.</span><span class="ident" id="8435076">Errorf</span><span class="op" id="8435082">(</span><span class="string" id="8435083">&#34;expected&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8435106">,</span>&nbsp;<span class="ident" id="8435108">test</span><span class="op" id="8435112">.</span><span class="ident" id="8435113">text</span><span class="op" id="8435117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8435127">if</span>&nbsp;<span class="ident" id="8435130">n</span><span class="op" id="8435131">.</span><span class="ident" id="8435132">Float64</span>&nbsp;<span class="op" id="8435140">!=</span>&nbsp;<span class="ident" id="8435143">test</span><span class="op" id="8435147">.</span><span class="builtintype" id="8435148">float64</span>&nbsp;<span class="op" id="8435156">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435162">t</span><span class="op" id="8435163">.</span><span class="ident" id="8435164">Errorf</span><span class="op" id="8435170">(</span><span class="string" id="8435171">&#34;float64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="8435206">,</span>&nbsp;<span class="ident" id="8435208">test</span><span class="op" id="8435212">.</span><span class="ident" id="8435213">text</span><span class="op" id="8435217">,</span>&nbsp;<span class="ident" id="8435219">test</span><span class="op" id="8435223">.</span><span class="builtintype" id="8435224">float64</span><span class="op" id="8435231">,</span>&nbsp;<span class="ident" id="8435233">n</span><span class="op" id="8435234">.</span><span class="ident" id="8435235">Float64</span><span class="op" id="8435242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435251">}</span>&nbsp;<span class="keyword" id="8435253">else</span>&nbsp;<span class="keyword" id="8435258">if</span>&nbsp;<span class="ident" id="8435261">n</span><span class="op" id="8435262">.</span><span class="ident" id="8435263">IsFloat</span>&nbsp;<span class="op" id="8435271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435276">t</span><span class="op" id="8435277">.</span><span class="ident" id="8435278">Errorf</span><span class="op" id="8435284">(</span><span class="string" id="8435285">&#34;did&nbsp;not&nbsp;expect&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8435314">,</span>&nbsp;<span class="ident" id="8435316">test</span><span class="op" id="8435320">.</span><span class="ident" id="8435321">text</span><span class="op" id="8435325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435329">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8435333">if</span>&nbsp;<span class="ident" id="8435336">test</span><span class="op" id="8435340">.</span><span class="ident" id="8435341">isComplex</span>&nbsp;<span class="op" id="8435351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8435356">if</span>&nbsp;<span class="op" id="8435359">!</span><span class="ident" id="8435360">n</span><span class="op" id="8435361">.</span><span class="ident" id="8435362">IsComplex</span>&nbsp;<span class="op" id="8435372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435378">t</span><span class="op" id="8435379">.</span><span class="ident" id="8435380">Errorf</span><span class="op" id="8435386">(</span><span class="string" id="8435387">&#34;expected&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8435412">,</span>&nbsp;<span class="ident" id="8435414">test</span><span class="op" id="8435418">.</span><span class="ident" id="8435419">text</span><span class="op" id="8435423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8435433">if</span>&nbsp;<span class="ident" id="8435436">n</span><span class="op" id="8435437">.</span><span class="ident" id="8435438">Complex128</span>&nbsp;<span class="op" id="8435449">!=</span>&nbsp;<span class="ident" id="8435452">test</span><span class="op" id="8435456">.</span><span class="builtintype" id="8435457">complex128</span>&nbsp;<span class="op" id="8435468">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435474">t</span><span class="op" id="8435475">.</span><span class="ident" id="8435476">Errorf</span><span class="op" id="8435482">(</span><span class="string" id="8435483">&#34;complex128&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="8435521">,</span>&nbsp;<span class="ident" id="8435523">test</span><span class="op" id="8435527">.</span><span class="ident" id="8435528">text</span><span class="op" id="8435532">,</span>&nbsp;<span class="ident" id="8435534">test</span><span class="op" id="8435538">.</span><span class="builtintype" id="8435539">complex128</span><span class="op" id="8435549">,</span>&nbsp;<span class="ident" id="8435551">n</span><span class="op" id="8435552">.</span><span class="ident" id="8435553">Complex128</span><span class="op" id="8435563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435572">}</span>&nbsp;<span class="keyword" id="8435574">else</span>&nbsp;<span class="keyword" id="8435579">if</span>&nbsp;<span class="ident" id="8435582">n</span><span class="op" id="8435583">.</span><span class="ident" id="8435584">IsComplex</span>&nbsp;<span class="op" id="8435594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435599">t</span><span class="op" id="8435600">.</span><span class="ident" id="8435601">Errorf</span><span class="op" id="8435607">(</span><span class="string" id="8435608">&#34;did&nbsp;not&nbsp;expect&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8435639">,</span>&nbsp;<span class="ident" id="8435641">test</span><span class="op" id="8435645">.</span><span class="ident" id="8435646">text</span><span class="op" id="8435650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435654">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435657">}</span><br>
<span class="lineno"></span><span class="op" id="8435659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8435662">type</span>&nbsp;<span class="ident" id="8435667">parseTest</span>&nbsp;<span class="keyword" id="8435677">struct</span>&nbsp;<span class="op" id="8435684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435687">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8435694">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435702">input</span>&nbsp;&nbsp;<span class="builtintype" id="8435709">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435717">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8435724">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435730">result</span>&nbsp;<span class="builtintype" id="8435737">string</span>&nbsp;<span class="comment" id="8435744">//&nbsp;what&nbsp;the&nbsp;user&nbsp;would&nbsp;see&nbsp;in&nbsp;an&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="op" id="8435792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="8435795">const</span>&nbsp;<span class="op" id="8435801">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435804">noError</span>&nbsp;&nbsp;<span class="op" id="8435813">=</span>&nbsp;<span class="ident" id="8435815">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435821">hasError</span>&nbsp;<span class="op" id="8435830">=</span>&nbsp;<span class="ident" id="8435832">false</span><br>
<span class="lineno"></span><span class="op" id="8435838">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="8435841">var</span>&nbsp;<span class="ident" id="8435845">parseTests</span>&nbsp;<span class="op" id="8435856">=</span>&nbsp;<span class="op" id="8435858">[</span><span class="op" id="8435859">]</span><span class="ident" id="8435860">parseTest</span><span class="op" id="8435869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435872">{</span><span class="string" id="8435873">&#34;empty&#34;</span><span class="op" id="8435880">,</span>&nbsp;<span class="string" id="8435882">&#34;&#34;</span><span class="op" id="8435884">,</span>&nbsp;<span class="ident" id="8435886">noError</span><span class="op" id="8435893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8435897">``</span><span class="op" id="8435899">}</span><span class="op" id="8435900">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435903">{</span><span class="string" id="8435904">&#34;comment&#34;</span><span class="op" id="8435913">,</span>&nbsp;<span class="string" id="8435915">&#34;{{/*\n\n\n*/}}&#34;</span><span class="op" id="8435931">,</span>&nbsp;<span class="ident" id="8435933">noError</span><span class="op" id="8435940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8435944">``</span><span class="op" id="8435946">}</span><span class="op" id="8435947">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435950">{</span><span class="string" id="8435951">&#34;spaces&#34;</span><span class="op" id="8435959">,</span>&nbsp;<span class="string" id="8435961">&#34;&nbsp;\t\n&#34;</span><span class="op" id="8435968">,</span>&nbsp;<span class="ident" id="8435970">noError</span><span class="op" id="8435977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8435981">`&#34;&nbsp;\t\n&#34;`</span><span class="op" id="8435990">}</span><span class="op" id="8435991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435994">{</span><span class="string" id="8435995">&#34;text&#34;</span><span class="op" id="8436001">,</span>&nbsp;<span class="string" id="8436003">&#34;some&nbsp;text&#34;</span><span class="op" id="8436014">,</span>&nbsp;<span class="ident" id="8436016">noError</span><span class="op" id="8436023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8436027">`&#34;some&nbsp;text&#34;`</span><span class="op" id="8436040">}</span><span class="op" id="8436041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436044">{</span><span class="string" id="8436045">&#34;emptyAction&#34;</span><span class="op" id="8436058">,</span>&nbsp;<span class="string" id="8436060">&#34;{{}}&#34;</span><span class="op" id="8436066">,</span>&nbsp;<span class="ident" id="8436068">hasError</span><span class="op" id="8436076">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8436080">`{{}}`</span><span class="op" id="8436086">}</span><span class="op" id="8436087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436090">{</span><span class="string" id="8436091">&#34;field&#34;</span><span class="op" id="8436098">,</span>&nbsp;<span class="string" id="8436100">&#34;{{.X}}&#34;</span><span class="op" id="8436108">,</span>&nbsp;<span class="ident" id="8436110">noError</span><span class="op" id="8436117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8436121">`{{.X}}`</span><span class="op" id="8436129">}</span><span class="op" id="8436130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436133">{</span><span class="string" id="8436134">&#34;simple&nbsp;command&#34;</span><span class="op" id="8436150">,</span>&nbsp;<span class="string" id="8436152">&#34;{{printf}}&#34;</span><span class="op" id="8436164">,</span>&nbsp;<span class="ident" id="8436166">noError</span><span class="op" id="8436173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8436177">`{{printf}}`</span><span class="op" id="8436189">}</span><span class="op" id="8436190">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436193">{</span><span class="string" id="8436194">&#34;$&nbsp;invocation&#34;</span><span class="op" id="8436208">,</span>&nbsp;<span class="string" id="8436210">&#34;{{$}}&#34;</span><span class="op" id="8436217">,</span>&nbsp;<span class="ident" id="8436219">noError</span><span class="op" id="8436226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8436230">&#34;{{$}}&#34;</span><span class="op" id="8436237">}</span><span class="op" id="8436238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436241">{</span><span class="string" id="8436242">&#34;variable&nbsp;invocation&#34;</span><span class="op" id="8436263">,</span>&nbsp;<span class="string" id="8436265">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="8436299">,</span>&nbsp;<span class="ident" id="8436301">noError</span><span class="op" id="8436308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8436312">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="8436346">}</span><span class="op" id="8436347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436350">{</span><span class="string" id="8436351">&#34;variable&nbsp;with&nbsp;fields&#34;</span><span class="op" id="8436373">,</span>&nbsp;<span class="string" id="8436375">&#34;{{$.I}}&#34;</span><span class="op" id="8436384">,</span>&nbsp;<span class="ident" id="8436386">noError</span><span class="op" id="8436393">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8436397">&#34;{{$.I}}&#34;</span><span class="op" id="8436406">}</span><span class="op" id="8436407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436410">{</span><span class="string" id="8436411">&#34;multi-word&nbsp;command&#34;</span><span class="op" id="8436431">,</span>&nbsp;<span class="string" id="8436433">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="8436453">,</span>&nbsp;<span class="ident" id="8436455">noError</span><span class="op" id="8436462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8436466">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="8436486">}</span><span class="op" id="8436487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436490">{</span><span class="string" id="8436491">&#34;pipeline&#34;</span><span class="op" id="8436501">,</span>&nbsp;<span class="string" id="8436503">&#34;{{.X|.Y}}&#34;</span><span class="op" id="8436514">,</span>&nbsp;<span class="ident" id="8436516">noError</span><span class="op" id="8436523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8436527">`{{.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="8436540">}</span><span class="op" id="8436541">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436544">{</span><span class="string" id="8436545">&#34;pipeline&nbsp;with&nbsp;decl&#34;</span><span class="op" id="8436565">,</span>&nbsp;<span class="string" id="8436567">&#34;{{$x&nbsp;:=&nbsp;.X|.Y}}&#34;</span><span class="op" id="8436584">,</span>&nbsp;<span class="ident" id="8436586">noError</span><span class="op" id="8436593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8436597">`{{$x&nbsp;:=&nbsp;.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="8436616">}</span><span class="op" id="8436617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436620">{</span><span class="string" id="8436621">&#34;nested&nbsp;pipeline&#34;</span><span class="op" id="8436638">,</span>&nbsp;<span class="string" id="8436640">&#34;{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}&#34;</span><span class="op" id="8436674">,</span>&nbsp;<span class="ident" id="8436676">noError</span><span class="op" id="8436683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8436687">`{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}`</span><span class="op" id="8436721">}</span><span class="op" id="8436722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436725">{</span><span class="string" id="8436726">&#34;field&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="8436756">,</span>&nbsp;<span class="string" id="8436758">&#34;{{(.Y&nbsp;.Z).Field}}&#34;</span><span class="op" id="8436777">,</span>&nbsp;<span class="ident" id="8436779">noError</span><span class="op" id="8436786">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8436790">`{{(.Y&nbsp;.Z).Field}}`</span><span class="op" id="8436809">}</span><span class="op" id="8436810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436813">{</span><span class="string" id="8436814">&#34;simple&nbsp;if&#34;</span><span class="op" id="8436825">,</span>&nbsp;<span class="string" id="8436827">&#34;{{if&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="8436850">,</span>&nbsp;<span class="ident" id="8436852">noError</span><span class="op" id="8436859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8436863">`{{if&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="8436888">}</span><span class="op" id="8436889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436892">{</span><span class="string" id="8436893">&#34;if&nbsp;with&nbsp;else&#34;</span><span class="op" id="8436907">,</span>&nbsp;<span class="string" id="8436909">&#34;{{if&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="8436944">,</span>&nbsp;<span class="ident" id="8436946">noError</span><span class="op" id="8436953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8436957">`{{if&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="8436996">}</span><span class="op" id="8436997">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437000">{</span><span class="string" id="8437001">&#34;if&nbsp;with&nbsp;else&nbsp;if&#34;</span><span class="op" id="8437018">,</span>&nbsp;<span class="string" id="8437020">&#34;{{if&nbsp;.X}}true{{else&nbsp;if&nbsp;.Y}}false{{end}}&#34;</span><span class="op" id="8437061">,</span>&nbsp;<span class="ident" id="8437063">noError</span><span class="op" id="8437070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8437074">`{{if&nbsp;.X}}&#34;true&#34;{{else}}{{if&nbsp;.Y}}&#34;false&#34;{{end}}{{end}}`</span><span class="op" id="8437129">}</span><span class="op" id="8437130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437133">{</span><span class="string" id="8437134">&#34;if&nbsp;else&nbsp;chain&#34;</span><span class="op" id="8437149">,</span>&nbsp;<span class="string" id="8437151">&#34;+{{if&nbsp;.X}}X{{else&nbsp;if&nbsp;.Y}}Y{{else&nbsp;if&nbsp;.Z}}Z{{end}}+&#34;</span><span class="op" id="8437202">,</span>&nbsp;<span class="ident" id="8437204">noError</span><span class="op" id="8437211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8437215">`&#34;+&#34;{{if&nbsp;.X}}&#34;X&#34;{{else}}{{if&nbsp;.Y}}&#34;Y&#34;{{else}}{{if&nbsp;.Z}}&#34;Z&#34;{{end}}{{end}}{{end}}&#34;+&#34;`</span><span class="op" id="8437296">}</span><span class="op" id="8437297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437300">{</span><span class="string" id="8437301">&#34;simple&nbsp;range&#34;</span><span class="op" id="8437315">,</span>&nbsp;<span class="string" id="8437317">&#34;{{range&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="8437343">,</span>&nbsp;<span class="ident" id="8437345">noError</span><span class="op" id="8437352">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8437356">`{{range&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="8437384">}</span><span class="op" id="8437385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437388">{</span><span class="string" id="8437389">&#34;chained&nbsp;field&nbsp;range&#34;</span><span class="op" id="8437410">,</span>&nbsp;<span class="string" id="8437412">&#34;{{range&nbsp;.X.Y.Z}}hello{{end}}&#34;</span><span class="op" id="8437442">,</span>&nbsp;<span class="ident" id="8437444">noError</span><span class="op" id="8437451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8437455">`{{range&nbsp;.X.Y.Z}}&#34;hello&#34;{{end}}`</span><span class="op" id="8437487">}</span><span class="op" id="8437488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437491">{</span><span class="string" id="8437492">&#34;nested&nbsp;range&#34;</span><span class="op" id="8437506">,</span>&nbsp;<span class="string" id="8437508">&#34;{{range&nbsp;.X}}hello{{range&nbsp;.Y}}goodbye{{end}}{{end}}&#34;</span><span class="op" id="8437560">,</span>&nbsp;<span class="ident" id="8437562">noError</span><span class="op" id="8437569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8437573">`{{range&nbsp;.X}}&#34;hello&#34;{{range&nbsp;.Y}}&#34;goodbye&#34;{{end}}{{end}}`</span><span class="op" id="8437629">}</span><span class="op" id="8437630">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437633">{</span><span class="string" id="8437634">&#34;range&nbsp;with&nbsp;else&#34;</span><span class="op" id="8437651">,</span>&nbsp;<span class="string" id="8437653">&#34;{{range&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="8437691">,</span>&nbsp;<span class="ident" id="8437693">noError</span><span class="op" id="8437700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8437704">`{{range&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="8437746">}</span><span class="op" id="8437747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437750">{</span><span class="string" id="8437751">&#34;range&nbsp;over&nbsp;pipeline&#34;</span><span class="op" id="8437772">,</span>&nbsp;<span class="string" id="8437774">&#34;{{range&nbsp;.X|.M}}true{{else}}false{{end}}&#34;</span><span class="op" id="8437815">,</span>&nbsp;<span class="ident" id="8437817">noError</span><span class="op" id="8437824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8437828">`{{range&nbsp;.X&nbsp;|&nbsp;.M}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="8437875">}</span><span class="op" id="8437876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437879">{</span><span class="string" id="8437880">&#34;range&nbsp;[]int&#34;</span><span class="op" id="8437893">,</span>&nbsp;<span class="string" id="8437895">&#34;{{range&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="8437922">,</span>&nbsp;<span class="ident" id="8437924">noError</span><span class="op" id="8437931">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8437935">`{{range&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="8437962">}</span><span class="op" id="8437963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437966">{</span><span class="string" id="8437967">&#34;range&nbsp;1&nbsp;var&#34;</span><span class="op" id="8437980">,</span>&nbsp;<span class="string" id="8437982">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="8438015">,</span>&nbsp;<span class="ident" id="8438017">noError</span><span class="op" id="8438024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8438028">`{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="8438061">}</span><span class="op" id="8438062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438065">{</span><span class="string" id="8438066">&#34;range&nbsp;2&nbsp;vars&#34;</span><span class="op" id="8438080">,</span>&nbsp;<span class="string" id="8438082">&#34;{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="8438119">,</span>&nbsp;<span class="ident" id="8438121">noError</span><span class="op" id="8438128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8438132">`{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="8438169">}</span><span class="op" id="8438170">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438173">{</span><span class="string" id="8438174">&#34;constants&#34;</span><span class="op" id="8438185">,</span>&nbsp;<span class="string" id="8438187">&#34;{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}&#34;</span><span class="op" id="8438236">,</span>&nbsp;<span class="ident" id="8438238">noError</span><span class="op" id="8438245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8438249">`{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}`</span><span class="op" id="8438298">}</span><span class="op" id="8438299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438302">{</span><span class="string" id="8438303">&#34;template&#34;</span><span class="op" id="8438313">,</span>&nbsp;<span class="string" id="8438315">&#34;{{template&nbsp;`x`}}&#34;</span><span class="op" id="8438333">,</span>&nbsp;<span class="ident" id="8438335">noError</span><span class="op" id="8438342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8438346">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="8438364">}</span><span class="op" id="8438365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438368">{</span><span class="string" id="8438369">&#34;template&nbsp;with&nbsp;arg&#34;</span><span class="op" id="8438388">,</span>&nbsp;<span class="string" id="8438390">&#34;{{template&nbsp;`x`&nbsp;.Y}}&#34;</span><span class="op" id="8438411">,</span>&nbsp;<span class="ident" id="8438413">noError</span><span class="op" id="8438420">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8438424">`{{template&nbsp;&#34;x&#34;&nbsp;.Y}}`</span><span class="op" id="8438445">}</span><span class="op" id="8438446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438449">{</span><span class="string" id="8438450">&#34;with&#34;</span><span class="op" id="8438456">,</span>&nbsp;<span class="string" id="8438458">&#34;{{with&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="8438483">,</span>&nbsp;<span class="ident" id="8438485">noError</span><span class="op" id="8438492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8438496">`{{with&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="8438523">}</span><span class="op" id="8438524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438527">{</span><span class="string" id="8438528">&#34;with&nbsp;with&nbsp;else&#34;</span><span class="op" id="8438544">,</span>&nbsp;<span class="string" id="8438546">&#34;{{with&nbsp;.X}}hello{{else}}goodbye{{end}}&#34;</span><span class="op" id="8438586">,</span>&nbsp;<span class="ident" id="8438588">noError</span><span class="op" id="8438595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8438599">`{{with&nbsp;.X}}&#34;hello&#34;{{else}}&#34;goodbye&#34;{{end}}`</span><span class="op" id="8438643">}</span><span class="op" id="8438644">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8438647">//&nbsp;Errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438659">{</span><span class="string" id="8438660">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="8438677">,</span>&nbsp;<span class="string" id="8438679">&#34;hello{{range&#34;</span><span class="op" id="8438693">,</span>&nbsp;<span class="ident" id="8438695">hasError</span><span class="op" id="8438703">,</span>&nbsp;<span class="string" id="8438705">&#34;&#34;</span><span class="op" id="8438707">}</span><span class="op" id="8438708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438711">{</span><span class="string" id="8438712">&#34;unmatched&nbsp;end&#34;</span><span class="op" id="8438727">,</span>&nbsp;<span class="string" id="8438729">&#34;{{end}}&#34;</span><span class="op" id="8438738">,</span>&nbsp;<span class="ident" id="8438740">hasError</span><span class="op" id="8438748">,</span>&nbsp;<span class="string" id="8438750">&#34;&#34;</span><span class="op" id="8438752">}</span><span class="op" id="8438753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438756">{</span><span class="string" id="8438757">&#34;missing&nbsp;end&#34;</span><span class="op" id="8438770">,</span>&nbsp;<span class="string" id="8438772">&#34;hello{{range&nbsp;.x}}&#34;</span><span class="op" id="8438791">,</span>&nbsp;<span class="ident" id="8438793">hasError</span><span class="op" id="8438801">,</span>&nbsp;<span class="string" id="8438803">&#34;&#34;</span><span class="op" id="8438805">}</span><span class="op" id="8438806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438809">{</span><span class="string" id="8438810">&#34;missing&nbsp;end&nbsp;after&nbsp;else&#34;</span><span class="op" id="8438834">,</span>&nbsp;<span class="string" id="8438836">&#34;hello{{range&nbsp;.x}}{{else}}&#34;</span><span class="op" id="8438863">,</span>&nbsp;<span class="ident" id="8438865">hasError</span><span class="op" id="8438873">,</span>&nbsp;<span class="string" id="8438875">&#34;&#34;</span><span class="op" id="8438877">}</span><span class="op" id="8438878">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438881">{</span><span class="string" id="8438882">&#34;undefined&nbsp;function&#34;</span><span class="op" id="8438902">,</span>&nbsp;<span class="string" id="8438904">&#34;hello{{undefined}}&#34;</span><span class="op" id="8438924">,</span>&nbsp;<span class="ident" id="8438926">hasError</span><span class="op" id="8438934">,</span>&nbsp;<span class="string" id="8438936">&#34;&#34;</span><span class="op" id="8438938">}</span><span class="op" id="8438939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438942">{</span><span class="string" id="8438943">&#34;undefined&nbsp;variable&#34;</span><span class="op" id="8438963">,</span>&nbsp;<span class="string" id="8438965">&#34;{{$x}}&#34;</span><span class="op" id="8438973">,</span>&nbsp;<span class="ident" id="8438975">hasError</span><span class="op" id="8438983">,</span>&nbsp;<span class="string" id="8438985">&#34;&#34;</span><span class="op" id="8438987">}</span><span class="op" id="8438988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438991">{</span><span class="string" id="8438992">&#34;variable&nbsp;undefined&nbsp;after&nbsp;end&#34;</span><span class="op" id="8439022">,</span>&nbsp;<span class="string" id="8439024">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;4}}{{end}}{{$x}}&#34;</span><span class="op" id="8439055">,</span>&nbsp;<span class="ident" id="8439057">hasError</span><span class="op" id="8439065">,</span>&nbsp;<span class="string" id="8439067">&#34;&#34;</span><span class="op" id="8439069">}</span><span class="op" id="8439070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439073">{</span><span class="string" id="8439074">&#34;variable&nbsp;undefined&nbsp;in&nbsp;template&#34;</span><span class="op" id="8439106">,</span>&nbsp;<span class="string" id="8439108">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="8439125">,</span>&nbsp;<span class="ident" id="8439127">hasError</span><span class="op" id="8439135">,</span>&nbsp;<span class="string" id="8439137">&#34;&#34;</span><span class="op" id="8439139">}</span><span class="op" id="8439140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439143">{</span><span class="string" id="8439144">&#34;declare&nbsp;with&nbsp;field&#34;</span><span class="op" id="8439164">,</span>&nbsp;<span class="string" id="8439166">&#34;{{with&nbsp;$x.Y&nbsp;:=&nbsp;4}}{{end}}&#34;</span><span class="op" id="8439193">,</span>&nbsp;<span class="ident" id="8439195">hasError</span><span class="op" id="8439203">,</span>&nbsp;<span class="string" id="8439205">&#34;&#34;</span><span class="op" id="8439207">}</span><span class="op" id="8439208">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439211">{</span><span class="string" id="8439212">&#34;template&nbsp;with&nbsp;field&nbsp;ref&#34;</span><span class="op" id="8439237">,</span>&nbsp;<span class="string" id="8439239">&#34;{{template&nbsp;.X}}&#34;</span><span class="op" id="8439256">,</span>&nbsp;<span class="ident" id="8439258">hasError</span><span class="op" id="8439266">,</span>&nbsp;<span class="string" id="8439268">&#34;&#34;</span><span class="op" id="8439270">}</span><span class="op" id="8439271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439274">{</span><span class="string" id="8439275">&#34;template&nbsp;with&nbsp;var&#34;</span><span class="op" id="8439294">,</span>&nbsp;<span class="string" id="8439296">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="8439313">,</span>&nbsp;<span class="ident" id="8439315">hasError</span><span class="op" id="8439323">,</span>&nbsp;<span class="string" id="8439325">&#34;&#34;</span><span class="op" id="8439327">}</span><span class="op" id="8439328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439331">{</span><span class="string" id="8439332">&#34;invalid&nbsp;punctuation&#34;</span><span class="op" id="8439353">,</span>&nbsp;<span class="string" id="8439355">&#34;{{printf&nbsp;3,&nbsp;4}}&#34;</span><span class="op" id="8439372">,</span>&nbsp;<span class="ident" id="8439374">hasError</span><span class="op" id="8439382">,</span>&nbsp;<span class="string" id="8439384">&#34;&#34;</span><span class="op" id="8439386">}</span><span class="op" id="8439387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439390">{</span><span class="string" id="8439391">&#34;multidecl&nbsp;outside&nbsp;range&#34;</span><span class="op" id="8439416">,</span>&nbsp;<span class="string" id="8439418">&#34;{{with&nbsp;$v,&nbsp;$u&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="8439447">,</span>&nbsp;<span class="ident" id="8439449">hasError</span><span class="op" id="8439457">,</span>&nbsp;<span class="string" id="8439459">&#34;&#34;</span><span class="op" id="8439461">}</span><span class="op" id="8439462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439465">{</span><span class="string" id="8439466">&#34;too&nbsp;many&nbsp;decls&nbsp;in&nbsp;range&#34;</span><span class="op" id="8439491">,</span>&nbsp;<span class="string" id="8439493">&#34;{{range&nbsp;$u,&nbsp;$v,&nbsp;$w&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="8439527">,</span>&nbsp;<span class="ident" id="8439529">hasError</span><span class="op" id="8439537">,</span>&nbsp;<span class="string" id="8439539">&#34;&#34;</span><span class="op" id="8439541">}</span><span class="op" id="8439542">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439545">{</span><span class="string" id="8439546">&#34;dot&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="8439574">,</span>&nbsp;<span class="string" id="8439576">&#34;{{printf&nbsp;(printf&nbsp;.).}}&#34;</span><span class="op" id="8439600">,</span>&nbsp;<span class="ident" id="8439602">hasError</span><span class="op" id="8439610">,</span>&nbsp;<span class="string" id="8439612">&#34;&#34;</span><span class="op" id="8439614">}</span><span class="op" id="8439615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439618">{</span><span class="string" id="8439619">&#34;adjacent&nbsp;args&#34;</span><span class="op" id="8439634">,</span>&nbsp;<span class="string" id="8439636">&#34;{{printf&nbsp;3`x`}}&#34;</span><span class="op" id="8439653">,</span>&nbsp;<span class="ident" id="8439655">hasError</span><span class="op" id="8439663">,</span>&nbsp;<span class="string" id="8439665">&#34;&#34;</span><span class="op" id="8439667">}</span><span class="op" id="8439668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439671">{</span><span class="string" id="8439672">&#34;adjacent&nbsp;args&nbsp;with&nbsp;.&#34;</span><span class="op" id="8439694">,</span>&nbsp;<span class="string" id="8439696">&#34;{{printf&nbsp;`x`.}}&#34;</span><span class="op" id="8439713">,</span>&nbsp;<span class="ident" id="8439715">hasError</span><span class="op" id="8439723">,</span>&nbsp;<span class="string" id="8439725">&#34;&#34;</span><span class="op" id="8439727">}</span><span class="op" id="8439728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439731">{</span><span class="string" id="8439732">&#34;extra&nbsp;end&nbsp;after&nbsp;if&#34;</span><span class="op" id="8439752">,</span>&nbsp;<span class="string" id="8439754">&#34;{{if&nbsp;.X}}a{{else&nbsp;if&nbsp;.Y}}b{{end}}{{end}}&#34;</span><span class="op" id="8439795">,</span>&nbsp;<span class="ident" id="8439797">hasError</span><span class="op" id="8439805">,</span>&nbsp;<span class="string" id="8439807">&#34;&#34;</span><span class="op" id="8439809">}</span><span class="op" id="8439810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8439813">//&nbsp;Equals&nbsp;(and&nbsp;other&nbsp;chars)&nbsp;do&nbsp;not&nbsp;assignments&nbsp;make&nbsp;(yet).</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439873">{</span><span class="string" id="8439874">&#34;bug0a&#34;</span><span class="op" id="8439881">,</span>&nbsp;<span class="string" id="8439883">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="8439902">,</span>&nbsp;<span class="ident" id="8439904">noError</span><span class="op" id="8439911">,</span>&nbsp;<span class="string" id="8439913">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="8439932">}</span><span class="op" id="8439933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439936">{</span><span class="string" id="8439937">&#34;bug0b&#34;</span><span class="op" id="8439944">,</span>&nbsp;<span class="string" id="8439946">&#34;{{$x&nbsp;=&nbsp;1}}{{$x}}&#34;</span><span class="op" id="8439964">,</span>&nbsp;<span class="ident" id="8439966">hasError</span><span class="op" id="8439974">,</span>&nbsp;<span class="string" id="8439976">&#34;&#34;</span><span class="op" id="8439978">}</span><span class="op" id="8439979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439982">{</span><span class="string" id="8439983">&#34;bug0c&#34;</span><span class="op" id="8439990">,</span>&nbsp;<span class="string" id="8439992">&#34;{{$x&nbsp;!&nbsp;2}}{{$x}}&#34;</span><span class="op" id="8440010">,</span>&nbsp;<span class="ident" id="8440012">hasError</span><span class="op" id="8440020">,</span>&nbsp;<span class="string" id="8440022">&#34;&#34;</span><span class="op" id="8440024">}</span><span class="op" id="8440025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440028">{</span><span class="string" id="8440029">&#34;bug0d&#34;</span><span class="op" id="8440036">,</span>&nbsp;<span class="string" id="8440038">&#34;{{$x&nbsp;%&nbsp;3}}{{$x}}&#34;</span><span class="op" id="8440056">,</span>&nbsp;<span class="ident" id="8440058">hasError</span><span class="op" id="8440066">,</span>&nbsp;<span class="string" id="8440068">&#34;&#34;</span><span class="op" id="8440070">}</span><span class="op" id="8440071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8440074">//&nbsp;Check&nbsp;the&nbsp;parse&nbsp;fails&nbsp;for&nbsp;:=&nbsp;rather&nbsp;than&nbsp;comma.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440126">{</span><span class="string" id="8440127">&#34;bug0e&#34;</span><span class="op" id="8440134">,</span>&nbsp;<span class="string" id="8440136">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;$y&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="8440168">,</span>&nbsp;<span class="ident" id="8440170">hasError</span><span class="op" id="8440178">,</span>&nbsp;<span class="string" id="8440180">&#34;&#34;</span><span class="op" id="8440182">}</span><span class="op" id="8440183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8440186">//&nbsp;Another&nbsp;bug:&nbsp;variable&nbsp;read&nbsp;must&nbsp;ignore&nbsp;following&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440252">{</span><span class="string" id="8440253">&#34;bug1a&#34;</span><span class="op" id="8440260">,</span>&nbsp;<span class="string" id="8440262">&#34;{{$x:=.}}{{$x!2}}&#34;</span><span class="op" id="8440281">,</span>&nbsp;<span class="ident" id="8440283">hasError</span><span class="op" id="8440291">,</span>&nbsp;<span class="string" id="8440293">&#34;&#34;</span><span class="op" id="8440295">}</span><span class="op" id="8440296">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8440318">//&nbsp;!&nbsp;is&nbsp;just&nbsp;illegal&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440346">{</span><span class="string" id="8440347">&#34;bug1b&#34;</span><span class="op" id="8440354">,</span>&nbsp;<span class="string" id="8440356">&#34;{{$x:=.}}{{$x+2}}&#34;</span><span class="op" id="8440375">,</span>&nbsp;<span class="ident" id="8440377">hasError</span><span class="op" id="8440385">,</span>&nbsp;<span class="string" id="8440387">&#34;&#34;</span><span class="op" id="8440389">}</span><span class="op" id="8440390">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8440412">//&nbsp;$x+2&nbsp;should&nbsp;not&nbsp;parse&nbsp;as&nbsp;($x)&nbsp;(+2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440452">{</span><span class="string" id="8440453">&#34;bug1c&#34;</span><span class="op" id="8440460">,</span>&nbsp;<span class="string" id="8440462">&#34;{{$x:=.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="8440482">,</span>&nbsp;<span class="ident" id="8440484">noError</span><span class="op" id="8440491">,</span>&nbsp;<span class="string" id="8440493">&#34;{{$x&nbsp;:=&nbsp;.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="8440515">}</span><span class="op" id="8440516">,</span>&nbsp;<span class="comment" id="8440518">//&nbsp;It&#39;s&nbsp;OK&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">260</span><span class="op" id="8440543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8440546">var</span>&nbsp;<span class="ident" id="8440550">builtins</span>&nbsp;<span class="op" id="8440559">=</span>&nbsp;<span class="keyword" id="8440561">map</span><span class="op" id="8440564">[</span><span class="builtintype" id="8440565">string</span><span class="op" id="8440571">]</span><span class="keyword" id="8440572">interface</span><span class="op" id="8440581">{</span><span class="op" id="8440582">}</span><span class="op" id="8440583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8440586">&#34;printf&#34;</span><span class="op" id="8440594">:</span>&nbsp;<span class="ident" id="8440596">fmt</span><span class="op" id="8440599">.</span><span class="ident" id="8440600">Sprintf</span><span class="op" id="8440607">,</span><br>
<span class="lineno"></span><span class="op" id="8440609">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="8440612">func</span>&nbsp;<span class="ident" id="8440617">testParse</span><span class="op" id="8440626">(</span><span class="ident" id="8440627">doCopy</span>&nbsp;<span class="builtintype" id="8440634">bool</span><span class="op" id="8440638">,</span>&nbsp;<span class="ident" id="8440640">t</span>&nbsp;<span class="op" id="8440642">*</span><span class="ident" id="8440643">testing</span><span class="op" id="8440650">.</span><span class="ident" id="8440651">T</span><span class="op" id="8440652">)</span>&nbsp;<span class="op" id="8440654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440657">textFormat</span>&nbsp;<span class="op" id="8440668">=</span>&nbsp;<span class="string" id="8440670">&#34;%q&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8440676">defer</span>&nbsp;<span class="keyword" id="8440682">func</span><span class="op" id="8440686">(</span><span class="op" id="8440687">)</span>&nbsp;<span class="op" id="8440689">{</span>&nbsp;<span class="ident" id="8440691">textFormat</span>&nbsp;<span class="op" id="8440702">=</span>&nbsp;<span class="string" id="8440704">&#34;%s&#34;</span>&nbsp;<span class="op" id="8440709">}</span><span class="op" id="8440710">(</span><span class="op" id="8440711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8440714">for</span>&nbsp;<span class="ident" id="8440718">_</span><span class="op" id="8440719">,</span>&nbsp;<span class="ident" id="8440721">test</span>&nbsp;<span class="op" id="8440726">:=</span>&nbsp;<span class="keyword" id="8440729">range</span>&nbsp;<span class="ident" id="8440735">parseTests</span>&nbsp;<span class="op" id="8440746">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440750">tmpl</span><span class="op" id="8440754">,</span>&nbsp;<span class="ident" id="8440756">err</span>&nbsp;<span class="op" id="8440760">:=</span>&nbsp;<span class="ident" id="8440763">New</span><span class="op" id="8440766">(</span><span class="ident" id="8440767">test</span><span class="op" id="8440771">.</span><span class="ident" id="8440772">name</span><span class="op" id="8440776">)</span><span class="op" id="8440777">.</span><span class="ident" id="8440778">Parse</span><span class="op" id="8440783">(</span><span class="ident" id="8440784">test</span><span class="op" id="8440788">.</span><span class="ident" id="8440789">input</span><span class="op" id="8440794">,</span>&nbsp;<span class="string" id="8440796">&#34;&#34;</span><span class="op" id="8440798">,</span>&nbsp;<span class="string" id="8440800">&#34;&#34;</span><span class="op" id="8440802">,</span>&nbsp;<span class="builtinfunc" id="8440804">make</span><span class="op" id="8440808">(</span><span class="keyword" id="8440809">map</span><span class="op" id="8440812">[</span><span class="builtintype" id="8440813">string</span><span class="op" id="8440819">]</span><span class="op" id="8440820">*</span><span class="ident" id="8440821">Tree</span><span class="op" id="8440825">)</span><span class="op" id="8440826">,</span>&nbsp;<span class="ident" id="8440828">builtins</span><span class="op" id="8440836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8440840">switch</span>&nbsp;<span class="op" id="8440847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8440851">case</span>&nbsp;<span class="ident" id="8440856">err</span>&nbsp;<span class="op" id="8440860">==</span>&nbsp;<span class="ident" id="8440863">nil</span>&nbsp;<span class="op" id="8440867">&amp;&amp;</span>&nbsp;<span class="op" id="8440870">!</span><span class="ident" id="8440871">test</span><span class="op" id="8440875">.</span><span class="ident" id="8440876">ok</span><span class="op" id="8440878">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440883">t</span><span class="op" id="8440884">.</span><span class="ident" id="8440885">Errorf</span><span class="op" id="8440891">(</span><span class="string" id="8440892">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8440922">,</span>&nbsp;<span class="ident" id="8440924">test</span><span class="op" id="8440928">.</span><span class="ident" id="8440929">name</span><span class="op" id="8440933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8440938">continue</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8440949">case</span>&nbsp;<span class="ident" id="8440954">err</span>&nbsp;<span class="op" id="8440958">!=</span>&nbsp;<span class="ident" id="8440961">nil</span>&nbsp;<span class="op" id="8440965">&amp;&amp;</span>&nbsp;<span class="ident" id="8440968">test</span><span class="op" id="8440972">.</span><span class="ident" id="8440973">ok</span><span class="op" id="8440975">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440980">t</span><span class="op" id="8440981">.</span><span class="ident" id="8440982">Errorf</span><span class="op" id="8440988">(</span><span class="string" id="8440989">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8441015">,</span>&nbsp;<span class="ident" id="8441017">test</span><span class="op" id="8441021">.</span><span class="ident" id="8441022">name</span><span class="op" id="8441026">,</span>&nbsp;<span class="ident" id="8441028">err</span><span class="op" id="8441031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8441036">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8441047">case</span>&nbsp;<span class="ident" id="8441052">err</span>&nbsp;<span class="op" id="8441056">!=</span>&nbsp;<span class="ident" id="8441059">nil</span>&nbsp;<span class="op" id="8441063">&amp;&amp;</span>&nbsp;<span class="op" id="8441066">!</span><span class="ident" id="8441067">test</span><span class="op" id="8441071">.</span><span class="ident" id="8441072">ok</span><span class="op" id="8441074">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8441079">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8441109">if</span>&nbsp;<span class="op" id="8441112">*</span><span class="ident" id="8441113">debug</span>&nbsp;<span class="op" id="8441119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441125">fmt</span><span class="op" id="8441128">.</span><span class="ident" id="8441129">Printf</span><span class="op" id="8441135">(</span><span class="string" id="8441136">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="8441152">,</span>&nbsp;<span class="ident" id="8441154">test</span><span class="op" id="8441158">.</span><span class="ident" id="8441159">name</span><span class="op" id="8441163">,</span>&nbsp;<span class="ident" id="8441165">test</span><span class="op" id="8441169">.</span><span class="ident" id="8441170">input</span><span class="op" id="8441175">,</span>&nbsp;<span class="ident" id="8441177">err</span><span class="op" id="8441180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8441190">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441201">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8441205">var</span>&nbsp;<span class="ident" id="8441209">result</span>&nbsp;<span class="builtintype" id="8441216">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8441225">if</span>&nbsp;<span class="ident" id="8441228">doCopy</span>&nbsp;<span class="op" id="8441235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441240">result</span>&nbsp;<span class="op" id="8441247">=</span>&nbsp;<span class="ident" id="8441249">tmpl</span><span class="op" id="8441253">.</span><span class="ident" id="8441254">Root</span><span class="op" id="8441258">.</span><span class="ident" id="8441259">Copy</span><span class="op" id="8441263">(</span><span class="op" id="8441264">)</span><span class="op" id="8441265">.</span><span class="ident" id="8441266">String</span><span class="op" id="8441272">(</span><span class="op" id="8441273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441277">}</span>&nbsp;<span class="keyword" id="8441279">else</span>&nbsp;<span class="op" id="8441284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441289">result</span>&nbsp;<span class="op" id="8441296">=</span>&nbsp;<span class="ident" id="8441298">tmpl</span><span class="op" id="8441302">.</span><span class="ident" id="8441303">Root</span><span class="op" id="8441307">.</span><span class="ident" id="8441308">String</span><span class="op" id="8441314">(</span><span class="op" id="8441315">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8441323">if</span>&nbsp;<span class="ident" id="8441326">result</span>&nbsp;<span class="op" id="8441333">!=</span>&nbsp;<span class="ident" id="8441336">test</span><span class="op" id="8441340">.</span><span class="ident" id="8441341">result</span>&nbsp;<span class="op" id="8441348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441353">t</span><span class="op" id="8441354">.</span><span class="ident" id="8441355">Errorf</span><span class="op" id="8441361">(</span><span class="string" id="8441362">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="8441398">,</span>&nbsp;<span class="ident" id="8441400">test</span><span class="op" id="8441404">.</span><span class="ident" id="8441405">name</span><span class="op" id="8441409">,</span>&nbsp;<span class="ident" id="8441411">test</span><span class="op" id="8441415">.</span><span class="ident" id="8441416">input</span><span class="op" id="8441421">,</span>&nbsp;<span class="ident" id="8441423">result</span><span class="op" id="8441429">,</span>&nbsp;<span class="ident" id="8441431">test</span><span class="op" id="8441435">.</span><span class="ident" id="8441436">result</span><span class="op" id="8441442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441449">}</span><br>
<span class="lineno">295</span><span class="op" id="8441451">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8441454">func</span>&nbsp;<span class="ident" id="8441459">TestParse</span><span class="op" id="8441468">(</span><span class="ident" id="8441469">t</span>&nbsp;<span class="op" id="8441471">*</span><span class="ident" id="8441472">testing</span><span class="op" id="8441479">.</span><span class="ident" id="8441480">T</span><span class="op" id="8441481">)</span>&nbsp;<span class="op" id="8441483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441486">testParse</span><span class="op" id="8441495">(</span><span class="ident" id="8441496">false</span><span class="op" id="8441501">,</span>&nbsp;<span class="ident" id="8441503">t</span><span class="op" id="8441504">)</span><br>
<span class="lineno"></span><span class="op" id="8441506">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="8441509">//&nbsp;Same&nbsp;as&nbsp;TestParse,&nbsp;but&nbsp;we&nbsp;copy&nbsp;the&nbsp;node&nbsp;first</span><br>
<span class="lineno"></span><span class="keyword" id="8441558">func</span>&nbsp;<span class="ident" id="8441563">TestParseCopy</span><span class="op" id="8441576">(</span><span class="ident" id="8441577">t</span>&nbsp;<span class="op" id="8441579">*</span><span class="ident" id="8441580">testing</span><span class="op" id="8441587">.</span><span class="ident" id="8441588">T</span><span class="op" id="8441589">)</span>&nbsp;<span class="op" id="8441591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441594">testParse</span><span class="op" id="8441603">(</span><span class="ident" id="8441604">true</span><span class="op" id="8441608">,</span>&nbsp;<span class="ident" id="8441610">t</span><span class="op" id="8441611">)</span><br>
<span class="lineno"></span><span class="op" id="8441613">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="8441616">type</span>&nbsp;<span class="ident" id="8441621">isEmptyTest</span>&nbsp;<span class="keyword" id="8441633">struct</span>&nbsp;<span class="op" id="8441640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441643">name</span>&nbsp;&nbsp;<span class="builtintype" id="8441649">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441657">input</span>&nbsp;<span class="builtintype" id="8441663">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441671">empty</span>&nbsp;<span class="builtintype" id="8441677">bool</span><br>
<span class="lineno">310</span><span class="op" id="8441682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8441685">var</span>&nbsp;<span class="ident" id="8441689">isEmptyTests</span>&nbsp;<span class="op" id="8441702">=</span>&nbsp;<span class="op" id="8441704">[</span><span class="op" id="8441705">]</span><span class="ident" id="8441706">isEmptyTest</span><span class="op" id="8441717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441720">{</span><span class="string" id="8441721">&#34;empty&#34;</span><span class="op" id="8441728">,</span>&nbsp;<span class="string" id="8441730">``</span><span class="op" id="8441732">,</span>&nbsp;<span class="ident" id="8441734">true</span><span class="op" id="8441738">}</span><span class="op" id="8441739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441742">{</span><span class="string" id="8441743">&#34;nonempty&#34;</span><span class="op" id="8441753">,</span>&nbsp;<span class="string" id="8441755">`hello`</span><span class="op" id="8441762">,</span>&nbsp;<span class="ident" id="8441764">false</span><span class="op" id="8441769">}</span><span class="op" id="8441770">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441773">{</span><span class="string" id="8441774">&#34;spaces&nbsp;only&#34;</span><span class="op" id="8441787">,</span>&nbsp;<span class="string" id="8441789">&#34;&nbsp;\t\n&nbsp;\t\n&#34;</span><span class="op" id="8441801">,</span>&nbsp;<span class="ident" id="8441803">true</span><span class="op" id="8441807">}</span><span class="op" id="8441808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441811">{</span><span class="string" id="8441812">&#34;definition&#34;</span><span class="op" id="8441824">,</span>&nbsp;<span class="string" id="8441826">`{{define&nbsp;&#34;x&#34;}}something{{end}}`</span><span class="op" id="8441858">,</span>&nbsp;<span class="ident" id="8441860">true</span><span class="op" id="8441864">}</span><span class="op" id="8441865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441868">{</span><span class="string" id="8441869">&#34;definitions&nbsp;and&nbsp;space&#34;</span><span class="op" id="8441892">,</span>&nbsp;<span class="string" id="8441894">&#34;{{define&nbsp;`x`}}something{{end}}\n\n{{define&nbsp;`y`}}something{{end}}\n\n&#34;</span><span class="op" id="8441964">,</span>&nbsp;<span class="ident" id="8441966">true</span><span class="op" id="8441970">}</span><span class="op" id="8441971">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441974">{</span><span class="string" id="8441975">&#34;definitions&nbsp;and&nbsp;text&#34;</span><span class="op" id="8441997">,</span>&nbsp;<span class="string" id="8441999">&#34;{{define&nbsp;`x`}}something{{end}}\nx\n{{define&nbsp;`y`}}something{{end}}\ny\n&#34;</span><span class="op" id="8442071">,</span>&nbsp;<span class="ident" id="8442073">false</span><span class="op" id="8442078">}</span><span class="op" id="8442079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442082">{</span><span class="string" id="8442083">&#34;definition&nbsp;and&nbsp;action&#34;</span><span class="op" id="8442106">,</span>&nbsp;<span class="string" id="8442108">&#34;{{define&nbsp;`x`}}something{{end}}{{if&nbsp;3}}foo{{end}}&#34;</span><span class="op" id="8442158">,</span>&nbsp;<span class="ident" id="8442160">false</span><span class="op" id="8442165">}</span><span class="op" id="8442166">,</span><br>
<span class="lineno">320</span><span class="op" id="8442168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8442171">func</span>&nbsp;<span class="ident" id="8442176">TestIsEmpty</span><span class="op" id="8442187">(</span><span class="ident" id="8442188">t</span>&nbsp;<span class="op" id="8442190">*</span><span class="ident" id="8442191">testing</span><span class="op" id="8442198">.</span><span class="ident" id="8442199">T</span><span class="op" id="8442200">)</span>&nbsp;<span class="op" id="8442202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8442205">if</span>&nbsp;<span class="op" id="8442208">!</span><span class="ident" id="8442209">IsEmptyTree</span><span class="op" id="8442220">(</span><span class="ident" id="8442221">nil</span><span class="op" id="8442224">)</span>&nbsp;<span class="op" id="8442226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442230">t</span><span class="op" id="8442231">.</span><span class="ident" id="8442232">Errorf</span><span class="op" id="8442238">(</span><span class="string" id="8442239">&#34;nil&nbsp;tree&nbsp;is&nbsp;not&nbsp;empty&#34;</span><span class="op" id="8442262">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442265">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8442268">for</span>&nbsp;<span class="ident" id="8442272">_</span><span class="op" id="8442273">,</span>&nbsp;<span class="ident" id="8442275">test</span>&nbsp;<span class="op" id="8442280">:=</span>&nbsp;<span class="keyword" id="8442283">range</span>&nbsp;<span class="ident" id="8442289">isEmptyTests</span>&nbsp;<span class="op" id="8442302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442306">tree</span><span class="op" id="8442310">,</span>&nbsp;<span class="ident" id="8442312">err</span>&nbsp;<span class="op" id="8442316">:=</span>&nbsp;<span class="ident" id="8442319">New</span><span class="op" id="8442322">(</span><span class="string" id="8442323">&#34;root&#34;</span><span class="op" id="8442329">)</span><span class="op" id="8442330">.</span><span class="ident" id="8442331">Parse</span><span class="op" id="8442336">(</span><span class="ident" id="8442337">test</span><span class="op" id="8442341">.</span><span class="ident" id="8442342">input</span><span class="op" id="8442347">,</span>&nbsp;<span class="string" id="8442349">&#34;&#34;</span><span class="op" id="8442351">,</span>&nbsp;<span class="string" id="8442353">&#34;&#34;</span><span class="op" id="8442355">,</span>&nbsp;<span class="builtinfunc" id="8442357">make</span><span class="op" id="8442361">(</span><span class="keyword" id="8442362">map</span><span class="op" id="8442365">[</span><span class="builtintype" id="8442366">string</span><span class="op" id="8442372">]</span><span class="op" id="8442373">*</span><span class="ident" id="8442374">Tree</span><span class="op" id="8442378">)</span><span class="op" id="8442379">,</span>&nbsp;<span class="ident" id="8442381">nil</span><span class="op" id="8442384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8442388">if</span>&nbsp;<span class="ident" id="8442391">err</span>&nbsp;<span class="op" id="8442395">!=</span>&nbsp;<span class="ident" id="8442398">nil</span>&nbsp;<span class="op" id="8442402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442407">t</span><span class="op" id="8442408">.</span><span class="ident" id="8442409">Errorf</span><span class="op" id="8442415">(</span><span class="string" id="8442416">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8442442">,</span>&nbsp;<span class="ident" id="8442444">test</span><span class="op" id="8442448">.</span><span class="ident" id="8442449">name</span><span class="op" id="8442453">,</span>&nbsp;<span class="ident" id="8442455">err</span><span class="op" id="8442458">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8442463">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442474">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8442478">if</span>&nbsp;<span class="ident" id="8442481">empty</span>&nbsp;<span class="op" id="8442487">:=</span>&nbsp;<span class="ident" id="8442490">IsEmptyTree</span><span class="op" id="8442501">(</span><span class="ident" id="8442502">tree</span><span class="op" id="8442506">.</span><span class="ident" id="8442507">Root</span><span class="op" id="8442511">)</span><span class="op" id="8442512">;</span>&nbsp;<span class="ident" id="8442514">empty</span>&nbsp;<span class="op" id="8442520">!=</span>&nbsp;<span class="ident" id="8442523">test</span><span class="op" id="8442527">.</span><span class="ident" id="8442528">empty</span>&nbsp;<span class="op" id="8442534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442539">t</span><span class="op" id="8442540">.</span><span class="ident" id="8442541">Errorf</span><span class="op" id="8442547">(</span><span class="string" id="8442548">&#34;%q:&nbsp;expected&nbsp;%t&nbsp;got&nbsp;%t&#34;</span><span class="op" id="8442572">,</span>&nbsp;<span class="ident" id="8442574">test</span><span class="op" id="8442578">.</span><span class="ident" id="8442579">name</span><span class="op" id="8442583">,</span>&nbsp;<span class="ident" id="8442585">test</span><span class="op" id="8442589">.</span><span class="ident" id="8442590">empty</span><span class="op" id="8442595">,</span>&nbsp;<span class="ident" id="8442597">empty</span><span class="op" id="8442602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442606">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442609">}</span><br>
<span class="lineno"></span><span class="op" id="8442611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8442614">func</span>&nbsp;<span class="ident" id="8442619">TestErrorContextWithTreeCopy</span><span class="op" id="8442647">(</span><span class="ident" id="8442648">t</span>&nbsp;<span class="op" id="8442650">*</span><span class="ident" id="8442651">testing</span><span class="op" id="8442658">.</span><span class="ident" id="8442659">T</span><span class="op" id="8442660">)</span>&nbsp;<span class="op" id="8442662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442665">tree</span><span class="op" id="8442669">,</span>&nbsp;<span class="ident" id="8442671">err</span>&nbsp;<span class="op" id="8442675">:=</span>&nbsp;<span class="ident" id="8442678">New</span><span class="op" id="8442681">(</span><span class="string" id="8442682">&#34;root&#34;</span><span class="op" id="8442688">)</span><span class="op" id="8442689">.</span><span class="ident" id="8442690">Parse</span><span class="op" id="8442695">(</span><span class="string" id="8442696">&#34;{{if&nbsp;true}}{{end}}&#34;</span><span class="op" id="8442716">,</span>&nbsp;<span class="string" id="8442718">&#34;&#34;</span><span class="op" id="8442720">,</span>&nbsp;<span class="string" id="8442722">&#34;&#34;</span><span class="op" id="8442724">,</span>&nbsp;<span class="builtinfunc" id="8442726">make</span><span class="op" id="8442730">(</span><span class="keyword" id="8442731">map</span><span class="op" id="8442734">[</span><span class="builtintype" id="8442735">string</span><span class="op" id="8442741">]</span><span class="op" id="8442742">*</span><span class="ident" id="8442743">Tree</span><span class="op" id="8442747">)</span><span class="op" id="8442748">,</span>&nbsp;<span class="ident" id="8442750">nil</span><span class="op" id="8442753">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8442756">if</span>&nbsp;<span class="ident" id="8442759">err</span>&nbsp;<span class="op" id="8442763">!=</span>&nbsp;<span class="ident" id="8442766">nil</span>&nbsp;<span class="op" id="8442770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442774">t</span><span class="op" id="8442775">.</span><span class="ident" id="8442776">Fatalf</span><span class="op" id="8442782">(</span><span class="string" id="8442783">&#34;unexpected&nbsp;tree&nbsp;parse&nbsp;failure:&nbsp;%v&#34;</span><span class="op" id="8442818">,</span>&nbsp;<span class="ident" id="8442820">err</span><span class="op" id="8442823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442829">treeCopy</span>&nbsp;<span class="op" id="8442838">:=</span>&nbsp;<span class="ident" id="8442841">tree</span><span class="op" id="8442845">.</span><span class="ident" id="8442846">Copy</span><span class="op" id="8442850">(</span><span class="op" id="8442851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442854">wantLocation</span><span class="op" id="8442866">,</span>&nbsp;<span class="ident" id="8442868">wantContext</span>&nbsp;<span class="op" id="8442880">:=</span>&nbsp;<span class="ident" id="8442883">tree</span><span class="op" id="8442887">.</span><span class="ident" id="8442888">ErrorContext</span><span class="op" id="8442900">(</span><span class="ident" id="8442901">tree</span><span class="op" id="8442905">.</span><span class="ident" id="8442906">Root</span><span class="op" id="8442910">.</span><span class="ident" id="8442911">Nodes</span><span class="op" id="8442916">[</span><span class="num" id="8442917">0</span><span class="op" id="8442918">]</span><span class="op" id="8442919">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442922">gotLocation</span><span class="op" id="8442933">,</span>&nbsp;<span class="ident" id="8442935">gotContext</span>&nbsp;<span class="op" id="8442946">:=</span>&nbsp;<span class="ident" id="8442949">treeCopy</span><span class="op" id="8442957">.</span><span class="ident" id="8442958">ErrorContext</span><span class="op" id="8442970">(</span><span class="ident" id="8442971">treeCopy</span><span class="op" id="8442979">.</span><span class="ident" id="8442980">Root</span><span class="op" id="8442984">.</span><span class="ident" id="8442985">Nodes</span><span class="op" id="8442990">[</span><span class="num" id="8442991">0</span><span class="op" id="8442992">]</span><span class="op" id="8442993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8442996">if</span>&nbsp;<span class="ident" id="8442999">wantLocation</span>&nbsp;<span class="op" id="8443012">!=</span>&nbsp;<span class="ident" id="8443015">gotLocation</span>&nbsp;<span class="op" id="8443027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443031">t</span><span class="op" id="8443032">.</span><span class="ident" id="8443033">Errorf</span><span class="op" id="8443039">(</span><span class="string" id="8443040">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8443077">,</span>&nbsp;<span class="ident" id="8443079">wantLocation</span><span class="op" id="8443091">,</span>&nbsp;<span class="ident" id="8443093">gotLocation</span><span class="op" id="8443104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8443110">if</span>&nbsp;<span class="ident" id="8443113">wantContext</span>&nbsp;<span class="op" id="8443125">!=</span>&nbsp;<span class="ident" id="8443128">gotContext</span>&nbsp;<span class="op" id="8443139">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443143">t</span><span class="op" id="8443144">.</span><span class="ident" id="8443145">Errorf</span><span class="op" id="8443151">(</span><span class="string" id="8443152">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8443189">,</span>&nbsp;<span class="ident" id="8443191">wantContext</span><span class="op" id="8443202">,</span>&nbsp;<span class="ident" id="8443204">gotContext</span><span class="op" id="8443214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443217">}</span><br>
<span class="lineno"></span><span class="op" id="8443219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8443222">//&nbsp;All&nbsp;failures,&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;must&nbsp;appear&nbsp;in&nbsp;the&nbsp;error&nbsp;message.</span><br>
<span class="lineno">355</span><span class="keyword" id="8443305">var</span>&nbsp;<span class="ident" id="8443309">errorTests</span>&nbsp;<span class="op" id="8443320">=</span>&nbsp;<span class="op" id="8443322">[</span><span class="op" id="8443323">]</span><span class="ident" id="8443324">parseTest</span><span class="op" id="8443333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8443336">//&nbsp;Check&nbsp;line&nbsp;numbers&nbsp;are&nbsp;accurate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443373">{</span><span class="string" id="8443374">&#34;unclosed1&#34;</span><span class="op" id="8443385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8443389">&#34;line1\n{{&#34;</span><span class="op" id="8443400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443404">hasError</span><span class="op" id="8443412">,</span>&nbsp;<span class="string" id="8443414">`unclosed1:2:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="8443466">}</span><span class="op" id="8443467">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443470">{</span><span class="string" id="8443471">&#34;unclosed2&#34;</span><span class="op" id="8443482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8443486">&#34;line1\n{{define&nbsp;`x`}}line2\n{{&#34;</span><span class="op" id="8443518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443522">hasError</span><span class="op" id="8443530">,</span>&nbsp;<span class="string" id="8443532">`unclosed2:3:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="8443584">}</span><span class="op" id="8443585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8443588">//&nbsp;Specific&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443609">{</span><span class="string" id="8443610">&#34;function&#34;</span><span class="op" id="8443620">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8443624">&#34;{{foo}}&#34;</span><span class="op" id="8443633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443637">hasError</span><span class="op" id="8443645">,</span>&nbsp;<span class="string" id="8443647">`function&nbsp;&#34;foo&#34;&nbsp;not&nbsp;defined`</span><span class="op" id="8443675">}</span><span class="op" id="8443676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443679">{</span><span class="string" id="8443680">&#34;comment&#34;</span><span class="op" id="8443689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8443693">&#34;{{/*}}&#34;</span><span class="op" id="8443701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443705">hasError</span><span class="op" id="8443713">,</span>&nbsp;<span class="string" id="8443715">`unclosed&nbsp;comment`</span><span class="op" id="8443733">}</span><span class="op" id="8443734">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443737">{</span><span class="string" id="8443738">&#34;lparen&#34;</span><span class="op" id="8443746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8443750">&#34;{{.X&nbsp;(1&nbsp;2&nbsp;3}}&#34;</span><span class="op" id="8443765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443769">hasError</span><span class="op" id="8443777">,</span>&nbsp;<span class="string" id="8443779">`unclosed&nbsp;left&nbsp;paren`</span><span class="op" id="8443800">}</span><span class="op" id="8443801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443804">{</span><span class="string" id="8443805">&#34;rparen&#34;</span><span class="op" id="8443813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8443817">&#34;{{.X&nbsp;1&nbsp;2&nbsp;3)}}&#34;</span><span class="op" id="8443832">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443836">hasError</span><span class="op" id="8443844">,</span>&nbsp;<span class="string" id="8443846">`unexpected&nbsp;&#34;)&#34;`</span><span class="op" id="8443862">}</span><span class="op" id="8443863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443866">{</span><span class="string" id="8443867">&#34;space&#34;</span><span class="op" id="8443874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8443878">&#34;{{`x`3}}&#34;</span><span class="op" id="8443888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443892">hasError</span><span class="op" id="8443900">,</span>&nbsp;<span class="string" id="8443902">`missing&nbsp;space?`</span><span class="op" id="8443918">}</span><span class="op" id="8443919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443922">{</span><span class="string" id="8443923">&#34;idchar&#34;</span><span class="op" id="8443931">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8443935">&#34;{{a#}}&#34;</span><span class="op" id="8443943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443947">hasError</span><span class="op" id="8443955">,</span>&nbsp;<span class="string" id="8443957">`&#39;#&#39;`</span><span class="op" id="8443962">}</span><span class="op" id="8443963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443966">{</span><span class="string" id="8443967">&#34;charconst&#34;</span><span class="op" id="8443978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8443982">&#34;{{&#39;a}}&#34;</span><span class="op" id="8443990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443994">hasError</span><span class="op" id="8444002">,</span>&nbsp;<span class="string" id="8444004">`unterminated&nbsp;character&nbsp;constant`</span><span class="op" id="8444037">}</span><span class="op" id="8444038">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444041">{</span><span class="string" id="8444042">&#34;stringconst&#34;</span><span class="op" id="8444055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8444059">`{{&#34;a}}`</span><span class="op" id="8444067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444071">hasError</span><span class="op" id="8444079">,</span>&nbsp;<span class="string" id="8444081">`unterminated&nbsp;quoted&nbsp;string`</span><span class="op" id="8444109">}</span><span class="op" id="8444110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444113">{</span><span class="string" id="8444114">&#34;rawstringconst&#34;</span><span class="op" id="8444130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8444134">&#34;{{`a}}&#34;</span><span class="op" id="8444142">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444146">hasError</span><span class="op" id="8444154">,</span>&nbsp;<span class="string" id="8444156">`unterminated&nbsp;raw&nbsp;quoted&nbsp;string`</span><span class="op" id="8444188">}</span><span class="op" id="8444189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444192">{</span><span class="string" id="8444193">&#34;number&#34;</span><span class="op" id="8444201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8444205">&#34;{{0xi}}&#34;</span><span class="op" id="8444214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444218">hasError</span><span class="op" id="8444226">,</span>&nbsp;<span class="string" id="8444228">`number&nbsp;syntax`</span><span class="op" id="8444243">}</span><span class="op" id="8444244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444247">{</span><span class="string" id="8444248">&#34;multidefine&#34;</span><span class="op" id="8444261">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8444265">&#34;{{define&nbsp;`a`}}a{{end}}{{define&nbsp;`a`}}b{{end}}&#34;</span><span class="op" id="8444311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444315">hasError</span><span class="op" id="8444323">,</span>&nbsp;<span class="string" id="8444325">`multiple&nbsp;definition&nbsp;of&nbsp;template`</span><span class="op" id="8444358">}</span><span class="op" id="8444359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444362">{</span><span class="string" id="8444363">&#34;eof&#34;</span><span class="op" id="8444368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8444372">&#34;{{range&nbsp;.X}}&#34;</span><span class="op" id="8444386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444390">hasError</span><span class="op" id="8444398">,</span>&nbsp;<span class="string" id="8444400">`unexpected&nbsp;EOF`</span><span class="op" id="8444416">}</span><span class="op" id="8444417">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444420">{</span><span class="string" id="8444421">&#34;variable&#34;</span><span class="op" id="8444431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8444435">//&nbsp;Declare&nbsp;$x&nbsp;so&nbsp;it&#39;s&nbsp;defined,&nbsp;to&nbsp;avoid&nbsp;that&nbsp;error,&nbsp;and&nbsp;then&nbsp;check&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8444534">&#34;{{$x&nbsp;:=&nbsp;23}}{{with&nbsp;$x.y&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="8444582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444586">hasError</span><span class="op" id="8444594">,</span>&nbsp;<span class="string" id="8444596">`unexpected&nbsp;&#34;:=&#34;`</span><span class="op" id="8444613">}</span><span class="op" id="8444614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444617">{</span><span class="string" id="8444618">&#34;multidecl&#34;</span><span class="op" id="8444629">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8444633">&#34;{{$a,$b,$c&nbsp;:=&nbsp;23}}&#34;</span><span class="op" id="8444653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444657">hasError</span><span class="op" id="8444665">,</span>&nbsp;<span class="string" id="8444667">`too&nbsp;many&nbsp;declarations`</span><span class="op" id="8444690">}</span><span class="op" id="8444691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444694">{</span><span class="string" id="8444695">&#34;undefvar&#34;</span><span class="op" id="8444705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8444709">&#34;{{$a}}&#34;</span><span class="op" id="8444717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444721">hasError</span><span class="op" id="8444729">,</span>&nbsp;<span class="string" id="8444731">`undefined&nbsp;variable`</span><span class="op" id="8444751">}</span><span class="op" id="8444752">,</span><br>
<span class="lineno">410</span><span class="op" id="8444754">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8444757">func</span>&nbsp;<span class="ident" id="8444762">TestErrors</span><span class="op" id="8444772">(</span><span class="ident" id="8444773">t</span>&nbsp;<span class="op" id="8444775">*</span><span class="ident" id="8444776">testing</span><span class="op" id="8444783">.</span><span class="ident" id="8444784">T</span><span class="op" id="8444785">)</span>&nbsp;<span class="op" id="8444787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8444790">for</span>&nbsp;<span class="ident" id="8444794">_</span><span class="op" id="8444795">,</span>&nbsp;<span class="ident" id="8444797">test</span>&nbsp;<span class="op" id="8444802">:=</span>&nbsp;<span class="keyword" id="8444805">range</span>&nbsp;<span class="ident" id="8444811">errorTests</span>&nbsp;<span class="op" id="8444822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444826">_</span><span class="op" id="8444827">,</span>&nbsp;<span class="ident" id="8444829">err</span>&nbsp;<span class="op" id="8444833">:=</span>&nbsp;<span class="ident" id="8444836">New</span><span class="op" id="8444839">(</span><span class="ident" id="8444840">test</span><span class="op" id="8444844">.</span><span class="ident" id="8444845">name</span><span class="op" id="8444849">)</span><span class="op" id="8444850">.</span><span class="ident" id="8444851">Parse</span><span class="op" id="8444856">(</span><span class="ident" id="8444857">test</span><span class="op" id="8444861">.</span><span class="ident" id="8444862">input</span><span class="op" id="8444867">,</span>&nbsp;<span class="string" id="8444869">&#34;&#34;</span><span class="op" id="8444871">,</span>&nbsp;<span class="string" id="8444873">&#34;&#34;</span><span class="op" id="8444875">,</span>&nbsp;<span class="builtinfunc" id="8444877">make</span><span class="op" id="8444881">(</span><span class="keyword" id="8444882">map</span><span class="op" id="8444885">[</span><span class="builtintype" id="8444886">string</span><span class="op" id="8444892">]</span><span class="op" id="8444893">*</span><span class="ident" id="8444894">Tree</span><span class="op" id="8444898">)</span><span class="op" id="8444899">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8444903">if</span>&nbsp;<span class="ident" id="8444906">err</span>&nbsp;<span class="op" id="8444910">==</span>&nbsp;<span class="ident" id="8444913">nil</span>&nbsp;<span class="op" id="8444917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444922">t</span><span class="op" id="8444923">.</span><span class="ident" id="8444924">Errorf</span><span class="op" id="8444930">(</span><span class="string" id="8444931">&#34;%q:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="8444951">,</span>&nbsp;<span class="ident" id="8444953">test</span><span class="op" id="8444957">.</span><span class="ident" id="8444958">name</span><span class="op" id="8444962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8444967">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8444982">if</span>&nbsp;<span class="op" id="8444985">!</span><span class="ident" id="8444986">strings</span><span class="op" id="8444993">.</span><span class="ident" id="8444994">Contains</span><span class="op" id="8445002">(</span><span class="ident" id="8445003">err</span><span class="op" id="8445006">.</span><span class="ident" id="8445007">Error</span><span class="op" id="8445012">(</span><span class="op" id="8445013">)</span><span class="op" id="8445014">,</span>&nbsp;<span class="ident" id="8445016">test</span><span class="op" id="8445020">.</span><span class="ident" id="8445021">result</span><span class="op" id="8445027">)</span>&nbsp;<span class="op" id="8445029">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445034">t</span><span class="op" id="8445035">.</span><span class="ident" id="8445036">Errorf</span><span class="op" id="8445042">(</span><span class="string" id="8445043">&#34;%q:&nbsp;error&nbsp;%q&nbsp;does&nbsp;not&nbsp;contain&nbsp;%q&#34;</span><span class="op" id="8445077">,</span>&nbsp;<span class="ident" id="8445079">test</span><span class="op" id="8445083">.</span><span class="ident" id="8445084">name</span><span class="op" id="8445088">,</span>&nbsp;<span class="ident" id="8445090">err</span><span class="op" id="8445093">,</span>&nbsp;<span class="ident" id="8445095">test</span><span class="op" id="8445099">.</span><span class="ident" id="8445100">result</span><span class="op" id="8445106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445113">}</span><br>
<span class="lineno"></span><span class="op" id="8445115">}</span>
</div>
</body>
</html>
