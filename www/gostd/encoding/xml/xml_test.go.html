<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html" class="current">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8398808">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8398864">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8398918">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8398969">package</span>&nbsp;<span class="ident" id="8398977">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8398982">import</span>&nbsp;<span class="op" id="8398989">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8398992">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8399001">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8399008">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8399014">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8399025">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8399036">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8399047">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">15</span><span class="op" id="8399062">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8399065">const</span>&nbsp;<span class="ident" id="8399071">testInput</span>&nbsp;<span class="op" id="8399081">=</span>&nbsp;<span class="string" id="8399083">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;UTF-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&#34;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Transitional//EN&#34;<br>
<span class="lineno">20</span>&nbsp;&nbsp;&#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#34;&gt;<br>
<span class="lineno"></span>&lt;body&nbsp;xmlns:foo=&#34;ns1&#34;&nbsp;xmlns=&#34;ns2&#34;&nbsp;xmlns:tag=&#34;ns3&#34;&nbsp;`</span>&nbsp;<span class="op" id="8399300">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8399303">&#34;\r\n\t&#34;</span>&nbsp;<span class="op" id="8399312">+</span>&nbsp;<span class="string" id="8399314">`&nbsp;&nbsp;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;hello&nbsp;lang=&#34;en&#34;&gt;World&nbsp;&amp;lt;&amp;gt;&amp;apos;&amp;quot;&nbsp;&amp;#x767d;&amp;#40300;翔&lt;/hello&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;query&gt;&amp;何;&nbsp;&amp;is-it;&lt;/query&gt;<br>
<span class="lineno">25</span>&nbsp;&nbsp;&lt;goodbye&nbsp;/&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;outer&nbsp;foo:attr=&#34;value&#34;&nbsp;xmlns:tag=&#34;ns4&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;inner/&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;/outer&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;tag:name&gt;<br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;![CDATA[Some&nbsp;text&nbsp;here.]]&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;/tag:name&gt;<br>
<span class="lineno"></span>&lt;/body&gt;&lt;!--&nbsp;missing&nbsp;final&nbsp;newline&nbsp;--&gt;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8399604">var</span>&nbsp;<span class="ident" id="8399608">testEntity</span>&nbsp;<span class="op" id="8399619">=</span>&nbsp;<span class="keyword" id="8399621">map</span><span class="op" id="8399624">[</span><span class="builtintype" id="8399625">string</span><span class="op" id="8399631">]</span><span class="builtintype" id="8399632">string</span><span class="op" id="8399638">{</span><span class="string" id="8399639">&#34;何&#34;</span><span class="op" id="8399644">:</span>&nbsp;<span class="string" id="8399646">&#34;What&#34;</span><span class="op" id="8399652">,</span>&nbsp;<span class="string" id="8399654">&#34;is-it&#34;</span><span class="op" id="8399661">:</span>&nbsp;<span class="string" id="8399663">&#34;is&nbsp;it?&#34;</span><span class="op" id="8399671">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="8399674">var</span>&nbsp;<span class="ident" id="8399678">rawTokens</span>&nbsp;<span class="op" id="8399688">=</span>&nbsp;<span class="op" id="8399690">[</span><span class="op" id="8399691">]</span><span class="ident" id="8399692"><a href="/gostd/encoding/xml/xml.go.html#6242284">Token</a></span><span class="op" id="8399697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8399700"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8399708">(</span><span class="string" id="8399709">&#34;\n&#34;</span><span class="op" id="8399713">)</span><span class="op" id="8399714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8399717"><a href="/gostd/encoding/xml/xml.go.html#6243372">ProcInst</a></span><span class="op" id="8399725">{</span><span class="string" id="8399726">&#34;xml&#34;</span><span class="op" id="8399731">,</span>&nbsp;<span class="op" id="8399733">[</span><span class="op" id="8399734">]</span><span class="builtintype" id="8399735">byte</span><span class="op" id="8399739">(</span><span class="string" id="8399740">`version=&#34;1.0&#34;&nbsp;encoding=&#34;UTF-8&#34;`</span><span class="op" id="8399772">)</span><span class="op" id="8399773">}</span><span class="op" id="8399774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8399777"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8399785">(</span><span class="string" id="8399786">&#34;\n&#34;</span><span class="op" id="8399790">)</span><span class="op" id="8399791">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8399794"><a href="/gostd/encoding/xml/xml.go.html#6243618">Directive</a></span><span class="op" id="8399803">(</span><span class="string" id="8399804">`DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&#34;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Transitional//EN&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#34;`</span><span class="op" id="8399926">)</span><span class="op" id="8399927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8399930"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8399938">(</span><span class="string" id="8399939">&#34;\n&#34;</span><span class="op" id="8399943">)</span><span class="op" id="8399944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8399947"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8399959">{</span><span class="ident" id="8399960"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8399964">{</span><span class="string" id="8399965">&#34;&#34;</span><span class="op" id="8399967">,</span>&nbsp;<span class="string" id="8399969">&#34;body&#34;</span><span class="op" id="8399975">}</span><span class="op" id="8399976">,</span>&nbsp;<span class="op" id="8399978">[</span><span class="op" id="8399979">]</span><span class="ident" id="8399980"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8399984">{</span><span class="op" id="8399985">{</span><span class="ident" id="8399986"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8399990">{</span><span class="string" id="8399991">&#34;xmlns&#34;</span><span class="op" id="8399998">,</span>&nbsp;<span class="string" id="8400000">&#34;foo&#34;</span><span class="op" id="8400005">}</span><span class="op" id="8400006">,</span>&nbsp;<span class="string" id="8400008">&#34;ns1&#34;</span><span class="op" id="8400013">}</span><span class="op" id="8400014">,</span>&nbsp;<span class="op" id="8400016">{</span><span class="ident" id="8400017"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400021">{</span><span class="string" id="8400022">&#34;&#34;</span><span class="op" id="8400024">,</span>&nbsp;<span class="string" id="8400026">&#34;xmlns&#34;</span><span class="op" id="8400033">}</span><span class="op" id="8400034">,</span>&nbsp;<span class="string" id="8400036">&#34;ns2&#34;</span><span class="op" id="8400041">}</span><span class="op" id="8400042">,</span>&nbsp;<span class="op" id="8400044">{</span><span class="ident" id="8400045"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400049">{</span><span class="string" id="8400050">&#34;xmlns&#34;</span><span class="op" id="8400057">,</span>&nbsp;<span class="string" id="8400059">&#34;tag&#34;</span><span class="op" id="8400064">}</span><span class="op" id="8400065">,</span>&nbsp;<span class="string" id="8400067">&#34;ns3&#34;</span><span class="op" id="8400072">}</span><span class="op" id="8400073">}</span><span class="op" id="8400074">}</span><span class="op" id="8400075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400078"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8400086">(</span><span class="string" id="8400087">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8400093">)</span><span class="op" id="8400094">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400097"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8400109">{</span><span class="ident" id="8400110"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400114">{</span><span class="string" id="8400115">&#34;&#34;</span><span class="op" id="8400117">,</span>&nbsp;<span class="string" id="8400119">&#34;hello&#34;</span><span class="op" id="8400126">}</span><span class="op" id="8400127">,</span>&nbsp;<span class="op" id="8400129">[</span><span class="op" id="8400130">]</span><span class="ident" id="8400131"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8400135">{</span><span class="op" id="8400136">{</span><span class="ident" id="8400137"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400141">{</span><span class="string" id="8400142">&#34;&#34;</span><span class="op" id="8400144">,</span>&nbsp;<span class="string" id="8400146">&#34;lang&#34;</span><span class="op" id="8400152">}</span><span class="op" id="8400153">,</span>&nbsp;<span class="string" id="8400155">&#34;en&#34;</span><span class="op" id="8400159">}</span><span class="op" id="8400160">}</span><span class="op" id="8400161">}</span><span class="op" id="8400162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400165"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8400173">(</span><span class="string" id="8400174">&#34;World&nbsp;&lt;&gt;&#39;\&#34;&nbsp;白鵬翔&#34;</span><span class="op" id="8400197">)</span><span class="op" id="8400198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400201"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8400211">{</span><span class="ident" id="8400212"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400216">{</span><span class="string" id="8400217">&#34;&#34;</span><span class="op" id="8400219">,</span>&nbsp;<span class="string" id="8400221">&#34;hello&#34;</span><span class="op" id="8400228">}</span><span class="op" id="8400229">}</span><span class="op" id="8400230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400233"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8400241">(</span><span class="string" id="8400242">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8400248">)</span><span class="op" id="8400249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400252"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8400264">{</span><span class="ident" id="8400265"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400269">{</span><span class="string" id="8400270">&#34;&#34;</span><span class="op" id="8400272">,</span>&nbsp;<span class="string" id="8400274">&#34;query&#34;</span><span class="op" id="8400281">}</span><span class="op" id="8400282">,</span>&nbsp;<span class="op" id="8400284">[</span><span class="op" id="8400285">]</span><span class="ident" id="8400286"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8400290">{</span><span class="op" id="8400291">}</span><span class="op" id="8400292">}</span><span class="op" id="8400293">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400296"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8400304">(</span><span class="string" id="8400305">&#34;What&nbsp;is&nbsp;it?&#34;</span><span class="op" id="8400318">)</span><span class="op" id="8400319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400322"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8400332">{</span><span class="ident" id="8400333"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400337">{</span><span class="string" id="8400338">&#34;&#34;</span><span class="op" id="8400340">,</span>&nbsp;<span class="string" id="8400342">&#34;query&#34;</span><span class="op" id="8400349">}</span><span class="op" id="8400350">}</span><span class="op" id="8400351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400354"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8400362">(</span><span class="string" id="8400363">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8400369">)</span><span class="op" id="8400370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400373"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8400385">{</span><span class="ident" id="8400386"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400390">{</span><span class="string" id="8400391">&#34;&#34;</span><span class="op" id="8400393">,</span>&nbsp;<span class="string" id="8400395">&#34;goodbye&#34;</span><span class="op" id="8400404">}</span><span class="op" id="8400405">,</span>&nbsp;<span class="op" id="8400407">[</span><span class="op" id="8400408">]</span><span class="ident" id="8400409"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8400413">{</span><span class="op" id="8400414">}</span><span class="op" id="8400415">}</span><span class="op" id="8400416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400419"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8400429">{</span><span class="ident" id="8400430"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400434">{</span><span class="string" id="8400435">&#34;&#34;</span><span class="op" id="8400437">,</span>&nbsp;<span class="string" id="8400439">&#34;goodbye&#34;</span><span class="op" id="8400448">}</span><span class="op" id="8400449">}</span><span class="op" id="8400450">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400453"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8400461">(</span><span class="string" id="8400462">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8400468">)</span><span class="op" id="8400469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400472"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8400484">{</span><span class="ident" id="8400485"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400489">{</span><span class="string" id="8400490">&#34;&#34;</span><span class="op" id="8400492">,</span>&nbsp;<span class="string" id="8400494">&#34;outer&#34;</span><span class="op" id="8400501">}</span><span class="op" id="8400502">,</span>&nbsp;<span class="op" id="8400504">[</span><span class="op" id="8400505">]</span><span class="ident" id="8400506"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8400510">{</span><span class="op" id="8400511">{</span><span class="ident" id="8400512"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400516">{</span><span class="string" id="8400517">&#34;foo&#34;</span><span class="op" id="8400522">,</span>&nbsp;<span class="string" id="8400524">&#34;attr&#34;</span><span class="op" id="8400530">}</span><span class="op" id="8400531">,</span>&nbsp;<span class="string" id="8400533">&#34;value&#34;</span><span class="op" id="8400540">}</span><span class="op" id="8400541">,</span>&nbsp;<span class="op" id="8400543">{</span><span class="ident" id="8400544"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400548">{</span><span class="string" id="8400549">&#34;xmlns&#34;</span><span class="op" id="8400556">,</span>&nbsp;<span class="string" id="8400558">&#34;tag&#34;</span><span class="op" id="8400563">}</span><span class="op" id="8400564">,</span>&nbsp;<span class="string" id="8400566">&#34;ns4&#34;</span><span class="op" id="8400571">}</span><span class="op" id="8400572">}</span><span class="op" id="8400573">}</span><span class="op" id="8400574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400577"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8400585">(</span><span class="string" id="8400586">&#34;\n&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8400594">)</span><span class="op" id="8400595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400598"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8400610">{</span><span class="ident" id="8400611"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400615">{</span><span class="string" id="8400616">&#34;&#34;</span><span class="op" id="8400618">,</span>&nbsp;<span class="string" id="8400620">&#34;inner&#34;</span><span class="op" id="8400627">}</span><span class="op" id="8400628">,</span>&nbsp;<span class="op" id="8400630">[</span><span class="op" id="8400631">]</span><span class="ident" id="8400632"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8400636">{</span><span class="op" id="8400637">}</span><span class="op" id="8400638">}</span><span class="op" id="8400639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400642"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8400652">{</span><span class="ident" id="8400653"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400657">{</span><span class="string" id="8400658">&#34;&#34;</span><span class="op" id="8400660">,</span>&nbsp;<span class="string" id="8400662">&#34;inner&#34;</span><span class="op" id="8400669">}</span><span class="op" id="8400670">}</span><span class="op" id="8400671">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400674"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8400682">(</span><span class="string" id="8400683">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8400689">)</span><span class="op" id="8400690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400693"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8400703">{</span><span class="ident" id="8400704"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400708">{</span><span class="string" id="8400709">&#34;&#34;</span><span class="op" id="8400711">,</span>&nbsp;<span class="string" id="8400713">&#34;outer&#34;</span><span class="op" id="8400720">}</span><span class="op" id="8400721">}</span><span class="op" id="8400722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400725"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8400733">(</span><span class="string" id="8400734">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8400740">)</span><span class="op" id="8400741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400744"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8400756">{</span><span class="ident" id="8400757"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400761">{</span><span class="string" id="8400762">&#34;tag&#34;</span><span class="op" id="8400767">,</span>&nbsp;<span class="string" id="8400769">&#34;name&#34;</span><span class="op" id="8400775">}</span><span class="op" id="8400776">,</span>&nbsp;<span class="op" id="8400778">[</span><span class="op" id="8400779">]</span><span class="ident" id="8400780"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8400784">{</span><span class="op" id="8400785">}</span><span class="op" id="8400786">}</span><span class="op" id="8400787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400790"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8400798">(</span><span class="string" id="8400799">&#34;\n&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8400807">)</span><span class="op" id="8400808">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400811"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8400819">(</span><span class="string" id="8400820">&#34;Some&nbsp;text&nbsp;here.&#34;</span><span class="op" id="8400837">)</span><span class="op" id="8400838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400841"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8400849">(</span><span class="string" id="8400850">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8400856">)</span><span class="op" id="8400857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400860"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8400870">{</span><span class="ident" id="8400871"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400875">{</span><span class="string" id="8400876">&#34;tag&#34;</span><span class="op" id="8400881">,</span>&nbsp;<span class="string" id="8400883">&#34;name&#34;</span><span class="op" id="8400889">}</span><span class="op" id="8400890">}</span><span class="op" id="8400891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400894"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8400902">(</span><span class="string" id="8400903">&#34;\n&#34;</span><span class="op" id="8400907">)</span><span class="op" id="8400908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400911"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8400921">{</span><span class="ident" id="8400922"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8400926">{</span><span class="string" id="8400927">&#34;&#34;</span><span class="op" id="8400929">,</span>&nbsp;<span class="string" id="8400931">&#34;body&#34;</span><span class="op" id="8400937">}</span><span class="op" id="8400938">}</span><span class="op" id="8400939">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8400942"><a href="/gostd/encoding/xml/xml.go.html#6243203">Comment</a></span><span class="op" id="8400949">(</span><span class="string" id="8400950">&#34;&nbsp;missing&nbsp;final&nbsp;newline&nbsp;&#34;</span><span class="op" id="8400975">)</span><span class="op" id="8400976">,</span><br>
<span class="lineno"></span><span class="op" id="8400978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8400981">var</span>&nbsp;<span class="ident" id="8400985">cookedTokens</span>&nbsp;<span class="op" id="8400998">=</span>&nbsp;<span class="op" id="8401000">[</span><span class="op" id="8401001">]</span><span class="ident" id="8401002"><a href="/gostd/encoding/xml/xml.go.html#6242284">Token</a></span><span class="op" id="8401007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401010"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8401018">(</span><span class="string" id="8401019">&#34;\n&#34;</span><span class="op" id="8401023">)</span><span class="op" id="8401024">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401027"><a href="/gostd/encoding/xml/xml.go.html#6243372">ProcInst</a></span><span class="op" id="8401035">{</span><span class="string" id="8401036">&#34;xml&#34;</span><span class="op" id="8401041">,</span>&nbsp;<span class="op" id="8401043">[</span><span class="op" id="8401044">]</span><span class="builtintype" id="8401045">byte</span><span class="op" id="8401049">(</span><span class="string" id="8401050">`version=&#34;1.0&#34;&nbsp;encoding=&#34;UTF-8&#34;`</span><span class="op" id="8401082">)</span><span class="op" id="8401083">}</span><span class="op" id="8401084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401087"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8401095">(</span><span class="string" id="8401096">&#34;\n&#34;</span><span class="op" id="8401100">)</span><span class="op" id="8401101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401104"><a href="/gostd/encoding/xml/xml.go.html#6243618">Directive</a></span><span class="op" id="8401113">(</span><span class="string" id="8401114">`DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&#34;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Transitional//EN&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#34;`</span><span class="op" id="8401236">)</span><span class="op" id="8401237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401240"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8401248">(</span><span class="string" id="8401249">&#34;\n&#34;</span><span class="op" id="8401253">)</span><span class="op" id="8401254">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401257"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8401269">{</span><span class="ident" id="8401270"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401274">{</span><span class="string" id="8401275">&#34;ns2&#34;</span><span class="op" id="8401280">,</span>&nbsp;<span class="string" id="8401282">&#34;body&#34;</span><span class="op" id="8401288">}</span><span class="op" id="8401289">,</span>&nbsp;<span class="op" id="8401291">[</span><span class="op" id="8401292">]</span><span class="ident" id="8401293"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8401297">{</span><span class="op" id="8401298">{</span><span class="ident" id="8401299"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401303">{</span><span class="string" id="8401304">&#34;xmlns&#34;</span><span class="op" id="8401311">,</span>&nbsp;<span class="string" id="8401313">&#34;foo&#34;</span><span class="op" id="8401318">}</span><span class="op" id="8401319">,</span>&nbsp;<span class="string" id="8401321">&#34;ns1&#34;</span><span class="op" id="8401326">}</span><span class="op" id="8401327">,</span>&nbsp;<span class="op" id="8401329">{</span><span class="ident" id="8401330"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401334">{</span><span class="string" id="8401335">&#34;&#34;</span><span class="op" id="8401337">,</span>&nbsp;<span class="string" id="8401339">&#34;xmlns&#34;</span><span class="op" id="8401346">}</span><span class="op" id="8401347">,</span>&nbsp;<span class="string" id="8401349">&#34;ns2&#34;</span><span class="op" id="8401354">}</span><span class="op" id="8401355">,</span>&nbsp;<span class="op" id="8401357">{</span><span class="ident" id="8401358"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401362">{</span><span class="string" id="8401363">&#34;xmlns&#34;</span><span class="op" id="8401370">,</span>&nbsp;<span class="string" id="8401372">&#34;tag&#34;</span><span class="op" id="8401377">}</span><span class="op" id="8401378">,</span>&nbsp;<span class="string" id="8401380">&#34;ns3&#34;</span><span class="op" id="8401385">}</span><span class="op" id="8401386">}</span><span class="op" id="8401387">}</span><span class="op" id="8401388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401391"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8401399">(</span><span class="string" id="8401400">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8401406">)</span><span class="op" id="8401407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401410"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8401422">{</span><span class="ident" id="8401423"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401427">{</span><span class="string" id="8401428">&#34;ns2&#34;</span><span class="op" id="8401433">,</span>&nbsp;<span class="string" id="8401435">&#34;hello&#34;</span><span class="op" id="8401442">}</span><span class="op" id="8401443">,</span>&nbsp;<span class="op" id="8401445">[</span><span class="op" id="8401446">]</span><span class="ident" id="8401447"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8401451">{</span><span class="op" id="8401452">{</span><span class="ident" id="8401453"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401457">{</span><span class="string" id="8401458">&#34;&#34;</span><span class="op" id="8401460">,</span>&nbsp;<span class="string" id="8401462">&#34;lang&#34;</span><span class="op" id="8401468">}</span><span class="op" id="8401469">,</span>&nbsp;<span class="string" id="8401471">&#34;en&#34;</span><span class="op" id="8401475">}</span><span class="op" id="8401476">}</span><span class="op" id="8401477">}</span><span class="op" id="8401478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401481"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8401489">(</span><span class="string" id="8401490">&#34;World&nbsp;&lt;&gt;&#39;\&#34;&nbsp;白鵬翔&#34;</span><span class="op" id="8401513">)</span><span class="op" id="8401514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401517"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8401527">{</span><span class="ident" id="8401528"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401532">{</span><span class="string" id="8401533">&#34;ns2&#34;</span><span class="op" id="8401538">,</span>&nbsp;<span class="string" id="8401540">&#34;hello&#34;</span><span class="op" id="8401547">}</span><span class="op" id="8401548">}</span><span class="op" id="8401549">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401552"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8401560">(</span><span class="string" id="8401561">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8401567">)</span><span class="op" id="8401568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401571"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8401583">{</span><span class="ident" id="8401584"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401588">{</span><span class="string" id="8401589">&#34;ns2&#34;</span><span class="op" id="8401594">,</span>&nbsp;<span class="string" id="8401596">&#34;query&#34;</span><span class="op" id="8401603">}</span><span class="op" id="8401604">,</span>&nbsp;<span class="op" id="8401606">[</span><span class="op" id="8401607">]</span><span class="ident" id="8401608"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8401612">{</span><span class="op" id="8401613">}</span><span class="op" id="8401614">}</span><span class="op" id="8401615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401618"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8401626">(</span><span class="string" id="8401627">&#34;What&nbsp;is&nbsp;it?&#34;</span><span class="op" id="8401640">)</span><span class="op" id="8401641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401644"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8401654">{</span><span class="ident" id="8401655"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401659">{</span><span class="string" id="8401660">&#34;ns2&#34;</span><span class="op" id="8401665">,</span>&nbsp;<span class="string" id="8401667">&#34;query&#34;</span><span class="op" id="8401674">}</span><span class="op" id="8401675">}</span><span class="op" id="8401676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401679"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8401687">(</span><span class="string" id="8401688">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8401694">)</span><span class="op" id="8401695">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401698"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8401710">{</span><span class="ident" id="8401711"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401715">{</span><span class="string" id="8401716">&#34;ns2&#34;</span><span class="op" id="8401721">,</span>&nbsp;<span class="string" id="8401723">&#34;goodbye&#34;</span><span class="op" id="8401732">}</span><span class="op" id="8401733">,</span>&nbsp;<span class="op" id="8401735">[</span><span class="op" id="8401736">]</span><span class="ident" id="8401737"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8401741">{</span><span class="op" id="8401742">}</span><span class="op" id="8401743">}</span><span class="op" id="8401744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401747"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8401757">{</span><span class="ident" id="8401758"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401762">{</span><span class="string" id="8401763">&#34;ns2&#34;</span><span class="op" id="8401768">,</span>&nbsp;<span class="string" id="8401770">&#34;goodbye&#34;</span><span class="op" id="8401779">}</span><span class="op" id="8401780">}</span><span class="op" id="8401781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401784"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8401792">(</span><span class="string" id="8401793">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8401799">)</span><span class="op" id="8401800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401803"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8401815">{</span><span class="ident" id="8401816"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401820">{</span><span class="string" id="8401821">&#34;ns2&#34;</span><span class="op" id="8401826">,</span>&nbsp;<span class="string" id="8401828">&#34;outer&#34;</span><span class="op" id="8401835">}</span><span class="op" id="8401836">,</span>&nbsp;<span class="op" id="8401838">[</span><span class="op" id="8401839">]</span><span class="ident" id="8401840"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8401844">{</span><span class="op" id="8401845">{</span><span class="ident" id="8401846"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401850">{</span><span class="string" id="8401851">&#34;ns1&#34;</span><span class="op" id="8401856">,</span>&nbsp;<span class="string" id="8401858">&#34;attr&#34;</span><span class="op" id="8401864">}</span><span class="op" id="8401865">,</span>&nbsp;<span class="string" id="8401867">&#34;value&#34;</span><span class="op" id="8401874">}</span><span class="op" id="8401875">,</span>&nbsp;<span class="op" id="8401877">{</span><span class="ident" id="8401878"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401882">{</span><span class="string" id="8401883">&#34;xmlns&#34;</span><span class="op" id="8401890">,</span>&nbsp;<span class="string" id="8401892">&#34;tag&#34;</span><span class="op" id="8401897">}</span><span class="op" id="8401898">,</span>&nbsp;<span class="string" id="8401900">&#34;ns4&#34;</span><span class="op" id="8401905">}</span><span class="op" id="8401906">}</span><span class="op" id="8401907">}</span><span class="op" id="8401908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401911"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8401919">(</span><span class="string" id="8401920">&#34;\n&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8401928">)</span><span class="op" id="8401929">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401932"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8401944">{</span><span class="ident" id="8401945"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401949">{</span><span class="string" id="8401950">&#34;ns2&#34;</span><span class="op" id="8401955">,</span>&nbsp;<span class="string" id="8401957">&#34;inner&#34;</span><span class="op" id="8401964">}</span><span class="op" id="8401965">,</span>&nbsp;<span class="op" id="8401967">[</span><span class="op" id="8401968">]</span><span class="ident" id="8401969"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8401973">{</span><span class="op" id="8401974">}</span><span class="op" id="8401975">}</span><span class="op" id="8401976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8401979"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8401989">{</span><span class="ident" id="8401990"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8401994">{</span><span class="string" id="8401995">&#34;ns2&#34;</span><span class="op" id="8402000">,</span>&nbsp;<span class="string" id="8402002">&#34;inner&#34;</span><span class="op" id="8402009">}</span><span class="op" id="8402010">}</span><span class="op" id="8402011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402014"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8402022">(</span><span class="string" id="8402023">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8402029">)</span><span class="op" id="8402030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402033"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8402043">{</span><span class="ident" id="8402044"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8402048">{</span><span class="string" id="8402049">&#34;ns2&#34;</span><span class="op" id="8402054">,</span>&nbsp;<span class="string" id="8402056">&#34;outer&#34;</span><span class="op" id="8402063">}</span><span class="op" id="8402064">}</span><span class="op" id="8402065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402068"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8402076">(</span><span class="string" id="8402077">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8402083">)</span><span class="op" id="8402084">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402087"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8402099">{</span><span class="ident" id="8402100"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8402104">{</span><span class="string" id="8402105">&#34;ns3&#34;</span><span class="op" id="8402110">,</span>&nbsp;<span class="string" id="8402112">&#34;name&#34;</span><span class="op" id="8402118">}</span><span class="op" id="8402119">,</span>&nbsp;<span class="op" id="8402121">[</span><span class="op" id="8402122">]</span><span class="ident" id="8402123"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8402127">{</span><span class="op" id="8402128">}</span><span class="op" id="8402129">}</span><span class="op" id="8402130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402133"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8402141">(</span><span class="string" id="8402142">&#34;\n&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8402150">)</span><span class="op" id="8402151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402154"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8402162">(</span><span class="string" id="8402163">&#34;Some&nbsp;text&nbsp;here.&#34;</span><span class="op" id="8402180">)</span><span class="op" id="8402181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402184"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8402192">(</span><span class="string" id="8402193">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="8402199">)</span><span class="op" id="8402200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402203"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8402213">{</span><span class="ident" id="8402214"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8402218">{</span><span class="string" id="8402219">&#34;ns3&#34;</span><span class="op" id="8402224">,</span>&nbsp;<span class="string" id="8402226">&#34;name&#34;</span><span class="op" id="8402232">}</span><span class="op" id="8402233">}</span><span class="op" id="8402234">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402237"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8402245">(</span><span class="string" id="8402246">&#34;\n&#34;</span><span class="op" id="8402250">)</span><span class="op" id="8402251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402254"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8402264">{</span><span class="ident" id="8402265"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8402269">{</span><span class="string" id="8402270">&#34;ns2&#34;</span><span class="op" id="8402275">,</span>&nbsp;<span class="string" id="8402277">&#34;body&#34;</span><span class="op" id="8402283">}</span><span class="op" id="8402284">}</span><span class="op" id="8402285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402288"><a href="/gostd/encoding/xml/xml.go.html#6243203">Comment</a></span><span class="op" id="8402295">(</span><span class="string" id="8402296">&#34;&nbsp;missing&nbsp;final&nbsp;newline&nbsp;&#34;</span><span class="op" id="8402321">)</span><span class="op" id="8402322">,</span><br>
<span class="lineno"></span><span class="op" id="8402324">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="8402327">const</span>&nbsp;<span class="ident" id="8402333">testInputAltEncoding</span>&nbsp;<span class="op" id="8402354">=</span>&nbsp;<span class="string" id="8402356">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;x-testing-uppercase&#34;?&gt;<br>
<span class="lineno"></span>&lt;TAG&gt;VALUE&lt;/TAG&gt;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8402430">var</span>&nbsp;<span class="ident" id="8402434">rawTokensAltEncoding</span>&nbsp;<span class="op" id="8402455">=</span>&nbsp;<span class="op" id="8402457">[</span><span class="op" id="8402458">]</span><span class="ident" id="8402459"><a href="/gostd/encoding/xml/xml.go.html#6242284">Token</a></span><span class="op" id="8402464">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402467"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8402475">(</span><span class="string" id="8402476">&#34;\n&#34;</span><span class="op" id="8402480">)</span><span class="op" id="8402481">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402484"><a href="/gostd/encoding/xml/xml.go.html#6243372">ProcInst</a></span><span class="op" id="8402492">{</span><span class="string" id="8402493">&#34;xml&#34;</span><span class="op" id="8402498">,</span>&nbsp;<span class="op" id="8402500">[</span><span class="op" id="8402501">]</span><span class="builtintype" id="8402502">byte</span><span class="op" id="8402506">(</span><span class="string" id="8402507">`version=&#34;1.0&#34;&nbsp;encoding=&#34;x-testing-uppercase&#34;`</span><span class="op" id="8402553">)</span><span class="op" id="8402554">}</span><span class="op" id="8402555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402558"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8402566">(</span><span class="string" id="8402567">&#34;\n&#34;</span><span class="op" id="8402571">)</span><span class="op" id="8402572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402575"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8402587">{</span><span class="ident" id="8402588"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8402592">{</span><span class="string" id="8402593">&#34;&#34;</span><span class="op" id="8402595">,</span>&nbsp;<span class="string" id="8402597">&#34;tag&#34;</span><span class="op" id="8402602">}</span><span class="op" id="8402603">,</span>&nbsp;<span class="op" id="8402605">[</span><span class="op" id="8402606">]</span><span class="ident" id="8402607"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8402611">{</span><span class="op" id="8402612">}</span><span class="op" id="8402613">}</span><span class="op" id="8402614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402617"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8402625">(</span><span class="string" id="8402626">&#34;value&#34;</span><span class="op" id="8402633">)</span><span class="op" id="8402634">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8402637"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8402647">{</span><span class="ident" id="8402648"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8402652">{</span><span class="string" id="8402653">&#34;&#34;</span><span class="op" id="8402655">,</span>&nbsp;<span class="string" id="8402657">&#34;tag&#34;</span><span class="op" id="8402662">}</span><span class="op" id="8402663">}</span><span class="op" id="8402664">,</span><br>
<span class="lineno"></span><span class="op" id="8402666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8402669">var</span>&nbsp;<span class="ident" id="8402673">xmlInput</span>&nbsp;<span class="op" id="8402682">=</span>&nbsp;<span class="op" id="8402684">[</span><span class="op" id="8402685">]</span><span class="builtintype" id="8402686">string</span><span class="op" id="8402692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8402695">//&nbsp;unexpected&nbsp;EOF&nbsp;cases</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402720">&#34;&lt;&#34;</span><span class="op" id="8402723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402726">&#34;&lt;t&#34;</span><span class="op" id="8402730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402733">&#34;&lt;t&nbsp;&#34;</span><span class="op" id="8402738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402741">&#34;&lt;t/&#34;</span><span class="op" id="8402746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402749">&#34;&lt;!&#34;</span><span class="op" id="8402753">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402756">&#34;&lt;!-&#34;</span><span class="op" id="8402761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402764">&#34;&lt;!--&#34;</span><span class="op" id="8402770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402773">&#34;&lt;!--c-&#34;</span><span class="op" id="8402781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402784">&#34;&lt;!--c--&#34;</span><span class="op" id="8402793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402796">&#34;&lt;!d&#34;</span><span class="op" id="8402801">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402804">&#34;&lt;t&gt;&lt;/&#34;</span><span class="op" id="8402811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402814">&#34;&lt;t&gt;&lt;/t&#34;</span><span class="op" id="8402822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402825">&#34;&lt;?&#34;</span><span class="op" id="8402829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402832">&#34;&lt;?p&#34;</span><span class="op" id="8402837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402840">&#34;&lt;t&nbsp;a&#34;</span><span class="op" id="8402846">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402849">&#34;&lt;t&nbsp;a=&#34;</span><span class="op" id="8402856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402859">&#34;&lt;t&nbsp;a=&#39;&#34;</span><span class="op" id="8402867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402870">&#34;&lt;t&nbsp;a=&#39;&#39;&#34;</span><span class="op" id="8402879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402882">&#34;&lt;t/&gt;&lt;![&#34;</span><span class="op" id="8402891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402894">&#34;&lt;t/&gt;&lt;![C&#34;</span><span class="op" id="8402904">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402907">&#34;&lt;t/&gt;&lt;![CDATA[d&#34;</span><span class="op" id="8402923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402926">&#34;&lt;t/&gt;&lt;![CDATA[d]&#34;</span><span class="op" id="8402943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402946">&#34;&lt;t/&gt;&lt;![CDATA[d]]&#34;</span><span class="op" id="8402964">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8402968">//&nbsp;other&nbsp;Syntax&nbsp;errors</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402992">&#34;&lt;&gt;&#34;</span><span class="op" id="8402996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8402999">&#34;&lt;t/a&#34;</span><span class="op" id="8403005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8403008">&#34;&lt;0&nbsp;/&gt;&#34;</span><span class="op" id="8403015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8403018">&#34;&lt;?0&nbsp;&gt;&#34;</span><span class="op" id="8403025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8403028">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;&lt;!0&nbsp;&gt;&#34;,&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;let&nbsp;the&nbsp;Token()&nbsp;caller&nbsp;handle</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8403074">&#34;&lt;/0&gt;&#34;</span><span class="op" id="8403080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8403083">&#34;&lt;t&nbsp;0=&#39;&#39;&gt;&#34;</span><span class="op" id="8403093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8403096">&#34;&lt;t&nbsp;a=&#39;&amp;&#39;&gt;&#34;</span><span class="op" id="8403107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8403110">&#34;&lt;t&nbsp;a=&#39;&lt;&#39;&gt;&#34;</span><span class="op" id="8403121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8403124">&#34;&lt;t&gt;&amp;nbspc;&lt;/t&gt;&#34;</span><span class="op" id="8403140">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8403143">&#34;&lt;t&nbsp;a&gt;&#34;</span><span class="op" id="8403150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8403153">&#34;&lt;t&nbsp;a=&gt;&#34;</span><span class="op" id="8403161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8403164">&#34;&lt;t&nbsp;a=v&gt;&#34;</span><span class="op" id="8403173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8403176">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;&lt;![CDATA[d]]&gt;&#34;,&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;let&nbsp;the&nbsp;Token()&nbsp;caller&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8403230">&#34;&lt;t&gt;&lt;/e&gt;&#34;</span><span class="op" id="8403239">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8403242">&#34;&lt;t&gt;&lt;/&gt;&#34;</span><span class="op" id="8403250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8403253">&#34;&lt;t&gt;&lt;/t!&#34;</span><span class="op" id="8403262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8403265">&#34;&lt;t&gt;cdata]]&gt;&lt;/t&gt;&#34;</span><span class="op" id="8403282">,</span><br>
<span class="lineno"></span><span class="op" id="8403284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="8403287">func</span>&nbsp;<span class="ident" id="8403292">TestRawToken</span><span class="op" id="8403304">(</span><span class="ident" id="8403305">t</span>&nbsp;<span class="op" id="8403307">*</span><span class="ident" id="8403308"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8403315">.</span><span class="ident" id="8403316"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8403317">)</span>&nbsp;<span class="op" id="8403319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8403322">d</span>&nbsp;<span class="op" id="8403324">:=</span>&nbsp;<span class="ident" id="8403327"><a href="/gostd/encoding/xml/xml.go.html#6246568">NewDecoder</a></span><span class="op" id="8403337">(</span><span class="ident" id="8403338"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8403345">.</span><span class="ident" id="8403346"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="8403355">(</span><span class="ident" id="8403356"><a href="/gostd/encoding/xml/xml_test.go.html#8399071">testInput</a></span><span class="op" id="8403365">)</span><span class="op" id="8403366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8403369"><a href="/gostd/encoding/xml/xml_test.go.html#8403322">d</a></span><span class="op" id="8403370">.</span><span class="ident" id="8403371"><a href="/gostd/encoding/xml/xml.go.html#6245483">Entity</a></span>&nbsp;<span class="op" id="8403378">=</span>&nbsp;<span class="ident" id="8403380"><a href="/gostd/encoding/xml/xml_test.go.html#8399608">testEntity</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8403392"><a href="/gostd/encoding/xml/xml_test.go.html#8406123">testRawToken</a></span><span class="op" id="8403404">(</span><span class="ident" id="8403405"><a href="/gostd/encoding/xml/xml_test.go.html#8403305">t</a></span><span class="op" id="8403406">,</span>&nbsp;<span class="ident" id="8403408"><a href="/gostd/encoding/xml/xml_test.go.html#8403322">d</a></span><span class="op" id="8403409">,</span>&nbsp;<span class="ident" id="8403411"><a href="/gostd/encoding/xml/xml_test.go.html#8399071">testInput</a></span><span class="op" id="8403420">,</span>&nbsp;<span class="ident" id="8403422"><a href="/gostd/encoding/xml/xml_test.go.html#8399678">rawTokens</a></span><span class="op" id="8403431">)</span><br>
<span class="lineno"></span><span class="op" id="8403433">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="keyword" id="8403436">const</span>&nbsp;<span class="ident" id="8403442">nonStrictInput</span>&nbsp;<span class="op" id="8403457">=</span>&nbsp;<span class="string" id="8403459">`<br>
<span class="lineno"></span>&lt;tag&gt;non&amp;entity&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;unknown;entity&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;#123&lt;/tag&gt;<br>
<span class="lineno">180</span>&lt;tag&gt;&amp;#zzz;&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;なまえ3;&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;lt-gt;&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;;&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;0a;&lt;/tag&gt;<br>
<span class="lineno">185</span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8403621">var</span>&nbsp;<span class="ident" id="8403625">nonStringEntity</span>&nbsp;<span class="op" id="8403641">=</span>&nbsp;<span class="keyword" id="8403643">map</span><span class="op" id="8403646">[</span><span class="builtintype" id="8403647">string</span><span class="op" id="8403653">]</span><span class="builtintype" id="8403654">string</span><span class="op" id="8403660">{</span><span class="string" id="8403661">&#34;&#34;</span><span class="op" id="8403663">:</span>&nbsp;<span class="string" id="8403665">&#34;oops!&#34;</span><span class="op" id="8403672">,</span>&nbsp;<span class="string" id="8403674">&#34;0a&#34;</span><span class="op" id="8403678">:</span>&nbsp;<span class="string" id="8403680">&#34;oops!&#34;</span><span class="op" id="8403687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8403690">var</span>&nbsp;<span class="ident" id="8403694">nonStrictTokens</span>&nbsp;<span class="op" id="8403710">=</span>&nbsp;<span class="op" id="8403712">[</span><span class="op" id="8403713">]</span><span class="ident" id="8403714"><a href="/gostd/encoding/xml/xml.go.html#6242284">Token</a></span><span class="op" id="8403719">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8403722"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8403730">(</span><span class="string" id="8403731">&#34;\n&#34;</span><span class="op" id="8403735">)</span><span class="op" id="8403736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8403739"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8403751">{</span><span class="ident" id="8403752"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8403756">{</span><span class="string" id="8403757">&#34;&#34;</span><span class="op" id="8403759">,</span>&nbsp;<span class="string" id="8403761">&#34;tag&#34;</span><span class="op" id="8403766">}</span><span class="op" id="8403767">,</span>&nbsp;<span class="op" id="8403769">[</span><span class="op" id="8403770">]</span><span class="ident" id="8403771"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8403775">{</span><span class="op" id="8403776">}</span><span class="op" id="8403777">}</span><span class="op" id="8403778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8403781"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8403789">(</span><span class="string" id="8403790">&#34;non&amp;entity&#34;</span><span class="op" id="8403802">)</span><span class="op" id="8403803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8403806"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8403816">{</span><span class="ident" id="8403817"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8403821">{</span><span class="string" id="8403822">&#34;&#34;</span><span class="op" id="8403824">,</span>&nbsp;<span class="string" id="8403826">&#34;tag&#34;</span><span class="op" id="8403831">}</span><span class="op" id="8403832">}</span><span class="op" id="8403833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8403836"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8403844">(</span><span class="string" id="8403845">&#34;\n&#34;</span><span class="op" id="8403849">)</span><span class="op" id="8403850">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8403853"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8403865">{</span><span class="ident" id="8403866"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8403870">{</span><span class="string" id="8403871">&#34;&#34;</span><span class="op" id="8403873">,</span>&nbsp;<span class="string" id="8403875">&#34;tag&#34;</span><span class="op" id="8403880">}</span><span class="op" id="8403881">,</span>&nbsp;<span class="op" id="8403883">[</span><span class="op" id="8403884">]</span><span class="ident" id="8403885"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8403889">{</span><span class="op" id="8403890">}</span><span class="op" id="8403891">}</span><span class="op" id="8403892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8403895"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8403903">(</span><span class="string" id="8403904">&#34;&amp;unknown;entity&#34;</span><span class="op" id="8403921">)</span><span class="op" id="8403922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8403925"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8403935">{</span><span class="ident" id="8403936"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8403940">{</span><span class="string" id="8403941">&#34;&#34;</span><span class="op" id="8403943">,</span>&nbsp;<span class="string" id="8403945">&#34;tag&#34;</span><span class="op" id="8403950">}</span><span class="op" id="8403951">}</span><span class="op" id="8403952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8403955"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8403963">(</span><span class="string" id="8403964">&#34;\n&#34;</span><span class="op" id="8403968">)</span><span class="op" id="8403969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8403972"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8403984">{</span><span class="ident" id="8403985"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8403989">{</span><span class="string" id="8403990">&#34;&#34;</span><span class="op" id="8403992">,</span>&nbsp;<span class="string" id="8403994">&#34;tag&#34;</span><span class="op" id="8403999">}</span><span class="op" id="8404000">,</span>&nbsp;<span class="op" id="8404002">[</span><span class="op" id="8404003">]</span><span class="ident" id="8404004"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8404008">{</span><span class="op" id="8404009">}</span><span class="op" id="8404010">}</span><span class="op" id="8404011">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404014"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8404022">(</span><span class="string" id="8404023">&#34;&amp;#123&#34;</span><span class="op" id="8404030">)</span><span class="op" id="8404031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404034"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8404044">{</span><span class="ident" id="8404045"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8404049">{</span><span class="string" id="8404050">&#34;&#34;</span><span class="op" id="8404052">,</span>&nbsp;<span class="string" id="8404054">&#34;tag&#34;</span><span class="op" id="8404059">}</span><span class="op" id="8404060">}</span><span class="op" id="8404061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404064"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8404072">(</span><span class="string" id="8404073">&#34;\n&#34;</span><span class="op" id="8404077">)</span><span class="op" id="8404078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404081"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8404093">{</span><span class="ident" id="8404094"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8404098">{</span><span class="string" id="8404099">&#34;&#34;</span><span class="op" id="8404101">,</span>&nbsp;<span class="string" id="8404103">&#34;tag&#34;</span><span class="op" id="8404108">}</span><span class="op" id="8404109">,</span>&nbsp;<span class="op" id="8404111">[</span><span class="op" id="8404112">]</span><span class="ident" id="8404113"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8404117">{</span><span class="op" id="8404118">}</span><span class="op" id="8404119">}</span><span class="op" id="8404120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404123"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8404131">(</span><span class="string" id="8404132">&#34;&amp;#zzz;&#34;</span><span class="op" id="8404140">)</span><span class="op" id="8404141">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404144"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8404154">{</span><span class="ident" id="8404155"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8404159">{</span><span class="string" id="8404160">&#34;&#34;</span><span class="op" id="8404162">,</span>&nbsp;<span class="string" id="8404164">&#34;tag&#34;</span><span class="op" id="8404169">}</span><span class="op" id="8404170">}</span><span class="op" id="8404171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404174"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8404182">(</span><span class="string" id="8404183">&#34;\n&#34;</span><span class="op" id="8404187">)</span><span class="op" id="8404188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404191"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8404203">{</span><span class="ident" id="8404204"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8404208">{</span><span class="string" id="8404209">&#34;&#34;</span><span class="op" id="8404211">,</span>&nbsp;<span class="string" id="8404213">&#34;tag&#34;</span><span class="op" id="8404218">}</span><span class="op" id="8404219">,</span>&nbsp;<span class="op" id="8404221">[</span><span class="op" id="8404222">]</span><span class="ident" id="8404223"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8404227">{</span><span class="op" id="8404228">}</span><span class="op" id="8404229">}</span><span class="op" id="8404230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404233"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8404241">(</span><span class="string" id="8404242">&#34;&amp;なまえ3;&#34;</span><span class="op" id="8404256">)</span><span class="op" id="8404257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404260"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8404270">{</span><span class="ident" id="8404271"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8404275">{</span><span class="string" id="8404276">&#34;&#34;</span><span class="op" id="8404278">,</span>&nbsp;<span class="string" id="8404280">&#34;tag&#34;</span><span class="op" id="8404285">}</span><span class="op" id="8404286">}</span><span class="op" id="8404287">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404290"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8404298">(</span><span class="string" id="8404299">&#34;\n&#34;</span><span class="op" id="8404303">)</span><span class="op" id="8404304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404307"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8404319">{</span><span class="ident" id="8404320"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8404324">{</span><span class="string" id="8404325">&#34;&#34;</span><span class="op" id="8404327">,</span>&nbsp;<span class="string" id="8404329">&#34;tag&#34;</span><span class="op" id="8404334">}</span><span class="op" id="8404335">,</span>&nbsp;<span class="op" id="8404337">[</span><span class="op" id="8404338">]</span><span class="ident" id="8404339"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8404343">{</span><span class="op" id="8404344">}</span><span class="op" id="8404345">}</span><span class="op" id="8404346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404349"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8404357">(</span><span class="string" id="8404358">&#34;&amp;lt-gt;&#34;</span><span class="op" id="8404367">)</span><span class="op" id="8404368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404371"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8404381">{</span><span class="ident" id="8404382"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8404386">{</span><span class="string" id="8404387">&#34;&#34;</span><span class="op" id="8404389">,</span>&nbsp;<span class="string" id="8404391">&#34;tag&#34;</span><span class="op" id="8404396">}</span><span class="op" id="8404397">}</span><span class="op" id="8404398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404401"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8404409">(</span><span class="string" id="8404410">&#34;\n&#34;</span><span class="op" id="8404414">)</span><span class="op" id="8404415">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404418"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8404430">{</span><span class="ident" id="8404431"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8404435">{</span><span class="string" id="8404436">&#34;&#34;</span><span class="op" id="8404438">,</span>&nbsp;<span class="string" id="8404440">&#34;tag&#34;</span><span class="op" id="8404445">}</span><span class="op" id="8404446">,</span>&nbsp;<span class="op" id="8404448">[</span><span class="op" id="8404449">]</span><span class="ident" id="8404450"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8404454">{</span><span class="op" id="8404455">}</span><span class="op" id="8404456">}</span><span class="op" id="8404457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404460"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8404468">(</span><span class="string" id="8404469">&#34;&amp;;&#34;</span><span class="op" id="8404473">)</span><span class="op" id="8404474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404477"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8404487">{</span><span class="ident" id="8404488"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8404492">{</span><span class="string" id="8404493">&#34;&#34;</span><span class="op" id="8404495">,</span>&nbsp;<span class="string" id="8404497">&#34;tag&#34;</span><span class="op" id="8404502">}</span><span class="op" id="8404503">}</span><span class="op" id="8404504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404507"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8404515">(</span><span class="string" id="8404516">&#34;\n&#34;</span><span class="op" id="8404520">)</span><span class="op" id="8404521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404524"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8404536">{</span><span class="ident" id="8404537"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8404541">{</span><span class="string" id="8404542">&#34;&#34;</span><span class="op" id="8404544">,</span>&nbsp;<span class="string" id="8404546">&#34;tag&#34;</span><span class="op" id="8404551">}</span><span class="op" id="8404552">,</span>&nbsp;<span class="op" id="8404554">[</span><span class="op" id="8404555">]</span><span class="ident" id="8404556"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8404560">{</span><span class="op" id="8404561">}</span><span class="op" id="8404562">}</span><span class="op" id="8404563">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404566"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8404574">(</span><span class="string" id="8404575">&#34;&amp;0a;&#34;</span><span class="op" id="8404581">)</span><span class="op" id="8404582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404585"><a href="/gostd/encoding/xml/xml.go.html#6242712">EndElement</a></span><span class="op" id="8404595">{</span><span class="ident" id="8404596"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8404600">{</span><span class="string" id="8404601">&#34;&#34;</span><span class="op" id="8404603">,</span>&nbsp;<span class="string" id="8404605">&#34;tag&#34;</span><span class="op" id="8404610">}</span><span class="op" id="8404611">}</span><span class="op" id="8404612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404615"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8404623">(</span><span class="string" id="8404624">&#34;\n&#34;</span><span class="op" id="8404628">)</span><span class="op" id="8404629">,</span><br>
<span class="lineno"></span><span class="op" id="8404631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="8404634">func</span>&nbsp;<span class="ident" id="8404639">TestNonStrictRawToken</span><span class="op" id="8404660">(</span><span class="ident" id="8404661">t</span>&nbsp;<span class="op" id="8404663">*</span><span class="ident" id="8404664"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8404671">.</span><span class="ident" id="8404672"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8404673">)</span>&nbsp;<span class="op" id="8404675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404678">d</span>&nbsp;<span class="op" id="8404680">:=</span>&nbsp;<span class="ident" id="8404683"><a href="/gostd/encoding/xml/xml.go.html#6246568">NewDecoder</a></span><span class="op" id="8404693">(</span><span class="ident" id="8404694"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8404701">.</span><span class="ident" id="8404702"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="8404711">(</span><span class="ident" id="8404712"><a href="/gostd/encoding/xml/xml_test.go.html#8403442">nonStrictInput</a></span><span class="op" id="8404726">)</span><span class="op" id="8404727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404730"><a href="/gostd/encoding/xml/xml_test.go.html#8404678">d</a></span><span class="op" id="8404731">.</span><span class="ident" id="8404732"><a href="/gostd/encoding/xml/xml.go.html#6244990">Strict</a></span>&nbsp;<span class="op" id="8404739">=</span>&nbsp;<span class="builtintype" id="8404741">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404748"><a href="/gostd/encoding/xml/xml_test.go.html#8406123">testRawToken</a></span><span class="op" id="8404760">(</span><span class="ident" id="8404761"><a href="/gostd/encoding/xml/xml_test.go.html#8404661">t</a></span><span class="op" id="8404762">,</span>&nbsp;<span class="ident" id="8404764"><a href="/gostd/encoding/xml/xml_test.go.html#8404678">d</a></span><span class="op" id="8404765">,</span>&nbsp;<span class="ident" id="8404767"><a href="/gostd/encoding/xml/xml_test.go.html#8403442">nonStrictInput</a></span><span class="op" id="8404781">,</span>&nbsp;<span class="ident" id="8404783"><a href="/gostd/encoding/xml/xml_test.go.html#8403694">nonStrictTokens</a></span><span class="op" id="8404798">)</span><br>
<span class="lineno"></span><span class="op" id="8404800">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="8404803">type</span>&nbsp;<span class="ident" id="8404808">downCaser</span>&nbsp;<span class="keyword" id="8404818">struct</span>&nbsp;<span class="op" id="8404825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404828">t</span>&nbsp;<span class="op" id="8404830">*</span><span class="ident" id="8404831"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8404838">.</span><span class="ident" id="8404839"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404842">r</span>&nbsp;<span class="ident" id="8404844"><a href="/gostd/encoding/xml/xml_test.go.html#8399008">io</a></span><span class="op" id="8404846">.</span><span class="ident" id="8404847"><a href="/gostd/io/io.go.html#1426965">ByteReader</a></span><br>
<span class="lineno"></span><span class="op" id="8404858">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="8404861">func</span>&nbsp;<span class="op" id="8404866">(</span><span class="ident" id="8404867">d</span>&nbsp;<span class="op" id="8404869">*</span><span class="ident" id="8404870"><a href="/gostd/encoding/xml/xml_test.go.html#8404808">downCaser</a></span><span class="op" id="8404879">)</span>&nbsp;<span class="ident" id="8404881">ReadByte</span><span class="op" id="8404889">(</span><span class="op" id="8404890">)</span>&nbsp;<span class="op" id="8404892">(</span><span class="ident" id="8404893">c</span>&nbsp;<span class="builtintype" id="8404895">byte</span><span class="op" id="8404899">,</span>&nbsp;<span class="ident" id="8404901">err</span>&nbsp;<span class="builtintype" id="8404905">error</span><span class="op" id="8404910">)</span>&nbsp;<span class="op" id="8404912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404915"><a href="/gostd/encoding/xml/xml_test.go.html#8404893">c</a></span><span class="op" id="8404916">,</span>&nbsp;<span class="ident" id="8404918"><a href="/gostd/encoding/xml/xml_test.go.html#8404901">err</a></span>&nbsp;<span class="op" id="8404922">=</span>&nbsp;<span class="ident" id="8404924"><a href="/gostd/encoding/xml/xml_test.go.html#8404867">d</a></span><span class="op" id="8404925">.</span><span class="ident" id="8404926"><a href="/gostd/encoding/xml/xml_test.go.html#8404842">r</a></span><span class="op" id="8404927">.</span><span class="ident" id="8404928"><a href="/gostd/io/io.go.html#1426989">ReadByte</a></span><span class="op" id="8404936">(</span><span class="op" id="8404937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8404940">if</span>&nbsp;<span class="ident" id="8404943"><a href="/gostd/encoding/xml/xml_test.go.html#8404893">c</a></span>&nbsp;<span class="op" id="8404945">&gt;=</span>&nbsp;<span class="string" id="8404948">&#39;A&#39;</span>&nbsp;<span class="op" id="8404952">&amp;&amp;</span>&nbsp;<span class="ident" id="8404955"><a href="/gostd/encoding/xml/xml_test.go.html#8404893">c</a></span>&nbsp;<span class="op" id="8404957">&lt;=</span>&nbsp;<span class="string" id="8404960">&#39;Z&#39;</span>&nbsp;<span class="op" id="8404964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8404968"><a href="/gostd/encoding/xml/xml_test.go.html#8404893">c</a></span>&nbsp;<span class="op" id="8404970">+=</span>&nbsp;<span class="string" id="8404973">&#39;a&#39;</span>&nbsp;<span class="op" id="8404977">-</span>&nbsp;<span class="string" id="8404979">&#39;A&#39;</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8404984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8404987">return</span><br>
<span class="lineno"></span><span class="op" id="8404994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8404997">func</span>&nbsp;<span class="op" id="8405002">(</span><span class="ident" id="8405003">d</span>&nbsp;<span class="op" id="8405005">*</span><span class="ident" id="8405006"><a href="/gostd/encoding/xml/xml_test.go.html#8404808">downCaser</a></span><span class="op" id="8405015">)</span>&nbsp;<span class="ident" id="8405017">Read</span><span class="op" id="8405021">(</span><span class="ident" id="8405022">p</span>&nbsp;<span class="op" id="8405024">[</span><span class="op" id="8405025">]</span><span class="builtintype" id="8405026">byte</span><span class="op" id="8405030">)</span>&nbsp;<span class="op" id="8405032">(</span><span class="builtintype" id="8405033">int</span><span class="op" id="8405036">,</span>&nbsp;<span class="builtintype" id="8405038">error</span><span class="op" id="8405043">)</span>&nbsp;<span class="op" id="8405045">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8405048"><a href="/gostd/encoding/xml/xml_test.go.html#8405003">d</a></span><span class="op" id="8405049">.</span><span class="ident" id="8405050"><a href="/gostd/encoding/xml/xml_test.go.html#8404828">t</a></span><span class="op" id="8405051">.</span><span class="ident" id="8405052"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8405058">(</span><span class="string" id="8405059">&#34;unexpected&nbsp;Read&nbsp;call&nbsp;on&nbsp;downCaser&nbsp;reader&#34;</span><span class="op" id="8405101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8405104">panic</span><span class="op" id="8405109">(</span><span class="string" id="8405110">&#34;unreachable&#34;</span><span class="op" id="8405123">)</span><br>
<span class="lineno"></span><span class="op" id="8405125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8405128">func</span>&nbsp;<span class="ident" id="8405133">TestRawTokenAltEncoding</span><span class="op" id="8405156">(</span><span class="ident" id="8405157">t</span>&nbsp;<span class="op" id="8405159">*</span><span class="ident" id="8405160"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8405167">.</span><span class="ident" id="8405168"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8405169">)</span>&nbsp;<span class="op" id="8405171">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8405174">d</span>&nbsp;<span class="op" id="8405176">:=</span>&nbsp;<span class="ident" id="8405179"><a href="/gostd/encoding/xml/xml.go.html#6246568">NewDecoder</a></span><span class="op" id="8405189">(</span><span class="ident" id="8405190"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8405197">.</span><span class="ident" id="8405198"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="8405207">(</span><span class="ident" id="8405208"><a href="/gostd/encoding/xml/xml_test.go.html#8402333">testInputAltEncoding</a></span><span class="op" id="8405228">)</span><span class="op" id="8405229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8405232"><a href="/gostd/encoding/xml/xml_test.go.html#8405174">d</a></span><span class="op" id="8405233">.</span><span class="ident" id="8405234"><a href="/gostd/encoding/xml/xml.go.html#6245811">CharsetReader</a></span>&nbsp;<span class="op" id="8405248">=</span>&nbsp;<span class="keyword" id="8405250">func</span><span class="op" id="8405254">(</span><span class="ident" id="8405255">charset</span>&nbsp;<span class="builtintype" id="8405263">string</span><span class="op" id="8405269">,</span>&nbsp;<span class="ident" id="8405271">input</span>&nbsp;<span class="ident" id="8405277"><a href="/gostd/encoding/xml/xml_test.go.html#8399008">io</a></span><span class="op" id="8405279">.</span><span class="ident" id="8405280"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="8405286">)</span>&nbsp;<span class="op" id="8405288">(</span><span class="ident" id="8405289"><a href="/gostd/encoding/xml/xml_test.go.html#8399008">io</a></span><span class="op" id="8405291">.</span><span class="ident" id="8405292"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="8405298">,</span>&nbsp;<span class="builtintype" id="8405300">error</span><span class="op" id="8405305">)</span>&nbsp;<span class="op" id="8405307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8405311">if</span>&nbsp;<span class="ident" id="8405314"><a href="/gostd/encoding/xml/xml_test.go.html#8405255">charset</a></span>&nbsp;<span class="op" id="8405322">!=</span>&nbsp;<span class="string" id="8405325">&#34;x-testing-uppercase&#34;</span>&nbsp;<span class="op" id="8405347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8405352"><a href="/gostd/encoding/xml/xml_test.go.html#8405157">t</a></span><span class="op" id="8405353">.</span><span class="ident" id="8405354"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8405360">(</span><span class="string" id="8405361">&#34;unexpected&nbsp;charset&nbsp;%q&#34;</span><span class="op" id="8405384">,</span>&nbsp;<span class="ident" id="8405386"><a href="/gostd/encoding/xml/xml_test.go.html#8405255">charset</a></span><span class="op" id="8405393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8405397">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8405401">return</span>&nbsp;<span class="op" id="8405408">&amp;</span><span class="ident" id="8405409"><a href="/gostd/encoding/xml/xml_test.go.html#8404808">downCaser</a></span><span class="op" id="8405418">{</span><span class="ident" id="8405419"><a href="/gostd/encoding/xml/xml_test.go.html#8405157">t</a></span><span class="op" id="8405420">,</span>&nbsp;<span class="ident" id="8405422"><a href="/gostd/encoding/xml/xml_test.go.html#8405271">input</a></span><span class="op" id="8405427">.</span><span class="op" id="8405428">(</span><span class="ident" id="8405429"><a href="/gostd/encoding/xml/xml_test.go.html#8399008">io</a></span><span class="op" id="8405431">.</span><span class="ident" id="8405432"><a href="/gostd/io/io.go.html#1426965">ByteReader</a></span><span class="op" id="8405442">)</span><span class="op" id="8405443">}</span><span class="op" id="8405444">,</span>&nbsp;<span class="builtintype" id="8405446">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8405451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8405454"><a href="/gostd/encoding/xml/xml_test.go.html#8406123">testRawToken</a></span><span class="op" id="8405466">(</span><span class="ident" id="8405467"><a href="/gostd/encoding/xml/xml_test.go.html#8405157">t</a></span><span class="op" id="8405468">,</span>&nbsp;<span class="ident" id="8405470"><a href="/gostd/encoding/xml/xml_test.go.html#8405174">d</a></span><span class="op" id="8405471">,</span>&nbsp;<span class="ident" id="8405473"><a href="/gostd/encoding/xml/xml_test.go.html#8402333">testInputAltEncoding</a></span><span class="op" id="8405493">,</span>&nbsp;<span class="ident" id="8405495"><a href="/gostd/encoding/xml/xml_test.go.html#8402434">rawTokensAltEncoding</a></span><span class="op" id="8405515">)</span><br>
<span class="lineno"></span><span class="op" id="8405517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="8405520">func</span>&nbsp;<span class="ident" id="8405525">TestRawTokenAltEncodingNoConverter</span><span class="op" id="8405559">(</span><span class="ident" id="8405560">t</span>&nbsp;<span class="op" id="8405562">*</span><span class="ident" id="8405563"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8405570">.</span><span class="ident" id="8405571"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8405572">)</span>&nbsp;<span class="op" id="8405574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8405577">d</span>&nbsp;<span class="op" id="8405579">:=</span>&nbsp;<span class="ident" id="8405582"><a href="/gostd/encoding/xml/xml.go.html#6246568">NewDecoder</a></span><span class="op" id="8405592">(</span><span class="ident" id="8405593"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8405600">.</span><span class="ident" id="8405601"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="8405610">(</span><span class="ident" id="8405611"><a href="/gostd/encoding/xml/xml_test.go.html#8402333">testInputAltEncoding</a></span><span class="op" id="8405631">)</span><span class="op" id="8405632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8405635">token</span><span class="op" id="8405640">,</span>&nbsp;<span class="ident" id="8405642">err</span>&nbsp;<span class="op" id="8405646">:=</span>&nbsp;<span class="ident" id="8405649"><a href="/gostd/encoding/xml/xml_test.go.html#8405577">d</a></span><span class="op" id="8405650">.</span><span class="ident" id="8405651"><a href="/gostd/encoding/xml/xml.go.html#6253875">RawToken</a></span><span class="op" id="8405659">(</span><span class="op" id="8405660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8405663">if</span>&nbsp;<span class="ident" id="8405666"><a href="/gostd/encoding/xml/xml_test.go.html#8405635">token</a></span>&nbsp;<span class="op" id="8405672">==</span>&nbsp;<span class="builtintype" id="8405675">nil</span>&nbsp;<span class="op" id="8405679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8405683"><a href="/gostd/encoding/xml/xml_test.go.html#8405560">t</a></span><span class="op" id="8405684">.</span><span class="ident" id="8405685"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8405691">(</span><span class="string" id="8405692">&#34;expected&nbsp;a&nbsp;token&nbsp;on&nbsp;first&nbsp;RawToken&nbsp;call&#34;</span><span class="op" id="8405733">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8405736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8405739">if</span>&nbsp;<span class="ident" id="8405742"><a href="/gostd/encoding/xml/xml_test.go.html#8405642">err</a></span>&nbsp;<span class="op" id="8405746">!=</span>&nbsp;<span class="builtintype" id="8405749">nil</span>&nbsp;<span class="op" id="8405753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8405757"><a href="/gostd/encoding/xml/xml_test.go.html#8405560">t</a></span><span class="op" id="8405758">.</span><span class="ident" id="8405759"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8405764">(</span><span class="ident" id="8405765"><a href="/gostd/encoding/xml/xml_test.go.html#8405642">err</a></span><span class="op" id="8405768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8405771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8405774"><a href="/gostd/encoding/xml/xml_test.go.html#8405635">token</a></span><span class="op" id="8405779">,</span>&nbsp;<span class="ident" id="8405781"><a href="/gostd/encoding/xml/xml_test.go.html#8405642">err</a></span>&nbsp;<span class="op" id="8405785">=</span>&nbsp;<span class="ident" id="8405787"><a href="/gostd/encoding/xml/xml_test.go.html#8405577">d</a></span><span class="op" id="8405788">.</span><span class="ident" id="8405789"><a href="/gostd/encoding/xml/xml.go.html#6253875">RawToken</a></span><span class="op" id="8405797">(</span><span class="op" id="8405798">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8405801">if</span>&nbsp;<span class="ident" id="8405804"><a href="/gostd/encoding/xml/xml_test.go.html#8405635">token</a></span>&nbsp;<span class="op" id="8405810">!=</span>&nbsp;<span class="builtintype" id="8405813">nil</span>&nbsp;<span class="op" id="8405817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8405821"><a href="/gostd/encoding/xml/xml_test.go.html#8405560">t</a></span><span class="op" id="8405822">.</span><span class="ident" id="8405823"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8405829">(</span><span class="string" id="8405830">&#34;expected&nbsp;a&nbsp;nil&nbsp;token;&nbsp;got&nbsp;%#v&#34;</span><span class="op" id="8405861">,</span>&nbsp;<span class="ident" id="8405863"><a href="/gostd/encoding/xml/xml_test.go.html#8405635">token</a></span><span class="op" id="8405868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8405871">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8405874">if</span>&nbsp;<span class="ident" id="8405877"><a href="/gostd/encoding/xml/xml_test.go.html#8405642">err</a></span>&nbsp;<span class="op" id="8405881">==</span>&nbsp;<span class="builtintype" id="8405884">nil</span>&nbsp;<span class="op" id="8405888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8405892"><a href="/gostd/encoding/xml/xml_test.go.html#8405560">t</a></span><span class="op" id="8405893">.</span><span class="ident" id="8405894"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8405900">(</span><span class="string" id="8405901">&#34;expected&nbsp;an&nbsp;error&nbsp;on&nbsp;second&nbsp;RawToken&nbsp;call&#34;</span><span class="op" id="8405944">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8405947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8405950">const</span>&nbsp;<span class="ident" id="8405956">encoding</span>&nbsp;<span class="op" id="8405965">=</span>&nbsp;<span class="string" id="8405967">&#34;x-testing-uppercase&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8405990">if</span>&nbsp;<span class="op" id="8405993">!</span><span class="ident" id="8405994"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8406001">.</span><span class="ident" id="8406002"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="8406010">(</span><span class="ident" id="8406011"><a href="/gostd/encoding/xml/xml_test.go.html#8405642">err</a></span><span class="op" id="8406014">.</span><span class="ident" id="8406015">Error</span><span class="op" id="8406020">(</span><span class="op" id="8406021">)</span><span class="op" id="8406022">,</span>&nbsp;<span class="ident" id="8406024"><a href="/gostd/encoding/xml/xml_test.go.html#8405956">encoding</a></span><span class="op" id="8406032">)</span>&nbsp;<span class="op" id="8406034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8406038"><a href="/gostd/encoding/xml/xml_test.go.html#8405560">t</a></span><span class="op" id="8406039">.</span><span class="ident" id="8406040"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8406046">(</span><span class="string" id="8406047">&#34;expected&nbsp;error&nbsp;to&nbsp;contain&nbsp;%q;&nbsp;got&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8406092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8406097"><a href="/gostd/encoding/xml/xml_test.go.html#8405956">encoding</a></span><span class="op" id="8406105">,</span>&nbsp;<span class="ident" id="8406107"><a href="/gostd/encoding/xml/xml_test.go.html#8405642">err</a></span><span class="op" id="8406110">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8406113">}</span><br>
<span class="lineno"></span><span class="op" id="8406115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8406118">func</span>&nbsp;<span class="ident" id="8406123">testRawToken</span><span class="op" id="8406135">(</span><span class="ident" id="8406136">t</span>&nbsp;<span class="op" id="8406138">*</span><span class="ident" id="8406139"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8406146">.</span><span class="ident" id="8406147"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8406148">,</span>&nbsp;<span class="ident" id="8406150">d</span>&nbsp;<span class="op" id="8406152">*</span><span class="ident" id="8406153"><a href="/gostd/encoding/xml/xml.go.html#6244129">Decoder</a></span><span class="op" id="8406160">,</span>&nbsp;<span class="ident" id="8406162">raw</span>&nbsp;<span class="builtintype" id="8406166">string</span><span class="op" id="8406172">,</span>&nbsp;<span class="ident" id="8406174">rawTokens</span>&nbsp;<span class="op" id="8406184">[</span><span class="op" id="8406185">]</span><span class="ident" id="8406186"><a href="/gostd/encoding/xml/xml.go.html#6242284">Token</a></span><span class="op" id="8406191">)</span>&nbsp;<span class="op" id="8406193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8406196">lastEnd</span>&nbsp;<span class="op" id="8406204">:=</span>&nbsp;<span class="builtintype" id="8406207">int64</span><span class="op" id="8406212">(</span><span class="num" id="8406213">0</span><span class="op" id="8406214">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8406217">for</span>&nbsp;<span class="ident" id="8406221">i</span><span class="op" id="8406222">,</span>&nbsp;<span class="ident" id="8406224">want</span>&nbsp;<span class="op" id="8406229">:=</span>&nbsp;<span class="keyword" id="8406232">range</span>&nbsp;<span class="ident" id="8406238"><a href="/gostd/encoding/xml/xml_test.go.html#8406174">rawTokens</a></span>&nbsp;<span class="op" id="8406248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8406252">start</span>&nbsp;<span class="op" id="8406258">:=</span>&nbsp;<span class="ident" id="8406261"><a href="/gostd/encoding/xml/xml_test.go.html#8406150">d</a></span><span class="op" id="8406262">.</span><span class="ident" id="8406263"><a href="/gostd/encoding/xml/xml.go.html#6261527">InputOffset</a></span><span class="op" id="8406274">(</span><span class="op" id="8406275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8406279">have</span><span class="op" id="8406283">,</span>&nbsp;<span class="ident" id="8406285">err</span>&nbsp;<span class="op" id="8406289">:=</span>&nbsp;<span class="ident" id="8406292"><a href="/gostd/encoding/xml/xml_test.go.html#8406150">d</a></span><span class="op" id="8406293">.</span><span class="ident" id="8406294"><a href="/gostd/encoding/xml/xml.go.html#6253875">RawToken</a></span><span class="op" id="8406302">(</span><span class="op" id="8406303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8406307">end</span>&nbsp;<span class="op" id="8406311">:=</span>&nbsp;<span class="ident" id="8406314"><a href="/gostd/encoding/xml/xml_test.go.html#8406150">d</a></span><span class="op" id="8406315">.</span><span class="ident" id="8406316"><a href="/gostd/encoding/xml/xml.go.html#6261527">InputOffset</a></span><span class="op" id="8406327">(</span><span class="op" id="8406328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8406332">if</span>&nbsp;<span class="ident" id="8406335"><a href="/gostd/encoding/xml/xml_test.go.html#8406285">err</a></span>&nbsp;<span class="op" id="8406339">!=</span>&nbsp;<span class="builtintype" id="8406342">nil</span>&nbsp;<span class="op" id="8406346">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8406351"><a href="/gostd/encoding/xml/xml_test.go.html#8406136">t</a></span><span class="op" id="8406352">.</span><span class="ident" id="8406353"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8406359">(</span><span class="string" id="8406360">&#34;token&nbsp;%d:&nbsp;unexpected&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8406392">,</span>&nbsp;<span class="ident" id="8406394"><a href="/gostd/encoding/xml/xml_test.go.html#8406221">i</a></span><span class="op" id="8406395">,</span>&nbsp;<span class="ident" id="8406397"><a href="/gostd/encoding/xml/xml_test.go.html#8406285">err</a></span><span class="op" id="8406400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8406404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8406408">if</span>&nbsp;<span class="op" id="8406411">!</span><span class="ident" id="8406412"><a href="/gostd/encoding/xml/xml_test.go.html#8399014">reflect</a></span><span class="op" id="8406419">.</span><span class="ident" id="8406420"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="8406429">(</span><span class="ident" id="8406430"><a href="/gostd/encoding/xml/xml_test.go.html#8406279">have</a></span><span class="op" id="8406434">,</span>&nbsp;<span class="ident" id="8406436"><a href="/gostd/encoding/xml/xml_test.go.html#8406224">want</a></span><span class="op" id="8406440">)</span>&nbsp;<span class="op" id="8406442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8406447">var</span>&nbsp;<span class="ident" id="8406451">shave</span><span class="op" id="8406456">,</span>&nbsp;<span class="ident" id="8406458">swant</span>&nbsp;<span class="builtintype" id="8406464">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8406474">if</span>&nbsp;<span class="ident" id="8406477">_</span><span class="op" id="8406478">,</span>&nbsp;<span class="ident" id="8406480">ok</span>&nbsp;<span class="op" id="8406483">:=</span>&nbsp;<span class="ident" id="8406486"><a href="/gostd/encoding/xml/xml_test.go.html#8406279">have</a></span><span class="op" id="8406490">.</span><span class="op" id="8406491">(</span><span class="ident" id="8406492"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8406500">)</span><span class="op" id="8406501">;</span>&nbsp;<span class="ident" id="8406503"><a href="/gostd/encoding/xml/xml_test.go.html#8406480">ok</a></span>&nbsp;<span class="op" id="8406506">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8406512"><a href="/gostd/encoding/xml/xml_test.go.html#8406451">shave</a></span>&nbsp;<span class="op" id="8406518">=</span>&nbsp;<span class="ident" id="8406520"><a href="/gostd/encoding/xml/xml_test.go.html#8399001">fmt</a></span><span class="op" id="8406523">.</span><span class="ident" id="8406524"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="8406531">(</span><span class="string" id="8406532">&#34;CharData(%q)&#34;</span><span class="op" id="8406546">,</span>&nbsp;<span class="ident" id="8406548"><a href="/gostd/encoding/xml/xml_test.go.html#8406279">have</a></span><span class="op" id="8406552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8406557">}</span>&nbsp;<span class="keyword" id="8406559">else</span>&nbsp;<span class="op" id="8406564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8406570"><a href="/gostd/encoding/xml/xml_test.go.html#8406451">shave</a></span>&nbsp;<span class="op" id="8406576">=</span>&nbsp;<span class="ident" id="8406578"><a href="/gostd/encoding/xml/xml_test.go.html#8399001">fmt</a></span><span class="op" id="8406581">.</span><span class="ident" id="8406582"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="8406589">(</span><span class="string" id="8406590">&#34;%#v&#34;</span><span class="op" id="8406595">,</span>&nbsp;<span class="ident" id="8406597"><a href="/gostd/encoding/xml/xml_test.go.html#8406279">have</a></span><span class="op" id="8406601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8406606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8406611">if</span>&nbsp;<span class="ident" id="8406614">_</span><span class="op" id="8406615">,</span>&nbsp;<span class="ident" id="8406617">ok</span>&nbsp;<span class="op" id="8406620">:=</span>&nbsp;<span class="ident" id="8406623"><a href="/gostd/encoding/xml/xml_test.go.html#8406224">want</a></span><span class="op" id="8406627">.</span><span class="op" id="8406628">(</span><span class="ident" id="8406629"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8406637">)</span><span class="op" id="8406638">;</span>&nbsp;<span class="ident" id="8406640"><a href="/gostd/encoding/xml/xml_test.go.html#8406617">ok</a></span>&nbsp;<span class="op" id="8406643">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8406649"><a href="/gostd/encoding/xml/xml_test.go.html#8406458">swant</a></span>&nbsp;<span class="op" id="8406655">=</span>&nbsp;<span class="ident" id="8406657"><a href="/gostd/encoding/xml/xml_test.go.html#8399001">fmt</a></span><span class="op" id="8406660">.</span><span class="ident" id="8406661"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="8406668">(</span><span class="string" id="8406669">&#34;CharData(%q)&#34;</span><span class="op" id="8406683">,</span>&nbsp;<span class="ident" id="8406685"><a href="/gostd/encoding/xml/xml_test.go.html#8406224">want</a></span><span class="op" id="8406689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8406694">}</span>&nbsp;<span class="keyword" id="8406696">else</span>&nbsp;<span class="op" id="8406701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8406707"><a href="/gostd/encoding/xml/xml_test.go.html#8406458">swant</a></span>&nbsp;<span class="op" id="8406713">=</span>&nbsp;<span class="ident" id="8406715"><a href="/gostd/encoding/xml/xml_test.go.html#8399001">fmt</a></span><span class="op" id="8406718">.</span><span class="ident" id="8406719"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="8406726">(</span><span class="string" id="8406727">&#34;%#v&#34;</span><span class="op" id="8406732">,</span>&nbsp;<span class="ident" id="8406734"><a href="/gostd/encoding/xml/xml_test.go.html#8406224">want</a></span><span class="op" id="8406738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8406743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8406748"><a href="/gostd/encoding/xml/xml_test.go.html#8406136">t</a></span><span class="op" id="8406749">.</span><span class="ident" id="8406750"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8406756">(</span><span class="string" id="8406757">&#34;token&nbsp;%d&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8406781">,</span>&nbsp;<span class="ident" id="8406783"><a href="/gostd/encoding/xml/xml_test.go.html#8406221">i</a></span><span class="op" id="8406784">,</span>&nbsp;<span class="ident" id="8406786"><a href="/gostd/encoding/xml/xml_test.go.html#8406451">shave</a></span><span class="op" id="8406791">,</span>&nbsp;<span class="ident" id="8406793"><a href="/gostd/encoding/xml/xml_test.go.html#8406458">swant</a></span><span class="op" id="8406798">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8406802">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8406807">//&nbsp;Check&nbsp;that&nbsp;InputOffset&nbsp;returned&nbsp;actual&nbsp;token.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8406858">switch</span>&nbsp;<span class="op" id="8406865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8406869">case</span>&nbsp;<span class="ident" id="8406874"><a href="/gostd/encoding/xml/xml_test.go.html#8406252">start</a></span>&nbsp;<span class="op" id="8406880">&lt;</span>&nbsp;<span class="ident" id="8406882"><a href="/gostd/encoding/xml/xml_test.go.html#8406196">lastEnd</a></span><span class="op" id="8406889">:</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8406894"><a href="/gostd/encoding/xml/xml_test.go.html#8406136">t</a></span><span class="op" id="8406895">.</span><span class="ident" id="8406896"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8406902">(</span><span class="string" id="8406903">&#34;token&nbsp;%d:&nbsp;position&nbsp;[%d,%d)&nbsp;for&nbsp;%T&nbsp;is&nbsp;before&nbsp;previous&nbsp;token&#34;</span><span class="op" id="8406963">,</span>&nbsp;<span class="ident" id="8406965"><a href="/gostd/encoding/xml/xml_test.go.html#8406221">i</a></span><span class="op" id="8406966">,</span>&nbsp;<span class="ident" id="8406968"><a href="/gostd/encoding/xml/xml_test.go.html#8406252">start</a></span><span class="op" id="8406973">,</span>&nbsp;<span class="ident" id="8406975"><a href="/gostd/encoding/xml/xml_test.go.html#8406307">end</a></span><span class="op" id="8406978">,</span>&nbsp;<span class="ident" id="8406980"><a href="/gostd/encoding/xml/xml_test.go.html#8406279">have</a></span><span class="op" id="8406984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8406988">case</span>&nbsp;<span class="ident" id="8406993"><a href="/gostd/encoding/xml/xml_test.go.html#8406252">start</a></span>&nbsp;<span class="op" id="8406999">&gt;=</span>&nbsp;<span class="ident" id="8407002"><a href="/gostd/encoding/xml/xml_test.go.html#8406307">end</a></span><span class="op" id="8407005">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8407010">//&nbsp;Special&nbsp;case:&nbsp;EndElement&nbsp;can&nbsp;be&nbsp;synthesized.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8407061">if</span>&nbsp;<span class="ident" id="8407064"><a href="/gostd/encoding/xml/xml_test.go.html#8406252">start</a></span>&nbsp;<span class="op" id="8407070">==</span>&nbsp;<span class="ident" id="8407073"><a href="/gostd/encoding/xml/xml_test.go.html#8406307">end</a></span>&nbsp;<span class="op" id="8407077">&amp;&amp;</span>&nbsp;<span class="ident" id="8407080"><a href="/gostd/encoding/xml/xml_test.go.html#8406307">end</a></span>&nbsp;<span class="op" id="8407084">==</span>&nbsp;<span class="ident" id="8407087"><a href="/gostd/encoding/xml/xml_test.go.html#8406196">lastEnd</a></span>&nbsp;<span class="op" id="8407095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8407101">break</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8407110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8407115"><a href="/gostd/encoding/xml/xml_test.go.html#8406136">t</a></span><span class="op" id="8407116">.</span><span class="ident" id="8407117"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8407123">(</span><span class="string" id="8407124">&#34;token&nbsp;%d:&nbsp;position&nbsp;[%d,%d)&nbsp;for&nbsp;%T&nbsp;is&nbsp;empty&#34;</span><span class="op" id="8407168">,</span>&nbsp;<span class="ident" id="8407170"><a href="/gostd/encoding/xml/xml_test.go.html#8406221">i</a></span><span class="op" id="8407171">,</span>&nbsp;<span class="ident" id="8407173"><a href="/gostd/encoding/xml/xml_test.go.html#8406252">start</a></span><span class="op" id="8407178">,</span>&nbsp;<span class="ident" id="8407180"><a href="/gostd/encoding/xml/xml_test.go.html#8406307">end</a></span><span class="op" id="8407183">,</span>&nbsp;<span class="ident" id="8407185"><a href="/gostd/encoding/xml/xml_test.go.html#8406279">have</a></span><span class="op" id="8407189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8407193">case</span>&nbsp;<span class="ident" id="8407198"><a href="/gostd/encoding/xml/xml_test.go.html#8406307">end</a></span>&nbsp;<span class="op" id="8407202">&gt;</span>&nbsp;<span class="builtintype" id="8407204">int64</span><span class="op" id="8407209">(</span><span class="builtinfunc" id="8407210">len</span><span class="op" id="8407213">(</span><span class="ident" id="8407214"><a href="/gostd/encoding/xml/xml_test.go.html#8406162">raw</a></span><span class="op" id="8407217">)</span><span class="op" id="8407218">)</span><span class="op" id="8407219">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8407224"><a href="/gostd/encoding/xml/xml_test.go.html#8406136">t</a></span><span class="op" id="8407225">.</span><span class="ident" id="8407226"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8407232">(</span><span class="string" id="8407233">&#34;token&nbsp;%d:&nbsp;position&nbsp;[%d,%d)&nbsp;for&nbsp;%T&nbsp;extends&nbsp;beyond&nbsp;input&#34;</span><span class="op" id="8407289">,</span>&nbsp;<span class="ident" id="8407291"><a href="/gostd/encoding/xml/xml_test.go.html#8406221">i</a></span><span class="op" id="8407292">,</span>&nbsp;<span class="ident" id="8407294"><a href="/gostd/encoding/xml/xml_test.go.html#8406252">start</a></span><span class="op" id="8407299">,</span>&nbsp;<span class="ident" id="8407301"><a href="/gostd/encoding/xml/xml_test.go.html#8406307">end</a></span><span class="op" id="8407304">,</span>&nbsp;<span class="ident" id="8407306"><a href="/gostd/encoding/xml/xml_test.go.html#8406279">have</a></span><span class="op" id="8407310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8407314">default</span><span class="op" id="8407321">:</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8407326">text</span>&nbsp;<span class="op" id="8407331">:=</span>&nbsp;<span class="ident" id="8407334"><a href="/gostd/encoding/xml/xml_test.go.html#8406162">raw</a></span><span class="op" id="8407337">[</span><span class="ident" id="8407338"><a href="/gostd/encoding/xml/xml_test.go.html#8406252">start</a></span><span class="op" id="8407343">:</span><span class="ident" id="8407344"><a href="/gostd/encoding/xml/xml_test.go.html#8406307">end</a></span><span class="op" id="8407347">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8407352">if</span>&nbsp;<span class="ident" id="8407355"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8407362">.</span><span class="ident" id="8407363"><a href="/gostd/strings/strings.go.html#2968566">ContainsAny</a></span><span class="op" id="8407374">(</span><span class="ident" id="8407375"><a href="/gostd/encoding/xml/xml_test.go.html#8407326">text</a></span><span class="op" id="8407379">,</span>&nbsp;<span class="string" id="8407381">&#34;&lt;&gt;&#34;</span><span class="op" id="8407385">)</span>&nbsp;<span class="op" id="8407387">&amp;&amp;</span>&nbsp;<span class="op" id="8407390">(</span><span class="op" id="8407391">!</span><span class="ident" id="8407392"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8407399">.</span><span class="ident" id="8407400"><a href="/gostd/strings/strings.go.html#2975366">HasPrefix</a></span><span class="op" id="8407409">(</span><span class="ident" id="8407410"><a href="/gostd/encoding/xml/xml_test.go.html#8407326">text</a></span><span class="op" id="8407414">,</span>&nbsp;<span class="string" id="8407416">&#34;&lt;&#34;</span><span class="op" id="8407419">)</span>&nbsp;<span class="op" id="8407421">||</span>&nbsp;<span class="op" id="8407424">!</span><span class="ident" id="8407425"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8407432">.</span><span class="ident" id="8407433"><a href="/gostd/strings/strings.go.html#2975527">HasSuffix</a></span><span class="op" id="8407442">(</span><span class="ident" id="8407443"><a href="/gostd/encoding/xml/xml_test.go.html#8407326">text</a></span><span class="op" id="8407447">,</span>&nbsp;<span class="string" id="8407449">&#34;&gt;&#34;</span><span class="op" id="8407452">)</span><span class="op" id="8407453">)</span>&nbsp;<span class="op" id="8407455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8407461"><a href="/gostd/encoding/xml/xml_test.go.html#8406136">t</a></span><span class="op" id="8407462">.</span><span class="ident" id="8407463"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8407469">(</span><span class="string" id="8407470">&#34;token&nbsp;%d:&nbsp;misaligned&nbsp;raw&nbsp;token&nbsp;%#q&nbsp;for&nbsp;%T&#34;</span><span class="op" id="8407513">,</span>&nbsp;<span class="ident" id="8407515"><a href="/gostd/encoding/xml/xml_test.go.html#8406221">i</a></span><span class="op" id="8407516">,</span>&nbsp;<span class="ident" id="8407518"><a href="/gostd/encoding/xml/xml_test.go.html#8407326">text</a></span><span class="op" id="8407522">,</span>&nbsp;<span class="ident" id="8407524"><a href="/gostd/encoding/xml/xml_test.go.html#8406279">have</a></span><span class="op" id="8407528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8407533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8407537">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8407541"><a href="/gostd/encoding/xml/xml_test.go.html#8406196">lastEnd</a></span>&nbsp;<span class="op" id="8407549">=</span>&nbsp;<span class="ident" id="8407551"><a href="/gostd/encoding/xml/xml_test.go.html#8406307">end</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8407556">}</span><br>
<span class="lineno"></span><span class="op" id="8407558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8407561">//&nbsp;Ensure&nbsp;that&nbsp;directives&nbsp;(specifically&nbsp;!DOCTYPE)&nbsp;include&nbsp;the&nbsp;complete</span><br>
<span class="lineno">330</span><span class="comment" id="8407632">//&nbsp;text&nbsp;of&nbsp;any&nbsp;nested&nbsp;directives,&nbsp;noting&nbsp;that&nbsp;&lt;&nbsp;and&nbsp;&gt;&nbsp;do&nbsp;not&nbsp;change</span><br>
<span class="lineno"></span><span class="comment" id="8407700">//&nbsp;nesting&nbsp;depth&nbsp;if&nbsp;they&nbsp;are&nbsp;in&nbsp;single&nbsp;or&nbsp;double&nbsp;quotes.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8407758">var</span>&nbsp;<span class="ident" id="8407762">nestedDirectivesInput</span>&nbsp;<span class="op" id="8407784">=</span>&nbsp;<span class="string" id="8407786">`<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;rdf&nbsp;&#34;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#34;&gt;]&gt;<br>
<span class="lineno">335</span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&gt;&#34;&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&lt;&#34;&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&gt;&#39;&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&lt;&#39;&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&#34;&gt;&#39;&gt;]&gt;<br>
<span class="lineno">340</span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&#39;&lt;&#34;&gt;]&gt;<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8408052">var</span>&nbsp;<span class="ident" id="8408056">nestedDirectivesTokens</span>&nbsp;<span class="op" id="8408079">=</span>&nbsp;<span class="op" id="8408081">[</span><span class="op" id="8408082">]</span><span class="ident" id="8408083"><a href="/gostd/encoding/xml/xml.go.html#6242284">Token</a></span><span class="op" id="8408088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408091"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8408099">(</span><span class="string" id="8408100">&#34;\n&#34;</span><span class="op" id="8408104">)</span><span class="op" id="8408105">,</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408108"><a href="/gostd/encoding/xml/xml.go.html#6243618">Directive</a></span><span class="op" id="8408117">(</span><span class="string" id="8408118">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;rdf&nbsp;&#34;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#34;&gt;]`</span><span class="op" id="8408189">)</span><span class="op" id="8408190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408193"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8408201">(</span><span class="string" id="8408202">&#34;\n&#34;</span><span class="op" id="8408206">)</span><span class="op" id="8408207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408210"><a href="/gostd/encoding/xml/xml.go.html#6243618">Directive</a></span><span class="op" id="8408219">(</span><span class="string" id="8408220">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&gt;&#34;&gt;]`</span><span class="op" id="8408249">)</span><span class="op" id="8408250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408253"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8408261">(</span><span class="string" id="8408262">&#34;\n&#34;</span><span class="op" id="8408266">)</span><span class="op" id="8408267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408270"><a href="/gostd/encoding/xml/xml.go.html#6243618">Directive</a></span><span class="op" id="8408279">(</span><span class="string" id="8408280">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&lt;&#34;&gt;]`</span><span class="op" id="8408309">)</span><span class="op" id="8408310">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408313"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8408321">(</span><span class="string" id="8408322">&#34;\n&#34;</span><span class="op" id="8408326">)</span><span class="op" id="8408327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408330"><a href="/gostd/encoding/xml/xml.go.html#6243618">Directive</a></span><span class="op" id="8408339">(</span><span class="string" id="8408340">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&gt;&#39;&gt;]`</span><span class="op" id="8408369">)</span><span class="op" id="8408370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408373"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8408381">(</span><span class="string" id="8408382">&#34;\n&#34;</span><span class="op" id="8408386">)</span><span class="op" id="8408387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408390"><a href="/gostd/encoding/xml/xml.go.html#6243618">Directive</a></span><span class="op" id="8408399">(</span><span class="string" id="8408400">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&lt;&#39;&gt;]`</span><span class="op" id="8408429">)</span><span class="op" id="8408430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408433"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8408441">(</span><span class="string" id="8408442">&#34;\n&#34;</span><span class="op" id="8408446">)</span><span class="op" id="8408447">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408450"><a href="/gostd/encoding/xml/xml.go.html#6243618">Directive</a></span><span class="op" id="8408459">(</span><span class="string" id="8408460">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&#34;&gt;&#39;&gt;]`</span><span class="op" id="8408490">)</span><span class="op" id="8408491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408494"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8408502">(</span><span class="string" id="8408503">&#34;\n&#34;</span><span class="op" id="8408507">)</span><span class="op" id="8408508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408511"><a href="/gostd/encoding/xml/xml.go.html#6243618">Directive</a></span><span class="op" id="8408520">(</span><span class="string" id="8408521">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&#39;&lt;&#34;&gt;]`</span><span class="op" id="8408551">)</span><span class="op" id="8408552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408555"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8408563">(</span><span class="string" id="8408564">&#34;\n&#34;</span><span class="op" id="8408568">)</span><span class="op" id="8408569">,</span><br>
<span class="lineno"></span><span class="op" id="8408571">}</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span><span class="keyword" id="8408574">func</span>&nbsp;<span class="ident" id="8408579">TestNestedDirectives</span><span class="op" id="8408599">(</span><span class="ident" id="8408600">t</span>&nbsp;<span class="op" id="8408602">*</span><span class="ident" id="8408603"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8408610">.</span><span class="ident" id="8408611"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8408612">)</span>&nbsp;<span class="op" id="8408614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408617">d</span>&nbsp;<span class="op" id="8408619">:=</span>&nbsp;<span class="ident" id="8408622"><a href="/gostd/encoding/xml/xml.go.html#6246568">NewDecoder</a></span><span class="op" id="8408632">(</span><span class="ident" id="8408633"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8408640">.</span><span class="ident" id="8408641"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="8408650">(</span><span class="ident" id="8408651"><a href="/gostd/encoding/xml/xml_test.go.html#8407762">nestedDirectivesInput</a></span><span class="op" id="8408672">)</span><span class="op" id="8408673">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8408677">for</span>&nbsp;<span class="ident" id="8408681">i</span><span class="op" id="8408682">,</span>&nbsp;<span class="ident" id="8408684">want</span>&nbsp;<span class="op" id="8408689">:=</span>&nbsp;<span class="keyword" id="8408692">range</span>&nbsp;<span class="ident" id="8408698"><a href="/gostd/encoding/xml/xml_test.go.html#8408056">nestedDirectivesTokens</a></span>&nbsp;<span class="op" id="8408721">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408725">have</span><span class="op" id="8408729">,</span>&nbsp;<span class="ident" id="8408731">err</span>&nbsp;<span class="op" id="8408735">:=</span>&nbsp;<span class="ident" id="8408738"><a href="/gostd/encoding/xml/xml_test.go.html#8408617">d</a></span><span class="op" id="8408739">.</span><span class="ident" id="8408740"><a href="/gostd/encoding/xml/xml.go.html#6247764">Token</a></span><span class="op" id="8408745">(</span><span class="op" id="8408746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8408750">if</span>&nbsp;<span class="ident" id="8408753"><a href="/gostd/encoding/xml/xml_test.go.html#8408731">err</a></span>&nbsp;<span class="op" id="8408757">!=</span>&nbsp;<span class="builtintype" id="8408760">nil</span>&nbsp;<span class="op" id="8408764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408769"><a href="/gostd/encoding/xml/xml_test.go.html#8408600">t</a></span><span class="op" id="8408770">.</span><span class="ident" id="8408771"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8408777">(</span><span class="string" id="8408778">&#34;token&nbsp;%d:&nbsp;unexpected&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8408810">,</span>&nbsp;<span class="ident" id="8408812"><a href="/gostd/encoding/xml/xml_test.go.html#8408681">i</a></span><span class="op" id="8408813">,</span>&nbsp;<span class="ident" id="8408815"><a href="/gostd/encoding/xml/xml_test.go.html#8408731">err</a></span><span class="op" id="8408818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8408822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8408826">if</span>&nbsp;<span class="op" id="8408829">!</span><span class="ident" id="8408830"><a href="/gostd/encoding/xml/xml_test.go.html#8399014">reflect</a></span><span class="op" id="8408837">.</span><span class="ident" id="8408838"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="8408847">(</span><span class="ident" id="8408848"><a href="/gostd/encoding/xml/xml_test.go.html#8408725">have</a></span><span class="op" id="8408852">,</span>&nbsp;<span class="ident" id="8408854"><a href="/gostd/encoding/xml/xml_test.go.html#8408684">want</a></span><span class="op" id="8408858">)</span>&nbsp;<span class="op" id="8408860">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408865"><a href="/gostd/encoding/xml/xml_test.go.html#8408600">t</a></span><span class="op" id="8408866">.</span><span class="ident" id="8408867"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8408873">(</span><span class="string" id="8408874">&#34;token&nbsp;%d&nbsp;=&nbsp;%#v&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8408899">,</span>&nbsp;<span class="ident" id="8408901"><a href="/gostd/encoding/xml/xml_test.go.html#8408681">i</a></span><span class="op" id="8408902">,</span>&nbsp;<span class="ident" id="8408904"><a href="/gostd/encoding/xml/xml_test.go.html#8408725">have</a></span><span class="op" id="8408908">,</span>&nbsp;<span class="ident" id="8408910"><a href="/gostd/encoding/xml/xml_test.go.html#8408684">want</a></span><span class="op" id="8408914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8408918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8408921">}</span><br>
<span class="lineno"></span><span class="op" id="8408923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">375</span><span class="keyword" id="8408926">func</span>&nbsp;<span class="ident" id="8408931">TestToken</span><span class="op" id="8408940">(</span><span class="ident" id="8408941">t</span>&nbsp;<span class="op" id="8408943">*</span><span class="ident" id="8408944"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8408951">.</span><span class="ident" id="8408952"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8408953">)</span>&nbsp;<span class="op" id="8408955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8408958">d</span>&nbsp;<span class="op" id="8408960">:=</span>&nbsp;<span class="ident" id="8408963"><a href="/gostd/encoding/xml/xml.go.html#6246568">NewDecoder</a></span><span class="op" id="8408973">(</span><span class="ident" id="8408974"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8408981">.</span><span class="ident" id="8408982"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="8408991">(</span><span class="ident" id="8408992"><a href="/gostd/encoding/xml/xml_test.go.html#8399071">testInput</a></span><span class="op" id="8409001">)</span><span class="op" id="8409002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409005"><a href="/gostd/encoding/xml/xml_test.go.html#8408958">d</a></span><span class="op" id="8409006">.</span><span class="ident" id="8409007"><a href="/gostd/encoding/xml/xml.go.html#6245483">Entity</a></span>&nbsp;<span class="op" id="8409014">=</span>&nbsp;<span class="ident" id="8409016"><a href="/gostd/encoding/xml/xml_test.go.html#8399608">testEntity</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8409029">for</span>&nbsp;<span class="ident" id="8409033">i</span><span class="op" id="8409034">,</span>&nbsp;<span class="ident" id="8409036">want</span>&nbsp;<span class="op" id="8409041">:=</span>&nbsp;<span class="keyword" id="8409044">range</span>&nbsp;<span class="ident" id="8409050"><a href="/gostd/encoding/xml/xml_test.go.html#8400985">cookedTokens</a></span>&nbsp;<span class="op" id="8409063">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409067">have</span><span class="op" id="8409071">,</span>&nbsp;<span class="ident" id="8409073">err</span>&nbsp;<span class="op" id="8409077">:=</span>&nbsp;<span class="ident" id="8409080"><a href="/gostd/encoding/xml/xml_test.go.html#8408958">d</a></span><span class="op" id="8409081">.</span><span class="ident" id="8409082"><a href="/gostd/encoding/xml/xml.go.html#6247764">Token</a></span><span class="op" id="8409087">(</span><span class="op" id="8409088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8409092">if</span>&nbsp;<span class="ident" id="8409095"><a href="/gostd/encoding/xml/xml_test.go.html#8409073">err</a></span>&nbsp;<span class="op" id="8409099">!=</span>&nbsp;<span class="builtintype" id="8409102">nil</span>&nbsp;<span class="op" id="8409106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409111"><a href="/gostd/encoding/xml/xml_test.go.html#8408941">t</a></span><span class="op" id="8409112">.</span><span class="ident" id="8409113"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8409119">(</span><span class="string" id="8409120">&#34;token&nbsp;%d:&nbsp;unexpected&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8409152">,</span>&nbsp;<span class="ident" id="8409154"><a href="/gostd/encoding/xml/xml_test.go.html#8409033">i</a></span><span class="op" id="8409155">,</span>&nbsp;<span class="ident" id="8409157"><a href="/gostd/encoding/xml/xml_test.go.html#8409073">err</a></span><span class="op" id="8409160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8409164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8409168">if</span>&nbsp;<span class="op" id="8409171">!</span><span class="ident" id="8409172"><a href="/gostd/encoding/xml/xml_test.go.html#8399014">reflect</a></span><span class="op" id="8409179">.</span><span class="ident" id="8409180"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="8409189">(</span><span class="ident" id="8409190"><a href="/gostd/encoding/xml/xml_test.go.html#8409067">have</a></span><span class="op" id="8409194">,</span>&nbsp;<span class="ident" id="8409196"><a href="/gostd/encoding/xml/xml_test.go.html#8409036">want</a></span><span class="op" id="8409200">)</span>&nbsp;<span class="op" id="8409202">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409207"><a href="/gostd/encoding/xml/xml_test.go.html#8408941">t</a></span><span class="op" id="8409208">.</span><span class="ident" id="8409209"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8409215">(</span><span class="string" id="8409216">&#34;token&nbsp;%d&nbsp;=&nbsp;%#v&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8409241">,</span>&nbsp;<span class="ident" id="8409243"><a href="/gostd/encoding/xml/xml_test.go.html#8409033">i</a></span><span class="op" id="8409244">,</span>&nbsp;<span class="ident" id="8409246"><a href="/gostd/encoding/xml/xml_test.go.html#8409067">have</a></span><span class="op" id="8409250">,</span>&nbsp;<span class="ident" id="8409252"><a href="/gostd/encoding/xml/xml_test.go.html#8409036">want</a></span><span class="op" id="8409256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8409260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8409263">}</span><br>
<span class="lineno"></span><span class="op" id="8409265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span><span class="keyword" id="8409268">func</span>&nbsp;<span class="ident" id="8409273">TestSyntax</span><span class="op" id="8409283">(</span><span class="ident" id="8409284">t</span>&nbsp;<span class="op" id="8409286">*</span><span class="ident" id="8409287"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8409294">.</span><span class="ident" id="8409295"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8409296">)</span>&nbsp;<span class="op" id="8409298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8409301">for</span>&nbsp;<span class="ident" id="8409305">i</span>&nbsp;<span class="op" id="8409307">:=</span>&nbsp;<span class="keyword" id="8409310">range</span>&nbsp;<span class="ident" id="8409316"><a href="/gostd/encoding/xml/xml_test.go.html#8402673">xmlInput</a></span>&nbsp;<span class="op" id="8409325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409329">d</span>&nbsp;<span class="op" id="8409331">:=</span>&nbsp;<span class="ident" id="8409334"><a href="/gostd/encoding/xml/xml.go.html#6246568">NewDecoder</a></span><span class="op" id="8409344">(</span><span class="ident" id="8409345"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8409352">.</span><span class="ident" id="8409353"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="8409362">(</span><span class="ident" id="8409363"><a href="/gostd/encoding/xml/xml_test.go.html#8402673">xmlInput</a></span><span class="op" id="8409371">[</span><span class="ident" id="8409372"><a href="/gostd/encoding/xml/xml_test.go.html#8409305">i</a></span><span class="op" id="8409373">]</span><span class="op" id="8409374">)</span><span class="op" id="8409375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8409379">var</span>&nbsp;<span class="ident" id="8409383">err</span>&nbsp;<span class="builtintype" id="8409387">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8409395">for</span>&nbsp;<span class="ident" id="8409399">_</span><span class="op" id="8409400">,</span>&nbsp;<span class="ident" id="8409402"><a href="/gostd/encoding/xml/xml_test.go.html#8409383">err</a></span>&nbsp;<span class="op" id="8409406">=</span>&nbsp;<span class="ident" id="8409408"><a href="/gostd/encoding/xml/xml_test.go.html#8409329">d</a></span><span class="op" id="8409409">.</span><span class="ident" id="8409410"><a href="/gostd/encoding/xml/xml.go.html#6247764">Token</a></span><span class="op" id="8409415">(</span><span class="op" id="8409416">)</span><span class="op" id="8409417">;</span>&nbsp;<span class="ident" id="8409419"><a href="/gostd/encoding/xml/xml_test.go.html#8409383">err</a></span>&nbsp;<span class="op" id="8409423">==</span>&nbsp;<span class="builtintype" id="8409426">nil</span><span class="op" id="8409429">;</span>&nbsp;<span class="ident" id="8409431">_</span><span class="op" id="8409432">,</span>&nbsp;<span class="ident" id="8409434"><a href="/gostd/encoding/xml/xml_test.go.html#8409383">err</a></span>&nbsp;<span class="op" id="8409438">=</span>&nbsp;<span class="ident" id="8409440"><a href="/gostd/encoding/xml/xml_test.go.html#8409329">d</a></span><span class="op" id="8409441">.</span><span class="ident" id="8409442"><a href="/gostd/encoding/xml/xml.go.html#6247764">Token</a></span><span class="op" id="8409447">(</span><span class="op" id="8409448">)</span>&nbsp;<span class="op" id="8409450">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8409454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8409458">if</span>&nbsp;<span class="ident" id="8409461">_</span><span class="op" id="8409462">,</span>&nbsp;<span class="ident" id="8409464">ok</span>&nbsp;<span class="op" id="8409467">:=</span>&nbsp;<span class="ident" id="8409470"><a href="/gostd/encoding/xml/xml_test.go.html#8409383">err</a></span><span class="op" id="8409473">.</span><span class="op" id="8409474">(</span><span class="op" id="8409475">*</span><span class="ident" id="8409476"><a href="/gostd/encoding/xml/xml.go.html#6241583">SyntaxError</a></span><span class="op" id="8409487">)</span><span class="op" id="8409488">;</span>&nbsp;<span class="op" id="8409490">!</span><span class="ident" id="8409491"><a href="/gostd/encoding/xml/xml_test.go.html#8409464">ok</a></span>&nbsp;<span class="op" id="8409494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409499"><a href="/gostd/encoding/xml/xml_test.go.html#8409284">t</a></span><span class="op" id="8409500">.</span><span class="ident" id="8409501"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8409507">(</span><span class="string" id="8409508">`xmlInput&nbsp;&#34;%s&#34;:&nbsp;expected&nbsp;SyntaxError&nbsp;not&nbsp;received`</span><span class="op" id="8409558">,</span>&nbsp;<span class="ident" id="8409560"><a href="/gostd/encoding/xml/xml_test.go.html#8402673">xmlInput</a></span><span class="op" id="8409568">[</span><span class="ident" id="8409569"><a href="/gostd/encoding/xml/xml_test.go.html#8409305">i</a></span><span class="op" id="8409570">]</span><span class="op" id="8409571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8409575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8409578">}</span><br>
<span class="lineno">400</span><span class="op" id="8409580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8409583">type</span>&nbsp;<span class="ident" id="8409588">allScalars</span>&nbsp;<span class="keyword" id="8409599">struct</span>&nbsp;<span class="op" id="8409606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409609">True1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409619">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409625">True2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409635">bool</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409641">False1</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409651">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409657">False2</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409667">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409673">Int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409683">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409688">Int8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409698">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409704">Int16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409714">int16</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409721">Int32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409731">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409738">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409748">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409755">Uint</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409765">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409770">Uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409780">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409787">Uint16</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409797">uint16</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409805">Uint32</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409815">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409823">Uint64</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409833">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409841">Uintptr</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409851">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409860">Float32</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409870">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409879">Float64</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409889">float64</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409898">String</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409908">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409916">PtrString</span>&nbsp;<span class="op" id="8409926">*</span><span class="builtintype" id="8409927">string</span><br>
<span class="lineno"></span><span class="op" id="8409934">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8409937">var</span>&nbsp;<span class="ident" id="8409941">all</span>&nbsp;<span class="op" id="8409945">=</span>&nbsp;<span class="ident" id="8409947"><a href="/gostd/encoding/xml/xml_test.go.html#8409588">allScalars</a></span><span class="op" id="8409957">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409960"><a href="/gostd/encoding/xml/xml_test.go.html#8409609">True1</a></span><span class="op" id="8409965">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409971">true</span><span class="op" id="8409975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409978"><a href="/gostd/encoding/xml/xml_test.go.html#8409625">True2</a></span><span class="op" id="8409983">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8409989">true</span><span class="op" id="8409993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8409996"><a href="/gostd/encoding/xml/xml_test.go.html#8409641">False1</a></span><span class="op" id="8410002">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8410007">false</span><span class="op" id="8410012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410015"><a href="/gostd/encoding/xml/xml_test.go.html#8409657">False2</a></span><span class="op" id="8410021">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8410026">false</span><span class="op" id="8410031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410034"><a href="/gostd/encoding/xml/xml_test.go.html#8409673">Int</a></span><span class="op" id="8410037">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8410045">1</span><span class="op" id="8410046">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410049"><a href="/gostd/encoding/xml/xml_test.go.html#8409688">Int8</a></span><span class="op" id="8410053">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8410060">-</span><span class="num" id="8410061">2</span><span class="op" id="8410062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410065"><a href="/gostd/encoding/xml/xml_test.go.html#8409704">Int16</a></span><span class="op" id="8410070">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8410076">3</span><span class="op" id="8410077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410080"><a href="/gostd/encoding/xml/xml_test.go.html#8409721">Int32</a></span><span class="op" id="8410085">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8410091">-</span><span class="num" id="8410092">4</span><span class="op" id="8410093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410096"><a href="/gostd/encoding/xml/xml_test.go.html#8409738">Int64</a></span><span class="op" id="8410101">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8410107">5</span><span class="op" id="8410108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410111"><a href="/gostd/encoding/xml/xml_test.go.html#8409755">Uint</a></span><span class="op" id="8410115">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8410122">6</span><span class="op" id="8410123">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410126"><a href="/gostd/encoding/xml/xml_test.go.html#8409770">Uint8</a></span><span class="op" id="8410131">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8410137">7</span><span class="op" id="8410138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410141"><a href="/gostd/encoding/xml/xml_test.go.html#8409787">Uint16</a></span><span class="op" id="8410147">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8410152">8</span><span class="op" id="8410153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410156"><a href="/gostd/encoding/xml/xml_test.go.html#8409805">Uint32</a></span><span class="op" id="8410162">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8410167">9</span><span class="op" id="8410168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410171"><a href="/gostd/encoding/xml/xml_test.go.html#8409823">Uint64</a></span><span class="op" id="8410177">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8410182">10</span><span class="op" id="8410184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410187"><a href="/gostd/encoding/xml/xml_test.go.html#8409841">Uintptr</a></span><span class="op" id="8410194">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8410198">11</span><span class="op" id="8410200">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410203"><a href="/gostd/encoding/xml/xml_test.go.html#8409860">Float32</a></span><span class="op" id="8410210">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8410214">13.0</span><span class="op" id="8410218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410221"><a href="/gostd/encoding/xml/xml_test.go.html#8409879">Float64</a></span><span class="op" id="8410228">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8410232">14.0</span><span class="op" id="8410236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410239"><a href="/gostd/encoding/xml/xml_test.go.html#8409898">String</a></span><span class="op" id="8410245">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8410250">&#34;15&#34;</span><span class="op" id="8410254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410257"><a href="/gostd/encoding/xml/xml_test.go.html#8409916">PtrString</a></span><span class="op" id="8410266">:</span>&nbsp;<span class="op" id="8410268">&amp;</span><span class="ident" id="8410269"><a href="/gostd/encoding/xml/xml_test.go.html#8410285">sixteen</a></span><span class="op" id="8410276">,</span><br>
<span class="lineno"></span><span class="op" id="8410278">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span><span class="keyword" id="8410281">var</span>&nbsp;<span class="ident" id="8410285">sixteen</span>&nbsp;<span class="op" id="8410293">=</span>&nbsp;<span class="string" id="8410295">&#34;16&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8410301">const</span>&nbsp;<span class="ident" id="8410307">testScalarsInput</span>&nbsp;<span class="op" id="8410324">=</span>&nbsp;<span class="string" id="8410326">`&lt;allscalars&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;True1&gt;true&lt;/True1&gt;<br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;True2&gt;1&lt;/True2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;False1&gt;false&lt;/False1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;False2&gt;0&lt;/False2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Int&gt;1&lt;/Int&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Int8&gt;-2&lt;/Int8&gt;<br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Int16&gt;3&lt;/Int16&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Int32&gt;-4&lt;/Int32&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Int64&gt;5&lt;/Int64&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Uint&gt;6&lt;/Uint&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Uint8&gt;7&lt;/Uint8&gt;<br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Uint16&gt;8&lt;/Uint16&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Uint32&gt;9&lt;/Uint32&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Uint64&gt;10&lt;/Uint64&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Uintptr&gt;11&lt;/Uintptr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Float&gt;12.0&lt;/Float&gt;<br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Float32&gt;13.0&lt;/Float32&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Float64&gt;14.0&lt;/Float64&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;String&gt;15&lt;/String&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;PtrString&gt;16&lt;/PtrString&gt;<br>
<span class="lineno"></span>&lt;/allscalars&gt;`</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="keyword" id="8410762">func</span>&nbsp;<span class="ident" id="8410767">TestAllScalars</span><span class="op" id="8410781">(</span><span class="ident" id="8410782">t</span>&nbsp;<span class="op" id="8410784">*</span><span class="ident" id="8410785"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8410792">.</span><span class="ident" id="8410793"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8410794">)</span>&nbsp;<span class="op" id="8410796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8410799">var</span>&nbsp;<span class="ident" id="8410803">a</span>&nbsp;<span class="ident" id="8410805"><a href="/gostd/encoding/xml/xml_test.go.html#8409588">allScalars</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410817">err</span>&nbsp;<span class="op" id="8410821">:=</span>&nbsp;<span class="ident" id="8410824"><a href="/gostd/encoding/xml/read.go.html#6216047">Unmarshal</a></span><span class="op" id="8410833">(</span><span class="op" id="8410834">[</span><span class="op" id="8410835">]</span><span class="builtintype" id="8410836">byte</span><span class="op" id="8410840">(</span><span class="ident" id="8410841"><a href="/gostd/encoding/xml/xml_test.go.html#8410307">testScalarsInput</a></span><span class="op" id="8410857">)</span><span class="op" id="8410858">,</span>&nbsp;<span class="op" id="8410860">&amp;</span><span class="ident" id="8410861"><a href="/gostd/encoding/xml/xml_test.go.html#8410803">a</a></span><span class="op" id="8410862">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8410866">if</span>&nbsp;<span class="ident" id="8410869"><a href="/gostd/encoding/xml/xml_test.go.html#8410817">err</a></span>&nbsp;<span class="op" id="8410873">!=</span>&nbsp;<span class="builtintype" id="8410876">nil</span>&nbsp;<span class="op" id="8410880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410884"><a href="/gostd/encoding/xml/xml_test.go.html#8410782">t</a></span><span class="op" id="8410885">.</span><span class="ident" id="8410886"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8410891">(</span><span class="ident" id="8410892"><a href="/gostd/encoding/xml/xml_test.go.html#8410817">err</a></span><span class="op" id="8410895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8410898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8410901">if</span>&nbsp;<span class="op" id="8410904">!</span><span class="ident" id="8410905"><a href="/gostd/encoding/xml/xml_test.go.html#8399014">reflect</a></span><span class="op" id="8410912">.</span><span class="ident" id="8410913"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="8410922">(</span><span class="ident" id="8410923"><a href="/gostd/encoding/xml/xml_test.go.html#8410803">a</a></span><span class="op" id="8410924">,</span>&nbsp;<span class="ident" id="8410926"><a href="/gostd/encoding/xml/xml_test.go.html#8409941">all</a></span><span class="op" id="8410929">)</span>&nbsp;<span class="op" id="8410931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410935"><a href="/gostd/encoding/xml/xml_test.go.html#8410782">t</a></span><span class="op" id="8410936">.</span><span class="ident" id="8410937"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8410943">(</span><span class="string" id="8410944">&#34;have&nbsp;%+v&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="8410963">,</span>&nbsp;<span class="ident" id="8410965"><a href="/gostd/encoding/xml/xml_test.go.html#8410803">a</a></span><span class="op" id="8410966">,</span>&nbsp;<span class="ident" id="8410968"><a href="/gostd/encoding/xml/xml_test.go.html#8409941">all</a></span><span class="op" id="8410971">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8410974">}</span><br>
<span class="lineno"></span><span class="op" id="8410976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8410979">type</span>&nbsp;<span class="ident" id="8410984">item</span>&nbsp;<span class="keyword" id="8410989">struct</span>&nbsp;<span class="op" id="8410996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8410999">Field_a</span>&nbsp;<span class="builtintype" id="8411007">string</span><br>
<span class="lineno">485</span><span class="op" id="8411014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8411017">func</span>&nbsp;<span class="ident" id="8411022">TestIssue569</span><span class="op" id="8411034">(</span><span class="ident" id="8411035">t</span>&nbsp;<span class="op" id="8411037">*</span><span class="ident" id="8411038"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8411045">.</span><span class="ident" id="8411046"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8411047">)</span>&nbsp;<span class="op" id="8411049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8411052">data</span>&nbsp;<span class="op" id="8411057">:=</span>&nbsp;<span class="string" id="8411060">`&lt;item&gt;&lt;Field_a&gt;abcd&lt;/Field_a&gt;&lt;/item&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8411100">var</span>&nbsp;<span class="ident" id="8411104">i</span>&nbsp;<span class="ident" id="8411106"><a href="/gostd/encoding/xml/xml_test.go.html#8410984">item</a></span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8411112">err</span>&nbsp;<span class="op" id="8411116">:=</span>&nbsp;<span class="ident" id="8411119"><a href="/gostd/encoding/xml/read.go.html#6216047">Unmarshal</a></span><span class="op" id="8411128">(</span><span class="op" id="8411129">[</span><span class="op" id="8411130">]</span><span class="builtintype" id="8411131">byte</span><span class="op" id="8411135">(</span><span class="ident" id="8411136"><a href="/gostd/encoding/xml/xml_test.go.html#8411052">data</a></span><span class="op" id="8411140">)</span><span class="op" id="8411141">,</span>&nbsp;<span class="op" id="8411143">&amp;</span><span class="ident" id="8411144"><a href="/gostd/encoding/xml/xml_test.go.html#8411104">i</a></span><span class="op" id="8411145">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8411149">if</span>&nbsp;<span class="ident" id="8411152"><a href="/gostd/encoding/xml/xml_test.go.html#8411112">err</a></span>&nbsp;<span class="op" id="8411156">!=</span>&nbsp;<span class="builtintype" id="8411159">nil</span>&nbsp;<span class="op" id="8411163">||</span>&nbsp;<span class="ident" id="8411166"><a href="/gostd/encoding/xml/xml_test.go.html#8411104">i</a></span><span class="op" id="8411167">.</span><span class="ident" id="8411168"><a href="/gostd/encoding/xml/xml_test.go.html#8410999">Field_a</a></span>&nbsp;<span class="op" id="8411176">!=</span>&nbsp;<span class="string" id="8411179">&#34;abcd&#34;</span>&nbsp;<span class="op" id="8411186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8411190"><a href="/gostd/encoding/xml/xml_test.go.html#8411035">t</a></span><span class="op" id="8411191">.</span><span class="ident" id="8411192"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8411197">(</span><span class="string" id="8411198">&#34;Expecting&nbsp;abcd&#34;</span><span class="op" id="8411214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8411217">}</span><br>
<span class="lineno">495</span><span class="op" id="8411219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8411222">func</span>&nbsp;<span class="ident" id="8411227">TestUnquotedAttrs</span><span class="op" id="8411244">(</span><span class="ident" id="8411245">t</span>&nbsp;<span class="op" id="8411247">*</span><span class="ident" id="8411248"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8411255">.</span><span class="ident" id="8411256"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8411257">)</span>&nbsp;<span class="op" id="8411259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8411262">data</span>&nbsp;<span class="op" id="8411267">:=</span>&nbsp;<span class="string" id="8411270">&#34;&lt;tag&nbsp;attr=azAZ09:-_\t&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8411296">d</span>&nbsp;<span class="op" id="8411298">:=</span>&nbsp;<span class="ident" id="8411301"><a href="/gostd/encoding/xml/xml.go.html#6246568">NewDecoder</a></span><span class="op" id="8411311">(</span><span class="ident" id="8411312"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8411319">.</span><span class="ident" id="8411320"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="8411329">(</span><span class="ident" id="8411330"><a href="/gostd/encoding/xml/xml_test.go.html#8411262">data</a></span><span class="op" id="8411334">)</span><span class="op" id="8411335">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8411338"><a href="/gostd/encoding/xml/xml_test.go.html#8411296">d</a></span><span class="op" id="8411339">.</span><span class="ident" id="8411340"><a href="/gostd/encoding/xml/xml.go.html#6244990">Strict</a></span>&nbsp;<span class="op" id="8411347">=</span>&nbsp;<span class="builtintype" id="8411349">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8411356">token</span><span class="op" id="8411361">,</span>&nbsp;<span class="ident" id="8411363">err</span>&nbsp;<span class="op" id="8411367">:=</span>&nbsp;<span class="ident" id="8411370"><a href="/gostd/encoding/xml/xml_test.go.html#8411296">d</a></span><span class="op" id="8411371">.</span><span class="ident" id="8411372"><a href="/gostd/encoding/xml/xml.go.html#6247764">Token</a></span><span class="op" id="8411377">(</span><span class="op" id="8411378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8411381">if</span>&nbsp;<span class="ident" id="8411384">_</span><span class="op" id="8411385">,</span>&nbsp;<span class="ident" id="8411387">ok</span>&nbsp;<span class="op" id="8411390">:=</span>&nbsp;<span class="ident" id="8411393"><a href="/gostd/encoding/xml/xml_test.go.html#8411363">err</a></span><span class="op" id="8411396">.</span><span class="op" id="8411397">(</span><span class="op" id="8411398">*</span><span class="ident" id="8411399"><a href="/gostd/encoding/xml/xml.go.html#6241583">SyntaxError</a></span><span class="op" id="8411410">)</span><span class="op" id="8411411">;</span>&nbsp;<span class="ident" id="8411413"><a href="/gostd/encoding/xml/xml_test.go.html#8411387">ok</a></span>&nbsp;<span class="op" id="8411416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8411420"><a href="/gostd/encoding/xml/xml_test.go.html#8411245">t</a></span><span class="op" id="8411421">.</span><span class="ident" id="8411422"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8411428">(</span><span class="string" id="8411429">&#34;Unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8411451">,</span>&nbsp;<span class="ident" id="8411453"><a href="/gostd/encoding/xml/xml_test.go.html#8411363">err</a></span><span class="op" id="8411456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8411459">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8411462">if</span>&nbsp;<span class="ident" id="8411465"><a href="/gostd/encoding/xml/xml_test.go.html#8411356">token</a></span><span class="op" id="8411470">.</span><span class="op" id="8411471">(</span><span class="ident" id="8411472"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8411484">)</span><span class="op" id="8411485">.</span><span class="ident" id="8411486"><a href="/gostd/encoding/xml/xml.go.html#6242382">Name</a></span><span class="op" id="8411490">.</span><span class="ident" id="8411491"><a href="/gostd/encoding/xml/xml.go.html#6242017">Local</a></span>&nbsp;<span class="op" id="8411497">!=</span>&nbsp;<span class="string" id="8411500">&#34;tag&#34;</span>&nbsp;<span class="op" id="8411506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8411510"><a href="/gostd/encoding/xml/xml_test.go.html#8411245">t</a></span><span class="op" id="8411511">.</span><span class="ident" id="8411512"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8411518">(</span><span class="string" id="8411519">&#34;Unexpected&nbsp;tag&nbsp;name:&nbsp;%v&#34;</span><span class="op" id="8411544">,</span>&nbsp;<span class="ident" id="8411546"><a href="/gostd/encoding/xml/xml_test.go.html#8411356">token</a></span><span class="op" id="8411551">.</span><span class="op" id="8411552">(</span><span class="ident" id="8411553"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8411565">)</span><span class="op" id="8411566">.</span><span class="ident" id="8411567"><a href="/gostd/encoding/xml/xml.go.html#6242382">Name</a></span><span class="op" id="8411571">.</span><span class="ident" id="8411572"><a href="/gostd/encoding/xml/xml.go.html#6242017">Local</a></span><span class="op" id="8411577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8411580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8411583">attr</span>&nbsp;<span class="op" id="8411588">:=</span>&nbsp;<span class="ident" id="8411591"><a href="/gostd/encoding/xml/xml_test.go.html#8411356">token</a></span><span class="op" id="8411596">.</span><span class="op" id="8411597">(</span><span class="ident" id="8411598"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8411610">)</span><span class="op" id="8411611">.</span><span class="ident" id="8411612"><a href="/gostd/encoding/xml/xml.go.html#6242393">Attr</a></span><span class="op" id="8411616">[</span><span class="num" id="8411617">0</span><span class="op" id="8411618">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8411621">if</span>&nbsp;<span class="ident" id="8411624"><a href="/gostd/encoding/xml/xml_test.go.html#8411583">attr</a></span><span class="op" id="8411628">.</span><span class="ident" id="8411629"><a href="/gostd/encoding/xml/xml.go.html#6242132">Value</a></span>&nbsp;<span class="op" id="8411635">!=</span>&nbsp;<span class="string" id="8411638">&#34;azAZ09:-_&#34;</span>&nbsp;<span class="op" id="8411650">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8411654"><a href="/gostd/encoding/xml/xml_test.go.html#8411245">t</a></span><span class="op" id="8411655">.</span><span class="ident" id="8411656"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8411662">(</span><span class="string" id="8411663">&#34;Unexpected&nbsp;attribute&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="8411695">,</span>&nbsp;<span class="ident" id="8411697"><a href="/gostd/encoding/xml/xml_test.go.html#8411583">attr</a></span><span class="op" id="8411701">.</span><span class="ident" id="8411702"><a href="/gostd/encoding/xml/xml.go.html#6242132">Value</a></span><span class="op" id="8411707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8411710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8411713">if</span>&nbsp;<span class="ident" id="8411716"><a href="/gostd/encoding/xml/xml_test.go.html#8411583">attr</a></span><span class="op" id="8411720">.</span><span class="ident" id="8411721"><a href="/gostd/encoding/xml/xml.go.html#6242120">Name</a></span><span class="op" id="8411725">.</span><span class="ident" id="8411726"><a href="/gostd/encoding/xml/xml.go.html#6242017">Local</a></span>&nbsp;<span class="op" id="8411732">!=</span>&nbsp;<span class="string" id="8411735">&#34;attr&#34;</span>&nbsp;<span class="op" id="8411742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8411746"><a href="/gostd/encoding/xml/xml_test.go.html#8411245">t</a></span><span class="op" id="8411747">.</span><span class="ident" id="8411748"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8411754">(</span><span class="string" id="8411755">&#34;Unexpected&nbsp;attribute&nbsp;name:&nbsp;%v&#34;</span><span class="op" id="8411786">,</span>&nbsp;<span class="ident" id="8411788"><a href="/gostd/encoding/xml/xml_test.go.html#8411583">attr</a></span><span class="op" id="8411792">.</span><span class="ident" id="8411793"><a href="/gostd/encoding/xml/xml.go.html#6242120">Name</a></span><span class="op" id="8411797">.</span><span class="ident" id="8411798"><a href="/gostd/encoding/xml/xml.go.html#6242017">Local</a></span><span class="op" id="8411803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8411806">}</span><br>
<span class="lineno">515</span><span class="op" id="8411808">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8411811">func</span>&nbsp;<span class="ident" id="8411816">TestValuelessAttrs</span><span class="op" id="8411834">(</span><span class="ident" id="8411835">t</span>&nbsp;<span class="op" id="8411837">*</span><span class="ident" id="8411838"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8411845">.</span><span class="ident" id="8411846"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8411847">)</span>&nbsp;<span class="op" id="8411849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8411852">tests</span>&nbsp;<span class="op" id="8411858">:=</span>&nbsp;<span class="op" id="8411861">[</span><span class="op" id="8411862">]</span><span class="op" id="8411863">[</span><span class="num" id="8411864">3</span><span class="op" id="8411865">]</span><span class="builtintype" id="8411866">string</span><span class="op" id="8411872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8411876">{</span><span class="string" id="8411877">&#34;&lt;p&nbsp;nowrap&gt;&#34;</span><span class="op" id="8411889">,</span>&nbsp;<span class="string" id="8411891">&#34;p&#34;</span><span class="op" id="8411894">,</span>&nbsp;<span class="string" id="8411896">&#34;nowrap&#34;</span><span class="op" id="8411904">}</span><span class="op" id="8411905">,</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8411909">{</span><span class="string" id="8411910">&#34;&lt;p&nbsp;nowrap&nbsp;&gt;&#34;</span><span class="op" id="8411923">,</span>&nbsp;<span class="string" id="8411925">&#34;p&#34;</span><span class="op" id="8411928">,</span>&nbsp;<span class="string" id="8411930">&#34;nowrap&#34;</span><span class="op" id="8411938">}</span><span class="op" id="8411939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8411943">{</span><span class="string" id="8411944">&#34;&lt;input&nbsp;checked/&gt;&#34;</span><span class="op" id="8411962">,</span>&nbsp;<span class="string" id="8411964">&#34;input&#34;</span><span class="op" id="8411971">,</span>&nbsp;<span class="string" id="8411973">&#34;checked&#34;</span><span class="op" id="8411982">}</span><span class="op" id="8411983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8411987">{</span><span class="string" id="8411988">&#34;&lt;input&nbsp;checked&nbsp;/&gt;&#34;</span><span class="op" id="8412007">,</span>&nbsp;<span class="string" id="8412009">&#34;input&#34;</span><span class="op" id="8412016">,</span>&nbsp;<span class="string" id="8412018">&#34;checked&#34;</span><span class="op" id="8412027">}</span><span class="op" id="8412028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8412031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8412034">for</span>&nbsp;<span class="ident" id="8412038">_</span><span class="op" id="8412039">,</span>&nbsp;<span class="ident" id="8412041">test</span>&nbsp;<span class="op" id="8412046">:=</span>&nbsp;<span class="keyword" id="8412049">range</span>&nbsp;<span class="ident" id="8412055"><a href="/gostd/encoding/xml/xml_test.go.html#8411852">tests</a></span>&nbsp;<span class="op" id="8412061">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8412065">d</span>&nbsp;<span class="op" id="8412067">:=</span>&nbsp;<span class="ident" id="8412070"><a href="/gostd/encoding/xml/xml.go.html#6246568">NewDecoder</a></span><span class="op" id="8412080">(</span><span class="ident" id="8412081"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8412088">.</span><span class="ident" id="8412089"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="8412098">(</span><span class="ident" id="8412099"><a href="/gostd/encoding/xml/xml_test.go.html#8412041">test</a></span><span class="op" id="8412103">[</span><span class="num" id="8412104">0</span><span class="op" id="8412105">]</span><span class="op" id="8412106">)</span><span class="op" id="8412107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8412111"><a href="/gostd/encoding/xml/xml_test.go.html#8412065">d</a></span><span class="op" id="8412112">.</span><span class="ident" id="8412113"><a href="/gostd/encoding/xml/xml.go.html#6244990">Strict</a></span>&nbsp;<span class="op" id="8412120">=</span>&nbsp;<span class="builtintype" id="8412122">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8412130">token</span><span class="op" id="8412135">,</span>&nbsp;<span class="ident" id="8412137">err</span>&nbsp;<span class="op" id="8412141">:=</span>&nbsp;<span class="ident" id="8412144"><a href="/gostd/encoding/xml/xml_test.go.html#8412065">d</a></span><span class="op" id="8412145">.</span><span class="ident" id="8412146"><a href="/gostd/encoding/xml/xml.go.html#6247764">Token</a></span><span class="op" id="8412151">(</span><span class="op" id="8412152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8412156">if</span>&nbsp;<span class="ident" id="8412159">_</span><span class="op" id="8412160">,</span>&nbsp;<span class="ident" id="8412162">ok</span>&nbsp;<span class="op" id="8412165">:=</span>&nbsp;<span class="ident" id="8412168"><a href="/gostd/encoding/xml/xml_test.go.html#8412137">err</a></span><span class="op" id="8412171">.</span><span class="op" id="8412172">(</span><span class="op" id="8412173">*</span><span class="ident" id="8412174"><a href="/gostd/encoding/xml/xml.go.html#6241583">SyntaxError</a></span><span class="op" id="8412185">)</span><span class="op" id="8412186">;</span>&nbsp;<span class="ident" id="8412188"><a href="/gostd/encoding/xml/xml_test.go.html#8412162">ok</a></span>&nbsp;<span class="op" id="8412191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8412196"><a href="/gostd/encoding/xml/xml_test.go.html#8411835">t</a></span><span class="op" id="8412197">.</span><span class="ident" id="8412198"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8412204">(</span><span class="string" id="8412205">&#34;Unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8412227">,</span>&nbsp;<span class="ident" id="8412229"><a href="/gostd/encoding/xml/xml_test.go.html#8412137">err</a></span><span class="op" id="8412232">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8412236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8412240">if</span>&nbsp;<span class="ident" id="8412243"><a href="/gostd/encoding/xml/xml_test.go.html#8412130">token</a></span><span class="op" id="8412248">.</span><span class="op" id="8412249">(</span><span class="ident" id="8412250"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8412262">)</span><span class="op" id="8412263">.</span><span class="ident" id="8412264"><a href="/gostd/encoding/xml/xml.go.html#6242382">Name</a></span><span class="op" id="8412268">.</span><span class="ident" id="8412269"><a href="/gostd/encoding/xml/xml.go.html#6242017">Local</a></span>&nbsp;<span class="op" id="8412275">!=</span>&nbsp;<span class="ident" id="8412278"><a href="/gostd/encoding/xml/xml_test.go.html#8412041">test</a></span><span class="op" id="8412282">[</span><span class="num" id="8412283">1</span><span class="op" id="8412284">]</span>&nbsp;<span class="op" id="8412286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8412291"><a href="/gostd/encoding/xml/xml_test.go.html#8411835">t</a></span><span class="op" id="8412292">.</span><span class="ident" id="8412293"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8412299">(</span><span class="string" id="8412300">&#34;Unexpected&nbsp;tag&nbsp;name:&nbsp;%v&#34;</span><span class="op" id="8412325">,</span>&nbsp;<span class="ident" id="8412327"><a href="/gostd/encoding/xml/xml_test.go.html#8412130">token</a></span><span class="op" id="8412332">.</span><span class="op" id="8412333">(</span><span class="ident" id="8412334"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8412346">)</span><span class="op" id="8412347">.</span><span class="ident" id="8412348"><a href="/gostd/encoding/xml/xml.go.html#6242382">Name</a></span><span class="op" id="8412352">.</span><span class="ident" id="8412353"><a href="/gostd/encoding/xml/xml.go.html#6242017">Local</a></span><span class="op" id="8412358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8412362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8412366">attr</span>&nbsp;<span class="op" id="8412371">:=</span>&nbsp;<span class="ident" id="8412374"><a href="/gostd/encoding/xml/xml_test.go.html#8412130">token</a></span><span class="op" id="8412379">.</span><span class="op" id="8412380">(</span><span class="ident" id="8412381"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8412393">)</span><span class="op" id="8412394">.</span><span class="ident" id="8412395"><a href="/gostd/encoding/xml/xml.go.html#6242393">Attr</a></span><span class="op" id="8412399">[</span><span class="num" id="8412400">0</span><span class="op" id="8412401">]</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8412405">if</span>&nbsp;<span class="ident" id="8412408"><a href="/gostd/encoding/xml/xml_test.go.html#8412366">attr</a></span><span class="op" id="8412412">.</span><span class="ident" id="8412413"><a href="/gostd/encoding/xml/xml.go.html#6242132">Value</a></span>&nbsp;<span class="op" id="8412419">!=</span>&nbsp;<span class="ident" id="8412422"><a href="/gostd/encoding/xml/xml_test.go.html#8412041">test</a></span><span class="op" id="8412426">[</span><span class="num" id="8412427">2</span><span class="op" id="8412428">]</span>&nbsp;<span class="op" id="8412430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8412435"><a href="/gostd/encoding/xml/xml_test.go.html#8411835">t</a></span><span class="op" id="8412436">.</span><span class="ident" id="8412437"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8412443">(</span><span class="string" id="8412444">&#34;Unexpected&nbsp;attribute&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="8412476">,</span>&nbsp;<span class="ident" id="8412478"><a href="/gostd/encoding/xml/xml_test.go.html#8412366">attr</a></span><span class="op" id="8412482">.</span><span class="ident" id="8412483"><a href="/gostd/encoding/xml/xml.go.html#6242132">Value</a></span><span class="op" id="8412488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8412492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8412496">if</span>&nbsp;<span class="ident" id="8412499"><a href="/gostd/encoding/xml/xml_test.go.html#8412366">attr</a></span><span class="op" id="8412503">.</span><span class="ident" id="8412504"><a href="/gostd/encoding/xml/xml.go.html#6242120">Name</a></span><span class="op" id="8412508">.</span><span class="ident" id="8412509"><a href="/gostd/encoding/xml/xml.go.html#6242017">Local</a></span>&nbsp;<span class="op" id="8412515">!=</span>&nbsp;<span class="ident" id="8412518"><a href="/gostd/encoding/xml/xml_test.go.html#8412041">test</a></span><span class="op" id="8412522">[</span><span class="num" id="8412523">2</span><span class="op" id="8412524">]</span>&nbsp;<span class="op" id="8412526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8412531"><a href="/gostd/encoding/xml/xml_test.go.html#8411835">t</a></span><span class="op" id="8412532">.</span><span class="ident" id="8412533"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8412539">(</span><span class="string" id="8412540">&#34;Unexpected&nbsp;attribute&nbsp;name:&nbsp;%v&#34;</span><span class="op" id="8412571">,</span>&nbsp;<span class="ident" id="8412573"><a href="/gostd/encoding/xml/xml_test.go.html#8412366">attr</a></span><span class="op" id="8412577">.</span><span class="ident" id="8412578"><a href="/gostd/encoding/xml/xml.go.html#6242120">Name</a></span><span class="op" id="8412582">.</span><span class="ident" id="8412583"><a href="/gostd/encoding/xml/xml.go.html#6242017">Local</a></span><span class="op" id="8412588">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8412592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8412595">}</span><br>
<span class="lineno"></span><span class="op" id="8412597">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8412600">func</span>&nbsp;<span class="ident" id="8412605">TestCopyTokenCharData</span><span class="op" id="8412626">(</span><span class="ident" id="8412627">t</span>&nbsp;<span class="op" id="8412629">*</span><span class="ident" id="8412630"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8412637">.</span><span class="ident" id="8412638"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8412639">)</span>&nbsp;<span class="op" id="8412641">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8412644">data</span>&nbsp;<span class="op" id="8412649">:=</span>&nbsp;<span class="op" id="8412652">[</span><span class="op" id="8412653">]</span><span class="builtintype" id="8412654">byte</span><span class="op" id="8412658">(</span><span class="string" id="8412659">&#34;same&nbsp;data&#34;</span><span class="op" id="8412670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8412673">var</span>&nbsp;<span class="ident" id="8412677">tok1</span>&nbsp;<span class="ident" id="8412682"><a href="/gostd/encoding/xml/xml.go.html#6242284">Token</a></span>&nbsp;<span class="op" id="8412688">=</span>&nbsp;<span class="ident" id="8412690"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8412698">(</span><span class="ident" id="8412699"><a href="/gostd/encoding/xml/xml_test.go.html#8412644">data</a></span><span class="op" id="8412703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8412706">tok2</span>&nbsp;<span class="op" id="8412711">:=</span>&nbsp;<span class="ident" id="8412714"><a href="/gostd/encoding/xml/xml.go.html#6243752">CopyToken</a></span><span class="op" id="8412723">(</span><span class="ident" id="8412724"><a href="/gostd/encoding/xml/xml_test.go.html#8412677">tok1</a></span><span class="op" id="8412728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8412731">if</span>&nbsp;<span class="op" id="8412734">!</span><span class="ident" id="8412735"><a href="/gostd/encoding/xml/xml_test.go.html#8399014">reflect</a></span><span class="op" id="8412742">.</span><span class="ident" id="8412743"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="8412752">(</span><span class="ident" id="8412753"><a href="/gostd/encoding/xml/xml_test.go.html#8412677">tok1</a></span><span class="op" id="8412757">,</span>&nbsp;<span class="ident" id="8412759"><a href="/gostd/encoding/xml/xml_test.go.html#8412706">tok2</a></span><span class="op" id="8412763">)</span>&nbsp;<span class="op" id="8412765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8412769"><a href="/gostd/encoding/xml/xml_test.go.html#8412627">t</a></span><span class="op" id="8412770">.</span><span class="ident" id="8412771"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="8412776">(</span><span class="string" id="8412777">&#34;CopyToken(CharData)&nbsp;!=&nbsp;CharData&#34;</span><span class="op" id="8412810">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8412813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8412816"><a href="/gostd/encoding/xml/xml_test.go.html#8412644">data</a></span><span class="op" id="8412820">[</span><span class="num" id="8412821">1</span><span class="op" id="8412822">]</span>&nbsp;<span class="op" id="8412824">=</span>&nbsp;<span class="string" id="8412826">&#39;o&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8412831">if</span>&nbsp;<span class="ident" id="8412834"><a href="/gostd/encoding/xml/xml_test.go.html#8399014">reflect</a></span><span class="op" id="8412841">.</span><span class="ident" id="8412842"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="8412851">(</span><span class="ident" id="8412852"><a href="/gostd/encoding/xml/xml_test.go.html#8412677">tok1</a></span><span class="op" id="8412856">,</span>&nbsp;<span class="ident" id="8412858"><a href="/gostd/encoding/xml/xml_test.go.html#8412706">tok2</a></span><span class="op" id="8412862">)</span>&nbsp;<span class="op" id="8412864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8412868"><a href="/gostd/encoding/xml/xml_test.go.html#8412627">t</a></span><span class="op" id="8412869">.</span><span class="ident" id="8412870"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="8412875">(</span><span class="string" id="8412876">&#34;CopyToken(CharData)&nbsp;uses&nbsp;same&nbsp;buffer.&#34;</span><span class="op" id="8412915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8412918">}</span><br>
<span class="lineno">555</span><span class="op" id="8412920">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8412923">func</span>&nbsp;<span class="ident" id="8412928">TestCopyTokenStartElement</span><span class="op" id="8412953">(</span><span class="ident" id="8412954">t</span>&nbsp;<span class="op" id="8412956">*</span><span class="ident" id="8412957"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8412964">.</span><span class="ident" id="8412965"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8412966">)</span>&nbsp;<span class="op" id="8412968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8412971">elt</span>&nbsp;<span class="op" id="8412975">:=</span>&nbsp;<span class="ident" id="8412978"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8412990">{</span><span class="ident" id="8412991"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8412995">{</span><span class="string" id="8412996">&#34;&#34;</span><span class="op" id="8412998">,</span>&nbsp;<span class="string" id="8413000">&#34;hello&#34;</span><span class="op" id="8413007">}</span><span class="op" id="8413008">,</span>&nbsp;<span class="op" id="8413010">[</span><span class="op" id="8413011">]</span><span class="ident" id="8413012"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8413016">{</span><span class="op" id="8413017">{</span><span class="ident" id="8413018"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8413022">{</span><span class="string" id="8413023">&#34;&#34;</span><span class="op" id="8413025">,</span>&nbsp;<span class="string" id="8413027">&#34;lang&#34;</span><span class="op" id="8413033">}</span><span class="op" id="8413034">,</span>&nbsp;<span class="string" id="8413036">&#34;en&#34;</span><span class="op" id="8413040">}</span><span class="op" id="8413041">}</span><span class="op" id="8413042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8413045">var</span>&nbsp;<span class="ident" id="8413049">tok1</span>&nbsp;<span class="ident" id="8413054"><a href="/gostd/encoding/xml/xml.go.html#6242284">Token</a></span>&nbsp;<span class="op" id="8413060">=</span>&nbsp;<span class="ident" id="8413062"><a href="/gostd/encoding/xml/xml_test.go.html#8412971">elt</a></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8413067">tok2</span>&nbsp;<span class="op" id="8413072">:=</span>&nbsp;<span class="ident" id="8413075"><a href="/gostd/encoding/xml/xml.go.html#6243752">CopyToken</a></span><span class="op" id="8413084">(</span><span class="ident" id="8413085"><a href="/gostd/encoding/xml/xml_test.go.html#8413049">tok1</a></span><span class="op" id="8413089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8413092">if</span>&nbsp;<span class="ident" id="8413095"><a href="/gostd/encoding/xml/xml_test.go.html#8413049">tok1</a></span><span class="op" id="8413099">.</span><span class="op" id="8413100">(</span><span class="ident" id="8413101"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8413113">)</span><span class="op" id="8413114">.</span><span class="ident" id="8413115"><a href="/gostd/encoding/xml/xml.go.html#6242393">Attr</a></span><span class="op" id="8413119">[</span><span class="num" id="8413120">0</span><span class="op" id="8413121">]</span><span class="op" id="8413122">.</span><span class="ident" id="8413123"><a href="/gostd/encoding/xml/xml.go.html#6242132">Value</a></span>&nbsp;<span class="op" id="8413129">!=</span>&nbsp;<span class="string" id="8413132">&#34;en&#34;</span>&nbsp;<span class="op" id="8413137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8413141"><a href="/gostd/encoding/xml/xml_test.go.html#8412954">t</a></span><span class="op" id="8413142">.</span><span class="ident" id="8413143"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="8413148">(</span><span class="string" id="8413149">&#34;CopyToken&nbsp;overwrote&nbsp;Attr[0]&#34;</span><span class="op" id="8413178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8413181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8413184">if</span>&nbsp;<span class="op" id="8413187">!</span><span class="ident" id="8413188"><a href="/gostd/encoding/xml/xml_test.go.html#8399014">reflect</a></span><span class="op" id="8413195">.</span><span class="ident" id="8413196"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="8413205">(</span><span class="ident" id="8413206"><a href="/gostd/encoding/xml/xml_test.go.html#8413049">tok1</a></span><span class="op" id="8413210">,</span>&nbsp;<span class="ident" id="8413212"><a href="/gostd/encoding/xml/xml_test.go.html#8413067">tok2</a></span><span class="op" id="8413216">)</span>&nbsp;<span class="op" id="8413218">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8413222"><a href="/gostd/encoding/xml/xml_test.go.html#8412954">t</a></span><span class="op" id="8413223">.</span><span class="ident" id="8413224"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="8413229">(</span><span class="string" id="8413230">&#34;CopyToken(StartElement)&nbsp;!=&nbsp;StartElement&#34;</span><span class="op" id="8413271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8413274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8413277"><a href="/gostd/encoding/xml/xml_test.go.html#8413049">tok1</a></span><span class="op" id="8413281">.</span><span class="op" id="8413282">(</span><span class="ident" id="8413283"><a href="/gostd/encoding/xml/xml.go.html#6242359">StartElement</a></span><span class="op" id="8413295">)</span><span class="op" id="8413296">.</span><span class="ident" id="8413297"><a href="/gostd/encoding/xml/xml.go.html#6242393">Attr</a></span><span class="op" id="8413301">[</span><span class="num" id="8413302">0</span><span class="op" id="8413303">]</span>&nbsp;<span class="op" id="8413305">=</span>&nbsp;<span class="ident" id="8413307"><a href="/gostd/encoding/xml/xml.go.html#6242105">Attr</a></span><span class="op" id="8413311">{</span><span class="ident" id="8413312"><a href="/gostd/encoding/xml/xml.go.html#6241995">Name</a></span><span class="op" id="8413316">{</span><span class="string" id="8413317">&#34;&#34;</span><span class="op" id="8413319">,</span>&nbsp;<span class="string" id="8413321">&#34;lang&#34;</span><span class="op" id="8413327">}</span><span class="op" id="8413328">,</span>&nbsp;<span class="string" id="8413330">&#34;de&#34;</span><span class="op" id="8413334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8413337">if</span>&nbsp;<span class="ident" id="8413340"><a href="/gostd/encoding/xml/xml_test.go.html#8399014">reflect</a></span><span class="op" id="8413347">.</span><span class="ident" id="8413348"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="8413357">(</span><span class="ident" id="8413358"><a href="/gostd/encoding/xml/xml_test.go.html#8413049">tok1</a></span><span class="op" id="8413362">,</span>&nbsp;<span class="ident" id="8413364"><a href="/gostd/encoding/xml/xml_test.go.html#8413067">tok2</a></span><span class="op" id="8413368">)</span>&nbsp;<span class="op" id="8413370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8413374"><a href="/gostd/encoding/xml/xml_test.go.html#8412954">t</a></span><span class="op" id="8413375">.</span><span class="ident" id="8413376"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="8413381">(</span><span class="string" id="8413382">&#34;CopyToken(CharData)&nbsp;uses&nbsp;same&nbsp;buffer.&#34;</span><span class="op" id="8413421">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8413424">}</span><br>
<span class="lineno"></span><span class="op" id="8413426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8413429">func</span>&nbsp;<span class="ident" id="8413434">TestSyntaxErrorLineNum</span><span class="op" id="8413456">(</span><span class="ident" id="8413457">t</span>&nbsp;<span class="op" id="8413459">*</span><span class="ident" id="8413460"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8413467">.</span><span class="ident" id="8413468"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8413469">)</span>&nbsp;<span class="op" id="8413471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8413474">testInput</span>&nbsp;<span class="op" id="8413484">:=</span>&nbsp;<span class="string" id="8413487">&#34;&lt;P&gt;Foo&lt;P&gt;\n\n&lt;P&gt;Bar&lt;/&gt;\n&#34;</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8413515">d</span>&nbsp;<span class="op" id="8413517">:=</span>&nbsp;<span class="ident" id="8413520"><a href="/gostd/encoding/xml/xml.go.html#6246568">NewDecoder</a></span><span class="op" id="8413530">(</span><span class="ident" id="8413531"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8413538">.</span><span class="ident" id="8413539"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="8413548">(</span><span class="ident" id="8413549"><a href="/gostd/encoding/xml/xml_test.go.html#8413474">testInput</a></span><span class="op" id="8413558">)</span><span class="op" id="8413559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8413562">var</span>&nbsp;<span class="ident" id="8413566">err</span>&nbsp;<span class="builtintype" id="8413570">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8413577">for</span>&nbsp;<span class="ident" id="8413581">_</span><span class="op" id="8413582">,</span>&nbsp;<span class="ident" id="8413584"><a href="/gostd/encoding/xml/xml_test.go.html#8413566">err</a></span>&nbsp;<span class="op" id="8413588">=</span>&nbsp;<span class="ident" id="8413590"><a href="/gostd/encoding/xml/xml_test.go.html#8413515">d</a></span><span class="op" id="8413591">.</span><span class="ident" id="8413592"><a href="/gostd/encoding/xml/xml.go.html#6247764">Token</a></span><span class="op" id="8413597">(</span><span class="op" id="8413598">)</span><span class="op" id="8413599">;</span>&nbsp;<span class="ident" id="8413601"><a href="/gostd/encoding/xml/xml_test.go.html#8413566">err</a></span>&nbsp;<span class="op" id="8413605">==</span>&nbsp;<span class="builtintype" id="8413608">nil</span><span class="op" id="8413611">;</span>&nbsp;<span class="ident" id="8413613">_</span><span class="op" id="8413614">,</span>&nbsp;<span class="ident" id="8413616"><a href="/gostd/encoding/xml/xml_test.go.html#8413566">err</a></span>&nbsp;<span class="op" id="8413620">=</span>&nbsp;<span class="ident" id="8413622"><a href="/gostd/encoding/xml/xml_test.go.html#8413515">d</a></span><span class="op" id="8413623">.</span><span class="ident" id="8413624"><a href="/gostd/encoding/xml/xml.go.html#6247764">Token</a></span><span class="op" id="8413629">(</span><span class="op" id="8413630">)</span>&nbsp;<span class="op" id="8413632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8413635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8413638">synerr</span><span class="op" id="8413644">,</span>&nbsp;<span class="ident" id="8413646">ok</span>&nbsp;<span class="op" id="8413649">:=</span>&nbsp;<span class="ident" id="8413652"><a href="/gostd/encoding/xml/xml_test.go.html#8413566">err</a></span><span class="op" id="8413655">.</span><span class="op" id="8413656">(</span><span class="op" id="8413657">*</span><span class="ident" id="8413658"><a href="/gostd/encoding/xml/xml.go.html#6241583">SyntaxError</a></span><span class="op" id="8413669">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8413672">if</span>&nbsp;<span class="op" id="8413675">!</span><span class="ident" id="8413676"><a href="/gostd/encoding/xml/xml_test.go.html#8413646">ok</a></span>&nbsp;<span class="op" id="8413679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8413683"><a href="/gostd/encoding/xml/xml_test.go.html#8413457">t</a></span><span class="op" id="8413684">.</span><span class="ident" id="8413685"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="8413690">(</span><span class="string" id="8413691">&#34;Expected&nbsp;SyntaxError.&#34;</span><span class="op" id="8413714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8413717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8413720">if</span>&nbsp;<span class="ident" id="8413723"><a href="/gostd/encoding/xml/xml_test.go.html#8413638">synerr</a></span><span class="op" id="8413729">.</span><span class="ident" id="8413730"><a href="/gostd/encoding/xml/xml.go.html#6241618">Line</a></span>&nbsp;<span class="op" id="8413735">!=</span>&nbsp;<span class="num" id="8413738">3</span>&nbsp;<span class="op" id="8413740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8413744"><a href="/gostd/encoding/xml/xml_test.go.html#8413457">t</a></span><span class="op" id="8413745">.</span><span class="ident" id="8413746"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="8413751">(</span><span class="string" id="8413752">&#34;SyntaxError&nbsp;didn&#39;t&nbsp;have&nbsp;correct&nbsp;line&nbsp;number.&#34;</span><span class="op" id="8413798">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8413801">}</span><br>
<span class="lineno"></span><span class="op" id="8413803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8413806">func</span>&nbsp;<span class="ident" id="8413811">TestTrailingRawToken</span><span class="op" id="8413831">(</span><span class="ident" id="8413832">t</span>&nbsp;<span class="op" id="8413834">*</span><span class="ident" id="8413835"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8413842">.</span><span class="ident" id="8413843"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8413844">)</span>&nbsp;<span class="op" id="8413846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8413849">input</span>&nbsp;<span class="op" id="8413855">:=</span>&nbsp;<span class="string" id="8413858">`&lt;FOO&gt;&lt;/FOO&gt;&nbsp;&nbsp;`</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8413875">d</span>&nbsp;<span class="op" id="8413877">:=</span>&nbsp;<span class="ident" id="8413880"><a href="/gostd/encoding/xml/xml.go.html#6246568">NewDecoder</a></span><span class="op" id="8413890">(</span><span class="ident" id="8413891"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8413898">.</span><span class="ident" id="8413899"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="8413908">(</span><span class="ident" id="8413909"><a href="/gostd/encoding/xml/xml_test.go.html#8413849">input</a></span><span class="op" id="8413914">)</span><span class="op" id="8413915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8413918">var</span>&nbsp;<span class="ident" id="8413922">err</span>&nbsp;<span class="builtintype" id="8413926">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8413933">for</span>&nbsp;<span class="ident" id="8413937">_</span><span class="op" id="8413938">,</span>&nbsp;<span class="ident" id="8413940"><a href="/gostd/encoding/xml/xml_test.go.html#8413922">err</a></span>&nbsp;<span class="op" id="8413944">=</span>&nbsp;<span class="ident" id="8413946"><a href="/gostd/encoding/xml/xml_test.go.html#8413875">d</a></span><span class="op" id="8413947">.</span><span class="ident" id="8413948"><a href="/gostd/encoding/xml/xml.go.html#6253875">RawToken</a></span><span class="op" id="8413956">(</span><span class="op" id="8413957">)</span><span class="op" id="8413958">;</span>&nbsp;<span class="ident" id="8413960"><a href="/gostd/encoding/xml/xml_test.go.html#8413922">err</a></span>&nbsp;<span class="op" id="8413964">==</span>&nbsp;<span class="builtintype" id="8413967">nil</span><span class="op" id="8413970">;</span>&nbsp;<span class="ident" id="8413972">_</span><span class="op" id="8413973">,</span>&nbsp;<span class="ident" id="8413975"><a href="/gostd/encoding/xml/xml_test.go.html#8413922">err</a></span>&nbsp;<span class="op" id="8413979">=</span>&nbsp;<span class="ident" id="8413981"><a href="/gostd/encoding/xml/xml_test.go.html#8413875">d</a></span><span class="op" id="8413982">.</span><span class="ident" id="8413983"><a href="/gostd/encoding/xml/xml.go.html#6253875">RawToken</a></span><span class="op" id="8413991">(</span><span class="op" id="8413992">)</span>&nbsp;<span class="op" id="8413994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8413997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8414000">if</span>&nbsp;<span class="ident" id="8414003"><a href="/gostd/encoding/xml/xml_test.go.html#8413922">err</a></span>&nbsp;<span class="op" id="8414007">!=</span>&nbsp;<span class="ident" id="8414010"><a href="/gostd/encoding/xml/xml_test.go.html#8399008">io</a></span><span class="op" id="8414012">.</span><span class="ident" id="8414013"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="8414017">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8414021"><a href="/gostd/encoding/xml/xml_test.go.html#8413832">t</a></span><span class="op" id="8414022">.</span><span class="ident" id="8414023"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8414029">(</span><span class="string" id="8414030">&#34;d.RawToken()&nbsp;=&nbsp;_,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;io.EOF&#34;</span><span class="op" id="8414068">,</span>&nbsp;<span class="ident" id="8414070"><a href="/gostd/encoding/xml/xml_test.go.html#8413922">err</a></span><span class="op" id="8414073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8414076">}</span><br>
<span class="lineno"></span><span class="op" id="8414078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8414081">func</span>&nbsp;<span class="ident" id="8414086">TestTrailingToken</span><span class="op" id="8414103">(</span><span class="ident" id="8414104">t</span>&nbsp;<span class="op" id="8414106">*</span><span class="ident" id="8414107"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8414114">.</span><span class="ident" id="8414115"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8414116">)</span>&nbsp;<span class="op" id="8414118">{</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8414121">input</span>&nbsp;<span class="op" id="8414127">:=</span>&nbsp;<span class="string" id="8414130">`&lt;FOO&gt;&lt;/FOO&gt;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8414147">d</span>&nbsp;<span class="op" id="8414149">:=</span>&nbsp;<span class="ident" id="8414152"><a href="/gostd/encoding/xml/xml.go.html#6246568">NewDecoder</a></span><span class="op" id="8414162">(</span><span class="ident" id="8414163"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8414170">.</span><span class="ident" id="8414171"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="8414180">(</span><span class="ident" id="8414181"><a href="/gostd/encoding/xml/xml_test.go.html#8414121">input</a></span><span class="op" id="8414186">)</span><span class="op" id="8414187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8414190">var</span>&nbsp;<span class="ident" id="8414194">err</span>&nbsp;<span class="builtintype" id="8414198">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8414205">for</span>&nbsp;<span class="ident" id="8414209">_</span><span class="op" id="8414210">,</span>&nbsp;<span class="ident" id="8414212"><a href="/gostd/encoding/xml/xml_test.go.html#8414194">err</a></span>&nbsp;<span class="op" id="8414216">=</span>&nbsp;<span class="ident" id="8414218"><a href="/gostd/encoding/xml/xml_test.go.html#8414147">d</a></span><span class="op" id="8414219">.</span><span class="ident" id="8414220"><a href="/gostd/encoding/xml/xml.go.html#6247764">Token</a></span><span class="op" id="8414225">(</span><span class="op" id="8414226">)</span><span class="op" id="8414227">;</span>&nbsp;<span class="ident" id="8414229"><a href="/gostd/encoding/xml/xml_test.go.html#8414194">err</a></span>&nbsp;<span class="op" id="8414233">==</span>&nbsp;<span class="builtintype" id="8414236">nil</span><span class="op" id="8414239">;</span>&nbsp;<span class="ident" id="8414241">_</span><span class="op" id="8414242">,</span>&nbsp;<span class="ident" id="8414244"><a href="/gostd/encoding/xml/xml_test.go.html#8414194">err</a></span>&nbsp;<span class="op" id="8414248">=</span>&nbsp;<span class="ident" id="8414250"><a href="/gostd/encoding/xml/xml_test.go.html#8414147">d</a></span><span class="op" id="8414251">.</span><span class="ident" id="8414252"><a href="/gostd/encoding/xml/xml.go.html#6247764">Token</a></span><span class="op" id="8414257">(</span><span class="op" id="8414258">)</span>&nbsp;<span class="op" id="8414260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8414263">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8414266">if</span>&nbsp;<span class="ident" id="8414269"><a href="/gostd/encoding/xml/xml_test.go.html#8414194">err</a></span>&nbsp;<span class="op" id="8414273">!=</span>&nbsp;<span class="ident" id="8414276"><a href="/gostd/encoding/xml/xml_test.go.html#8399008">io</a></span><span class="op" id="8414278">.</span><span class="ident" id="8414279"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="8414283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8414287"><a href="/gostd/encoding/xml/xml_test.go.html#8414104">t</a></span><span class="op" id="8414288">.</span><span class="ident" id="8414289"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8414295">(</span><span class="string" id="8414296">&#34;d.Token()&nbsp;=&nbsp;_,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;io.EOF&#34;</span><span class="op" id="8414331">,</span>&nbsp;<span class="ident" id="8414333"><a href="/gostd/encoding/xml/xml_test.go.html#8414194">err</a></span><span class="op" id="8414336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8414339">}</span><br>
<span class="lineno"></span><span class="op" id="8414341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span><span class="keyword" id="8414344">func</span>&nbsp;<span class="ident" id="8414349">TestEntityInsideCDATA</span><span class="op" id="8414370">(</span><span class="ident" id="8414371">t</span>&nbsp;<span class="op" id="8414373">*</span><span class="ident" id="8414374"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8414381">.</span><span class="ident" id="8414382"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8414383">)</span>&nbsp;<span class="op" id="8414385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8414388">input</span>&nbsp;<span class="op" id="8414394">:=</span>&nbsp;<span class="string" id="8414397">`&lt;test&gt;&lt;![CDATA[&nbsp;&amp;val=foo&nbsp;]]&gt;&lt;/test&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8414436">d</span>&nbsp;<span class="op" id="8414438">:=</span>&nbsp;<span class="ident" id="8414441"><a href="/gostd/encoding/xml/xml.go.html#6246568">NewDecoder</a></span><span class="op" id="8414451">(</span><span class="ident" id="8414452"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8414459">.</span><span class="ident" id="8414460"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="8414469">(</span><span class="ident" id="8414470"><a href="/gostd/encoding/xml/xml_test.go.html#8414388">input</a></span><span class="op" id="8414475">)</span><span class="op" id="8414476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8414479">var</span>&nbsp;<span class="ident" id="8414483">err</span>&nbsp;<span class="builtintype" id="8414487">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8414494">for</span>&nbsp;<span class="ident" id="8414498">_</span><span class="op" id="8414499">,</span>&nbsp;<span class="ident" id="8414501"><a href="/gostd/encoding/xml/xml_test.go.html#8414483">err</a></span>&nbsp;<span class="op" id="8414505">=</span>&nbsp;<span class="ident" id="8414507"><a href="/gostd/encoding/xml/xml_test.go.html#8414436">d</a></span><span class="op" id="8414508">.</span><span class="ident" id="8414509"><a href="/gostd/encoding/xml/xml.go.html#6247764">Token</a></span><span class="op" id="8414514">(</span><span class="op" id="8414515">)</span><span class="op" id="8414516">;</span>&nbsp;<span class="ident" id="8414518"><a href="/gostd/encoding/xml/xml_test.go.html#8414483">err</a></span>&nbsp;<span class="op" id="8414522">==</span>&nbsp;<span class="builtintype" id="8414525">nil</span><span class="op" id="8414528">;</span>&nbsp;<span class="ident" id="8414530">_</span><span class="op" id="8414531">,</span>&nbsp;<span class="ident" id="8414533"><a href="/gostd/encoding/xml/xml_test.go.html#8414483">err</a></span>&nbsp;<span class="op" id="8414537">=</span>&nbsp;<span class="ident" id="8414539"><a href="/gostd/encoding/xml/xml_test.go.html#8414436">d</a></span><span class="op" id="8414540">.</span><span class="ident" id="8414541"><a href="/gostd/encoding/xml/xml.go.html#6247764">Token</a></span><span class="op" id="8414546">(</span><span class="op" id="8414547">)</span>&nbsp;<span class="op" id="8414549">{</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8414552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8414555">if</span>&nbsp;<span class="ident" id="8414558"><a href="/gostd/encoding/xml/xml_test.go.html#8414483">err</a></span>&nbsp;<span class="op" id="8414562">!=</span>&nbsp;<span class="ident" id="8414565"><a href="/gostd/encoding/xml/xml_test.go.html#8399008">io</a></span><span class="op" id="8414567">.</span><span class="ident" id="8414568"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="8414572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8414576"><a href="/gostd/encoding/xml/xml_test.go.html#8414371">t</a></span><span class="op" id="8414577">.</span><span class="ident" id="8414578"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8414584">(</span><span class="string" id="8414585">&#34;d.Token()&nbsp;=&nbsp;_,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;io.EOF&#34;</span><span class="op" id="8414620">,</span>&nbsp;<span class="ident" id="8414622"><a href="/gostd/encoding/xml/xml_test.go.html#8414483">err</a></span><span class="op" id="8414625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8414628">}</span><br>
<span class="lineno"></span><span class="op" id="8414630">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span><span class="keyword" id="8414633">var</span>&nbsp;<span class="ident" id="8414637">characterTests</span>&nbsp;<span class="op" id="8414652">=</span>&nbsp;<span class="op" id="8414654">[</span><span class="op" id="8414655">]</span><span class="keyword" id="8414656">struct</span>&nbsp;<span class="op" id="8414663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8414666">in</span>&nbsp;&nbsp;<span class="builtintype" id="8414670">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8414678">err</span>&nbsp;<span class="builtintype" id="8414682">string</span><br>
<span class="lineno"></span><span class="op" id="8414689">}</span><span class="op" id="8414690">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8414693">{</span><span class="string" id="8414694">&#34;\x12&lt;doc/&gt;&#34;</span><span class="op" id="8414706">,</span>&nbsp;<span class="string" id="8414708">&#34;illegal&nbsp;character&nbsp;code&nbsp;U+0012&#34;</span><span class="op" id="8414739">}</span><span class="op" id="8414740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8414743">{</span><span class="string" id="8414744">&#34;&lt;?xml&nbsp;version=\&#34;1.0\&#34;?&gt;\x0b&lt;doc/&gt;&#34;</span><span class="op" id="8414779">,</span>&nbsp;<span class="string" id="8414781">&#34;illegal&nbsp;character&nbsp;code&nbsp;U+000B&#34;</span><span class="op" id="8414812">}</span><span class="op" id="8414813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8414816">{</span><span class="string" id="8414817">&#34;\xef\xbf\xbe&lt;doc/&gt;&#34;</span><span class="op" id="8414837">,</span>&nbsp;<span class="string" id="8414839">&#34;illegal&nbsp;character&nbsp;code&nbsp;U+FFFE&#34;</span><span class="op" id="8414870">}</span><span class="op" id="8414871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8414874">{</span><span class="string" id="8414875">&#34;&lt;?xml&nbsp;version=\&#34;1.0\&#34;?&gt;&lt;doc&gt;\r\n&lt;hiya/&gt;\x07&lt;toots/&gt;&lt;/doc&gt;&#34;</span><span class="op" id="8414934">,</span>&nbsp;<span class="string" id="8414936">&#34;illegal&nbsp;character&nbsp;code&nbsp;U+0007&#34;</span><span class="op" id="8414967">}</span><span class="op" id="8414968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8414971">{</span><span class="string" id="8414972">&#34;&lt;?xml&nbsp;version=\&#34;1.0\&#34;?&gt;&lt;doc&nbsp;\x12=&#39;value&#39;&gt;what&#39;s&nbsp;up&lt;/doc&gt;&#34;</span><span class="op" id="8415030">,</span>&nbsp;<span class="string" id="8415032">&#34;expected&nbsp;attribute&nbsp;name&nbsp;in&nbsp;element&#34;</span><span class="op" id="8415068">}</span><span class="op" id="8415069">,</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8415072">{</span><span class="string" id="8415073">&#34;&lt;doc&gt;&amp;abc\x01;&lt;/doc&gt;&#34;</span><span class="op" id="8415095">,</span>&nbsp;<span class="string" id="8415097">&#34;invalid&nbsp;character&nbsp;entity&nbsp;&amp;abc&nbsp;(no&nbsp;semicolon)&#34;</span><span class="op" id="8415143">}</span><span class="op" id="8415144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8415147">{</span><span class="string" id="8415148">&#34;&lt;doc&gt;&amp;\x01;&lt;/doc&gt;&#34;</span><span class="op" id="8415167">,</span>&nbsp;<span class="string" id="8415169">&#34;invalid&nbsp;character&nbsp;entity&nbsp;&amp;&nbsp;(no&nbsp;semicolon)&#34;</span><span class="op" id="8415212">}</span><span class="op" id="8415213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8415216">{</span><span class="string" id="8415217">&#34;&lt;doc&gt;&amp;\xef\xbf\xbe;&lt;/doc&gt;&#34;</span><span class="op" id="8415244">,</span>&nbsp;<span class="string" id="8415246">&#34;invalid&nbsp;character&nbsp;entity&nbsp;&amp;\uFFFE;&#34;</span><span class="op" id="8415281">}</span><span class="op" id="8415282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8415285">{</span><span class="string" id="8415286">&#34;&lt;doc&gt;&amp;hello;&lt;/doc&gt;&#34;</span><span class="op" id="8415306">,</span>&nbsp;<span class="string" id="8415308">&#34;invalid&nbsp;character&nbsp;entity&nbsp;&amp;hello;&#34;</span><span class="op" id="8415342">}</span><span class="op" id="8415343">,</span><br>
<span class="lineno"></span><span class="op" id="8415345">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span><span class="keyword" id="8415348">func</span>&nbsp;<span class="ident" id="8415353">TestDisallowedCharacters</span><span class="op" id="8415377">(</span><span class="ident" id="8415378">t</span>&nbsp;<span class="op" id="8415380">*</span><span class="ident" id="8415381"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8415388">.</span><span class="ident" id="8415389"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8415390">)</span>&nbsp;<span class="op" id="8415392">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8415396">for</span>&nbsp;<span class="ident" id="8415400">i</span><span class="op" id="8415401">,</span>&nbsp;<span class="ident" id="8415403">tt</span>&nbsp;<span class="op" id="8415406">:=</span>&nbsp;<span class="keyword" id="8415409">range</span>&nbsp;<span class="ident" id="8415415"><a href="/gostd/encoding/xml/xml_test.go.html#8414637">characterTests</a></span>&nbsp;<span class="op" id="8415430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8415434">d</span>&nbsp;<span class="op" id="8415436">:=</span>&nbsp;<span class="ident" id="8415439"><a href="/gostd/encoding/xml/xml.go.html#6246568">NewDecoder</a></span><span class="op" id="8415449">(</span><span class="ident" id="8415450"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8415457">.</span><span class="ident" id="8415458"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="8415467">(</span><span class="ident" id="8415468"><a href="/gostd/encoding/xml/xml_test.go.html#8415403">tt</a></span><span class="op" id="8415470">.</span><span class="ident" id="8415471"><a href="/gostd/encoding/xml/xml_test.go.html#8414666">in</a></span><span class="op" id="8415473">)</span><span class="op" id="8415474">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8415478">var</span>&nbsp;<span class="ident" id="8415482">err</span>&nbsp;<span class="builtintype" id="8415486">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8415495">for</span>&nbsp;<span class="ident" id="8415499"><a href="/gostd/encoding/xml/xml_test.go.html#8415482">err</a></span>&nbsp;<span class="op" id="8415503">==</span>&nbsp;<span class="builtintype" id="8415506">nil</span>&nbsp;<span class="op" id="8415510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8415515">_</span><span class="op" id="8415516">,</span>&nbsp;<span class="ident" id="8415518"><a href="/gostd/encoding/xml/xml_test.go.html#8415482">err</a></span>&nbsp;<span class="op" id="8415522">=</span>&nbsp;<span class="ident" id="8415524"><a href="/gostd/encoding/xml/xml_test.go.html#8415434">d</a></span><span class="op" id="8415525">.</span><span class="ident" id="8415526"><a href="/gostd/encoding/xml/xml.go.html#6247764">Token</a></span><span class="op" id="8415531">(</span><span class="op" id="8415532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8415536">}</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8415540">synerr</span><span class="op" id="8415546">,</span>&nbsp;<span class="ident" id="8415548">ok</span>&nbsp;<span class="op" id="8415551">:=</span>&nbsp;<span class="ident" id="8415554"><a href="/gostd/encoding/xml/xml_test.go.html#8415482">err</a></span><span class="op" id="8415557">.</span><span class="op" id="8415558">(</span><span class="op" id="8415559">*</span><span class="ident" id="8415560"><a href="/gostd/encoding/xml/xml.go.html#6241583">SyntaxError</a></span><span class="op" id="8415571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8415575">if</span>&nbsp;<span class="op" id="8415578">!</span><span class="ident" id="8415579"><a href="/gostd/encoding/xml/xml_test.go.html#8415548">ok</a></span>&nbsp;<span class="op" id="8415582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8415587"><a href="/gostd/encoding/xml/xml_test.go.html#8415378">t</a></span><span class="op" id="8415588">.</span><span class="ident" id="8415589"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8415595">(</span><span class="string" id="8415596">&#34;input&nbsp;%d&nbsp;d.Token()&nbsp;=&nbsp;_,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;*SyntaxError&#34;</span><span class="op" id="8415646">,</span>&nbsp;<span class="ident" id="8415648"><a href="/gostd/encoding/xml/xml_test.go.html#8415400">i</a></span><span class="op" id="8415649">,</span>&nbsp;<span class="ident" id="8415651"><a href="/gostd/encoding/xml/xml_test.go.html#8415482">err</a></span><span class="op" id="8415654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8415658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8415662">if</span>&nbsp;<span class="ident" id="8415665"><a href="/gostd/encoding/xml/xml_test.go.html#8415540">synerr</a></span><span class="op" id="8415671">.</span><span class="ident" id="8415672"><a href="/gostd/encoding/xml/xml.go.html#6241605">Msg</a></span>&nbsp;<span class="op" id="8415676">!=</span>&nbsp;<span class="ident" id="8415679"><a href="/gostd/encoding/xml/xml_test.go.html#8415403">tt</a></span><span class="op" id="8415681">.</span><span class="ident" id="8415682"><a href="/gostd/encoding/xml/xml_test.go.html#8414678">err</a></span>&nbsp;<span class="op" id="8415686">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8415691"><a href="/gostd/encoding/xml/xml_test.go.html#8415378">t</a></span><span class="op" id="8415692">.</span><span class="ident" id="8415693"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8415699">(</span><span class="string" id="8415700">&#34;input&nbsp;%d&nbsp;synerr.Msg&nbsp;wrong:&nbsp;want&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8415744">,</span>&nbsp;<span class="ident" id="8415746"><a href="/gostd/encoding/xml/xml_test.go.html#8415400">i</a></span><span class="op" id="8415747">,</span>&nbsp;<span class="ident" id="8415749"><a href="/gostd/encoding/xml/xml_test.go.html#8415403">tt</a></span><span class="op" id="8415751">.</span><span class="ident" id="8415752"><a href="/gostd/encoding/xml/xml_test.go.html#8414678">err</a></span><span class="op" id="8415755">,</span>&nbsp;<span class="ident" id="8415757"><a href="/gostd/encoding/xml/xml_test.go.html#8415540">synerr</a></span><span class="op" id="8415763">.</span><span class="ident" id="8415764"><a href="/gostd/encoding/xml/xml.go.html#6241605">Msg</a></span><span class="op" id="8415767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8415771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8415774">}</span><br>
<span class="lineno"></span><span class="op" id="8415776">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">655</span><span class="keyword" id="8415779">type</span>&nbsp;<span class="ident" id="8415784">procInstEncodingTest</span>&nbsp;<span class="keyword" id="8415805">struct</span>&nbsp;<span class="op" id="8415812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8415815">expect</span><span class="op" id="8415821">,</span>&nbsp;<span class="ident" id="8415823">got</span>&nbsp;<span class="builtintype" id="8415827">string</span><br>
<span class="lineno"></span><span class="op" id="8415834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8415837">var</span>&nbsp;<span class="ident" id="8415841">procInstTests</span>&nbsp;<span class="op" id="8415855">=</span>&nbsp;<span class="op" id="8415857">[</span><span class="op" id="8415858">]</span><span class="keyword" id="8415859">struct</span>&nbsp;<span class="op" id="8415866">{</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8415869">input</span><span class="op" id="8415874">,</span>&nbsp;<span class="ident" id="8415876">expect</span>&nbsp;<span class="builtintype" id="8415883">string</span><br>
<span class="lineno"></span><span class="op" id="8415890">}</span><span class="op" id="8415891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8415894">{</span><span class="string" id="8415895">`version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;`</span><span class="op" id="8415927">,</span>&nbsp;<span class="string" id="8415929">&#34;utf-8&#34;</span><span class="op" id="8415936">}</span><span class="op" id="8415937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8415940">{</span><span class="string" id="8415941">`version=&#34;1.0&#34;&nbsp;encoding=&#39;utf-8&#39;`</span><span class="op" id="8415973">,</span>&nbsp;<span class="string" id="8415975">&#34;utf-8&#34;</span><span class="op" id="8415982">}</span><span class="op" id="8415983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8415986">{</span><span class="string" id="8415987">`version=&#34;1.0&#34;&nbsp;encoding=&#39;utf-8&#39;&nbsp;`</span><span class="op" id="8416020">,</span>&nbsp;<span class="string" id="8416022">&#34;utf-8&#34;</span><span class="op" id="8416029">}</span><span class="op" id="8416030">,</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8416033">{</span><span class="string" id="8416034">`version=&#34;1.0&#34;&nbsp;encoding=utf-8`</span><span class="op" id="8416064">,</span>&nbsp;<span class="string" id="8416066">&#34;&#34;</span><span class="op" id="8416068">}</span><span class="op" id="8416069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8416072">{</span><span class="string" id="8416073">`encoding=&#34;FOO&#34;&nbsp;`</span><span class="op" id="8416090">,</span>&nbsp;<span class="string" id="8416092">&#34;FOO&#34;</span><span class="op" id="8416097">}</span><span class="op" id="8416098">,</span><br>
<span class="lineno"></span><span class="op" id="8416100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8416103">func</span>&nbsp;<span class="ident" id="8416108">TestProcInstEncoding</span><span class="op" id="8416128">(</span><span class="ident" id="8416129">t</span>&nbsp;<span class="op" id="8416131">*</span><span class="ident" id="8416132"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8416139">.</span><span class="ident" id="8416140"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8416141">)</span>&nbsp;<span class="op" id="8416143">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8416146">for</span>&nbsp;<span class="ident" id="8416150">_</span><span class="op" id="8416151">,</span>&nbsp;<span class="ident" id="8416153">test</span>&nbsp;<span class="op" id="8416158">:=</span>&nbsp;<span class="keyword" id="8416161">range</span>&nbsp;<span class="ident" id="8416167"><a href="/gostd/encoding/xml/xml_test.go.html#8415841">procInstTests</a></span>&nbsp;<span class="op" id="8416181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8416185">got</span>&nbsp;<span class="op" id="8416189">:=</span>&nbsp;<span class="ident" id="8416192"><a href="/gostd/encoding/xml/xml.go.html#6285047">procInstEncoding</a></span><span class="op" id="8416208">(</span><span class="ident" id="8416209"><a href="/gostd/encoding/xml/xml_test.go.html#8416153">test</a></span><span class="op" id="8416213">.</span><span class="ident" id="8416214"><a href="/gostd/encoding/xml/xml_test.go.html#8415869">input</a></span><span class="op" id="8416219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8416223">if</span>&nbsp;<span class="ident" id="8416226"><a href="/gostd/encoding/xml/xml_test.go.html#8416185">got</a></span>&nbsp;<span class="op" id="8416230">!=</span>&nbsp;<span class="ident" id="8416233"><a href="/gostd/encoding/xml/xml_test.go.html#8416153">test</a></span><span class="op" id="8416237">.</span><span class="ident" id="8416238"><a href="/gostd/encoding/xml/xml_test.go.html#8415876">expect</a></span>&nbsp;<span class="op" id="8416245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8416250"><a href="/gostd/encoding/xml/xml_test.go.html#8416129">t</a></span><span class="op" id="8416251">.</span><span class="ident" id="8416252"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8416258">(</span><span class="string" id="8416259">&#34;procInstEncoding(%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8416295">,</span>&nbsp;<span class="ident" id="8416297"><a href="/gostd/encoding/xml/xml_test.go.html#8416153">test</a></span><span class="op" id="8416301">.</span><span class="ident" id="8416302"><a href="/gostd/encoding/xml/xml_test.go.html#8415869">input</a></span><span class="op" id="8416307">,</span>&nbsp;<span class="ident" id="8416309"><a href="/gostd/encoding/xml/xml_test.go.html#8416185">got</a></span><span class="op" id="8416312">,</span>&nbsp;<span class="ident" id="8416314"><a href="/gostd/encoding/xml/xml_test.go.html#8416153">test</a></span><span class="op" id="8416318">.</span><span class="ident" id="8416319"><a href="/gostd/encoding/xml/xml_test.go.html#8415876">expect</a></span><span class="op" id="8416325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8416329">}</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8416332">}</span><br>
<span class="lineno"></span><span class="op" id="8416334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8416337">//&nbsp;Ensure&nbsp;that&nbsp;directives&nbsp;with&nbsp;comments&nbsp;include&nbsp;the&nbsp;complete</span><br>
<span class="lineno"></span><span class="comment" id="8416398">//&nbsp;text&nbsp;of&nbsp;any&nbsp;nested&nbsp;directives.</span><br>
<span class="lineno">680</span><br>
<span class="lineno"></span><span class="keyword" id="8416433">var</span>&nbsp;<span class="ident" id="8416437">directivesWithCommentsInput</span>&nbsp;<span class="op" id="8416465">=</span>&nbsp;<span class="string" id="8416467">`<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!--&nbsp;a&nbsp;comment&nbsp;--&gt;&lt;!ENTITY&nbsp;rdf&nbsp;&#34;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#34;&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;go&nbsp;&#34;Golang&#34;&gt;&lt;!--&nbsp;a&nbsp;comment--&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;&lt;!-&gt;&nbsp;&lt;!&gt;&nbsp;&lt;!----&gt;&nbsp;&lt;!--&gt;--&gt;&nbsp;&lt;!---&gt;--&gt;&nbsp;[&lt;!ENTITY&nbsp;go&nbsp;&#34;Golang&#34;&gt;&lt;!--&nbsp;a&nbsp;comment--&gt;]&gt;<br>
<span class="lineno">685</span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8416703">var</span>&nbsp;<span class="ident" id="8416707">directivesWithCommentsTokens</span>&nbsp;<span class="op" id="8416736">=</span>&nbsp;<span class="op" id="8416738">[</span><span class="op" id="8416739">]</span><span class="ident" id="8416740"><a href="/gostd/encoding/xml/xml.go.html#6242284">Token</a></span><span class="op" id="8416745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8416748"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8416756">(</span><span class="string" id="8416757">&#34;\n&#34;</span><span class="op" id="8416761">)</span><span class="op" id="8416762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8416765"><a href="/gostd/encoding/xml/xml.go.html#6243618">Directive</a></span><span class="op" id="8416774">(</span><span class="string" id="8416775">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;rdf&nbsp;&#34;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#34;&gt;]`</span><span class="op" id="8416846">)</span><span class="op" id="8416847">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8416850"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8416858">(</span><span class="string" id="8416859">&#34;\n&#34;</span><span class="op" id="8416863">)</span><span class="op" id="8416864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8416867"><a href="/gostd/encoding/xml/xml.go.html#6243618">Directive</a></span><span class="op" id="8416876">(</span><span class="string" id="8416877">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;go&nbsp;&#34;Golang&#34;&gt;]`</span><span class="op" id="8416910">)</span><span class="op" id="8416911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8416914"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8416922">(</span><span class="string" id="8416923">&#34;\n&#34;</span><span class="op" id="8416927">)</span><span class="op" id="8416928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8416931"><a href="/gostd/encoding/xml/xml.go.html#6243618">Directive</a></span><span class="op" id="8416940">(</span><span class="string" id="8416941">`DOCTYPE&nbsp;&lt;!-&gt;&nbsp;&lt;!&gt;&nbsp;&nbsp;&nbsp;&nbsp;[&lt;!ENTITY&nbsp;go&nbsp;&#34;Golang&#34;&gt;]`</span><span class="op" id="8416986">)</span><span class="op" id="8416987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8416990"><a href="/gostd/encoding/xml/xml.go.html#6242896">CharData</a></span><span class="op" id="8416998">(</span><span class="string" id="8416999">&#34;\n&#34;</span><span class="op" id="8417003">)</span><span class="op" id="8417004">,</span><br>
<span class="lineno">695</span><span class="op" id="8417006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8417009">func</span>&nbsp;<span class="ident" id="8417014">TestDirectivesWithComments</span><span class="op" id="8417040">(</span><span class="ident" id="8417041">t</span>&nbsp;<span class="op" id="8417043">*</span><span class="ident" id="8417044"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8417051">.</span><span class="ident" id="8417052"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8417053">)</span>&nbsp;<span class="op" id="8417055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8417058">d</span>&nbsp;<span class="op" id="8417060">:=</span>&nbsp;<span class="ident" id="8417063"><a href="/gostd/encoding/xml/xml.go.html#6246568">NewDecoder</a></span><span class="op" id="8417073">(</span><span class="ident" id="8417074"><a href="/gostd/encoding/xml/xml_test.go.html#8399025">strings</a></span><span class="op" id="8417081">.</span><span class="ident" id="8417082"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="8417091">(</span><span class="ident" id="8417092"><a href="/gostd/encoding/xml/xml_test.go.html#8416437">directivesWithCommentsInput</a></span><span class="op" id="8417119">)</span><span class="op" id="8417120">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8417124">for</span>&nbsp;<span class="ident" id="8417128">i</span><span class="op" id="8417129">,</span>&nbsp;<span class="ident" id="8417131">want</span>&nbsp;<span class="op" id="8417136">:=</span>&nbsp;<span class="keyword" id="8417139">range</span>&nbsp;<span class="ident" id="8417145"><a href="/gostd/encoding/xml/xml_test.go.html#8416707">directivesWithCommentsTokens</a></span>&nbsp;<span class="op" id="8417174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8417178">have</span><span class="op" id="8417182">,</span>&nbsp;<span class="ident" id="8417184">err</span>&nbsp;<span class="op" id="8417188">:=</span>&nbsp;<span class="ident" id="8417191"><a href="/gostd/encoding/xml/xml_test.go.html#8417058">d</a></span><span class="op" id="8417192">.</span><span class="ident" id="8417193"><a href="/gostd/encoding/xml/xml.go.html#6247764">Token</a></span><span class="op" id="8417198">(</span><span class="op" id="8417199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8417203">if</span>&nbsp;<span class="ident" id="8417206"><a href="/gostd/encoding/xml/xml_test.go.html#8417184">err</a></span>&nbsp;<span class="op" id="8417210">!=</span>&nbsp;<span class="builtintype" id="8417213">nil</span>&nbsp;<span class="op" id="8417217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8417222"><a href="/gostd/encoding/xml/xml_test.go.html#8417041">t</a></span><span class="op" id="8417223">.</span><span class="ident" id="8417224"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8417230">(</span><span class="string" id="8417231">&#34;token&nbsp;%d:&nbsp;unexpected&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8417263">,</span>&nbsp;<span class="ident" id="8417265"><a href="/gostd/encoding/xml/xml_test.go.html#8417128">i</a></span><span class="op" id="8417266">,</span>&nbsp;<span class="ident" id="8417268"><a href="/gostd/encoding/xml/xml_test.go.html#8417184">err</a></span><span class="op" id="8417271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8417275">}</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8417279">if</span>&nbsp;<span class="op" id="8417282">!</span><span class="ident" id="8417283"><a href="/gostd/encoding/xml/xml_test.go.html#8399014">reflect</a></span><span class="op" id="8417290">.</span><span class="ident" id="8417291"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="8417300">(</span><span class="ident" id="8417301"><a href="/gostd/encoding/xml/xml_test.go.html#8417178">have</a></span><span class="op" id="8417305">,</span>&nbsp;<span class="ident" id="8417307"><a href="/gostd/encoding/xml/xml_test.go.html#8417131">want</a></span><span class="op" id="8417311">)</span>&nbsp;<span class="op" id="8417313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8417318"><a href="/gostd/encoding/xml/xml_test.go.html#8417041">t</a></span><span class="op" id="8417319">.</span><span class="ident" id="8417320"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8417326">(</span><span class="string" id="8417327">&#34;token&nbsp;%d&nbsp;=&nbsp;%#v&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8417352">,</span>&nbsp;<span class="ident" id="8417354"><a href="/gostd/encoding/xml/xml_test.go.html#8417128">i</a></span><span class="op" id="8417355">,</span>&nbsp;<span class="ident" id="8417357"><a href="/gostd/encoding/xml/xml_test.go.html#8417178">have</a></span><span class="op" id="8417361">,</span>&nbsp;<span class="ident" id="8417363"><a href="/gostd/encoding/xml/xml_test.go.html#8417131">want</a></span><span class="op" id="8417367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8417371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8417374">}</span><br>
<span class="lineno"></span><span class="op" id="8417376">}</span><br>
<span class="lineno">710</span><br>
<span class="lineno"></span><span class="comment" id="8417379">//&nbsp;Writer&nbsp;whose&nbsp;Write&nbsp;method&nbsp;always&nbsp;returns&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="8417433">type</span>&nbsp;<span class="ident" id="8417438">errWriter</span>&nbsp;<span class="keyword" id="8417448">struct</span><span class="op" id="8417454">{</span><span class="op" id="8417455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8417458">func</span>&nbsp;<span class="op" id="8417463">(</span><span class="ident" id="8417464"><a href="/gostd/encoding/xml/xml_test.go.html#8417438">errWriter</a></span><span class="op" id="8417473">)</span>&nbsp;<span class="ident" id="8417475">Write</span><span class="op" id="8417480">(</span><span class="ident" id="8417481">p</span>&nbsp;<span class="op" id="8417483">[</span><span class="op" id="8417484">]</span><span class="builtintype" id="8417485">byte</span><span class="op" id="8417489">)</span>&nbsp;<span class="op" id="8417491">(</span><span class="ident" id="8417492">n</span>&nbsp;<span class="builtintype" id="8417494">int</span><span class="op" id="8417497">,</span>&nbsp;<span class="ident" id="8417499">err</span>&nbsp;<span class="builtintype" id="8417503">error</span><span class="op" id="8417508">)</span>&nbsp;<span class="op" id="8417510">{</span>&nbsp;<span class="keyword" id="8417512">return</span>&nbsp;<span class="num" id="8417519">0</span><span class="op" id="8417520">,</span>&nbsp;<span class="ident" id="8417522"><a href="/gostd/encoding/xml/xml_test.go.html#8399001">fmt</a></span><span class="op" id="8417525">.</span><span class="ident" id="8417526"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="8417532">(</span><span class="string" id="8417533">&#34;unwritable&#34;</span><span class="op" id="8417545">)</span>&nbsp;<span class="op" id="8417547">}</span><br>
<span class="lineno">715</span><br>
<span class="lineno"></span><span class="keyword" id="8417550">func</span>&nbsp;<span class="ident" id="8417555">TestEscapeTextIOErrors</span><span class="op" id="8417577">(</span><span class="ident" id="8417578">t</span>&nbsp;<span class="op" id="8417580">*</span><span class="ident" id="8417581"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8417588">.</span><span class="ident" id="8417589"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8417590">)</span>&nbsp;<span class="op" id="8417592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8417595">expectErr</span>&nbsp;<span class="op" id="8417605">:=</span>&nbsp;<span class="string" id="8417608">&#34;unwritable&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8417622">err</span>&nbsp;<span class="op" id="8417626">:=</span>&nbsp;<span class="ident" id="8417629"><a href="/gostd/encoding/xml/xml.go.html#6283222">EscapeText</a></span><span class="op" id="8417639">(</span><span class="ident" id="8417640"><a href="/gostd/encoding/xml/xml_test.go.html#8417438">errWriter</a></span><span class="op" id="8417649">{</span><span class="op" id="8417650">}</span><span class="op" id="8417651">,</span>&nbsp;<span class="op" id="8417653">[</span><span class="op" id="8417654">]</span><span class="builtintype" id="8417655">byte</span><span class="op" id="8417659">{</span><span class="string" id="8417660">&#39;A&#39;</span><span class="op" id="8417663">}</span><span class="op" id="8417664">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8417668">if</span>&nbsp;<span class="ident" id="8417671"><a href="/gostd/encoding/xml/xml_test.go.html#8417622">err</a></span>&nbsp;<span class="op" id="8417675">==</span>&nbsp;<span class="builtintype" id="8417678">nil</span>&nbsp;<span class="op" id="8417682">||</span>&nbsp;<span class="ident" id="8417685"><a href="/gostd/encoding/xml/xml_test.go.html#8417622">err</a></span><span class="op" id="8417688">.</span><span class="ident" id="8417689">Error</span><span class="op" id="8417694">(</span><span class="op" id="8417695">)</span>&nbsp;<span class="op" id="8417697">!=</span>&nbsp;<span class="ident" id="8417700"><a href="/gostd/encoding/xml/xml_test.go.html#8417595">expectErr</a></span>&nbsp;<span class="op" id="8417710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8417714"><a href="/gostd/encoding/xml/xml_test.go.html#8417578">t</a></span><span class="op" id="8417715">.</span><span class="ident" id="8417716"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8417722">(</span><span class="string" id="8417723">&#34;have&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8417741">,</span>&nbsp;<span class="ident" id="8417743"><a href="/gostd/encoding/xml/xml_test.go.html#8417622">err</a></span><span class="op" id="8417746">,</span>&nbsp;<span class="ident" id="8417748"><a href="/gostd/encoding/xml/xml_test.go.html#8417595">expectErr</a></span><span class="op" id="8417757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8417760">}</span><br>
<span class="lineno"></span><span class="op" id="8417762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">725</span><span class="keyword" id="8417765">func</span>&nbsp;<span class="ident" id="8417770">TestEscapeTextInvalidChar</span><span class="op" id="8417795">(</span><span class="ident" id="8417796">t</span>&nbsp;<span class="op" id="8417798">*</span><span class="ident" id="8417799"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8417806">.</span><span class="ident" id="8417807"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8417808">)</span>&nbsp;<span class="op" id="8417810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8417813">input</span>&nbsp;<span class="op" id="8417819">:=</span>&nbsp;<span class="op" id="8417822">[</span><span class="op" id="8417823">]</span><span class="builtintype" id="8417824">byte</span><span class="op" id="8417828">(</span><span class="string" id="8417829">&#34;A&nbsp;\x00&nbsp;terminated&nbsp;string.&#34;</span><span class="op" id="8417856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8417859">expected</span>&nbsp;<span class="op" id="8417868">:=</span>&nbsp;<span class="string" id="8417871">&#34;A&nbsp;\uFFFD&nbsp;terminated&nbsp;string.&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8417903">buff</span>&nbsp;<span class="op" id="8417908">:=</span>&nbsp;<span class="builtinfunc" id="8417911">new</span><span class="op" id="8417914">(</span><span class="ident" id="8417915"><a href="/gostd/encoding/xml/xml_test.go.html#8398992">bytes</a></span><span class="op" id="8417920">.</span><span class="ident" id="8417921"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="8417927">)</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8417930">if</span>&nbsp;<span class="ident" id="8417933">err</span>&nbsp;<span class="op" id="8417937">:=</span>&nbsp;<span class="ident" id="8417940"><a href="/gostd/encoding/xml/xml.go.html#6283222">EscapeText</a></span><span class="op" id="8417950">(</span><span class="ident" id="8417951"><a href="/gostd/encoding/xml/xml_test.go.html#8417903">buff</a></span><span class="op" id="8417955">,</span>&nbsp;<span class="ident" id="8417957"><a href="/gostd/encoding/xml/xml_test.go.html#8417813">input</a></span><span class="op" id="8417962">)</span><span class="op" id="8417963">;</span>&nbsp;<span class="ident" id="8417965"><a href="/gostd/encoding/xml/xml_test.go.html#8417933">err</a></span>&nbsp;<span class="op" id="8417969">!=</span>&nbsp;<span class="builtintype" id="8417972">nil</span>&nbsp;<span class="op" id="8417976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8417980"><a href="/gostd/encoding/xml/xml_test.go.html#8417796">t</a></span><span class="op" id="8417981">.</span><span class="ident" id="8417982"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8417988">(</span><span class="string" id="8417989">&#34;have&nbsp;%v,&nbsp;want&nbsp;nil&#34;</span><span class="op" id="8418008">,</span>&nbsp;<span class="ident" id="8418010"><a href="/gostd/encoding/xml/xml_test.go.html#8417933">err</a></span><span class="op" id="8418013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8418016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8418019">text</span>&nbsp;<span class="op" id="8418024">:=</span>&nbsp;<span class="ident" id="8418027"><a href="/gostd/encoding/xml/xml_test.go.html#8417903">buff</a></span><span class="op" id="8418031">.</span><span class="ident" id="8418032"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="8418038">(</span><span class="op" id="8418039">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8418043">if</span>&nbsp;<span class="ident" id="8418046"><a href="/gostd/encoding/xml/xml_test.go.html#8418019">text</a></span>&nbsp;<span class="op" id="8418051">!=</span>&nbsp;<span class="ident" id="8418054"><a href="/gostd/encoding/xml/xml_test.go.html#8417859">expected</a></span>&nbsp;<span class="op" id="8418063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8418067"><a href="/gostd/encoding/xml/xml_test.go.html#8417796">t</a></span><span class="op" id="8418068">.</span><span class="ident" id="8418069"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8418075">(</span><span class="string" id="8418076">&#34;have&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8418094">,</span>&nbsp;<span class="ident" id="8418096"><a href="/gostd/encoding/xml/xml_test.go.html#8418019">text</a></span><span class="op" id="8418100">,</span>&nbsp;<span class="ident" id="8418102"><a href="/gostd/encoding/xml/xml_test.go.html#8417859">expected</a></span><span class="op" id="8418110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8418113">}</span><br>
<span class="lineno"></span><span class="op" id="8418115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">740</span><span class="keyword" id="8418118">func</span>&nbsp;<span class="ident" id="8418123">TestIssue5880</span><span class="op" id="8418136">(</span><span class="ident" id="8418137">t</span>&nbsp;<span class="op" id="8418139">*</span><span class="ident" id="8418140"><a href="/gostd/encoding/xml/xml_test.go.html#8399036">testing</a></span><span class="op" id="8418147">.</span><span class="ident" id="8418148"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8418149">)</span>&nbsp;<span class="op" id="8418151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8418154">type</span>&nbsp;<span class="ident" id="8418159">T</span>&nbsp;<span class="op" id="8418161">[</span><span class="op" id="8418162">]</span><span class="builtintype" id="8418163">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8418169">data</span><span class="op" id="8418173">,</span>&nbsp;<span class="ident" id="8418175">err</span>&nbsp;<span class="op" id="8418179">:=</span>&nbsp;<span class="ident" id="8418182"><a href="/gostd/encoding/xml/marshal.go.html#6187365">Marshal</a></span><span class="op" id="8418189">(</span><span class="ident" id="8418190"><a href="/gostd/encoding/xml/xml_test.go.html#8418159">T</a></span><span class="op" id="8418191">{</span><span class="num" id="8418192">192</span><span class="op" id="8418195">,</span>&nbsp;<span class="num" id="8418197">168</span><span class="op" id="8418200">,</span>&nbsp;<span class="num" id="8418202">0</span><span class="op" id="8418203">,</span>&nbsp;<span class="num" id="8418205">1</span><span class="op" id="8418206">}</span><span class="op" id="8418207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8418210">if</span>&nbsp;<span class="ident" id="8418213"><a href="/gostd/encoding/xml/xml_test.go.html#8418175">err</a></span>&nbsp;<span class="op" id="8418217">!=</span>&nbsp;<span class="builtintype" id="8418220">nil</span>&nbsp;<span class="op" id="8418224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8418228"><a href="/gostd/encoding/xml/xml_test.go.html#8418137">t</a></span><span class="op" id="8418229">.</span><span class="ident" id="8418230"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8418236">(</span><span class="string" id="8418237">&#34;Marshal&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8418256">,</span>&nbsp;<span class="ident" id="8418258"><a href="/gostd/encoding/xml/xml_test.go.html#8418175">err</a></span><span class="op" id="8418261">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8418264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8418267">if</span>&nbsp;<span class="op" id="8418270">!</span><span class="ident" id="8418271"><a href="/gostd/encoding/xml/xml_test.go.html#8399047">utf8</a></span><span class="op" id="8418275">.</span><span class="ident" id="8418276"><a href="/gostd/unicode/utf8/utf8.go.html#1814478">Valid</a></span><span class="op" id="8418281">(</span><span class="ident" id="8418282"><a href="/gostd/encoding/xml/xml_test.go.html#8418169">data</a></span><span class="op" id="8418286">)</span>&nbsp;<span class="op" id="8418288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8418292"><a href="/gostd/encoding/xml/xml_test.go.html#8418137">t</a></span><span class="op" id="8418293">.</span><span class="ident" id="8418294"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8418300">(</span><span class="string" id="8418301">&#34;Marshal&nbsp;generated&nbsp;invalid&nbsp;UTF-8:&nbsp;%x&#34;</span><span class="op" id="8418338">,</span>&nbsp;<span class="ident" id="8418340"><a href="/gostd/encoding/xml/xml_test.go.html#8418169">data</a></span><span class="op" id="8418344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8418347">}</span><br>
<span class="lineno"></span><span class="op" id="8418349">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
