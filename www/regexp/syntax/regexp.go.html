<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4799746">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4799802">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4799856">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4799907">package</span>&nbsp;<span class="ident" id="4799915">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4799923">//&nbsp;Note&nbsp;to&nbsp;implementers:</span><br>
<span class="lineno"></span><span class="comment" id="4799948">//&nbsp;In&nbsp;this&nbsp;package,&nbsp;re&nbsp;is&nbsp;always&nbsp;a&nbsp;*Regexp&nbsp;and&nbsp;r&nbsp;is&nbsp;always&nbsp;a&nbsp;rune.</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="4800016">import</span>&nbsp;<span class="op" id="4800023">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4800026">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4800035">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4800046">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4800057">&#34;unicode&#34;</span><br>
<span class="lineno">15</span><span class="op" id="4800067">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4800070">//&nbsp;A&nbsp;Regexp&nbsp;is&nbsp;a&nbsp;node&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;syntax&nbsp;tree.</span><br>
<span class="lineno"></span><span class="keyword" id="4800129">type</span>&nbsp;<span class="ident" id="4800134">Regexp</span>&nbsp;<span class="keyword" id="4800141">struct</span>&nbsp;<span class="op" id="4800148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800151">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4800160"><a href="/regexp/syntax/regexp.go.html#4800610">Op</a></span>&nbsp;<span class="comment" id="4800163">//&nbsp;operator</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800176">Flags</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4800185"><a href="/regexp/syntax/parse.go.html#4744412">Flags</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800192">Sub</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4800201">[</span><span class="op" id="4800202">]</span><span class="op" id="4800203">*</span><span class="ident" id="4800204"><a href="/regexp/syntax/regexp.go.html#4800134">Regexp</a></span>&nbsp;&nbsp;<span class="comment" id="4800212">//&nbsp;subexpressions,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800239">Sub0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4800248">[</span><span class="num" id="4800249">1</span><span class="op" id="4800250">]</span><span class="op" id="4800251">*</span><span class="ident" id="4800252"><a href="/regexp/syntax/regexp.go.html#4800134">Regexp</a></span>&nbsp;<span class="comment" id="4800259">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Sub</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800285">Rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4800294">[</span><span class="op" id="4800295">]</span><span class="builtintype" id="4800296">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4800305">//&nbsp;matched&nbsp;runes,&nbsp;for&nbsp;OpLiteral,&nbsp;OpCharClass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800351">Rune0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4800360">[</span><span class="num" id="4800361">2</span><span class="op" id="4800362">]</span><span class="builtintype" id="4800363">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4800371">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Rune</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800398">Min</span><span class="op" id="4800401">,</span>&nbsp;<span class="ident" id="4800403">Max</span>&nbsp;<span class="builtintype" id="4800407">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4800418">//&nbsp;min,&nbsp;max&nbsp;for&nbsp;OpRepeat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800444">Cap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4800453">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4800464">//&nbsp;capturing&nbsp;index,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800499">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4800508">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4800519">//&nbsp;capturing&nbsp;name,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span><span class="op" id="4800552">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="4800555">//&nbsp;An&nbsp;Op&nbsp;is&nbsp;a&nbsp;single&nbsp;regular&nbsp;expression&nbsp;operator.</span><br>
<span class="lineno"></span><span class="keyword" id="4800605">type</span>&nbsp;<span class="ident" id="4800610">Op</span>&nbsp;<span class="builtintype" id="4800613">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4800620">//&nbsp;Operators&nbsp;are&nbsp;listed&nbsp;in&nbsp;precedence&nbsp;order,&nbsp;tightest&nbsp;binding&nbsp;to&nbsp;weakest.</span><br>
<span class="lineno"></span><span class="comment" id="4800694">//&nbsp;Character&nbsp;class&nbsp;operators&nbsp;are&nbsp;listed&nbsp;simplest&nbsp;to&nbsp;most&nbsp;complex</span><br>
<span class="lineno">35</span><span class="comment" id="4800759">//&nbsp;(OpLiteral,&nbsp;OpCharClass,&nbsp;OpAnyCharNotNL,&nbsp;OpAnyChar).</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4800816">const</span>&nbsp;<span class="op" id="4800822">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800825">OpNoMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4800842"><a href="/regexp/syntax/regexp.go.html#4800610">Op</a></span>&nbsp;<span class="op" id="4800845">=</span>&nbsp;<span class="num" id="4800847">1</span>&nbsp;<span class="op" id="4800849">+</span>&nbsp;<span class="ident" id="4800851">iota</span>&nbsp;<span class="comment" id="4800856">//&nbsp;matches&nbsp;no&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800879">OpEmptyMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4800910">//&nbsp;matches&nbsp;empty&nbsp;string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800935">OpLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4800966">//&nbsp;matches&nbsp;Runes&nbsp;sequence</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4800993">OpCharClass</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801024">//&nbsp;matches&nbsp;Runes&nbsp;interpreted&nbsp;as&nbsp;range&nbsp;pair&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801073">OpAnyCharNotNL</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801104">//&nbsp;matches&nbsp;any&nbsp;character&nbsp;except&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801145">OpAnyChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801176">//&nbsp;matches&nbsp;any&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801202">OpBeginLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801233">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;line</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801279">OpEndLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801310">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801350">OpBeginText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801381">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801427">OpEndText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801458">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801498">OpWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801529">//&nbsp;matches&nbsp;word&nbsp;boundary&nbsp;`\b`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801560">OpNoWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801591">//&nbsp;matches&nbsp;word&nbsp;non-boundary&nbsp;`\B`</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801626">OpCapture</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801657">//&nbsp;capturing&nbsp;subexpression&nbsp;with&nbsp;index&nbsp;Cap,&nbsp;optional&nbsp;name&nbsp;Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801720">OpStar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801751">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801789">OpPlus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801820">//&nbsp;matches&nbsp;Sub[0]&nbsp;one&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801857">OpQuest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801888">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;one&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4801925">OpRepeat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4801956">//&nbsp;matches&nbsp;Sub[0]&nbsp;at&nbsp;least&nbsp;Min&nbsp;times,&nbsp;at&nbsp;most&nbsp;Max&nbsp;(Max&nbsp;==&nbsp;-1&nbsp;is&nbsp;no&nbsp;limit)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4802031">OpConcat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4802062">//&nbsp;matches&nbsp;concatenation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4802096">OpAlternate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4802127">//&nbsp;matches&nbsp;alternation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span><span class="op" id="4802158">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4802161">const</span>&nbsp;<span class="ident" id="4802167">opPseudo</span>&nbsp;<span class="ident" id="4802176"><a href="/regexp/syntax/regexp.go.html#4800610">Op</a></span>&nbsp;<span class="op" id="4802179">=</span>&nbsp;<span class="num" id="4802181">128</span>&nbsp;<span class="comment" id="4802185">//&nbsp;where&nbsp;pseudo-ops&nbsp;start</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="4802212">//&nbsp;Equal&nbsp;returns&nbsp;true&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;have&nbsp;identical&nbsp;structure.</span><br>
<span class="lineno"></span><span class="keyword" id="4802271">func</span>&nbsp;<span class="op" id="4802276">(</span><span class="ident" id="4802277">x</span>&nbsp;<span class="op" id="4802279">*</span><span class="ident" id="4802280"><a href="/regexp/syntax/regexp.go.html#4800134">Regexp</a></span><span class="op" id="4802286">)</span>&nbsp;<span class="ident" id="4802288">Equal</span><span class="op" id="4802293">(</span><span class="ident" id="4802294">y</span>&nbsp;<span class="op" id="4802296">*</span><span class="ident" id="4802297"><a href="/regexp/syntax/regexp.go.html#4800134">Regexp</a></span><span class="op" id="4802303">)</span>&nbsp;<span class="builtintype" id="4802305">bool</span>&nbsp;<span class="op" id="4802310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802313">if</span>&nbsp;<span class="ident" id="4802316"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span>&nbsp;<span class="op" id="4802318">==</span>&nbsp;<span class="ident" id="4802321">nil</span>&nbsp;<span class="op" id="4802325">||</span>&nbsp;<span class="ident" id="4802328"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span>&nbsp;<span class="op" id="4802330">==</span>&nbsp;<span class="ident" id="4802333">nil</span>&nbsp;<span class="op" id="4802337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802341">return</span>&nbsp;<span class="ident" id="4802348"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span>&nbsp;<span class="op" id="4802350">==</span>&nbsp;<span class="ident" id="4802353"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4802356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802359">if</span>&nbsp;<span class="ident" id="4802362"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4802363">.</span><span class="ident" id="4802364">Op</span>&nbsp;<span class="op" id="4802367">!=</span>&nbsp;<span class="ident" id="4802370"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><span class="op" id="4802371">.</span><span class="ident" id="4802372">Op</span>&nbsp;<span class="op" id="4802375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802379">return</span>&nbsp;<span class="ident" id="4802386">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4802393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802396">switch</span>&nbsp;<span class="ident" id="4802403"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4802404">.</span><span class="ident" id="4802405">Op</span>&nbsp;<span class="op" id="4802408">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802411">case</span>&nbsp;<span class="ident" id="4802416"><a href="/regexp/syntax/regexp.go.html#4801427">OpEndText</a></span><span class="op" id="4802425">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4802429">//&nbsp;The&nbsp;parse&nbsp;flags&nbsp;remember&nbsp;whether&nbsp;this&nbsp;is&nbsp;\z&nbsp;or&nbsp;\Z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802485">if</span>&nbsp;<span class="ident" id="4802488"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4802489">.</span><span class="ident" id="4802490">Flags</span><span class="op" id="4802495">&amp;</span><span class="ident" id="4802496"><a href="/regexp/syntax/parse.go.html#4745056">WasDollar</a></span>&nbsp;<span class="op" id="4802506">!=</span>&nbsp;<span class="ident" id="4802509"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><span class="op" id="4802510">.</span><span class="ident" id="4802511">Flags</span><span class="op" id="4802516">&amp;</span><span class="ident" id="4802517"><a href="/regexp/syntax/parse.go.html#4745056">WasDollar</a></span>&nbsp;<span class="op" id="4802527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802532">return</span>&nbsp;<span class="ident" id="4802539">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4802547">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802551">case</span>&nbsp;<span class="ident" id="4802556"><a href="/regexp/syntax/regexp.go.html#4800935">OpLiteral</a></span><span class="op" id="4802565">,</span>&nbsp;<span class="ident" id="4802567"><a href="/regexp/syntax/regexp.go.html#4800993">OpCharClass</a></span><span class="op" id="4802578">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802582">if</span>&nbsp;<span class="builtinfunc" id="4802585">len</span><span class="op" id="4802588">(</span><span class="ident" id="4802589"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4802590">.</span><span class="ident" id="4802591">Rune</span><span class="op" id="4802595">)</span>&nbsp;<span class="op" id="4802597">!=</span>&nbsp;<span class="builtinfunc" id="4802600">len</span><span class="op" id="4802603">(</span><span class="ident" id="4802604"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><span class="op" id="4802605">.</span><span class="ident" id="4802606">Rune</span><span class="op" id="4802610">)</span>&nbsp;<span class="op" id="4802612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802617">return</span>&nbsp;<span class="ident" id="4802624">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4802632">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802636">for</span>&nbsp;<span class="ident" id="4802640">i</span><span class="op" id="4802641">,</span>&nbsp;<span class="ident" id="4802643">r</span>&nbsp;<span class="op" id="4802645">:=</span>&nbsp;<span class="keyword" id="4802648">range</span>&nbsp;<span class="ident" id="4802654"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4802655">.</span><span class="ident" id="4802656">Rune</span>&nbsp;<span class="op" id="4802661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802666">if</span>&nbsp;<span class="ident" id="4802669"><a href="/regexp/syntax/regexp.go.html#4802643">r</a></span>&nbsp;<span class="op" id="4802671">!=</span>&nbsp;<span class="ident" id="4802674"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><span class="op" id="4802675">.</span><span class="ident" id="4802676">Rune</span><span class="op" id="4802680">[</span><span class="ident" id="4802681"><a href="/regexp/syntax/regexp.go.html#4802640">i</a></span><span class="op" id="4802682">]</span>&nbsp;<span class="op" id="4802684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802690">return</span>&nbsp;<span class="ident" id="4802697">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4802706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4802710">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802714">case</span>&nbsp;<span class="ident" id="4802719"><a href="/regexp/syntax/regexp.go.html#4802096">OpAlternate</a></span><span class="op" id="4802730">,</span>&nbsp;<span class="ident" id="4802732"><a href="/regexp/syntax/regexp.go.html#4802031">OpConcat</a></span><span class="op" id="4802740">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802744">if</span>&nbsp;<span class="builtinfunc" id="4802747">len</span><span class="op" id="4802750">(</span><span class="ident" id="4802751"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4802752">.</span><span class="ident" id="4802753">Sub</span><span class="op" id="4802756">)</span>&nbsp;<span class="op" id="4802758">!=</span>&nbsp;<span class="builtinfunc" id="4802761">len</span><span class="op" id="4802764">(</span><span class="ident" id="4802765"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><span class="op" id="4802766">.</span><span class="ident" id="4802767">Sub</span><span class="op" id="4802770">)</span>&nbsp;<span class="op" id="4802772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802777">return</span>&nbsp;<span class="ident" id="4802784">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4802792">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802796">for</span>&nbsp;<span class="ident" id="4802800">i</span><span class="op" id="4802801">,</span>&nbsp;<span class="ident" id="4802803">sub</span>&nbsp;<span class="op" id="4802807">:=</span>&nbsp;<span class="keyword" id="4802810">range</span>&nbsp;<span class="ident" id="4802816"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4802817">.</span><span class="ident" id="4802818">Sub</span>&nbsp;<span class="op" id="4802822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802827">if</span>&nbsp;<span class="op" id="4802830">!</span><span class="ident" id="4802831"><a href="/regexp/syntax/regexp.go.html#4802803">sub</a></span><span class="op" id="4802834">.</span><span class="ident" id="4802835">Equal</span><span class="op" id="4802840">(</span><span class="ident" id="4802841"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><span class="op" id="4802842">.</span><span class="ident" id="4802843">Sub</span><span class="op" id="4802846">[</span><span class="ident" id="4802847"><a href="/regexp/syntax/regexp.go.html#4802800">i</a></span><span class="op" id="4802848">]</span><span class="op" id="4802849">)</span>&nbsp;<span class="op" id="4802851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802857">return</span>&nbsp;<span class="ident" id="4802864">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4802873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4802877">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802881">case</span>&nbsp;<span class="ident" id="4802886"><a href="/regexp/syntax/regexp.go.html#4801720">OpStar</a></span><span class="op" id="4802892">,</span>&nbsp;<span class="ident" id="4802894"><a href="/regexp/syntax/regexp.go.html#4801789">OpPlus</a></span><span class="op" id="4802900">,</span>&nbsp;<span class="ident" id="4802902"><a href="/regexp/syntax/regexp.go.html#4801857">OpQuest</a></span><span class="op" id="4802909">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802913">if</span>&nbsp;<span class="ident" id="4802916"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4802917">.</span><span class="ident" id="4802918">Flags</span><span class="op" id="4802923">&amp;</span><span class="ident" id="4802924"><a href="/regexp/syntax/parse.go.html#4744824">NonGreedy</a></span>&nbsp;<span class="op" id="4802934">!=</span>&nbsp;<span class="ident" id="4802937"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><span class="op" id="4802938">.</span><span class="ident" id="4802939">Flags</span><span class="op" id="4802944">&amp;</span><span class="ident" id="4802945"><a href="/regexp/syntax/parse.go.html#4744824">NonGreedy</a></span>&nbsp;<span class="op" id="4802955">||</span>&nbsp;<span class="op" id="4802958">!</span><span class="ident" id="4802959"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4802960">.</span><span class="ident" id="4802961">Sub</span><span class="op" id="4802964">[</span><span class="num" id="4802965">0</span><span class="op" id="4802966">]</span><span class="op" id="4802967">.</span><span class="ident" id="4802968">Equal</span><span class="op" id="4802973">(</span><span class="ident" id="4802974"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><span class="op" id="4802975">.</span><span class="ident" id="4802976">Sub</span><span class="op" id="4802979">[</span><span class="num" id="4802980">0</span><span class="op" id="4802981">]</span><span class="op" id="4802982">)</span>&nbsp;<span class="op" id="4802984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4802989">return</span>&nbsp;<span class="ident" id="4802996">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4803004">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803008">case</span>&nbsp;<span class="ident" id="4803013"><a href="/regexp/syntax/regexp.go.html#4801925">OpRepeat</a></span><span class="op" id="4803021">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803025">if</span>&nbsp;<span class="ident" id="4803028"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4803029">.</span><span class="ident" id="4803030">Flags</span><span class="op" id="4803035">&amp;</span><span class="ident" id="4803036"><a href="/regexp/syntax/parse.go.html#4744824">NonGreedy</a></span>&nbsp;<span class="op" id="4803046">!=</span>&nbsp;<span class="ident" id="4803049"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><span class="op" id="4803050">.</span><span class="ident" id="4803051">Flags</span><span class="op" id="4803056">&amp;</span><span class="ident" id="4803057"><a href="/regexp/syntax/parse.go.html#4744824">NonGreedy</a></span>&nbsp;<span class="op" id="4803067">||</span>&nbsp;<span class="ident" id="4803070"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4803071">.</span><span class="ident" id="4803072">Min</span>&nbsp;<span class="op" id="4803076">!=</span>&nbsp;<span class="ident" id="4803079"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><span class="op" id="4803080">.</span><span class="ident" id="4803081">Min</span>&nbsp;<span class="op" id="4803085">||</span>&nbsp;<span class="ident" id="4803088"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4803089">.</span><span class="ident" id="4803090">Max</span>&nbsp;<span class="op" id="4803094">!=</span>&nbsp;<span class="ident" id="4803097"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><span class="op" id="4803098">.</span><span class="ident" id="4803099">Max</span>&nbsp;<span class="op" id="4803103">||</span>&nbsp;<span class="op" id="4803106">!</span><span class="ident" id="4803107"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4803108">.</span><span class="ident" id="4803109">Sub</span><span class="op" id="4803112">[</span><span class="num" id="4803113">0</span><span class="op" id="4803114">]</span><span class="op" id="4803115">.</span><span class="ident" id="4803116">Equal</span><span class="op" id="4803121">(</span><span class="ident" id="4803122"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><span class="op" id="4803123">.</span><span class="ident" id="4803124">Sub</span><span class="op" id="4803127">[</span><span class="num" id="4803128">0</span><span class="op" id="4803129">]</span><span class="op" id="4803130">)</span>&nbsp;<span class="op" id="4803132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803137">return</span>&nbsp;<span class="ident" id="4803144">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4803152">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803156">case</span>&nbsp;<span class="ident" id="4803161"><a href="/regexp/syntax/regexp.go.html#4801626">OpCapture</a></span><span class="op" id="4803170">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803174">if</span>&nbsp;<span class="ident" id="4803177"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4803178">.</span><span class="ident" id="4803179">Cap</span>&nbsp;<span class="op" id="4803183">!=</span>&nbsp;<span class="ident" id="4803186"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><span class="op" id="4803187">.</span><span class="ident" id="4803188">Cap</span>&nbsp;<span class="op" id="4803192">||</span>&nbsp;<span class="ident" id="4803195"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4803196">.</span><span class="ident" id="4803197">Name</span>&nbsp;<span class="op" id="4803202">!=</span>&nbsp;<span class="ident" id="4803205"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><span class="op" id="4803206">.</span><span class="ident" id="4803207">Name</span>&nbsp;<span class="op" id="4803212">||</span>&nbsp;<span class="op" id="4803215">!</span><span class="ident" id="4803216"><a href="/regexp/syntax/regexp.go.html#4802277">x</a></span><span class="op" id="4803217">.</span><span class="ident" id="4803218">Sub</span><span class="op" id="4803221">[</span><span class="num" id="4803222">0</span><span class="op" id="4803223">]</span><span class="op" id="4803224">.</span><span class="ident" id="4803225">Equal</span><span class="op" id="4803230">(</span><span class="ident" id="4803231"><a href="/regexp/syntax/regexp.go.html#4802294">y</a></span><span class="op" id="4803232">.</span><span class="ident" id="4803233">Sub</span><span class="op" id="4803236">[</span><span class="num" id="4803237">0</span><span class="op" id="4803238">]</span><span class="op" id="4803239">)</span>&nbsp;<span class="op" id="4803241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803246">return</span>&nbsp;<span class="ident" id="4803253">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4803261">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4803264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803267">return</span>&nbsp;<span class="ident" id="4803274">true</span><br>
<span class="lineno"></span><span class="op" id="4803279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4803282">//&nbsp;writeRegexp&nbsp;writes&nbsp;the&nbsp;Perl&nbsp;syntax&nbsp;for&nbsp;the&nbsp;regular&nbsp;expression&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno">115</span><span class="keyword" id="4803356">func</span>&nbsp;<span class="ident" id="4803361">writeRegexp</span><span class="op" id="4803372">(</span><span class="ident" id="4803373">b</span>&nbsp;<span class="op" id="4803375">*</span><span class="ident" id="4803376"><a href="/regexp/syntax/regexp.go.html#4800026">bytes</a></span><span class="op" id="4803381">.</span><span class="ident" id="4803382">Buffer</span><span class="op" id="4803388">,</span>&nbsp;<span class="ident" id="4803390">re</span>&nbsp;<span class="op" id="4803393">*</span><span class="ident" id="4803394"><a href="/regexp/syntax/regexp.go.html#4800134">Regexp</a></span><span class="op" id="4803400">)</span>&nbsp;<span class="op" id="4803402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803405">switch</span>&nbsp;<span class="ident" id="4803412"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4803414">.</span><span class="ident" id="4803415">Op</span>&nbsp;<span class="op" id="4803418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803421">default</span><span class="op" id="4803428">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4803432"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4803433">.</span><span class="ident" id="4803434">WriteString</span><span class="op" id="4803445">(</span><span class="string" id="4803446">&#34;&lt;invalid&nbsp;op&#34;</span>&nbsp;<span class="op" id="4803460">+</span>&nbsp;<span class="ident" id="4803462"><a href="/regexp/syntax/regexp.go.html#4800035">strconv</a></span><span class="op" id="4803469">.</span><span class="ident" id="4803470">Itoa</span><span class="op" id="4803474">(</span><span class="builtintype" id="4803475">int</span><span class="op" id="4803478">(</span><span class="ident" id="4803479"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4803481">.</span><span class="ident" id="4803482">Op</span><span class="op" id="4803484">)</span><span class="op" id="4803485">)</span>&nbsp;<span class="op" id="4803487">+</span>&nbsp;<span class="string" id="4803489">&#34;&gt;&#34;</span><span class="op" id="4803492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803495">case</span>&nbsp;<span class="ident" id="4803500"><a href="/regexp/syntax/regexp.go.html#4800825">OpNoMatch</a></span><span class="op" id="4803509">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4803513"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4803514">.</span><span class="ident" id="4803515">WriteString</span><span class="op" id="4803526">(</span><span class="string" id="4803527">`[^\x00-\x{10FFFF}]`</span><span class="op" id="4803547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803550">case</span>&nbsp;<span class="ident" id="4803555"><a href="/regexp/syntax/regexp.go.html#4800879">OpEmptyMatch</a></span><span class="op" id="4803567">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4803571"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4803572">.</span><span class="ident" id="4803573">WriteString</span><span class="op" id="4803584">(</span><span class="string" id="4803585">`(?:)`</span><span class="op" id="4803591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803594">case</span>&nbsp;<span class="ident" id="4803599"><a href="/regexp/syntax/regexp.go.html#4800935">OpLiteral</a></span><span class="op" id="4803608">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803612">if</span>&nbsp;<span class="ident" id="4803615"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4803617">.</span><span class="ident" id="4803618">Flags</span><span class="op" id="4803623">&amp;</span><span class="ident" id="4803624"><a href="/regexp/syntax/parse.go.html#4744435">FoldCase</a></span>&nbsp;<span class="op" id="4803633">!=</span>&nbsp;<span class="num" id="4803636">0</span>&nbsp;<span class="op" id="4803638">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4803643"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4803644">.</span><span class="ident" id="4803645">WriteString</span><span class="op" id="4803656">(</span><span class="string" id="4803657">`(?i:`</span><span class="op" id="4803663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4803667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803671">for</span>&nbsp;<span class="ident" id="4803675">_</span><span class="op" id="4803676">,</span>&nbsp;<span class="ident" id="4803678">r</span>&nbsp;<span class="op" id="4803680">:=</span>&nbsp;<span class="keyword" id="4803683">range</span>&nbsp;<span class="ident" id="4803689"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4803691">.</span><span class="ident" id="4803692">Rune</span>&nbsp;<span class="op" id="4803697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4803702"><a href="/regexp/syntax/regexp.go.html#4806288">escape</a></span><span class="op" id="4803708">(</span><span class="ident" id="4803709"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4803710">,</span>&nbsp;<span class="ident" id="4803712"><a href="/regexp/syntax/regexp.go.html#4803678">r</a></span><span class="op" id="4803713">,</span>&nbsp;<span class="ident" id="4803715">false</span><span class="op" id="4803720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4803724">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803728">if</span>&nbsp;<span class="ident" id="4803731"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4803733">.</span><span class="ident" id="4803734">Flags</span><span class="op" id="4803739">&amp;</span><span class="ident" id="4803740"><a href="/regexp/syntax/parse.go.html#4744435">FoldCase</a></span>&nbsp;<span class="op" id="4803749">!=</span>&nbsp;<span class="num" id="4803752">0</span>&nbsp;<span class="op" id="4803754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4803759"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4803760">.</span><span class="ident" id="4803761">WriteString</span><span class="op" id="4803772">(</span><span class="string" id="4803773">`)`</span><span class="op" id="4803776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4803780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803783">case</span>&nbsp;<span class="ident" id="4803788"><a href="/regexp/syntax/regexp.go.html#4800993">OpCharClass</a></span><span class="op" id="4803799">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803803">if</span>&nbsp;<span class="builtinfunc" id="4803806">len</span><span class="op" id="4803809">(</span><span class="ident" id="4803810"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4803812">.</span><span class="ident" id="4803813">Rune</span><span class="op" id="4803817">)</span><span class="op" id="4803818">%</span><span class="num" id="4803819">2</span>&nbsp;<span class="op" id="4803821">!=</span>&nbsp;<span class="num" id="4803824">0</span>&nbsp;<span class="op" id="4803826">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4803831"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4803832">.</span><span class="ident" id="4803833">WriteString</span><span class="op" id="4803844">(</span><span class="string" id="4803845">`[invalid&nbsp;char&nbsp;class]`</span><span class="op" id="4803867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803872">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4803880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4803884"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4803885">.</span><span class="ident" id="4803886">WriteRune</span><span class="op" id="4803895">(</span><span class="string" id="4803896">&#39;[&#39;</span><span class="op" id="4803899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4803903">if</span>&nbsp;<span class="builtinfunc" id="4803906">len</span><span class="op" id="4803909">(</span><span class="ident" id="4803910"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4803912">.</span><span class="ident" id="4803913">Rune</span><span class="op" id="4803917">)</span>&nbsp;<span class="op" id="4803919">==</span>&nbsp;<span class="num" id="4803922">0</span>&nbsp;<span class="op" id="4803924">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4803929"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4803930">.</span><span class="ident" id="4803931">WriteString</span><span class="op" id="4803942">(</span><span class="string" id="4803943">`^\x00-\x{10FFFF}`</span><span class="op" id="4803961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4803965">}</span>&nbsp;<span class="keyword" id="4803967">else</span>&nbsp;<span class="keyword" id="4803972">if</span>&nbsp;<span class="ident" id="4803975"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4803977">.</span><span class="ident" id="4803978">Rune</span><span class="op" id="4803982">[</span><span class="num" id="4803983">0</span><span class="op" id="4803984">]</span>&nbsp;<span class="op" id="4803986">==</span>&nbsp;<span class="num" id="4803989">0</span>&nbsp;<span class="op" id="4803991">&amp;&amp;</span>&nbsp;<span class="ident" id="4803994"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4803996">.</span><span class="ident" id="4803997">Rune</span><span class="op" id="4804001">[</span><span class="builtinfunc" id="4804002">len</span><span class="op" id="4804005">(</span><span class="ident" id="4804006"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4804008">.</span><span class="ident" id="4804009">Rune</span><span class="op" id="4804013">)</span><span class="op" id="4804014">-</span><span class="num" id="4804015">1</span><span class="op" id="4804016">]</span>&nbsp;<span class="op" id="4804018">==</span>&nbsp;<span class="ident" id="4804021"><a href="/regexp/syntax/regexp.go.html#4800057">unicode</a></span><span class="op" id="4804028">.</span><span class="ident" id="4804029">MaxRune</span>&nbsp;<span class="op" id="4804037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4804042">//&nbsp;Contains&nbsp;0&nbsp;and&nbsp;MaxRune.&nbsp;&nbsp;Probably&nbsp;a&nbsp;negated&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4804099">//&nbsp;Print&nbsp;the&nbsp;gaps.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804121"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804122">.</span><span class="ident" id="4804123">WriteRune</span><span class="op" id="4804132">(</span><span class="string" id="4804133">&#39;^&#39;</span><span class="op" id="4804136">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4804141">for</span>&nbsp;<span class="ident" id="4804145">i</span>&nbsp;<span class="op" id="4804147">:=</span>&nbsp;<span class="num" id="4804150">1</span><span class="op" id="4804151">;</span>&nbsp;<span class="ident" id="4804153"><a href="/regexp/syntax/regexp.go.html#4804145">i</a></span>&nbsp;<span class="op" id="4804155">&lt;</span>&nbsp;<span class="builtinfunc" id="4804157">len</span><span class="op" id="4804160">(</span><span class="ident" id="4804161"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4804163">.</span><span class="ident" id="4804164">Rune</span><span class="op" id="4804168">)</span><span class="op" id="4804169">-</span><span class="num" id="4804170">1</span><span class="op" id="4804171">;</span>&nbsp;<span class="ident" id="4804173"><a href="/regexp/syntax/regexp.go.html#4804145">i</a></span>&nbsp;<span class="op" id="4804175">+=</span>&nbsp;<span class="num" id="4804178">2</span>&nbsp;<span class="op" id="4804180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804186">lo</span><span class="op" id="4804188">,</span>&nbsp;<span class="ident" id="4804190">hi</span>&nbsp;<span class="op" id="4804193">:=</span>&nbsp;<span class="ident" id="4804196"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4804198">.</span><span class="ident" id="4804199">Rune</span><span class="op" id="4804203">[</span><span class="ident" id="4804204"><a href="/regexp/syntax/regexp.go.html#4804145">i</a></span><span class="op" id="4804205">]</span><span class="op" id="4804206">+</span><span class="num" id="4804207">1</span><span class="op" id="4804208">,</span>&nbsp;<span class="ident" id="4804210"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4804212">.</span><span class="ident" id="4804213">Rune</span><span class="op" id="4804217">[</span><span class="ident" id="4804218"><a href="/regexp/syntax/regexp.go.html#4804145">i</a></span><span class="op" id="4804219">+</span><span class="num" id="4804220">1</span><span class="op" id="4804221">]</span><span class="op" id="4804222">-</span><span class="num" id="4804223">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804229"><a href="/regexp/syntax/regexp.go.html#4806288">escape</a></span><span class="op" id="4804235">(</span><span class="ident" id="4804236"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804237">,</span>&nbsp;<span class="ident" id="4804239"><a href="/regexp/syntax/regexp.go.html#4804186">lo</a></span><span class="op" id="4804241">,</span>&nbsp;<span class="ident" id="4804243"><a href="/regexp/syntax/regexp.go.html#4804186">lo</a></span>&nbsp;<span class="op" id="4804246">==</span>&nbsp;<span class="string" id="4804249">&#39;-&#39;</span><span class="op" id="4804252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4804258">if</span>&nbsp;<span class="ident" id="4804261"><a href="/regexp/syntax/regexp.go.html#4804186">lo</a></span>&nbsp;<span class="op" id="4804264">!=</span>&nbsp;<span class="ident" id="4804267"><a href="/regexp/syntax/regexp.go.html#4804190">hi</a></span>&nbsp;<span class="op" id="4804270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804277"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804278">.</span><span class="ident" id="4804279">WriteRune</span><span class="op" id="4804288">(</span><span class="string" id="4804289">&#39;-&#39;</span><span class="op" id="4804292">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804299"><a href="/regexp/syntax/regexp.go.html#4806288">escape</a></span><span class="op" id="4804305">(</span><span class="ident" id="4804306"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804307">,</span>&nbsp;<span class="ident" id="4804309"><a href="/regexp/syntax/regexp.go.html#4804190">hi</a></span><span class="op" id="4804311">,</span>&nbsp;<span class="ident" id="4804313"><a href="/regexp/syntax/regexp.go.html#4804190">hi</a></span>&nbsp;<span class="op" id="4804316">==</span>&nbsp;<span class="string" id="4804319">&#39;-&#39;</span><span class="op" id="4804322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4804328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4804333">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4804337">}</span>&nbsp;<span class="keyword" id="4804339">else</span>&nbsp;<span class="op" id="4804344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4804349">for</span>&nbsp;<span class="ident" id="4804353">i</span>&nbsp;<span class="op" id="4804355">:=</span>&nbsp;<span class="num" id="4804358">0</span><span class="op" id="4804359">;</span>&nbsp;<span class="ident" id="4804361"><a href="/regexp/syntax/regexp.go.html#4804353">i</a></span>&nbsp;<span class="op" id="4804363">&lt;</span>&nbsp;<span class="builtinfunc" id="4804365">len</span><span class="op" id="4804368">(</span><span class="ident" id="4804369"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4804371">.</span><span class="ident" id="4804372">Rune</span><span class="op" id="4804376">)</span><span class="op" id="4804377">;</span>&nbsp;<span class="ident" id="4804379"><a href="/regexp/syntax/regexp.go.html#4804353">i</a></span>&nbsp;<span class="op" id="4804381">+=</span>&nbsp;<span class="num" id="4804384">2</span>&nbsp;<span class="op" id="4804386">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804392">lo</span><span class="op" id="4804394">,</span>&nbsp;<span class="ident" id="4804396">hi</span>&nbsp;<span class="op" id="4804399">:=</span>&nbsp;<span class="ident" id="4804402"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4804404">.</span><span class="ident" id="4804405">Rune</span><span class="op" id="4804409">[</span><span class="ident" id="4804410"><a href="/regexp/syntax/regexp.go.html#4804353">i</a></span><span class="op" id="4804411">]</span><span class="op" id="4804412">,</span>&nbsp;<span class="ident" id="4804414"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4804416">.</span><span class="ident" id="4804417">Rune</span><span class="op" id="4804421">[</span><span class="ident" id="4804422"><a href="/regexp/syntax/regexp.go.html#4804353">i</a></span><span class="op" id="4804423">+</span><span class="num" id="4804424">1</span><span class="op" id="4804425">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804431"><a href="/regexp/syntax/regexp.go.html#4806288">escape</a></span><span class="op" id="4804437">(</span><span class="ident" id="4804438"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804439">,</span>&nbsp;<span class="ident" id="4804441"><a href="/regexp/syntax/regexp.go.html#4804392">lo</a></span><span class="op" id="4804443">,</span>&nbsp;<span class="ident" id="4804445"><a href="/regexp/syntax/regexp.go.html#4804392">lo</a></span>&nbsp;<span class="op" id="4804448">==</span>&nbsp;<span class="string" id="4804451">&#39;-&#39;</span><span class="op" id="4804454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4804460">if</span>&nbsp;<span class="ident" id="4804463"><a href="/regexp/syntax/regexp.go.html#4804392">lo</a></span>&nbsp;<span class="op" id="4804466">!=</span>&nbsp;<span class="ident" id="4804469"><a href="/regexp/syntax/regexp.go.html#4804396">hi</a></span>&nbsp;<span class="op" id="4804472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804479"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804480">.</span><span class="ident" id="4804481">WriteRune</span><span class="op" id="4804490">(</span><span class="string" id="4804491">&#39;-&#39;</span><span class="op" id="4804494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804501"><a href="/regexp/syntax/regexp.go.html#4806288">escape</a></span><span class="op" id="4804507">(</span><span class="ident" id="4804508"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804509">,</span>&nbsp;<span class="ident" id="4804511"><a href="/regexp/syntax/regexp.go.html#4804396">hi</a></span><span class="op" id="4804513">,</span>&nbsp;<span class="ident" id="4804515"><a href="/regexp/syntax/regexp.go.html#4804396">hi</a></span>&nbsp;<span class="op" id="4804518">==</span>&nbsp;<span class="string" id="4804521">&#39;-&#39;</span><span class="op" id="4804524">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4804530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4804535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4804539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804543"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804544">.</span><span class="ident" id="4804545">WriteRune</span><span class="op" id="4804554">(</span><span class="string" id="4804555">&#39;]&#39;</span><span class="op" id="4804558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4804561">case</span>&nbsp;<span class="ident" id="4804566"><a href="/regexp/syntax/regexp.go.html#4801073">OpAnyCharNotNL</a></span><span class="op" id="4804580">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804584"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804585">.</span><span class="ident" id="4804586">WriteString</span><span class="op" id="4804597">(</span><span class="string" id="4804598">`(?-s:.)`</span><span class="op" id="4804607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4804610">case</span>&nbsp;<span class="ident" id="4804615"><a href="/regexp/syntax/regexp.go.html#4801145">OpAnyChar</a></span><span class="op" id="4804624">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804628"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804629">.</span><span class="ident" id="4804630">WriteString</span><span class="op" id="4804641">(</span><span class="string" id="4804642">`(?s:.)`</span><span class="op" id="4804650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4804653">case</span>&nbsp;<span class="ident" id="4804658"><a href="/regexp/syntax/regexp.go.html#4801202">OpBeginLine</a></span><span class="op" id="4804669">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804673"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804674">.</span><span class="ident" id="4804675">WriteRune</span><span class="op" id="4804684">(</span><span class="string" id="4804685">&#39;^&#39;</span><span class="op" id="4804688">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4804691">case</span>&nbsp;<span class="ident" id="4804696"><a href="/regexp/syntax/regexp.go.html#4801279">OpEndLine</a></span><span class="op" id="4804705">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804709"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804710">.</span><span class="ident" id="4804711">WriteRune</span><span class="op" id="4804720">(</span><span class="string" id="4804721">&#39;$&#39;</span><span class="op" id="4804724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4804727">case</span>&nbsp;<span class="ident" id="4804732"><a href="/regexp/syntax/regexp.go.html#4801350">OpBeginText</a></span><span class="op" id="4804743">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804747"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804748">.</span><span class="ident" id="4804749">WriteString</span><span class="op" id="4804760">(</span><span class="string" id="4804761">`\A`</span><span class="op" id="4804765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4804768">case</span>&nbsp;<span class="ident" id="4804773"><a href="/regexp/syntax/regexp.go.html#4801427">OpEndText</a></span><span class="op" id="4804782">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4804786">if</span>&nbsp;<span class="ident" id="4804789"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4804791">.</span><span class="ident" id="4804792">Flags</span><span class="op" id="4804797">&amp;</span><span class="ident" id="4804798"><a href="/regexp/syntax/parse.go.html#4745056">WasDollar</a></span>&nbsp;<span class="op" id="4804808">!=</span>&nbsp;<span class="num" id="4804811">0</span>&nbsp;<span class="op" id="4804813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804818"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804819">.</span><span class="ident" id="4804820">WriteString</span><span class="op" id="4804831">(</span><span class="string" id="4804832">`(?-m:$)`</span><span class="op" id="4804841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4804845">}</span>&nbsp;<span class="keyword" id="4804847">else</span>&nbsp;<span class="op" id="4804852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804857"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804858">.</span><span class="ident" id="4804859">WriteString</span><span class="op" id="4804870">(</span><span class="string" id="4804871">`\z`</span><span class="op" id="4804875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4804879">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4804882">case</span>&nbsp;<span class="ident" id="4804887"><a href="/regexp/syntax/regexp.go.html#4801498">OpWordBoundary</a></span><span class="op" id="4804901">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804905"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804906">.</span><span class="ident" id="4804907">WriteString</span><span class="op" id="4804918">(</span><span class="string" id="4804919">`\b`</span><span class="op" id="4804923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4804926">case</span>&nbsp;<span class="ident" id="4804931"><a href="/regexp/syntax/regexp.go.html#4801560">OpNoWordBoundary</a></span><span class="op" id="4804947">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4804951"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4804952">.</span><span class="ident" id="4804953">WriteString</span><span class="op" id="4804964">(</span><span class="string" id="4804965">`\B`</span><span class="op" id="4804969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4804972">case</span>&nbsp;<span class="ident" id="4804977"><a href="/regexp/syntax/regexp.go.html#4801626">OpCapture</a></span><span class="op" id="4804986">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4804990">if</span>&nbsp;<span class="ident" id="4804993"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4804995">.</span><span class="ident" id="4804996">Name</span>&nbsp;<span class="op" id="4805001">!=</span>&nbsp;<span class="string" id="4805004">&#34;&#34;</span>&nbsp;<span class="op" id="4805007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805012"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805013">.</span><span class="ident" id="4805014">WriteString</span><span class="op" id="4805025">(</span><span class="string" id="4805026">`(?P&lt;`</span><span class="op" id="4805032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805037"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805038">.</span><span class="ident" id="4805039">WriteString</span><span class="op" id="4805050">(</span><span class="ident" id="4805051"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4805053">.</span><span class="ident" id="4805054">Name</span><span class="op" id="4805058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805063"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805064">.</span><span class="ident" id="4805065">WriteRune</span><span class="op" id="4805074">(</span><span class="string" id="4805075">&#39;&gt;&#39;</span><span class="op" id="4805078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4805082">}</span>&nbsp;<span class="keyword" id="4805084">else</span>&nbsp;<span class="op" id="4805089">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805094"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805095">.</span><span class="ident" id="4805096">WriteRune</span><span class="op" id="4805105">(</span><span class="string" id="4805106">&#39;(&#39;</span><span class="op" id="4805109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4805113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4805117">if</span>&nbsp;<span class="ident" id="4805120"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4805122">.</span><span class="ident" id="4805123">Sub</span><span class="op" id="4805126">[</span><span class="num" id="4805127">0</span><span class="op" id="4805128">]</span><span class="op" id="4805129">.</span><span class="ident" id="4805130">Op</span>&nbsp;<span class="op" id="4805133">!=</span>&nbsp;<span class="ident" id="4805136"><a href="/regexp/syntax/regexp.go.html#4800879">OpEmptyMatch</a></span>&nbsp;<span class="op" id="4805149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805154"><a href="/regexp/syntax/regexp.go.html#4803361">writeRegexp</a></span><span class="op" id="4805165">(</span><span class="ident" id="4805166"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805167">,</span>&nbsp;<span class="ident" id="4805169"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4805171">.</span><span class="ident" id="4805172">Sub</span><span class="op" id="4805175">[</span><span class="num" id="4805176">0</span><span class="op" id="4805177">]</span><span class="op" id="4805178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4805182">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805186"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805187">.</span><span class="ident" id="4805188">WriteRune</span><span class="op" id="4805197">(</span><span class="string" id="4805198">&#39;)&#39;</span><span class="op" id="4805201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4805204">case</span>&nbsp;<span class="ident" id="4805209"><a href="/regexp/syntax/regexp.go.html#4801720">OpStar</a></span><span class="op" id="4805215">,</span>&nbsp;<span class="ident" id="4805217"><a href="/regexp/syntax/regexp.go.html#4801789">OpPlus</a></span><span class="op" id="4805223">,</span>&nbsp;<span class="ident" id="4805225"><a href="/regexp/syntax/regexp.go.html#4801857">OpQuest</a></span><span class="op" id="4805232">,</span>&nbsp;<span class="ident" id="4805234"><a href="/regexp/syntax/regexp.go.html#4801925">OpRepeat</a></span><span class="op" id="4805242">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4805246">if</span>&nbsp;<span class="ident" id="4805249">sub</span>&nbsp;<span class="op" id="4805253">:=</span>&nbsp;<span class="ident" id="4805256"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4805258">.</span><span class="ident" id="4805259">Sub</span><span class="op" id="4805262">[</span><span class="num" id="4805263">0</span><span class="op" id="4805264">]</span><span class="op" id="4805265">;</span>&nbsp;<span class="ident" id="4805267"><a href="/regexp/syntax/regexp.go.html#4805249">sub</a></span><span class="op" id="4805270">.</span><span class="ident" id="4805271">Op</span>&nbsp;<span class="op" id="4805274">&gt;</span>&nbsp;<span class="ident" id="4805276"><a href="/regexp/syntax/regexp.go.html#4801626">OpCapture</a></span>&nbsp;<span class="op" id="4805286">||</span>&nbsp;<span class="ident" id="4805289"><a href="/regexp/syntax/regexp.go.html#4805249">sub</a></span><span class="op" id="4805292">.</span><span class="ident" id="4805293">Op</span>&nbsp;<span class="op" id="4805296">==</span>&nbsp;<span class="ident" id="4805299"><a href="/regexp/syntax/regexp.go.html#4800935">OpLiteral</a></span>&nbsp;<span class="op" id="4805309">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="4805312">len</span><span class="op" id="4805315">(</span><span class="ident" id="4805316"><a href="/regexp/syntax/regexp.go.html#4805249">sub</a></span><span class="op" id="4805319">.</span><span class="ident" id="4805320">Rune</span><span class="op" id="4805324">)</span>&nbsp;<span class="op" id="4805326">&gt;</span>&nbsp;<span class="num" id="4805328">1</span>&nbsp;<span class="op" id="4805330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805335"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805336">.</span><span class="ident" id="4805337">WriteString</span><span class="op" id="4805348">(</span><span class="string" id="4805349">`(?:`</span><span class="op" id="4805354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805359"><a href="/regexp/syntax/regexp.go.html#4803361">writeRegexp</a></span><span class="op" id="4805370">(</span><span class="ident" id="4805371"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805372">,</span>&nbsp;<span class="ident" id="4805374"><a href="/regexp/syntax/regexp.go.html#4805249">sub</a></span><span class="op" id="4805377">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805382"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805383">.</span><span class="ident" id="4805384">WriteString</span><span class="op" id="4805395">(</span><span class="string" id="4805396">`)`</span><span class="op" id="4805399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4805403">}</span>&nbsp;<span class="keyword" id="4805405">else</span>&nbsp;<span class="op" id="4805410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805415"><a href="/regexp/syntax/regexp.go.html#4803361">writeRegexp</a></span><span class="op" id="4805426">(</span><span class="ident" id="4805427"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805428">,</span>&nbsp;<span class="ident" id="4805430"><a href="/regexp/syntax/regexp.go.html#4805249">sub</a></span><span class="op" id="4805433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4805437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4805441">switch</span>&nbsp;<span class="ident" id="4805448"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4805450">.</span><span class="ident" id="4805451">Op</span>&nbsp;<span class="op" id="4805454">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4805458">case</span>&nbsp;<span class="ident" id="4805463"><a href="/regexp/syntax/regexp.go.html#4801720">OpStar</a></span><span class="op" id="4805469">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805474"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805475">.</span><span class="ident" id="4805476">WriteRune</span><span class="op" id="4805485">(</span><span class="string" id="4805486">&#39;*&#39;</span><span class="op" id="4805489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4805493">case</span>&nbsp;<span class="ident" id="4805498"><a href="/regexp/syntax/regexp.go.html#4801789">OpPlus</a></span><span class="op" id="4805504">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805509"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805510">.</span><span class="ident" id="4805511">WriteRune</span><span class="op" id="4805520">(</span><span class="string" id="4805521">&#39;+&#39;</span><span class="op" id="4805524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4805528">case</span>&nbsp;<span class="ident" id="4805533"><a href="/regexp/syntax/regexp.go.html#4801857">OpQuest</a></span><span class="op" id="4805540">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805545"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805546">.</span><span class="ident" id="4805547">WriteRune</span><span class="op" id="4805556">(</span><span class="string" id="4805557">&#39;?&#39;</span><span class="op" id="4805560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4805564">case</span>&nbsp;<span class="ident" id="4805569"><a href="/regexp/syntax/regexp.go.html#4801925">OpRepeat</a></span><span class="op" id="4805577">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805582"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805583">.</span><span class="ident" id="4805584">WriteRune</span><span class="op" id="4805593">(</span><span class="string" id="4805594">&#39;{&#39;</span><span class="op" id="4805597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805602"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805603">.</span><span class="ident" id="4805604">WriteString</span><span class="op" id="4805615">(</span><span class="ident" id="4805616"><a href="/regexp/syntax/regexp.go.html#4800035">strconv</a></span><span class="op" id="4805623">.</span><span class="ident" id="4805624">Itoa</span><span class="op" id="4805628">(</span><span class="ident" id="4805629"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4805631">.</span><span class="ident" id="4805632">Min</span><span class="op" id="4805635">)</span><span class="op" id="4805636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4805641">if</span>&nbsp;<span class="ident" id="4805644"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4805646">.</span><span class="ident" id="4805647">Max</span>&nbsp;<span class="op" id="4805651">!=</span>&nbsp;<span class="ident" id="4805654"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4805656">.</span><span class="ident" id="4805657">Min</span>&nbsp;<span class="op" id="4805661">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805667"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805668">.</span><span class="ident" id="4805669">WriteRune</span><span class="op" id="4805678">(</span><span class="string" id="4805679">&#39;,&#39;</span><span class="op" id="4805682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4805688">if</span>&nbsp;<span class="ident" id="4805691"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4805693">.</span><span class="ident" id="4805694">Max</span>&nbsp;<span class="op" id="4805698">&gt;=</span>&nbsp;<span class="num" id="4805701">0</span>&nbsp;<span class="op" id="4805703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805710"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805711">.</span><span class="ident" id="4805712">WriteString</span><span class="op" id="4805723">(</span><span class="ident" id="4805724"><a href="/regexp/syntax/regexp.go.html#4800035">strconv</a></span><span class="op" id="4805731">.</span><span class="ident" id="4805732">Itoa</span><span class="op" id="4805736">(</span><span class="ident" id="4805737"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4805739">.</span><span class="ident" id="4805740">Max</span><span class="op" id="4805743">)</span><span class="op" id="4805744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4805750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4805755">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805760"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805761">.</span><span class="ident" id="4805762">WriteRune</span><span class="op" id="4805771">(</span><span class="string" id="4805772">&#39;}&#39;</span><span class="op" id="4805775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4805779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4805783">if</span>&nbsp;<span class="ident" id="4805786"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4805788">.</span><span class="ident" id="4805789">Flags</span><span class="op" id="4805794">&amp;</span><span class="ident" id="4805795"><a href="/regexp/syntax/parse.go.html#4744824">NonGreedy</a></span>&nbsp;<span class="op" id="4805805">!=</span>&nbsp;<span class="num" id="4805808">0</span>&nbsp;<span class="op" id="4805810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805815"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805816">.</span><span class="ident" id="4805817">WriteRune</span><span class="op" id="4805826">(</span><span class="string" id="4805827">&#39;?&#39;</span><span class="op" id="4805830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4805834">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4805837">case</span>&nbsp;<span class="ident" id="4805842"><a href="/regexp/syntax/regexp.go.html#4802031">OpConcat</a></span><span class="op" id="4805850">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4805854">for</span>&nbsp;<span class="ident" id="4805858">_</span><span class="op" id="4805859">,</span>&nbsp;<span class="ident" id="4805861">sub</span>&nbsp;<span class="op" id="4805865">:=</span>&nbsp;<span class="keyword" id="4805868">range</span>&nbsp;<span class="ident" id="4805874"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4805876">.</span><span class="ident" id="4805877">Sub</span>&nbsp;<span class="op" id="4805881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4805886">if</span>&nbsp;<span class="ident" id="4805889"><a href="/regexp/syntax/regexp.go.html#4805861">sub</a></span><span class="op" id="4805892">.</span><span class="ident" id="4805893">Op</span>&nbsp;<span class="op" id="4805896">==</span>&nbsp;<span class="ident" id="4805899"><a href="/regexp/syntax/regexp.go.html#4802096">OpAlternate</a></span>&nbsp;<span class="op" id="4805911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805917"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805918">.</span><span class="ident" id="4805919">WriteString</span><span class="op" id="4805930">(</span><span class="string" id="4805931">`(?:`</span><span class="op" id="4805936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805942"><a href="/regexp/syntax/regexp.go.html#4803361">writeRegexp</a></span><span class="op" id="4805953">(</span><span class="ident" id="4805954"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805955">,</span>&nbsp;<span class="ident" id="4805957"><a href="/regexp/syntax/regexp.go.html#4805861">sub</a></span><span class="op" id="4805960">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4805966"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4805967">.</span><span class="ident" id="4805968">WriteString</span><span class="op" id="4805979">(</span><span class="string" id="4805980">`)`</span><span class="op" id="4805983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4805988">}</span>&nbsp;<span class="keyword" id="4805990">else</span>&nbsp;<span class="op" id="4805995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806001"><a href="/regexp/syntax/regexp.go.html#4803361">writeRegexp</a></span><span class="op" id="4806012">(</span><span class="ident" id="4806013"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4806014">,</span>&nbsp;<span class="ident" id="4806016"><a href="/regexp/syntax/regexp.go.html#4805861">sub</a></span><span class="op" id="4806019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4806024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4806028">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806031">case</span>&nbsp;<span class="ident" id="4806036"><a href="/regexp/syntax/regexp.go.html#4802096">OpAlternate</a></span><span class="op" id="4806047">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806051">for</span>&nbsp;<span class="ident" id="4806055">i</span><span class="op" id="4806056">,</span>&nbsp;<span class="ident" id="4806058">sub</span>&nbsp;<span class="op" id="4806062">:=</span>&nbsp;<span class="keyword" id="4806065">range</span>&nbsp;<span class="ident" id="4806071"><a href="/regexp/syntax/regexp.go.html#4803390">re</a></span><span class="op" id="4806073">.</span><span class="ident" id="4806074">Sub</span>&nbsp;<span class="op" id="4806078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806083">if</span>&nbsp;<span class="ident" id="4806086"><a href="/regexp/syntax/regexp.go.html#4806055">i</a></span>&nbsp;<span class="op" id="4806088">&gt;</span>&nbsp;<span class="num" id="4806090">0</span>&nbsp;<span class="op" id="4806092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806098"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4806099">.</span><span class="ident" id="4806100">WriteRune</span><span class="op" id="4806109">(</span><span class="string" id="4806110">&#39;|&#39;</span><span class="op" id="4806113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4806118">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806123"><a href="/regexp/syntax/regexp.go.html#4803361">writeRegexp</a></span><span class="op" id="4806134">(</span><span class="ident" id="4806135"><a href="/regexp/syntax/regexp.go.html#4803373">b</a></span><span class="op" id="4806136">,</span>&nbsp;<span class="ident" id="4806138"><a href="/regexp/syntax/regexp.go.html#4806058">sub</a></span><span class="op" id="4806141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4806145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4806148">}</span><br>
<span class="lineno"></span><span class="op" id="4806150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="4806153">func</span>&nbsp;<span class="op" id="4806158">(</span><span class="ident" id="4806159">re</span>&nbsp;<span class="op" id="4806162">*</span><span class="ident" id="4806163"><a href="/regexp/syntax/regexp.go.html#4800134">Regexp</a></span><span class="op" id="4806169">)</span>&nbsp;<span class="ident" id="4806171">String</span><span class="op" id="4806177">(</span><span class="op" id="4806178">)</span>&nbsp;<span class="builtintype" id="4806180">string</span>&nbsp;<span class="op" id="4806187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806190">var</span>&nbsp;<span class="ident" id="4806194">b</span>&nbsp;<span class="ident" id="4806196"><a href="/regexp/syntax/regexp.go.html#4800026">bytes</a></span><span class="op" id="4806201">.</span><span class="ident" id="4806202">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806210"><a href="/regexp/syntax/regexp.go.html#4803361">writeRegexp</a></span><span class="op" id="4806221">(</span><span class="op" id="4806222">&amp;</span><span class="ident" id="4806223"><a href="/regexp/syntax/regexp.go.html#4806194">b</a></span><span class="op" id="4806224">,</span>&nbsp;<span class="ident" id="4806226"><a href="/regexp/syntax/regexp.go.html#4806159">re</a></span><span class="op" id="4806228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806231">return</span>&nbsp;<span class="ident" id="4806238"><a href="/regexp/syntax/regexp.go.html#4806194">b</a></span><span class="op" id="4806239">.</span><span class="ident" id="4806240">String</span><span class="op" id="4806246">(</span><span class="op" id="4806247">)</span><br>
<span class="lineno"></span><span class="op" id="4806249">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="keyword" id="4806252">const</span>&nbsp;<span class="ident" id="4806258">meta</span>&nbsp;<span class="op" id="4806263">=</span>&nbsp;<span class="string" id="4806265">`\.+*?()|[]{}^$`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4806283">func</span>&nbsp;<span class="ident" id="4806288">escape</span><span class="op" id="4806294">(</span><span class="ident" id="4806295">b</span>&nbsp;<span class="op" id="4806297">*</span><span class="ident" id="4806298"><a href="/regexp/syntax/regexp.go.html#4800026">bytes</a></span><span class="op" id="4806303">.</span><span class="ident" id="4806304">Buffer</span><span class="op" id="4806310">,</span>&nbsp;<span class="ident" id="4806312">r</span>&nbsp;<span class="builtintype" id="4806314">rune</span><span class="op" id="4806318">,</span>&nbsp;<span class="ident" id="4806320">force</span>&nbsp;<span class="builtintype" id="4806326">bool</span><span class="op" id="4806330">)</span>&nbsp;<span class="op" id="4806332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806335">if</span>&nbsp;<span class="ident" id="4806338"><a href="/regexp/syntax/regexp.go.html#4800057">unicode</a></span><span class="op" id="4806345">.</span><span class="ident" id="4806346">IsPrint</span><span class="op" id="4806353">(</span><span class="ident" id="4806354"><a href="/regexp/syntax/regexp.go.html#4806312">r</a></span><span class="op" id="4806355">)</span>&nbsp;<span class="op" id="4806357">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806361">if</span>&nbsp;<span class="ident" id="4806364"><a href="/regexp/syntax/regexp.go.html#4800046">strings</a></span><span class="op" id="4806371">.</span><span class="ident" id="4806372">IndexRune</span><span class="op" id="4806381">(</span><span class="ident" id="4806382"><a href="/regexp/syntax/regexp.go.html#4806258">meta</a></span><span class="op" id="4806386">,</span>&nbsp;<span class="ident" id="4806388"><a href="/regexp/syntax/regexp.go.html#4806312">r</a></span><span class="op" id="4806389">)</span>&nbsp;<span class="op" id="4806391">&gt;=</span>&nbsp;<span class="num" id="4806394">0</span>&nbsp;<span class="op" id="4806396">||</span>&nbsp;<span class="ident" id="4806399"><a href="/regexp/syntax/regexp.go.html#4806320">force</a></span>&nbsp;<span class="op" id="4806405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806410"><a href="/regexp/syntax/regexp.go.html#4806295">b</a></span><span class="op" id="4806411">.</span><span class="ident" id="4806412">WriteRune</span><span class="op" id="4806421">(</span><span class="string" id="4806422">&#39;\\&#39;</span><span class="op" id="4806426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4806430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806434"><a href="/regexp/syntax/regexp.go.html#4806295">b</a></span><span class="op" id="4806435">.</span><span class="ident" id="4806436">WriteRune</span><span class="op" id="4806445">(</span><span class="ident" id="4806446"><a href="/regexp/syntax/regexp.go.html#4806312">r</a></span><span class="op" id="4806447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806451">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4806459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806463">switch</span>&nbsp;<span class="ident" id="4806470"><a href="/regexp/syntax/regexp.go.html#4806312">r</a></span>&nbsp;<span class="op" id="4806472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806475">case</span>&nbsp;<span class="string" id="4806480">&#39;\a&#39;</span><span class="op" id="4806484">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806488"><a href="/regexp/syntax/regexp.go.html#4806295">b</a></span><span class="op" id="4806489">.</span><span class="ident" id="4806490">WriteString</span><span class="op" id="4806501">(</span><span class="string" id="4806502">`\a`</span><span class="op" id="4806506">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806509">case</span>&nbsp;<span class="string" id="4806514">&#39;\f&#39;</span><span class="op" id="4806518">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806522"><a href="/regexp/syntax/regexp.go.html#4806295">b</a></span><span class="op" id="4806523">.</span><span class="ident" id="4806524">WriteString</span><span class="op" id="4806535">(</span><span class="string" id="4806536">`\f`</span><span class="op" id="4806540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806543">case</span>&nbsp;<span class="string" id="4806548">&#39;\n&#39;</span><span class="op" id="4806552">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806556"><a href="/regexp/syntax/regexp.go.html#4806295">b</a></span><span class="op" id="4806557">.</span><span class="ident" id="4806558">WriteString</span><span class="op" id="4806569">(</span><span class="string" id="4806570">`\n`</span><span class="op" id="4806574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806577">case</span>&nbsp;<span class="string" id="4806582">&#39;\r&#39;</span><span class="op" id="4806586">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806590"><a href="/regexp/syntax/regexp.go.html#4806295">b</a></span><span class="op" id="4806591">.</span><span class="ident" id="4806592">WriteString</span><span class="op" id="4806603">(</span><span class="string" id="4806604">`\r`</span><span class="op" id="4806608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806611">case</span>&nbsp;<span class="string" id="4806616">&#39;\t&#39;</span><span class="op" id="4806620">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806624"><a href="/regexp/syntax/regexp.go.html#4806295">b</a></span><span class="op" id="4806625">.</span><span class="ident" id="4806626">WriteString</span><span class="op" id="4806637">(</span><span class="string" id="4806638">`\t`</span><span class="op" id="4806642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806645">case</span>&nbsp;<span class="string" id="4806650">&#39;\v&#39;</span><span class="op" id="4806654">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806658"><a href="/regexp/syntax/regexp.go.html#4806295">b</a></span><span class="op" id="4806659">.</span><span class="ident" id="4806660">WriteString</span><span class="op" id="4806671">(</span><span class="string" id="4806672">`\v`</span><span class="op" id="4806676">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806679">default</span><span class="op" id="4806686">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806690">if</span>&nbsp;<span class="ident" id="4806693"><a href="/regexp/syntax/regexp.go.html#4806312">r</a></span>&nbsp;<span class="op" id="4806695">&lt;</span>&nbsp;<span class="num" id="4806697">0x100</span>&nbsp;<span class="op" id="4806703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806708"><a href="/regexp/syntax/regexp.go.html#4806295">b</a></span><span class="op" id="4806709">.</span><span class="ident" id="4806710">WriteString</span><span class="op" id="4806721">(</span><span class="string" id="4806722">`\x`</span><span class="op" id="4806726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806731">s</span>&nbsp;<span class="op" id="4806733">:=</span>&nbsp;<span class="ident" id="4806736"><a href="/regexp/syntax/regexp.go.html#4800035">strconv</a></span><span class="op" id="4806743">.</span><span class="ident" id="4806744">FormatInt</span><span class="op" id="4806753">(</span><span class="ident" id="4806754">int64</span><span class="op" id="4806759">(</span><span class="ident" id="4806760"><a href="/regexp/syntax/regexp.go.html#4806312">r</a></span><span class="op" id="4806761">)</span><span class="op" id="4806762">,</span>&nbsp;<span class="num" id="4806764">16</span><span class="op" id="4806766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806771">if</span>&nbsp;<span class="builtinfunc" id="4806774">len</span><span class="op" id="4806777">(</span><span class="ident" id="4806778"><a href="/regexp/syntax/regexp.go.html#4806731">s</a></span><span class="op" id="4806779">)</span>&nbsp;<span class="op" id="4806781">==</span>&nbsp;<span class="num" id="4806784">1</span>&nbsp;<span class="op" id="4806786">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806792"><a href="/regexp/syntax/regexp.go.html#4806295">b</a></span><span class="op" id="4806793">.</span><span class="ident" id="4806794">WriteRune</span><span class="op" id="4806803">(</span><span class="string" id="4806804">&#39;0&#39;</span><span class="op" id="4806807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4806812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806817"><a href="/regexp/syntax/regexp.go.html#4806295">b</a></span><span class="op" id="4806818">.</span><span class="ident" id="4806819">WriteString</span><span class="op" id="4806830">(</span><span class="ident" id="4806831"><a href="/regexp/syntax/regexp.go.html#4806731">s</a></span><span class="op" id="4806832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4806837">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4806845">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806849"><a href="/regexp/syntax/regexp.go.html#4806295">b</a></span><span class="op" id="4806850">.</span><span class="ident" id="4806851">WriteString</span><span class="op" id="4806862">(</span><span class="string" id="4806863">`\x{`</span><span class="op" id="4806868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806872"><a href="/regexp/syntax/regexp.go.html#4806295">b</a></span><span class="op" id="4806873">.</span><span class="ident" id="4806874">WriteString</span><span class="op" id="4806885">(</span><span class="ident" id="4806886"><a href="/regexp/syntax/regexp.go.html#4800035">strconv</a></span><span class="op" id="4806893">.</span><span class="ident" id="4806894">FormatInt</span><span class="op" id="4806903">(</span><span class="ident" id="4806904">int64</span><span class="op" id="4806909">(</span><span class="ident" id="4806910"><a href="/regexp/syntax/regexp.go.html#4806312">r</a></span><span class="op" id="4806911">)</span><span class="op" id="4806912">,</span>&nbsp;<span class="num" id="4806914">16</span><span class="op" id="4806916">)</span><span class="op" id="4806917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4806921"><a href="/regexp/syntax/regexp.go.html#4806295">b</a></span><span class="op" id="4806922">.</span><span class="ident" id="4806923">WriteString</span><span class="op" id="4806934">(</span><span class="string" id="4806935">`}`</span><span class="op" id="4806938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4806941">}</span><br>
<span class="lineno"></span><span class="op" id="4806943">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="4806946">//&nbsp;MaxCap&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;maximum&nbsp;capture&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="4807008">func</span>&nbsp;<span class="op" id="4807013">(</span><span class="ident" id="4807014">re</span>&nbsp;<span class="op" id="4807017">*</span><span class="ident" id="4807018"><a href="/regexp/syntax/regexp.go.html#4800134">Regexp</a></span><span class="op" id="4807024">)</span>&nbsp;<span class="ident" id="4807026">MaxCap</span><span class="op" id="4807032">(</span><span class="op" id="4807033">)</span>&nbsp;<span class="builtintype" id="4807035">int</span>&nbsp;<span class="op" id="4807039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4807042">m</span>&nbsp;<span class="op" id="4807044">:=</span>&nbsp;<span class="num" id="4807047">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4807050">if</span>&nbsp;<span class="ident" id="4807053"><a href="/regexp/syntax/regexp.go.html#4807014">re</a></span><span class="op" id="4807055">.</span><span class="ident" id="4807056">Op</span>&nbsp;<span class="op" id="4807059">==</span>&nbsp;<span class="ident" id="4807062"><a href="/regexp/syntax/regexp.go.html#4801626">OpCapture</a></span>&nbsp;<span class="op" id="4807072">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4807076"><a href="/regexp/syntax/regexp.go.html#4807042">m</a></span>&nbsp;<span class="op" id="4807078">=</span>&nbsp;<span class="ident" id="4807080"><a href="/regexp/syntax/regexp.go.html#4807014">re</a></span><span class="op" id="4807082">.</span><span class="ident" id="4807083">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4807088">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4807091">for</span>&nbsp;<span class="ident" id="4807095">_</span><span class="op" id="4807096">,</span>&nbsp;<span class="ident" id="4807098">sub</span>&nbsp;<span class="op" id="4807102">:=</span>&nbsp;<span class="keyword" id="4807105">range</span>&nbsp;<span class="ident" id="4807111"><a href="/regexp/syntax/regexp.go.html#4807014">re</a></span><span class="op" id="4807113">.</span><span class="ident" id="4807114">Sub</span>&nbsp;<span class="op" id="4807118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4807122">if</span>&nbsp;<span class="ident" id="4807125">n</span>&nbsp;<span class="op" id="4807127">:=</span>&nbsp;<span class="ident" id="4807130"><a href="/regexp/syntax/regexp.go.html#4807098">sub</a></span><span class="op" id="4807133">.</span><span class="ident" id="4807134">MaxCap</span><span class="op" id="4807140">(</span><span class="op" id="4807141">)</span><span class="op" id="4807142">;</span>&nbsp;<span class="ident" id="4807144"><a href="/regexp/syntax/regexp.go.html#4807042">m</a></span>&nbsp;<span class="op" id="4807146">&lt;</span>&nbsp;<span class="ident" id="4807148"><a href="/regexp/syntax/regexp.go.html#4807125">n</a></span>&nbsp;<span class="op" id="4807150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4807155"><a href="/regexp/syntax/regexp.go.html#4807042">m</a></span>&nbsp;<span class="op" id="4807157">=</span>&nbsp;<span class="ident" id="4807159"><a href="/regexp/syntax/regexp.go.html#4807125">n</a></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4807163">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4807166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4807169">return</span>&nbsp;<span class="ident" id="4807176"><a href="/regexp/syntax/regexp.go.html#4807042">m</a></span><br>
<span class="lineno"></span><span class="op" id="4807178">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="comment" id="4807181">//&nbsp;CapNames&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;names&nbsp;of&nbsp;capturing&nbsp;groups.</span><br>
<span class="lineno"></span><span class="keyword" id="4807249">func</span>&nbsp;<span class="op" id="4807254">(</span><span class="ident" id="4807255">re</span>&nbsp;<span class="op" id="4807258">*</span><span class="ident" id="4807259"><a href="/regexp/syntax/regexp.go.html#4800134">Regexp</a></span><span class="op" id="4807265">)</span>&nbsp;<span class="ident" id="4807267">CapNames</span><span class="op" id="4807275">(</span><span class="op" id="4807276">)</span>&nbsp;<span class="op" id="4807278">[</span><span class="op" id="4807279">]</span><span class="builtintype" id="4807280">string</span>&nbsp;<span class="op" id="4807287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4807290">names</span>&nbsp;<span class="op" id="4807296">:=</span>&nbsp;<span class="builtinfunc" id="4807299">make</span><span class="op" id="4807303">(</span><span class="op" id="4807304">[</span><span class="op" id="4807305">]</span><span class="builtintype" id="4807306">string</span><span class="op" id="4807312">,</span>&nbsp;<span class="ident" id="4807314"><a href="/regexp/syntax/regexp.go.html#4807255">re</a></span><span class="op" id="4807316">.</span><span class="ident" id="4807317">MaxCap</span><span class="op" id="4807323">(</span><span class="op" id="4807324">)</span><span class="op" id="4807325">+</span><span class="num" id="4807326">1</span><span class="op" id="4807327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4807330"><a href="/regexp/syntax/regexp.go.html#4807255">re</a></span><span class="op" id="4807332">.</span><span class="ident" id="4807333">capNames</span><span class="op" id="4807341">(</span><span class="ident" id="4807342"><a href="/regexp/syntax/regexp.go.html#4807290">names</a></span><span class="op" id="4807347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4807350">return</span>&nbsp;<span class="ident" id="4807357"><a href="/regexp/syntax/regexp.go.html#4807290">names</a></span><br>
<span class="lineno">310</span><span class="op" id="4807363">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4807366">func</span>&nbsp;<span class="op" id="4807371">(</span><span class="ident" id="4807372">re</span>&nbsp;<span class="op" id="4807375">*</span><span class="ident" id="4807376"><a href="/regexp/syntax/regexp.go.html#4800134">Regexp</a></span><span class="op" id="4807382">)</span>&nbsp;<span class="ident" id="4807384">capNames</span><span class="op" id="4807392">(</span><span class="ident" id="4807393">names</span>&nbsp;<span class="op" id="4807399">[</span><span class="op" id="4807400">]</span><span class="builtintype" id="4807401">string</span><span class="op" id="4807407">)</span>&nbsp;<span class="op" id="4807409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4807412">if</span>&nbsp;<span class="ident" id="4807415"><a href="/regexp/syntax/regexp.go.html#4807372">re</a></span><span class="op" id="4807417">.</span><span class="ident" id="4807418">Op</span>&nbsp;<span class="op" id="4807421">==</span>&nbsp;<span class="ident" id="4807424"><a href="/regexp/syntax/regexp.go.html#4801626">OpCapture</a></span>&nbsp;<span class="op" id="4807434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4807438"><a href="/regexp/syntax/regexp.go.html#4807393">names</a></span><span class="op" id="4807443">[</span><span class="ident" id="4807444"><a href="/regexp/syntax/regexp.go.html#4807372">re</a></span><span class="op" id="4807446">.</span><span class="ident" id="4807447">Cap</span><span class="op" id="4807450">]</span>&nbsp;<span class="op" id="4807452">=</span>&nbsp;<span class="ident" id="4807454"><a href="/regexp/syntax/regexp.go.html#4807372">re</a></span><span class="op" id="4807456">.</span><span class="ident" id="4807457">Name</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4807463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4807466">for</span>&nbsp;<span class="ident" id="4807470">_</span><span class="op" id="4807471">,</span>&nbsp;<span class="ident" id="4807473">sub</span>&nbsp;<span class="op" id="4807477">:=</span>&nbsp;<span class="keyword" id="4807480">range</span>&nbsp;<span class="ident" id="4807486"><a href="/regexp/syntax/regexp.go.html#4807372">re</a></span><span class="op" id="4807488">.</span><span class="ident" id="4807489">Sub</span>&nbsp;<span class="op" id="4807493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4807497"><a href="/regexp/syntax/regexp.go.html#4807473">sub</a></span><span class="op" id="4807500">.</span><span class="ident" id="4807501">capNames</span><span class="op" id="4807509">(</span><span class="ident" id="4807510"><a href="/regexp/syntax/regexp.go.html#4807393">names</a></span><span class="op" id="4807515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4807518">}</span><br>
<span class="lineno"></span><span class="op" id="4807520">}</span>
</div>
</body>
</html>
