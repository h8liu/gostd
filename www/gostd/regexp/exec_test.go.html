<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html" class="current">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8354354">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8354409">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8354463">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8354514">package</span>&nbsp;<span class="ident" id="8354522">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8354530">import</span>&nbsp;<span class="op" id="8354537">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8354540">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8354549">&#34;compress/bzip2&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8354567">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8354574">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8354580">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8354586">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8354603">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8354620">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8354631">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8354642">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8354653">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="8354668">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8354671">//&nbsp;TestRE2&nbsp;tests&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;test&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="8354733">//&nbsp;considered&nbsp;during&nbsp;RE2&#39;s&nbsp;exhaustive&nbsp;tests,&nbsp;which&nbsp;run&nbsp;all&nbsp;possible</span><br>
<span class="lineno"></span><span class="comment" id="8354801">//&nbsp;regexps&nbsp;over&nbsp;a&nbsp;given&nbsp;set&nbsp;of&nbsp;atoms&nbsp;and&nbsp;operators,&nbsp;up&nbsp;to&nbsp;a&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="8354867">//&nbsp;complexity,&nbsp;over&nbsp;all&nbsp;possible&nbsp;strings&nbsp;over&nbsp;a&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno">25</span><span class="comment" id="8354931">//&nbsp;up&nbsp;to&nbsp;a&nbsp;given&nbsp;size.&nbsp;&nbsp;Rather&nbsp;than&nbsp;try&nbsp;to&nbsp;link&nbsp;with&nbsp;RE2,&nbsp;we&nbsp;read&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="8354999">//&nbsp;log&nbsp;file&nbsp;containing&nbsp;the&nbsp;test&nbsp;cases&nbsp;and&nbsp;the&nbsp;expected&nbsp;matches.</span><br>
<span class="lineno"></span><span class="comment" id="8355063">//&nbsp;The&nbsp;log&nbsp;file,&nbsp;re2.txt,&nbsp;is&nbsp;generated&nbsp;by&nbsp;running&nbsp;&#39;make&nbsp;exhaustive-log&#39;</span><br>
<span class="lineno"></span><span class="comment" id="8355135">//&nbsp;in&nbsp;the&nbsp;open&nbsp;source&nbsp;RE2&nbsp;distribution.&nbsp;&nbsp;http://code.google.com/p/re2/</span><br>
<span class="lineno"></span><span class="comment" id="8355206">//</span><br>
<span class="lineno">30</span><span class="comment" id="8355209">//&nbsp;The&nbsp;test&nbsp;file&nbsp;format&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;stanzas&nbsp;like:</span><br>
<span class="lineno"></span><span class="comment" id="8355264">//</span><br>
<span class="lineno"></span><span class="comment" id="8355267">//&nbsp;&nbsp;&nbsp;&nbsp;strings</span><br>
<span class="lineno"></span><span class="comment" id="8355278">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;abc&#34;</span><br>
<span class="lineno"></span><span class="comment" id="8355287">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;123x&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="8355297">//&nbsp;&nbsp;&nbsp;&nbsp;regexps</span><br>
<span class="lineno"></span><span class="comment" id="8355308">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;[a-z]+&#34;</span><br>
<span class="lineno"></span><span class="comment" id="8355320">//&nbsp;&nbsp;&nbsp;&nbsp;0-3;0-3</span><br>
<span class="lineno"></span><span class="comment" id="8355331">//&nbsp;&nbsp;&nbsp;&nbsp;-;-</span><br>
<span class="lineno"></span><span class="comment" id="8355338">//&nbsp;&nbsp;&nbsp;&nbsp;&#34;([0-9])([0-9])([0-9])&#34;</span><br>
<span class="lineno">40</span><span class="comment" id="8355365">//&nbsp;&nbsp;&nbsp;&nbsp;-;-</span><br>
<span class="lineno"></span><span class="comment" id="8355372">//&nbsp;&nbsp;&nbsp;&nbsp;-;0-3&nbsp;0-1&nbsp;1-2&nbsp;2-3</span><br>
<span class="lineno"></span><span class="comment" id="8355393">//</span><br>
<span class="lineno"></span><span class="comment" id="8355396">//&nbsp;The&nbsp;stanza&nbsp;begins&nbsp;by&nbsp;defining&nbsp;a&nbsp;set&nbsp;of&nbsp;strings,&nbsp;quoted</span><br>
<span class="lineno"></span><span class="comment" id="8355454">//&nbsp;using&nbsp;Go&nbsp;double-quote&nbsp;syntax,&nbsp;one&nbsp;per&nbsp;line.&nbsp;&nbsp;Then&nbsp;the</span><br>
<span class="lineno">45</span><span class="comment" id="8355511">//&nbsp;regexps&nbsp;section&nbsp;gives&nbsp;a&nbsp;sequence&nbsp;of&nbsp;regexps&nbsp;to&nbsp;run&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="8355568">//&nbsp;the&nbsp;strings.&nbsp;&nbsp;In&nbsp;the&nbsp;block&nbsp;that&nbsp;follows&nbsp;a&nbsp;regexp,&nbsp;each&nbsp;line</span><br>
<span class="lineno"></span><span class="comment" id="8355631">//&nbsp;gives&nbsp;the&nbsp;semicolon-separated&nbsp;match&nbsp;results&nbsp;of&nbsp;running</span><br>
<span class="lineno"></span><span class="comment" id="8355689">//&nbsp;the&nbsp;regexp&nbsp;on&nbsp;the&nbsp;corresponding&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="8355732">//&nbsp;Each&nbsp;match&nbsp;result&nbsp;is&nbsp;either&nbsp;a&nbsp;single&nbsp;-,&nbsp;meaning&nbsp;no&nbsp;match,&nbsp;or&nbsp;a</span><br>
<span class="lineno">50</span><span class="comment" id="8355798">//&nbsp;space-separated&nbsp;sequence&nbsp;of&nbsp;pairs&nbsp;giving&nbsp;the&nbsp;match&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="8355856">//&nbsp;submatch&nbsp;indices.&nbsp;&nbsp;An&nbsp;unmatched&nbsp;subexpression&nbsp;formats</span><br>
<span class="lineno"></span><span class="comment" id="8355913">//&nbsp;its&nbsp;pair&nbsp;as&nbsp;a&nbsp;single&nbsp;-&nbsp;(not&nbsp;illustrated&nbsp;above).&nbsp;&nbsp;For&nbsp;now</span><br>
<span class="lineno"></span><span class="comment" id="8355973">//&nbsp;each&nbsp;regexp&nbsp;run&nbsp;produces&nbsp;two&nbsp;match&nbsp;results,&nbsp;one&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="8356030">//&nbsp;``full&nbsp;match&#39;&#39;&nbsp;that&nbsp;restricts&nbsp;the&nbsp;regexp&nbsp;to&nbsp;matching&nbsp;the&nbsp;entire</span><br>
<span class="lineno">55</span><span class="comment" id="8356097">//&nbsp;string&nbsp;or&nbsp;nothing,&nbsp;and&nbsp;one&nbsp;for&nbsp;a&nbsp;``partial&nbsp;match&#39;&#39;&nbsp;that&nbsp;gives</span><br>
<span class="lineno"></span><span class="comment" id="8356162">//&nbsp;the&nbsp;leftmost&nbsp;first&nbsp;match&nbsp;found&nbsp;in&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="8356211">//</span><br>
<span class="lineno"></span><span class="comment" id="8356214">//&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;#&nbsp;are&nbsp;comments.&nbsp;&nbsp;Lines&nbsp;beginning&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="8356276">//&nbsp;a&nbsp;capital&nbsp;letter&nbsp;are&nbsp;test&nbsp;names&nbsp;printed&nbsp;during&nbsp;RE2&#39;s&nbsp;test&nbsp;suite</span><br>
<span class="lineno">60</span><span class="comment" id="8356343">//&nbsp;and&nbsp;are&nbsp;echoed&nbsp;into&nbsp;t&nbsp;but&nbsp;otherwise&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="8356391">//</span><br>
<span class="lineno"></span><span class="comment" id="8356394">//&nbsp;At&nbsp;time&nbsp;of&nbsp;writing,&nbsp;re2.txt&nbsp;is&nbsp;32&nbsp;MB&nbsp;but&nbsp;compresses&nbsp;to&nbsp;760&nbsp;kB,</span><br>
<span class="lineno"></span><span class="comment" id="8356460">//&nbsp;so&nbsp;we&nbsp;store&nbsp;re2.txt.gz&nbsp;in&nbsp;the&nbsp;repository&nbsp;and&nbsp;decompress&nbsp;it&nbsp;on&nbsp;the&nbsp;fly.</span><br>
<span class="lineno"></span><span class="comment" id="8356534">//</span><br>
<span class="lineno">65</span><span class="keyword" id="8356537">func</span>&nbsp;<span class="ident" id="8356542">TestRE2Search</span><span class="op" id="8356555">(</span><span class="ident" id="8356556">t</span>&nbsp;<span class="op" id="8356558">*</span><span class="ident" id="8356559">testing</span><span class="op" id="8356566">.</span><span class="ident" id="8356567">T</span><span class="op" id="8356568">)</span>&nbsp;<span class="op" id="8356570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356573">testRE2</span><span class="op" id="8356580">(</span><span class="ident" id="8356581">t</span><span class="op" id="8356582">,</span>&nbsp;<span class="string" id="8356584">&#34;testdata/re2-search.txt&#34;</span><span class="op" id="8356609">)</span><br>
<span class="lineno"></span><span class="op" id="8356611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8356614">func</span>&nbsp;<span class="ident" id="8356619">testRE2</span><span class="op" id="8356626">(</span><span class="ident" id="8356627">t</span>&nbsp;<span class="op" id="8356629">*</span><span class="ident" id="8356630">testing</span><span class="op" id="8356637">.</span><span class="ident" id="8356638">T</span><span class="op" id="8356639">,</span>&nbsp;<span class="ident" id="8356641">file</span>&nbsp;<span class="builtintype" id="8356646">string</span><span class="op" id="8356652">)</span>&nbsp;<span class="op" id="8356654">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356657">f</span><span class="op" id="8356658">,</span>&nbsp;<span class="ident" id="8356660">err</span>&nbsp;<span class="op" id="8356664">:=</span>&nbsp;<span class="ident" id="8356667">os</span><span class="op" id="8356669">.</span><span class="ident" id="8356670">Open</span><span class="op" id="8356674">(</span><span class="ident" id="8356675">file</span><span class="op" id="8356679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356682">if</span>&nbsp;<span class="ident" id="8356685">err</span>&nbsp;<span class="op" id="8356689">!=</span>&nbsp;<span class="builtintype" id="8356692">nil</span>&nbsp;<span class="op" id="8356696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356700">t</span><span class="op" id="8356701">.</span><span class="ident" id="8356702">Fatal</span><span class="op" id="8356707">(</span><span class="ident" id="8356708">err</span><span class="op" id="8356711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356717">defer</span>&nbsp;<span class="ident" id="8356723">f</span><span class="op" id="8356724">.</span><span class="ident" id="8356725">Close</span><span class="op" id="8356730">(</span><span class="op" id="8356731">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356734">var</span>&nbsp;<span class="ident" id="8356738">txt</span>&nbsp;<span class="ident" id="8356742">io</span><span class="op" id="8356744">.</span><span class="ident" id="8356745">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356753">if</span>&nbsp;<span class="ident" id="8356756">strings</span><span class="op" id="8356763">.</span><span class="ident" id="8356764">HasSuffix</span><span class="op" id="8356773">(</span><span class="ident" id="8356774">file</span><span class="op" id="8356778">,</span>&nbsp;<span class="string" id="8356780">&#34;.bz2&#34;</span><span class="op" id="8356786">)</span>&nbsp;<span class="op" id="8356788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356792">z</span>&nbsp;<span class="op" id="8356794">:=</span>&nbsp;<span class="ident" id="8356797">bzip2</span><span class="op" id="8356802">.</span><span class="ident" id="8356803">NewReader</span><span class="op" id="8356812">(</span><span class="ident" id="8356813">f</span><span class="op" id="8356814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356818">txt</span>&nbsp;<span class="op" id="8356822">=</span>&nbsp;<span class="ident" id="8356824">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356828">file</span>&nbsp;<span class="op" id="8356833">=</span>&nbsp;<span class="ident" id="8356835">file</span><span class="op" id="8356839">[</span><span class="op" id="8356840">:</span><span class="builtinfunc" id="8356841">len</span><span class="op" id="8356844">(</span><span class="ident" id="8356845">file</span><span class="op" id="8356849">)</span><span class="op" id="8356850">-</span><span class="builtinfunc" id="8356851">len</span><span class="op" id="8356854">(</span><span class="string" id="8356855">&#34;.bz2&#34;</span><span class="op" id="8356861">)</span><span class="op" id="8356862">]</span>&nbsp;<span class="comment" id="8356864">//&nbsp;for&nbsp;error&nbsp;messages</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356887">}</span>&nbsp;<span class="keyword" id="8356889">else</span>&nbsp;<span class="op" id="8356894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356898">txt</span>&nbsp;<span class="op" id="8356902">=</span>&nbsp;<span class="ident" id="8356904">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356910">lineno</span>&nbsp;<span class="op" id="8356917">:=</span>&nbsp;<span class="num" id="8356920">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356923">scanner</span>&nbsp;<span class="op" id="8356931">:=</span>&nbsp;<span class="ident" id="8356934">bufio</span><span class="op" id="8356939">.</span><span class="ident" id="8356940">NewScanner</span><span class="op" id="8356950">(</span><span class="ident" id="8356951">txt</span><span class="op" id="8356954">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8356957">var</span>&nbsp;<span class="op" id="8356961">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356965">str</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356975">[</span><span class="op" id="8356976">]</span><span class="builtintype" id="8356977">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8356986">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8356996">[</span><span class="op" id="8356997">]</span><span class="builtintype" id="8356998">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357007">inStrings</span>&nbsp;<span class="builtintype" id="8357017">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357024">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357034">*</span><span class="ident" id="8357035">Regexp</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357044">refull</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357054">*</span><span class="ident" id="8357055">Regexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357064">nfail</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8357074">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357080">ncase</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8357090">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357098">for</span>&nbsp;<span class="ident" id="8357102">lineno</span>&nbsp;<span class="op" id="8357109">:=</span>&nbsp;<span class="num" id="8357112">1</span><span class="op" id="8357113">;</span>&nbsp;<span class="ident" id="8357115">scanner</span><span class="op" id="8357122">.</span><span class="ident" id="8357123">Scan</span><span class="op" id="8357127">(</span><span class="op" id="8357128">)</span><span class="op" id="8357129">;</span>&nbsp;<span class="ident" id="8357131">lineno</span><span class="op" id="8357137">++</span>&nbsp;<span class="op" id="8357140">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357144">line</span>&nbsp;<span class="op" id="8357149">:=</span>&nbsp;<span class="ident" id="8357152">scanner</span><span class="op" id="8357159">.</span><span class="ident" id="8357160">Text</span><span class="op" id="8357164">(</span><span class="op" id="8357165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357169">switch</span>&nbsp;<span class="op" id="8357176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357180">case</span>&nbsp;<span class="ident" id="8357185">line</span>&nbsp;<span class="op" id="8357190">==</span>&nbsp;<span class="string" id="8357193">&#34;&#34;</span><span class="op" id="8357195">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357200">t</span><span class="op" id="8357201">.</span><span class="ident" id="8357202">Fatalf</span><span class="op" id="8357208">(</span><span class="string" id="8357209">&#34;%s:%d:&nbsp;unexpected&nbsp;blank&nbsp;line&#34;</span><span class="op" id="8357239">,</span>&nbsp;<span class="ident" id="8357241">file</span><span class="op" id="8357245">,</span>&nbsp;<span class="ident" id="8357247">lineno</span><span class="op" id="8357253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357257">case</span>&nbsp;<span class="ident" id="8357262">line</span><span class="op" id="8357266">[</span><span class="num" id="8357267">0</span><span class="op" id="8357268">]</span>&nbsp;<span class="op" id="8357270">==</span>&nbsp;<span class="string" id="8357273">&#39;#&#39;</span><span class="op" id="8357276">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357281">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357292">case</span>&nbsp;<span class="string" id="8357297">&#39;A&#39;</span>&nbsp;<span class="op" id="8357301">&lt;=</span>&nbsp;<span class="ident" id="8357304">line</span><span class="op" id="8357308">[</span><span class="num" id="8357309">0</span><span class="op" id="8357310">]</span>&nbsp;<span class="op" id="8357312">&amp;&amp;</span>&nbsp;<span class="ident" id="8357315">line</span><span class="op" id="8357319">[</span><span class="num" id="8357320">0</span><span class="op" id="8357321">]</span>&nbsp;<span class="op" id="8357323">&lt;=</span>&nbsp;<span class="string" id="8357326">&#39;Z&#39;</span><span class="op" id="8357329">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8357334">//&nbsp;Test&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357351">t</span><span class="op" id="8357352">.</span><span class="ident" id="8357353">Logf</span><span class="op" id="8357357">(</span><span class="string" id="8357358">&#34;%s\n&#34;</span><span class="op" id="8357364">,</span>&nbsp;<span class="ident" id="8357366">line</span><span class="op" id="8357370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357375">continue</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357386">case</span>&nbsp;<span class="ident" id="8357391">line</span>&nbsp;<span class="op" id="8357396">==</span>&nbsp;<span class="string" id="8357399">&#34;strings&#34;</span><span class="op" id="8357408">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357413">str</span>&nbsp;<span class="op" id="8357417">=</span>&nbsp;<span class="ident" id="8357419">str</span><span class="op" id="8357422">[</span><span class="op" id="8357423">:</span><span class="num" id="8357424">0</span><span class="op" id="8357425">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357430">inStrings</span>&nbsp;<span class="op" id="8357440">=</span>&nbsp;<span class="builtintype" id="8357442">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357449">case</span>&nbsp;<span class="ident" id="8357454">line</span>&nbsp;<span class="op" id="8357459">==</span>&nbsp;<span class="string" id="8357462">&#34;regexps&#34;</span><span class="op" id="8357471">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357476">inStrings</span>&nbsp;<span class="op" id="8357486">=</span>&nbsp;<span class="builtintype" id="8357488">false</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357496">case</span>&nbsp;<span class="ident" id="8357501">line</span><span class="op" id="8357505">[</span><span class="num" id="8357506">0</span><span class="op" id="8357507">]</span>&nbsp;<span class="op" id="8357509">==</span>&nbsp;<span class="string" id="8357512">&#39;&#34;&#39;</span><span class="op" id="8357515">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357520">q</span><span class="op" id="8357521">,</span>&nbsp;<span class="ident" id="8357523">err</span>&nbsp;<span class="op" id="8357527">:=</span>&nbsp;<span class="ident" id="8357530">strconv</span><span class="op" id="8357537">.</span><span class="ident" id="8357538">Unquote</span><span class="op" id="8357545">(</span><span class="ident" id="8357546">line</span><span class="op" id="8357550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357555">if</span>&nbsp;<span class="ident" id="8357558">err</span>&nbsp;<span class="op" id="8357562">!=</span>&nbsp;<span class="builtintype" id="8357565">nil</span>&nbsp;<span class="op" id="8357569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8357575">//&nbsp;Fatal&nbsp;because&nbsp;we&#39;ll&nbsp;get&nbsp;out&nbsp;of&nbsp;sync.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357619">t</span><span class="op" id="8357620">.</span><span class="ident" id="8357621">Fatalf</span><span class="op" id="8357627">(</span><span class="string" id="8357628">&#34;%s:%d:&nbsp;unquote&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="8357651">,</span>&nbsp;<span class="ident" id="8357653">file</span><span class="op" id="8357657">,</span>&nbsp;<span class="ident" id="8357659">lineno</span><span class="op" id="8357665">,</span>&nbsp;<span class="ident" id="8357667">line</span><span class="op" id="8357671">,</span>&nbsp;<span class="ident" id="8357673">err</span><span class="op" id="8357676">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357681">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357686">if</span>&nbsp;<span class="ident" id="8357689">inStrings</span>&nbsp;<span class="op" id="8357699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357705">str</span>&nbsp;<span class="op" id="8357709">=</span>&nbsp;<span class="builtinfunc" id="8357711">append</span><span class="op" id="8357717">(</span><span class="ident" id="8357718">str</span><span class="op" id="8357721">,</span>&nbsp;<span class="ident" id="8357723">q</span><span class="op" id="8357724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357730">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357742">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8357747">//&nbsp;Is&nbsp;a&nbsp;regexp.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357766">if</span>&nbsp;<span class="builtinfunc" id="8357769">len</span><span class="op" id="8357772">(</span><span class="ident" id="8357773">input</span><span class="op" id="8357778">)</span>&nbsp;<span class="op" id="8357780">!=</span>&nbsp;<span class="num" id="8357783">0</span>&nbsp;<span class="op" id="8357785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357791">t</span><span class="op" id="8357792">.</span><span class="ident" id="8357793">Fatalf</span><span class="op" id="8357799">(</span><span class="string" id="8357800">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;before&nbsp;%#q&#34;</span><span class="op" id="8357853">,</span>&nbsp;<span class="ident" id="8357855">file</span><span class="op" id="8357859">,</span>&nbsp;<span class="ident" id="8357861">lineno</span><span class="op" id="8357867">,</span>&nbsp;<span class="builtinfunc" id="8357869">len</span><span class="op" id="8357872">(</span><span class="ident" id="8357873">input</span><span class="op" id="8357878">)</span><span class="op" id="8357879">,</span>&nbsp;<span class="ident" id="8357881">q</span><span class="op" id="8357882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8357887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8357892">re</span><span class="op" id="8357894">,</span>&nbsp;<span class="ident" id="8357896">err</span>&nbsp;<span class="op" id="8357900">=</span>&nbsp;<span class="ident" id="8357902">tryCompile</span><span class="op" id="8357912">(</span><span class="ident" id="8357913">q</span><span class="op" id="8357914">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357919">if</span>&nbsp;<span class="ident" id="8357922">err</span>&nbsp;<span class="op" id="8357926">!=</span>&nbsp;<span class="builtintype" id="8357929">nil</span>&nbsp;<span class="op" id="8357933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8357939">if</span>&nbsp;<span class="ident" id="8357942">err</span><span class="op" id="8357945">.</span><span class="ident" id="8357946">Error</span><span class="op" id="8357951">(</span><span class="op" id="8357952">)</span>&nbsp;<span class="op" id="8357954">==</span>&nbsp;<span class="string" id="8357957">&#34;error&nbsp;parsing&nbsp;regexp:&nbsp;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\C`&#34;</span>&nbsp;<span class="op" id="8358012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8358019">//&nbsp;We&nbsp;don&#39;t&nbsp;and&nbsp;likely&nbsp;never&nbsp;will&nbsp;support&nbsp;\C;&nbsp;keep&nbsp;going.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358082">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8358095">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358101">t</span><span class="op" id="8358102">.</span><span class="ident" id="8358103">Errorf</span><span class="op" id="8358109">(</span><span class="string" id="8358110">&#34;%s:%d:&nbsp;compile&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="8358134">,</span>&nbsp;<span class="ident" id="8358136">file</span><span class="op" id="8358140">,</span>&nbsp;<span class="ident" id="8358142">lineno</span><span class="op" id="8358148">,</span>&nbsp;<span class="ident" id="8358150">q</span><span class="op" id="8358151">,</span>&nbsp;<span class="ident" id="8358153">err</span><span class="op" id="8358156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358162">if</span>&nbsp;<span class="ident" id="8358165">nfail</span><span class="op" id="8358170">++</span><span class="op" id="8358172">;</span>&nbsp;<span class="ident" id="8358174">nfail</span>&nbsp;<span class="op" id="8358180">&gt;=</span>&nbsp;<span class="num" id="8358183">100</span>&nbsp;<span class="op" id="8358187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358194">t</span><span class="op" id="8358195">.</span><span class="ident" id="8358196">Fatalf</span><span class="op" id="8358202">(</span><span class="string" id="8358203">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8358229">,</span>&nbsp;<span class="ident" id="8358231">nfail</span><span class="op" id="8358236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8358242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358248">continue</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8358260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358265">full</span>&nbsp;<span class="op" id="8358270">:=</span>&nbsp;<span class="string" id="8358273">`\A(?:`</span>&nbsp;<span class="op" id="8358281">+</span>&nbsp;<span class="ident" id="8358283">q</span>&nbsp;<span class="op" id="8358285">+</span>&nbsp;<span class="string" id="8358287">`)\z`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358296">refull</span><span class="op" id="8358302">,</span>&nbsp;<span class="ident" id="8358304">err</span>&nbsp;<span class="op" id="8358308">=</span>&nbsp;<span class="ident" id="8358310">tryCompile</span><span class="op" id="8358320">(</span><span class="ident" id="8358321">full</span><span class="op" id="8358325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358330">if</span>&nbsp;<span class="ident" id="8358333">err</span>&nbsp;<span class="op" id="8358337">!=</span>&nbsp;<span class="builtintype" id="8358340">nil</span>&nbsp;<span class="op" id="8358344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8358350">//&nbsp;Fatal&nbsp;because&nbsp;q&nbsp;worked,&nbsp;so&nbsp;this&nbsp;should&nbsp;always&nbsp;work.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358409">t</span><span class="op" id="8358410">.</span><span class="ident" id="8358411">Fatalf</span><span class="op" id="8358417">(</span><span class="string" id="8358418">&#34;%s:%d:&nbsp;compile&nbsp;full&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="8358447">,</span>&nbsp;<span class="ident" id="8358449">file</span><span class="op" id="8358453">,</span>&nbsp;<span class="ident" id="8358455">lineno</span><span class="op" id="8358461">,</span>&nbsp;<span class="ident" id="8358463">full</span><span class="op" id="8358467">,</span>&nbsp;<span class="ident" id="8358469">err</span><span class="op" id="8358472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8358477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358482">input</span>&nbsp;<span class="op" id="8358488">=</span>&nbsp;<span class="ident" id="8358490">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358496">case</span>&nbsp;<span class="ident" id="8358501">line</span><span class="op" id="8358505">[</span><span class="num" id="8358506">0</span><span class="op" id="8358507">]</span>&nbsp;<span class="op" id="8358509">==</span>&nbsp;<span class="string" id="8358512">&#39;-&#39;</span>&nbsp;<span class="op" id="8358516">||</span>&nbsp;<span class="string" id="8358519">&#39;0&#39;</span>&nbsp;<span class="op" id="8358523">&lt;=</span>&nbsp;<span class="ident" id="8358526">line</span><span class="op" id="8358530">[</span><span class="num" id="8358531">0</span><span class="op" id="8358532">]</span>&nbsp;<span class="op" id="8358534">&amp;&amp;</span>&nbsp;<span class="ident" id="8358537">line</span><span class="op" id="8358541">[</span><span class="num" id="8358542">0</span><span class="op" id="8358543">]</span>&nbsp;<span class="op" id="8358545">&lt;=</span>&nbsp;<span class="string" id="8358548">&#39;9&#39;</span><span class="op" id="8358551">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8358556">//&nbsp;A&nbsp;sequence&nbsp;of&nbsp;match&nbsp;results.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358591">ncase</span><span class="op" id="8358596">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358602">if</span>&nbsp;<span class="ident" id="8358605">re</span>&nbsp;<span class="op" id="8358608">==</span>&nbsp;<span class="builtintype" id="8358611">nil</span>&nbsp;<span class="op" id="8358615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8358621">//&nbsp;Failed&nbsp;to&nbsp;compile:&nbsp;skip&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358661">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8358673">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358678">if</span>&nbsp;<span class="builtinfunc" id="8358681">len</span><span class="op" id="8358684">(</span><span class="ident" id="8358685">input</span><span class="op" id="8358690">)</span>&nbsp;<span class="op" id="8358692">==</span>&nbsp;<span class="num" id="8358695">0</span>&nbsp;<span class="op" id="8358697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358703">t</span><span class="op" id="8358704">.</span><span class="ident" id="8358705">Fatalf</span><span class="op" id="8358711">(</span><span class="string" id="8358712">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;no&nbsp;input&nbsp;remaining&#34;</span><span class="op" id="8358752">,</span>&nbsp;<span class="ident" id="8358754">file</span><span class="op" id="8358758">,</span>&nbsp;<span class="ident" id="8358760">lineno</span><span class="op" id="8358766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8358771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358776">var</span>&nbsp;<span class="ident" id="8358780">text</span>&nbsp;<span class="builtintype" id="8358785">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8358795">text</span><span class="op" id="8358799">,</span>&nbsp;<span class="ident" id="8358801">input</span>&nbsp;<span class="op" id="8358807">=</span>&nbsp;<span class="ident" id="8358809">input</span><span class="op" id="8358814">[</span><span class="num" id="8358815">0</span><span class="op" id="8358816">]</span><span class="op" id="8358817">,</span>&nbsp;<span class="ident" id="8358819">input</span><span class="op" id="8358824">[</span><span class="num" id="8358825">1</span><span class="op" id="8358826">:</span><span class="op" id="8358827">]</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8358832">if</span>&nbsp;<span class="op" id="8358835">!</span><span class="ident" id="8358836">isSingleBytes</span><span class="op" id="8358849">(</span><span class="ident" id="8358850">text</span><span class="op" id="8358854">)</span>&nbsp;<span class="op" id="8358856">&amp;&amp;</span>&nbsp;<span class="ident" id="8358859">strings</span><span class="op" id="8358866">.</span><span class="ident" id="8358867">Contains</span><span class="op" id="8358875">(</span><span class="ident" id="8358876">re</span><span class="op" id="8358878">.</span><span class="ident" id="8358879">String</span><span class="op" id="8358885">(</span><span class="op" id="8358886">)</span><span class="op" id="8358887">,</span>&nbsp;<span class="string" id="8358889">`\B`</span><span class="op" id="8358893">)</span>&nbsp;<span class="op" id="8358895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8358901">//&nbsp;RE2&#39;s&nbsp;\B&nbsp;considers&nbsp;every&nbsp;byte&nbsp;position,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8358948">//&nbsp;so&nbsp;it&nbsp;sees&nbsp;&#39;not&nbsp;word&nbsp;boundary&#39;&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8358993">//&nbsp;middle&nbsp;of&nbsp;UTF-8&nbsp;sequences.&nbsp;&nbsp;This&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8359041">//&nbsp;only&nbsp;considers&nbsp;the&nbsp;positions&nbsp;between&nbsp;runes,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8359092">//&nbsp;so&nbsp;it&nbsp;disagrees.&nbsp;&nbsp;Skip&nbsp;those&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359135">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8359147">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359152">res</span>&nbsp;<span class="op" id="8359156">:=</span>&nbsp;<span class="ident" id="8359159">strings</span><span class="op" id="8359166">.</span><span class="ident" id="8359167">Split</span><span class="op" id="8359172">(</span><span class="ident" id="8359173">line</span><span class="op" id="8359177">,</span>&nbsp;<span class="string" id="8359179">&#34;;&#34;</span><span class="op" id="8359182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359187">if</span>&nbsp;<span class="builtinfunc" id="8359190">len</span><span class="op" id="8359193">(</span><span class="ident" id="8359194">res</span><span class="op" id="8359197">)</span>&nbsp;<span class="op" id="8359199">!=</span>&nbsp;<span class="builtinfunc" id="8359202">len</span><span class="op" id="8359205">(</span><span class="ident" id="8359206">run</span><span class="op" id="8359209">)</span>&nbsp;<span class="op" id="8359211">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359217">t</span><span class="op" id="8359218">.</span><span class="ident" id="8359219">Fatalf</span><span class="op" id="8359225">(</span><span class="string" id="8359226">&#34;%s:%d:&nbsp;have&nbsp;%d&nbsp;test&nbsp;results,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8359264">,</span>&nbsp;<span class="ident" id="8359266">file</span><span class="op" id="8359270">,</span>&nbsp;<span class="ident" id="8359272">lineno</span><span class="op" id="8359278">,</span>&nbsp;<span class="builtinfunc" id="8359280">len</span><span class="op" id="8359283">(</span><span class="ident" id="8359284">res</span><span class="op" id="8359287">)</span><span class="op" id="8359288">,</span>&nbsp;<span class="builtinfunc" id="8359290">len</span><span class="op" id="8359293">(</span><span class="ident" id="8359294">run</span><span class="op" id="8359297">)</span><span class="op" id="8359298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8359303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359308">for</span>&nbsp;<span class="ident" id="8359312">i</span>&nbsp;<span class="op" id="8359314">:=</span>&nbsp;<span class="keyword" id="8359317">range</span>&nbsp;<span class="ident" id="8359323">res</span>&nbsp;<span class="op" id="8359327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359333">have</span><span class="op" id="8359337">,</span>&nbsp;<span class="ident" id="8359339">suffix</span>&nbsp;<span class="op" id="8359346">:=</span>&nbsp;<span class="ident" id="8359349">run</span><span class="op" id="8359352">[</span><span class="ident" id="8359353">i</span><span class="op" id="8359354">]</span><span class="op" id="8359355">(</span><span class="ident" id="8359356">re</span><span class="op" id="8359358">,</span>&nbsp;<span class="ident" id="8359360">refull</span><span class="op" id="8359366">,</span>&nbsp;<span class="ident" id="8359368">text</span><span class="op" id="8359372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359378">want</span>&nbsp;<span class="op" id="8359383">:=</span>&nbsp;<span class="ident" id="8359386">parseResult</span><span class="op" id="8359397">(</span><span class="ident" id="8359398">t</span><span class="op" id="8359399">,</span>&nbsp;<span class="ident" id="8359401">file</span><span class="op" id="8359405">,</span>&nbsp;<span class="ident" id="8359407">lineno</span><span class="op" id="8359413">,</span>&nbsp;<span class="ident" id="8359415">res</span><span class="op" id="8359418">[</span><span class="ident" id="8359419">i</span><span class="op" id="8359420">]</span><span class="op" id="8359421">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359427">if</span>&nbsp;<span class="op" id="8359430">!</span><span class="ident" id="8359431">same</span><span class="op" id="8359435">(</span><span class="ident" id="8359436">have</span><span class="op" id="8359440">,</span>&nbsp;<span class="ident" id="8359442">want</span><span class="op" id="8359446">)</span>&nbsp;<span class="op" id="8359448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359455">t</span><span class="op" id="8359456">.</span><span class="ident" id="8359457">Errorf</span><span class="op" id="8359463">(</span><span class="string" id="8359464">&#34;%s:%d:&nbsp;%#q%s.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8359515">,</span>&nbsp;<span class="ident" id="8359517">file</span><span class="op" id="8359521">,</span>&nbsp;<span class="ident" id="8359523">lineno</span><span class="op" id="8359529">,</span>&nbsp;<span class="ident" id="8359531">re</span><span class="op" id="8359533">,</span>&nbsp;<span class="ident" id="8359535">suffix</span><span class="op" id="8359541">,</span>&nbsp;<span class="ident" id="8359543">text</span><span class="op" id="8359547">,</span>&nbsp;<span class="ident" id="8359549">have</span><span class="op" id="8359553">,</span>&nbsp;<span class="ident" id="8359555">want</span><span class="op" id="8359559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359566">if</span>&nbsp;<span class="ident" id="8359569">nfail</span><span class="op" id="8359574">++</span><span class="op" id="8359576">;</span>&nbsp;<span class="ident" id="8359578">nfail</span>&nbsp;<span class="op" id="8359584">&gt;=</span>&nbsp;<span class="num" id="8359587">100</span>&nbsp;<span class="op" id="8359591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359599">t</span><span class="op" id="8359600">.</span><span class="ident" id="8359601">Fatalf</span><span class="op" id="8359607">(</span><span class="string" id="8359608">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8359634">,</span>&nbsp;<span class="ident" id="8359636">nfail</span><span class="op" id="8359641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8359648">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359655">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8359668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359674">b</span><span class="op" id="8359675">,</span>&nbsp;<span class="ident" id="8359677">suffix</span>&nbsp;<span class="op" id="8359684">:=</span>&nbsp;<span class="ident" id="8359687">match</span><span class="op" id="8359692">[</span><span class="ident" id="8359693">i</span><span class="op" id="8359694">]</span><span class="op" id="8359695">(</span><span class="ident" id="8359696">re</span><span class="op" id="8359698">,</span>&nbsp;<span class="ident" id="8359700">refull</span><span class="op" id="8359706">,</span>&nbsp;<span class="ident" id="8359708">text</span><span class="op" id="8359712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359718">if</span>&nbsp;<span class="ident" id="8359721">b</span>&nbsp;<span class="op" id="8359723">!=</span>&nbsp;<span class="op" id="8359726">(</span><span class="ident" id="8359727">want</span>&nbsp;<span class="op" id="8359732">!=</span>&nbsp;<span class="builtintype" id="8359735">nil</span><span class="op" id="8359738">)</span>&nbsp;<span class="op" id="8359740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359747">t</span><span class="op" id="8359748">.</span><span class="ident" id="8359749">Errorf</span><span class="op" id="8359755">(</span><span class="string" id="8359756">&#34;%s:%d:&nbsp;%#q%s.MatchString(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8359801">,</span>&nbsp;<span class="ident" id="8359803">file</span><span class="op" id="8359807">,</span>&nbsp;<span class="ident" id="8359809">lineno</span><span class="op" id="8359815">,</span>&nbsp;<span class="ident" id="8359817">re</span><span class="op" id="8359819">,</span>&nbsp;<span class="ident" id="8359821">suffix</span><span class="op" id="8359827">,</span>&nbsp;<span class="ident" id="8359829">text</span><span class="op" id="8359833">,</span>&nbsp;<span class="ident" id="8359835">b</span><span class="op" id="8359836">,</span>&nbsp;<span class="op" id="8359838">!</span><span class="ident" id="8359839">b</span><span class="op" id="8359840">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359847">if</span>&nbsp;<span class="ident" id="8359850">nfail</span><span class="op" id="8359855">++</span><span class="op" id="8359857">;</span>&nbsp;<span class="ident" id="8359859">nfail</span>&nbsp;<span class="op" id="8359865">&gt;=</span>&nbsp;<span class="num" id="8359868">100</span>&nbsp;<span class="op" id="8359872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359880">t</span><span class="op" id="8359881">.</span><span class="ident" id="8359882">Fatalf</span><span class="op" id="8359888">(</span><span class="string" id="8359889">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8359915">,</span>&nbsp;<span class="ident" id="8359917">nfail</span><span class="op" id="8359922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8359929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359936">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8359949">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8359954">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8359959">default</span><span class="op" id="8359966">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8359971">t</span><span class="op" id="8359972">.</span><span class="ident" id="8359973">Fatalf</span><span class="op" id="8359979">(</span><span class="string" id="8359980">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;%s\n&#34;</span><span class="op" id="8360006">,</span>&nbsp;<span class="ident" id="8360008">file</span><span class="op" id="8360012">,</span>&nbsp;<span class="ident" id="8360014">lineno</span><span class="op" id="8360020">,</span>&nbsp;<span class="ident" id="8360022">line</span><span class="op" id="8360026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8360030">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8360033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8360036">if</span>&nbsp;<span class="ident" id="8360039">err</span>&nbsp;<span class="op" id="8360043">:=</span>&nbsp;<span class="ident" id="8360046">scanner</span><span class="op" id="8360053">.</span><span class="ident" id="8360054">Err</span><span class="op" id="8360057">(</span><span class="op" id="8360058">)</span><span class="op" id="8360059">;</span>&nbsp;<span class="ident" id="8360061">err</span>&nbsp;<span class="op" id="8360065">!=</span>&nbsp;<span class="builtintype" id="8360068">nil</span>&nbsp;<span class="op" id="8360072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360076">t</span><span class="op" id="8360077">.</span><span class="ident" id="8360078">Fatalf</span><span class="op" id="8360084">(</span><span class="string" id="8360085">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="8360096">,</span>&nbsp;<span class="ident" id="8360098">file</span><span class="op" id="8360102">,</span>&nbsp;<span class="ident" id="8360104">lineno</span><span class="op" id="8360110">,</span>&nbsp;<span class="ident" id="8360112">err</span><span class="op" id="8360115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8360118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8360121">if</span>&nbsp;<span class="builtinfunc" id="8360124">len</span><span class="op" id="8360127">(</span><span class="ident" id="8360128">input</span><span class="op" id="8360133">)</span>&nbsp;<span class="op" id="8360135">!=</span>&nbsp;<span class="num" id="8360138">0</span>&nbsp;<span class="op" id="8360140">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360144">t</span><span class="op" id="8360145">.</span><span class="ident" id="8360146">Fatalf</span><span class="op" id="8360152">(</span><span class="string" id="8360153">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;at&nbsp;EOF&#34;</span><span class="op" id="8360202">,</span>&nbsp;<span class="ident" id="8360204">file</span><span class="op" id="8360208">,</span>&nbsp;<span class="ident" id="8360210">lineno</span><span class="op" id="8360216">,</span>&nbsp;<span class="builtinfunc" id="8360218">len</span><span class="op" id="8360221">(</span><span class="ident" id="8360222">input</span><span class="op" id="8360227">)</span><span class="op" id="8360228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8360231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360234">t</span><span class="op" id="8360235">.</span><span class="ident" id="8360236">Logf</span><span class="op" id="8360240">(</span><span class="string" id="8360241">&#34;%d&nbsp;cases&nbsp;tested&#34;</span><span class="op" id="8360258">,</span>&nbsp;<span class="ident" id="8360260">ncase</span><span class="op" id="8360265">)</span><br>
<span class="lineno"></span><span class="op" id="8360267">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="8360270">var</span>&nbsp;<span class="ident" id="8360274">run</span>&nbsp;<span class="op" id="8360278">=</span>&nbsp;<span class="op" id="8360280">[</span><span class="op" id="8360281">]</span><span class="keyword" id="8360282">func</span><span class="op" id="8360286">(</span><span class="op" id="8360287">*</span><span class="ident" id="8360288">Regexp</span><span class="op" id="8360294">,</span>&nbsp;<span class="op" id="8360296">*</span><span class="ident" id="8360297">Regexp</span><span class="op" id="8360303">,</span>&nbsp;<span class="builtintype" id="8360305">string</span><span class="op" id="8360311">)</span>&nbsp;<span class="op" id="8360313">(</span><span class="op" id="8360314">[</span><span class="op" id="8360315">]</span><span class="builtintype" id="8360316">int</span><span class="op" id="8360319">,</span>&nbsp;<span class="builtintype" id="8360321">string</span><span class="op" id="8360327">)</span><span class="op" id="8360328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360331">runFull</span><span class="op" id="8360338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360341">runPartial</span><span class="op" id="8360351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360354">runFullLongest</span><span class="op" id="8360368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360371">runPartialLongest</span><span class="op" id="8360388">,</span><br>
<span class="lineno">205</span><span class="op" id="8360390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8360393">func</span>&nbsp;<span class="ident" id="8360398">runFull</span><span class="op" id="8360405">(</span><span class="ident" id="8360406">re</span><span class="op" id="8360408">,</span>&nbsp;<span class="ident" id="8360410">refull</span>&nbsp;<span class="op" id="8360417">*</span><span class="ident" id="8360418">Regexp</span><span class="op" id="8360424">,</span>&nbsp;<span class="ident" id="8360426">text</span>&nbsp;<span class="builtintype" id="8360431">string</span><span class="op" id="8360437">)</span>&nbsp;<span class="op" id="8360439">(</span><span class="op" id="8360440">[</span><span class="op" id="8360441">]</span><span class="builtintype" id="8360442">int</span><span class="op" id="8360445">,</span>&nbsp;<span class="builtintype" id="8360447">string</span><span class="op" id="8360453">)</span>&nbsp;<span class="op" id="8360455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360458">refull</span><span class="op" id="8360464">.</span><span class="ident" id="8360465">longest</span>&nbsp;<span class="op" id="8360473">=</span>&nbsp;<span class="builtintype" id="8360475">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8360482">return</span>&nbsp;<span class="ident" id="8360489">refull</span><span class="op" id="8360495">.</span><span class="ident" id="8360496">FindStringSubmatchIndex</span><span class="op" id="8360519">(</span><span class="ident" id="8360520">text</span><span class="op" id="8360524">)</span><span class="op" id="8360525">,</span>&nbsp;<span class="string" id="8360527">&#34;[full]&#34;</span><br>
<span class="lineno">210</span><span class="op" id="8360536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8360539">func</span>&nbsp;<span class="ident" id="8360544">runPartial</span><span class="op" id="8360554">(</span><span class="ident" id="8360555">re</span><span class="op" id="8360557">,</span>&nbsp;<span class="ident" id="8360559">refull</span>&nbsp;<span class="op" id="8360566">*</span><span class="ident" id="8360567">Regexp</span><span class="op" id="8360573">,</span>&nbsp;<span class="ident" id="8360575">text</span>&nbsp;<span class="builtintype" id="8360580">string</span><span class="op" id="8360586">)</span>&nbsp;<span class="op" id="8360588">(</span><span class="op" id="8360589">[</span><span class="op" id="8360590">]</span><span class="builtintype" id="8360591">int</span><span class="op" id="8360594">,</span>&nbsp;<span class="builtintype" id="8360596">string</span><span class="op" id="8360602">)</span>&nbsp;<span class="op" id="8360604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360607">re</span><span class="op" id="8360609">.</span><span class="ident" id="8360610">longest</span>&nbsp;<span class="op" id="8360618">=</span>&nbsp;<span class="builtintype" id="8360620">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8360627">return</span>&nbsp;<span class="ident" id="8360634">re</span><span class="op" id="8360636">.</span><span class="ident" id="8360637">FindStringSubmatchIndex</span><span class="op" id="8360660">(</span><span class="ident" id="8360661">text</span><span class="op" id="8360665">)</span><span class="op" id="8360666">,</span>&nbsp;<span class="string" id="8360668">&#34;&#34;</span><br>
<span class="lineno">215</span><span class="op" id="8360671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8360674">func</span>&nbsp;<span class="ident" id="8360679">runFullLongest</span><span class="op" id="8360693">(</span><span class="ident" id="8360694">re</span><span class="op" id="8360696">,</span>&nbsp;<span class="ident" id="8360698">refull</span>&nbsp;<span class="op" id="8360705">*</span><span class="ident" id="8360706">Regexp</span><span class="op" id="8360712">,</span>&nbsp;<span class="ident" id="8360714">text</span>&nbsp;<span class="builtintype" id="8360719">string</span><span class="op" id="8360725">)</span>&nbsp;<span class="op" id="8360727">(</span><span class="op" id="8360728">[</span><span class="op" id="8360729">]</span><span class="builtintype" id="8360730">int</span><span class="op" id="8360733">,</span>&nbsp;<span class="builtintype" id="8360735">string</span><span class="op" id="8360741">)</span>&nbsp;<span class="op" id="8360743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360746">refull</span><span class="op" id="8360752">.</span><span class="ident" id="8360753">longest</span>&nbsp;<span class="op" id="8360761">=</span>&nbsp;<span class="builtintype" id="8360763">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8360769">return</span>&nbsp;<span class="ident" id="8360776">refull</span><span class="op" id="8360782">.</span><span class="ident" id="8360783">FindStringSubmatchIndex</span><span class="op" id="8360806">(</span><span class="ident" id="8360807">text</span><span class="op" id="8360811">)</span><span class="op" id="8360812">,</span>&nbsp;<span class="string" id="8360814">&#34;[full,longest]&#34;</span><br>
<span class="lineno">220</span><span class="op" id="8360831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8360834">func</span>&nbsp;<span class="ident" id="8360839">runPartialLongest</span><span class="op" id="8360856">(</span><span class="ident" id="8360857">re</span><span class="op" id="8360859">,</span>&nbsp;<span class="ident" id="8360861">refull</span>&nbsp;<span class="op" id="8360868">*</span><span class="ident" id="8360869">Regexp</span><span class="op" id="8360875">,</span>&nbsp;<span class="ident" id="8360877">text</span>&nbsp;<span class="builtintype" id="8360882">string</span><span class="op" id="8360888">)</span>&nbsp;<span class="op" id="8360890">(</span><span class="op" id="8360891">[</span><span class="op" id="8360892">]</span><span class="builtintype" id="8360893">int</span><span class="op" id="8360896">,</span>&nbsp;<span class="builtintype" id="8360898">string</span><span class="op" id="8360904">)</span>&nbsp;<span class="op" id="8360906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8360909">re</span><span class="op" id="8360911">.</span><span class="ident" id="8360912">longest</span>&nbsp;<span class="op" id="8360920">=</span>&nbsp;<span class="builtintype" id="8360922">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8360928">return</span>&nbsp;<span class="ident" id="8360935">re</span><span class="op" id="8360937">.</span><span class="ident" id="8360938">FindStringSubmatchIndex</span><span class="op" id="8360961">(</span><span class="ident" id="8360962">text</span><span class="op" id="8360966">)</span><span class="op" id="8360967">,</span>&nbsp;<span class="string" id="8360969">&#34;[longest]&#34;</span><br>
<span class="lineno">225</span><span class="op" id="8360981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8360984">var</span>&nbsp;<span class="ident" id="8360988">match</span>&nbsp;<span class="op" id="8360994">=</span>&nbsp;<span class="op" id="8360996">[</span><span class="op" id="8360997">]</span><span class="keyword" id="8360998">func</span><span class="op" id="8361002">(</span><span class="op" id="8361003">*</span><span class="ident" id="8361004">Regexp</span><span class="op" id="8361010">,</span>&nbsp;<span class="op" id="8361012">*</span><span class="ident" id="8361013">Regexp</span><span class="op" id="8361019">,</span>&nbsp;<span class="builtintype" id="8361021">string</span><span class="op" id="8361027">)</span>&nbsp;<span class="op" id="8361029">(</span><span class="builtintype" id="8361030">bool</span><span class="op" id="8361034">,</span>&nbsp;<span class="builtintype" id="8361036">string</span><span class="op" id="8361042">)</span><span class="op" id="8361043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361046">matchFull</span><span class="op" id="8361055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361058">matchPartial</span><span class="op" id="8361070">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361073">matchFullLongest</span><span class="op" id="8361089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361092">matchPartialLongest</span><span class="op" id="8361111">,</span><br>
<span class="lineno"></span><span class="op" id="8361113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8361116">func</span>&nbsp;<span class="ident" id="8361121">matchFull</span><span class="op" id="8361130">(</span><span class="ident" id="8361131">re</span><span class="op" id="8361133">,</span>&nbsp;<span class="ident" id="8361135">refull</span>&nbsp;<span class="op" id="8361142">*</span><span class="ident" id="8361143">Regexp</span><span class="op" id="8361149">,</span>&nbsp;<span class="ident" id="8361151">text</span>&nbsp;<span class="builtintype" id="8361156">string</span><span class="op" id="8361162">)</span>&nbsp;<span class="op" id="8361164">(</span><span class="builtintype" id="8361165">bool</span><span class="op" id="8361169">,</span>&nbsp;<span class="builtintype" id="8361171">string</span><span class="op" id="8361177">)</span>&nbsp;<span class="op" id="8361179">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361182">refull</span><span class="op" id="8361188">.</span><span class="ident" id="8361189">longest</span>&nbsp;<span class="op" id="8361197">=</span>&nbsp;<span class="builtintype" id="8361199">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361206">return</span>&nbsp;<span class="ident" id="8361213">refull</span><span class="op" id="8361219">.</span><span class="ident" id="8361220">MatchString</span><span class="op" id="8361231">(</span><span class="ident" id="8361232">text</span><span class="op" id="8361236">)</span><span class="op" id="8361237">,</span>&nbsp;<span class="string" id="8361239">&#34;[full]&#34;</span><br>
<span class="lineno"></span><span class="op" id="8361248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8361251">func</span>&nbsp;<span class="ident" id="8361256">matchPartial</span><span class="op" id="8361268">(</span><span class="ident" id="8361269">re</span><span class="op" id="8361271">,</span>&nbsp;<span class="ident" id="8361273">refull</span>&nbsp;<span class="op" id="8361280">*</span><span class="ident" id="8361281">Regexp</span><span class="op" id="8361287">,</span>&nbsp;<span class="ident" id="8361289">text</span>&nbsp;<span class="builtintype" id="8361294">string</span><span class="op" id="8361300">)</span>&nbsp;<span class="op" id="8361302">(</span><span class="builtintype" id="8361303">bool</span><span class="op" id="8361307">,</span>&nbsp;<span class="builtintype" id="8361309">string</span><span class="op" id="8361315">)</span>&nbsp;<span class="op" id="8361317">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361320">re</span><span class="op" id="8361322">.</span><span class="ident" id="8361323">longest</span>&nbsp;<span class="op" id="8361331">=</span>&nbsp;<span class="builtintype" id="8361333">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361340">return</span>&nbsp;<span class="ident" id="8361347">re</span><span class="op" id="8361349">.</span><span class="ident" id="8361350">MatchString</span><span class="op" id="8361361">(</span><span class="ident" id="8361362">text</span><span class="op" id="8361366">)</span><span class="op" id="8361367">,</span>&nbsp;<span class="string" id="8361369">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="8361372">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8361375">func</span>&nbsp;<span class="ident" id="8361380">matchFullLongest</span><span class="op" id="8361396">(</span><span class="ident" id="8361397">re</span><span class="op" id="8361399">,</span>&nbsp;<span class="ident" id="8361401">refull</span>&nbsp;<span class="op" id="8361408">*</span><span class="ident" id="8361409">Regexp</span><span class="op" id="8361415">,</span>&nbsp;<span class="ident" id="8361417">text</span>&nbsp;<span class="builtintype" id="8361422">string</span><span class="op" id="8361428">)</span>&nbsp;<span class="op" id="8361430">(</span><span class="builtintype" id="8361431">bool</span><span class="op" id="8361435">,</span>&nbsp;<span class="builtintype" id="8361437">string</span><span class="op" id="8361443">)</span>&nbsp;<span class="op" id="8361445">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361448">refull</span><span class="op" id="8361454">.</span><span class="ident" id="8361455">longest</span>&nbsp;<span class="op" id="8361463">=</span>&nbsp;<span class="builtintype" id="8361465">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361471">return</span>&nbsp;<span class="ident" id="8361478">refull</span><span class="op" id="8361484">.</span><span class="ident" id="8361485">MatchString</span><span class="op" id="8361496">(</span><span class="ident" id="8361497">text</span><span class="op" id="8361501">)</span><span class="op" id="8361502">,</span>&nbsp;<span class="string" id="8361504">&#34;[full,longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="8361521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8361524">func</span>&nbsp;<span class="ident" id="8361529">matchPartialLongest</span><span class="op" id="8361548">(</span><span class="ident" id="8361549">re</span><span class="op" id="8361551">,</span>&nbsp;<span class="ident" id="8361553">refull</span>&nbsp;<span class="op" id="8361560">*</span><span class="ident" id="8361561">Regexp</span><span class="op" id="8361567">,</span>&nbsp;<span class="ident" id="8361569">text</span>&nbsp;<span class="builtintype" id="8361574">string</span><span class="op" id="8361580">)</span>&nbsp;<span class="op" id="8361582">(</span><span class="builtintype" id="8361583">bool</span><span class="op" id="8361587">,</span>&nbsp;<span class="builtintype" id="8361589">string</span><span class="op" id="8361595">)</span>&nbsp;<span class="op" id="8361597">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361600">re</span><span class="op" id="8361602">.</span><span class="ident" id="8361603">longest</span>&nbsp;<span class="op" id="8361611">=</span>&nbsp;<span class="builtintype" id="8361613">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361619">return</span>&nbsp;<span class="ident" id="8361626">re</span><span class="op" id="8361628">.</span><span class="ident" id="8361629">MatchString</span><span class="op" id="8361640">(</span><span class="ident" id="8361641">text</span><span class="op" id="8361645">)</span><span class="op" id="8361646">,</span>&nbsp;<span class="string" id="8361648">&#34;[longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="8361660">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8361663">func</span>&nbsp;<span class="ident" id="8361668">isSingleBytes</span><span class="op" id="8361681">(</span><span class="ident" id="8361682">s</span>&nbsp;<span class="builtintype" id="8361684">string</span><span class="op" id="8361690">)</span>&nbsp;<span class="builtintype" id="8361692">bool</span>&nbsp;<span class="op" id="8361697">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361700">for</span>&nbsp;<span class="ident" id="8361704">_</span><span class="op" id="8361705">,</span>&nbsp;<span class="ident" id="8361707">c</span>&nbsp;<span class="op" id="8361709">:=</span>&nbsp;<span class="keyword" id="8361712">range</span>&nbsp;<span class="ident" id="8361718">s</span>&nbsp;<span class="op" id="8361720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361724">if</span>&nbsp;<span class="ident" id="8361727">c</span>&nbsp;<span class="op" id="8361729">&gt;=</span>&nbsp;<span class="ident" id="8361732">utf8</span><span class="op" id="8361736">.</span><span class="ident" id="8361737">RuneSelf</span>&nbsp;<span class="op" id="8361746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361751">return</span>&nbsp;<span class="builtintype" id="8361758">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8361766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8361769">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361772">return</span>&nbsp;<span class="builtintype" id="8361779">true</span><br>
<span class="lineno"></span><span class="op" id="8361784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8361787">func</span>&nbsp;<span class="ident" id="8361792">tryCompile</span><span class="op" id="8361802">(</span><span class="ident" id="8361803">s</span>&nbsp;<span class="builtintype" id="8361805">string</span><span class="op" id="8361811">)</span>&nbsp;<span class="op" id="8361813">(</span><span class="ident" id="8361814">re</span>&nbsp;<span class="op" id="8361817">*</span><span class="ident" id="8361818">Regexp</span><span class="op" id="8361824">,</span>&nbsp;<span class="ident" id="8361826">err</span>&nbsp;<span class="builtintype" id="8361830">error</span><span class="op" id="8361835">)</span>&nbsp;<span class="op" id="8361837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8361840">//&nbsp;Protect&nbsp;against&nbsp;panic&nbsp;during&nbsp;Compile.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361882">defer</span>&nbsp;<span class="keyword" id="8361888">func</span><span class="op" id="8361892">(</span><span class="op" id="8361893">)</span>&nbsp;<span class="op" id="8361895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361899">if</span>&nbsp;<span class="ident" id="8361902">r</span>&nbsp;<span class="op" id="8361904">:=</span>&nbsp;<span class="builtinfunc" id="8361907">recover</span><span class="op" id="8361914">(</span><span class="op" id="8361915">)</span><span class="op" id="8361916">;</span>&nbsp;<span class="ident" id="8361918">r</span>&nbsp;<span class="op" id="8361920">!=</span>&nbsp;<span class="builtintype" id="8361923">nil</span>&nbsp;<span class="op" id="8361927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8361932">err</span>&nbsp;<span class="op" id="8361936">=</span>&nbsp;<span class="ident" id="8361938">fmt</span><span class="op" id="8361941">.</span><span class="ident" id="8361942">Errorf</span><span class="op" id="8361948">(</span><span class="string" id="8361949">&#34;panic:&nbsp;%v&#34;</span><span class="op" id="8361960">,</span>&nbsp;<span class="ident" id="8361962">r</span><span class="op" id="8361963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8361967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8361970">}</span><span class="op" id="8361971">(</span><span class="op" id="8361972">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8361975">return</span>&nbsp;<span class="ident" id="8361982">Compile</span><span class="op" id="8361989">(</span><span class="ident" id="8361990">s</span><span class="op" id="8361991">)</span><br>
<span class="lineno"></span><span class="op" id="8361993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8361996">func</span>&nbsp;<span class="ident" id="8362001">parseResult</span><span class="op" id="8362012">(</span><span class="ident" id="8362013">t</span>&nbsp;<span class="op" id="8362015">*</span><span class="ident" id="8362016">testing</span><span class="op" id="8362023">.</span><span class="ident" id="8362024">T</span><span class="op" id="8362025">,</span>&nbsp;<span class="ident" id="8362027">file</span>&nbsp;<span class="builtintype" id="8362032">string</span><span class="op" id="8362038">,</span>&nbsp;<span class="ident" id="8362040">lineno</span>&nbsp;<span class="builtintype" id="8362047">int</span><span class="op" id="8362050">,</span>&nbsp;<span class="ident" id="8362052">res</span>&nbsp;<span class="builtintype" id="8362056">string</span><span class="op" id="8362062">)</span>&nbsp;<span class="op" id="8362064">[</span><span class="op" id="8362065">]</span><span class="builtintype" id="8362066">int</span>&nbsp;<span class="op" id="8362070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8362073">//&nbsp;A&nbsp;single&nbsp;-&nbsp;indicates&nbsp;no&nbsp;match.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362108">if</span>&nbsp;<span class="ident" id="8362111">res</span>&nbsp;<span class="op" id="8362115">==</span>&nbsp;<span class="string" id="8362118">&#34;-&#34;</span>&nbsp;<span class="op" id="8362122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362126">return</span>&nbsp;<span class="builtintype" id="8362133">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8362141">//&nbsp;Otherwise,&nbsp;a&nbsp;space-separated&nbsp;list&nbsp;of&nbsp;pairs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362189">n</span>&nbsp;<span class="op" id="8362191">:=</span>&nbsp;<span class="num" id="8362194">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362197">for</span>&nbsp;<span class="ident" id="8362201">j</span>&nbsp;<span class="op" id="8362203">:=</span>&nbsp;<span class="num" id="8362206">0</span><span class="op" id="8362207">;</span>&nbsp;<span class="ident" id="8362209">j</span>&nbsp;<span class="op" id="8362211">&lt;</span>&nbsp;<span class="builtinfunc" id="8362213">len</span><span class="op" id="8362216">(</span><span class="ident" id="8362217">res</span><span class="op" id="8362220">)</span><span class="op" id="8362221">;</span>&nbsp;<span class="ident" id="8362223">j</span><span class="op" id="8362224">++</span>&nbsp;<span class="op" id="8362227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362231">if</span>&nbsp;<span class="ident" id="8362234">res</span><span class="op" id="8362237">[</span><span class="ident" id="8362238">j</span><span class="op" id="8362239">]</span>&nbsp;<span class="op" id="8362241">==</span>&nbsp;<span class="string" id="8362244">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="8362248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362253">n</span><span class="op" id="8362254">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362262">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362265">out</span>&nbsp;<span class="op" id="8362269">:=</span>&nbsp;<span class="builtinfunc" id="8362272">make</span><span class="op" id="8362276">(</span><span class="op" id="8362277">[</span><span class="op" id="8362278">]</span><span class="builtintype" id="8362279">int</span><span class="op" id="8362282">,</span>&nbsp;<span class="num" id="8362284">2</span><span class="op" id="8362285">*</span><span class="ident" id="8362286">n</span><span class="op" id="8362287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362290">i</span>&nbsp;<span class="op" id="8362292">:=</span>&nbsp;<span class="num" id="8362295">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362298">n</span>&nbsp;<span class="op" id="8362300">=</span>&nbsp;<span class="num" id="8362302">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362305">for</span>&nbsp;<span class="ident" id="8362309">j</span>&nbsp;<span class="op" id="8362311">:=</span>&nbsp;<span class="num" id="8362314">0</span><span class="op" id="8362315">;</span>&nbsp;<span class="ident" id="8362317">j</span>&nbsp;<span class="op" id="8362319">&lt;=</span>&nbsp;<span class="builtinfunc" id="8362322">len</span><span class="op" id="8362325">(</span><span class="ident" id="8362326">res</span><span class="op" id="8362329">)</span><span class="op" id="8362330">;</span>&nbsp;<span class="ident" id="8362332">j</span><span class="op" id="8362333">++</span>&nbsp;<span class="op" id="8362336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362340">if</span>&nbsp;<span class="ident" id="8362343">j</span>&nbsp;<span class="op" id="8362345">==</span>&nbsp;<span class="builtinfunc" id="8362348">len</span><span class="op" id="8362351">(</span><span class="ident" id="8362352">res</span><span class="op" id="8362355">)</span>&nbsp;<span class="op" id="8362357">||</span>&nbsp;<span class="ident" id="8362360">res</span><span class="op" id="8362363">[</span><span class="ident" id="8362364">j</span><span class="op" id="8362365">]</span>&nbsp;<span class="op" id="8362367">==</span>&nbsp;<span class="string" id="8362370">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="8362374">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8362379">//&nbsp;Process&nbsp;a&nbsp;single&nbsp;pair.&nbsp;&nbsp;-&nbsp;means&nbsp;no&nbsp;submatch.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362430">pair</span>&nbsp;<span class="op" id="8362435">:=</span>&nbsp;<span class="ident" id="8362438">res</span><span class="op" id="8362441">[</span><span class="ident" id="8362442">i</span><span class="op" id="8362443">:</span><span class="ident" id="8362444">j</span><span class="op" id="8362445">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362450">if</span>&nbsp;<span class="ident" id="8362453">pair</span>&nbsp;<span class="op" id="8362458">==</span>&nbsp;<span class="string" id="8362461">&#34;-&#34;</span>&nbsp;<span class="op" id="8362465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362471">out</span><span class="op" id="8362474">[</span><span class="ident" id="8362475">n</span><span class="op" id="8362476">]</span>&nbsp;<span class="op" id="8362478">=</span>&nbsp;<span class="op" id="8362480">-</span><span class="num" id="8362481">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362487">out</span><span class="op" id="8362490">[</span><span class="ident" id="8362491">n</span><span class="op" id="8362492">+</span><span class="num" id="8362493">1</span><span class="op" id="8362494">]</span>&nbsp;<span class="op" id="8362496">=</span>&nbsp;<span class="op" id="8362498">-</span><span class="num" id="8362499">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362504">}</span>&nbsp;<span class="keyword" id="8362506">else</span>&nbsp;<span class="op" id="8362511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362517">k</span>&nbsp;<span class="op" id="8362519">:=</span>&nbsp;<span class="ident" id="8362522">strings</span><span class="op" id="8362529">.</span><span class="ident" id="8362530">Index</span><span class="op" id="8362535">(</span><span class="ident" id="8362536">pair</span><span class="op" id="8362540">,</span>&nbsp;<span class="string" id="8362542">&#34;-&#34;</span><span class="op" id="8362545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362551">if</span>&nbsp;<span class="ident" id="8362554">k</span>&nbsp;<span class="op" id="8362556">&lt;</span>&nbsp;<span class="num" id="8362558">0</span>&nbsp;<span class="op" id="8362560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362567">t</span><span class="op" id="8362568">.</span><span class="ident" id="8362569">Fatalf</span><span class="op" id="8362575">(</span><span class="string" id="8362576">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="8362600">,</span>&nbsp;<span class="ident" id="8362602">file</span><span class="op" id="8362606">,</span>&nbsp;<span class="ident" id="8362608">lineno</span><span class="op" id="8362614">,</span>&nbsp;<span class="ident" id="8362616">pair</span><span class="op" id="8362620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362626">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362632">lo</span><span class="op" id="8362634">,</span>&nbsp;<span class="ident" id="8362636">err1</span>&nbsp;<span class="op" id="8362641">:=</span>&nbsp;<span class="ident" id="8362644">strconv</span><span class="op" id="8362651">.</span><span class="ident" id="8362652">Atoi</span><span class="op" id="8362656">(</span><span class="ident" id="8362657">pair</span><span class="op" id="8362661">[</span><span class="op" id="8362662">:</span><span class="ident" id="8362663">k</span><span class="op" id="8362664">]</span><span class="op" id="8362665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362671">hi</span><span class="op" id="8362673">,</span>&nbsp;<span class="ident" id="8362675">err2</span>&nbsp;<span class="op" id="8362680">:=</span>&nbsp;<span class="ident" id="8362683">strconv</span><span class="op" id="8362690">.</span><span class="ident" id="8362691">Atoi</span><span class="op" id="8362695">(</span><span class="ident" id="8362696">pair</span><span class="op" id="8362700">[</span><span class="ident" id="8362701">k</span><span class="op" id="8362702">+</span><span class="num" id="8362703">1</span><span class="op" id="8362704">:</span><span class="op" id="8362705">]</span><span class="op" id="8362706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362712">if</span>&nbsp;<span class="ident" id="8362715">err1</span>&nbsp;<span class="op" id="8362720">!=</span>&nbsp;<span class="builtintype" id="8362723">nil</span>&nbsp;<span class="op" id="8362727">||</span>&nbsp;<span class="ident" id="8362730">err2</span>&nbsp;<span class="op" id="8362735">!=</span>&nbsp;<span class="builtintype" id="8362738">nil</span>&nbsp;<span class="op" id="8362742">||</span>&nbsp;<span class="ident" id="8362745">lo</span>&nbsp;<span class="op" id="8362748">&gt;</span>&nbsp;<span class="ident" id="8362750">hi</span>&nbsp;<span class="op" id="8362753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362760">t</span><span class="op" id="8362761">.</span><span class="ident" id="8362762">Fatalf</span><span class="op" id="8362768">(</span><span class="string" id="8362769">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="8362793">,</span>&nbsp;<span class="ident" id="8362795">file</span><span class="op" id="8362799">,</span>&nbsp;<span class="ident" id="8362801">lineno</span><span class="op" id="8362807">,</span>&nbsp;<span class="ident" id="8362809">pair</span><span class="op" id="8362813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362819">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362825">out</span><span class="op" id="8362828">[</span><span class="ident" id="8362829">n</span><span class="op" id="8362830">]</span>&nbsp;<span class="op" id="8362832">=</span>&nbsp;<span class="ident" id="8362834">lo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362841">out</span><span class="op" id="8362844">[</span><span class="ident" id="8362845">n</span><span class="op" id="8362846">+</span><span class="num" id="8362847">1</span><span class="op" id="8362848">]</span>&nbsp;<span class="op" id="8362850">=</span>&nbsp;<span class="ident" id="8362852">hi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362863">n</span>&nbsp;<span class="op" id="8362865">+=</span>&nbsp;<span class="num" id="8362868">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8362873">i</span>&nbsp;<span class="op" id="8362875">=</span>&nbsp;<span class="ident" id="8362877">j</span>&nbsp;<span class="op" id="8362879">+</span>&nbsp;<span class="num" id="8362881">1</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362891">return</span>&nbsp;<span class="ident" id="8362898">out</span><br>
<span class="lineno"></span><span class="op" id="8362902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="8362905">func</span>&nbsp;<span class="ident" id="8362910">same</span><span class="op" id="8362914">(</span><span class="ident" id="8362915">x</span><span class="op" id="8362916">,</span>&nbsp;<span class="ident" id="8362918">y</span>&nbsp;<span class="op" id="8362920">[</span><span class="op" id="8362921">]</span><span class="builtintype" id="8362922">int</span><span class="op" id="8362925">)</span>&nbsp;<span class="builtintype" id="8362927">bool</span>&nbsp;<span class="op" id="8362932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362935">if</span>&nbsp;<span class="builtinfunc" id="8362938">len</span><span class="op" id="8362941">(</span><span class="ident" id="8362942">x</span><span class="op" id="8362943">)</span>&nbsp;<span class="op" id="8362945">!=</span>&nbsp;<span class="builtinfunc" id="8362948">len</span><span class="op" id="8362951">(</span><span class="ident" id="8362952">y</span><span class="op" id="8362953">)</span>&nbsp;<span class="op" id="8362955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362959">return</span>&nbsp;<span class="builtintype" id="8362966">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8362973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8362976">for</span>&nbsp;<span class="ident" id="8362980">i</span><span class="op" id="8362981">,</span>&nbsp;<span class="ident" id="8362983">xi</span>&nbsp;<span class="op" id="8362986">:=</span>&nbsp;<span class="keyword" id="8362989">range</span>&nbsp;<span class="ident" id="8362995">x</span>&nbsp;<span class="op" id="8362997">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8363001">if</span>&nbsp;<span class="ident" id="8363004">xi</span>&nbsp;<span class="op" id="8363007">!=</span>&nbsp;<span class="ident" id="8363010">y</span><span class="op" id="8363011">[</span><span class="ident" id="8363012">i</span><span class="op" id="8363013">]</span>&nbsp;<span class="op" id="8363015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8363020">return</span>&nbsp;<span class="builtintype" id="8363027">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8363041">return</span>&nbsp;<span class="builtintype" id="8363048">true</span><br>
<span class="lineno">325</span><span class="op" id="8363053">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8363056">//&nbsp;TestFowler&nbsp;runs&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="8363113">//&nbsp;POSIX&nbsp;regular&nbsp;expression&nbsp;tests&nbsp;collected&nbsp;by&nbsp;Glenn&nbsp;Fowler</span><br>
<span class="lineno"></span><span class="comment" id="8363173">//&nbsp;at&nbsp;http://www2.research.att.com/~gsf/testregex/.</span><br>
<span class="lineno">330</span><span class="keyword" id="8363225">func</span>&nbsp;<span class="ident" id="8363230">TestFowler</span><span class="op" id="8363240">(</span><span class="ident" id="8363241">t</span>&nbsp;<span class="op" id="8363243">*</span><span class="ident" id="8363244">testing</span><span class="op" id="8363251">.</span><span class="ident" id="8363252">T</span><span class="op" id="8363253">)</span>&nbsp;<span class="op" id="8363255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8363258">files</span><span class="op" id="8363263">,</span>&nbsp;<span class="ident" id="8363265">err</span>&nbsp;<span class="op" id="8363269">:=</span>&nbsp;<span class="ident" id="8363272">filepath</span><span class="op" id="8363280">.</span><span class="ident" id="8363281">Glob</span><span class="op" id="8363285">(</span><span class="string" id="8363286">&#34;testdata/*.dat&#34;</span><span class="op" id="8363302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8363305">if</span>&nbsp;<span class="ident" id="8363308">err</span>&nbsp;<span class="op" id="8363312">!=</span>&nbsp;<span class="builtintype" id="8363315">nil</span>&nbsp;<span class="op" id="8363319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8363323">t</span><span class="op" id="8363324">.</span><span class="ident" id="8363325">Fatal</span><span class="op" id="8363330">(</span><span class="ident" id="8363331">err</span><span class="op" id="8363334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363337">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8363340">for</span>&nbsp;<span class="ident" id="8363344">_</span><span class="op" id="8363345">,</span>&nbsp;<span class="ident" id="8363347">file</span>&nbsp;<span class="op" id="8363352">:=</span>&nbsp;<span class="keyword" id="8363355">range</span>&nbsp;<span class="ident" id="8363361">files</span>&nbsp;<span class="op" id="8363367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8363371">t</span><span class="op" id="8363372">.</span><span class="ident" id="8363373">Log</span><span class="op" id="8363376">(</span><span class="ident" id="8363377">file</span><span class="op" id="8363381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8363385">testFowler</span><span class="op" id="8363395">(</span><span class="ident" id="8363396">t</span><span class="op" id="8363397">,</span>&nbsp;<span class="ident" id="8363399">file</span><span class="op" id="8363403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363406">}</span><br>
<span class="lineno"></span><span class="op" id="8363408">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="8363411">var</span>&nbsp;<span class="ident" id="8363415">notab</span>&nbsp;<span class="op" id="8363421">=</span>&nbsp;<span class="ident" id="8363423">MustCompilePOSIX</span><span class="op" id="8363439">(</span><span class="string" id="8363440">`[^\t]+`</span><span class="op" id="8363448">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8363451">func</span>&nbsp;<span class="ident" id="8363456">testFowler</span><span class="op" id="8363466">(</span><span class="ident" id="8363467">t</span>&nbsp;<span class="op" id="8363469">*</span><span class="ident" id="8363470">testing</span><span class="op" id="8363477">.</span><span class="ident" id="8363478">T</span><span class="op" id="8363479">,</span>&nbsp;<span class="ident" id="8363481">file</span>&nbsp;<span class="builtintype" id="8363486">string</span><span class="op" id="8363492">)</span>&nbsp;<span class="op" id="8363494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8363497">f</span><span class="op" id="8363498">,</span>&nbsp;<span class="ident" id="8363500">err</span>&nbsp;<span class="op" id="8363504">:=</span>&nbsp;<span class="ident" id="8363507">os</span><span class="op" id="8363509">.</span><span class="ident" id="8363510">Open</span><span class="op" id="8363514">(</span><span class="ident" id="8363515">file</span><span class="op" id="8363519">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8363522">if</span>&nbsp;<span class="ident" id="8363525">err</span>&nbsp;<span class="op" id="8363529">!=</span>&nbsp;<span class="builtintype" id="8363532">nil</span>&nbsp;<span class="op" id="8363536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8363540">t</span><span class="op" id="8363541">.</span><span class="ident" id="8363542">Error</span><span class="op" id="8363547">(</span><span class="ident" id="8363548">err</span><span class="op" id="8363551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8363555">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8363566">defer</span>&nbsp;<span class="ident" id="8363572">f</span><span class="op" id="8363573">.</span><span class="ident" id="8363574">Close</span><span class="op" id="8363579">(</span><span class="op" id="8363580">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8363583">b</span>&nbsp;<span class="op" id="8363585">:=</span>&nbsp;<span class="ident" id="8363588">bufio</span><span class="op" id="8363593">.</span><span class="ident" id="8363594">NewReader</span><span class="op" id="8363603">(</span><span class="ident" id="8363604">f</span><span class="op" id="8363605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8363608">lineno</span>&nbsp;<span class="op" id="8363615">:=</span>&nbsp;<span class="num" id="8363618">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8363621">lastRegexp</span>&nbsp;<span class="op" id="8363632">:=</span>&nbsp;<span class="string" id="8363635">&#34;&#34;</span><br>
<span class="lineno"></span><span class="ident" id="8363638">Reading</span><span class="op" id="8363645">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8363648">for</span>&nbsp;<span class="op" id="8363652">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8363656">lineno</span><span class="op" id="8363662">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8363667">line</span><span class="op" id="8363671">,</span>&nbsp;<span class="ident" id="8363673">err</span>&nbsp;<span class="op" id="8363677">:=</span>&nbsp;<span class="ident" id="8363680">b</span><span class="op" id="8363681">.</span><span class="ident" id="8363682">ReadString</span><span class="op" id="8363692">(</span><span class="string" id="8363693">&#39;\n&#39;</span><span class="op" id="8363697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8363701">if</span>&nbsp;<span class="ident" id="8363704">err</span>&nbsp;<span class="op" id="8363708">!=</span>&nbsp;<span class="builtintype" id="8363711">nil</span>&nbsp;<span class="op" id="8363715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8363720">if</span>&nbsp;<span class="ident" id="8363723">err</span>&nbsp;<span class="op" id="8363727">!=</span>&nbsp;<span class="ident" id="8363730">io</span><span class="op" id="8363732">.</span><span class="ident" id="8363733">EOF</span>&nbsp;<span class="op" id="8363737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8363743">t</span><span class="op" id="8363744">.</span><span class="ident" id="8363745">Errorf</span><span class="op" id="8363751">(</span><span class="string" id="8363752">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="8363763">,</span>&nbsp;<span class="ident" id="8363765">file</span><span class="op" id="8363769">,</span>&nbsp;<span class="ident" id="8363771">lineno</span><span class="op" id="8363777">,</span>&nbsp;<span class="ident" id="8363779">err</span><span class="op" id="8363782">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8363792">break</span>&nbsp;<span class="ident" id="8363798">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363808">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8363813">//&nbsp;http://www2.research.att.com/~gsf/man/man1/testregex.html</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8363876">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8363881">//&nbsp;INPUT&nbsp;FORMAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8363899">//&nbsp;&nbsp;&nbsp;Input&nbsp;lines&nbsp;may&nbsp;be&nbsp;blank,&nbsp;a&nbsp;comment&nbsp;beginning&nbsp;with&nbsp;#,&nbsp;or&nbsp;a&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8363970">//&nbsp;&nbsp;&nbsp;specification.&nbsp;A&nbsp;specification&nbsp;is&nbsp;five&nbsp;fields&nbsp;separated&nbsp;by&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364040">//&nbsp;&nbsp;&nbsp;or&nbsp;more&nbsp;tabs.&nbsp;NULL&nbsp;denotes&nbsp;the&nbsp;empty&nbsp;string&nbsp;and&nbsp;NIL&nbsp;denotes&nbsp;the</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364111">//&nbsp;&nbsp;&nbsp;0&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8364129">if</span>&nbsp;<span class="ident" id="8364132">line</span><span class="op" id="8364136">[</span><span class="num" id="8364137">0</span><span class="op" id="8364138">]</span>&nbsp;<span class="op" id="8364140">==</span>&nbsp;<span class="string" id="8364143">&#39;#&#39;</span>&nbsp;<span class="op" id="8364147">||</span>&nbsp;<span class="ident" id="8364150">line</span><span class="op" id="8364154">[</span><span class="num" id="8364155">0</span><span class="op" id="8364156">]</span>&nbsp;<span class="op" id="8364158">==</span>&nbsp;<span class="string" id="8364161">&#39;\n&#39;</span>&nbsp;<span class="op" id="8364166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8364171">continue</span>&nbsp;<span class="ident" id="8364180">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364190">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8364194">line</span>&nbsp;<span class="op" id="8364199">=</span>&nbsp;<span class="ident" id="8364201">line</span><span class="op" id="8364205">[</span><span class="op" id="8364206">:</span><span class="builtinfunc" id="8364207">len</span><span class="op" id="8364210">(</span><span class="ident" id="8364211">line</span><span class="op" id="8364215">)</span><span class="op" id="8364216">-</span><span class="num" id="8364217">1</span><span class="op" id="8364218">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8364222">field</span>&nbsp;<span class="op" id="8364228">:=</span>&nbsp;<span class="ident" id="8364231">notab</span><span class="op" id="8364236">.</span><span class="ident" id="8364237">FindAllString</span><span class="op" id="8364250">(</span><span class="ident" id="8364251">line</span><span class="op" id="8364255">,</span>&nbsp;<span class="op" id="8364257">-</span><span class="num" id="8364258">1</span><span class="op" id="8364259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8364263">for</span>&nbsp;<span class="ident" id="8364267">i</span><span class="op" id="8364268">,</span>&nbsp;<span class="ident" id="8364270">f</span>&nbsp;<span class="op" id="8364272">:=</span>&nbsp;<span class="keyword" id="8364275">range</span>&nbsp;<span class="ident" id="8364281">field</span>&nbsp;<span class="op" id="8364287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8364292">if</span>&nbsp;<span class="ident" id="8364295">f</span>&nbsp;<span class="op" id="8364297">==</span>&nbsp;<span class="string" id="8364300">&#34;NULL&#34;</span>&nbsp;<span class="op" id="8364307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8364313">field</span><span class="op" id="8364318">[</span><span class="ident" id="8364319">i</span><span class="op" id="8364320">]</span>&nbsp;<span class="op" id="8364322">=</span>&nbsp;<span class="string" id="8364324">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364330">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8364335">if</span>&nbsp;<span class="ident" id="8364338">f</span>&nbsp;<span class="op" id="8364340">==</span>&nbsp;<span class="string" id="8364343">&#34;NIL&#34;</span>&nbsp;<span class="op" id="8364349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8364355">t</span><span class="op" id="8364356">.</span><span class="ident" id="8364357">Logf</span><span class="op" id="8364361">(</span><span class="string" id="8364362">&#34;%s:%d:&nbsp;skip:&nbsp;%s&#34;</span><span class="op" id="8364379">,</span>&nbsp;<span class="ident" id="8364381">file</span><span class="op" id="8364385">,</span>&nbsp;<span class="ident" id="8364387">lineno</span><span class="op" id="8364393">,</span>&nbsp;<span class="ident" id="8364395">line</span><span class="op" id="8364399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8364405">continue</span>&nbsp;<span class="ident" id="8364414">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364429">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8364433">if</span>&nbsp;<span class="builtinfunc" id="8364436">len</span><span class="op" id="8364439">(</span><span class="ident" id="8364440">field</span><span class="op" id="8364445">)</span>&nbsp;<span class="op" id="8364447">==</span>&nbsp;<span class="num" id="8364450">0</span>&nbsp;<span class="op" id="8364452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8364457">continue</span>&nbsp;<span class="ident" id="8364466">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364481">//&nbsp;&nbsp;&nbsp;Field&nbsp;1:&nbsp;the&nbsp;regex(3)&nbsp;flags&nbsp;to&nbsp;apply,&nbsp;one&nbsp;character&nbsp;per&nbsp;REG_feature</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364556">//&nbsp;&nbsp;&nbsp;flag.&nbsp;The&nbsp;test&nbsp;is&nbsp;skipped&nbsp;if&nbsp;REG_feature&nbsp;is&nbsp;not&nbsp;supported&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364628">//&nbsp;&nbsp;&nbsp;implementation.&nbsp;If&nbsp;the&nbsp;first&nbsp;character&nbsp;is&nbsp;not&nbsp;[BEASKLP]&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364700">//&nbsp;&nbsp;&nbsp;specification&nbsp;is&nbsp;a&nbsp;global&nbsp;control&nbsp;line.&nbsp;One&nbsp;or&nbsp;more&nbsp;of&nbsp;[BEASKLP]&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364779">//&nbsp;&nbsp;&nbsp;specified;&nbsp;the&nbsp;test&nbsp;will&nbsp;be&nbsp;repeated&nbsp;for&nbsp;each&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364838">//</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364843">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;basic&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BRE&nbsp;&nbsp;&nbsp;&nbsp;(grep,&nbsp;ed,&nbsp;sed)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364883">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;REG_EXTENDED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ERE&nbsp;&nbsp;&nbsp;&nbsp;(egrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364921">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ARE&nbsp;&nbsp;&nbsp;&nbsp;(egrep&nbsp;with&nbsp;negation)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364973">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SRE&nbsp;&nbsp;&nbsp;&nbsp;(sh&nbsp;glob)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365009">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL|REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp;KRE&nbsp;&nbsp;&nbsp;&nbsp;(ksh&nbsp;glob)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365059">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;&nbsp;&nbsp;&nbsp;REG_LITERAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LRE&nbsp;&nbsp;&nbsp;&nbsp;(fgrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365095">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365100">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;REG_LEFT|REG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp;implicit&nbsp;^...$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365145">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;&nbsp;&nbsp;&nbsp;REG_NOTBOL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lhs&nbsp;does&nbsp;not&nbsp;match&nbsp;^</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365189">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbsp;REG_COMMENT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ignore&nbsp;space&nbsp;and&nbsp;#...\n</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365237">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL_DOT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicit&nbsp;leading&nbsp;.&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365288">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;&nbsp;&nbsp;&nbsp;REG_NOTEOL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rhs&nbsp;does&nbsp;not&nbsp;match&nbsp;$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365332">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;&nbsp;&nbsp;&nbsp;REG_MULTIPLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multiple&nbsp;\n&nbsp;separated&nbsp;patterns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365388">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;&nbsp;&nbsp;&nbsp;FNM_LEADING_DIR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;testfnmatch&nbsp;only&nbsp;--&nbsp;match&nbsp;until&nbsp;/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365450">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;&nbsp;&nbsp;&nbsp;REG_MULTIREF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multiple&nbsp;digit&nbsp;backref</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365498">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbsp;REG_ICASE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ignore&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365532">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;&nbsp;&nbsp;&nbsp;REG_SPAN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;matches&nbsp;\n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365566">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbsp;REG_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;to&nbsp;ecape&nbsp;[...]&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365616">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;&nbsp;&nbsp;&nbsp;REG_LEFT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365651">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;&nbsp;&nbsp;&nbsp;REG_MINIMAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minimal&nbsp;match</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365689">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbsp;REG_NEWLINE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicit&nbsp;\n&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365731">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;&nbsp;&nbsp;&nbsp;REG_ENCLOSED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&amp;)&nbsp;magic&nbsp;inside&nbsp;[@|&amp;](...)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365785">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL_PATH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicit&nbsp;/&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365829">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;&nbsp;&nbsp;&nbsp;REG_DELIMITED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delimited&nbsp;pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365873">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;&nbsp;&nbsp;&nbsp;REG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;implicit&nbsp;...$</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365909">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;&nbsp;&nbsp;REG_SHELL_ESCAPED&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;not&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8365952">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&nbsp;&nbsp;&nbsp;REG_MUSTDELIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;delimiters&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366011">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;&nbsp;&nbsp;&nbsp;standard&nbsp;unspecified&nbsp;behavior&nbsp;--&nbsp;errors&nbsp;not&nbsp;counted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366074">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;&nbsp;&nbsp;&nbsp;REG_CLASS_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;special&nbsp;inside&nbsp;[...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366125">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;&nbsp;&nbsp;&nbsp;REG_NOSUB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no&nbsp;subexpression&nbsp;match&nbsp;array</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366176">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;REG_LENIENT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;some&nbsp;errors&nbsp;slide</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366222">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&nbsp;&nbsp;REG_LEFT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regexec()&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366267">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;&nbsp;&nbsp;&nbsp;REG_NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NULL&nbsp;subexpressions&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366311">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand&nbsp;C&nbsp;\c&nbsp;escapes&nbsp;in&nbsp;fields&nbsp;2&nbsp;and&nbsp;3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366384">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;2&nbsp;is&nbsp;a&nbsp;regsubcomp()&nbsp;expression</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366456">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;is&nbsp;a&nbsp;regdecomp()&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366527">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366532">//&nbsp;&nbsp;&nbsp;Field&nbsp;1&nbsp;control&nbsp;lines:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366562">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366567">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set&nbsp;LC_COLLATE&nbsp;and&nbsp;LC_CTYPE&nbsp;to&nbsp;locale&nbsp;in&nbsp;field&nbsp;2</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366628">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366633">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;5&nbsp;if&nbsp;passed&nbsp;and&nbsp;!=&nbsp;EXPECTED,&nbsp;silent&nbsp;otherwise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366711">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;and&nbsp;previous&nbsp;passed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366776">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;passed&nbsp;and&nbsp;previous&nbsp;failed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366848">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;field&nbsp;2&nbsp;if&nbsp;previous&nbsp;failed</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366897">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{test&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;skip&nbsp;if&nbsp;failed&nbsp;until&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366939">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;of&nbsp;skip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366963">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8366968">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8367018">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:comment:test&nbsp;&nbsp;&nbsp;&nbsp;:comment:&nbsp;ignored</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8367059">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N[OTE]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp;comment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8367113">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T[EST]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8367145">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8367150">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;number&nbsp;for&nbsp;nmatch&nbsp;(20&nbsp;by&nbsp;default)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367205">flag</span>&nbsp;<span class="op" id="8367210">:=</span>&nbsp;<span class="ident" id="8367213">field</span><span class="op" id="8367218">[</span><span class="num" id="8367219">0</span><span class="op" id="8367220">]</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367224">switch</span>&nbsp;<span class="ident" id="8367231">flag</span><span class="op" id="8367235">[</span><span class="num" id="8367236">0</span><span class="op" id="8367237">]</span>&nbsp;<span class="op" id="8367239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367243">case</span>&nbsp;<span class="string" id="8367248">&#39;?&#39;</span><span class="op" id="8367251">,</span>&nbsp;<span class="string" id="8367253">&#39;&amp;&#39;</span><span class="op" id="8367256">,</span>&nbsp;<span class="string" id="8367258">&#39;|&#39;</span><span class="op" id="8367261">,</span>&nbsp;<span class="string" id="8367263">&#39;;&#39;</span><span class="op" id="8367266">,</span>&nbsp;<span class="string" id="8367268">&#39;{&#39;</span><span class="op" id="8367271">,</span>&nbsp;<span class="string" id="8367273">&#39;}&#39;</span><span class="op" id="8367276">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8367281">//&nbsp;Ignore&nbsp;all&nbsp;the&nbsp;control&nbsp;operators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8367321">//&nbsp;Just&nbsp;run&nbsp;everything.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367348">flag</span>&nbsp;<span class="op" id="8367353">=</span>&nbsp;<span class="ident" id="8367355">flag</span><span class="op" id="8367359">[</span><span class="num" id="8367360">1</span><span class="op" id="8367361">:</span><span class="op" id="8367362">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367367">if</span>&nbsp;<span class="ident" id="8367370">flag</span>&nbsp;<span class="op" id="8367375">==</span>&nbsp;<span class="string" id="8367378">&#34;&#34;</span>&nbsp;<span class="op" id="8367381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367387">continue</span>&nbsp;<span class="ident" id="8367396">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8367407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367411">case</span>&nbsp;<span class="string" id="8367416">&#39;:&#39;</span><span class="op" id="8367419">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367424">i</span>&nbsp;<span class="op" id="8367426">:=</span>&nbsp;<span class="ident" id="8367429">strings</span><span class="op" id="8367436">.</span><span class="ident" id="8367437">Index</span><span class="op" id="8367442">(</span><span class="ident" id="8367443">flag</span><span class="op" id="8367447">[</span><span class="num" id="8367448">1</span><span class="op" id="8367449">:</span><span class="op" id="8367450">]</span><span class="op" id="8367451">,</span>&nbsp;<span class="string" id="8367453">&#34;:&#34;</span><span class="op" id="8367456">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367461">if</span>&nbsp;<span class="ident" id="8367464">i</span>&nbsp;<span class="op" id="8367466">&lt;</span>&nbsp;<span class="num" id="8367468">0</span>&nbsp;<span class="op" id="8367470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367476">t</span><span class="op" id="8367477">.</span><span class="ident" id="8367478">Logf</span><span class="op" id="8367482">(</span><span class="string" id="8367483">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="8367493">,</span>&nbsp;<span class="ident" id="8367495">line</span><span class="op" id="8367499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367505">continue</span>&nbsp;<span class="ident" id="8367514">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8367525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367530">flag</span>&nbsp;<span class="op" id="8367535">=</span>&nbsp;<span class="ident" id="8367537">flag</span><span class="op" id="8367541">[</span><span class="num" id="8367542">1</span><span class="op" id="8367543">+</span><span class="ident" id="8367544">i</span><span class="op" id="8367545">+</span><span class="num" id="8367546">1</span><span class="op" id="8367547">:</span><span class="op" id="8367548">]</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367552">case</span>&nbsp;<span class="string" id="8367557">&#39;C&#39;</span><span class="op" id="8367560">,</span>&nbsp;<span class="string" id="8367562">&#39;N&#39;</span><span class="op" id="8367565">,</span>&nbsp;<span class="string" id="8367567">&#39;T&#39;</span><span class="op" id="8367570">,</span>&nbsp;<span class="string" id="8367572">&#39;0&#39;</span><span class="op" id="8367575">,</span>&nbsp;<span class="string" id="8367577">&#39;1&#39;</span><span class="op" id="8367580">,</span>&nbsp;<span class="string" id="8367582">&#39;2&#39;</span><span class="op" id="8367585">,</span>&nbsp;<span class="string" id="8367587">&#39;3&#39;</span><span class="op" id="8367590">,</span>&nbsp;<span class="string" id="8367592">&#39;4&#39;</span><span class="op" id="8367595">,</span>&nbsp;<span class="string" id="8367597">&#39;5&#39;</span><span class="op" id="8367600">,</span>&nbsp;<span class="string" id="8367602">&#39;6&#39;</span><span class="op" id="8367605">,</span>&nbsp;<span class="string" id="8367607">&#39;7&#39;</span><span class="op" id="8367610">,</span>&nbsp;<span class="string" id="8367612">&#39;8&#39;</span><span class="op" id="8367615">,</span>&nbsp;<span class="string" id="8367617">&#39;9&#39;</span><span class="op" id="8367620">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367625">t</span><span class="op" id="8367626">.</span><span class="ident" id="8367627">Logf</span><span class="op" id="8367631">(</span><span class="string" id="8367632">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="8367642">,</span>&nbsp;<span class="ident" id="8367644">line</span><span class="op" id="8367648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367653">continue</span>&nbsp;<span class="ident" id="8367662">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8367672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8367677">//&nbsp;Can&nbsp;check&nbsp;field&nbsp;count&nbsp;now&nbsp;that&nbsp;we&#39;ve&nbsp;handled&nbsp;the&nbsp;myriad&nbsp;comment&nbsp;formats.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367755">if</span>&nbsp;<span class="builtinfunc" id="8367758">len</span><span class="op" id="8367761">(</span><span class="ident" id="8367762">field</span><span class="op" id="8367767">)</span>&nbsp;<span class="op" id="8367769">&lt;</span>&nbsp;<span class="num" id="8367771">4</span>&nbsp;<span class="op" id="8367773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367778">t</span><span class="op" id="8367779">.</span><span class="ident" id="8367780">Errorf</span><span class="op" id="8367786">(</span><span class="string" id="8367787">&#34;%s:%d:&nbsp;too&nbsp;few&nbsp;fields:&nbsp;%s&#34;</span><span class="op" id="8367814">,</span>&nbsp;<span class="ident" id="8367816">file</span><span class="op" id="8367820">,</span>&nbsp;<span class="ident" id="8367822">lineno</span><span class="op" id="8367828">,</span>&nbsp;<span class="ident" id="8367830">line</span><span class="op" id="8367834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367839">continue</span>&nbsp;<span class="ident" id="8367848">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8367858">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8367863">//&nbsp;Expand&nbsp;C&nbsp;escapes&nbsp;(a.k.a.&nbsp;Go&nbsp;escapes).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367906">if</span>&nbsp;<span class="ident" id="8367909">strings</span><span class="op" id="8367916">.</span><span class="ident" id="8367917">Contains</span><span class="op" id="8367925">(</span><span class="ident" id="8367926">flag</span><span class="op" id="8367930">,</span>&nbsp;<span class="string" id="8367932">&#34;$&#34;</span><span class="op" id="8367935">)</span>&nbsp;<span class="op" id="8367937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367942">f</span>&nbsp;<span class="op" id="8367944">:=</span>&nbsp;<span class="string" id="8367947">`&#34;`</span>&nbsp;<span class="op" id="8367951">+</span>&nbsp;<span class="ident" id="8367953">field</span><span class="op" id="8367958">[</span><span class="num" id="8367959">1</span><span class="op" id="8367960">]</span>&nbsp;<span class="op" id="8367962">+</span>&nbsp;<span class="string" id="8367964">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367971">if</span>&nbsp;<span class="ident" id="8367974">field</span><span class="op" id="8367979">[</span><span class="num" id="8367980">1</span><span class="op" id="8367981">]</span><span class="op" id="8367982">,</span>&nbsp;<span class="ident" id="8367984">err</span>&nbsp;<span class="op" id="8367988">=</span>&nbsp;<span class="ident" id="8367990">strconv</span><span class="op" id="8367997">.</span><span class="ident" id="8367998">Unquote</span><span class="op" id="8368005">(</span><span class="ident" id="8368006">f</span><span class="op" id="8368007">)</span><span class="op" id="8368008">;</span>&nbsp;<span class="ident" id="8368010">err</span>&nbsp;<span class="op" id="8368014">!=</span>&nbsp;<span class="builtintype" id="8368017">nil</span>&nbsp;<span class="op" id="8368021">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8368027">t</span><span class="op" id="8368028">.</span><span class="ident" id="8368029">Errorf</span><span class="op" id="8368035">(</span><span class="string" id="8368036">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="8368062">,</span>&nbsp;<span class="ident" id="8368064">file</span><span class="op" id="8368068">,</span>&nbsp;<span class="ident" id="8368070">lineno</span><span class="op" id="8368076">,</span>&nbsp;<span class="ident" id="8368078">f</span><span class="op" id="8368079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8368084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8368089">f</span>&nbsp;<span class="op" id="8368091">=</span>&nbsp;<span class="string" id="8368093">`&#34;`</span>&nbsp;<span class="op" id="8368097">+</span>&nbsp;<span class="ident" id="8368099">field</span><span class="op" id="8368104">[</span><span class="num" id="8368105">2</span><span class="op" id="8368106">]</span>&nbsp;<span class="op" id="8368108">+</span>&nbsp;<span class="string" id="8368110">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8368117">if</span>&nbsp;<span class="ident" id="8368120">field</span><span class="op" id="8368125">[</span><span class="num" id="8368126">2</span><span class="op" id="8368127">]</span><span class="op" id="8368128">,</span>&nbsp;<span class="ident" id="8368130">err</span>&nbsp;<span class="op" id="8368134">=</span>&nbsp;<span class="ident" id="8368136">strconv</span><span class="op" id="8368143">.</span><span class="ident" id="8368144">Unquote</span><span class="op" id="8368151">(</span><span class="ident" id="8368152">f</span><span class="op" id="8368153">)</span><span class="op" id="8368154">;</span>&nbsp;<span class="ident" id="8368156">err</span>&nbsp;<span class="op" id="8368160">!=</span>&nbsp;<span class="builtintype" id="8368163">nil</span>&nbsp;<span class="op" id="8368167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8368173">t</span><span class="op" id="8368174">.</span><span class="ident" id="8368175">Errorf</span><span class="op" id="8368181">(</span><span class="string" id="8368182">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="8368208">,</span>&nbsp;<span class="ident" id="8368210">file</span><span class="op" id="8368214">,</span>&nbsp;<span class="ident" id="8368216">lineno</span><span class="op" id="8368222">,</span>&nbsp;<span class="ident" id="8368224">f</span><span class="op" id="8368225">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8368230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8368234">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8368239">//&nbsp;&nbsp;&nbsp;Field&nbsp;2:&nbsp;the&nbsp;regular&nbsp;expression&nbsp;pattern;&nbsp;SAME&nbsp;uses&nbsp;the&nbsp;pattern&nbsp;from</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8368314">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;previous&nbsp;specification.</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8368351">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8368356">if</span>&nbsp;<span class="ident" id="8368359">field</span><span class="op" id="8368364">[</span><span class="num" id="8368365">1</span><span class="op" id="8368366">]</span>&nbsp;<span class="op" id="8368368">==</span>&nbsp;<span class="string" id="8368371">&#34;SAME&#34;</span>&nbsp;<span class="op" id="8368378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8368383">field</span><span class="op" id="8368388">[</span><span class="num" id="8368389">1</span><span class="op" id="8368390">]</span>&nbsp;<span class="op" id="8368392">=</span>&nbsp;<span class="ident" id="8368394">lastRegexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8368407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8368411">lastRegexp</span>&nbsp;<span class="op" id="8368422">=</span>&nbsp;<span class="ident" id="8368424">field</span><span class="op" id="8368429">[</span><span class="num" id="8368430">1</span><span class="op" id="8368431">]</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8368436">//&nbsp;&nbsp;&nbsp;Field&nbsp;3:&nbsp;the&nbsp;string&nbsp;to&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8368473">text</span>&nbsp;<span class="op" id="8368478">:=</span>&nbsp;<span class="ident" id="8368481">field</span><span class="op" id="8368486">[</span><span class="num" id="8368487">2</span><span class="op" id="8368488">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8368493">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome...</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8368529">ok</span><span class="op" id="8368531">,</span>&nbsp;<span class="ident" id="8368533">shouldCompile</span><span class="op" id="8368546">,</span>&nbsp;<span class="ident" id="8368548">shouldMatch</span><span class="op" id="8368559">,</span>&nbsp;<span class="ident" id="8368561">pos</span>&nbsp;<span class="op" id="8368565">:=</span>&nbsp;<span class="ident" id="8368568">parseFowlerResult</span><span class="op" id="8368585">(</span><span class="ident" id="8368586">field</span><span class="op" id="8368591">[</span><span class="num" id="8368592">3</span><span class="op" id="8368593">]</span><span class="op" id="8368594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8368598">if</span>&nbsp;<span class="op" id="8368601">!</span><span class="ident" id="8368602">ok</span>&nbsp;<span class="op" id="8368605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8368610">t</span><span class="op" id="8368611">.</span><span class="ident" id="8368612">Errorf</span><span class="op" id="8368618">(</span><span class="string" id="8368619">&#34;%s:%d:&nbsp;cannot&nbsp;parse&nbsp;result&nbsp;%#q&#34;</span><span class="op" id="8368651">,</span>&nbsp;<span class="ident" id="8368653">file</span><span class="op" id="8368657">,</span>&nbsp;<span class="ident" id="8368659">lineno</span><span class="op" id="8368665">,</span>&nbsp;<span class="ident" id="8368667">field</span><span class="op" id="8368672">[</span><span class="num" id="8368673">3</span><span class="op" id="8368674">]</span><span class="op" id="8368675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8368680">continue</span>&nbsp;<span class="ident" id="8368689">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8368699">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8368704">//&nbsp;&nbsp;&nbsp;Field&nbsp;5:&nbsp;optional&nbsp;comment&nbsp;appended&nbsp;to&nbsp;the&nbsp;report.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8368761">Testing</span><span class="op" id="8368768">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8368772">//&nbsp;Run&nbsp;test&nbsp;once&nbsp;for&nbsp;each&nbsp;specified&nbsp;capital&nbsp;letter&nbsp;mode&nbsp;that&nbsp;we&nbsp;support.</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8368847">for</span>&nbsp;<span class="ident" id="8368851">_</span><span class="op" id="8368852">,</span>&nbsp;<span class="ident" id="8368854">c</span>&nbsp;<span class="op" id="8368856">:=</span>&nbsp;<span class="keyword" id="8368859">range</span>&nbsp;<span class="ident" id="8368865">flag</span>&nbsp;<span class="op" id="8368870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8368875">pattern</span>&nbsp;<span class="op" id="8368883">:=</span>&nbsp;<span class="ident" id="8368886">field</span><span class="op" id="8368891">[</span><span class="num" id="8368892">1</span><span class="op" id="8368893">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8368898">syn</span>&nbsp;<span class="op" id="8368902">:=</span>&nbsp;<span class="ident" id="8368905">syntax</span><span class="op" id="8368911">.</span><span class="ident" id="8368912">POSIX</span>&nbsp;<span class="op" id="8368918">|</span>&nbsp;<span class="ident" id="8368920">syntax</span><span class="op" id="8368926">.</span><span class="ident" id="8368927">ClassNL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8368938">switch</span>&nbsp;<span class="ident" id="8368945">c</span>&nbsp;<span class="op" id="8368947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8368952">default</span><span class="op" id="8368959">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8368965">continue</span>&nbsp;<span class="ident" id="8368974">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8368985">case</span>&nbsp;<span class="string" id="8368990">&#39;E&#39;</span><span class="op" id="8368993">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8368999">//&nbsp;extended&nbsp;regexp&nbsp;(what&nbsp;we&nbsp;support)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8369039">case</span>&nbsp;<span class="string" id="8369044">&#39;L&#39;</span><span class="op" id="8369047">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8369053">//&nbsp;literal</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8369068">pattern</span>&nbsp;<span class="op" id="8369076">=</span>&nbsp;<span class="ident" id="8369078">QuoteMeta</span><span class="op" id="8369087">(</span><span class="ident" id="8369088">pattern</span><span class="op" id="8369095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8369100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8369106">for</span>&nbsp;<span class="ident" id="8369110">_</span><span class="op" id="8369111">,</span>&nbsp;<span class="ident" id="8369113">c</span>&nbsp;<span class="op" id="8369115">:=</span>&nbsp;<span class="keyword" id="8369118">range</span>&nbsp;<span class="ident" id="8369124">flag</span>&nbsp;<span class="op" id="8369129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8369135">switch</span>&nbsp;<span class="ident" id="8369142">c</span>&nbsp;<span class="op" id="8369144">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8369150">case</span>&nbsp;<span class="string" id="8369155">&#39;i&#39;</span><span class="op" id="8369158">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8369165">syn</span>&nbsp;<span class="op" id="8369169">|=</span>&nbsp;<span class="ident" id="8369172">syntax</span><span class="op" id="8369178">.</span><span class="ident" id="8369179">FoldCase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8369192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8369197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8369203">re</span><span class="op" id="8369205">,</span>&nbsp;<span class="ident" id="8369207">err</span>&nbsp;<span class="op" id="8369211">:=</span>&nbsp;<span class="ident" id="8369214">compile</span><span class="op" id="8369221">(</span><span class="ident" id="8369222">pattern</span><span class="op" id="8369229">,</span>&nbsp;<span class="ident" id="8369231">syn</span><span class="op" id="8369234">,</span>&nbsp;<span class="builtintype" id="8369236">true</span><span class="op" id="8369240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8369245">if</span>&nbsp;<span class="ident" id="8369248">err</span>&nbsp;<span class="op" id="8369252">!=</span>&nbsp;<span class="builtintype" id="8369255">nil</span>&nbsp;<span class="op" id="8369259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8369265">if</span>&nbsp;<span class="ident" id="8369268">shouldCompile</span>&nbsp;<span class="op" id="8369282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8369289">t</span><span class="op" id="8369290">.</span><span class="ident" id="8369291">Errorf</span><span class="op" id="8369297">(</span><span class="string" id="8369298">&#34;%s:%d:&nbsp;%#q&nbsp;did&nbsp;not&nbsp;compile&#34;</span><span class="op" id="8369326">,</span>&nbsp;<span class="ident" id="8369328">file</span><span class="op" id="8369332">,</span>&nbsp;<span class="ident" id="8369334">lineno</span><span class="op" id="8369340">,</span>&nbsp;<span class="ident" id="8369342">pattern</span><span class="op" id="8369349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8369355">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8369361">continue</span>&nbsp;<span class="ident" id="8369370">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8369381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8369386">if</span>&nbsp;<span class="op" id="8369389">!</span><span class="ident" id="8369390">shouldCompile</span>&nbsp;<span class="op" id="8369404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8369410">t</span><span class="op" id="8369411">.</span><span class="ident" id="8369412">Errorf</span><span class="op" id="8369418">(</span><span class="string" id="8369419">&#34;%s:%d:&nbsp;%#q&nbsp;should&nbsp;not&nbsp;compile&#34;</span><span class="op" id="8369450">,</span>&nbsp;<span class="ident" id="8369452">file</span><span class="op" id="8369456">,</span>&nbsp;<span class="ident" id="8369458">lineno</span><span class="op" id="8369464">,</span>&nbsp;<span class="ident" id="8369466">pattern</span><span class="op" id="8369473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8369479">continue</span>&nbsp;<span class="ident" id="8369488">Testing</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8369499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8369504">match</span>&nbsp;<span class="op" id="8369510">:=</span>&nbsp;<span class="ident" id="8369513">re</span><span class="op" id="8369515">.</span><span class="ident" id="8369516">MatchString</span><span class="op" id="8369527">(</span><span class="ident" id="8369528">text</span><span class="op" id="8369532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8369537">if</span>&nbsp;<span class="ident" id="8369540">match</span>&nbsp;<span class="op" id="8369546">!=</span>&nbsp;<span class="ident" id="8369549">shouldMatch</span>&nbsp;<span class="op" id="8369561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8369567">t</span><span class="op" id="8369568">.</span><span class="ident" id="8369569">Errorf</span><span class="op" id="8369575">(</span><span class="string" id="8369576">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8369613">,</span>&nbsp;<span class="ident" id="8369615">file</span><span class="op" id="8369619">,</span>&nbsp;<span class="ident" id="8369621">lineno</span><span class="op" id="8369627">,</span>&nbsp;<span class="ident" id="8369629">pattern</span><span class="op" id="8369636">,</span>&nbsp;<span class="ident" id="8369638">text</span><span class="op" id="8369642">,</span>&nbsp;<span class="ident" id="8369644">match</span><span class="op" id="8369649">,</span>&nbsp;<span class="ident" id="8369651">shouldMatch</span><span class="op" id="8369662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8369668">continue</span>&nbsp;<span class="ident" id="8369677">Testing</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8369688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8369693">have</span>&nbsp;<span class="op" id="8369698">:=</span>&nbsp;<span class="ident" id="8369701">re</span><span class="op" id="8369703">.</span><span class="ident" id="8369704">FindStringSubmatchIndex</span><span class="op" id="8369727">(</span><span class="ident" id="8369728">text</span><span class="op" id="8369732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8369737">if</span>&nbsp;<span class="op" id="8369740">(</span><span class="builtinfunc" id="8369741">len</span><span class="op" id="8369744">(</span><span class="ident" id="8369745">have</span><span class="op" id="8369749">)</span>&nbsp;<span class="op" id="8369751">&gt;</span>&nbsp;<span class="num" id="8369753">0</span><span class="op" id="8369754">)</span>&nbsp;<span class="op" id="8369756">!=</span>&nbsp;<span class="ident" id="8369759">match</span>&nbsp;<span class="op" id="8369765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8369771">t</span><span class="op" id="8369772">.</span><span class="ident" id="8369773">Errorf</span><span class="op" id="8369779">(</span><span class="string" id="8369780">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;but&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="8369845">,</span>&nbsp;<span class="ident" id="8369847">file</span><span class="op" id="8369851">,</span>&nbsp;<span class="ident" id="8369853">lineno</span><span class="op" id="8369859">,</span>&nbsp;<span class="ident" id="8369861">pattern</span><span class="op" id="8369868">,</span>&nbsp;<span class="ident" id="8369870">text</span><span class="op" id="8369874">,</span>&nbsp;<span class="ident" id="8369876">match</span><span class="op" id="8369881">,</span>&nbsp;<span class="ident" id="8369883">pattern</span><span class="op" id="8369890">,</span>&nbsp;<span class="ident" id="8369892">text</span><span class="op" id="8369896">,</span>&nbsp;<span class="ident" id="8369898">have</span><span class="op" id="8369902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8369908">continue</span>&nbsp;<span class="ident" id="8369917">Testing</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8369928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8369933">if</span>&nbsp;<span class="builtinfunc" id="8369936">len</span><span class="op" id="8369939">(</span><span class="ident" id="8369940">have</span><span class="op" id="8369944">)</span>&nbsp;<span class="op" id="8369946">&gt;</span>&nbsp;<span class="builtinfunc" id="8369948">len</span><span class="op" id="8369951">(</span><span class="ident" id="8369952">pos</span><span class="op" id="8369955">)</span>&nbsp;<span class="op" id="8369957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8369963">have</span>&nbsp;<span class="op" id="8369968">=</span>&nbsp;<span class="ident" id="8369970">have</span><span class="op" id="8369974">[</span><span class="op" id="8369975">:</span><span class="builtinfunc" id="8369976">len</span><span class="op" id="8369979">(</span><span class="ident" id="8369980">pos</span><span class="op" id="8369983">)</span><span class="op" id="8369984">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8369989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8369994">if</span>&nbsp;<span class="op" id="8369997">!</span><span class="ident" id="8369998">same</span><span class="op" id="8370002">(</span><span class="ident" id="8370003">have</span><span class="op" id="8370007">,</span>&nbsp;<span class="ident" id="8370009">pos</span><span class="op" id="8370012">)</span>&nbsp;<span class="op" id="8370014">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8370020">t</span><span class="op" id="8370021">.</span><span class="ident" id="8370022">Errorf</span><span class="op" id="8370028">(</span><span class="string" id="8370029">&#34;%s:%d:&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8370078">,</span>&nbsp;<span class="ident" id="8370080">file</span><span class="op" id="8370084">,</span>&nbsp;<span class="ident" id="8370086">lineno</span><span class="op" id="8370092">,</span>&nbsp;<span class="ident" id="8370094">pattern</span><span class="op" id="8370101">,</span>&nbsp;<span class="ident" id="8370103">text</span><span class="op" id="8370107">,</span>&nbsp;<span class="ident" id="8370109">have</span><span class="op" id="8370113">,</span>&nbsp;<span class="ident" id="8370115">pos</span><span class="op" id="8370118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8370123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8370127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8370130">}</span><br>
<span class="lineno"></span><span class="op" id="8370132">}</span><br>
<span class="lineno">560</span><br>
<span class="lineno"></span><span class="keyword" id="8370135">func</span>&nbsp;<span class="ident" id="8370140">parseFowlerResult</span><span class="op" id="8370157">(</span><span class="ident" id="8370158">s</span>&nbsp;<span class="builtintype" id="8370160">string</span><span class="op" id="8370166">)</span>&nbsp;<span class="op" id="8370168">(</span><span class="ident" id="8370169">ok</span><span class="op" id="8370171">,</span>&nbsp;<span class="ident" id="8370173">compiled</span><span class="op" id="8370181">,</span>&nbsp;<span class="ident" id="8370183">matched</span>&nbsp;<span class="builtintype" id="8370191">bool</span><span class="op" id="8370195">,</span>&nbsp;<span class="ident" id="8370197">pos</span>&nbsp;<span class="op" id="8370201">[</span><span class="op" id="8370202">]</span><span class="builtintype" id="8370203">int</span><span class="op" id="8370206">)</span>&nbsp;<span class="op" id="8370208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8370211">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome.&nbsp;This&nbsp;is&nbsp;either&nbsp;one&nbsp;of&nbsp;the&nbsp;posix&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8370282">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codes&nbsp;(with&nbsp;REG_&nbsp;omitted)&nbsp;or&nbsp;the&nbsp;match&nbsp;array,&nbsp;a&nbsp;list&nbsp;of&nbsp;(m,n)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8370352">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries&nbsp;with&nbsp;m&nbsp;and&nbsp;n&nbsp;being&nbsp;first&nbsp;and&nbsp;last+1&nbsp;positions&nbsp;in&nbsp;the</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8370421">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;string,&nbsp;or&nbsp;NULL&nbsp;if&nbsp;REG_NOSUB&nbsp;is&nbsp;in&nbsp;effect&nbsp;and&nbsp;success</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8370491">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;expected.&nbsp;BADPAT&nbsp;is&nbsp;acceptable&nbsp;in&nbsp;place&nbsp;of&nbsp;any&nbsp;regcomp(3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8370560">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;code.&nbsp;The&nbsp;match[]&nbsp;array&nbsp;is&nbsp;initialized&nbsp;to&nbsp;(-2,-2)&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8370631">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;test.&nbsp;All&nbsp;array&nbsp;elements&nbsp;from&nbsp;0&nbsp;to&nbsp;nmatch-1&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8370706">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;outcome.&nbsp;Unspecified&nbsp;endpoints&nbsp;(offset&nbsp;-1)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;?.</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8370782">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unset&nbsp;endpoints&nbsp;(offset&nbsp;-2)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;X.&nbsp;{x}(o:n)&nbsp;denotes&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8370855">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matched&nbsp;(?{...})&nbsp;expression,&nbsp;where&nbsp;x&nbsp;is&nbsp;the&nbsp;text&nbsp;enclosed&nbsp;by&nbsp;{...},</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8370931">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;is&nbsp;the&nbsp;expression&nbsp;ordinal&nbsp;counting&nbsp;from&nbsp;1,&nbsp;and&nbsp;n&nbsp;is&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8371007">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;unmatched&nbsp;portion&nbsp;of&nbsp;the&nbsp;subject&nbsp;string.&nbsp;If&nbsp;x&nbsp;starts&nbsp;with&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8371079">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;then&nbsp;that&nbsp;is&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;re_execf(),&nbsp;otherwise&nbsp;0&nbsp;is</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8371154">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371172">switch</span>&nbsp;<span class="op" id="8371179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371182">case</span>&nbsp;<span class="ident" id="8371187">s</span>&nbsp;<span class="op" id="8371189">==</span>&nbsp;<span class="string" id="8371192">&#34;&#34;</span><span class="op" id="8371194">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8371198">//&nbsp;Match&nbsp;with&nbsp;no&nbsp;position&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371239">ok</span>&nbsp;<span class="op" id="8371242">=</span>&nbsp;<span class="builtintype" id="8371244">true</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371251">compiled</span>&nbsp;<span class="op" id="8371260">=</span>&nbsp;<span class="builtintype" id="8371262">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371269">matched</span>&nbsp;<span class="op" id="8371277">=</span>&nbsp;<span class="builtintype" id="8371279">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371286">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371294">case</span>&nbsp;<span class="ident" id="8371299">s</span>&nbsp;<span class="op" id="8371301">==</span>&nbsp;<span class="string" id="8371304">&#34;NOMATCH&#34;</span><span class="op" id="8371313">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8371317">//&nbsp;Match&nbsp;failure.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371337">ok</span>&nbsp;<span class="op" id="8371340">=</span>&nbsp;<span class="builtintype" id="8371342">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371349">compiled</span>&nbsp;<span class="op" id="8371358">=</span>&nbsp;<span class="builtintype" id="8371360">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371367">matched</span>&nbsp;<span class="op" id="8371375">=</span>&nbsp;<span class="builtintype" id="8371377">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371385">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371393">case</span>&nbsp;<span class="string" id="8371398">&#39;A&#39;</span>&nbsp;<span class="op" id="8371402">&lt;=</span>&nbsp;<span class="ident" id="8371405">s</span><span class="op" id="8371406">[</span><span class="num" id="8371407">0</span><span class="op" id="8371408">]</span>&nbsp;<span class="op" id="8371410">&amp;&amp;</span>&nbsp;<span class="ident" id="8371413">s</span><span class="op" id="8371414">[</span><span class="num" id="8371415">0</span><span class="op" id="8371416">]</span>&nbsp;<span class="op" id="8371418">&lt;=</span>&nbsp;<span class="string" id="8371421">&#39;Z&#39;</span><span class="op" id="8371424">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8371428">//&nbsp;All&nbsp;the&nbsp;other&nbsp;error&nbsp;codes&nbsp;are&nbsp;compile&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371479">ok</span>&nbsp;<span class="op" id="8371482">=</span>&nbsp;<span class="builtintype" id="8371484">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371491">compiled</span>&nbsp;<span class="op" id="8371500">=</span>&nbsp;<span class="builtintype" id="8371502">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371510">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8371518">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371521">compiled</span>&nbsp;<span class="op" id="8371530">=</span>&nbsp;<span class="builtintype" id="8371532">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371539">var</span>&nbsp;<span class="ident" id="8371543">x</span>&nbsp;<span class="op" id="8371545">[</span><span class="op" id="8371546">]</span><span class="builtintype" id="8371547">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371552">for</span>&nbsp;<span class="ident" id="8371556">s</span>&nbsp;<span class="op" id="8371558">!=</span>&nbsp;<span class="string" id="8371561">&#34;&#34;</span>&nbsp;<span class="op" id="8371564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371568">var</span>&nbsp;<span class="ident" id="8371572">end</span>&nbsp;<span class="builtintype" id="8371576">byte</span>&nbsp;<span class="op" id="8371581">=</span>&nbsp;<span class="string" id="8371583">&#39;)&#39;</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371589">if</span>&nbsp;<span class="builtinfunc" id="8371592">len</span><span class="op" id="8371595">(</span><span class="ident" id="8371596">x</span><span class="op" id="8371597">)</span><span class="op" id="8371598">%</span><span class="num" id="8371599">2</span>&nbsp;<span class="op" id="8371601">==</span>&nbsp;<span class="num" id="8371604">0</span>&nbsp;<span class="op" id="8371606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371611">if</span>&nbsp;<span class="ident" id="8371614">s</span><span class="op" id="8371615">[</span><span class="num" id="8371616">0</span><span class="op" id="8371617">]</span>&nbsp;<span class="op" id="8371619">!=</span>&nbsp;<span class="string" id="8371622">&#39;(&#39;</span>&nbsp;<span class="op" id="8371626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371632">ok</span>&nbsp;<span class="op" id="8371635">=</span>&nbsp;<span class="builtintype" id="8371637">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371647">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8371657">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371662">s</span>&nbsp;<span class="op" id="8371664">=</span>&nbsp;<span class="ident" id="8371666">s</span><span class="op" id="8371667">[</span><span class="num" id="8371668">1</span><span class="op" id="8371669">:</span><span class="op" id="8371670">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371675">end</span>&nbsp;<span class="op" id="8371679">=</span>&nbsp;<span class="string" id="8371681">&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8371687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371691">i</span>&nbsp;<span class="op" id="8371693">:=</span>&nbsp;<span class="num" id="8371696">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371700">for</span>&nbsp;<span class="ident" id="8371704">i</span>&nbsp;<span class="op" id="8371706">&lt;</span>&nbsp;<span class="builtinfunc" id="8371708">len</span><span class="op" id="8371711">(</span><span class="ident" id="8371712">s</span><span class="op" id="8371713">)</span>&nbsp;<span class="op" id="8371715">&amp;&amp;</span>&nbsp;<span class="ident" id="8371718">s</span><span class="op" id="8371719">[</span><span class="ident" id="8371720">i</span><span class="op" id="8371721">]</span>&nbsp;<span class="op" id="8371723">!=</span>&nbsp;<span class="ident" id="8371726">end</span>&nbsp;<span class="op" id="8371730">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371735">i</span><span class="op" id="8371736">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8371741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371745">if</span>&nbsp;<span class="ident" id="8371748">i</span>&nbsp;<span class="op" id="8371750">==</span>&nbsp;<span class="num" id="8371753">0</span>&nbsp;<span class="op" id="8371755">||</span>&nbsp;<span class="ident" id="8371758">i</span>&nbsp;<span class="op" id="8371760">==</span>&nbsp;<span class="builtinfunc" id="8371763">len</span><span class="op" id="8371766">(</span><span class="ident" id="8371767">s</span><span class="op" id="8371768">)</span>&nbsp;<span class="op" id="8371770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371775">ok</span>&nbsp;<span class="op" id="8371778">=</span>&nbsp;<span class="builtintype" id="8371780">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371789">return</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8371798">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371802">var</span>&nbsp;<span class="ident" id="8371806">v</span>&nbsp;<span class="op" id="8371808">=</span>&nbsp;<span class="op" id="8371810">-</span><span class="num" id="8371811">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371815">var</span>&nbsp;<span class="ident" id="8371819">err</span>&nbsp;<span class="builtintype" id="8371823">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371831">if</span>&nbsp;<span class="ident" id="8371834">s</span><span class="op" id="8371835">[</span><span class="op" id="8371836">:</span><span class="ident" id="8371837">i</span><span class="op" id="8371838">]</span>&nbsp;<span class="op" id="8371840">!=</span>&nbsp;<span class="string" id="8371843">&#34;?&#34;</span>&nbsp;<span class="op" id="8371847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371852">v</span><span class="op" id="8371853">,</span>&nbsp;<span class="ident" id="8371855">err</span>&nbsp;<span class="op" id="8371859">=</span>&nbsp;<span class="ident" id="8371861">strconv</span><span class="op" id="8371868">.</span><span class="ident" id="8371869">Atoi</span><span class="op" id="8371873">(</span><span class="ident" id="8371874">s</span><span class="op" id="8371875">[</span><span class="op" id="8371876">:</span><span class="ident" id="8371877">i</span><span class="op" id="8371878">]</span><span class="op" id="8371879">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371884">if</span>&nbsp;<span class="ident" id="8371887">err</span>&nbsp;<span class="op" id="8371891">!=</span>&nbsp;<span class="builtintype" id="8371894">nil</span>&nbsp;<span class="op" id="8371898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371904">ok</span>&nbsp;<span class="op" id="8371907">=</span>&nbsp;<span class="builtintype" id="8371909">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371919">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8371929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8371933">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371937">x</span>&nbsp;<span class="op" id="8371939">=</span>&nbsp;<span class="builtinfunc" id="8371941">append</span><span class="op" id="8371947">(</span><span class="ident" id="8371948">x</span><span class="op" id="8371949">,</span>&nbsp;<span class="ident" id="8371951">v</span><span class="op" id="8371952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371956">s</span>&nbsp;<span class="op" id="8371958">=</span>&nbsp;<span class="ident" id="8371960">s</span><span class="op" id="8371961">[</span><span class="ident" id="8371962">i</span><span class="op" id="8371963">+</span><span class="num" id="8371964">1</span><span class="op" id="8371965">:</span><span class="op" id="8371966">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8371969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8371972">if</span>&nbsp;<span class="builtinfunc" id="8371975">len</span><span class="op" id="8371978">(</span><span class="ident" id="8371979">x</span><span class="op" id="8371980">)</span><span class="op" id="8371981">%</span><span class="num" id="8371982">2</span>&nbsp;<span class="op" id="8371984">!=</span>&nbsp;<span class="num" id="8371987">0</span>&nbsp;<span class="op" id="8371989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8371993">ok</span>&nbsp;<span class="op" id="8371996">=</span>&nbsp;<span class="builtintype" id="8371998">false</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8372006">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8372014">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372017">ok</span>&nbsp;<span class="op" id="8372020">=</span>&nbsp;<span class="builtintype" id="8372022">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372028">matched</span>&nbsp;<span class="op" id="8372036">=</span>&nbsp;<span class="builtintype" id="8372038">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372044">pos</span>&nbsp;<span class="op" id="8372048">=</span>&nbsp;<span class="ident" id="8372050">x</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8372053">return</span><br>
<span class="lineno"></span><span class="op" id="8372060">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8372063">var</span>&nbsp;<span class="ident" id="8372067">text</span>&nbsp;<span class="op" id="8372072">[</span><span class="op" id="8372073">]</span><span class="builtintype" id="8372074">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno">640</span><span class="keyword" id="8372080">func</span>&nbsp;<span class="ident" id="8372085">makeText</span><span class="op" id="8372093">(</span><span class="ident" id="8372094">n</span>&nbsp;<span class="builtintype" id="8372096">int</span><span class="op" id="8372099">)</span>&nbsp;<span class="op" id="8372101">[</span><span class="op" id="8372102">]</span><span class="builtintype" id="8372103">byte</span>&nbsp;<span class="op" id="8372108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8372111">if</span>&nbsp;<span class="builtinfunc" id="8372114">len</span><span class="op" id="8372117">(</span><span class="ident" id="8372118">text</span><span class="op" id="8372122">)</span>&nbsp;<span class="op" id="8372124">&gt;=</span>&nbsp;<span class="ident" id="8372127">n</span>&nbsp;<span class="op" id="8372129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8372133">return</span>&nbsp;<span class="ident" id="8372140">text</span><span class="op" id="8372144">[</span><span class="op" id="8372145">:</span><span class="ident" id="8372146">n</span><span class="op" id="8372147">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8372150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372153">text</span>&nbsp;<span class="op" id="8372158">=</span>&nbsp;<span class="builtinfunc" id="8372160">make</span><span class="op" id="8372164">(</span><span class="op" id="8372165">[</span><span class="op" id="8372166">]</span><span class="builtintype" id="8372167">byte</span><span class="op" id="8372171">,</span>&nbsp;<span class="ident" id="8372173">n</span><span class="op" id="8372174">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372177">x</span>&nbsp;<span class="op" id="8372179">:=</span>&nbsp;<span class="op" id="8372182">^</span><span class="builtintype" id="8372183">uint32</span><span class="op" id="8372189">(</span><span class="num" id="8372190">0</span><span class="op" id="8372191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8372194">for</span>&nbsp;<span class="ident" id="8372198">i</span>&nbsp;<span class="op" id="8372200">:=</span>&nbsp;<span class="keyword" id="8372203">range</span>&nbsp;<span class="ident" id="8372209">text</span>&nbsp;<span class="op" id="8372214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372218">x</span>&nbsp;<span class="op" id="8372220">+=</span>&nbsp;<span class="ident" id="8372223">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372227">x</span>&nbsp;<span class="op" id="8372229">^=</span>&nbsp;<span class="num" id="8372232">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8372236">if</span>&nbsp;<span class="builtintype" id="8372239">int32</span><span class="op" id="8372244">(</span><span class="ident" id="8372245">x</span><span class="op" id="8372246">)</span>&nbsp;<span class="op" id="8372248">&lt;</span>&nbsp;<span class="num" id="8372250">0</span>&nbsp;<span class="op" id="8372252">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372257">x</span>&nbsp;<span class="op" id="8372259">^=</span>&nbsp;<span class="num" id="8372262">0x88888eef</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8372275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8372279">if</span>&nbsp;<span class="ident" id="8372282">x</span><span class="op" id="8372283">%</span><span class="num" id="8372284">31</span>&nbsp;<span class="op" id="8372287">==</span>&nbsp;<span class="num" id="8372290">0</span>&nbsp;<span class="op" id="8372292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372297">text</span><span class="op" id="8372301">[</span><span class="ident" id="8372302">i</span><span class="op" id="8372303">]</span>&nbsp;<span class="op" id="8372305">=</span>&nbsp;<span class="string" id="8372307">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8372314">}</span>&nbsp;<span class="keyword" id="8372316">else</span>&nbsp;<span class="op" id="8372321">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372326">text</span><span class="op" id="8372330">[</span><span class="ident" id="8372331">i</span><span class="op" id="8372332">]</span>&nbsp;<span class="op" id="8372334">=</span>&nbsp;<span class="builtintype" id="8372336">byte</span><span class="op" id="8372340">(</span><span class="ident" id="8372341">x</span><span class="op" id="8372342">%</span><span class="op" id="8372343">(</span><span class="num" id="8372344">0x7E</span><span class="op" id="8372348">+</span><span class="num" id="8372349">1</span><span class="op" id="8372350">-</span><span class="num" id="8372351">0x20</span><span class="op" id="8372355">)</span>&nbsp;<span class="op" id="8372357">+</span>&nbsp;<span class="num" id="8372359">0x20</span><span class="op" id="8372363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8372367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8372370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8372373">return</span>&nbsp;<span class="ident" id="8372380">text</span><br>
<span class="lineno"></span><span class="op" id="8372385">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="8372388">func</span>&nbsp;<span class="ident" id="8372393">benchmark</span><span class="op" id="8372402">(</span><span class="ident" id="8372403">b</span>&nbsp;<span class="op" id="8372405">*</span><span class="ident" id="8372406">testing</span><span class="op" id="8372413">.</span><span class="ident" id="8372414">B</span><span class="op" id="8372415">,</span>&nbsp;<span class="ident" id="8372417">re</span>&nbsp;<span class="builtintype" id="8372420">string</span><span class="op" id="8372426">,</span>&nbsp;<span class="ident" id="8372428">n</span>&nbsp;<span class="builtintype" id="8372430">int</span><span class="op" id="8372433">)</span>&nbsp;<span class="op" id="8372435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372438">r</span>&nbsp;<span class="op" id="8372440">:=</span>&nbsp;<span class="ident" id="8372443">MustCompile</span><span class="op" id="8372454">(</span><span class="ident" id="8372455">re</span><span class="op" id="8372457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372460">t</span>&nbsp;<span class="op" id="8372462">:=</span>&nbsp;<span class="ident" id="8372465">makeText</span><span class="op" id="8372473">(</span><span class="ident" id="8372474">n</span><span class="op" id="8372475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372478">b</span><span class="op" id="8372479">.</span><span class="ident" id="8372480">ResetTimer</span><span class="op" id="8372490">(</span><span class="op" id="8372491">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372494">b</span><span class="op" id="8372495">.</span><span class="ident" id="8372496">SetBytes</span><span class="op" id="8372504">(</span><span class="ident" id="8372505">int64</span><span class="op" id="8372510">(</span><span class="ident" id="8372511">n</span><span class="op" id="8372512">)</span><span class="op" id="8372513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8372516">for</span>&nbsp;<span class="ident" id="8372520">i</span>&nbsp;<span class="op" id="8372522">:=</span>&nbsp;<span class="num" id="8372525">0</span><span class="op" id="8372526">;</span>&nbsp;<span class="ident" id="8372528">i</span>&nbsp;<span class="op" id="8372530">&lt;</span>&nbsp;<span class="ident" id="8372532">b</span><span class="op" id="8372533">.</span><span class="ident" id="8372534">N</span><span class="op" id="8372535">;</span>&nbsp;<span class="ident" id="8372537">i</span><span class="op" id="8372538">++</span>&nbsp;<span class="op" id="8372541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8372545">if</span>&nbsp;<span class="ident" id="8372548">r</span><span class="op" id="8372549">.</span><span class="ident" id="8372550">Match</span><span class="op" id="8372555">(</span><span class="ident" id="8372556">t</span><span class="op" id="8372557">)</span>&nbsp;<span class="op" id="8372559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372564">b</span><span class="op" id="8372565">.</span><span class="ident" id="8372566">Fatal</span><span class="op" id="8372571">(</span><span class="string" id="8372572">&#34;match!&#34;</span><span class="op" id="8372580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8372584">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8372587">}</span><br>
<span class="lineno"></span><span class="op" id="8372589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8372592">const</span>&nbsp;<span class="op" id="8372598">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372601">easy0</span>&nbsp;&nbsp;<span class="op" id="8372608">=</span>&nbsp;<span class="string" id="8372610">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372641">easy1</span>&nbsp;&nbsp;<span class="op" id="8372648">=</span>&nbsp;<span class="string" id="8372650">&#34;A[AB]B[BC]C[CD]D[DE]E[EF]F[FG]G[GH]H[HI]I[IJ]J$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372701">medium</span>&nbsp;<span class="op" id="8372708">=</span>&nbsp;<span class="string" id="8372710">&#34;[XYZ]ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372746">hard</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8372753">=</span>&nbsp;<span class="string" id="8372755">&#34;[&nbsp;-~]*ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8372792">parens</span>&nbsp;<span class="op" id="8372799">=</span>&nbsp;<span class="string" id="8372801">&#34;([&nbsp;-~])*(A)(B)(C)(D)(E)(F)(G)(H)(I)(J)(K)(L)(M)&#34;</span>&nbsp;<span class="op" id="8372851">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8372855">&#34;(N)(O)(P)(Q)(R)(S)(T)(U)(V)(W)(X)(Y)(Z)$&#34;</span><br>
<span class="lineno">680</span><span class="op" id="8372898">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8372901">func</span>&nbsp;<span class="ident" id="8372906">BenchmarkMatchEasy0_32</span><span class="op" id="8372928">(</span><span class="ident" id="8372929">b</span>&nbsp;<span class="op" id="8372931">*</span><span class="ident" id="8372932">testing</span><span class="op" id="8372939">.</span><span class="ident" id="8372940">B</span><span class="op" id="8372941">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8372945">{</span>&nbsp;<span class="ident" id="8372947">benchmark</span><span class="op" id="8372956">(</span><span class="ident" id="8372957">b</span><span class="op" id="8372958">,</span>&nbsp;<span class="ident" id="8372960">easy0</span><span class="op" id="8372965">,</span>&nbsp;<span class="num" id="8372967">32</span><span class="op" id="8372969">&lt;&lt;</span><span class="num" id="8372971">0</span><span class="op" id="8372972">)</span>&nbsp;<span class="op" id="8372974">}</span><br>
<span class="lineno"></span><span class="keyword" id="8372976">func</span>&nbsp;<span class="ident" id="8372981">BenchmarkMatchEasy0_1K</span><span class="op" id="8373003">(</span><span class="ident" id="8373004">b</span>&nbsp;<span class="op" id="8373006">*</span><span class="ident" id="8373007">testing</span><span class="op" id="8373014">.</span><span class="ident" id="8373015">B</span><span class="op" id="8373016">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8373020">{</span>&nbsp;<span class="ident" id="8373022">benchmark</span><span class="op" id="8373031">(</span><span class="ident" id="8373032">b</span><span class="op" id="8373033">,</span>&nbsp;<span class="ident" id="8373035">easy0</span><span class="op" id="8373040">,</span>&nbsp;<span class="num" id="8373042">1</span><span class="op" id="8373043">&lt;&lt;</span><span class="num" id="8373045">10</span><span class="op" id="8373047">)</span>&nbsp;<span class="op" id="8373049">}</span><br>
<span class="lineno"></span><span class="keyword" id="8373051">func</span>&nbsp;<span class="ident" id="8373056">BenchmarkMatchEasy0_32K</span><span class="op" id="8373079">(</span><span class="ident" id="8373080">b</span>&nbsp;<span class="op" id="8373082">*</span><span class="ident" id="8373083">testing</span><span class="op" id="8373090">.</span><span class="ident" id="8373091">B</span><span class="op" id="8373092">)</span>&nbsp;&nbsp;<span class="op" id="8373095">{</span>&nbsp;<span class="ident" id="8373097">benchmark</span><span class="op" id="8373106">(</span><span class="ident" id="8373107">b</span><span class="op" id="8373108">,</span>&nbsp;<span class="ident" id="8373110">easy0</span><span class="op" id="8373115">,</span>&nbsp;<span class="num" id="8373117">32</span><span class="op" id="8373119">&lt;&lt;</span><span class="num" id="8373121">10</span><span class="op" id="8373123">)</span>&nbsp;<span class="op" id="8373125">}</span><br>
<span class="lineno">685</span><span class="keyword" id="8373127">func</span>&nbsp;<span class="ident" id="8373132">BenchmarkMatchEasy0_1M</span><span class="op" id="8373154">(</span><span class="ident" id="8373155">b</span>&nbsp;<span class="op" id="8373157">*</span><span class="ident" id="8373158">testing</span><span class="op" id="8373165">.</span><span class="ident" id="8373166">B</span><span class="op" id="8373167">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8373171">{</span>&nbsp;<span class="ident" id="8373173">benchmark</span><span class="op" id="8373182">(</span><span class="ident" id="8373183">b</span><span class="op" id="8373184">,</span>&nbsp;<span class="ident" id="8373186">easy0</span><span class="op" id="8373191">,</span>&nbsp;<span class="num" id="8373193">1</span><span class="op" id="8373194">&lt;&lt;</span><span class="num" id="8373196">20</span><span class="op" id="8373198">)</span>&nbsp;<span class="op" id="8373200">}</span><br>
<span class="lineno"></span><span class="keyword" id="8373202">func</span>&nbsp;<span class="ident" id="8373207">BenchmarkMatchEasy0_32M</span><span class="op" id="8373230">(</span><span class="ident" id="8373231">b</span>&nbsp;<span class="op" id="8373233">*</span><span class="ident" id="8373234">testing</span><span class="op" id="8373241">.</span><span class="ident" id="8373242">B</span><span class="op" id="8373243">)</span>&nbsp;&nbsp;<span class="op" id="8373246">{</span>&nbsp;<span class="ident" id="8373248">benchmark</span><span class="op" id="8373257">(</span><span class="ident" id="8373258">b</span><span class="op" id="8373259">,</span>&nbsp;<span class="ident" id="8373261">easy0</span><span class="op" id="8373266">,</span>&nbsp;<span class="num" id="8373268">32</span><span class="op" id="8373270">&lt;&lt;</span><span class="num" id="8373272">20</span><span class="op" id="8373274">)</span>&nbsp;<span class="op" id="8373276">}</span><br>
<span class="lineno"></span><span class="keyword" id="8373278">func</span>&nbsp;<span class="ident" id="8373283">BenchmarkMatchEasy1_32</span><span class="op" id="8373305">(</span><span class="ident" id="8373306">b</span>&nbsp;<span class="op" id="8373308">*</span><span class="ident" id="8373309">testing</span><span class="op" id="8373316">.</span><span class="ident" id="8373317">B</span><span class="op" id="8373318">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8373322">{</span>&nbsp;<span class="ident" id="8373324">benchmark</span><span class="op" id="8373333">(</span><span class="ident" id="8373334">b</span><span class="op" id="8373335">,</span>&nbsp;<span class="ident" id="8373337">easy1</span><span class="op" id="8373342">,</span>&nbsp;<span class="num" id="8373344">32</span><span class="op" id="8373346">&lt;&lt;</span><span class="num" id="8373348">0</span><span class="op" id="8373349">)</span>&nbsp;<span class="op" id="8373351">}</span><br>
<span class="lineno"></span><span class="keyword" id="8373353">func</span>&nbsp;<span class="ident" id="8373358">BenchmarkMatchEasy1_1K</span><span class="op" id="8373380">(</span><span class="ident" id="8373381">b</span>&nbsp;<span class="op" id="8373383">*</span><span class="ident" id="8373384">testing</span><span class="op" id="8373391">.</span><span class="ident" id="8373392">B</span><span class="op" id="8373393">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8373397">{</span>&nbsp;<span class="ident" id="8373399">benchmark</span><span class="op" id="8373408">(</span><span class="ident" id="8373409">b</span><span class="op" id="8373410">,</span>&nbsp;<span class="ident" id="8373412">easy1</span><span class="op" id="8373417">,</span>&nbsp;<span class="num" id="8373419">1</span><span class="op" id="8373420">&lt;&lt;</span><span class="num" id="8373422">10</span><span class="op" id="8373424">)</span>&nbsp;<span class="op" id="8373426">}</span><br>
<span class="lineno"></span><span class="keyword" id="8373428">func</span>&nbsp;<span class="ident" id="8373433">BenchmarkMatchEasy1_32K</span><span class="op" id="8373456">(</span><span class="ident" id="8373457">b</span>&nbsp;<span class="op" id="8373459">*</span><span class="ident" id="8373460">testing</span><span class="op" id="8373467">.</span><span class="ident" id="8373468">B</span><span class="op" id="8373469">)</span>&nbsp;&nbsp;<span class="op" id="8373472">{</span>&nbsp;<span class="ident" id="8373474">benchmark</span><span class="op" id="8373483">(</span><span class="ident" id="8373484">b</span><span class="op" id="8373485">,</span>&nbsp;<span class="ident" id="8373487">easy1</span><span class="op" id="8373492">,</span>&nbsp;<span class="num" id="8373494">32</span><span class="op" id="8373496">&lt;&lt;</span><span class="num" id="8373498">10</span><span class="op" id="8373500">)</span>&nbsp;<span class="op" id="8373502">}</span><br>
<span class="lineno">690</span><span class="keyword" id="8373504">func</span>&nbsp;<span class="ident" id="8373509">BenchmarkMatchEasy1_1M</span><span class="op" id="8373531">(</span><span class="ident" id="8373532">b</span>&nbsp;<span class="op" id="8373534">*</span><span class="ident" id="8373535">testing</span><span class="op" id="8373542">.</span><span class="ident" id="8373543">B</span><span class="op" id="8373544">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8373548">{</span>&nbsp;<span class="ident" id="8373550">benchmark</span><span class="op" id="8373559">(</span><span class="ident" id="8373560">b</span><span class="op" id="8373561">,</span>&nbsp;<span class="ident" id="8373563">easy1</span><span class="op" id="8373568">,</span>&nbsp;<span class="num" id="8373570">1</span><span class="op" id="8373571">&lt;&lt;</span><span class="num" id="8373573">20</span><span class="op" id="8373575">)</span>&nbsp;<span class="op" id="8373577">}</span><br>
<span class="lineno"></span><span class="keyword" id="8373579">func</span>&nbsp;<span class="ident" id="8373584">BenchmarkMatchEasy1_32M</span><span class="op" id="8373607">(</span><span class="ident" id="8373608">b</span>&nbsp;<span class="op" id="8373610">*</span><span class="ident" id="8373611">testing</span><span class="op" id="8373618">.</span><span class="ident" id="8373619">B</span><span class="op" id="8373620">)</span>&nbsp;&nbsp;<span class="op" id="8373623">{</span>&nbsp;<span class="ident" id="8373625">benchmark</span><span class="op" id="8373634">(</span><span class="ident" id="8373635">b</span><span class="op" id="8373636">,</span>&nbsp;<span class="ident" id="8373638">easy1</span><span class="op" id="8373643">,</span>&nbsp;<span class="num" id="8373645">32</span><span class="op" id="8373647">&lt;&lt;</span><span class="num" id="8373649">20</span><span class="op" id="8373651">)</span>&nbsp;<span class="op" id="8373653">}</span><br>
<span class="lineno"></span><span class="keyword" id="8373655">func</span>&nbsp;<span class="ident" id="8373660">BenchmarkMatchMedium_32</span><span class="op" id="8373683">(</span><span class="ident" id="8373684">b</span>&nbsp;<span class="op" id="8373686">*</span><span class="ident" id="8373687">testing</span><span class="op" id="8373694">.</span><span class="ident" id="8373695">B</span><span class="op" id="8373696">)</span>&nbsp;&nbsp;<span class="op" id="8373699">{</span>&nbsp;<span class="ident" id="8373701">benchmark</span><span class="op" id="8373710">(</span><span class="ident" id="8373711">b</span><span class="op" id="8373712">,</span>&nbsp;<span class="ident" id="8373714">medium</span><span class="op" id="8373720">,</span>&nbsp;<span class="num" id="8373722">32</span><span class="op" id="8373724">&lt;&lt;</span><span class="num" id="8373726">0</span><span class="op" id="8373727">)</span>&nbsp;<span class="op" id="8373729">}</span><br>
<span class="lineno"></span><span class="keyword" id="8373731">func</span>&nbsp;<span class="ident" id="8373736">BenchmarkMatchMedium_1K</span><span class="op" id="8373759">(</span><span class="ident" id="8373760">b</span>&nbsp;<span class="op" id="8373762">*</span><span class="ident" id="8373763">testing</span><span class="op" id="8373770">.</span><span class="ident" id="8373771">B</span><span class="op" id="8373772">)</span>&nbsp;&nbsp;<span class="op" id="8373775">{</span>&nbsp;<span class="ident" id="8373777">benchmark</span><span class="op" id="8373786">(</span><span class="ident" id="8373787">b</span><span class="op" id="8373788">,</span>&nbsp;<span class="ident" id="8373790">medium</span><span class="op" id="8373796">,</span>&nbsp;<span class="num" id="8373798">1</span><span class="op" id="8373799">&lt;&lt;</span><span class="num" id="8373801">10</span><span class="op" id="8373803">)</span>&nbsp;<span class="op" id="8373805">}</span><br>
<span class="lineno"></span><span class="keyword" id="8373807">func</span>&nbsp;<span class="ident" id="8373812">BenchmarkMatchMedium_32K</span><span class="op" id="8373836">(</span><span class="ident" id="8373837">b</span>&nbsp;<span class="op" id="8373839">*</span><span class="ident" id="8373840">testing</span><span class="op" id="8373847">.</span><span class="ident" id="8373848">B</span><span class="op" id="8373849">)</span>&nbsp;<span class="op" id="8373851">{</span>&nbsp;<span class="ident" id="8373853">benchmark</span><span class="op" id="8373862">(</span><span class="ident" id="8373863">b</span><span class="op" id="8373864">,</span>&nbsp;<span class="ident" id="8373866">medium</span><span class="op" id="8373872">,</span>&nbsp;<span class="num" id="8373874">32</span><span class="op" id="8373876">&lt;&lt;</span><span class="num" id="8373878">10</span><span class="op" id="8373880">)</span>&nbsp;<span class="op" id="8373882">}</span><br>
<span class="lineno">695</span><span class="keyword" id="8373884">func</span>&nbsp;<span class="ident" id="8373889">BenchmarkMatchMedium_1M</span><span class="op" id="8373912">(</span><span class="ident" id="8373913">b</span>&nbsp;<span class="op" id="8373915">*</span><span class="ident" id="8373916">testing</span><span class="op" id="8373923">.</span><span class="ident" id="8373924">B</span><span class="op" id="8373925">)</span>&nbsp;&nbsp;<span class="op" id="8373928">{</span>&nbsp;<span class="ident" id="8373930">benchmark</span><span class="op" id="8373939">(</span><span class="ident" id="8373940">b</span><span class="op" id="8373941">,</span>&nbsp;<span class="ident" id="8373943">medium</span><span class="op" id="8373949">,</span>&nbsp;<span class="num" id="8373951">1</span><span class="op" id="8373952">&lt;&lt;</span><span class="num" id="8373954">20</span><span class="op" id="8373956">)</span>&nbsp;<span class="op" id="8373958">}</span><br>
<span class="lineno"></span><span class="keyword" id="8373960">func</span>&nbsp;<span class="ident" id="8373965">BenchmarkMatchMedium_32M</span><span class="op" id="8373989">(</span><span class="ident" id="8373990">b</span>&nbsp;<span class="op" id="8373992">*</span><span class="ident" id="8373993">testing</span><span class="op" id="8374000">.</span><span class="ident" id="8374001">B</span><span class="op" id="8374002">)</span>&nbsp;<span class="op" id="8374004">{</span>&nbsp;<span class="ident" id="8374006">benchmark</span><span class="op" id="8374015">(</span><span class="ident" id="8374016">b</span><span class="op" id="8374017">,</span>&nbsp;<span class="ident" id="8374019">medium</span><span class="op" id="8374025">,</span>&nbsp;<span class="num" id="8374027">32</span><span class="op" id="8374029">&lt;&lt;</span><span class="num" id="8374031">20</span><span class="op" id="8374033">)</span>&nbsp;<span class="op" id="8374035">}</span><br>
<span class="lineno"></span><span class="keyword" id="8374037">func</span>&nbsp;<span class="ident" id="8374042">BenchmarkMatchHard_32</span><span class="op" id="8374063">(</span><span class="ident" id="8374064">b</span>&nbsp;<span class="op" id="8374066">*</span><span class="ident" id="8374067">testing</span><span class="op" id="8374074">.</span><span class="ident" id="8374075">B</span><span class="op" id="8374076">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8374081">{</span>&nbsp;<span class="ident" id="8374083">benchmark</span><span class="op" id="8374092">(</span><span class="ident" id="8374093">b</span><span class="op" id="8374094">,</span>&nbsp;<span class="ident" id="8374096">hard</span><span class="op" id="8374100">,</span>&nbsp;<span class="num" id="8374102">32</span><span class="op" id="8374104">&lt;&lt;</span><span class="num" id="8374106">0</span><span class="op" id="8374107">)</span>&nbsp;<span class="op" id="8374109">}</span><br>
<span class="lineno"></span><span class="keyword" id="8374111">func</span>&nbsp;<span class="ident" id="8374116">BenchmarkMatchHard_1K</span><span class="op" id="8374137">(</span><span class="ident" id="8374138">b</span>&nbsp;<span class="op" id="8374140">*</span><span class="ident" id="8374141">testing</span><span class="op" id="8374148">.</span><span class="ident" id="8374149">B</span><span class="op" id="8374150">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8374155">{</span>&nbsp;<span class="ident" id="8374157">benchmark</span><span class="op" id="8374166">(</span><span class="ident" id="8374167">b</span><span class="op" id="8374168">,</span>&nbsp;<span class="ident" id="8374170">hard</span><span class="op" id="8374174">,</span>&nbsp;<span class="num" id="8374176">1</span><span class="op" id="8374177">&lt;&lt;</span><span class="num" id="8374179">10</span><span class="op" id="8374181">)</span>&nbsp;<span class="op" id="8374183">}</span><br>
<span class="lineno"></span><span class="keyword" id="8374185">func</span>&nbsp;<span class="ident" id="8374190">BenchmarkMatchHard_32K</span><span class="op" id="8374212">(</span><span class="ident" id="8374213">b</span>&nbsp;<span class="op" id="8374215">*</span><span class="ident" id="8374216">testing</span><span class="op" id="8374223">.</span><span class="ident" id="8374224">B</span><span class="op" id="8374225">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8374229">{</span>&nbsp;<span class="ident" id="8374231">benchmark</span><span class="op" id="8374240">(</span><span class="ident" id="8374241">b</span><span class="op" id="8374242">,</span>&nbsp;<span class="ident" id="8374244">hard</span><span class="op" id="8374248">,</span>&nbsp;<span class="num" id="8374250">32</span><span class="op" id="8374252">&lt;&lt;</span><span class="num" id="8374254">10</span><span class="op" id="8374256">)</span>&nbsp;<span class="op" id="8374258">}</span><br>
<span class="lineno">700</span><span class="keyword" id="8374260">func</span>&nbsp;<span class="ident" id="8374265">BenchmarkMatchHard_1M</span><span class="op" id="8374286">(</span><span class="ident" id="8374287">b</span>&nbsp;<span class="op" id="8374289">*</span><span class="ident" id="8374290">testing</span><span class="op" id="8374297">.</span><span class="ident" id="8374298">B</span><span class="op" id="8374299">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8374304">{</span>&nbsp;<span class="ident" id="8374306">benchmark</span><span class="op" id="8374315">(</span><span class="ident" id="8374316">b</span><span class="op" id="8374317">,</span>&nbsp;<span class="ident" id="8374319">hard</span><span class="op" id="8374323">,</span>&nbsp;<span class="num" id="8374325">1</span><span class="op" id="8374326">&lt;&lt;</span><span class="num" id="8374328">20</span><span class="op" id="8374330">)</span>&nbsp;<span class="op" id="8374332">}</span><br>
<span class="lineno"></span><span class="keyword" id="8374334">func</span>&nbsp;<span class="ident" id="8374339">BenchmarkMatchHard_32M</span><span class="op" id="8374361">(</span><span class="ident" id="8374362">b</span>&nbsp;<span class="op" id="8374364">*</span><span class="ident" id="8374365">testing</span><span class="op" id="8374372">.</span><span class="ident" id="8374373">B</span><span class="op" id="8374374">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8374378">{</span>&nbsp;<span class="ident" id="8374380">benchmark</span><span class="op" id="8374389">(</span><span class="ident" id="8374390">b</span><span class="op" id="8374391">,</span>&nbsp;<span class="ident" id="8374393">hard</span><span class="op" id="8374397">,</span>&nbsp;<span class="num" id="8374399">32</span><span class="op" id="8374401">&lt;&lt;</span><span class="num" id="8374403">20</span><span class="op" id="8374405">)</span>&nbsp;<span class="op" id="8374407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8374410">func</span>&nbsp;<span class="ident" id="8374415">TestLongest</span><span class="op" id="8374426">(</span><span class="ident" id="8374427">t</span>&nbsp;<span class="op" id="8374429">*</span><span class="ident" id="8374430">testing</span><span class="op" id="8374437">.</span><span class="ident" id="8374438">T</span><span class="op" id="8374439">)</span>&nbsp;<span class="op" id="8374441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8374444">re</span><span class="op" id="8374446">,</span>&nbsp;<span class="ident" id="8374448">err</span>&nbsp;<span class="op" id="8374452">:=</span>&nbsp;<span class="ident" id="8374455">Compile</span><span class="op" id="8374462">(</span><span class="string" id="8374463">`a(|b)`</span><span class="op" id="8374470">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8374473">if</span>&nbsp;<span class="ident" id="8374476">err</span>&nbsp;<span class="op" id="8374480">!=</span>&nbsp;<span class="builtintype" id="8374483">nil</span>&nbsp;<span class="op" id="8374487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8374491">t</span><span class="op" id="8374492">.</span><span class="ident" id="8374493">Fatal</span><span class="op" id="8374498">(</span><span class="ident" id="8374499">err</span><span class="op" id="8374502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8374505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8374508">if</span>&nbsp;<span class="ident" id="8374511">g</span><span class="op" id="8374512">,</span>&nbsp;<span class="ident" id="8374514">w</span>&nbsp;<span class="op" id="8374516">:=</span>&nbsp;<span class="ident" id="8374519">re</span><span class="op" id="8374521">.</span><span class="ident" id="8374522">FindString</span><span class="op" id="8374532">(</span><span class="string" id="8374533">&#34;ab&#34;</span><span class="op" id="8374537">)</span><span class="op" id="8374538">,</span>&nbsp;<span class="string" id="8374540">&#34;a&#34;</span><span class="op" id="8374543">;</span>&nbsp;<span class="ident" id="8374545">g</span>&nbsp;<span class="op" id="8374547">!=</span>&nbsp;<span class="ident" id="8374550">w</span>&nbsp;<span class="op" id="8374552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8374556">t</span><span class="op" id="8374557">.</span><span class="ident" id="8374558">Errorf</span><span class="op" id="8374564">(</span><span class="string" id="8374565">&#34;first&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8374594">,</span>&nbsp;<span class="ident" id="8374596">g</span><span class="op" id="8374597">,</span>&nbsp;<span class="ident" id="8374599">w</span><span class="op" id="8374600">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8374603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8374606">re</span><span class="op" id="8374608">.</span><span class="ident" id="8374609">Longest</span><span class="op" id="8374616">(</span><span class="op" id="8374617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8374620">if</span>&nbsp;<span class="ident" id="8374623">g</span><span class="op" id="8374624">,</span>&nbsp;<span class="ident" id="8374626">w</span>&nbsp;<span class="op" id="8374628">:=</span>&nbsp;<span class="ident" id="8374631">re</span><span class="op" id="8374633">.</span><span class="ident" id="8374634">FindString</span><span class="op" id="8374644">(</span><span class="string" id="8374645">&#34;ab&#34;</span><span class="op" id="8374649">)</span><span class="op" id="8374650">,</span>&nbsp;<span class="string" id="8374652">&#34;ab&#34;</span><span class="op" id="8374656">;</span>&nbsp;<span class="ident" id="8374658">g</span>&nbsp;<span class="op" id="8374660">!=</span>&nbsp;<span class="ident" id="8374663">w</span>&nbsp;<span class="op" id="8374665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8374669">t</span><span class="op" id="8374670">.</span><span class="ident" id="8374671">Errorf</span><span class="op" id="8374677">(</span><span class="string" id="8374678">&#34;longest&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8374709">,</span>&nbsp;<span class="ident" id="8374711">g</span><span class="op" id="8374712">,</span>&nbsp;<span class="ident" id="8374714">w</span><span class="op" id="8374715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8374718">}</span><br>
<span class="lineno">715</span><span class="op" id="8374720">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
