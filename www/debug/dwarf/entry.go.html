<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5407612">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5407668">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5407722">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5407773">//&nbsp;DWARF&nbsp;debug&nbsp;information&nbsp;entry&nbsp;parser.</span><br>
<span class="lineno"></span><span class="comment" id="5407814">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;data&nbsp;items&nbsp;of&nbsp;a&nbsp;given&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="5407873">//&nbsp;The&nbsp;first&nbsp;word&nbsp;in&nbsp;the&nbsp;entry&nbsp;is&nbsp;an&nbsp;index&nbsp;into&nbsp;what&nbsp;DWARF</span><br>
<span class="lineno"></span><span class="comment" id="5407932">//&nbsp;calls&nbsp;the&nbsp;``abbreviation&nbsp;table.&#39;&#39;&nbsp;&nbsp;An&nbsp;abbreviation&nbsp;is&nbsp;really</span><br>
<span class="lineno"></span><span class="comment" id="5407996">//&nbsp;just&nbsp;a&nbsp;type&nbsp;descriptor:&nbsp;it&#39;s&nbsp;an&nbsp;array&nbsp;of&nbsp;attribute&nbsp;tag/value&nbsp;format&nbsp;pairs.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5408075">package</span>&nbsp;<span class="ident" id="5408083">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5408090">import</span>&nbsp;<span class="op" id="5408097">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5408100">&#34;errors&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5408110">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="5408120">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5408123">//&nbsp;a&nbsp;single&nbsp;entry&#39;s&nbsp;description:&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attributes</span><br>
<span class="lineno"></span><span class="keyword" id="5408181">type</span>&nbsp;<span class="ident" id="5408186">abbrev</span>&nbsp;<span class="keyword" id="5408193">struct</span>&nbsp;<span class="op" id="5408200">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408203">tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5408212">Tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408217">children</span>&nbsp;<span class="builtintype" id="5408226">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408232">field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5408241">[</span><span class="op" id="5408242">]</span><span class="ident" id="5408243">afield</span><br>
<span class="lineno"></span><span class="op" id="5408250">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="5408253">type</span>&nbsp;<span class="ident" id="5408258">afield</span>&nbsp;<span class="keyword" id="5408265">struct</span>&nbsp;<span class="op" id="5408272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408275">attr</span>&nbsp;<span class="ident" id="5408280">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408286">fmt</span>&nbsp;&nbsp;<span class="ident" id="5408291">format</span><br>
<span class="lineno"></span><span class="op" id="5408298">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5408301">//&nbsp;a&nbsp;map&nbsp;from&nbsp;entry&nbsp;format&nbsp;ids&nbsp;to&nbsp;their&nbsp;descriptions</span><br>
<span class="lineno"></span><span class="keyword" id="5408354">type</span>&nbsp;<span class="ident" id="5408359">abbrevTable</span>&nbsp;<span class="keyword" id="5408371">map</span><span class="op" id="5408374">[</span><span class="builtintype" id="5408375">uint32</span><span class="op" id="5408381">]</span><span class="ident" id="5408382">abbrev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5408390">//&nbsp;ParseAbbrev&nbsp;returns&nbsp;the&nbsp;abbreviation&nbsp;table&nbsp;that&nbsp;starts&nbsp;at&nbsp;byte&nbsp;off</span><br>
<span class="lineno"></span><span class="comment" id="5408460">//&nbsp;in&nbsp;the&nbsp;.debug_abbrev&nbsp;section.</span><br>
<span class="lineno">35</span><span class="keyword" id="5408493">func</span>&nbsp;<span class="op" id="5408498">(</span><span class="ident" id="5408499">d</span>&nbsp;<span class="op" id="5408501">*</span><span class="ident" id="5408502">Data</span><span class="op" id="5408506">)</span>&nbsp;<span class="ident" id="5408508">parseAbbrev</span><span class="op" id="5408519">(</span><span class="ident" id="5408520">off</span>&nbsp;<span class="builtintype" id="5408524">uint32</span><span class="op" id="5408530">)</span>&nbsp;<span class="op" id="5408532">(</span><span class="ident" id="5408533">abbrevTable</span><span class="op" id="5408544">,</span>&nbsp;<span class="builtintype" id="5408546">error</span><span class="op" id="5408551">)</span>&nbsp;<span class="op" id="5408553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5408556">if</span>&nbsp;<span class="ident" id="5408559">m</span><span class="op" id="5408560">,</span>&nbsp;<span class="ident" id="5408562">ok</span>&nbsp;<span class="op" id="5408565">:=</span>&nbsp;<span class="ident" id="5408568">d</span><span class="op" id="5408569">.</span><span class="ident" id="5408570">abbrevCache</span><span class="op" id="5408581">[</span><span class="ident" id="5408582">off</span><span class="op" id="5408585">]</span><span class="op" id="5408586">;</span>&nbsp;<span class="ident" id="5408588">ok</span>&nbsp;<span class="op" id="5408591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5408595">return</span>&nbsp;<span class="ident" id="5408602">m</span><span class="op" id="5408603">,</span>&nbsp;<span class="ident" id="5408605">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5408610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408614">data</span>&nbsp;<span class="op" id="5408619">:=</span>&nbsp;<span class="ident" id="5408622">d</span><span class="op" id="5408623">.</span><span class="ident" id="5408624">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5408632">if</span>&nbsp;<span class="ident" id="5408635">off</span>&nbsp;<span class="op" id="5408639">&gt;</span>&nbsp;<span class="builtintype" id="5408641">uint32</span><span class="op" id="5408647">(</span><span class="builtinfunc" id="5408648">len</span><span class="op" id="5408651">(</span><span class="ident" id="5408652">data</span><span class="op" id="5408656">)</span><span class="op" id="5408657">)</span>&nbsp;<span class="op" id="5408659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408663">data</span>&nbsp;<span class="op" id="5408668">=</span>&nbsp;<span class="ident" id="5408670">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5408675">}</span>&nbsp;<span class="keyword" id="5408677">else</span>&nbsp;<span class="op" id="5408682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408686">data</span>&nbsp;<span class="op" id="5408691">=</span>&nbsp;<span class="ident" id="5408693">data</span><span class="op" id="5408697">[</span><span class="ident" id="5408698">off</span><span class="op" id="5408701">:</span><span class="op" id="5408702">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5408705">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408708">b</span>&nbsp;<span class="op" id="5408710">:=</span>&nbsp;<span class="ident" id="5408713">makeBuf</span><span class="op" id="5408720">(</span><span class="ident" id="5408721">d</span><span class="op" id="5408722">,</span>&nbsp;<span class="ident" id="5408724">unknownFormat</span><span class="op" id="5408737">{</span><span class="op" id="5408738">}</span><span class="op" id="5408739">,</span>&nbsp;<span class="string" id="5408741">&#34;abbrev&#34;</span><span class="op" id="5408749">,</span>&nbsp;<span class="num" id="5408751">0</span><span class="op" id="5408752">,</span>&nbsp;<span class="ident" id="5408754">data</span><span class="op" id="5408758">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5408762">//&nbsp;Error&nbsp;handling&nbsp;is&nbsp;simplified&nbsp;by&nbsp;the&nbsp;buf&nbsp;getters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5408814">//&nbsp;returning&nbsp;an&nbsp;endless&nbsp;stream&nbsp;of&nbsp;0s&nbsp;after&nbsp;an&nbsp;error.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408868">m</span>&nbsp;<span class="op" id="5408870">:=</span>&nbsp;<span class="builtinfunc" id="5408873">make</span><span class="op" id="5408877">(</span><span class="ident" id="5408878">abbrevTable</span><span class="op" id="5408889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5408892">for</span>&nbsp;<span class="op" id="5408896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5408900">//&nbsp;Table&nbsp;ends&nbsp;with&nbsp;id&nbsp;==&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5408930">id</span>&nbsp;<span class="op" id="5408933">:=</span>&nbsp;<span class="builtintype" id="5408936">uint32</span><span class="op" id="5408942">(</span><span class="ident" id="5408943">b</span><span class="op" id="5408944">.</span><span class="builtintype" id="5408945">uint</span><span class="op" id="5408949">(</span><span class="op" id="5408950">)</span><span class="op" id="5408951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5408955">if</span>&nbsp;<span class="ident" id="5408958">id</span>&nbsp;<span class="op" id="5408961">==</span>&nbsp;<span class="num" id="5408964">0</span>&nbsp;<span class="op" id="5408966">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5408971">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5408979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5408984">//&nbsp;Walk&nbsp;over&nbsp;attributes,&nbsp;counting.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409021">n</span>&nbsp;<span class="op" id="5409023">:=</span>&nbsp;<span class="num" id="5409026">0</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409030">b1</span>&nbsp;<span class="op" id="5409033">:=</span>&nbsp;<span class="ident" id="5409036">b</span>&nbsp;<span class="comment" id="5409038">//&nbsp;Read&nbsp;from&nbsp;copy&nbsp;of&nbsp;b.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409064">b1</span><span class="op" id="5409066">.</span><span class="builtintype" id="5409067">uint</span><span class="op" id="5409071">(</span><span class="op" id="5409072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409076">b1</span><span class="op" id="5409078">.</span><span class="builtintype" id="5409079">uint8</span><span class="op" id="5409084">(</span><span class="op" id="5409085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409089">for</span>&nbsp;<span class="op" id="5409093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409098">tag</span>&nbsp;<span class="op" id="5409102">:=</span>&nbsp;<span class="ident" id="5409105">b1</span><span class="op" id="5409107">.</span><span class="builtintype" id="5409108">uint</span><span class="op" id="5409112">(</span><span class="op" id="5409113">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409118">fmt</span>&nbsp;<span class="op" id="5409122">:=</span>&nbsp;<span class="ident" id="5409125">b1</span><span class="op" id="5409127">.</span><span class="builtintype" id="5409128">uint</span><span class="op" id="5409132">(</span><span class="op" id="5409133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409138">if</span>&nbsp;<span class="ident" id="5409141">tag</span>&nbsp;<span class="op" id="5409145">==</span>&nbsp;<span class="num" id="5409148">0</span>&nbsp;<span class="op" id="5409150">&amp;&amp;</span>&nbsp;<span class="ident" id="5409153">fmt</span>&nbsp;<span class="op" id="5409157">==</span>&nbsp;<span class="num" id="5409160">0</span>&nbsp;<span class="op" id="5409162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409168">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5409177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409182">n</span><span class="op" id="5409183">++</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5409188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409192">if</span>&nbsp;<span class="ident" id="5409195">b1</span><span class="op" id="5409197">.</span><span class="ident" id="5409198">err</span>&nbsp;<span class="op" id="5409202">!=</span>&nbsp;<span class="ident" id="5409205">nil</span>&nbsp;<span class="op" id="5409209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409214">return</span>&nbsp;<span class="ident" id="5409221">nil</span><span class="op" id="5409224">,</span>&nbsp;<span class="ident" id="5409226">b1</span><span class="op" id="5409228">.</span><span class="ident" id="5409229">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5409235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5409240">//&nbsp;Walk&nbsp;over&nbsp;attributes&nbsp;again,&nbsp;this&nbsp;time&nbsp;writing&nbsp;them&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409302">var</span>&nbsp;<span class="ident" id="5409306">a</span>&nbsp;<span class="ident" id="5409308">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409317">a</span><span class="op" id="5409318">.</span><span class="ident" id="5409319">tag</span>&nbsp;<span class="op" id="5409323">=</span>&nbsp;<span class="ident" id="5409325">Tag</span><span class="op" id="5409328">(</span><span class="ident" id="5409329">b</span><span class="op" id="5409330">.</span><span class="builtintype" id="5409331">uint</span><span class="op" id="5409335">(</span><span class="op" id="5409336">)</span><span class="op" id="5409337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409341">a</span><span class="op" id="5409342">.</span><span class="ident" id="5409343">children</span>&nbsp;<span class="op" id="5409352">=</span>&nbsp;<span class="ident" id="5409354">b</span><span class="op" id="5409355">.</span><span class="builtintype" id="5409356">uint8</span><span class="op" id="5409361">(</span><span class="op" id="5409362">)</span>&nbsp;<span class="op" id="5409364">!=</span>&nbsp;<span class="num" id="5409367">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409371">a</span><span class="op" id="5409372">.</span><span class="ident" id="5409373">field</span>&nbsp;<span class="op" id="5409379">=</span>&nbsp;<span class="builtinfunc" id="5409381">make</span><span class="op" id="5409385">(</span><span class="op" id="5409386">[</span><span class="op" id="5409387">]</span><span class="ident" id="5409388">afield</span><span class="op" id="5409394">,</span>&nbsp;<span class="ident" id="5409396">n</span><span class="op" id="5409397">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409401">for</span>&nbsp;<span class="ident" id="5409405">i</span>&nbsp;<span class="op" id="5409407">:=</span>&nbsp;<span class="keyword" id="5409410">range</span>&nbsp;<span class="ident" id="5409416">a</span><span class="op" id="5409417">.</span><span class="ident" id="5409418">field</span>&nbsp;<span class="op" id="5409424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409429">a</span><span class="op" id="5409430">.</span><span class="ident" id="5409431">field</span><span class="op" id="5409436">[</span><span class="ident" id="5409437">i</span><span class="op" id="5409438">]</span><span class="op" id="5409439">.</span><span class="ident" id="5409440">attr</span>&nbsp;<span class="op" id="5409445">=</span>&nbsp;<span class="ident" id="5409447">Attr</span><span class="op" id="5409451">(</span><span class="ident" id="5409452">b</span><span class="op" id="5409453">.</span><span class="builtintype" id="5409454">uint</span><span class="op" id="5409458">(</span><span class="op" id="5409459">)</span><span class="op" id="5409460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409465">a</span><span class="op" id="5409466">.</span><span class="ident" id="5409467">field</span><span class="op" id="5409472">[</span><span class="ident" id="5409473">i</span><span class="op" id="5409474">]</span><span class="op" id="5409475">.</span><span class="ident" id="5409476">fmt</span>&nbsp;<span class="op" id="5409480">=</span>&nbsp;<span class="ident" id="5409482">format</span><span class="op" id="5409488">(</span><span class="ident" id="5409489">b</span><span class="op" id="5409490">.</span><span class="builtintype" id="5409491">uint</span><span class="op" id="5409495">(</span><span class="op" id="5409496">)</span><span class="op" id="5409497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5409501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409505">b</span><span class="op" id="5409506">.</span><span class="builtintype" id="5409507">uint</span><span class="op" id="5409511">(</span><span class="op" id="5409512">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409516">b</span><span class="op" id="5409517">.</span><span class="builtintype" id="5409518">uint</span><span class="op" id="5409522">(</span><span class="op" id="5409523">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409528">m</span><span class="op" id="5409529">[</span><span class="ident" id="5409530">id</span><span class="op" id="5409532">]</span>&nbsp;<span class="op" id="5409534">=</span>&nbsp;<span class="ident" id="5409536">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5409539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409542">if</span>&nbsp;<span class="ident" id="5409545">b</span><span class="op" id="5409546">.</span><span class="ident" id="5409547">err</span>&nbsp;<span class="op" id="5409551">!=</span>&nbsp;<span class="ident" id="5409554">nil</span>&nbsp;<span class="op" id="5409558">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409562">return</span>&nbsp;<span class="ident" id="5409569">nil</span><span class="op" id="5409572">,</span>&nbsp;<span class="ident" id="5409574">b</span><span class="op" id="5409575">.</span><span class="ident" id="5409576">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5409581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409584">d</span><span class="op" id="5409585">.</span><span class="ident" id="5409586">abbrevCache</span><span class="op" id="5409597">[</span><span class="ident" id="5409598">off</span><span class="op" id="5409601">]</span>&nbsp;<span class="op" id="5409603">=</span>&nbsp;<span class="ident" id="5409605">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5409608">return</span>&nbsp;<span class="ident" id="5409615">m</span><span class="op" id="5409616">,</span>&nbsp;<span class="ident" id="5409618">nil</span><br>
<span class="lineno"></span><span class="op" id="5409622">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="5409625">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attribute/value&nbsp;pairs.</span><br>
<span class="lineno"></span><span class="keyword" id="5409677">type</span>&nbsp;<span class="ident" id="5409682">Entry</span>&nbsp;<span class="keyword" id="5409688">struct</span>&nbsp;<span class="op" id="5409695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409698">Offset</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5409707">Offset</span>&nbsp;<span class="comment" id="5409714">//&nbsp;offset&nbsp;of&nbsp;Entry&nbsp;in&nbsp;DWARF&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409748">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5409757">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5409764">//&nbsp;tag&nbsp;(kind&nbsp;of&nbsp;Entry)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409788">Children</span>&nbsp;<span class="builtintype" id="5409797">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5409804">//&nbsp;whether&nbsp;Entry&nbsp;is&nbsp;followed&nbsp;by&nbsp;children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409846">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5409855">[</span><span class="op" id="5409856">]</span><span class="ident" id="5409857">Field</span><br>
<span class="lineno"></span><span class="op" id="5409863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5409866">//&nbsp;A&nbsp;Field&nbsp;is&nbsp;a&nbsp;single&nbsp;attribute/value&nbsp;pair&nbsp;in&nbsp;an&nbsp;Entry.</span><br>
<span class="lineno">105</span><span class="keyword" id="5409923">type</span>&nbsp;<span class="ident" id="5409928">Field</span>&nbsp;<span class="keyword" id="5409934">struct</span>&nbsp;<span class="op" id="5409941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409944">Attr</span>&nbsp;<span class="ident" id="5409949">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5409955">Val</span>&nbsp;&nbsp;<span class="keyword" id="5409960">interface</span><span class="op" id="5409969">{</span><span class="op" id="5409970">}</span><br>
<span class="lineno"></span><span class="op" id="5409972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="5409975">//&nbsp;Val&nbsp;returns&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;attribute&nbsp;Attr&nbsp;in&nbsp;Entry,</span><br>
<span class="lineno"></span><span class="comment" id="5410041">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;attribute.</span><br>
<span class="lineno"></span><span class="comment" id="5410082">//</span><br>
<span class="lineno"></span><span class="comment" id="5410085">//&nbsp;A&nbsp;common&nbsp;idiom&nbsp;is&nbsp;to&nbsp;merge&nbsp;the&nbsp;check&nbsp;for&nbsp;nil&nbsp;return&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5410145">//&nbsp;the&nbsp;check&nbsp;that&nbsp;the&nbsp;value&nbsp;has&nbsp;the&nbsp;expected&nbsp;dynamic&nbsp;type,&nbsp;as&nbsp;in:</span><br>
<span class="lineno">115</span><span class="comment" id="5410211">//&nbsp;&nbsp;&nbsp;&nbspv,&nbsp;ok&nbsp;:=&nbsp;e.Val(AttrSibling).(int64);</span><br>
<span class="lineno"></span><span class="comment" id="5410251">//</span><br>
<span class="lineno"></span><span class="keyword" id="5410254">func</span>&nbsp;<span class="op" id="5410259">(</span><span class="ident" id="5410260">e</span>&nbsp;<span class="op" id="5410262">*</span><span class="ident" id="5410263">Entry</span><span class="op" id="5410268">)</span>&nbsp;<span class="ident" id="5410270">Val</span><span class="op" id="5410273">(</span><span class="ident" id="5410274">a</span>&nbsp;<span class="ident" id="5410276">Attr</span><span class="op" id="5410280">)</span>&nbsp;<span class="keyword" id="5410282">interface</span><span class="op" id="5410291">{</span><span class="op" id="5410292">}</span>&nbsp;<span class="op" id="5410294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410297">for</span>&nbsp;<span class="ident" id="5410301">_</span><span class="op" id="5410302">,</span>&nbsp;<span class="ident" id="5410304">f</span>&nbsp;<span class="op" id="5410306">:=</span>&nbsp;<span class="keyword" id="5410309">range</span>&nbsp;<span class="ident" id="5410315">e</span><span class="op" id="5410316">.</span><span class="ident" id="5410317">Field</span>&nbsp;<span class="op" id="5410323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410327">if</span>&nbsp;<span class="ident" id="5410330">f</span><span class="op" id="5410331">.</span><span class="ident" id="5410332">Attr</span>&nbsp;<span class="op" id="5410337">==</span>&nbsp;<span class="ident" id="5410340">a</span>&nbsp;<span class="op" id="5410342">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410347">return</span>&nbsp;<span class="ident" id="5410354">f</span><span class="op" id="5410355">.</span><span class="ident" id="5410356">Val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5410362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5410365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410368">return</span>&nbsp;<span class="ident" id="5410375">nil</span><br>
<span class="lineno"></span><span class="op" id="5410379">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="5410382">//&nbsp;An&nbsp;Offset&nbsp;represents&nbsp;the&nbsp;location&nbsp;of&nbsp;an&nbsp;Entry&nbsp;within&nbsp;the&nbsp;DWARF&nbsp;info.</span><br>
<span class="lineno"></span><span class="comment" id="5410454">//&nbsp;(See&nbsp;Reader.Seek.)</span><br>
<span class="lineno"></span><span class="keyword" id="5410476">type</span>&nbsp;<span class="ident" id="5410481">Offset</span>&nbsp;<span class="builtintype" id="5410488">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="5410496">//&nbsp;Entry&nbsp;reads&nbsp;a&nbsp;single&nbsp;entry&nbsp;from&nbsp;buf,&nbsp;decoding</span><br>
<span class="lineno"></span><span class="comment" id="5410545">//&nbsp;according&nbsp;to&nbsp;the&nbsp;given&nbsp;abbreviation&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="5410591">func</span>&nbsp;<span class="op" id="5410596">(</span><span class="ident" id="5410597">b</span>&nbsp;<span class="op" id="5410599">*</span><span class="ident" id="5410600">buf</span><span class="op" id="5410603">)</span>&nbsp;<span class="ident" id="5410605">entry</span><span class="op" id="5410610">(</span><span class="ident" id="5410611">atab</span>&nbsp;<span class="ident" id="5410616">abbrevTable</span><span class="op" id="5410627">,</span>&nbsp;<span class="ident" id="5410629">ubase</span>&nbsp;<span class="ident" id="5410635">Offset</span><span class="op" id="5410641">)</span>&nbsp;<span class="op" id="5410643">*</span><span class="ident" id="5410644">Entry</span>&nbsp;<span class="op" id="5410650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410653">off</span>&nbsp;<span class="op" id="5410657">:=</span>&nbsp;<span class="ident" id="5410660">b</span><span class="op" id="5410661">.</span><span class="ident" id="5410662">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410667">id</span>&nbsp;<span class="op" id="5410670">:=</span>&nbsp;<span class="builtintype" id="5410673">uint32</span><span class="op" id="5410679">(</span><span class="ident" id="5410680">b</span><span class="op" id="5410681">.</span><span class="builtintype" id="5410682">uint</span><span class="op" id="5410686">(</span><span class="op" id="5410687">)</span><span class="op" id="5410688">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410691">if</span>&nbsp;<span class="ident" id="5410694">id</span>&nbsp;<span class="op" id="5410697">==</span>&nbsp;<span class="num" id="5410700">0</span>&nbsp;<span class="op" id="5410702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410706">return</span>&nbsp;<span class="op" id="5410713">&amp;</span><span class="ident" id="5410714">Entry</span><span class="op" id="5410719">{</span><span class="op" id="5410720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5410723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410726">a</span><span class="op" id="5410727">,</span>&nbsp;<span class="ident" id="5410729">ok</span>&nbsp;<span class="op" id="5410732">:=</span>&nbsp;<span class="ident" id="5410735">atab</span><span class="op" id="5410739">[</span><span class="ident" id="5410740">id</span><span class="op" id="5410742">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410745">if</span>&nbsp;<span class="op" id="5410748">!</span><span class="ident" id="5410749">ok</span>&nbsp;<span class="op" id="5410752">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410756">b</span><span class="op" id="5410757">.</span><span class="builtintype" id="5410758">error</span><span class="op" id="5410763">(</span><span class="string" id="5410764">&#34;unknown&nbsp;abbreviation&nbsp;table&nbsp;index&#34;</span><span class="op" id="5410798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410802">return</span>&nbsp;<span class="ident" id="5410809">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5410814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410817">e</span>&nbsp;<span class="op" id="5410819">:=</span>&nbsp;<span class="op" id="5410822">&amp;</span><span class="ident" id="5410823">Entry</span><span class="op" id="5410828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410832">Offset</span><span class="op" id="5410838">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5410842">off</span><span class="op" id="5410845">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410849">Tag</span><span class="op" id="5410852">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5410859">a</span><span class="op" id="5410860">.</span><span class="ident" id="5410861">tag</span><span class="op" id="5410864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410868">Children</span><span class="op" id="5410876">:</span>&nbsp;<span class="ident" id="5410878">a</span><span class="op" id="5410879">.</span><span class="ident" id="5410880">children</span><span class="op" id="5410888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410892">Field</span><span class="op" id="5410897">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5410902">make</span><span class="op" id="5410906">(</span><span class="op" id="5410907">[</span><span class="op" id="5410908">]</span><span class="ident" id="5410909">Field</span><span class="op" id="5410914">,</span>&nbsp;<span class="builtinfunc" id="5410916">len</span><span class="op" id="5410919">(</span><span class="ident" id="5410920">a</span><span class="op" id="5410921">.</span><span class="ident" id="5410922">field</span><span class="op" id="5410927">)</span><span class="op" id="5410928">)</span><span class="op" id="5410929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5410932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5410935">for</span>&nbsp;<span class="ident" id="5410939">i</span>&nbsp;<span class="op" id="5410941">:=</span>&nbsp;<span class="keyword" id="5410944">range</span>&nbsp;<span class="ident" id="5410950">e</span><span class="op" id="5410951">.</span><span class="ident" id="5410952">Field</span>&nbsp;<span class="op" id="5410958">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410962">e</span><span class="op" id="5410963">.</span><span class="ident" id="5410964">Field</span><span class="op" id="5410969">[</span><span class="ident" id="5410970">i</span><span class="op" id="5410971">]</span><span class="op" id="5410972">.</span><span class="ident" id="5410973">Attr</span>&nbsp;<span class="op" id="5410978">=</span>&nbsp;<span class="ident" id="5410980">a</span><span class="op" id="5410981">.</span><span class="ident" id="5410982">field</span><span class="op" id="5410987">[</span><span class="ident" id="5410988">i</span><span class="op" id="5410989">]</span><span class="op" id="5410990">.</span><span class="ident" id="5410991">attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5410998">fmt</span>&nbsp;<span class="op" id="5411002">:=</span>&nbsp;<span class="ident" id="5411005">a</span><span class="op" id="5411006">.</span><span class="ident" id="5411007">field</span><span class="op" id="5411012">[</span><span class="ident" id="5411013">i</span><span class="op" id="5411014">]</span><span class="op" id="5411015">.</span><span class="ident" id="5411016">fmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411022">if</span>&nbsp;<span class="ident" id="5411025">fmt</span>&nbsp;<span class="op" id="5411029">==</span>&nbsp;<span class="ident" id="5411032">formIndirect</span>&nbsp;<span class="op" id="5411045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411050">fmt</span>&nbsp;<span class="op" id="5411054">=</span>&nbsp;<span class="ident" id="5411056">format</span><span class="op" id="5411062">(</span><span class="ident" id="5411063">b</span><span class="op" id="5411064">.</span><span class="builtintype" id="5411065">uint</span><span class="op" id="5411069">(</span><span class="op" id="5411070">)</span><span class="op" id="5411071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5411075">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411079">var</span>&nbsp;<span class="ident" id="5411083">val</span>&nbsp;<span class="keyword" id="5411087">interface</span><span class="op" id="5411096">{</span><span class="op" id="5411097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411101">switch</span>&nbsp;<span class="ident" id="5411108">fmt</span>&nbsp;<span class="op" id="5411112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411116">default</span><span class="op" id="5411123">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411128">b</span><span class="op" id="5411129">.</span><span class="builtintype" id="5411130">error</span><span class="op" id="5411135">(</span><span class="string" id="5411136">&#34;unknown&nbsp;entry&nbsp;attr&nbsp;format&nbsp;0x&#34;</span>&nbsp;<span class="op" id="5411167">+</span>&nbsp;<span class="ident" id="5411169">strconv</span><span class="op" id="5411176">.</span><span class="ident" id="5411177">FormatInt</span><span class="op" id="5411186">(</span><span class="ident" id="5411187">int64</span><span class="op" id="5411192">(</span><span class="ident" id="5411193">fmt</span><span class="op" id="5411196">)</span><span class="op" id="5411197">,</span>&nbsp;<span class="num" id="5411199">16</span><span class="op" id="5411201">)</span><span class="op" id="5411202">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411207">//&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411220">case</span>&nbsp;<span class="ident" id="5411225">formAddr</span><span class="op" id="5411233">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411238">val</span>&nbsp;<span class="op" id="5411242">=</span>&nbsp;<span class="ident" id="5411244">b</span><span class="op" id="5411245">.</span><span class="ident" id="5411246">addr</span><span class="op" id="5411250">(</span><span class="op" id="5411251">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411256">//&nbsp;block</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411267">case</span>&nbsp;<span class="ident" id="5411272">formDwarfBlock1</span><span class="op" id="5411287">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411292">val</span>&nbsp;<span class="op" id="5411296">=</span>&nbsp;<span class="ident" id="5411298">b</span><span class="op" id="5411299">.</span><span class="ident" id="5411300">bytes</span><span class="op" id="5411305">(</span><span class="builtintype" id="5411306">int</span><span class="op" id="5411309">(</span><span class="ident" id="5411310">b</span><span class="op" id="5411311">.</span><span class="builtintype" id="5411312">uint8</span><span class="op" id="5411317">(</span><span class="op" id="5411318">)</span><span class="op" id="5411319">)</span><span class="op" id="5411320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411324">case</span>&nbsp;<span class="ident" id="5411329">formDwarfBlock2</span><span class="op" id="5411344">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411349">val</span>&nbsp;<span class="op" id="5411353">=</span>&nbsp;<span class="ident" id="5411355">b</span><span class="op" id="5411356">.</span><span class="ident" id="5411357">bytes</span><span class="op" id="5411362">(</span><span class="builtintype" id="5411363">int</span><span class="op" id="5411366">(</span><span class="ident" id="5411367">b</span><span class="op" id="5411368">.</span><span class="builtintype" id="5411369">uint16</span><span class="op" id="5411375">(</span><span class="op" id="5411376">)</span><span class="op" id="5411377">)</span><span class="op" id="5411378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411382">case</span>&nbsp;<span class="ident" id="5411387">formDwarfBlock4</span><span class="op" id="5411402">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411407">val</span>&nbsp;<span class="op" id="5411411">=</span>&nbsp;<span class="ident" id="5411413">b</span><span class="op" id="5411414">.</span><span class="ident" id="5411415">bytes</span><span class="op" id="5411420">(</span><span class="builtintype" id="5411421">int</span><span class="op" id="5411424">(</span><span class="ident" id="5411425">b</span><span class="op" id="5411426">.</span><span class="builtintype" id="5411427">uint32</span><span class="op" id="5411433">(</span><span class="op" id="5411434">)</span><span class="op" id="5411435">)</span><span class="op" id="5411436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411440">case</span>&nbsp;<span class="ident" id="5411445">formDwarfBlock</span><span class="op" id="5411459">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411464">val</span>&nbsp;<span class="op" id="5411468">=</span>&nbsp;<span class="ident" id="5411470">b</span><span class="op" id="5411471">.</span><span class="ident" id="5411472">bytes</span><span class="op" id="5411477">(</span><span class="builtintype" id="5411478">int</span><span class="op" id="5411481">(</span><span class="ident" id="5411482">b</span><span class="op" id="5411483">.</span><span class="builtintype" id="5411484">uint</span><span class="op" id="5411488">(</span><span class="op" id="5411489">)</span><span class="op" id="5411490">)</span><span class="op" id="5411491">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411496">//&nbsp;constant</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411510">case</span>&nbsp;<span class="ident" id="5411515">formData1</span><span class="op" id="5411524">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411529">val</span>&nbsp;<span class="op" id="5411533">=</span>&nbsp;<span class="ident" id="5411535">int64</span><span class="op" id="5411540">(</span><span class="ident" id="5411541">b</span><span class="op" id="5411542">.</span><span class="builtintype" id="5411543">uint8</span><span class="op" id="5411548">(</span><span class="op" id="5411549">)</span><span class="op" id="5411550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411554">case</span>&nbsp;<span class="ident" id="5411559">formData2</span><span class="op" id="5411568">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411573">val</span>&nbsp;<span class="op" id="5411577">=</span>&nbsp;<span class="ident" id="5411579">int64</span><span class="op" id="5411584">(</span><span class="ident" id="5411585">b</span><span class="op" id="5411586">.</span><span class="builtintype" id="5411587">uint16</span><span class="op" id="5411593">(</span><span class="op" id="5411594">)</span><span class="op" id="5411595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411599">case</span>&nbsp;<span class="ident" id="5411604">formData4</span><span class="op" id="5411613">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411618">val</span>&nbsp;<span class="op" id="5411622">=</span>&nbsp;<span class="ident" id="5411624">int64</span><span class="op" id="5411629">(</span><span class="ident" id="5411630">b</span><span class="op" id="5411631">.</span><span class="builtintype" id="5411632">uint32</span><span class="op" id="5411638">(</span><span class="op" id="5411639">)</span><span class="op" id="5411640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411644">case</span>&nbsp;<span class="ident" id="5411649">formData8</span><span class="op" id="5411658">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411663">val</span>&nbsp;<span class="op" id="5411667">=</span>&nbsp;<span class="ident" id="5411669">int64</span><span class="op" id="5411674">(</span><span class="ident" id="5411675">b</span><span class="op" id="5411676">.</span><span class="ident" id="5411677">uint64</span><span class="op" id="5411683">(</span><span class="op" id="5411684">)</span><span class="op" id="5411685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411689">case</span>&nbsp;<span class="ident" id="5411694">formSdata</span><span class="op" id="5411703">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411708">val</span>&nbsp;<span class="op" id="5411712">=</span>&nbsp;<span class="ident" id="5411714">int64</span><span class="op" id="5411719">(</span><span class="ident" id="5411720">b</span><span class="op" id="5411721">.</span><span class="builtintype" id="5411722">int</span><span class="op" id="5411725">(</span><span class="op" id="5411726">)</span><span class="op" id="5411727">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411731">case</span>&nbsp;<span class="ident" id="5411736">formUdata</span><span class="op" id="5411745">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411750">val</span>&nbsp;<span class="op" id="5411754">=</span>&nbsp;<span class="ident" id="5411756">int64</span><span class="op" id="5411761">(</span><span class="ident" id="5411762">b</span><span class="op" id="5411763">.</span><span class="builtintype" id="5411764">uint</span><span class="op" id="5411768">(</span><span class="op" id="5411769">)</span><span class="op" id="5411770">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411775">//&nbsp;flag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411785">case</span>&nbsp;<span class="ident" id="5411790">formFlag</span><span class="op" id="5411798">:</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5411803">val</span>&nbsp;<span class="op" id="5411807">=</span>&nbsp;<span class="ident" id="5411809">b</span><span class="op" id="5411810">.</span><span class="builtintype" id="5411811">uint8</span><span class="op" id="5411816">(</span><span class="op" id="5411817">)</span>&nbsp;<span class="op" id="5411819">==</span>&nbsp;<span class="num" id="5411822">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411826">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5411847">case</span>&nbsp;<span class="ident" id="5411852">formFlagPresent</span><span class="op" id="5411867">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411872">//&nbsp;The&nbsp;attribute&nbsp;is&nbsp;implicitly&nbsp;indicated&nbsp;as&nbsp;present,&nbsp;and&nbsp;no&nbsp;value&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5411944">//&nbsp;encoded&nbsp;in&nbsp;the&nbsp;debugging&nbsp;information&nbsp;entry&nbsp;itself.</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412001">val</span>&nbsp;<span class="op" id="5412005">=</span>&nbsp;<span class="ident" id="5412007">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5412015">//&nbsp;reference&nbsp;to&nbsp;other&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412045">case</span>&nbsp;<span class="ident" id="5412050">formRefAddr</span><span class="op" id="5412061">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412066">vers</span>&nbsp;<span class="op" id="5412071">:=</span>&nbsp;<span class="ident" id="5412074">b</span><span class="op" id="5412075">.</span><span class="ident" id="5412076">format</span><span class="op" id="5412082">.</span><span class="ident" id="5412083">version</span><span class="op" id="5412090">(</span><span class="op" id="5412091">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412096">if</span>&nbsp;<span class="ident" id="5412099">vers</span>&nbsp;<span class="op" id="5412104">==</span>&nbsp;<span class="num" id="5412107">0</span>&nbsp;<span class="op" id="5412109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412115">b</span><span class="op" id="5412116">.</span><span class="builtintype" id="5412117">error</span><span class="op" id="5412122">(</span><span class="string" id="5412123">&#34;unknown&nbsp;version&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="5412161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5412166">}</span>&nbsp;<span class="keyword" id="5412168">else</span>&nbsp;<span class="keyword" id="5412173">if</span>&nbsp;<span class="ident" id="5412176">vers</span>&nbsp;<span class="op" id="5412181">==</span>&nbsp;<span class="num" id="5412184">2</span>&nbsp;<span class="op" id="5412186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412192">val</span>&nbsp;<span class="op" id="5412196">=</span>&nbsp;<span class="ident" id="5412198">Offset</span><span class="op" id="5412204">(</span><span class="ident" id="5412205">b</span><span class="op" id="5412206">.</span><span class="ident" id="5412207">addr</span><span class="op" id="5412211">(</span><span class="op" id="5412212">)</span><span class="op" id="5412213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5412218">}</span>&nbsp;<span class="keyword" id="5412220">else</span>&nbsp;<span class="op" id="5412225">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412231">is64</span><span class="op" id="5412235">,</span>&nbsp;<span class="ident" id="5412237">known</span>&nbsp;<span class="op" id="5412243">:=</span>&nbsp;<span class="ident" id="5412246">b</span><span class="op" id="5412247">.</span><span class="ident" id="5412248">format</span><span class="op" id="5412254">.</span><span class="ident" id="5412255">dwarf64</span><span class="op" id="5412262">(</span><span class="op" id="5412263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412269">if</span>&nbsp;<span class="op" id="5412272">!</span><span class="ident" id="5412273">known</span>&nbsp;<span class="op" id="5412279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412286">b</span><span class="op" id="5412287">.</span><span class="builtintype" id="5412288">error</span><span class="op" id="5412293">(</span><span class="string" id="5412294">&#34;unknown&nbsp;size&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="5412329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5412335">}</span>&nbsp;<span class="keyword" id="5412337">else</span>&nbsp;<span class="keyword" id="5412342">if</span>&nbsp;<span class="ident" id="5412345">is64</span>&nbsp;<span class="op" id="5412350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412357">val</span>&nbsp;<span class="op" id="5412361">=</span>&nbsp;<span class="ident" id="5412363">Offset</span><span class="op" id="5412369">(</span><span class="ident" id="5412370">b</span><span class="op" id="5412371">.</span><span class="ident" id="5412372">uint64</span><span class="op" id="5412378">(</span><span class="op" id="5412379">)</span><span class="op" id="5412380">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5412386">}</span>&nbsp;<span class="keyword" id="5412388">else</span>&nbsp;<span class="op" id="5412393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412400">val</span>&nbsp;<span class="op" id="5412404">=</span>&nbsp;<span class="ident" id="5412406">Offset</span><span class="op" id="5412412">(</span><span class="ident" id="5412413">b</span><span class="op" id="5412414">.</span><span class="builtintype" id="5412415">uint32</span><span class="op" id="5412421">(</span><span class="op" id="5412422">)</span><span class="op" id="5412423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5412429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5412434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412438">case</span>&nbsp;<span class="ident" id="5412443">formRef1</span><span class="op" id="5412451">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412456">val</span>&nbsp;<span class="op" id="5412460">=</span>&nbsp;<span class="ident" id="5412462">Offset</span><span class="op" id="5412468">(</span><span class="ident" id="5412469">b</span><span class="op" id="5412470">.</span><span class="builtintype" id="5412471">uint8</span><span class="op" id="5412476">(</span><span class="op" id="5412477">)</span><span class="op" id="5412478">)</span>&nbsp;<span class="op" id="5412480">+</span>&nbsp;<span class="ident" id="5412482">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412490">case</span>&nbsp;<span class="ident" id="5412495">formRef2</span><span class="op" id="5412503">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412508">val</span>&nbsp;<span class="op" id="5412512">=</span>&nbsp;<span class="ident" id="5412514">Offset</span><span class="op" id="5412520">(</span><span class="ident" id="5412521">b</span><span class="op" id="5412522">.</span><span class="builtintype" id="5412523">uint16</span><span class="op" id="5412529">(</span><span class="op" id="5412530">)</span><span class="op" id="5412531">)</span>&nbsp;<span class="op" id="5412533">+</span>&nbsp;<span class="ident" id="5412535">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412543">case</span>&nbsp;<span class="ident" id="5412548">formRef4</span><span class="op" id="5412556">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412561">val</span>&nbsp;<span class="op" id="5412565">=</span>&nbsp;<span class="ident" id="5412567">Offset</span><span class="op" id="5412573">(</span><span class="ident" id="5412574">b</span><span class="op" id="5412575">.</span><span class="builtintype" id="5412576">uint32</span><span class="op" id="5412582">(</span><span class="op" id="5412583">)</span><span class="op" id="5412584">)</span>&nbsp;<span class="op" id="5412586">+</span>&nbsp;<span class="ident" id="5412588">ubase</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412596">case</span>&nbsp;<span class="ident" id="5412601">formRef8</span><span class="op" id="5412609">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412614">val</span>&nbsp;<span class="op" id="5412618">=</span>&nbsp;<span class="ident" id="5412620">Offset</span><span class="op" id="5412626">(</span><span class="ident" id="5412627">b</span><span class="op" id="5412628">.</span><span class="ident" id="5412629">uint64</span><span class="op" id="5412635">(</span><span class="op" id="5412636">)</span><span class="op" id="5412637">)</span>&nbsp;<span class="op" id="5412639">+</span>&nbsp;<span class="ident" id="5412641">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412649">case</span>&nbsp;<span class="ident" id="5412654">formRefUdata</span><span class="op" id="5412666">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412671">val</span>&nbsp;<span class="op" id="5412675">=</span>&nbsp;<span class="ident" id="5412677">Offset</span><span class="op" id="5412683">(</span><span class="ident" id="5412684">b</span><span class="op" id="5412685">.</span><span class="builtintype" id="5412686">uint</span><span class="op" id="5412690">(</span><span class="op" id="5412691">)</span><span class="op" id="5412692">)</span>&nbsp;<span class="op" id="5412694">+</span>&nbsp;<span class="ident" id="5412696">ubase</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5412705">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412717">case</span>&nbsp;<span class="ident" id="5412722">formString</span><span class="op" id="5412732">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412737">val</span>&nbsp;<span class="op" id="5412741">=</span>&nbsp;<span class="ident" id="5412743">b</span><span class="op" id="5412744">.</span><span class="builtintype" id="5412745">string</span><span class="op" id="5412751">(</span><span class="op" id="5412752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412756">case</span>&nbsp;<span class="ident" id="5412761">formStrp</span><span class="op" id="5412769">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412774">off</span>&nbsp;<span class="op" id="5412778">:=</span>&nbsp;<span class="ident" id="5412781">b</span><span class="op" id="5412782">.</span><span class="builtintype" id="5412783">uint32</span><span class="op" id="5412789">(</span><span class="op" id="5412790">)</span>&nbsp;<span class="comment" id="5412792">//&nbsp;offset&nbsp;into&nbsp;.debug_str</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412821">if</span>&nbsp;<span class="ident" id="5412824">b</span><span class="op" id="5412825">.</span><span class="ident" id="5412826">err</span>&nbsp;<span class="op" id="5412830">!=</span>&nbsp;<span class="ident" id="5412833">nil</span>&nbsp;<span class="op" id="5412837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412843">return</span>&nbsp;<span class="ident" id="5412850">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5412857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412862">b1</span>&nbsp;<span class="op" id="5412865">:=</span>&nbsp;<span class="ident" id="5412868">makeBuf</span><span class="op" id="5412875">(</span><span class="ident" id="5412876">b</span><span class="op" id="5412877">.</span><span class="ident" id="5412878">dwarf</span><span class="op" id="5412883">,</span>&nbsp;<span class="ident" id="5412885">unknownFormat</span><span class="op" id="5412898">{</span><span class="op" id="5412899">}</span><span class="op" id="5412900">,</span>&nbsp;<span class="string" id="5412902">&#34;str&#34;</span><span class="op" id="5412907">,</span>&nbsp;<span class="num" id="5412909">0</span><span class="op" id="5412910">,</span>&nbsp;<span class="ident" id="5412912">b</span><span class="op" id="5412913">.</span><span class="ident" id="5412914">dwarf</span><span class="op" id="5412919">.</span><span class="ident" id="5412920">str</span><span class="op" id="5412923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412928">b1</span><span class="op" id="5412930">.</span><span class="ident" id="5412931">skip</span><span class="op" id="5412935">(</span><span class="builtintype" id="5412936">int</span><span class="op" id="5412939">(</span><span class="ident" id="5412940">off</span><span class="op" id="5412943">)</span><span class="op" id="5412944">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412949">val</span>&nbsp;<span class="op" id="5412953">=</span>&nbsp;<span class="ident" id="5412955">b1</span><span class="op" id="5412957">.</span><span class="builtintype" id="5412958">string</span><span class="op" id="5412964">(</span><span class="op" id="5412965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5412970">if</span>&nbsp;<span class="ident" id="5412973">b1</span><span class="op" id="5412975">.</span><span class="ident" id="5412976">err</span>&nbsp;<span class="op" id="5412980">!=</span>&nbsp;<span class="ident" id="5412983">nil</span>&nbsp;<span class="op" id="5412987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5412993">b</span><span class="op" id="5412994">.</span><span class="ident" id="5412995">err</span>&nbsp;<span class="op" id="5412999">=</span>&nbsp;<span class="ident" id="5413001">b1</span><span class="op" id="5413003">.</span><span class="ident" id="5413004">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413012">return</span>&nbsp;<span class="ident" id="5413019">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5413026">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5413031">//&nbsp;lineptr,&nbsp;loclistptr,&nbsp;macptr,&nbsp;rangelistptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5413078">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4,&nbsp;but&nbsp;clang&nbsp;can&nbsp;generate&nbsp;them&nbsp;with&nbsp;-gdwarf-2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5413143">//&nbsp;Section&nbsp;reference,&nbsp;replacing&nbsp;use&nbsp;of&nbsp;formData4&nbsp;and&nbsp;formData8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413209">case</span>&nbsp;<span class="ident" id="5413214">formSecOffset</span><span class="op" id="5413227">,</span>&nbsp;<span class="ident" id="5413229">formGnuRefAlt</span><span class="op" id="5413242">,</span>&nbsp;<span class="ident" id="5413244">formGnuStrpAlt</span><span class="op" id="5413258">:</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413263">is64</span><span class="op" id="5413267">,</span>&nbsp;<span class="ident" id="5413269">known</span>&nbsp;<span class="op" id="5413275">:=</span>&nbsp;<span class="ident" id="5413278">b</span><span class="op" id="5413279">.</span><span class="ident" id="5413280">format</span><span class="op" id="5413286">.</span><span class="ident" id="5413287">dwarf64</span><span class="op" id="5413294">(</span><span class="op" id="5413295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413300">if</span>&nbsp;<span class="op" id="5413303">!</span><span class="ident" id="5413304">known</span>&nbsp;<span class="op" id="5413310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413316">b</span><span class="op" id="5413317">.</span><span class="builtintype" id="5413318">error</span><span class="op" id="5413323">(</span><span class="string" id="5413324">&#34;unknown&nbsp;size&nbsp;for&nbsp;form&nbsp;0x&#34;</span>&nbsp;<span class="op" id="5413351">+</span>&nbsp;<span class="ident" id="5413353">strconv</span><span class="op" id="5413360">.</span><span class="ident" id="5413361">FormatInt</span><span class="op" id="5413370">(</span><span class="ident" id="5413371">int64</span><span class="op" id="5413376">(</span><span class="ident" id="5413377">fmt</span><span class="op" id="5413380">)</span><span class="op" id="5413381">,</span>&nbsp;<span class="num" id="5413383">16</span><span class="op" id="5413385">)</span><span class="op" id="5413386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5413391">}</span>&nbsp;<span class="keyword" id="5413393">else</span>&nbsp;<span class="keyword" id="5413398">if</span>&nbsp;<span class="ident" id="5413401">is64</span>&nbsp;<span class="op" id="5413406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413412">val</span>&nbsp;<span class="op" id="5413416">=</span>&nbsp;<span class="ident" id="5413418">int64</span><span class="op" id="5413423">(</span><span class="ident" id="5413424">b</span><span class="op" id="5413425">.</span><span class="ident" id="5413426">uint64</span><span class="op" id="5413432">(</span><span class="op" id="5413433">)</span><span class="op" id="5413434">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5413439">}</span>&nbsp;<span class="keyword" id="5413441">else</span>&nbsp;<span class="op" id="5413446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413452">val</span>&nbsp;<span class="op" id="5413456">=</span>&nbsp;<span class="ident" id="5413458">int64</span><span class="op" id="5413463">(</span><span class="ident" id="5413464">b</span><span class="op" id="5413465">.</span><span class="builtintype" id="5413466">uint32</span><span class="op" id="5413472">(</span><span class="op" id="5413473">)</span><span class="op" id="5413474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5413479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5413484">//&nbsp;exprloc</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5413497">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413518">case</span>&nbsp;<span class="ident" id="5413523">formExprloc</span><span class="op" id="5413534">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413539">val</span>&nbsp;<span class="op" id="5413543">=</span>&nbsp;<span class="ident" id="5413545">b</span><span class="op" id="5413546">.</span><span class="ident" id="5413547">bytes</span><span class="op" id="5413552">(</span><span class="builtintype" id="5413553">int</span><span class="op" id="5413556">(</span><span class="ident" id="5413557">b</span><span class="op" id="5413558">.</span><span class="builtintype" id="5413559">uint</span><span class="op" id="5413563">(</span><span class="op" id="5413564">)</span><span class="op" id="5413565">)</span><span class="op" id="5413566">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5413571">//&nbsp;reference</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5413586">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413607">case</span>&nbsp;<span class="ident" id="5413612">formRefSig8</span><span class="op" id="5413623">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5413628">//&nbsp;64-bit&nbsp;type&nbsp;signature.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413657">val</span>&nbsp;<span class="op" id="5413661">=</span>&nbsp;<span class="ident" id="5413663">b</span><span class="op" id="5413664">.</span><span class="ident" id="5413665">uint64</span><span class="op" id="5413671">(</span><span class="op" id="5413672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5413676">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5413680">e</span><span class="op" id="5413681">.</span><span class="ident" id="5413682">Field</span><span class="op" id="5413687">[</span><span class="ident" id="5413688">i</span><span class="op" id="5413689">]</span><span class="op" id="5413690">.</span><span class="ident" id="5413691">Val</span>&nbsp;<span class="op" id="5413695">=</span>&nbsp;<span class="ident" id="5413697">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5413702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413705">if</span>&nbsp;<span class="ident" id="5413708">b</span><span class="op" id="5413709">.</span><span class="ident" id="5413710">err</span>&nbsp;<span class="op" id="5413714">!=</span>&nbsp;<span class="ident" id="5413717">nil</span>&nbsp;<span class="op" id="5413721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413725">return</span>&nbsp;<span class="ident" id="5413732">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5413737">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5413740">return</span>&nbsp;<span class="ident" id="5413747">e</span><br>
<span class="lineno"></span><span class="op" id="5413749">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5413752">//&nbsp;A&nbsp;Reader&nbsp;allows&nbsp;reading&nbsp;Entry&nbsp;structures&nbsp;from&nbsp;a&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="5413827">//&nbsp;The&nbsp;Entry&nbsp;structures&nbsp;are&nbsp;arranged&nbsp;in&nbsp;a&nbsp;tree.&nbsp;&nbsp;The&nbsp;Reader&#39;s&nbsp;Next&nbsp;function</span><br>
<span class="lineno">275</span><span class="comment" id="5413903">//&nbsp;return&nbsp;successive&nbsp;entries&nbsp;from&nbsp;a&nbsp;pre-order&nbsp;traversal&nbsp;of&nbsp;the&nbsp;tree.</span><br>
<span class="lineno"></span><span class="comment" id="5413972">//&nbsp;If&nbsp;an&nbsp;entry&nbsp;has&nbsp;children,&nbsp;its&nbsp;Children&nbsp;field&nbsp;will&nbsp;be&nbsp;true,&nbsp;and&nbsp;the&nbsp;children</span><br>
<span class="lineno"></span><span class="comment" id="5414051">//&nbsp;follow,&nbsp;terminated&nbsp;by&nbsp;an&nbsp;Entry&nbsp;with&nbsp;Tag&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="5414097">type</span>&nbsp;<span class="ident" id="5414102">Reader</span>&nbsp;<span class="keyword" id="5414109">struct</span>&nbsp;<span class="op" id="5414116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414119">b</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5414132">buf</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414137">d</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5414150">*</span><span class="ident" id="5414151">Data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414157">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5414170">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414177">unit</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5414190">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414195">lastChildren</span>&nbsp;<span class="builtintype" id="5414208">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5414215">//&nbsp;.Children&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414260">lastSibling</span>&nbsp;&nbsp;<span class="ident" id="5414273">Offset</span>&nbsp;<span class="comment" id="5414280">//&nbsp;.Val(AttrSibling)&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno">285</span><span class="op" id="5414332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5414335">//&nbsp;Reader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;for&nbsp;Data.</span><br>
<span class="lineno"></span><span class="comment" id="5414376">//&nbsp;The&nbsp;reader&nbsp;is&nbsp;positioned&nbsp;at&nbsp;byte&nbsp;offset&nbsp;0&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5414452">func</span>&nbsp;<span class="op" id="5414457">(</span><span class="ident" id="5414458">d</span>&nbsp;<span class="op" id="5414460">*</span><span class="ident" id="5414461">Data</span><span class="op" id="5414465">)</span>&nbsp;<span class="ident" id="5414467">Reader</span><span class="op" id="5414473">(</span><span class="op" id="5414474">)</span>&nbsp;<span class="op" id="5414476">*</span><span class="ident" id="5414477">Reader</span>&nbsp;<span class="op" id="5414484">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414487">r</span>&nbsp;<span class="op" id="5414489">:=</span>&nbsp;<span class="op" id="5414492">&amp;</span><span class="ident" id="5414493">Reader</span><span class="op" id="5414499">{</span><span class="ident" id="5414500">d</span><span class="op" id="5414501">:</span>&nbsp;<span class="ident" id="5414503">d</span><span class="op" id="5414504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414507">r</span><span class="op" id="5414508">.</span><span class="ident" id="5414509">Seek</span><span class="op" id="5414513">(</span><span class="num" id="5414514">0</span><span class="op" id="5414515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5414518">return</span>&nbsp;<span class="ident" id="5414525">r</span><br>
<span class="lineno"></span><span class="op" id="5414527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="comment" id="5414530">//&nbsp;Seek&nbsp;positions&nbsp;the&nbsp;Reader&nbsp;at&nbsp;offset&nbsp;off&nbsp;in&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno"></span><span class="comment" id="5414602">//&nbsp;Offset&nbsp;0&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;denote&nbsp;the&nbsp;first&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="5414653">func</span>&nbsp;<span class="op" id="5414658">(</span><span class="ident" id="5414659">r</span>&nbsp;<span class="op" id="5414661">*</span><span class="ident" id="5414662">Reader</span><span class="op" id="5414668">)</span>&nbsp;<span class="ident" id="5414670">Seek</span><span class="op" id="5414674">(</span><span class="ident" id="5414675">off</span>&nbsp;<span class="ident" id="5414679">Offset</span><span class="op" id="5414685">)</span>&nbsp;<span class="op" id="5414687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414690">d</span>&nbsp;<span class="op" id="5414692">:=</span>&nbsp;<span class="ident" id="5414695">r</span><span class="op" id="5414696">.</span><span class="ident" id="5414697">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414700">r</span><span class="op" id="5414701">.</span><span class="ident" id="5414702">err</span>&nbsp;<span class="op" id="5414706">=</span>&nbsp;<span class="ident" id="5414708">nil</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414713">r</span><span class="op" id="5414714">.</span><span class="ident" id="5414715">lastChildren</span>&nbsp;<span class="op" id="5414728">=</span>&nbsp;<span class="ident" id="5414730">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5414737">if</span>&nbsp;<span class="ident" id="5414740">off</span>&nbsp;<span class="op" id="5414744">==</span>&nbsp;<span class="num" id="5414747">0</span>&nbsp;<span class="op" id="5414749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5414753">if</span>&nbsp;<span class="builtinfunc" id="5414756">len</span><span class="op" id="5414759">(</span><span class="ident" id="5414760">d</span><span class="op" id="5414761">.</span><span class="ident" id="5414762">unit</span><span class="op" id="5414766">)</span>&nbsp;<span class="op" id="5414768">==</span>&nbsp;<span class="num" id="5414771">0</span>&nbsp;<span class="op" id="5414773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5414778">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5414787">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414791">u</span>&nbsp;<span class="op" id="5414793">:=</span>&nbsp;<span class="op" id="5414796">&amp;</span><span class="ident" id="5414797">d</span><span class="op" id="5414798">.</span><span class="ident" id="5414799">unit</span><span class="op" id="5414803">[</span><span class="num" id="5414804">0</span><span class="op" id="5414805">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414809">r</span><span class="op" id="5414810">.</span><span class="ident" id="5414811">unit</span>&nbsp;<span class="op" id="5414816">=</span>&nbsp;<span class="num" id="5414818">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414822">r</span><span class="op" id="5414823">.</span><span class="ident" id="5414824">b</span>&nbsp;<span class="op" id="5414826">=</span>&nbsp;<span class="ident" id="5414828">makeBuf</span><span class="op" id="5414835">(</span><span class="ident" id="5414836">r</span><span class="op" id="5414837">.</span><span class="ident" id="5414838">d</span><span class="op" id="5414839">,</span>&nbsp;<span class="ident" id="5414841">u</span><span class="op" id="5414842">,</span>&nbsp;<span class="string" id="5414844">&#34;info&#34;</span><span class="op" id="5414850">,</span>&nbsp;<span class="ident" id="5414852">u</span><span class="op" id="5414853">.</span><span class="ident" id="5414854">off</span><span class="op" id="5414857">,</span>&nbsp;<span class="ident" id="5414859">u</span><span class="op" id="5414860">.</span><span class="ident" id="5414861">data</span><span class="op" id="5414865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5414869">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5414877">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5414881">//&nbsp;TODO(rsc):&nbsp;binary&nbsp;search&nbsp;(maybe&nbsp;a&nbsp;new&nbsp;package)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5414932">var</span>&nbsp;<span class="ident" id="5414936">i</span>&nbsp;<span class="builtintype" id="5414938">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5414943">var</span>&nbsp;<span class="ident" id="5414947">u</span>&nbsp;<span class="op" id="5414949">*</span><span class="ident" id="5414950">unit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5414956">for</span>&nbsp;<span class="ident" id="5414960">i</span>&nbsp;<span class="op" id="5414962">=</span>&nbsp;<span class="keyword" id="5414964">range</span>&nbsp;<span class="ident" id="5414970">d</span><span class="op" id="5414971">.</span><span class="ident" id="5414972">unit</span>&nbsp;<span class="op" id="5414977">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5414981">u</span>&nbsp;<span class="op" id="5414983">=</span>&nbsp;<span class="op" id="5414985">&amp;</span><span class="ident" id="5414986">d</span><span class="op" id="5414987">.</span><span class="ident" id="5414988">unit</span><span class="op" id="5414992">[</span><span class="ident" id="5414993">i</span><span class="op" id="5414994">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5414998">if</span>&nbsp;<span class="ident" id="5415001">u</span><span class="op" id="5415002">.</span><span class="ident" id="5415003">off</span>&nbsp;<span class="op" id="5415007">&lt;=</span>&nbsp;<span class="ident" id="5415010">off</span>&nbsp;<span class="op" id="5415014">&amp;&amp;</span>&nbsp;<span class="ident" id="5415017">off</span>&nbsp;<span class="op" id="5415021">&lt;</span>&nbsp;<span class="ident" id="5415023">u</span><span class="op" id="5415024">.</span><span class="ident" id="5415025">off</span><span class="op" id="5415028">+</span><span class="ident" id="5415029">Offset</span><span class="op" id="5415035">(</span><span class="builtinfunc" id="5415036">len</span><span class="op" id="5415039">(</span><span class="ident" id="5415040">u</span><span class="op" id="5415041">.</span><span class="ident" id="5415042">data</span><span class="op" id="5415046">)</span><span class="op" id="5415047">)</span>&nbsp;<span class="op" id="5415049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415054">r</span><span class="op" id="5415055">.</span><span class="ident" id="5415056">unit</span>&nbsp;<span class="op" id="5415061">=</span>&nbsp;<span class="ident" id="5415063">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415068">r</span><span class="op" id="5415069">.</span><span class="ident" id="5415070">b</span>&nbsp;<span class="op" id="5415072">=</span>&nbsp;<span class="ident" id="5415074">makeBuf</span><span class="op" id="5415081">(</span><span class="ident" id="5415082">r</span><span class="op" id="5415083">.</span><span class="ident" id="5415084">d</span><span class="op" id="5415085">,</span>&nbsp;<span class="ident" id="5415087">u</span><span class="op" id="5415088">,</span>&nbsp;<span class="string" id="5415090">&#34;info&#34;</span><span class="op" id="5415096">,</span>&nbsp;<span class="ident" id="5415098">off</span><span class="op" id="5415101">,</span>&nbsp;<span class="ident" id="5415103">u</span><span class="op" id="5415104">.</span><span class="ident" id="5415105">data</span><span class="op" id="5415109">[</span><span class="ident" id="5415110">off</span><span class="op" id="5415113">-</span><span class="ident" id="5415114">u</span><span class="op" id="5415115">.</span><span class="ident" id="5415116">off</span><span class="op" id="5415119">:</span><span class="op" id="5415120">]</span><span class="op" id="5415121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415126">return</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5415135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5415138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415141">r</span><span class="op" id="5415142">.</span><span class="ident" id="5415143">err</span>&nbsp;<span class="op" id="5415147">=</span>&nbsp;<span class="ident" id="5415149">errors</span><span class="op" id="5415155">.</span><span class="ident" id="5415156">New</span><span class="op" id="5415159">(</span><span class="string" id="5415160">&#34;offset&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="5415181">)</span><br>
<span class="lineno"></span><span class="op" id="5415183">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span><span class="comment" id="5415186">//&nbsp;maybeNextUnit&nbsp;advances&nbsp;to&nbsp;the&nbsp;next&nbsp;unit&nbsp;if&nbsp;this&nbsp;one&nbsp;is&nbsp;finished.</span><br>
<span class="lineno"></span><span class="keyword" id="5415254">func</span>&nbsp;<span class="op" id="5415259">(</span><span class="ident" id="5415260">r</span>&nbsp;<span class="op" id="5415262">*</span><span class="ident" id="5415263">Reader</span><span class="op" id="5415269">)</span>&nbsp;<span class="ident" id="5415271">maybeNextUnit</span><span class="op" id="5415284">(</span><span class="op" id="5415285">)</span>&nbsp;<span class="op" id="5415287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415290">for</span>&nbsp;<span class="builtinfunc" id="5415294">len</span><span class="op" id="5415297">(</span><span class="ident" id="5415298">r</span><span class="op" id="5415299">.</span><span class="ident" id="5415300">b</span><span class="op" id="5415301">.</span><span class="ident" id="5415302">data</span><span class="op" id="5415306">)</span>&nbsp;<span class="op" id="5415308">==</span>&nbsp;<span class="num" id="5415311">0</span>&nbsp;<span class="op" id="5415313">&amp;&amp;</span>&nbsp;<span class="ident" id="5415316">r</span><span class="op" id="5415317">.</span><span class="ident" id="5415318">unit</span><span class="op" id="5415322">+</span><span class="num" id="5415323">1</span>&nbsp;<span class="op" id="5415325">&lt;</span>&nbsp;<span class="builtinfunc" id="5415327">len</span><span class="op" id="5415330">(</span><span class="ident" id="5415331">r</span><span class="op" id="5415332">.</span><span class="ident" id="5415333">d</span><span class="op" id="5415334">.</span><span class="ident" id="5415335">unit</span><span class="op" id="5415339">)</span>&nbsp;<span class="op" id="5415341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415345">r</span><span class="op" id="5415346">.</span><span class="ident" id="5415347">unit</span><span class="op" id="5415351">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415356">u</span>&nbsp;<span class="op" id="5415358">:=</span>&nbsp;<span class="op" id="5415361">&amp;</span><span class="ident" id="5415362">r</span><span class="op" id="5415363">.</span><span class="ident" id="5415364">d</span><span class="op" id="5415365">.</span><span class="ident" id="5415366">unit</span><span class="op" id="5415370">[</span><span class="ident" id="5415371">r</span><span class="op" id="5415372">.</span><span class="ident" id="5415373">unit</span><span class="op" id="5415377">]</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415381">r</span><span class="op" id="5415382">.</span><span class="ident" id="5415383">b</span>&nbsp;<span class="op" id="5415385">=</span>&nbsp;<span class="ident" id="5415387">makeBuf</span><span class="op" id="5415394">(</span><span class="ident" id="5415395">r</span><span class="op" id="5415396">.</span><span class="ident" id="5415397">d</span><span class="op" id="5415398">,</span>&nbsp;<span class="ident" id="5415400">u</span><span class="op" id="5415401">,</span>&nbsp;<span class="string" id="5415403">&#34;info&#34;</span><span class="op" id="5415409">,</span>&nbsp;<span class="ident" id="5415411">u</span><span class="op" id="5415412">.</span><span class="ident" id="5415413">off</span><span class="op" id="5415416">,</span>&nbsp;<span class="ident" id="5415418">u</span><span class="op" id="5415419">.</span><span class="ident" id="5415420">data</span><span class="op" id="5415424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5415427">}</span><br>
<span class="lineno"></span><span class="op" id="5415429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5415432">//&nbsp;Next&nbsp;reads&nbsp;the&nbsp;next&nbsp;entry&nbsp;from&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno">335</span><span class="comment" id="5415492">//&nbsp;It&nbsp;returns&nbsp;nil,&nbsp;nil&nbsp;when&nbsp;it&nbsp;reaches&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="5415555">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;error&nbsp;if&nbsp;the&nbsp;current&nbsp;offset&nbsp;is&nbsp;invalid&nbsp;or&nbsp;the&nbsp;data&nbsp;at&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5415630">//&nbsp;offset&nbsp;cannot&nbsp;be&nbsp;decoded&nbsp;as&nbsp;a&nbsp;valid&nbsp;Entry.</span><br>
<span class="lineno"></span><span class="keyword" id="5415676">func</span>&nbsp;<span class="op" id="5415681">(</span><span class="ident" id="5415682">r</span>&nbsp;<span class="op" id="5415684">*</span><span class="ident" id="5415685">Reader</span><span class="op" id="5415691">)</span>&nbsp;<span class="ident" id="5415693">Next</span><span class="op" id="5415697">(</span><span class="op" id="5415698">)</span>&nbsp;<span class="op" id="5415700">(</span><span class="op" id="5415701">*</span><span class="ident" id="5415702">Entry</span><span class="op" id="5415707">,</span>&nbsp;<span class="builtintype" id="5415709">error</span><span class="op" id="5415714">)</span>&nbsp;<span class="op" id="5415716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415719">if</span>&nbsp;<span class="ident" id="5415722">r</span><span class="op" id="5415723">.</span><span class="ident" id="5415724">err</span>&nbsp;<span class="op" id="5415728">!=</span>&nbsp;<span class="ident" id="5415731">nil</span>&nbsp;<span class="op" id="5415735">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415739">return</span>&nbsp;<span class="ident" id="5415746">nil</span><span class="op" id="5415749">,</span>&nbsp;<span class="ident" id="5415751">r</span><span class="op" id="5415752">.</span><span class="ident" id="5415753">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5415758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415761">r</span><span class="op" id="5415762">.</span><span class="ident" id="5415763">maybeNextUnit</span><span class="op" id="5415776">(</span><span class="op" id="5415777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415780">if</span>&nbsp;<span class="builtinfunc" id="5415783">len</span><span class="op" id="5415786">(</span><span class="ident" id="5415787">r</span><span class="op" id="5415788">.</span><span class="ident" id="5415789">b</span><span class="op" id="5415790">.</span><span class="ident" id="5415791">data</span><span class="op" id="5415795">)</span>&nbsp;<span class="op" id="5415797">==</span>&nbsp;<span class="num" id="5415800">0</span>&nbsp;<span class="op" id="5415802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415806">return</span>&nbsp;<span class="ident" id="5415813">nil</span><span class="op" id="5415816">,</span>&nbsp;<span class="ident" id="5415818">nil</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5415823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415826">u</span>&nbsp;<span class="op" id="5415828">:=</span>&nbsp;<span class="op" id="5415831">&amp;</span><span class="ident" id="5415832">r</span><span class="op" id="5415833">.</span><span class="ident" id="5415834">d</span><span class="op" id="5415835">.</span><span class="ident" id="5415836">unit</span><span class="op" id="5415840">[</span><span class="ident" id="5415841">r</span><span class="op" id="5415842">.</span><span class="ident" id="5415843">unit</span><span class="op" id="5415847">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415850">e</span>&nbsp;<span class="op" id="5415852">:=</span>&nbsp;<span class="ident" id="5415855">r</span><span class="op" id="5415856">.</span><span class="ident" id="5415857">b</span><span class="op" id="5415858">.</span><span class="ident" id="5415859">entry</span><span class="op" id="5415864">(</span><span class="ident" id="5415865">u</span><span class="op" id="5415866">.</span><span class="ident" id="5415867">atable</span><span class="op" id="5415873">,</span>&nbsp;<span class="ident" id="5415875">u</span><span class="op" id="5415876">.</span><span class="ident" id="5415877">base</span><span class="op" id="5415881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415884">if</span>&nbsp;<span class="ident" id="5415887">r</span><span class="op" id="5415888">.</span><span class="ident" id="5415889">b</span><span class="op" id="5415890">.</span><span class="ident" id="5415891">err</span>&nbsp;<span class="op" id="5415895">!=</span>&nbsp;<span class="ident" id="5415898">nil</span>&nbsp;<span class="op" id="5415902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415906">r</span><span class="op" id="5415907">.</span><span class="ident" id="5415908">err</span>&nbsp;<span class="op" id="5415912">=</span>&nbsp;<span class="ident" id="5415914">r</span><span class="op" id="5415915">.</span><span class="ident" id="5415916">b</span><span class="op" id="5415917">.</span><span class="ident" id="5415918">err</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415924">return</span>&nbsp;<span class="ident" id="5415931">nil</span><span class="op" id="5415934">,</span>&nbsp;<span class="ident" id="5415936">r</span><span class="op" id="5415937">.</span><span class="ident" id="5415938">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5415943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415946">if</span>&nbsp;<span class="ident" id="5415949">e</span>&nbsp;<span class="op" id="5415951">!=</span>&nbsp;<span class="ident" id="5415954">nil</span>&nbsp;<span class="op" id="5415958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5415962">r</span><span class="op" id="5415963">.</span><span class="ident" id="5415964">lastChildren</span>&nbsp;<span class="op" id="5415977">=</span>&nbsp;<span class="ident" id="5415979">e</span><span class="op" id="5415980">.</span><span class="ident" id="5415981">Children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5415992">if</span>&nbsp;<span class="ident" id="5415995">r</span><span class="op" id="5415996">.</span><span class="ident" id="5415997">lastChildren</span>&nbsp;<span class="op" id="5416010">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416015">r</span><span class="op" id="5416016">.</span><span class="ident" id="5416017">lastSibling</span><span class="op" id="5416028">,</span>&nbsp;<span class="ident" id="5416030">_</span>&nbsp;<span class="op" id="5416032">=</span>&nbsp;<span class="ident" id="5416034">e</span><span class="op" id="5416035">.</span><span class="ident" id="5416036">Val</span><span class="op" id="5416039">(</span><span class="ident" id="5416040">AttrSibling</span><span class="op" id="5416051">)</span><span class="op" id="5416052">.</span><span class="op" id="5416053">(</span><span class="ident" id="5416054">Offset</span><span class="op" id="5416060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416067">}</span>&nbsp;<span class="keyword" id="5416069">else</span>&nbsp;<span class="op" id="5416074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416078">r</span><span class="op" id="5416079">.</span><span class="ident" id="5416080">lastChildren</span>&nbsp;<span class="op" id="5416093">=</span>&nbsp;<span class="ident" id="5416095">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416102">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416105">return</span>&nbsp;<span class="ident" id="5416112">e</span><span class="op" id="5416113">,</span>&nbsp;<span class="ident" id="5416115">nil</span><br>
<span class="lineno"></span><span class="op" id="5416119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5416122">//&nbsp;SkipChildren&nbsp;skips&nbsp;over&nbsp;the&nbsp;child&nbsp;entries&nbsp;associated&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5416183">//&nbsp;the&nbsp;last&nbsp;Entry&nbsp;returned&nbsp;by&nbsp;Next.&nbsp;&nbsp;If&nbsp;that&nbsp;Entry&nbsp;did&nbsp;not&nbsp;have</span><br>
<span class="lineno">365</span><span class="comment" id="5416247">//&nbsp;children&nbsp;or&nbsp;Next&nbsp;has&nbsp;not&nbsp;been&nbsp;called,&nbsp;SkipChildren&nbsp;is&nbsp;a&nbsp;no-op.</span><br>
<span class="lineno"></span><span class="keyword" id="5416313">func</span>&nbsp;<span class="op" id="5416318">(</span><span class="ident" id="5416319">r</span>&nbsp;<span class="op" id="5416321">*</span><span class="ident" id="5416322">Reader</span><span class="op" id="5416328">)</span>&nbsp;<span class="ident" id="5416330">SkipChildren</span><span class="op" id="5416342">(</span><span class="op" id="5416343">)</span>&nbsp;<span class="op" id="5416345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416348">if</span>&nbsp;<span class="ident" id="5416351">r</span><span class="op" id="5416352">.</span><span class="ident" id="5416353">err</span>&nbsp;<span class="op" id="5416357">!=</span>&nbsp;<span class="ident" id="5416360">nil</span>&nbsp;<span class="op" id="5416364">||</span>&nbsp;<span class="op" id="5416367">!</span><span class="ident" id="5416368">r</span><span class="op" id="5416369">.</span><span class="ident" id="5416370">lastChildren</span>&nbsp;<span class="op" id="5416383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416387">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416395">}</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5416399">//&nbsp;If&nbsp;the&nbsp;last&nbsp;entry&nbsp;had&nbsp;a&nbsp;sibling&nbsp;attribute,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5416446">//&nbsp;that&nbsp;attribute&nbsp;gives&nbsp;the&nbsp;offset&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5416494">//&nbsp;sibling,&nbsp;so&nbsp;we&nbsp;can&nbsp;avoid&nbsp;decoding&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5416536">//&nbsp;child&nbsp;subtrees.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416556">if</span>&nbsp;<span class="ident" id="5416559">r</span><span class="op" id="5416560">.</span><span class="ident" id="5416561">lastSibling</span>&nbsp;<span class="op" id="5416573">&gt;=</span>&nbsp;<span class="ident" id="5416576">r</span><span class="op" id="5416577">.</span><span class="ident" id="5416578">b</span><span class="op" id="5416579">.</span><span class="ident" id="5416580">off</span>&nbsp;<span class="op" id="5416584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416588">r</span><span class="op" id="5416589">.</span><span class="ident" id="5416590">Seek</span><span class="op" id="5416594">(</span><span class="ident" id="5416595">r</span><span class="op" id="5416596">.</span><span class="ident" id="5416597">lastSibling</span><span class="op" id="5416608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416612">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416624">for</span>&nbsp;<span class="op" id="5416628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416632">e</span><span class="op" id="5416633">,</span>&nbsp;<span class="ident" id="5416635">err</span>&nbsp;<span class="op" id="5416639">:=</span>&nbsp;<span class="ident" id="5416642">r</span><span class="op" id="5416643">.</span><span class="ident" id="5416644">Next</span><span class="op" id="5416648">(</span><span class="op" id="5416649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416653">if</span>&nbsp;<span class="ident" id="5416656">err</span>&nbsp;<span class="op" id="5416660">!=</span>&nbsp;<span class="ident" id="5416663">nil</span>&nbsp;<span class="op" id="5416667">||</span>&nbsp;<span class="ident" id="5416670">e</span>&nbsp;<span class="op" id="5416672">==</span>&nbsp;<span class="ident" id="5416675">nil</span>&nbsp;<span class="op" id="5416679">||</span>&nbsp;<span class="ident" id="5416682">e</span><span class="op" id="5416683">.</span><span class="ident" id="5416684">Tag</span>&nbsp;<span class="op" id="5416688">==</span>&nbsp;<span class="num" id="5416691">0</span>&nbsp;<span class="op" id="5416693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416698">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416706">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416710">if</span>&nbsp;<span class="ident" id="5416713">e</span><span class="op" id="5416714">.</span><span class="ident" id="5416715">Children</span>&nbsp;<span class="op" id="5416724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5416729">r</span><span class="op" id="5416730">.</span><span class="ident" id="5416731">SkipChildren</span><span class="op" id="5416743">(</span><span class="op" id="5416744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5416751">}</span><br>
<span class="lineno"></span><span class="op" id="5416753">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span><span class="comment" id="5416756">//&nbsp;clone&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;reader.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the&nbsp;typeReader</span><br>
<span class="lineno"></span><span class="comment" id="5416827">//&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="5416841">func</span>&nbsp;<span class="op" id="5416846">(</span><span class="ident" id="5416847">r</span>&nbsp;<span class="op" id="5416849">*</span><span class="ident" id="5416850">Reader</span><span class="op" id="5416856">)</span>&nbsp;<span class="ident" id="5416858">clone</span><span class="op" id="5416863">(</span><span class="op" id="5416864">)</span>&nbsp;<span class="ident" id="5416866">typeReader</span>&nbsp;<span class="op" id="5416877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5416880">return</span>&nbsp;<span class="ident" id="5416887">r</span><span class="op" id="5416888">.</span><span class="ident" id="5416889">d</span><span class="op" id="5416890">.</span><span class="ident" id="5416891">Reader</span><span class="op" id="5416897">(</span><span class="op" id="5416898">)</span><br>
<span class="lineno">395</span><span class="op" id="5416900">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5416903">//&nbsp;offset&nbsp;returns&nbsp;the&nbsp;current&nbsp;buffer&nbsp;offset.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5416969">//&nbsp;typeReader&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="5416994">func</span>&nbsp;<span class="op" id="5416999">(</span><span class="ident" id="5417000">r</span>&nbsp;<span class="op" id="5417002">*</span><span class="ident" id="5417003">Reader</span><span class="op" id="5417009">)</span>&nbsp;<span class="ident" id="5417011">offset</span><span class="op" id="5417017">(</span><span class="op" id="5417018">)</span>&nbsp;<span class="ident" id="5417020">Offset</span>&nbsp;<span class="op" id="5417027">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5417030">return</span>&nbsp;<span class="ident" id="5417037">r</span><span class="op" id="5417038">.</span><span class="ident" id="5417039">b</span><span class="op" id="5417040">.</span><span class="ident" id="5417041">off</span><br>
<span class="lineno"></span><span class="op" id="5417045">}</span>
</div>
</body>
</html>
