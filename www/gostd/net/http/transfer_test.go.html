<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html" class="current">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8288965">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8289020">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8289074">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8289125">package</span>&nbsp;<span class="ident" id="8289133">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8289139">import</span>&nbsp;<span class="op" id="8289146">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8289149">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8289158">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8289164">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8289175">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8289185">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8289188">func</span>&nbsp;<span class="ident" id="8289193">TestBodyReadBadTrailer</span><span class="op" id="8289215">(</span><span class="ident" id="8289216">t</span>&nbsp;<span class="op" id="8289218">*</span><span class="ident" id="8289219">testing</span><span class="op" id="8289226">.</span><span class="ident" id="8289227">T</span><span class="op" id="8289228">)</span>&nbsp;<span class="op" id="8289230">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289233">b</span>&nbsp;<span class="op" id="8289235">:=</span>&nbsp;<span class="op" id="8289238">&amp;</span><span class="ident" id="8289239">body</span><span class="op" id="8289243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289247">src</span><span class="op" id="8289250">:</span>&nbsp;<span class="ident" id="8289252">strings</span><span class="op" id="8289259">.</span><span class="ident" id="8289260">NewReader</span><span class="op" id="8289269">(</span><span class="string" id="8289270">&#34;foobar&#34;</span><span class="op" id="8289278">)</span><span class="op" id="8289279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289283">hdr</span><span class="op" id="8289286">:</span>&nbsp;<span class="builtintype" id="8289288">true</span><span class="op" id="8289292">,</span>&nbsp;<span class="comment" id="8289294">//&nbsp;force&nbsp;reading&nbsp;the&nbsp;trailer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289325">r</span><span class="op" id="8289326">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8289330">bufio</span><span class="op" id="8289335">.</span><span class="ident" id="8289336">NewReader</span><span class="op" id="8289345">(</span><span class="ident" id="8289346">strings</span><span class="op" id="8289353">.</span><span class="ident" id="8289354">NewReader</span><span class="op" id="8289363">(</span><span class="string" id="8289364">&#34;&#34;</span><span class="op" id="8289366">)</span><span class="op" id="8289367">)</span><span class="op" id="8289368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8289371">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289374">buf</span>&nbsp;<span class="op" id="8289378">:=</span>&nbsp;<span class="builtinfunc" id="8289381">make</span><span class="op" id="8289385">(</span><span class="op" id="8289386">[</span><span class="op" id="8289387">]</span><span class="builtintype" id="8289388">byte</span><span class="op" id="8289392">,</span>&nbsp;<span class="num" id="8289394">7</span><span class="op" id="8289395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289398">n</span><span class="op" id="8289399">,</span>&nbsp;<span class="ident" id="8289401">err</span>&nbsp;<span class="op" id="8289405">:=</span>&nbsp;<span class="ident" id="8289408">b</span><span class="op" id="8289409">.</span><span class="ident" id="8289410">Read</span><span class="op" id="8289414">(</span><span class="ident" id="8289415">buf</span><span class="op" id="8289418">[</span><span class="op" id="8289419">:</span><span class="num" id="8289420">3</span><span class="op" id="8289421">]</span><span class="op" id="8289422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289425">got</span>&nbsp;<span class="op" id="8289429">:=</span>&nbsp;<span class="builtintype" id="8289432">string</span><span class="op" id="8289438">(</span><span class="ident" id="8289439">buf</span><span class="op" id="8289442">[</span><span class="op" id="8289443">:</span><span class="ident" id="8289444">n</span><span class="op" id="8289445">]</span><span class="op" id="8289446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8289449">if</span>&nbsp;<span class="ident" id="8289452">got</span>&nbsp;<span class="op" id="8289456">!=</span>&nbsp;<span class="string" id="8289459">&#34;foo&#34;</span>&nbsp;<span class="op" id="8289465">||</span>&nbsp;<span class="ident" id="8289468">err</span>&nbsp;<span class="op" id="8289472">!=</span>&nbsp;<span class="ident" id="8289475">nil</span>&nbsp;<span class="op" id="8289479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289483">t</span><span class="op" id="8289484">.</span><span class="ident" id="8289485">Fatalf</span><span class="op" id="8289491">(</span><span class="string" id="8289492">`first&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;foo&#34;)`</span><span class="op" id="8289534">,</span>&nbsp;<span class="ident" id="8289536">n</span><span class="op" id="8289537">,</span>&nbsp;<span class="ident" id="8289539">got</span><span class="op" id="8289542">,</span>&nbsp;<span class="ident" id="8289544">err</span><span class="op" id="8289547">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8289550">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289554">n</span><span class="op" id="8289555">,</span>&nbsp;<span class="ident" id="8289557">err</span>&nbsp;<span class="op" id="8289561">=</span>&nbsp;<span class="ident" id="8289563">b</span><span class="op" id="8289564">.</span><span class="ident" id="8289565">Read</span><span class="op" id="8289569">(</span><span class="ident" id="8289570">buf</span><span class="op" id="8289573">[</span><span class="op" id="8289574">:</span><span class="op" id="8289575">]</span><span class="op" id="8289576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289579">got</span>&nbsp;<span class="op" id="8289583">=</span>&nbsp;<span class="builtintype" id="8289585">string</span><span class="op" id="8289591">(</span><span class="ident" id="8289592">buf</span><span class="op" id="8289595">[</span><span class="op" id="8289596">:</span><span class="ident" id="8289597">n</span><span class="op" id="8289598">]</span><span class="op" id="8289599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8289602">if</span>&nbsp;<span class="ident" id="8289605">got</span>&nbsp;<span class="op" id="8289609">!=</span>&nbsp;<span class="string" id="8289612">&#34;bar&#34;</span>&nbsp;<span class="op" id="8289618">||</span>&nbsp;<span class="ident" id="8289621">err</span>&nbsp;<span class="op" id="8289625">!=</span>&nbsp;<span class="ident" id="8289628">nil</span>&nbsp;<span class="op" id="8289632">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289636">t</span><span class="op" id="8289637">.</span><span class="ident" id="8289638">Fatalf</span><span class="op" id="8289644">(</span><span class="string" id="8289645">`second&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;bar&#34;)`</span><span class="op" id="8289688">,</span>&nbsp;<span class="ident" id="8289690">n</span><span class="op" id="8289691">,</span>&nbsp;<span class="ident" id="8289693">got</span><span class="op" id="8289696">,</span>&nbsp;<span class="ident" id="8289698">err</span><span class="op" id="8289701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8289704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289708">n</span><span class="op" id="8289709">,</span>&nbsp;<span class="ident" id="8289711">err</span>&nbsp;<span class="op" id="8289715">=</span>&nbsp;<span class="ident" id="8289717">b</span><span class="op" id="8289718">.</span><span class="ident" id="8289719">Read</span><span class="op" id="8289723">(</span><span class="ident" id="8289724">buf</span><span class="op" id="8289727">[</span><span class="op" id="8289728">:</span><span class="op" id="8289729">]</span><span class="op" id="8289730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289733">got</span>&nbsp;<span class="op" id="8289737">=</span>&nbsp;<span class="builtintype" id="8289739">string</span><span class="op" id="8289745">(</span><span class="ident" id="8289746">buf</span><span class="op" id="8289749">[</span><span class="op" id="8289750">:</span><span class="ident" id="8289751">n</span><span class="op" id="8289752">]</span><span class="op" id="8289753">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8289756">if</span>&nbsp;<span class="ident" id="8289759">err</span>&nbsp;<span class="op" id="8289763">==</span>&nbsp;<span class="ident" id="8289766">nil</span>&nbsp;<span class="op" id="8289770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289774">t</span><span class="op" id="8289775">.</span><span class="ident" id="8289776">Errorf</span><span class="op" id="8289782">(</span><span class="string" id="8289783">&#34;final&nbsp;Read&nbsp;was&nbsp;successful&nbsp;(%q),&nbsp;expected&nbsp;error&nbsp;from&nbsp;trailer&nbsp;read&#34;</span><span class="op" id="8289849">,</span>&nbsp;<span class="ident" id="8289851">got</span><span class="op" id="8289854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8289857">}</span><br>
<span class="lineno"></span><span class="op" id="8289859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="8289862">func</span>&nbsp;<span class="ident" id="8289867">TestFinalChunkedBodyReadEOF</span><span class="op" id="8289894">(</span><span class="ident" id="8289895">t</span>&nbsp;<span class="op" id="8289897">*</span><span class="ident" id="8289898">testing</span><span class="op" id="8289905">.</span><span class="ident" id="8289906">T</span><span class="op" id="8289907">)</span>&nbsp;<span class="op" id="8289909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289912">res</span><span class="op" id="8289915">,</span>&nbsp;<span class="ident" id="8289917">err</span>&nbsp;<span class="op" id="8289921">:=</span>&nbsp;<span class="ident" id="8289924">ReadResponse</span><span class="op" id="8289936">(</span><span class="ident" id="8289937">bufio</span><span class="op" id="8289942">.</span><span class="ident" id="8289943">NewReader</span><span class="op" id="8289952">(</span><span class="ident" id="8289953">strings</span><span class="op" id="8289960">.</span><span class="ident" id="8289961">NewReader</span><span class="op" id="8289970">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8289974">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span><span class="op" id="8289995">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290000">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span><span class="op" id="8290032">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290037">&#34;\r\n&#34;</span><span class="op" id="8290043">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290048">&#34;0a\r\n&#34;</span><span class="op" id="8290056">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290061">&#34;Body&nbsp;here\n\r\n&#34;</span><span class="op" id="8290078">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290083">&#34;09\r\n&#34;</span><span class="op" id="8290091">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290096">&#34;continued\r\n&#34;</span><span class="op" id="8290111">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290116">&#34;0\r\n&#34;</span><span class="op" id="8290123">+</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290128">&#34;\r\n&#34;</span><span class="op" id="8290134">)</span><span class="op" id="8290135">)</span><span class="op" id="8290136">,</span>&nbsp;<span class="ident" id="8290138">nil</span><span class="op" id="8290141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8290144">if</span>&nbsp;<span class="ident" id="8290147">err</span>&nbsp;<span class="op" id="8290151">!=</span>&nbsp;<span class="ident" id="8290154">nil</span>&nbsp;<span class="op" id="8290158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290162">t</span><span class="op" id="8290163">.</span><span class="ident" id="8290164">Fatal</span><span class="op" id="8290169">(</span><span class="ident" id="8290170">err</span><span class="op" id="8290173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8290176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290179">want</span>&nbsp;<span class="op" id="8290184">:=</span>&nbsp;<span class="string" id="8290187">&#34;Body&nbsp;here\ncontinued&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290211">buf</span>&nbsp;<span class="op" id="8290215">:=</span>&nbsp;<span class="builtinfunc" id="8290218">make</span><span class="op" id="8290222">(</span><span class="op" id="8290223">[</span><span class="op" id="8290224">]</span><span class="builtintype" id="8290225">byte</span><span class="op" id="8290229">,</span>&nbsp;<span class="builtinfunc" id="8290231">len</span><span class="op" id="8290234">(</span><span class="ident" id="8290235">want</span><span class="op" id="8290239">)</span><span class="op" id="8290240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290243">n</span><span class="op" id="8290244">,</span>&nbsp;<span class="ident" id="8290246">err</span>&nbsp;<span class="op" id="8290250">:=</span>&nbsp;<span class="ident" id="8290253">res</span><span class="op" id="8290256">.</span><span class="ident" id="8290257">Body</span><span class="op" id="8290261">.</span><span class="ident" id="8290262">Read</span><span class="op" id="8290266">(</span><span class="ident" id="8290267">buf</span><span class="op" id="8290270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8290273">if</span>&nbsp;<span class="ident" id="8290276">n</span>&nbsp;<span class="op" id="8290278">!=</span>&nbsp;<span class="builtinfunc" id="8290281">len</span><span class="op" id="8290284">(</span><span class="ident" id="8290285">want</span><span class="op" id="8290289">)</span>&nbsp;<span class="op" id="8290291">||</span>&nbsp;<span class="ident" id="8290294">err</span>&nbsp;<span class="op" id="8290298">!=</span>&nbsp;<span class="ident" id="8290301">io</span><span class="op" id="8290303">.</span><span class="ident" id="8290304">EOF</span>&nbsp;<span class="op" id="8290308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290312">t</span><span class="op" id="8290313">.</span><span class="ident" id="8290314">Logf</span><span class="op" id="8290318">(</span><span class="string" id="8290319">&#34;body&nbsp;=&nbsp;%#v&#34;</span><span class="op" id="8290331">,</span>&nbsp;<span class="ident" id="8290333">res</span><span class="op" id="8290336">.</span><span class="ident" id="8290337">Body</span><span class="op" id="8290341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290345">t</span><span class="op" id="8290346">.</span><span class="ident" id="8290347">Errorf</span><span class="op" id="8290353">(</span><span class="string" id="8290354">&#34;Read&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%d,&nbsp;EOF&#34;</span><span class="op" id="8290383">,</span>&nbsp;<span class="ident" id="8290385">n</span><span class="op" id="8290386">,</span>&nbsp;<span class="ident" id="8290388">err</span><span class="op" id="8290391">,</span>&nbsp;<span class="builtinfunc" id="8290393">len</span><span class="op" id="8290396">(</span><span class="ident" id="8290397">want</span><span class="op" id="8290401">)</span><span class="op" id="8290402">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8290405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8290408">if</span>&nbsp;<span class="builtintype" id="8290411">string</span><span class="op" id="8290417">(</span><span class="ident" id="8290418">buf</span><span class="op" id="8290421">)</span>&nbsp;<span class="op" id="8290423">!=</span>&nbsp;<span class="ident" id="8290426">want</span>&nbsp;<span class="op" id="8290431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290435">t</span><span class="op" id="8290436">.</span><span class="ident" id="8290437">Errorf</span><span class="op" id="8290443">(</span><span class="string" id="8290444">&#34;buf&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8290463">,</span>&nbsp;<span class="ident" id="8290465">buf</span><span class="op" id="8290468">,</span>&nbsp;<span class="ident" id="8290470">want</span><span class="op" id="8290474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8290477">}</span><br>
<span class="lineno"></span><span class="op" id="8290479">}</span>
</div>
</body>
</html>
