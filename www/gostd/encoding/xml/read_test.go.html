<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7436035">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7436090">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7436144">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7436195">package</span>&nbsp;<span class="ident" id="7436203">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7436208">import</span>&nbsp;<span class="op" id="7436215">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7436218">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7436224">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7436235">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7436246">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7436257">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7436264">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="7436267">//&nbsp;Stripped&nbsp;down&nbsp;Atom&nbsp;feed&nbsp;data&nbsp;structures.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7436312">func</span>&nbsp;<span class="ident" id="7436317">TestUnmarshalFeed</span><span class="op" id="7436334">(</span><span class="ident" id="7436335">t</span>&nbsp;<span class="op" id="7436337">*</span><span class="ident" id="7436338">testing</span><span class="op" id="7436345">.</span><span class="ident" id="7436346">T</span><span class="op" id="7436347">)</span>&nbsp;<span class="op" id="7436349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436352">var</span>&nbsp;<span class="ident" id="7436356">f</span>&nbsp;<span class="ident" id="7436358">Feed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436364">if</span>&nbsp;<span class="ident" id="7436367">err</span>&nbsp;<span class="op" id="7436371">:=</span>&nbsp;<span class="ident" id="7436374">Unmarshal</span><span class="op" id="7436383">(</span><span class="op" id="7436384">[</span><span class="op" id="7436385">]</span><span class="builtintype" id="7436386">byte</span><span class="op" id="7436390">(</span><span class="ident" id="7436391">atomFeedString</span><span class="op" id="7436405">)</span><span class="op" id="7436406">,</span>&nbsp;<span class="op" id="7436408">&amp;</span><span class="ident" id="7436409">f</span><span class="op" id="7436410">)</span><span class="op" id="7436411">;</span>&nbsp;<span class="ident" id="7436413">err</span>&nbsp;<span class="op" id="7436417">!=</span>&nbsp;<span class="ident" id="7436420">nil</span>&nbsp;<span class="op" id="7436424">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436428">t</span><span class="op" id="7436429">.</span><span class="ident" id="7436430">Fatalf</span><span class="op" id="7436436">(</span><span class="string" id="7436437">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7436452">,</span>&nbsp;<span class="ident" id="7436454">err</span><span class="op" id="7436457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7436460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436463">if</span>&nbsp;<span class="op" id="7436466">!</span><span class="ident" id="7436467">reflect</span><span class="op" id="7436474">.</span><span class="ident" id="7436475">DeepEqual</span><span class="op" id="7436484">(</span><span class="ident" id="7436485">f</span><span class="op" id="7436486">,</span>&nbsp;<span class="ident" id="7436488">atomFeed</span><span class="op" id="7436496">)</span>&nbsp;<span class="op" id="7436498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436502">t</span><span class="op" id="7436503">.</span><span class="ident" id="7436504">Fatalf</span><span class="op" id="7436510">(</span><span class="string" id="7436511">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="7436531">,</span>&nbsp;<span class="ident" id="7436533">f</span><span class="op" id="7436534">,</span>&nbsp;<span class="ident" id="7436536">atomFeed</span><span class="op" id="7436544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7436547">}</span><br>
<span class="lineno">25</span><span class="op" id="7436549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7436552">//&nbsp;hget&nbsp;http://codereview.appspot.com/rss/mine/rsc</span><br>
<span class="lineno"></span><span class="keyword" id="7436603">const</span>&nbsp;<span class="ident" id="7436609">atomFeedString</span>&nbsp;<span class="op" id="7436624">=</span>&nbsp;<span class="string" id="7436626">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno">30</span>&lt;feed&nbsp;xmlns=&#34;http://www.w3.org/2005/Atom&#34;&nbsp;xml:lang=&#34;en-us&#34;&nbsp;updated=&#34;2009-10-04T01:35:58+00:00&#34;&gt;&lt;title&gt;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/rss/mine/rsc&#34;&nbsp;rel=&#34;self&#34;&gt;&lt;/link&gt;&lt;id&gt;http://codereview.appspot.com/&lt;/id&gt;&lt;author&gt;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&lt;/author&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/126085&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-04T01:35:58+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:134d9179c41f806be79b3a5f7877d19a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">35</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;amp;lt;link&nbsp;rel=&amp;amp;quot;hub&amp;amp;quot;&nbsp;href=&amp;amp;quot;hub-server&amp;amp;quot;&amp;amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">45</span><br>
<span class="lineno"></span>I&nbsp;can&amp;amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;amp;quot;self&amp;amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">50</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">55</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">60</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/124106&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-03T23:02:17+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">65</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">70</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">75</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;/feed&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7439615">type</span>&nbsp;<span class="ident" id="7439620">Feed</span>&nbsp;<span class="keyword" id="7439625">struct</span>&nbsp;<span class="op" id="7439632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439635">XMLName</span>&nbsp;<span class="ident" id="7439643">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7439653">`xml:&#34;http://www.w3.org/2005/Atom&nbsp;feed&#34;`</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439695">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7439703">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7439713">`xml:&#34;title&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439728">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7439736">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7439746">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439758">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7439766">[</span><span class="op" id="7439767">]</span><span class="ident" id="7439768">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7439776">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439790">Updated</span>&nbsp;<span class="ident" id="7439798">time</span><span class="op" id="7439802">.</span><span class="ident" id="7439803">Time</span>&nbsp;<span class="string" id="7439808">`xml:&#34;updated,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439830">Author</span>&nbsp;&nbsp;<span class="ident" id="7439838">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7439848">`xml:&#34;author&#34;`</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439864">Entry</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7439872">[</span><span class="op" id="7439873">]</span><span class="ident" id="7439874">Entry</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7439882">`xml:&#34;entry&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7439896">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7439899">type</span>&nbsp;<span class="ident" id="7439904">Entry</span>&nbsp;<span class="keyword" id="7439910">struct</span>&nbsp;<span class="op" id="7439917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439920">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7439928">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7439938">`xml:&#34;title&#34;`</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439953">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7439961">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7439971">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439983">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7439991">[</span><span class="op" id="7439992">]</span><span class="ident" id="7439993">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7440001">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440015">Updated</span>&nbsp;<span class="ident" id="7440023">time</span><span class="op" id="7440027">.</span><span class="ident" id="7440028">Time</span>&nbsp;<span class="string" id="7440033">`xml:&#34;updated&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440050">Author</span>&nbsp;&nbsp;<span class="ident" id="7440058">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7440068">`xml:&#34;author&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440084">Summary</span>&nbsp;<span class="ident" id="7440092">Text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7440102">`xml:&#34;summary&#34;`</span><br>
<span class="lineno">100</span><span class="op" id="7440118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7440121">type</span>&nbsp;<span class="ident" id="7440126">Link</span>&nbsp;<span class="keyword" id="7440131">struct</span>&nbsp;<span class="op" id="7440138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440141">Rel</span>&nbsp;&nbsp;<span class="builtintype" id="7440146">string</span>&nbsp;<span class="string" id="7440153">`xml:&#34;rel,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440181">Href</span>&nbsp;<span class="builtintype" id="7440186">string</span>&nbsp;<span class="string" id="7440193">`xml:&#34;href,attr&#34;`</span><br>
<span class="lineno">105</span><span class="op" id="7440211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7440214">type</span>&nbsp;<span class="ident" id="7440219">Person</span>&nbsp;<span class="keyword" id="7440226">struct</span>&nbsp;<span class="op" id="7440233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440236">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7440245">string</span>&nbsp;<span class="string" id="7440252">`xml:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440266">URI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7440275">string</span>&nbsp;<span class="string" id="7440282">`xml:&#34;uri&#34;`</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440295">Email</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7440304">string</span>&nbsp;<span class="string" id="7440311">`xml:&#34;email&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440326">InnerXML</span>&nbsp;<span class="builtintype" id="7440335">string</span>&nbsp;<span class="string" id="7440342">`xml:&#34;,innerxml&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7440360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7440363">type</span>&nbsp;<span class="ident" id="7440368">Text</span>&nbsp;<span class="keyword" id="7440373">struct</span>&nbsp;<span class="op" id="7440380">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440383">Type</span>&nbsp;<span class="builtintype" id="7440388">string</span>&nbsp;<span class="string" id="7440395">`xml:&#34;type,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440424">Body</span>&nbsp;<span class="builtintype" id="7440429">string</span>&nbsp;<span class="string" id="7440436">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7440454">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7440457">var</span>&nbsp;<span class="ident" id="7440461">atomFeed</span>&nbsp;<span class="op" id="7440470">=</span>&nbsp;<span class="ident" id="7440472">Feed</span><span class="op" id="7440476">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440479">XMLName</span><span class="op" id="7440486">:</span>&nbsp;<span class="ident" id="7440488">Name</span><span class="op" id="7440492">{</span><span class="string" id="7440493">&#34;http://www.w3.org/2005/Atom&#34;</span><span class="op" id="7440522">,</span>&nbsp;<span class="string" id="7440524">&#34;feed&#34;</span><span class="op" id="7440530">}</span><span class="op" id="7440531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440534">Title</span><span class="op" id="7440539">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7440543">&#34;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&#34;</span><span class="op" id="7440568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440571">Link</span><span class="op" id="7440575">:</span>&nbsp;<span class="op" id="7440577">[</span><span class="op" id="7440578">]</span><span class="ident" id="7440579">Link</span><span class="op" id="7440583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440587">{</span><span class="ident" id="7440588">Rel</span><span class="op" id="7440591">:</span>&nbsp;<span class="string" id="7440593">&#34;alternate&#34;</span><span class="op" id="7440604">,</span>&nbsp;<span class="ident" id="7440606">Href</span><span class="op" id="7440610">:</span>&nbsp;<span class="string" id="7440612">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="7440644">}</span><span class="op" id="7440645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440649">{</span><span class="ident" id="7440650">Rel</span><span class="op" id="7440653">:</span>&nbsp;<span class="string" id="7440655">&#34;self&#34;</span><span class="op" id="7440661">,</span>&nbsp;<span class="ident" id="7440663">Href</span><span class="op" id="7440667">:</span>&nbsp;<span class="string" id="7440669">&#34;http://codereview.appspot.com/rss/mine/rsc&#34;</span><span class="op" id="7440713">}</span><span class="op" id="7440714">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440717">}</span><span class="op" id="7440718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440721">Id</span><span class="op" id="7440723">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7440730">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="7440762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440765">Updated</span><span class="op" id="7440772">:</span>&nbsp;<span class="ident" id="7440774">ParseTime</span><span class="op" id="7440783">(</span><span class="string" id="7440784">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="7440811">)</span><span class="op" id="7440812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440815">Author</span><span class="op" id="7440821">:</span>&nbsp;<span class="ident" id="7440823">Person</span><span class="op" id="7440829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440833">Name</span><span class="op" id="7440837">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7440843">&#34;rietveld&lt;&gt;&#34;</span><span class="op" id="7440855">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440859">InnerXML</span><span class="op" id="7440867">:</span>&nbsp;<span class="string" id="7440869">&#34;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&#34;</span><span class="op" id="7440900">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440903">}</span><span class="op" id="7440904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440907">Entry</span><span class="op" id="7440912">:</span>&nbsp;<span class="op" id="7440914">[</span><span class="op" id="7440915">]</span><span class="ident" id="7440916">Entry</span><span class="op" id="7440921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440930">Title</span><span class="op" id="7440935">:</span>&nbsp;<span class="string" id="7440937">&#34;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub\n&#34;</span><span class="op" id="7440977">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440982">Link</span><span class="op" id="7440986">:</span>&nbsp;<span class="op" id="7440988">[</span><span class="op" id="7440989">]</span><span class="ident" id="7440990">Link</span><span class="op" id="7440994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441000">{</span><span class="ident" id="7441001">Rel</span><span class="op" id="7441004">:</span>&nbsp;<span class="string" id="7441006">&#34;alternate&#34;</span><span class="op" id="7441017">,</span>&nbsp;<span class="ident" id="7441019">Href</span><span class="op" id="7441023">:</span>&nbsp;<span class="string" id="7441025">&#34;http://codereview.appspot.com/126085&#34;</span><span class="op" id="7441063">}</span><span class="op" id="7441064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441069">}</span><span class="op" id="7441070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441075">Updated</span><span class="op" id="7441082">:</span>&nbsp;<span class="ident" id="7441084">ParseTime</span><span class="op" id="7441093">(</span><span class="string" id="7441094">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="7441121">)</span><span class="op" id="7441122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441127">Author</span><span class="op" id="7441133">:</span>&nbsp;<span class="ident" id="7441135">Person</span><span class="op" id="7441141">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441147">Name</span><span class="op" id="7441151">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7441157">&#34;email-address-removed&#34;</span><span class="op" id="7441180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441186">InnerXML</span><span class="op" id="7441194">:</span>&nbsp;<span class="string" id="7441196">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="7441232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441237">}</span><span class="op" id="7441238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441243">Id</span><span class="op" id="7441245">:</span>&nbsp;<span class="string" id="7441247">&#34;urn:md5:134d9179c41f806be79b3a5f7877d19a&#34;</span><span class="op" id="7441289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441294">Summary</span><span class="op" id="7441301">:</span>&nbsp;<span class="ident" id="7441303">Text</span><span class="op" id="7441307">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441313">Type</span><span class="op" id="7441317">:</span>&nbsp;<span class="string" id="7441319">&#34;html&#34;</span><span class="op" id="7441325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441331">Body</span><span class="op" id="7441335">:</span>&nbsp;<span class="string" id="7441337">`<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">150</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;lt;link&nbsp;rel=&amp;quot;hub&amp;quot;&nbsp;href=&amp;quot;hub-server&amp;quot;&amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">160</span><br>
<span class="lineno"></span>I&nbsp;can&amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;quot;self&amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">165</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">170</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">175</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span><span class="op" id="7442569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442574">}</span><span class="op" id="7442575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442579">}</span><span class="op" id="7442580">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442589">Title</span><span class="op" id="7442594">:</span>&nbsp;<span class="string" id="7442596">&#34;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling\n&#34;</span><span class="op" id="7442630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442635">Link</span><span class="op" id="7442639">:</span>&nbsp;<span class="op" id="7442641">[</span><span class="op" id="7442642">]</span><span class="ident" id="7442643">Link</span><span class="op" id="7442647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442653">{</span><span class="ident" id="7442654">Rel</span><span class="op" id="7442657">:</span>&nbsp;<span class="string" id="7442659">&#34;alternate&#34;</span><span class="op" id="7442670">,</span>&nbsp;<span class="ident" id="7442672">Href</span><span class="op" id="7442676">:</span>&nbsp;<span class="string" id="7442678">&#34;http://codereview.appspot.com/124106&#34;</span><span class="op" id="7442716">}</span><span class="op" id="7442717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442722">}</span><span class="op" id="7442723">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442728">Updated</span><span class="op" id="7442735">:</span>&nbsp;<span class="ident" id="7442737">ParseTime</span><span class="op" id="7442746">(</span><span class="string" id="7442747">&#34;2009-10-03T23:02:17+00:00&#34;</span><span class="op" id="7442774">)</span><span class="op" id="7442775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442780">Author</span><span class="op" id="7442786">:</span>&nbsp;<span class="ident" id="7442788">Person</span><span class="op" id="7442794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442800">Name</span><span class="op" id="7442804">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7442810">&#34;email-address-removed&#34;</span><span class="op" id="7442833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442839">InnerXML</span><span class="op" id="7442847">:</span>&nbsp;<span class="string" id="7442849">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="7442885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442890">}</span><span class="op" id="7442891">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442896">Id</span><span class="op" id="7442898">:</span>&nbsp;<span class="string" id="7442900">&#34;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&#34;</span><span class="op" id="7442942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442947">Summary</span><span class="op" id="7442954">:</span>&nbsp;<span class="ident" id="7442956">Text</span><span class="op" id="7442960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442966">Type</span><span class="op" id="7442970">:</span>&nbsp;<span class="string" id="7442972">&#34;html&#34;</span><span class="op" id="7442978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442984">Body</span><span class="op" id="7442988">:</span>&nbsp;<span class="string" id="7442990">`<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">195</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">200</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">205</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>`</span><span class="op" id="7443668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7443673">}</span><span class="op" id="7443674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7443678">}</span><span class="op" id="7443679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7443682">}</span><span class="op" id="7443683">,</span><br>
<span class="lineno">215</span><span class="op" id="7443685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7443688">const</span>&nbsp;<span class="ident" id="7443694">pathTestString</span>&nbsp;<span class="op" id="7443709">=</span>&nbsp;<span class="string" id="7443711">`<br>
<span class="lineno"></span>&lt;Result&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Before&gt;1&lt;/Before&gt;<br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Items&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;A&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item2&gt;<br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;B&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;C&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;D&lt;/Value&gt;<br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;E&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Items&gt;<br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;After&gt;2&lt;/After&gt;<br>
<span class="lineno"></span>&lt;/Result&gt;<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7444073">type</span>&nbsp;<span class="ident" id="7444078">PathTestItem</span>&nbsp;<span class="keyword" id="7444091">struct</span>&nbsp;<span class="op" id="7444098">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444101">Value</span>&nbsp;<span class="builtintype" id="7444107">string</span><br>
<span class="lineno"></span><span class="op" id="7444114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7444117">type</span>&nbsp;<span class="ident" id="7444122">PathTestA</span>&nbsp;<span class="keyword" id="7444132">struct</span>&nbsp;<span class="op" id="7444139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444142">Items</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7444156">[</span><span class="op" id="7444157">]</span><span class="ident" id="7444158">PathTestItem</span>&nbsp;<span class="string" id="7444171">`xml:&#34;&gt;Item1&#34;`</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444187">Before</span><span class="op" id="7444193">,</span>&nbsp;<span class="ident" id="7444195">After</span>&nbsp;<span class="builtintype" id="7444201">string</span><br>
<span class="lineno"></span><span class="op" id="7444208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7444211">type</span>&nbsp;<span class="ident" id="7444216">PathTestB</span>&nbsp;<span class="keyword" id="7444226">struct</span>&nbsp;<span class="op" id="7444233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444236">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7444250">[</span><span class="op" id="7444251">]</span><span class="ident" id="7444252">PathTestItem</span>&nbsp;<span class="string" id="7444265">`xml:&#34;Items&gt;Item1&#34;`</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444286">Before</span><span class="op" id="7444292">,</span>&nbsp;<span class="ident" id="7444294">After</span>&nbsp;<span class="builtintype" id="7444300">string</span><br>
<span class="lineno"></span><span class="op" id="7444307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7444310">type</span>&nbsp;<span class="ident" id="7444315">PathTestC</span>&nbsp;<span class="keyword" id="7444325">struct</span>&nbsp;<span class="op" id="7444332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444335">Values1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7444349">[</span><span class="op" id="7444350">]</span><span class="builtintype" id="7444351">string</span>&nbsp;<span class="string" id="7444358">`xml:&#34;Items&gt;Item1&gt;Value&#34;`</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444385">Values2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7444399">[</span><span class="op" id="7444400">]</span><span class="builtintype" id="7444401">string</span>&nbsp;<span class="string" id="7444408">`xml:&#34;Items&gt;Item2&gt;Value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444435">Before</span><span class="op" id="7444441">,</span>&nbsp;<span class="ident" id="7444443">After</span>&nbsp;<span class="builtintype" id="7444449">string</span><br>
<span class="lineno"></span><span class="op" id="7444456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7444459">type</span>&nbsp;<span class="ident" id="7444464">PathTestSet</span>&nbsp;<span class="keyword" id="7444476">struct</span>&nbsp;<span class="op" id="7444483">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444486">Item1</span>&nbsp;<span class="op" id="7444492">[</span><span class="op" id="7444493">]</span><span class="ident" id="7444494">PathTestItem</span><br>
<span class="lineno"></span><span class="op" id="7444507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7444510">type</span>&nbsp;<span class="ident" id="7444515">PathTestD</span>&nbsp;<span class="keyword" id="7444525">struct</span>&nbsp;<span class="op" id="7444532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444535">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7444549">PathTestSet</span>&nbsp;<span class="string" id="7444561">`xml:&#34;Items&#34;`</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444576">Before</span><span class="op" id="7444582">,</span>&nbsp;<span class="ident" id="7444584">After</span>&nbsp;<span class="builtintype" id="7444590">string</span><br>
<span class="lineno"></span><span class="op" id="7444597">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7444600">type</span>&nbsp;<span class="ident" id="7444605">PathTestE</span>&nbsp;<span class="keyword" id="7444615">struct</span>&nbsp;<span class="op" id="7444622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444625">Underline</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7444639">string</span>&nbsp;<span class="string" id="7444646">`xml:&#34;Items&gt;_&gt;Value&#34;`</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7444669">Before</span><span class="op" id="7444675">,</span>&nbsp;<span class="ident" id="7444677">After</span>&nbsp;<span class="builtintype" id="7444683">string</span><br>
<span class="lineno"></span><span class="op" id="7444690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7444693">var</span>&nbsp;<span class="ident" id="7444697">pathTests</span>&nbsp;<span class="op" id="7444707">=</span>&nbsp;<span class="op" id="7444709">[</span><span class="op" id="7444710">]</span><span class="keyword" id="7444711">interface</span><span class="op" id="7444720">{</span><span class="op" id="7444721">}</span><span class="op" id="7444722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7444725">&amp;</span><span class="ident" id="7444726">PathTestA</span><span class="op" id="7444735">{</span><span class="ident" id="7444736">Items</span><span class="op" id="7444741">:</span>&nbsp;<span class="op" id="7444743">[</span><span class="op" id="7444744">]</span><span class="ident" id="7444745">PathTestItem</span><span class="op" id="7444757">{</span><span class="op" id="7444758">{</span><span class="string" id="7444759">&#34;A&#34;</span><span class="op" id="7444762">}</span><span class="op" id="7444763">,</span>&nbsp;<span class="op" id="7444765">{</span><span class="string" id="7444766">&#34;D&#34;</span><span class="op" id="7444769">}</span><span class="op" id="7444770">}</span><span class="op" id="7444771">,</span>&nbsp;<span class="ident" id="7444773">Before</span><span class="op" id="7444779">:</span>&nbsp;<span class="string" id="7444781">&#34;1&#34;</span><span class="op" id="7444784">,</span>&nbsp;<span class="ident" id="7444786">After</span><span class="op" id="7444791">:</span>&nbsp;<span class="string" id="7444793">&#34;2&#34;</span><span class="op" id="7444796">}</span><span class="op" id="7444797">,</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7444800">&amp;</span><span class="ident" id="7444801">PathTestB</span><span class="op" id="7444810">{</span><span class="ident" id="7444811">Other</span><span class="op" id="7444816">:</span>&nbsp;<span class="op" id="7444818">[</span><span class="op" id="7444819">]</span><span class="ident" id="7444820">PathTestItem</span><span class="op" id="7444832">{</span><span class="op" id="7444833">{</span><span class="string" id="7444834">&#34;A&#34;</span><span class="op" id="7444837">}</span><span class="op" id="7444838">,</span>&nbsp;<span class="op" id="7444840">{</span><span class="string" id="7444841">&#34;D&#34;</span><span class="op" id="7444844">}</span><span class="op" id="7444845">}</span><span class="op" id="7444846">,</span>&nbsp;<span class="ident" id="7444848">Before</span><span class="op" id="7444854">:</span>&nbsp;<span class="string" id="7444856">&#34;1&#34;</span><span class="op" id="7444859">,</span>&nbsp;<span class="ident" id="7444861">After</span><span class="op" id="7444866">:</span>&nbsp;<span class="string" id="7444868">&#34;2&#34;</span><span class="op" id="7444871">}</span><span class="op" id="7444872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7444875">&amp;</span><span class="ident" id="7444876">PathTestC</span><span class="op" id="7444885">{</span><span class="ident" id="7444886">Values1</span><span class="op" id="7444893">:</span>&nbsp;<span class="op" id="7444895">[</span><span class="op" id="7444896">]</span><span class="builtintype" id="7444897">string</span><span class="op" id="7444903">{</span><span class="string" id="7444904">&#34;A&#34;</span><span class="op" id="7444907">,</span>&nbsp;<span class="string" id="7444909">&#34;C&#34;</span><span class="op" id="7444912">,</span>&nbsp;<span class="string" id="7444914">&#34;D&#34;</span><span class="op" id="7444917">}</span><span class="op" id="7444918">,</span>&nbsp;<span class="ident" id="7444920">Values2</span><span class="op" id="7444927">:</span>&nbsp;<span class="op" id="7444929">[</span><span class="op" id="7444930">]</span><span class="builtintype" id="7444931">string</span><span class="op" id="7444937">{</span><span class="string" id="7444938">&#34;B&#34;</span><span class="op" id="7444941">}</span><span class="op" id="7444942">,</span>&nbsp;<span class="ident" id="7444944">Before</span><span class="op" id="7444950">:</span>&nbsp;<span class="string" id="7444952">&#34;1&#34;</span><span class="op" id="7444955">,</span>&nbsp;<span class="ident" id="7444957">After</span><span class="op" id="7444962">:</span>&nbsp;<span class="string" id="7444964">&#34;2&#34;</span><span class="op" id="7444967">}</span><span class="op" id="7444968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7444971">&amp;</span><span class="ident" id="7444972">PathTestD</span><span class="op" id="7444981">{</span><span class="ident" id="7444982">Other</span><span class="op" id="7444987">:</span>&nbsp;<span class="ident" id="7444989">PathTestSet</span><span class="op" id="7445000">{</span><span class="ident" id="7445001">Item1</span><span class="op" id="7445006">:</span>&nbsp;<span class="op" id="7445008">[</span><span class="op" id="7445009">]</span><span class="ident" id="7445010">PathTestItem</span><span class="op" id="7445022">{</span><span class="op" id="7445023">{</span><span class="string" id="7445024">&#34;A&#34;</span><span class="op" id="7445027">}</span><span class="op" id="7445028">,</span>&nbsp;<span class="op" id="7445030">{</span><span class="string" id="7445031">&#34;D&#34;</span><span class="op" id="7445034">}</span><span class="op" id="7445035">}</span><span class="op" id="7445036">}</span><span class="op" id="7445037">,</span>&nbsp;<span class="ident" id="7445039">Before</span><span class="op" id="7445045">:</span>&nbsp;<span class="string" id="7445047">&#34;1&#34;</span><span class="op" id="7445050">,</span>&nbsp;<span class="ident" id="7445052">After</span><span class="op" id="7445057">:</span>&nbsp;<span class="string" id="7445059">&#34;2&#34;</span><span class="op" id="7445062">}</span><span class="op" id="7445063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445066">&amp;</span><span class="ident" id="7445067">PathTestE</span><span class="op" id="7445076">{</span><span class="ident" id="7445077">Underline</span><span class="op" id="7445086">:</span>&nbsp;<span class="string" id="7445088">&#34;E&#34;</span><span class="op" id="7445091">,</span>&nbsp;<span class="ident" id="7445093">Before</span><span class="op" id="7445099">:</span>&nbsp;<span class="string" id="7445101">&#34;1&#34;</span><span class="op" id="7445104">,</span>&nbsp;<span class="ident" id="7445106">After</span><span class="op" id="7445111">:</span>&nbsp;<span class="string" id="7445113">&#34;2&#34;</span><span class="op" id="7445116">}</span><span class="op" id="7445117">,</span><br>
<span class="lineno"></span><span class="op" id="7445119">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="7445122">func</span>&nbsp;<span class="ident" id="7445127">TestUnmarshalPaths</span><span class="op" id="7445145">(</span><span class="ident" id="7445146">t</span>&nbsp;<span class="op" id="7445148">*</span><span class="ident" id="7445149">testing</span><span class="op" id="7445156">.</span><span class="ident" id="7445157">T</span><span class="op" id="7445158">)</span>&nbsp;<span class="op" id="7445160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7445163">for</span>&nbsp;<span class="ident" id="7445167">_</span><span class="op" id="7445168">,</span>&nbsp;<span class="ident" id="7445170">pt</span>&nbsp;<span class="op" id="7445173">:=</span>&nbsp;<span class="keyword" id="7445176">range</span>&nbsp;<span class="ident" id="7445182">pathTests</span>&nbsp;<span class="op" id="7445192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445196">v</span>&nbsp;<span class="op" id="7445198">:=</span>&nbsp;<span class="ident" id="7445201">reflect</span><span class="op" id="7445208">.</span><span class="ident" id="7445209">New</span><span class="op" id="7445212">(</span><span class="ident" id="7445213">reflect</span><span class="op" id="7445220">.</span><span class="ident" id="7445221">TypeOf</span><span class="op" id="7445227">(</span><span class="ident" id="7445228">pt</span><span class="op" id="7445230">)</span><span class="op" id="7445231">.</span><span class="ident" id="7445232">Elem</span><span class="op" id="7445236">(</span><span class="op" id="7445237">)</span><span class="op" id="7445238">)</span><span class="op" id="7445239">.</span><span class="ident" id="7445240">Interface</span><span class="op" id="7445249">(</span><span class="op" id="7445250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7445254">if</span>&nbsp;<span class="ident" id="7445257">err</span>&nbsp;<span class="op" id="7445261">:=</span>&nbsp;<span class="ident" id="7445264">Unmarshal</span><span class="op" id="7445273">(</span><span class="op" id="7445274">[</span><span class="op" id="7445275">]</span><span class="builtintype" id="7445276">byte</span><span class="op" id="7445280">(</span><span class="ident" id="7445281">pathTestString</span><span class="op" id="7445295">)</span><span class="op" id="7445296">,</span>&nbsp;<span class="ident" id="7445298">v</span><span class="op" id="7445299">)</span><span class="op" id="7445300">;</span>&nbsp;<span class="ident" id="7445302">err</span>&nbsp;<span class="op" id="7445306">!=</span>&nbsp;<span class="ident" id="7445309">nil</span>&nbsp;<span class="op" id="7445313">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445318">t</span><span class="op" id="7445319">.</span><span class="ident" id="7445320">Fatalf</span><span class="op" id="7445326">(</span><span class="string" id="7445327">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7445342">,</span>&nbsp;<span class="ident" id="7445344">err</span><span class="op" id="7445347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7445355">if</span>&nbsp;<span class="op" id="7445358">!</span><span class="ident" id="7445359">reflect</span><span class="op" id="7445366">.</span><span class="ident" id="7445367">DeepEqual</span><span class="op" id="7445376">(</span><span class="ident" id="7445377">v</span><span class="op" id="7445378">,</span>&nbsp;<span class="ident" id="7445380">pt</span><span class="op" id="7445382">)</span>&nbsp;<span class="op" id="7445384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445389">t</span><span class="op" id="7445390">.</span><span class="ident" id="7445391">Fatalf</span><span class="op" id="7445397">(</span><span class="string" id="7445398">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="7445418">,</span>&nbsp;<span class="ident" id="7445420">v</span><span class="op" id="7445421">,</span>&nbsp;<span class="ident" id="7445423">pt</span><span class="op" id="7445425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445429">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7445432">}</span><br>
<span class="lineno"></span><span class="op" id="7445434">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7445437">type</span>&nbsp;<span class="ident" id="7445442">BadPathTestA</span>&nbsp;<span class="keyword" id="7445455">struct</span>&nbsp;<span class="op" id="7445462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445465">First</span>&nbsp;&nbsp;<span class="builtintype" id="7445472">string</span>&nbsp;<span class="string" id="7445479">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445500">Other</span>&nbsp;&nbsp;<span class="builtintype" id="7445507">string</span>&nbsp;<span class="string" id="7445514">`xml:&#34;items&gt;item2&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445535">Second</span>&nbsp;<span class="builtintype" id="7445542">string</span>&nbsp;<span class="string" id="7445549">`xml:&#34;items&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7445563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7445566">type</span>&nbsp;<span class="ident" id="7445571">BadPathTestB</span>&nbsp;<span class="keyword" id="7445584">struct</span>&nbsp;<span class="op" id="7445591">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445594">Other</span>&nbsp;&nbsp;<span class="builtintype" id="7445601">string</span>&nbsp;<span class="string" id="7445608">`xml:&#34;items&gt;item2&gt;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445635">First</span>&nbsp;&nbsp;<span class="builtintype" id="7445642">string</span>&nbsp;<span class="string" id="7445649">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445670">Second</span>&nbsp;<span class="builtintype" id="7445677">string</span>&nbsp;<span class="string" id="7445684">`xml:&#34;items&gt;item1&gt;value&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7445710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="keyword" id="7445713">type</span>&nbsp;<span class="ident" id="7445718">BadPathTestC</span>&nbsp;<span class="keyword" id="7445731">struct</span>&nbsp;<span class="op" id="7445738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445741">First</span>&nbsp;&nbsp;<span class="builtintype" id="7445748">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445756">Second</span>&nbsp;<span class="builtintype" id="7445763">string</span>&nbsp;<span class="string" id="7445770">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7445784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="7445787">type</span>&nbsp;<span class="ident" id="7445792">BadPathTestD</span>&nbsp;<span class="keyword" id="7445805">struct</span>&nbsp;<span class="op" id="7445812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445815">BadPathEmbeddedA</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445833">BadPathEmbeddedB</span><br>
<span class="lineno"></span><span class="op" id="7445850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="7445853">type</span>&nbsp;<span class="ident" id="7445858">BadPathEmbeddedA</span>&nbsp;<span class="keyword" id="7445875">struct</span>&nbsp;<span class="op" id="7445882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445885">First</span>&nbsp;<span class="builtintype" id="7445891">string</span><br>
<span class="lineno"></span><span class="op" id="7445898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7445901">type</span>&nbsp;<span class="ident" id="7445906">BadPathEmbeddedB</span>&nbsp;<span class="keyword" id="7445923">struct</span>&nbsp;<span class="op" id="7445930">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445933">Second</span>&nbsp;<span class="builtintype" id="7445940">string</span>&nbsp;<span class="string" id="7445947">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7445961">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7445964">var</span>&nbsp;<span class="ident" id="7445968">badPathTests</span>&nbsp;<span class="op" id="7445981">=</span>&nbsp;<span class="op" id="7445983">[</span><span class="op" id="7445984">]</span><span class="keyword" id="7445985">struct</span>&nbsp;<span class="op" id="7445992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7445995">v</span><span class="op" id="7445996">,</span>&nbsp;<span class="ident" id="7445998">e</span>&nbsp;<span class="keyword" id="7446000">interface</span><span class="op" id="7446009">{</span><span class="op" id="7446010">}</span><br>
<span class="lineno">325</span><span class="op" id="7446012">}</span><span class="op" id="7446013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446016">{</span><span class="op" id="7446017">&amp;</span><span class="ident" id="7446018">BadPathTestA</span><span class="op" id="7446030">{</span><span class="op" id="7446031">}</span><span class="op" id="7446032">,</span>&nbsp;<span class="op" id="7446034">&amp;</span><span class="ident" id="7446035">TagPathError</span><span class="op" id="7446047">{</span><span class="ident" id="7446048">reflect</span><span class="op" id="7446055">.</span><span class="ident" id="7446056">TypeOf</span><span class="op" id="7446062">(</span><span class="ident" id="7446063">BadPathTestA</span><span class="op" id="7446075">{</span><span class="op" id="7446076">}</span><span class="op" id="7446077">)</span><span class="op" id="7446078">,</span>&nbsp;<span class="string" id="7446080">&#34;First&#34;</span><span class="op" id="7446087">,</span>&nbsp;<span class="string" id="7446089">&#34;items&gt;item1&#34;</span><span class="op" id="7446102">,</span>&nbsp;<span class="string" id="7446104">&#34;Second&#34;</span><span class="op" id="7446112">,</span>&nbsp;<span class="string" id="7446114">&#34;items&#34;</span><span class="op" id="7446121">}</span><span class="op" id="7446122">}</span><span class="op" id="7446123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446126">{</span><span class="op" id="7446127">&amp;</span><span class="ident" id="7446128">BadPathTestB</span><span class="op" id="7446140">{</span><span class="op" id="7446141">}</span><span class="op" id="7446142">,</span>&nbsp;<span class="op" id="7446144">&amp;</span><span class="ident" id="7446145">TagPathError</span><span class="op" id="7446157">{</span><span class="ident" id="7446158">reflect</span><span class="op" id="7446165">.</span><span class="ident" id="7446166">TypeOf</span><span class="op" id="7446172">(</span><span class="ident" id="7446173">BadPathTestB</span><span class="op" id="7446185">{</span><span class="op" id="7446186">}</span><span class="op" id="7446187">)</span><span class="op" id="7446188">,</span>&nbsp;<span class="string" id="7446190">&#34;First&#34;</span><span class="op" id="7446197">,</span>&nbsp;<span class="string" id="7446199">&#34;items&gt;item1&#34;</span><span class="op" id="7446212">,</span>&nbsp;<span class="string" id="7446214">&#34;Second&#34;</span><span class="op" id="7446222">,</span>&nbsp;<span class="string" id="7446224">&#34;items&gt;item1&gt;value&#34;</span><span class="op" id="7446243">}</span><span class="op" id="7446244">}</span><span class="op" id="7446245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446248">{</span><span class="op" id="7446249">&amp;</span><span class="ident" id="7446250">BadPathTestC</span><span class="op" id="7446262">{</span><span class="op" id="7446263">}</span><span class="op" id="7446264">,</span>&nbsp;<span class="op" id="7446266">&amp;</span><span class="ident" id="7446267">TagPathError</span><span class="op" id="7446279">{</span><span class="ident" id="7446280">reflect</span><span class="op" id="7446287">.</span><span class="ident" id="7446288">TypeOf</span><span class="op" id="7446294">(</span><span class="ident" id="7446295">BadPathTestC</span><span class="op" id="7446307">{</span><span class="op" id="7446308">}</span><span class="op" id="7446309">)</span><span class="op" id="7446310">,</span>&nbsp;<span class="string" id="7446312">&#34;First&#34;</span><span class="op" id="7446319">,</span>&nbsp;<span class="string" id="7446321">&#34;&#34;</span><span class="op" id="7446323">,</span>&nbsp;<span class="string" id="7446325">&#34;Second&#34;</span><span class="op" id="7446333">,</span>&nbsp;<span class="string" id="7446335">&#34;First&#34;</span><span class="op" id="7446342">}</span><span class="op" id="7446343">}</span><span class="op" id="7446344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446347">{</span><span class="op" id="7446348">&amp;</span><span class="ident" id="7446349">BadPathTestD</span><span class="op" id="7446361">{</span><span class="op" id="7446362">}</span><span class="op" id="7446363">,</span>&nbsp;<span class="op" id="7446365">&amp;</span><span class="ident" id="7446366">TagPathError</span><span class="op" id="7446378">{</span><span class="ident" id="7446379">reflect</span><span class="op" id="7446386">.</span><span class="ident" id="7446387">TypeOf</span><span class="op" id="7446393">(</span><span class="ident" id="7446394">BadPathTestD</span><span class="op" id="7446406">{</span><span class="op" id="7446407">}</span><span class="op" id="7446408">)</span><span class="op" id="7446409">,</span>&nbsp;<span class="string" id="7446411">&#34;First&#34;</span><span class="op" id="7446418">,</span>&nbsp;<span class="string" id="7446420">&#34;&#34;</span><span class="op" id="7446422">,</span>&nbsp;<span class="string" id="7446424">&#34;Second&#34;</span><span class="op" id="7446432">,</span>&nbsp;<span class="string" id="7446434">&#34;First&#34;</span><span class="op" id="7446441">}</span><span class="op" id="7446442">}</span><span class="op" id="7446443">,</span><br>
<span class="lineno">330</span><span class="op" id="7446445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7446448">func</span>&nbsp;<span class="ident" id="7446453">TestUnmarshalBadPaths</span><span class="op" id="7446474">(</span><span class="ident" id="7446475">t</span>&nbsp;<span class="op" id="7446477">*</span><span class="ident" id="7446478">testing</span><span class="op" id="7446485">.</span><span class="ident" id="7446486">T</span><span class="op" id="7446487">)</span>&nbsp;<span class="op" id="7446489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7446492">for</span>&nbsp;<span class="ident" id="7446496">_</span><span class="op" id="7446497">,</span>&nbsp;<span class="ident" id="7446499">tt</span>&nbsp;<span class="op" id="7446502">:=</span>&nbsp;<span class="keyword" id="7446505">range</span>&nbsp;<span class="ident" id="7446511">badPathTests</span>&nbsp;<span class="op" id="7446524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446528">err</span>&nbsp;<span class="op" id="7446532">:=</span>&nbsp;<span class="ident" id="7446535">Unmarshal</span><span class="op" id="7446544">(</span><span class="op" id="7446545">[</span><span class="op" id="7446546">]</span><span class="builtintype" id="7446547">byte</span><span class="op" id="7446551">(</span><span class="ident" id="7446552">pathTestString</span><span class="op" id="7446566">)</span><span class="op" id="7446567">,</span>&nbsp;<span class="ident" id="7446569">tt</span><span class="op" id="7446571">.</span><span class="ident" id="7446572">v</span><span class="op" id="7446573">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7446577">if</span>&nbsp;<span class="op" id="7446580">!</span><span class="ident" id="7446581">reflect</span><span class="op" id="7446588">.</span><span class="ident" id="7446589">DeepEqual</span><span class="op" id="7446598">(</span><span class="ident" id="7446599">err</span><span class="op" id="7446602">,</span>&nbsp;<span class="ident" id="7446604">tt</span><span class="op" id="7446606">.</span><span class="ident" id="7446607">e</span><span class="op" id="7446608">)</span>&nbsp;<span class="op" id="7446610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446615">t</span><span class="op" id="7446616">.</span><span class="ident" id="7446617">Fatalf</span><span class="op" id="7446623">(</span><span class="string" id="7446624">&#34;Unmarshal&nbsp;with&nbsp;%#v&nbsp;didn&#39;t&nbsp;fail&nbsp;properly:\nhave&nbsp;%#v,\nwant&nbsp;%#v&#34;</span><span class="op" id="7446687">,</span>&nbsp;<span class="ident" id="7446689">tt</span><span class="op" id="7446691">.</span><span class="ident" id="7446692">v</span><span class="op" id="7446693">,</span>&nbsp;<span class="ident" id="7446695">err</span><span class="op" id="7446698">,</span>&nbsp;<span class="ident" id="7446700">tt</span><span class="op" id="7446702">.</span><span class="ident" id="7446703">e</span><span class="op" id="7446704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7446711">}</span><br>
<span class="lineno"></span><span class="op" id="7446713">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="7446716">const</span>&nbsp;<span class="ident" id="7446722">OK</span>&nbsp;<span class="op" id="7446725">=</span>&nbsp;<span class="string" id="7446727">&#34;OK&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="7446732">const</span>&nbsp;<span class="ident" id="7446738">withoutNameTypeData</span>&nbsp;<span class="op" id="7446758">=</span>&nbsp;<span class="string" id="7446760">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;charset=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;Test3&nbsp;Attr=&#34;OK&#34;&nbsp;/&gt;`</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span><span class="keyword" id="7446822">type</span>&nbsp;<span class="ident" id="7446827">TestThree</span>&nbsp;<span class="keyword" id="7446837">struct</span>&nbsp;<span class="op" id="7446844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446847">XMLName</span>&nbsp;<span class="ident" id="7446855">Name</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7446862">`xml:&#34;Test3&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7446877">Attr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7446885">string</span>&nbsp;<span class="string" id="7446892">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7446906">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="7446909">func</span>&nbsp;<span class="ident" id="7446914">TestUnmarshalWithoutNameType</span><span class="op" id="7446942">(</span><span class="ident" id="7446943">t</span>&nbsp;<span class="op" id="7446945">*</span><span class="ident" id="7446946">testing</span><span class="op" id="7446953">.</span><span class="ident" id="7446954">T</span><span class="op" id="7446955">)</span>&nbsp;<span class="op" id="7446957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7446960">var</span>&nbsp;<span class="ident" id="7446964">x</span>&nbsp;<span class="ident" id="7446966">TestThree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7446977">if</span>&nbsp;<span class="ident" id="7446980">err</span>&nbsp;<span class="op" id="7446984">:=</span>&nbsp;<span class="ident" id="7446987">Unmarshal</span><span class="op" id="7446996">(</span><span class="op" id="7446997">[</span><span class="op" id="7446998">]</span><span class="builtintype" id="7446999">byte</span><span class="op" id="7447003">(</span><span class="ident" id="7447004">withoutNameTypeData</span><span class="op" id="7447023">)</span><span class="op" id="7447024">,</span>&nbsp;<span class="op" id="7447026">&amp;</span><span class="ident" id="7447027">x</span><span class="op" id="7447028">)</span><span class="op" id="7447029">;</span>&nbsp;<span class="ident" id="7447031">err</span>&nbsp;<span class="op" id="7447035">!=</span>&nbsp;<span class="ident" id="7447038">nil</span>&nbsp;<span class="op" id="7447042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447046">t</span><span class="op" id="7447047">.</span><span class="ident" id="7447048">Fatalf</span><span class="op" id="7447054">(</span><span class="string" id="7447055">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7447070">,</span>&nbsp;<span class="ident" id="7447072">err</span><span class="op" id="7447075">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447081">if</span>&nbsp;<span class="ident" id="7447084">x</span><span class="op" id="7447085">.</span><span class="ident" id="7447086">Attr</span>&nbsp;<span class="op" id="7447091">!=</span>&nbsp;<span class="ident" id="7447094">OK</span>&nbsp;<span class="op" id="7447097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447101">t</span><span class="op" id="7447102">.</span><span class="ident" id="7447103">Fatalf</span><span class="op" id="7447109">(</span><span class="string" id="7447110">&#34;have&nbsp;%v\nwant&nbsp;%v&#34;</span><span class="op" id="7447128">,</span>&nbsp;<span class="ident" id="7447130">x</span><span class="op" id="7447131">.</span><span class="ident" id="7447132">Attr</span><span class="op" id="7447136">,</span>&nbsp;<span class="ident" id="7447138">OK</span><span class="op" id="7447140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447143">}</span><br>
<span class="lineno"></span><span class="op" id="7447145">}</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span><span class="keyword" id="7447148">func</span>&nbsp;<span class="ident" id="7447153">TestUnmarshalAttr</span><span class="op" id="7447170">(</span><span class="ident" id="7447171">t</span>&nbsp;<span class="op" id="7447173">*</span><span class="ident" id="7447174">testing</span><span class="op" id="7447181">.</span><span class="ident" id="7447182">T</span><span class="op" id="7447183">)</span>&nbsp;<span class="op" id="7447185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447188">type</span>&nbsp;<span class="ident" id="7447193">ParamVal</span>&nbsp;<span class="keyword" id="7447202">struct</span>&nbsp;<span class="op" id="7447209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447213">Int</span>&nbsp;<span class="builtintype" id="7447217">int</span>&nbsp;<span class="string" id="7447221">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447239">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447243">type</span>&nbsp;<span class="ident" id="7447248">ParamPtr</span>&nbsp;<span class="keyword" id="7447257">struct</span>&nbsp;<span class="op" id="7447264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447268">Int</span>&nbsp;<span class="op" id="7447272">*</span><span class="builtintype" id="7447273">int</span>&nbsp;<span class="string" id="7447277">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447299">type</span>&nbsp;<span class="ident" id="7447304">ParamStringPtr</span>&nbsp;<span class="keyword" id="7447319">struct</span>&nbsp;<span class="op" id="7447326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447330">Int</span>&nbsp;<span class="op" id="7447334">*</span><span class="builtintype" id="7447335">string</span>&nbsp;<span class="string" id="7447342">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447364">x</span>&nbsp;<span class="op" id="7447366">:=</span>&nbsp;<span class="op" id="7447369">[</span><span class="op" id="7447370">]</span><span class="builtintype" id="7447371">byte</span><span class="op" id="7447375">(</span><span class="string" id="7447376">`&lt;Param&nbsp;int=&#34;1&#34;&nbsp;/&gt;`</span><span class="op" id="7447395">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447399">p1</span>&nbsp;<span class="op" id="7447402">:=</span>&nbsp;<span class="op" id="7447405">&amp;</span><span class="ident" id="7447406">ParamPtr</span><span class="op" id="7447414">{</span><span class="op" id="7447415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447418">if</span>&nbsp;<span class="ident" id="7447421">err</span>&nbsp;<span class="op" id="7447425">:=</span>&nbsp;<span class="ident" id="7447428">Unmarshal</span><span class="op" id="7447437">(</span><span class="ident" id="7447438">x</span><span class="op" id="7447439">,</span>&nbsp;<span class="ident" id="7447441">p1</span><span class="op" id="7447443">)</span><span class="op" id="7447444">;</span>&nbsp;<span class="ident" id="7447446">err</span>&nbsp;<span class="op" id="7447450">!=</span>&nbsp;<span class="ident" id="7447453">nil</span>&nbsp;<span class="op" id="7447457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447461">t</span><span class="op" id="7447462">.</span><span class="ident" id="7447463">Fatalf</span><span class="op" id="7447469">(</span><span class="string" id="7447470">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7447485">,</span>&nbsp;<span class="ident" id="7447487">err</span><span class="op" id="7447490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447493">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447496">if</span>&nbsp;<span class="ident" id="7447499">p1</span><span class="op" id="7447501">.</span><span class="ident" id="7447502">Int</span>&nbsp;<span class="op" id="7447506">==</span>&nbsp;<span class="ident" id="7447509">nil</span>&nbsp;<span class="op" id="7447513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447517">t</span><span class="op" id="7447518">.</span><span class="ident" id="7447519">Fatalf</span><span class="op" id="7447525">(</span><span class="string" id="7447526">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*int&nbsp;field&#34;</span><span class="op" id="7447561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447564">}</span>&nbsp;<span class="keyword" id="7447566">else</span>&nbsp;<span class="keyword" id="7447571">if</span>&nbsp;<span class="op" id="7447574">*</span><span class="ident" id="7447575">p1</span><span class="op" id="7447577">.</span><span class="ident" id="7447578">Int</span>&nbsp;<span class="op" id="7447582">!=</span>&nbsp;<span class="num" id="7447585">1</span>&nbsp;<span class="op" id="7447587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447591">t</span><span class="op" id="7447592">.</span><span class="ident" id="7447593">Fatalf</span><span class="op" id="7447599">(</span><span class="string" id="7447600">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7447649">,</span>&nbsp;<span class="ident" id="7447651">x</span><span class="op" id="7447652">,</span>&nbsp;<span class="ident" id="7447654">p1</span><span class="op" id="7447656">.</span><span class="ident" id="7447657">Int</span><span class="op" id="7447660">,</span>&nbsp;<span class="num" id="7447662">1</span><span class="op" id="7447663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447666">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447670">p2</span>&nbsp;<span class="op" id="7447673">:=</span>&nbsp;<span class="op" id="7447676">&amp;</span><span class="ident" id="7447677">ParamVal</span><span class="op" id="7447685">{</span><span class="op" id="7447686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447689">if</span>&nbsp;<span class="ident" id="7447692">err</span>&nbsp;<span class="op" id="7447696">:=</span>&nbsp;<span class="ident" id="7447699">Unmarshal</span><span class="op" id="7447708">(</span><span class="ident" id="7447709">x</span><span class="op" id="7447710">,</span>&nbsp;<span class="ident" id="7447712">p2</span><span class="op" id="7447714">)</span><span class="op" id="7447715">;</span>&nbsp;<span class="ident" id="7447717">err</span>&nbsp;<span class="op" id="7447721">!=</span>&nbsp;<span class="ident" id="7447724">nil</span>&nbsp;<span class="op" id="7447728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447732">t</span><span class="op" id="7447733">.</span><span class="ident" id="7447734">Fatalf</span><span class="op" id="7447740">(</span><span class="string" id="7447741">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7447756">,</span>&nbsp;<span class="ident" id="7447758">err</span><span class="op" id="7447761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447764">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447767">if</span>&nbsp;<span class="ident" id="7447770">p2</span><span class="op" id="7447772">.</span><span class="ident" id="7447773">Int</span>&nbsp;<span class="op" id="7447777">!=</span>&nbsp;<span class="num" id="7447780">1</span>&nbsp;<span class="op" id="7447782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447786">t</span><span class="op" id="7447787">.</span><span class="ident" id="7447788">Fatalf</span><span class="op" id="7447794">(</span><span class="string" id="7447795">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7447844">,</span>&nbsp;<span class="ident" id="7447846">x</span><span class="op" id="7447847">,</span>&nbsp;<span class="ident" id="7447849">p2</span><span class="op" id="7447851">.</span><span class="ident" id="7447852">Int</span><span class="op" id="7447855">,</span>&nbsp;<span class="num" id="7447857">1</span><span class="op" id="7447858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447861">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447865">p3</span>&nbsp;<span class="op" id="7447868">:=</span>&nbsp;<span class="op" id="7447871">&amp;</span><span class="ident" id="7447872">ParamStringPtr</span><span class="op" id="7447886">{</span><span class="op" id="7447887">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447890">if</span>&nbsp;<span class="ident" id="7447893">err</span>&nbsp;<span class="op" id="7447897">:=</span>&nbsp;<span class="ident" id="7447900">Unmarshal</span><span class="op" id="7447909">(</span><span class="ident" id="7447910">x</span><span class="op" id="7447911">,</span>&nbsp;<span class="ident" id="7447913">p3</span><span class="op" id="7447915">)</span><span class="op" id="7447916">;</span>&nbsp;<span class="ident" id="7447918">err</span>&nbsp;<span class="op" id="7447922">!=</span>&nbsp;<span class="ident" id="7447925">nil</span>&nbsp;<span class="op" id="7447929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447933">t</span><span class="op" id="7447934">.</span><span class="ident" id="7447935">Fatalf</span><span class="op" id="7447941">(</span><span class="string" id="7447942">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7447957">,</span>&nbsp;<span class="ident" id="7447959">err</span><span class="op" id="7447962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7447965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7447968">if</span>&nbsp;<span class="ident" id="7447971">p3</span><span class="op" id="7447973">.</span><span class="ident" id="7447974">Int</span>&nbsp;<span class="op" id="7447978">==</span>&nbsp;<span class="ident" id="7447981">nil</span>&nbsp;<span class="op" id="7447985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7447989">t</span><span class="op" id="7447990">.</span><span class="ident" id="7447991">Fatalf</span><span class="op" id="7447997">(</span><span class="string" id="7447998">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*string&nbsp;field&#34;</span><span class="op" id="7448036">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448039">}</span>&nbsp;<span class="keyword" id="7448041">else</span>&nbsp;<span class="keyword" id="7448046">if</span>&nbsp;<span class="op" id="7448049">*</span><span class="ident" id="7448050">p3</span><span class="op" id="7448052">.</span><span class="ident" id="7448053">Int</span>&nbsp;<span class="op" id="7448057">!=</span>&nbsp;<span class="string" id="7448060">&#34;1&#34;</span>&nbsp;<span class="op" id="7448064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448068">t</span><span class="op" id="7448069">.</span><span class="ident" id="7448070">Fatalf</span><span class="op" id="7448076">(</span><span class="string" id="7448077">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7448126">,</span>&nbsp;<span class="ident" id="7448128">x</span><span class="op" id="7448129">,</span>&nbsp;<span class="ident" id="7448131">p3</span><span class="op" id="7448133">.</span><span class="ident" id="7448134">Int</span><span class="op" id="7448137">,</span>&nbsp;<span class="num" id="7448139">1</span><span class="op" id="7448140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448143">}</span><br>
<span class="lineno"></span><span class="op" id="7448145">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="7448148">type</span>&nbsp;<span class="ident" id="7448153">Tables</span>&nbsp;<span class="keyword" id="7448160">struct</span>&nbsp;<span class="op" id="7448167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448170">HTable</span>&nbsp;<span class="builtintype" id="7448177">string</span>&nbsp;<span class="string" id="7448184">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448227">FTable</span>&nbsp;<span class="builtintype" id="7448234">string</span>&nbsp;<span class="string" id="7448241">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7448290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="7448293">var</span>&nbsp;<span class="ident" id="7448297">tables</span>&nbsp;<span class="op" id="7448304">=</span>&nbsp;<span class="op" id="7448306">[</span><span class="op" id="7448307">]</span><span class="keyword" id="7448308">struct</span>&nbsp;<span class="op" id="7448315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448318">xml</span>&nbsp;<span class="builtintype" id="7448322">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448330">tab</span>&nbsp;<span class="ident" id="7448334">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448342">ns</span>&nbsp;&nbsp;<span class="builtintype" id="7448346">string</span><br>
<span class="lineno"></span><span class="op" id="7448353">}</span><span class="op" id="7448354">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448361">xml</span><span class="op" id="7448364">:</span>&nbsp;<span class="string" id="7448366">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7448377">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448382">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="7448441">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448446">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="7448512">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448517">`&lt;/Tables&gt;`</span><span class="op" id="7448528">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448532">tab</span><span class="op" id="7448535">:</span>&nbsp;<span class="ident" id="7448537">Tables</span><span class="op" id="7448543">{</span><span class="string" id="7448544">&#34;hello&#34;</span><span class="op" id="7448551">,</span>&nbsp;<span class="string" id="7448553">&#34;world&#34;</span><span class="op" id="7448560">}</span><span class="op" id="7448561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448564">}</span><span class="op" id="7448565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448572">xml</span><span class="op" id="7448575">:</span>&nbsp;<span class="string" id="7448577">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7448588">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448593">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="7448659">+</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448664">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="7448723">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448728">`&lt;/Tables&gt;`</span><span class="op" id="7448739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448743">tab</span><span class="op" id="7448746">:</span>&nbsp;<span class="ident" id="7448748">Tables</span><span class="op" id="7448754">{</span><span class="string" id="7448755">&#34;hello&#34;</span><span class="op" id="7448762">,</span>&nbsp;<span class="string" id="7448764">&#34;world&#34;</span><span class="op" id="7448771">}</span><span class="op" id="7448772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448775">}</span><span class="op" id="7448776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448779">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448783">xml</span><span class="op" id="7448786">:</span>&nbsp;<span class="string" id="7448788">`&lt;Tables&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;`</span>&nbsp;<span class="op" id="7448882">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448887">`&lt;f:table&gt;world&lt;/f:table&gt;`</span>&nbsp;<span class="op" id="7448914">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448919">`&lt;h:table&gt;hello&lt;/h:table&gt;`</span>&nbsp;<span class="op" id="7448946">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7448951">`&lt;/Tables&gt;`</span><span class="op" id="7448962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7448966">tab</span><span class="op" id="7448969">:</span>&nbsp;<span class="ident" id="7448971">Tables</span><span class="op" id="7448977">{</span><span class="string" id="7448978">&#34;hello&#34;</span><span class="op" id="7448985">,</span>&nbsp;<span class="string" id="7448987">&#34;world&#34;</span><span class="op" id="7448994">}</span><span class="op" id="7448995">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7448998">}</span><span class="op" id="7448999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449006">xml</span><span class="op" id="7449009">:</span>&nbsp;<span class="string" id="7449011">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7449022">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449027">`&lt;table&gt;bogus&lt;/table&gt;`</span>&nbsp;<span class="op" id="7449050">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449055">`&lt;/Tables&gt;`</span><span class="op" id="7449066">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449070">tab</span><span class="op" id="7449073">:</span>&nbsp;<span class="ident" id="7449075">Tables</span><span class="op" id="7449081">{</span><span class="op" id="7449082">}</span><span class="op" id="7449083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449086">}</span><span class="op" id="7449087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449094">xml</span><span class="op" id="7449097">:</span>&nbsp;<span class="string" id="7449099">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7449110">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449115">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="7449137">+</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449142">`&lt;/Tables&gt;`</span><span class="op" id="7449153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449157">tab</span><span class="op" id="7449160">:</span>&nbsp;<span class="ident" id="7449162">Tables</span><span class="op" id="7449168">{</span><span class="ident" id="7449169">HTable</span><span class="op" id="7449175">:</span>&nbsp;<span class="string" id="7449177">&#34;only&#34;</span><span class="op" id="7449183">}</span><span class="op" id="7449184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449188">ns</span><span class="op" id="7449190">:</span>&nbsp;&nbsp;<span class="string" id="7449193">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="7449222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449225">}</span><span class="op" id="7449226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449229">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449233">xml</span><span class="op" id="7449236">:</span>&nbsp;<span class="string" id="7449238">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7449249">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449254">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="7449276">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449281">`&lt;/Tables&gt;`</span><span class="op" id="7449292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449296">tab</span><span class="op" id="7449299">:</span>&nbsp;<span class="ident" id="7449301">Tables</span><span class="op" id="7449307">{</span><span class="ident" id="7449308">FTable</span><span class="op" id="7449314">:</span>&nbsp;<span class="string" id="7449316">&#34;only&#34;</span><span class="op" id="7449322">}</span><span class="op" id="7449323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449327">ns</span><span class="op" id="7449329">:</span>&nbsp;&nbsp;<span class="string" id="7449332">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="7449368">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449371">}</span><span class="op" id="7449372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449379">xml</span><span class="op" id="7449382">:</span>&nbsp;<span class="string" id="7449384">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7449395">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449400">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="7449422">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7449427">`&lt;/Tables&gt;`</span><span class="op" id="7449438">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449442">tab</span><span class="op" id="7449445">:</span>&nbsp;<span class="ident" id="7449447">Tables</span><span class="op" id="7449453">{</span><span class="op" id="7449454">}</span><span class="op" id="7449455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449459">ns</span><span class="op" id="7449461">:</span>&nbsp;&nbsp;<span class="string" id="7449464">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="7449489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449492">}</span><span class="op" id="7449493">,</span><br>
<span class="lineno"></span><span class="op" id="7449495">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span><span class="keyword" id="7449498">func</span>&nbsp;<span class="ident" id="7449503">TestUnmarshalNS</span><span class="op" id="7449518">(</span><span class="ident" id="7449519">t</span>&nbsp;<span class="op" id="7449521">*</span><span class="ident" id="7449522">testing</span><span class="op" id="7449529">.</span><span class="ident" id="7449530">T</span><span class="op" id="7449531">)</span>&nbsp;<span class="op" id="7449533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7449536">for</span>&nbsp;<span class="ident" id="7449540">i</span><span class="op" id="7449541">,</span>&nbsp;<span class="ident" id="7449543">tt</span>&nbsp;<span class="op" id="7449546">:=</span>&nbsp;<span class="keyword" id="7449549">range</span>&nbsp;<span class="ident" id="7449555">tables</span>&nbsp;<span class="op" id="7449562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7449566">var</span>&nbsp;<span class="ident" id="7449570">dst</span>&nbsp;<span class="ident" id="7449574">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7449583">var</span>&nbsp;<span class="ident" id="7449587">err</span>&nbsp;<span class="builtintype" id="7449591">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7449599">if</span>&nbsp;<span class="ident" id="7449602">tt</span><span class="op" id="7449604">.</span><span class="ident" id="7449605">ns</span>&nbsp;<span class="op" id="7449608">!=</span>&nbsp;<span class="string" id="7449611">&#34;&#34;</span>&nbsp;<span class="op" id="7449614">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449619">d</span>&nbsp;<span class="op" id="7449621">:=</span>&nbsp;<span class="ident" id="7449624">NewDecoder</span><span class="op" id="7449634">(</span><span class="ident" id="7449635">strings</span><span class="op" id="7449642">.</span><span class="ident" id="7449643">NewReader</span><span class="op" id="7449652">(</span><span class="ident" id="7449653">tt</span><span class="op" id="7449655">.</span><span class="ident" id="7449656">xml</span><span class="op" id="7449659">)</span><span class="op" id="7449660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449665">d</span><span class="op" id="7449666">.</span><span class="ident" id="7449667">DefaultSpace</span>&nbsp;<span class="op" id="7449680">=</span>&nbsp;<span class="ident" id="7449682">tt</span><span class="op" id="7449684">.</span><span class="ident" id="7449685">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449691">err</span>&nbsp;<span class="op" id="7449695">=</span>&nbsp;<span class="ident" id="7449697">d</span><span class="op" id="7449698">.</span><span class="ident" id="7449699">Decode</span><span class="op" id="7449705">(</span><span class="op" id="7449706">&amp;</span><span class="ident" id="7449707">dst</span><span class="op" id="7449710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449714">}</span>&nbsp;<span class="keyword" id="7449716">else</span>&nbsp;<span class="op" id="7449721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449726">err</span>&nbsp;<span class="op" id="7449730">=</span>&nbsp;<span class="ident" id="7449732">Unmarshal</span><span class="op" id="7449741">(</span><span class="op" id="7449742">[</span><span class="op" id="7449743">]</span><span class="builtintype" id="7449744">byte</span><span class="op" id="7449748">(</span><span class="ident" id="7449749">tt</span><span class="op" id="7449751">.</span><span class="ident" id="7449752">xml</span><span class="op" id="7449755">)</span><span class="op" id="7449756">,</span>&nbsp;<span class="op" id="7449758">&amp;</span><span class="ident" id="7449759">dst</span><span class="op" id="7449762">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7449770">if</span>&nbsp;<span class="ident" id="7449773">err</span>&nbsp;<span class="op" id="7449777">!=</span>&nbsp;<span class="ident" id="7449780">nil</span>&nbsp;<span class="op" id="7449784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449789">t</span><span class="op" id="7449790">.</span><span class="ident" id="7449791">Errorf</span><span class="op" id="7449797">(</span><span class="string" id="7449798">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7449818">,</span>&nbsp;<span class="ident" id="7449820">i</span><span class="op" id="7449821">,</span>&nbsp;<span class="ident" id="7449823">err</span><span class="op" id="7449826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7449831">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449842">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449846">want</span>&nbsp;<span class="op" id="7449851">:=</span>&nbsp;<span class="ident" id="7449854">tt</span><span class="op" id="7449856">.</span><span class="ident" id="7449857">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7449863">if</span>&nbsp;<span class="ident" id="7449866">dst</span>&nbsp;<span class="op" id="7449870">!=</span>&nbsp;<span class="ident" id="7449873">want</span>&nbsp;<span class="op" id="7449878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449883">t</span><span class="op" id="7449884">.</span><span class="ident" id="7449885">Errorf</span><span class="op" id="7449891">(</span><span class="string" id="7449892">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7449916">,</span>&nbsp;<span class="ident" id="7449918">i</span><span class="op" id="7449919">,</span>&nbsp;<span class="ident" id="7449921">dst</span><span class="op" id="7449924">,</span>&nbsp;<span class="ident" id="7449926">want</span><span class="op" id="7449930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7449937">}</span><br>
<span class="lineno">485</span><span class="op" id="7449939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7449942">func</span>&nbsp;<span class="ident" id="7449947">TestMarshalNS</span><span class="op" id="7449960">(</span><span class="ident" id="7449961">t</span>&nbsp;<span class="op" id="7449963">*</span><span class="ident" id="7449964">testing</span><span class="op" id="7449971">.</span><span class="ident" id="7449972">T</span><span class="op" id="7449973">)</span>&nbsp;<span class="op" id="7449975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7449978">dst</span>&nbsp;<span class="op" id="7449982">:=</span>&nbsp;<span class="ident" id="7449985">Tables</span><span class="op" id="7449991">{</span><span class="string" id="7449992">&#34;hello&#34;</span><span class="op" id="7449999">,</span>&nbsp;<span class="string" id="7450001">&#34;world&#34;</span><span class="op" id="7450008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450011">data</span><span class="op" id="7450015">,</span>&nbsp;<span class="ident" id="7450017">err</span>&nbsp;<span class="op" id="7450021">:=</span>&nbsp;<span class="ident" id="7450024">Marshal</span><span class="op" id="7450031">(</span><span class="op" id="7450032">&amp;</span><span class="ident" id="7450033">dst</span><span class="op" id="7450036">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7450039">if</span>&nbsp;<span class="ident" id="7450042">err</span>&nbsp;<span class="op" id="7450046">!=</span>&nbsp;<span class="ident" id="7450049">nil</span>&nbsp;<span class="op" id="7450053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450057">t</span><span class="op" id="7450058">.</span><span class="ident" id="7450059">Fatalf</span><span class="op" id="7450065">(</span><span class="string" id="7450066">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="7450079">,</span>&nbsp;<span class="ident" id="7450081">err</span><span class="op" id="7450084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450090">want</span>&nbsp;<span class="op" id="7450095">:=</span>&nbsp;<span class="string" id="7450098">`&lt;Tables&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;&lt;/Tables&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450238">str</span>&nbsp;<span class="op" id="7450242">:=</span>&nbsp;<span class="builtintype" id="7450245">string</span><span class="op" id="7450251">(</span><span class="ident" id="7450252">data</span><span class="op" id="7450256">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7450259">if</span>&nbsp;<span class="ident" id="7450262">str</span>&nbsp;<span class="op" id="7450266">!=</span>&nbsp;<span class="ident" id="7450269">want</span>&nbsp;<span class="op" id="7450274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450278">t</span><span class="op" id="7450279">.</span><span class="ident" id="7450280">Errorf</span><span class="op" id="7450286">(</span><span class="string" id="7450287">&#34;have:&nbsp;%q\nwant:&nbsp;%q\n&#34;</span><span class="op" id="7450309">,</span>&nbsp;<span class="ident" id="7450311">str</span><span class="op" id="7450314">,</span>&nbsp;<span class="ident" id="7450316">want</span><span class="op" id="7450320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450323">}</span><br>
<span class="lineno"></span><span class="op" id="7450325">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span><span class="keyword" id="7450328">type</span>&nbsp;<span class="ident" id="7450333">TableAttrs</span>&nbsp;<span class="keyword" id="7450344">struct</span>&nbsp;<span class="op" id="7450351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450354">TAttr</span>&nbsp;<span class="ident" id="7450360">TAttr</span><br>
<span class="lineno"></span><span class="op" id="7450366">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7450369">type</span>&nbsp;<span class="ident" id="7450374">TAttr</span>&nbsp;<span class="keyword" id="7450380">struct</span>&nbsp;<span class="op" id="7450387">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450390">HTable</span>&nbsp;<span class="builtintype" id="7450397">string</span>&nbsp;<span class="string" id="7450404">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450452">FTable</span>&nbsp;<span class="builtintype" id="7450459">string</span>&nbsp;<span class="string" id="7450466">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450521">Lang</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7450528">string</span>&nbsp;<span class="string" id="7450535">`xml:&#34;http://www.w3.org/XML/1998/namespace&nbsp;lang,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450601">Other1</span>&nbsp;<span class="builtintype" id="7450608">string</span>&nbsp;<span class="string" id="7450615">`xml:&#34;http://golang.org/xml/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450668">Other2</span>&nbsp;<span class="builtintype" id="7450675">string</span>&nbsp;<span class="string" id="7450682">`xml:&#34;http://golang.org/xmlfoo/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450738">Other3</span>&nbsp;<span class="builtintype" id="7450745">string</span>&nbsp;<span class="string" id="7450752">`xml:&#34;http://golang.org/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450806">Other4</span>&nbsp;<span class="builtintype" id="7450813">string</span>&nbsp;<span class="string" id="7450820">`xml:&#34;http://golang.org/2/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7450875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7450878">var</span>&nbsp;<span class="ident" id="7450882">tableAttrs</span>&nbsp;<span class="op" id="7450893">=</span>&nbsp;<span class="op" id="7450895">[</span><span class="op" id="7450896">]</span><span class="keyword" id="7450897">struct</span>&nbsp;<span class="op" id="7450904">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450907">xml</span>&nbsp;<span class="builtintype" id="7450911">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450919">tab</span>&nbsp;<span class="ident" id="7450923">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450935">ns</span>&nbsp;&nbsp;<span class="builtintype" id="7450939">string</span><br>
<span class="lineno"></span><span class="op" id="7450946">}</span><span class="op" id="7450947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450950">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450954">xml</span><span class="op" id="7450957">:</span>&nbsp;<span class="string" id="7450959">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7451064">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7451069">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7451104">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7451109">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7451126">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7451130">tab</span><span class="op" id="7451133">:</span>&nbsp;<span class="ident" id="7451135">TableAttrs</span><span class="op" id="7451145">{</span><span class="ident" id="7451146">TAttr</span><span class="op" id="7451151">{</span><span class="ident" id="7451152">HTable</span><span class="op" id="7451158">:</span>&nbsp;<span class="string" id="7451160">&#34;hello&#34;</span><span class="op" id="7451167">,</span>&nbsp;<span class="ident" id="7451169">FTable</span><span class="op" id="7451175">:</span>&nbsp;<span class="string" id="7451177">&#34;world&#34;</span><span class="op" id="7451184">}</span><span class="op" id="7451185">}</span><span class="op" id="7451186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451189">}</span><span class="op" id="7451190">,</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7451197">xml</span><span class="op" id="7451200">:</span>&nbsp;<span class="string" id="7451202">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="7451307">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7451312">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7451347">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7451352">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7451369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7451373">tab</span><span class="op" id="7451376">:</span>&nbsp;<span class="ident" id="7451378">TableAttrs</span><span class="op" id="7451388">{</span><span class="ident" id="7451389">TAttr</span><span class="op" id="7451394">{</span><span class="ident" id="7451395">HTable</span><span class="op" id="7451401">:</span>&nbsp;<span class="string" id="7451403">&#34;hello&#34;</span><span class="op" id="7451410">,</span>&nbsp;<span class="ident" id="7451412">FTable</span><span class="op" id="7451418">:</span>&nbsp;<span class="string" id="7451420">&#34;world&#34;</span><span class="op" id="7451427">}</span><span class="op" id="7451428">}</span><span class="op" id="7451429">,</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451432">}</span><span class="op" id="7451433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7451440">xml</span><span class="op" id="7451443">:</span>&nbsp;<span class="string" id="7451445">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7451467">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7451472">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="7451590">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7451595">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7451612">,</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7451616">tab</span><span class="op" id="7451619">:</span>&nbsp;<span class="ident" id="7451621">TableAttrs</span><span class="op" id="7451631">{</span><span class="ident" id="7451632">TAttr</span><span class="op" id="7451637">{</span><span class="ident" id="7451638">HTable</span><span class="op" id="7451644">:</span>&nbsp;<span class="string" id="7451646">&#34;hello&#34;</span><span class="op" id="7451653">,</span>&nbsp;<span class="ident" id="7451655">FTable</span><span class="op" id="7451661">:</span>&nbsp;<span class="string" id="7451663">&#34;world&#34;</span><span class="op" id="7451670">}</span><span class="op" id="7451671">}</span><span class="op" id="7451672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451675">}</span><span class="op" id="7451676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7451683">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7451737">xml</span><span class="op" id="7451740">:</span>&nbsp;<span class="string" id="7451742">`&lt;TableAttrs&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7451845">+</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7451850">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7451883">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7451888">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7451905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7451909">tab</span><span class="op" id="7451912">:</span>&nbsp;<span class="ident" id="7451914">TableAttrs</span><span class="op" id="7451924">{</span><span class="ident" id="7451925">TAttr</span><span class="op" id="7451930">{</span><span class="ident" id="7451931">HTable</span><span class="op" id="7451937">:</span>&nbsp;<span class="string" id="7451939">&#34;hello&#34;</span><span class="op" id="7451946">,</span>&nbsp;<span class="ident" id="7451948">FTable</span><span class="op" id="7451954">:</span>&nbsp;<span class="string" id="7451956">&#34;&#34;</span><span class="op" id="7451958">}</span><span class="op" id="7451959">}</span><span class="op" id="7451960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451963">}</span><span class="op" id="7451964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451967">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7451971">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452025">xml</span><span class="op" id="7452028">:</span>&nbsp;<span class="string" id="7452030">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="7452133">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7452138">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7452171">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7452176">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7452193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452197">tab</span><span class="op" id="7452200">:</span>&nbsp;<span class="ident" id="7452202">TableAttrs</span><span class="op" id="7452212">{</span><span class="ident" id="7452213">TAttr</span><span class="op" id="7452218">{</span><span class="ident" id="7452219">HTable</span><span class="op" id="7452225">:</span>&nbsp;<span class="string" id="7452227">&#34;&#34;</span><span class="op" id="7452229">,</span>&nbsp;<span class="ident" id="7452231">FTable</span><span class="op" id="7452237">:</span>&nbsp;<span class="string" id="7452239">&#34;world&#34;</span><span class="op" id="7452246">}</span><span class="op" id="7452247">}</span><span class="op" id="7452248">,</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452251">}</span><span class="op" id="7452252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452259">xml</span><span class="op" id="7452262">:</span>&nbsp;<span class="string" id="7452264">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7452286">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7452291">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="7452308">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7452313">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7452330">,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452334">tab</span><span class="op" id="7452337">:</span>&nbsp;<span class="ident" id="7452339">TableAttrs</span><span class="op" id="7452349">{</span><span class="op" id="7452350">}</span><span class="op" id="7452351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452354">}</span><span class="op" id="7452355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7452362">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452416">xml</span><span class="op" id="7452419">:</span>&nbsp;<span class="string" id="7452421">`&lt;TableAttrs&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7452481">+</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7452486">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7452519">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7452524">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7452541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452545">tab</span><span class="op" id="7452548">:</span>&nbsp;<span class="ident" id="7452550">TableAttrs</span><span class="op" id="7452560">{</span><span class="ident" id="7452561">TAttr</span><span class="op" id="7452566">{</span><span class="ident" id="7452567">HTable</span><span class="op" id="7452573">:</span>&nbsp;<span class="string" id="7452575">&#34;hello&#34;</span><span class="op" id="7452582">,</span>&nbsp;<span class="ident" id="7452584">FTable</span><span class="op" id="7452590">:</span>&nbsp;<span class="string" id="7452592">&#34;&#34;</span><span class="op" id="7452594">}</span><span class="op" id="7452595">}</span><span class="op" id="7452596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452600">ns</span><span class="op" id="7452602">:</span>&nbsp;&nbsp;<span class="string" id="7452605">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="7452641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452644">}</span><span class="op" id="7452645">,</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7452652">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452706">xml</span><span class="op" id="7452709">:</span>&nbsp;<span class="string" id="7452711">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7452778">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7452783">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7452816">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7452821">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7452838">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452842">tab</span><span class="op" id="7452845">:</span>&nbsp;<span class="ident" id="7452847">TableAttrs</span><span class="op" id="7452857">{</span><span class="ident" id="7452858">TAttr</span><span class="op" id="7452863">{</span><span class="ident" id="7452864">HTable</span><span class="op" id="7452870">:</span>&nbsp;<span class="string" id="7452872">&#34;&#34;</span><span class="op" id="7452874">,</span>&nbsp;<span class="ident" id="7452876">FTable</span><span class="op" id="7452882">:</span>&nbsp;<span class="string" id="7452884">&#34;world&#34;</span><span class="op" id="7452891">}</span><span class="op" id="7452892">}</span><span class="op" id="7452893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452897">ns</span><span class="op" id="7452899">:</span>&nbsp;&nbsp;<span class="string" id="7452902">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="7452931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452934">}</span><span class="op" id="7452935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452942">xml</span><span class="op" id="7452945">:</span>&nbsp;<span class="string" id="7452947">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7452969">+</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7452974">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="7452991">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7452996">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7453013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453017">tab</span><span class="op" id="7453020">:</span>&nbsp;<span class="ident" id="7453022">TableAttrs</span><span class="op" id="7453032">{</span><span class="op" id="7453033">}</span><span class="op" id="7453034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453038">ns</span><span class="op" id="7453040">:</span>&nbsp;&nbsp;<span class="string" id="7453043">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="7453068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453071">}</span><span class="op" id="7453072">,</span><br>
<span class="lineno">580</span><span class="op" id="7453074">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7453077">func</span>&nbsp;<span class="ident" id="7453082">TestUnmarshalNSAttr</span><span class="op" id="7453101">(</span><span class="ident" id="7453102">t</span>&nbsp;<span class="op" id="7453104">*</span><span class="ident" id="7453105">testing</span><span class="op" id="7453112">.</span><span class="ident" id="7453113">T</span><span class="op" id="7453114">)</span>&nbsp;<span class="op" id="7453116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453119">for</span>&nbsp;<span class="ident" id="7453123">i</span><span class="op" id="7453124">,</span>&nbsp;<span class="ident" id="7453126">tt</span>&nbsp;<span class="op" id="7453129">:=</span>&nbsp;<span class="keyword" id="7453132">range</span>&nbsp;<span class="ident" id="7453138">tableAttrs</span>&nbsp;<span class="op" id="7453149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453153">var</span>&nbsp;<span class="ident" id="7453157">dst</span>&nbsp;<span class="ident" id="7453161">TableAttrs</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453174">var</span>&nbsp;<span class="ident" id="7453178">err</span>&nbsp;<span class="builtintype" id="7453182">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453190">if</span>&nbsp;<span class="ident" id="7453193">tt</span><span class="op" id="7453195">.</span><span class="ident" id="7453196">ns</span>&nbsp;<span class="op" id="7453199">!=</span>&nbsp;<span class="string" id="7453202">&#34;&#34;</span>&nbsp;<span class="op" id="7453205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453210">d</span>&nbsp;<span class="op" id="7453212">:=</span>&nbsp;<span class="ident" id="7453215">NewDecoder</span><span class="op" id="7453225">(</span><span class="ident" id="7453226">strings</span><span class="op" id="7453233">.</span><span class="ident" id="7453234">NewReader</span><span class="op" id="7453243">(</span><span class="ident" id="7453244">tt</span><span class="op" id="7453246">.</span><span class="ident" id="7453247">xml</span><span class="op" id="7453250">)</span><span class="op" id="7453251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453256">d</span><span class="op" id="7453257">.</span><span class="ident" id="7453258">DefaultSpace</span>&nbsp;<span class="op" id="7453271">=</span>&nbsp;<span class="ident" id="7453273">tt</span><span class="op" id="7453275">.</span><span class="ident" id="7453276">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453282">err</span>&nbsp;<span class="op" id="7453286">=</span>&nbsp;<span class="ident" id="7453288">d</span><span class="op" id="7453289">.</span><span class="ident" id="7453290">Decode</span><span class="op" id="7453296">(</span><span class="op" id="7453297">&amp;</span><span class="ident" id="7453298">dst</span><span class="op" id="7453301">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453305">}</span>&nbsp;<span class="keyword" id="7453307">else</span>&nbsp;<span class="op" id="7453312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453317">err</span>&nbsp;<span class="op" id="7453321">=</span>&nbsp;<span class="ident" id="7453323">Unmarshal</span><span class="op" id="7453332">(</span><span class="op" id="7453333">[</span><span class="op" id="7453334">]</span><span class="builtintype" id="7453335">byte</span><span class="op" id="7453339">(</span><span class="ident" id="7453340">tt</span><span class="op" id="7453342">.</span><span class="ident" id="7453343">xml</span><span class="op" id="7453346">)</span><span class="op" id="7453347">,</span>&nbsp;<span class="op" id="7453349">&amp;</span><span class="ident" id="7453350">dst</span><span class="op" id="7453353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453361">if</span>&nbsp;<span class="ident" id="7453364">err</span>&nbsp;<span class="op" id="7453368">!=</span>&nbsp;<span class="ident" id="7453371">nil</span>&nbsp;<span class="op" id="7453375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453380">t</span><span class="op" id="7453381">.</span><span class="ident" id="7453382">Errorf</span><span class="op" id="7453388">(</span><span class="string" id="7453389">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7453409">,</span>&nbsp;<span class="ident" id="7453411">i</span><span class="op" id="7453412">,</span>&nbsp;<span class="ident" id="7453414">err</span><span class="op" id="7453417">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453422">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453433">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453437">want</span>&nbsp;<span class="op" id="7453442">:=</span>&nbsp;<span class="ident" id="7453445">tt</span><span class="op" id="7453447">.</span><span class="ident" id="7453448">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453454">if</span>&nbsp;<span class="ident" id="7453457">dst</span>&nbsp;<span class="op" id="7453461">!=</span>&nbsp;<span class="ident" id="7453464">want</span>&nbsp;<span class="op" id="7453469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453474">t</span><span class="op" id="7453475">.</span><span class="ident" id="7453476">Errorf</span><span class="op" id="7453482">(</span><span class="string" id="7453483">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7453507">,</span>&nbsp;<span class="ident" id="7453509">i</span><span class="op" id="7453510">,</span>&nbsp;<span class="ident" id="7453512">dst</span><span class="op" id="7453515">,</span>&nbsp;<span class="ident" id="7453517">want</span><span class="op" id="7453521">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453528">}</span><br>
<span class="lineno"></span><span class="op" id="7453530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7453533">func</span>&nbsp;<span class="ident" id="7453538">TestMarshalNSAttr</span><span class="op" id="7453555">(</span><span class="ident" id="7453556">t</span>&nbsp;<span class="op" id="7453558">*</span><span class="ident" id="7453559">testing</span><span class="op" id="7453566">.</span><span class="ident" id="7453567">T</span><span class="op" id="7453568">)</span>&nbsp;<span class="op" id="7453570">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453573">src</span>&nbsp;<span class="op" id="7453577">:=</span>&nbsp;<span class="ident" id="7453580">TableAttrs</span><span class="op" id="7453590">{</span><span class="ident" id="7453591">TAttr</span><span class="op" id="7453596">{</span><span class="string" id="7453597">&#34;hello&#34;</span><span class="op" id="7453604">,</span>&nbsp;<span class="string" id="7453606">&#34;world&#34;</span><span class="op" id="7453613">,</span>&nbsp;<span class="string" id="7453615">&#34;en_US&#34;</span><span class="op" id="7453622">,</span>&nbsp;<span class="string" id="7453624">&#34;other1&#34;</span><span class="op" id="7453632">,</span>&nbsp;<span class="string" id="7453634">&#34;other2&#34;</span><span class="op" id="7453642">,</span>&nbsp;<span class="string" id="7453644">&#34;other3&#34;</span><span class="op" id="7453652">,</span>&nbsp;<span class="string" id="7453654">&#34;other4&#34;</span><span class="op" id="7453662">}</span><span class="op" id="7453663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453666">data</span><span class="op" id="7453670">,</span>&nbsp;<span class="ident" id="7453672">err</span>&nbsp;<span class="op" id="7453676">:=</span>&nbsp;<span class="ident" id="7453679">Marshal</span><span class="op" id="7453686">(</span><span class="op" id="7453687">&amp;</span><span class="ident" id="7453688">src</span><span class="op" id="7453691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453694">if</span>&nbsp;<span class="ident" id="7453697">err</span>&nbsp;<span class="op" id="7453701">!=</span>&nbsp;<span class="ident" id="7453704">nil</span>&nbsp;<span class="op" id="7453708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453712">t</span><span class="op" id="7453713">.</span><span class="ident" id="7453714">Fatalf</span><span class="op" id="7453720">(</span><span class="string" id="7453721">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="7453734">,</span>&nbsp;<span class="ident" id="7453736">err</span><span class="op" id="7453739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453742">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453745">want</span>&nbsp;<span class="op" id="7453750">:=</span>&nbsp;<span class="string" id="7453753">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:html4=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;html4:table=&#34;hello&#34;&nbsp;xmlns:furniture=&#34;http://www.w3schools.com/furniture&#34;&nbsp;furniture:table=&#34;world&#34;&nbsp;xml:lang=&#34;en_US&#34;&nbsp;xmlns:_xml=&#34;http://golang.org/xml/&#34;&nbsp;_xml:other=&#34;other1&#34;&nbsp;xmlns:_xmlfoo=&#34;http://golang.org/xmlfoo/&#34;&nbsp;_xmlfoo:other=&#34;other2&#34;&nbsp;xmlns:json=&#34;http://golang.org/json/&#34;&nbsp;json:other=&#34;other3&#34;&nbsp;xmlns:json_1=&#34;http://golang.org/2/json/&#34;&nbsp;json_1:other=&#34;other4&#34;&gt;&lt;/TAttr&gt;&lt;/TableAttrs&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454194">str</span>&nbsp;<span class="op" id="7454198">:=</span>&nbsp;<span class="builtintype" id="7454201">string</span><span class="op" id="7454207">(</span><span class="ident" id="7454208">data</span><span class="op" id="7454212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454215">if</span>&nbsp;<span class="ident" id="7454218">str</span>&nbsp;<span class="op" id="7454222">!=</span>&nbsp;<span class="ident" id="7454225">want</span>&nbsp;<span class="op" id="7454230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454234">t</span><span class="op" id="7454235">.</span><span class="ident" id="7454236">Errorf</span><span class="op" id="7454242">(</span><span class="string" id="7454243">&#34;Marshal:\nhave:&nbsp;%#q\nwant:&nbsp;%#q\n&#34;</span><span class="op" id="7454277">,</span>&nbsp;<span class="ident" id="7454279">str</span><span class="op" id="7454282">,</span>&nbsp;<span class="ident" id="7454284">want</span><span class="op" id="7454288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454291">}</span><br>
<span class="lineno">615</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454295">var</span>&nbsp;<span class="ident" id="7454299">dst</span>&nbsp;<span class="ident" id="7454303">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454315">if</span>&nbsp;<span class="ident" id="7454318">err</span>&nbsp;<span class="op" id="7454322">:=</span>&nbsp;<span class="ident" id="7454325">Unmarshal</span><span class="op" id="7454334">(</span><span class="ident" id="7454335">data</span><span class="op" id="7454339">,</span>&nbsp;<span class="op" id="7454341">&amp;</span><span class="ident" id="7454342">dst</span><span class="op" id="7454345">)</span><span class="op" id="7454346">;</span>&nbsp;<span class="ident" id="7454348">err</span>&nbsp;<span class="op" id="7454352">!=</span>&nbsp;<span class="ident" id="7454355">nil</span>&nbsp;<span class="op" id="7454359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454363">t</span><span class="op" id="7454364">.</span><span class="ident" id="7454365">Errorf</span><span class="op" id="7454371">(</span><span class="string" id="7454372">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7454387">,</span>&nbsp;<span class="ident" id="7454389">err</span><span class="op" id="7454392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454395">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454399">if</span>&nbsp;<span class="ident" id="7454402">dst</span>&nbsp;<span class="op" id="7454406">!=</span>&nbsp;<span class="ident" id="7454409">src</span>&nbsp;<span class="op" id="7454413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454417">t</span><span class="op" id="7454418">.</span><span class="ident" id="7454419">Errorf</span><span class="op" id="7454425">(</span><span class="string" id="7454426">&#34;Unmarshal&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7454451">,</span>&nbsp;<span class="ident" id="7454453">dst</span><span class="op" id="7454456">,</span>&nbsp;<span class="ident" id="7454458">src</span><span class="op" id="7454461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454464">}</span><br>
<span class="lineno"></span><span class="op" id="7454466">}</span><br>
<span class="lineno">625</span><br>
<span class="lineno"></span><span class="keyword" id="7454469">type</span>&nbsp;<span class="ident" id="7454474">MyCharData</span>&nbsp;<span class="keyword" id="7454485">struct</span>&nbsp;<span class="op" id="7454492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454495">body</span>&nbsp;<span class="builtintype" id="7454500">string</span><br>
<span class="lineno"></span><span class="op" id="7454507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">630</span><span class="keyword" id="7454510">func</span>&nbsp;<span class="op" id="7454515">(</span><span class="ident" id="7454516">m</span>&nbsp;<span class="op" id="7454518">*</span><span class="ident" id="7454519">MyCharData</span><span class="op" id="7454529">)</span>&nbsp;<span class="ident" id="7454531">UnmarshalXML</span><span class="op" id="7454543">(</span><span class="ident" id="7454544">d</span>&nbsp;<span class="op" id="7454546">*</span><span class="ident" id="7454547">Decoder</span><span class="op" id="7454554">,</span>&nbsp;<span class="ident" id="7454556">start</span>&nbsp;<span class="ident" id="7454562">StartElement</span><span class="op" id="7454574">)</span>&nbsp;<span class="builtintype" id="7454576">error</span>&nbsp;<span class="op" id="7454582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454585">for</span>&nbsp;<span class="op" id="7454589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454593">t</span><span class="op" id="7454594">,</span>&nbsp;<span class="ident" id="7454596">err</span>&nbsp;<span class="op" id="7454600">:=</span>&nbsp;<span class="ident" id="7454603">d</span><span class="op" id="7454604">.</span><span class="ident" id="7454605">Token</span><span class="op" id="7454610">(</span><span class="op" id="7454611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454615">if</span>&nbsp;<span class="ident" id="7454618">err</span>&nbsp;<span class="op" id="7454622">==</span>&nbsp;<span class="ident" id="7454625">io</span><span class="op" id="7454627">.</span><span class="ident" id="7454628">EOF</span>&nbsp;<span class="op" id="7454632">{</span>&nbsp;<span class="comment" id="7454634">//&nbsp;found&nbsp;end&nbsp;of&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454661">break</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454673">if</span>&nbsp;<span class="ident" id="7454676">err</span>&nbsp;<span class="op" id="7454680">!=</span>&nbsp;<span class="ident" id="7454683">nil</span>&nbsp;<span class="op" id="7454687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454692">return</span>&nbsp;<span class="ident" id="7454699">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454705">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454709">if</span>&nbsp;<span class="ident" id="7454712">char</span><span class="op" id="7454716">,</span>&nbsp;<span class="ident" id="7454718">ok</span>&nbsp;<span class="op" id="7454721">:=</span>&nbsp;<span class="ident" id="7454724">t</span><span class="op" id="7454725">.</span><span class="op" id="7454726">(</span><span class="ident" id="7454727">CharData</span><span class="op" id="7454735">)</span><span class="op" id="7454736">;</span>&nbsp;<span class="ident" id="7454738">ok</span>&nbsp;<span class="op" id="7454741">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454746">m</span><span class="op" id="7454747">.</span><span class="ident" id="7454748">body</span>&nbsp;<span class="op" id="7454753">+=</span>&nbsp;<span class="builtintype" id="7454756">string</span><span class="op" id="7454762">(</span><span class="ident" id="7454763">char</span><span class="op" id="7454767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454777">return</span>&nbsp;<span class="ident" id="7454784">nil</span><br>
<span class="lineno"></span><span class="op" id="7454788">}</span><br>
<span class="lineno">645</span><br>
<span class="lineno"></span><span class="keyword" id="7454791">var</span>&nbsp;<span class="ident" id="7454795">_</span>&nbsp;<span class="ident" id="7454797">Unmarshaler</span>&nbsp;<span class="op" id="7454809">=</span>&nbsp;<span class="op" id="7454811">(</span><span class="op" id="7454812">*</span><span class="ident" id="7454813">MyCharData</span><span class="op" id="7454823">)</span><span class="op" id="7454824">(</span><span class="ident" id="7454825">nil</span><span class="op" id="7454828">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7454831">func</span>&nbsp;<span class="op" id="7454836">(</span><span class="ident" id="7454837">m</span>&nbsp;<span class="op" id="7454839">*</span><span class="ident" id="7454840">MyCharData</span><span class="op" id="7454850">)</span>&nbsp;<span class="ident" id="7454852">UnmarshalXMLAttr</span><span class="op" id="7454868">(</span><span class="ident" id="7454869">attr</span>&nbsp;<span class="ident" id="7454874">Attr</span><span class="op" id="7454878">)</span>&nbsp;<span class="builtintype" id="7454880">error</span>&nbsp;<span class="op" id="7454886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7454889">panic</span><span class="op" id="7454894">(</span><span class="string" id="7454895">&#34;must&nbsp;not&nbsp;call&#34;</span><span class="op" id="7454910">)</span><br>
<span class="lineno">650</span><span class="op" id="7454912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7454915">type</span>&nbsp;<span class="ident" id="7454920">MyAttr</span>&nbsp;<span class="keyword" id="7454927">struct</span>&nbsp;<span class="op" id="7454934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454937">attr</span>&nbsp;<span class="builtintype" id="7454942">string</span><br>
<span class="lineno"></span><span class="op" id="7454949">}</span><br>
<span class="lineno">655</span><br>
<span class="lineno"></span><span class="keyword" id="7454952">func</span>&nbsp;<span class="op" id="7454957">(</span><span class="ident" id="7454958">m</span>&nbsp;<span class="op" id="7454960">*</span><span class="ident" id="7454961">MyAttr</span><span class="op" id="7454967">)</span>&nbsp;<span class="ident" id="7454969">UnmarshalXMLAttr</span><span class="op" id="7454985">(</span><span class="ident" id="7454986">attr</span>&nbsp;<span class="ident" id="7454991">Attr</span><span class="op" id="7454995">)</span>&nbsp;<span class="builtintype" id="7454997">error</span>&nbsp;<span class="op" id="7455003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455006">m</span><span class="op" id="7455007">.</span><span class="ident" id="7455008">attr</span>&nbsp;<span class="op" id="7455013">=</span>&nbsp;<span class="ident" id="7455015">attr</span><span class="op" id="7455019">.</span><span class="ident" id="7455020">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7455027">return</span>&nbsp;<span class="ident" id="7455034">nil</span><br>
<span class="lineno"></span><span class="op" id="7455038">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="7455041">var</span>&nbsp;<span class="ident" id="7455045">_</span>&nbsp;<span class="ident" id="7455047">UnmarshalerAttr</span>&nbsp;<span class="op" id="7455063">=</span>&nbsp;<span class="op" id="7455065">(</span><span class="op" id="7455066">*</span><span class="ident" id="7455067">MyAttr</span><span class="op" id="7455073">)</span><span class="op" id="7455074">(</span><span class="ident" id="7455075">nil</span><span class="op" id="7455078">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7455081">type</span>&nbsp;<span class="ident" id="7455086">MyStruct</span>&nbsp;<span class="keyword" id="7455095">struct</span>&nbsp;<span class="op" id="7455102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455105">Data</span>&nbsp;<span class="op" id="7455110">*</span><span class="ident" id="7455111">MyCharData</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455123">Attr</span>&nbsp;<span class="op" id="7455128">*</span><span class="ident" id="7455129">MyAttr</span>&nbsp;<span class="string" id="7455136">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455152">Data2</span>&nbsp;<span class="ident" id="7455158">MyCharData</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455170">Attr2</span>&nbsp;<span class="ident" id="7455176">MyAttr</span>&nbsp;<span class="string" id="7455183">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7455197">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="7455200">func</span>&nbsp;<span class="ident" id="7455205">TestUnmarshaler</span><span class="op" id="7455220">(</span><span class="ident" id="7455221">t</span>&nbsp;<span class="op" id="7455223">*</span><span class="ident" id="7455224">testing</span><span class="op" id="7455231">.</span><span class="ident" id="7455232">T</span><span class="op" id="7455233">)</span>&nbsp;<span class="op" id="7455235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455238">xml</span>&nbsp;<span class="op" id="7455242">:=</span>&nbsp;<span class="string" id="7455245">`&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;MyStruct&nbsp;Attr=&#34;attr1&#34;&nbsp;Attr2=&#34;attr2&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data&gt;hello&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data&gt;<br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data2&gt;howdy&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;/MyStruct&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7455432">var</span>&nbsp;<span class="ident" id="7455436">m</span>&nbsp;<span class="ident" id="7455438">MyStruct</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7455448">if</span>&nbsp;<span class="ident" id="7455451">err</span>&nbsp;<span class="op" id="7455455">:=</span>&nbsp;<span class="ident" id="7455458">Unmarshal</span><span class="op" id="7455467">(</span><span class="op" id="7455468">[</span><span class="op" id="7455469">]</span><span class="builtintype" id="7455470">byte</span><span class="op" id="7455474">(</span><span class="ident" id="7455475">xml</span><span class="op" id="7455478">)</span><span class="op" id="7455479">,</span>&nbsp;<span class="op" id="7455481">&amp;</span><span class="ident" id="7455482">m</span><span class="op" id="7455483">)</span><span class="op" id="7455484">;</span>&nbsp;<span class="ident" id="7455486">err</span>&nbsp;<span class="op" id="7455490">!=</span>&nbsp;<span class="ident" id="7455493">nil</span>&nbsp;<span class="op" id="7455497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455501">t</span><span class="op" id="7455502">.</span><span class="ident" id="7455503">Fatal</span><span class="op" id="7455508">(</span><span class="ident" id="7455509">err</span><span class="op" id="7455512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455515">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7455519">if</span>&nbsp;<span class="ident" id="7455522">m</span><span class="op" id="7455523">.</span><span class="ident" id="7455524">Data</span>&nbsp;<span class="op" id="7455529">==</span>&nbsp;<span class="ident" id="7455532">nil</span>&nbsp;<span class="op" id="7455536">||</span>&nbsp;<span class="ident" id="7455539">m</span><span class="op" id="7455540">.</span><span class="ident" id="7455541">Attr</span>&nbsp;<span class="op" id="7455546">==</span>&nbsp;<span class="ident" id="7455549">nil</span>&nbsp;<span class="op" id="7455553">||</span>&nbsp;<span class="ident" id="7455556">m</span><span class="op" id="7455557">.</span><span class="ident" id="7455558">Data</span><span class="op" id="7455562">.</span><span class="ident" id="7455563">body</span>&nbsp;<span class="op" id="7455568">!=</span>&nbsp;<span class="string" id="7455571">&#34;hello&nbsp;world&#34;</span>&nbsp;<span class="op" id="7455585">||</span>&nbsp;<span class="ident" id="7455588">m</span><span class="op" id="7455589">.</span><span class="ident" id="7455590">Attr</span><span class="op" id="7455594">.</span><span class="ident" id="7455595">attr</span>&nbsp;<span class="op" id="7455600">!=</span>&nbsp;<span class="string" id="7455603">&#34;attr1&#34;</span>&nbsp;<span class="op" id="7455611">||</span>&nbsp;<span class="ident" id="7455614">m</span><span class="op" id="7455615">.</span><span class="ident" id="7455616">Data2</span><span class="op" id="7455621">.</span><span class="ident" id="7455622">body</span>&nbsp;<span class="op" id="7455627">!=</span>&nbsp;<span class="string" id="7455630">&#34;howdy&nbsp;world&#34;</span>&nbsp;<span class="op" id="7455644">||</span>&nbsp;<span class="ident" id="7455647">m</span><span class="op" id="7455648">.</span><span class="ident" id="7455649">Attr2</span><span class="op" id="7455654">.</span><span class="ident" id="7455655">attr</span>&nbsp;<span class="op" id="7455660">!=</span>&nbsp;<span class="string" id="7455663">&#34;attr2&#34;</span>&nbsp;<span class="op" id="7455671">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455675">t</span><span class="op" id="7455676">.</span><span class="ident" id="7455677">Errorf</span><span class="op" id="7455683">(</span><span class="string" id="7455684">&#34;m=%#+v\n&#34;</span><span class="op" id="7455694">,</span>&nbsp;<span class="ident" id="7455696">m</span><span class="op" id="7455697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455700">}</span><br>
<span class="lineno"></span><span class="op" id="7455702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7455705">type</span>&nbsp;<span class="ident" id="7455710">Pea</span>&nbsp;<span class="keyword" id="7455714">struct</span>&nbsp;<span class="op" id="7455721">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455724">Cotelydon</span>&nbsp;<span class="builtintype" id="7455734">string</span><br>
<span class="lineno"></span><span class="op" id="7455741">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7455744">type</span>&nbsp;<span class="ident" id="7455749">Pod</span>&nbsp;<span class="keyword" id="7455753">struct</span>&nbsp;<span class="op" id="7455760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455763">Pea</span>&nbsp;<span class="keyword" id="7455767">interface</span><span class="op" id="7455776">{</span><span class="op" id="7455777">}</span>&nbsp;<span class="string" id="7455779">`xml:&#34;Pea&#34;`</span><br>
<span class="lineno">695</span><span class="op" id="7455791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7455794">//&nbsp;https://code.google.com/p/go/issues/detail?id=6836</span><br>
<span class="lineno"></span><span class="keyword" id="7455848">func</span>&nbsp;<span class="ident" id="7455853">TestUnmarshalIntoInterface</span><span class="op" id="7455879">(</span><span class="ident" id="7455880">t</span>&nbsp;<span class="op" id="7455882">*</span><span class="ident" id="7455883">testing</span><span class="op" id="7455890">.</span><span class="ident" id="7455891">T</span><span class="op" id="7455892">)</span>&nbsp;<span class="op" id="7455894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455897">pod</span>&nbsp;<span class="op" id="7455901">:=</span>&nbsp;<span class="builtinfunc" id="7455904">new</span><span class="op" id="7455907">(</span><span class="ident" id="7455908">Pod</span><span class="op" id="7455911">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455914">pod</span><span class="op" id="7455917">.</span><span class="ident" id="7455918">Pea</span>&nbsp;<span class="op" id="7455922">=</span>&nbsp;<span class="builtinfunc" id="7455924">new</span><span class="op" id="7455927">(</span><span class="ident" id="7455928">Pea</span><span class="op" id="7455931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455934">xml</span>&nbsp;<span class="op" id="7455938">:=</span>&nbsp;<span class="string" id="7455941">`&lt;Pod&gt;&lt;Pea&gt;&lt;Cotelydon&gt;Green&nbsp;stuff&lt;/Cotelydon&gt;&lt;/Pea&gt;&lt;/Pod&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456001">err</span>&nbsp;<span class="op" id="7456005">:=</span>&nbsp;<span class="ident" id="7456008">Unmarshal</span><span class="op" id="7456017">(</span><span class="op" id="7456018">[</span><span class="op" id="7456019">]</span><span class="builtintype" id="7456020">byte</span><span class="op" id="7456024">(</span><span class="ident" id="7456025">xml</span><span class="op" id="7456028">)</span><span class="op" id="7456029">,</span>&nbsp;<span class="ident" id="7456031">pod</span><span class="op" id="7456034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7456037">if</span>&nbsp;<span class="ident" id="7456040">err</span>&nbsp;<span class="op" id="7456044">!=</span>&nbsp;<span class="ident" id="7456047">nil</span>&nbsp;<span class="op" id="7456051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456055">t</span><span class="op" id="7456056">.</span><span class="ident" id="7456057">Fatalf</span><span class="op" id="7456063">(</span><span class="string" id="7456064">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7456092">,</span>&nbsp;<span class="ident" id="7456094">xml</span><span class="op" id="7456097">,</span>&nbsp;<span class="ident" id="7456099">err</span><span class="op" id="7456102">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456108">pea</span><span class="op" id="7456111">,</span>&nbsp;<span class="ident" id="7456113">ok</span>&nbsp;<span class="op" id="7456116">:=</span>&nbsp;<span class="ident" id="7456119">pod</span><span class="op" id="7456122">.</span><span class="ident" id="7456123">Pea</span><span class="op" id="7456126">.</span><span class="op" id="7456127">(</span><span class="op" id="7456128">*</span><span class="ident" id="7456129">Pea</span><span class="op" id="7456132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7456135">if</span>&nbsp;<span class="op" id="7456138">!</span><span class="ident" id="7456139">ok</span>&nbsp;<span class="op" id="7456142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456146">t</span><span class="op" id="7456147">.</span><span class="ident" id="7456148">Fatalf</span><span class="op" id="7456154">(</span><span class="string" id="7456155">&#34;unmarshalled&nbsp;into&nbsp;wrong&nbsp;type:&nbsp;have&nbsp;%T&nbsp;want&nbsp;*Pea&#34;</span><span class="op" id="7456204">,</span>&nbsp;<span class="ident" id="7456206">pod</span><span class="op" id="7456209">.</span><span class="ident" id="7456210">Pea</span><span class="op" id="7456213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456216">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456219">have</span><span class="op" id="7456223">,</span>&nbsp;<span class="ident" id="7456225">want</span>&nbsp;<span class="op" id="7456230">:=</span>&nbsp;<span class="ident" id="7456233">pea</span><span class="op" id="7456236">.</span><span class="ident" id="7456237">Cotelydon</span><span class="op" id="7456246">,</span>&nbsp;<span class="string" id="7456248">&#34;Green&nbsp;stuff&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7456263">if</span>&nbsp;<span class="ident" id="7456266">have</span>&nbsp;<span class="op" id="7456271">!=</span>&nbsp;<span class="ident" id="7456274">want</span>&nbsp;<span class="op" id="7456279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7456283">t</span><span class="op" id="7456284">.</span><span class="ident" id="7456285">Errorf</span><span class="op" id="7456291">(</span><span class="string" id="7456292">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;into&nbsp;interface,&nbsp;have&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7456345">,</span>&nbsp;<span class="ident" id="7456347">have</span><span class="op" id="7456351">,</span>&nbsp;<span class="ident" id="7456353">want</span><span class="op" id="7456357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456360">}</span><br>
<span class="lineno"></span><span class="op" id="7456362">}</span>
</div>
</body>
</html>
