<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/adler32</h2>
<ul>
<li><a href="/gostd/hash/adler32/adler32.go.html">adler32.go</a></li>
<li><a href="/gostd/hash/adler32/adler32_test.go.html" class="current">adler32_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7230473">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7230528">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7230582">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7230633">package</span>&nbsp;<span class="ident" id="7230641">adler32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7230650">import</span>&nbsp;<span class="op" id="7230657">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7230660">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7230671">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7230681">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7230684">var</span>&nbsp;<span class="ident" id="7230688">golden</span>&nbsp;<span class="op" id="7230695">=</span>&nbsp;<span class="op" id="7230697">[</span><span class="op" id="7230698">]</span><span class="keyword" id="7230699">struct</span>&nbsp;<span class="op" id="7230706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7230709">out</span>&nbsp;<span class="builtintype" id="7230713">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7230721">in</span>&nbsp;&nbsp;<span class="builtintype" id="7230725">string</span><br>
<span class="lineno">15</span><span class="op" id="7230732">}</span><span class="op" id="7230733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7230736">{</span><span class="num" id="7230737">0x00000001</span><span class="op" id="7230747">,</span>&nbsp;<span class="string" id="7230749">&#34;&#34;</span><span class="op" id="7230751">}</span><span class="op" id="7230752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7230755">{</span><span class="num" id="7230756">0x00620062</span><span class="op" id="7230766">,</span>&nbsp;<span class="string" id="7230768">&#34;a&#34;</span><span class="op" id="7230771">}</span><span class="op" id="7230772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7230775">{</span><span class="num" id="7230776">0x012600c4</span><span class="op" id="7230786">,</span>&nbsp;<span class="string" id="7230788">&#34;ab&#34;</span><span class="op" id="7230792">}</span><span class="op" id="7230793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7230796">{</span><span class="num" id="7230797">0x024d0127</span><span class="op" id="7230807">,</span>&nbsp;<span class="string" id="7230809">&#34;abc&#34;</span><span class="op" id="7230814">}</span><span class="op" id="7230815">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7230818">{</span><span class="num" id="7230819">0x03d8018b</span><span class="op" id="7230829">,</span>&nbsp;<span class="string" id="7230831">&#34;abcd&#34;</span><span class="op" id="7230837">}</span><span class="op" id="7230838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7230841">{</span><span class="num" id="7230842">0x05c801f0</span><span class="op" id="7230852">,</span>&nbsp;<span class="string" id="7230854">&#34;abcde&#34;</span><span class="op" id="7230861">}</span><span class="op" id="7230862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7230865">{</span><span class="num" id="7230866">0x081e0256</span><span class="op" id="7230876">,</span>&nbsp;<span class="string" id="7230878">&#34;abcdef&#34;</span><span class="op" id="7230886">}</span><span class="op" id="7230887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7230890">{</span><span class="num" id="7230891">0x0adb02bd</span><span class="op" id="7230901">,</span>&nbsp;<span class="string" id="7230903">&#34;abcdefg&#34;</span><span class="op" id="7230912">}</span><span class="op" id="7230913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7230916">{</span><span class="num" id="7230917">0x0e000325</span><span class="op" id="7230927">,</span>&nbsp;<span class="string" id="7230929">&#34;abcdefgh&#34;</span><span class="op" id="7230939">}</span><span class="op" id="7230940">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7230943">{</span><span class="num" id="7230944">0x118e038e</span><span class="op" id="7230954">,</span>&nbsp;<span class="string" id="7230956">&#34;abcdefghi&#34;</span><span class="op" id="7230967">}</span><span class="op" id="7230968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7230971">{</span><span class="num" id="7230972">0x158603f8</span><span class="op" id="7230982">,</span>&nbsp;<span class="string" id="7230984">&#34;abcdefghij&#34;</span><span class="op" id="7230996">}</span><span class="op" id="7230997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7231000">{</span><span class="num" id="7231001">0x3f090f02</span><span class="op" id="7231011">,</span>&nbsp;<span class="string" id="7231013">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="7231056">}</span><span class="op" id="7231057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7231060">{</span><span class="num" id="7231061">0x46d81477</span><span class="op" id="7231071">,</span>&nbsp;<span class="string" id="7231073">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="7231132">}</span><span class="op" id="7231133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7231136">{</span><span class="num" id="7231137">0x40ee0ee1</span><span class="op" id="7231147">,</span>&nbsp;<span class="string" id="7231149">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="7231193">}</span><span class="op" id="7231194">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7231197">{</span><span class="num" id="7231198">0x16661315</span><span class="op" id="7231208">,</span>&nbsp;<span class="string" id="7231210">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="7231269">}</span><span class="op" id="7231270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7231273">{</span><span class="num" id="7231274">0x5b2e1480</span><span class="op" id="7231284">,</span>&nbsp;<span class="string" id="7231286">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="7231346">}</span><span class="op" id="7231347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7231350">{</span><span class="num" id="7231351">0x8c3c09ea</span><span class="op" id="7231361">,</span>&nbsp;<span class="string" id="7231363">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="7231392">}</span><span class="op" id="7231393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7231396">{</span><span class="num" id="7231397">0x45ac18fd</span><span class="op" id="7231407">,</span>&nbsp;<span class="string" id="7231409">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="7231478">}</span><span class="op" id="7231479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7231482">{</span><span class="num" id="7231483">0x53c61462</span><span class="op" id="7231493">,</span>&nbsp;<span class="string" id="7231495">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="7231554">}</span><span class="op" id="7231555">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7231558">{</span><span class="num" id="7231559">0x7e511e63</span><span class="op" id="7231569">,</span>&nbsp;<span class="string" id="7231571">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="7231661">}</span><span class="op" id="7231662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7231665">{</span><span class="num" id="7231666">0xe4801a6a</span><span class="op" id="7231676">,</span>&nbsp;<span class="string" id="7231678">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="7231755">}</span><span class="op" id="7231756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7231759">{</span><span class="num" id="7231760">0x61b507df</span><span class="op" id="7231770">,</span>&nbsp;<span class="string" id="7231772">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="7231798">}</span><span class="op" id="7231799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7231802">{</span><span class="num" id="7231803">0xb8631171</span><span class="op" id="7231813">,</span>&nbsp;<span class="string" id="7231815">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="7231866">}</span><span class="op" id="7231867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7231870">{</span><span class="num" id="7231871">0x8b5e1904</span><span class="op" id="7231881">,</span>&nbsp;<span class="string" id="7231883">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="7231957">}</span><span class="op" id="7231958">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7231961">{</span><span class="num" id="7231962">0x7cc6102b</span><span class="op" id="7231972">,</span>&nbsp;<span class="string" id="7231974">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="7232022">}</span><span class="op" id="7232023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7232026">{</span><span class="num" id="7232027">0x700318e7</span><span class="op" id="7232037">,</span>&nbsp;<span class="string" id="7232039">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="7232111">}</span><span class="op" id="7232112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7232115">{</span><span class="num" id="7232116">0x1e601747</span><span class="op" id="7232126">,</span>&nbsp;<span class="string" id="7232128">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="7232198">}</span><span class="op" id="7232199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7232202">{</span><span class="num" id="7232203">0xb55b0b09</span><span class="op" id="7232213">,</span>&nbsp;<span class="string" id="7232215">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="7232249">}</span><span class="op" id="7232250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7232253">{</span><span class="num" id="7232254">0x39111dd0</span><span class="op" id="7232264">,</span>&nbsp;<span class="string" id="7232266">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="7232356">}</span><span class="op" id="7232357">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7232360">{</span><span class="num" id="7232361">0x91dd304f</span><span class="op" id="7232371">,</span>&nbsp;<span class="string" id="7232373">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="7232507">}</span><span class="op" id="7232508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7232511">{</span><span class="num" id="7232512">0x2e5d1316</span><span class="op" id="7232522">,</span>&nbsp;<span class="string" id="7232524">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="7232582">}</span><span class="op" id="7232583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7232586">{</span><span class="num" id="7232587">0xd0201df6</span><span class="op" id="7232597">,</span>&nbsp;<span class="string" id="7232599">&#34;&#39;Invariant&nbsp;assertions&#39;&nbsp;is&nbsp;the&nbsp;most&nbsp;elegant&nbsp;programming&nbsp;technique!&nbsp;&nbsp;-Tom&nbsp;Szymanski&#34;</span><span class="op" id="7232682">}</span><span class="op" id="7232683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7232686">{</span><span class="num" id="7232687">0x211297c8</span><span class="op" id="7232697">,</span>&nbsp;<span class="ident" id="7232699">strings</span><span class="op" id="7232706">.</span><span class="ident" id="7232707">Repeat</span><span class="op" id="7232713">(</span><span class="string" id="7232714">&#34;\xff&#34;</span><span class="op" id="7232720">,</span>&nbsp;<span class="num" id="7232722">5548</span><span class="op" id="7232726">)</span>&nbsp;<span class="op" id="7232728">+</span>&nbsp;<span class="string" id="7232730">&#34;8&#34;</span><span class="op" id="7232733">}</span><span class="op" id="7232734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7232737">{</span><span class="num" id="7232738">0xbaa198c8</span><span class="op" id="7232748">,</span>&nbsp;<span class="ident" id="7232750">strings</span><span class="op" id="7232757">.</span><span class="ident" id="7232758">Repeat</span><span class="op" id="7232764">(</span><span class="string" id="7232765">&#34;\xff&#34;</span><span class="op" id="7232771">,</span>&nbsp;<span class="num" id="7232773">5549</span><span class="op" id="7232777">)</span>&nbsp;<span class="op" id="7232779">+</span>&nbsp;<span class="string" id="7232781">&#34;9&#34;</span><span class="op" id="7232784">}</span><span class="op" id="7232785">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7232788">{</span><span class="num" id="7232789">0x553499be</span><span class="op" id="7232799">,</span>&nbsp;<span class="ident" id="7232801">strings</span><span class="op" id="7232808">.</span><span class="ident" id="7232809">Repeat</span><span class="op" id="7232815">(</span><span class="string" id="7232816">&#34;\xff&#34;</span><span class="op" id="7232822">,</span>&nbsp;<span class="num" id="7232824">5550</span><span class="op" id="7232828">)</span>&nbsp;<span class="op" id="7232830">+</span>&nbsp;<span class="string" id="7232832">&#34;0&#34;</span><span class="op" id="7232835">}</span><span class="op" id="7232836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7232839">{</span><span class="num" id="7232840">0xf0c19abe</span><span class="op" id="7232850">,</span>&nbsp;<span class="ident" id="7232852">strings</span><span class="op" id="7232859">.</span><span class="ident" id="7232860">Repeat</span><span class="op" id="7232866">(</span><span class="string" id="7232867">&#34;\xff&#34;</span><span class="op" id="7232873">,</span>&nbsp;<span class="num" id="7232875">5551</span><span class="op" id="7232879">)</span>&nbsp;<span class="op" id="7232881">+</span>&nbsp;<span class="string" id="7232883">&#34;1&#34;</span><span class="op" id="7232886">}</span><span class="op" id="7232887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7232890">{</span><span class="num" id="7232891">0x8d5c9bbe</span><span class="op" id="7232901">,</span>&nbsp;<span class="ident" id="7232903">strings</span><span class="op" id="7232910">.</span><span class="ident" id="7232911">Repeat</span><span class="op" id="7232917">(</span><span class="string" id="7232918">&#34;\xff&#34;</span><span class="op" id="7232924">,</span>&nbsp;<span class="num" id="7232926">5552</span><span class="op" id="7232930">)</span>&nbsp;<span class="op" id="7232932">+</span>&nbsp;<span class="string" id="7232934">&#34;2&#34;</span><span class="op" id="7232937">}</span><span class="op" id="7232938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7232941">{</span><span class="num" id="7232942">0x2af69cbe</span><span class="op" id="7232952">,</span>&nbsp;<span class="ident" id="7232954">strings</span><span class="op" id="7232961">.</span><span class="ident" id="7232962">Repeat</span><span class="op" id="7232968">(</span><span class="string" id="7232969">&#34;\xff&#34;</span><span class="op" id="7232975">,</span>&nbsp;<span class="num" id="7232977">5553</span><span class="op" id="7232981">)</span>&nbsp;<span class="op" id="7232983">+</span>&nbsp;<span class="string" id="7232985">&#34;3&#34;</span><span class="op" id="7232988">}</span><span class="op" id="7232989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7232992">{</span><span class="num" id="7232993">0xc9809dbe</span><span class="op" id="7233003">,</span>&nbsp;<span class="ident" id="7233005">strings</span><span class="op" id="7233012">.</span><span class="ident" id="7233013">Repeat</span><span class="op" id="7233019">(</span><span class="string" id="7233020">&#34;\xff&#34;</span><span class="op" id="7233026">,</span>&nbsp;<span class="num" id="7233028">5554</span><span class="op" id="7233032">)</span>&nbsp;<span class="op" id="7233034">+</span>&nbsp;<span class="string" id="7233036">&#34;4&#34;</span><span class="op" id="7233039">}</span><span class="op" id="7233040">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7233043">{</span><span class="num" id="7233044">0x69189ebe</span><span class="op" id="7233054">,</span>&nbsp;<span class="ident" id="7233056">strings</span><span class="op" id="7233063">.</span><span class="ident" id="7233064">Repeat</span><span class="op" id="7233070">(</span><span class="string" id="7233071">&#34;\xff&#34;</span><span class="op" id="7233077">,</span>&nbsp;<span class="num" id="7233079">5555</span><span class="op" id="7233083">)</span>&nbsp;<span class="op" id="7233085">+</span>&nbsp;<span class="string" id="7233087">&#34;5&#34;</span><span class="op" id="7233090">}</span><span class="op" id="7233091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7233094">{</span><span class="num" id="7233095">0x86af0001</span><span class="op" id="7233105">,</span>&nbsp;<span class="ident" id="7233107">strings</span><span class="op" id="7233114">.</span><span class="ident" id="7233115">Repeat</span><span class="op" id="7233121">(</span><span class="string" id="7233122">&#34;\x00&#34;</span><span class="op" id="7233128">,</span>&nbsp;<span class="num" id="7233130">1e5</span><span class="op" id="7233133">)</span><span class="op" id="7233134">}</span><span class="op" id="7233135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7233138">{</span><span class="num" id="7233139">0x79660b4d</span><span class="op" id="7233149">,</span>&nbsp;<span class="ident" id="7233151">strings</span><span class="op" id="7233158">.</span><span class="ident" id="7233159">Repeat</span><span class="op" id="7233165">(</span><span class="string" id="7233166">&#34;a&#34;</span><span class="op" id="7233169">,</span>&nbsp;<span class="num" id="7233171">1e5</span><span class="op" id="7233174">)</span><span class="op" id="7233175">}</span><span class="op" id="7233176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7233179">{</span><span class="num" id="7233180">0x110588ee</span><span class="op" id="7233190">,</span>&nbsp;<span class="ident" id="7233192">strings</span><span class="op" id="7233199">.</span><span class="ident" id="7233200">Repeat</span><span class="op" id="7233206">(</span><span class="string" id="7233207">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><span class="op" id="7233235">,</span>&nbsp;<span class="num" id="7233237">1e4</span><span class="op" id="7233240">)</span><span class="op" id="7233241">}</span><span class="op" id="7233242">,</span><br>
<span class="lineno"></span><span class="op" id="7233244">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="7233247">//&nbsp;checksum&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Adler-32&nbsp;checksum.</span><br>
<span class="lineno"></span><span class="comment" id="7233321">//&nbsp;It&nbsp;is&nbsp;a&nbsp;straight&nbsp;port&nbsp;of&nbsp;the&nbsp;sample&nbsp;code&nbsp;in&nbsp;RFC&nbsp;1950&nbsp;section&nbsp;9.</span><br>
<span class="lineno"></span><span class="keyword" id="7233388">func</span>&nbsp;<span class="ident" id="7233393">checksum</span><span class="op" id="7233401">(</span><span class="ident" id="7233402">p</span>&nbsp;<span class="op" id="7233404">[</span><span class="op" id="7233405">]</span><span class="builtintype" id="7233406">byte</span><span class="op" id="7233410">)</span>&nbsp;<span class="builtintype" id="7233412">uint32</span>&nbsp;<span class="op" id="7233419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7233422">s1</span><span class="op" id="7233424">,</span>&nbsp;<span class="ident" id="7233426">s2</span>&nbsp;<span class="op" id="7233429">:=</span>&nbsp;<span class="builtintype" id="7233432">uint32</span><span class="op" id="7233438">(</span><span class="num" id="7233439">1</span><span class="op" id="7233440">)</span><span class="op" id="7233441">,</span>&nbsp;<span class="builtintype" id="7233443">uint32</span><span class="op" id="7233449">(</span><span class="num" id="7233450">0</span><span class="op" id="7233451">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7233454">for</span>&nbsp;<span class="ident" id="7233458">_</span><span class="op" id="7233459">,</span>&nbsp;<span class="ident" id="7233461">x</span>&nbsp;<span class="op" id="7233463">:=</span>&nbsp;<span class="keyword" id="7233466">range</span>&nbsp;<span class="ident" id="7233472">p</span>&nbsp;<span class="op" id="7233474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7233478">s1</span>&nbsp;<span class="op" id="7233481">=</span>&nbsp;<span class="op" id="7233483">(</span><span class="ident" id="7233484">s1</span>&nbsp;<span class="op" id="7233487">+</span>&nbsp;<span class="builtintype" id="7233489">uint32</span><span class="op" id="7233495">(</span><span class="ident" id="7233496">x</span><span class="op" id="7233497">)</span><span class="op" id="7233498">)</span>&nbsp;<span class="op" id="7233500">%</span>&nbsp;<span class="ident" id="7233502">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7233508">s2</span>&nbsp;<span class="op" id="7233511">=</span>&nbsp;<span class="op" id="7233513">(</span><span class="ident" id="7233514">s2</span>&nbsp;<span class="op" id="7233517">+</span>&nbsp;<span class="ident" id="7233519">s1</span><span class="op" id="7233521">)</span>&nbsp;<span class="op" id="7233523">%</span>&nbsp;<span class="ident" id="7233525">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7233530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7233533">return</span>&nbsp;<span class="ident" id="7233540">s2</span><span class="op" id="7233542">&lt;&lt;</span><span class="num" id="7233544">16</span>&nbsp;<span class="op" id="7233547">|</span>&nbsp;<span class="ident" id="7233549">s1</span><br>
<span class="lineno">70</span><span class="op" id="7233552">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7233555">func</span>&nbsp;<span class="ident" id="7233560">TestGolden</span><span class="op" id="7233570">(</span><span class="ident" id="7233571">t</span>&nbsp;<span class="op" id="7233573">*</span><span class="ident" id="7233574">testing</span><span class="op" id="7233581">.</span><span class="ident" id="7233582">T</span><span class="op" id="7233583">)</span>&nbsp;<span class="op" id="7233585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7233588">for</span>&nbsp;<span class="ident" id="7233592">_</span><span class="op" id="7233593">,</span>&nbsp;<span class="ident" id="7233595">g</span>&nbsp;<span class="op" id="7233597">:=</span>&nbsp;<span class="keyword" id="7233600">range</span>&nbsp;<span class="ident" id="7233606">golden</span>&nbsp;<span class="op" id="7233613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7233617">in</span>&nbsp;<span class="op" id="7233620">:=</span>&nbsp;<span class="ident" id="7233623">g</span><span class="op" id="7233624">.</span><span class="ident" id="7233625">in</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7233630">if</span>&nbsp;<span class="builtinfunc" id="7233633">len</span><span class="op" id="7233636">(</span><span class="ident" id="7233637">in</span><span class="op" id="7233639">)</span>&nbsp;<span class="op" id="7233641">&gt;</span>&nbsp;<span class="num" id="7233643">220</span>&nbsp;<span class="op" id="7233647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7233652">in</span>&nbsp;<span class="op" id="7233655">=</span>&nbsp;<span class="ident" id="7233657">in</span><span class="op" id="7233659">[</span><span class="op" id="7233660">:</span><span class="num" id="7233661">100</span><span class="op" id="7233664">]</span>&nbsp;<span class="op" id="7233666">+</span>&nbsp;<span class="string" id="7233668">&#34;...&#34;</span>&nbsp;<span class="op" id="7233674">+</span>&nbsp;<span class="ident" id="7233676">in</span><span class="op" id="7233678">[</span><span class="builtinfunc" id="7233679">len</span><span class="op" id="7233682">(</span><span class="ident" id="7233683">in</span><span class="op" id="7233685">)</span><span class="op" id="7233686">-</span><span class="num" id="7233687">100</span><span class="op" id="7233690">:</span><span class="op" id="7233691">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7233695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7233699">p</span>&nbsp;<span class="op" id="7233701">:=</span>&nbsp;<span class="op" id="7233704">[</span><span class="op" id="7233705">]</span><span class="builtintype" id="7233706">byte</span><span class="op" id="7233710">(</span><span class="ident" id="7233711">g</span><span class="op" id="7233712">.</span><span class="ident" id="7233713">in</span><span class="op" id="7233715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7233719">if</span>&nbsp;<span class="ident" id="7233722">got</span>&nbsp;<span class="op" id="7233726">:=</span>&nbsp;<span class="ident" id="7233729">checksum</span><span class="op" id="7233737">(</span><span class="ident" id="7233738">p</span><span class="op" id="7233739">)</span><span class="op" id="7233740">;</span>&nbsp;<span class="ident" id="7233742">got</span>&nbsp;<span class="op" id="7233746">!=</span>&nbsp;<span class="ident" id="7233749">g</span><span class="op" id="7233750">.</span><span class="ident" id="7233751">out</span>&nbsp;<span class="op" id="7233755">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7233760">t</span><span class="op" id="7233761">.</span><span class="ident" id="7233762">Errorf</span><span class="op" id="7233768">(</span><span class="string" id="7233769">&#34;simple&nbsp;implementation:&nbsp;checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7233823">,</span>&nbsp;<span class="ident" id="7233825">in</span><span class="op" id="7233827">,</span>&nbsp;<span class="ident" id="7233829">got</span><span class="op" id="7233832">,</span>&nbsp;<span class="ident" id="7233834">g</span><span class="op" id="7233835">.</span><span class="ident" id="7233836">out</span><span class="op" id="7233839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7233844">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7233855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7233859">if</span>&nbsp;<span class="ident" id="7233862">got</span>&nbsp;<span class="op" id="7233866">:=</span>&nbsp;<span class="ident" id="7233869">Checksum</span><span class="op" id="7233877">(</span><span class="ident" id="7233878">p</span><span class="op" id="7233879">)</span><span class="op" id="7233880">;</span>&nbsp;<span class="ident" id="7233882">got</span>&nbsp;<span class="op" id="7233886">!=</span>&nbsp;<span class="ident" id="7233889">g</span><span class="op" id="7233890">.</span><span class="ident" id="7233891">out</span>&nbsp;<span class="op" id="7233895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7233900">t</span><span class="op" id="7233901">.</span><span class="ident" id="7233902">Errorf</span><span class="op" id="7233908">(</span><span class="string" id="7233909">&#34;optimized&nbsp;implementation:&nbsp;Checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7233966">,</span>&nbsp;<span class="ident" id="7233968">in</span><span class="op" id="7233970">,</span>&nbsp;<span class="ident" id="7233972">got</span><span class="op" id="7233975">,</span>&nbsp;<span class="ident" id="7233977">g</span><span class="op" id="7233978">.</span><span class="ident" id="7233979">out</span><span class="op" id="7233982">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7233987">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7233998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7234001">}</span><br>
<span class="lineno"></span><span class="op" id="7234003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7234006">func</span>&nbsp;<span class="ident" id="7234011">BenchmarkAdler32KB</span><span class="op" id="7234029">(</span><span class="ident" id="7234030">b</span>&nbsp;<span class="op" id="7234032">*</span><span class="ident" id="7234033">testing</span><span class="op" id="7234040">.</span><span class="ident" id="7234041">B</span><span class="op" id="7234042">)</span>&nbsp;<span class="op" id="7234044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7234047">b</span><span class="op" id="7234048">.</span><span class="ident" id="7234049">SetBytes</span><span class="op" id="7234057">(</span><span class="num" id="7234058">1024</span><span class="op" id="7234062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7234065">data</span>&nbsp;<span class="op" id="7234070">:=</span>&nbsp;<span class="builtinfunc" id="7234073">make</span><span class="op" id="7234077">(</span><span class="op" id="7234078">[</span><span class="op" id="7234079">]</span><span class="builtintype" id="7234080">byte</span><span class="op" id="7234084">,</span>&nbsp;<span class="num" id="7234086">1024</span><span class="op" id="7234090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7234093">for</span>&nbsp;<span class="ident" id="7234097">i</span>&nbsp;<span class="op" id="7234099">:=</span>&nbsp;<span class="keyword" id="7234102">range</span>&nbsp;<span class="ident" id="7234108">data</span>&nbsp;<span class="op" id="7234113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7234117">data</span><span class="op" id="7234121">[</span><span class="ident" id="7234122">i</span><span class="op" id="7234123">]</span>&nbsp;<span class="op" id="7234125">=</span>&nbsp;<span class="builtintype" id="7234127">byte</span><span class="op" id="7234131">(</span><span class="ident" id="7234132">i</span><span class="op" id="7234133">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7234136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7234139">h</span>&nbsp;<span class="op" id="7234141">:=</span>&nbsp;<span class="ident" id="7234144">New</span><span class="op" id="7234147">(</span><span class="op" id="7234148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7234151">in</span>&nbsp;<span class="op" id="7234154">:=</span>&nbsp;<span class="builtinfunc" id="7234157">make</span><span class="op" id="7234161">(</span><span class="op" id="7234162">[</span><span class="op" id="7234163">]</span><span class="builtintype" id="7234164">byte</span><span class="op" id="7234168">,</span>&nbsp;<span class="num" id="7234170">0</span><span class="op" id="7234171">,</span>&nbsp;<span class="ident" id="7234173">h</span><span class="op" id="7234174">.</span><span class="ident" id="7234175">Size</span><span class="op" id="7234179">(</span><span class="op" id="7234180">)</span><span class="op" id="7234181">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7234185">b</span><span class="op" id="7234186">.</span><span class="ident" id="7234187">ResetTimer</span><span class="op" id="7234197">(</span><span class="op" id="7234198">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7234201">for</span>&nbsp;<span class="ident" id="7234205">i</span>&nbsp;<span class="op" id="7234207">:=</span>&nbsp;<span class="num" id="7234210">0</span><span class="op" id="7234211">;</span>&nbsp;<span class="ident" id="7234213">i</span>&nbsp;<span class="op" id="7234215">&lt;</span>&nbsp;<span class="ident" id="7234217">b</span><span class="op" id="7234218">.</span><span class="ident" id="7234219">N</span><span class="op" id="7234220">;</span>&nbsp;<span class="ident" id="7234222">i</span><span class="op" id="7234223">++</span>&nbsp;<span class="op" id="7234226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7234230">h</span><span class="op" id="7234231">.</span><span class="ident" id="7234232">Reset</span><span class="op" id="7234237">(</span><span class="op" id="7234238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7234242">h</span><span class="op" id="7234243">.</span><span class="ident" id="7234244">Write</span><span class="op" id="7234249">(</span><span class="ident" id="7234250">data</span><span class="op" id="7234254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7234258">h</span><span class="op" id="7234259">.</span><span class="ident" id="7234260">Sum</span><span class="op" id="7234263">(</span><span class="ident" id="7234264">in</span><span class="op" id="7234266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7234269">}</span><br>
<span class="lineno">105</span><span class="op" id="7234271">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
