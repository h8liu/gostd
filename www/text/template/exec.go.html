<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4669886">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4669941">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4669995">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4670046">package</span>&nbsp;<span class="ident" id="4670054">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4670064">import</span>&nbsp;<span class="op" id="4670071">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4670074">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4670083">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4670090">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4670096">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4670107">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4670118">&#34;sort&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4670126">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4670137">&#34;text/template/parse&#34;</span><br>
<span class="lineno"></span><span class="op" id="4670159">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4670162">//&nbsp;state&nbsp;represents&nbsp;the&nbsp;state&nbsp;of&nbsp;an&nbsp;execution.&nbsp;It&#39;s&nbsp;not&nbsp;part&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4670230">//&nbsp;template&nbsp;so&nbsp;that&nbsp;multiple&nbsp;executions&nbsp;of&nbsp;the&nbsp;same&nbsp;template</span><br>
<span class="lineno">20</span><span class="comment" id="4670291">//&nbsp;can&nbsp;execute&nbsp;in&nbsp;parallel.</span><br>
<span class="lineno"></span><span class="keyword" id="4670319">type</span>&nbsp;<span class="ident" id="4670324">state</span>&nbsp;<span class="keyword" id="4670330">struct</span>&nbsp;<span class="op" id="4670337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4670340">tmpl</span>&nbsp;<span class="op" id="4670345">*</span><span class="ident" id="4670346"><a href="/text/template/template.go.html#4715603">Template</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4670356">wr</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4670361"><a href="/text/template/exec.go.html#4670090">io</a></span><span class="op" id="4670363">.</span><span class="ident" id="4670364">Writer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4670372">node</span>&nbsp;<span class="ident" id="4670377"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4670382">.</span><span class="ident" id="4670383">Node</span>&nbsp;<span class="comment" id="4670388">//&nbsp;current&nbsp;node,&nbsp;for&nbsp;errors</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4670417">vars</span>&nbsp;<span class="op" id="4670422">[</span><span class="op" id="4670423">]</span><span class="ident" id="4670424"><a href="/text/template/exec.go.html#4670549">variable</a></span>&nbsp;<span class="comment" id="4670433">//&nbsp;push-down&nbsp;stack&nbsp;of&nbsp;variable&nbsp;values.</span><br>
<span class="lineno"></span><span class="op" id="4670472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4670475">//&nbsp;variable&nbsp;holds&nbsp;the&nbsp;dynamic&nbsp;value&nbsp;of&nbsp;a&nbsp;variable&nbsp;such&nbsp;as&nbsp;$,&nbsp;$x&nbsp;etc.</span><br>
<span class="lineno"></span><span class="keyword" id="4670544">type</span>&nbsp;<span class="ident" id="4670549">variable</span>&nbsp;<span class="keyword" id="4670558">struct</span>&nbsp;<span class="op" id="4670565">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4670568">name</span>&nbsp;&nbsp;<span class="builtintype" id="4670574">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4670582">value</span>&nbsp;<span class="ident" id="4670588"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4670595">.</span><span class="ident" id="4670596">Value</span><br>
<span class="lineno"></span><span class="op" id="4670602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4670605">//&nbsp;push&nbsp;pushes&nbsp;a&nbsp;new&nbsp;variable&nbsp;on&nbsp;the&nbsp;stack.</span><br>
<span class="lineno">35</span><span class="keyword" id="4670649">func</span>&nbsp;<span class="op" id="4670654">(</span><span class="ident" id="4670655">s</span>&nbsp;<span class="op" id="4670657">*</span><span class="ident" id="4670658"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4670663">)</span>&nbsp;<span class="ident" id="4670665">push</span><span class="op" id="4670669">(</span><span class="ident" id="4670670">name</span>&nbsp;<span class="builtintype" id="4670675">string</span><span class="op" id="4670681">,</span>&nbsp;<span class="ident" id="4670683">value</span>&nbsp;<span class="ident" id="4670689"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4670696">.</span><span class="ident" id="4670697">Value</span><span class="op" id="4670702">)</span>&nbsp;<span class="op" id="4670704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4670707"><a href="/text/template/exec.go.html#4670655">s</a></span><span class="op" id="4670708">.</span><span class="ident" id="4670709">vars</span>&nbsp;<span class="op" id="4670714">=</span>&nbsp;<span class="builtinfunc" id="4670716">append</span><span class="op" id="4670722">(</span><span class="ident" id="4670723"><a href="/text/template/exec.go.html#4670655">s</a></span><span class="op" id="4670724">.</span><span class="ident" id="4670725">vars</span><span class="op" id="4670729">,</span>&nbsp;<span class="ident" id="4670731"><a href="/text/template/exec.go.html#4670549">variable</a></span><span class="op" id="4670739">{</span><span class="ident" id="4670740"><a href="/text/template/exec.go.html#4670670">name</a></span><span class="op" id="4670744">,</span>&nbsp;<span class="ident" id="4670746"><a href="/text/template/exec.go.html#4670683">value</a></span><span class="op" id="4670751">}</span><span class="op" id="4670752">)</span><br>
<span class="lineno"></span><span class="op" id="4670754">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4670757">//&nbsp;mark&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;variable&nbsp;stack.</span><br>
<span class="lineno">40</span><span class="keyword" id="4670807">func</span>&nbsp;<span class="op" id="4670812">(</span><span class="ident" id="4670813">s</span>&nbsp;<span class="op" id="4670815">*</span><span class="ident" id="4670816"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4670821">)</span>&nbsp;<span class="ident" id="4670823">mark</span><span class="op" id="4670827">(</span><span class="op" id="4670828">)</span>&nbsp;<span class="builtintype" id="4670830">int</span>&nbsp;<span class="op" id="4670834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4670837">return</span>&nbsp;<span class="builtinfunc" id="4670844">len</span><span class="op" id="4670847">(</span><span class="ident" id="4670848"><a href="/text/template/exec.go.html#4670813">s</a></span><span class="op" id="4670849">.</span><span class="ident" id="4670850">vars</span><span class="op" id="4670854">)</span><br>
<span class="lineno"></span><span class="op" id="4670856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4670859">//&nbsp;pop&nbsp;pops&nbsp;the&nbsp;variable&nbsp;stack&nbsp;up&nbsp;to&nbsp;the&nbsp;mark.</span><br>
<span class="lineno">45</span><span class="keyword" id="4670906">func</span>&nbsp;<span class="op" id="4670911">(</span><span class="ident" id="4670912">s</span>&nbsp;<span class="op" id="4670914">*</span><span class="ident" id="4670915"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4670920">)</span>&nbsp;<span class="ident" id="4670922">pop</span><span class="op" id="4670925">(</span><span class="ident" id="4670926">mark</span>&nbsp;<span class="builtintype" id="4670931">int</span><span class="op" id="4670934">)</span>&nbsp;<span class="op" id="4670936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4670939"><a href="/text/template/exec.go.html#4670912">s</a></span><span class="op" id="4670940">.</span><span class="ident" id="4670941">vars</span>&nbsp;<span class="op" id="4670946">=</span>&nbsp;<span class="ident" id="4670948"><a href="/text/template/exec.go.html#4670912">s</a></span><span class="op" id="4670949">.</span><span class="ident" id="4670950">vars</span><span class="op" id="4670954">[</span><span class="num" id="4670955">0</span><span class="op" id="4670956">:</span><span class="ident" id="4670957"><a href="/text/template/exec.go.html#4670926">mark</a></span><span class="op" id="4670961">]</span><br>
<span class="lineno"></span><span class="op" id="4670963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4670966">//&nbsp;setVar&nbsp;overwrites&nbsp;the&nbsp;top-nth&nbsp;variable&nbsp;on&nbsp;the&nbsp;stack.&nbsp;Used&nbsp;by&nbsp;range&nbsp;iterations.</span><br>
<span class="lineno">50</span><span class="keyword" id="4671048">func</span>&nbsp;<span class="op" id="4671053">(</span><span class="ident" id="4671054">s</span>&nbsp;<span class="op" id="4671056">*</span><span class="ident" id="4671057"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4671062">)</span>&nbsp;<span class="ident" id="4671064">setVar</span><span class="op" id="4671070">(</span><span class="ident" id="4671071">n</span>&nbsp;<span class="builtintype" id="4671073">int</span><span class="op" id="4671076">,</span>&nbsp;<span class="ident" id="4671078">value</span>&nbsp;<span class="ident" id="4671084"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4671091">.</span><span class="ident" id="4671092">Value</span><span class="op" id="4671097">)</span>&nbsp;<span class="op" id="4671099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4671102"><a href="/text/template/exec.go.html#4671054">s</a></span><span class="op" id="4671103">.</span><span class="ident" id="4671104">vars</span><span class="op" id="4671108">[</span><span class="builtinfunc" id="4671109">len</span><span class="op" id="4671112">(</span><span class="ident" id="4671113"><a href="/text/template/exec.go.html#4671054">s</a></span><span class="op" id="4671114">.</span><span class="ident" id="4671115">vars</span><span class="op" id="4671119">)</span><span class="op" id="4671120">-</span><span class="ident" id="4671121"><a href="/text/template/exec.go.html#4671071">n</a></span><span class="op" id="4671122">]</span><span class="op" id="4671123">.</span><span class="ident" id="4671124">value</span>&nbsp;<span class="op" id="4671130">=</span>&nbsp;<span class="ident" id="4671132"><a href="/text/template/exec.go.html#4671078">value</a></span><br>
<span class="lineno"></span><span class="op" id="4671138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4671141">//&nbsp;varValue&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;named&nbsp;variable.</span><br>
<span class="lineno">55</span><span class="keyword" id="4671194">func</span>&nbsp;<span class="op" id="4671199">(</span><span class="ident" id="4671200">s</span>&nbsp;<span class="op" id="4671202">*</span><span class="ident" id="4671203"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4671208">)</span>&nbsp;<span class="ident" id="4671210">varValue</span><span class="op" id="4671218">(</span><span class="ident" id="4671219">name</span>&nbsp;<span class="builtintype" id="4671224">string</span><span class="op" id="4671230">)</span>&nbsp;<span class="ident" id="4671232"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4671239">.</span><span class="ident" id="4671240">Value</span>&nbsp;<span class="op" id="4671246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4671249">for</span>&nbsp;<span class="ident" id="4671253">i</span>&nbsp;<span class="op" id="4671255">:=</span>&nbsp;<span class="ident" id="4671258"><a href="/text/template/exec.go.html#4671200">s</a></span><span class="op" id="4671259">.</span><span class="ident" id="4671260">mark</span><span class="op" id="4671264">(</span><span class="op" id="4671265">)</span>&nbsp;<span class="op" id="4671267">-</span>&nbsp;<span class="num" id="4671269">1</span><span class="op" id="4671270">;</span>&nbsp;<span class="ident" id="4671272"><a href="/text/template/exec.go.html#4671253">i</a></span>&nbsp;<span class="op" id="4671274">&gt;=</span>&nbsp;<span class="num" id="4671277">0</span><span class="op" id="4671278">;</span>&nbsp;<span class="ident" id="4671280"><a href="/text/template/exec.go.html#4671253">i</a></span><span class="op" id="4671281">--</span>&nbsp;<span class="op" id="4671284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4671288">if</span>&nbsp;<span class="ident" id="4671291"><a href="/text/template/exec.go.html#4671200">s</a></span><span class="op" id="4671292">.</span><span class="ident" id="4671293">vars</span><span class="op" id="4671297">[</span><span class="ident" id="4671298"><a href="/text/template/exec.go.html#4671253">i</a></span><span class="op" id="4671299">]</span><span class="op" id="4671300">.</span><span class="ident" id="4671301">name</span>&nbsp;<span class="op" id="4671306">==</span>&nbsp;<span class="ident" id="4671309"><a href="/text/template/exec.go.html#4671219">name</a></span>&nbsp;<span class="op" id="4671314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4671319">return</span>&nbsp;<span class="ident" id="4671326"><a href="/text/template/exec.go.html#4671200">s</a></span><span class="op" id="4671327">.</span><span class="ident" id="4671328">vars</span><span class="op" id="4671332">[</span><span class="ident" id="4671333"><a href="/text/template/exec.go.html#4671253">i</a></span><span class="op" id="4671334">]</span><span class="op" id="4671335">.</span><span class="ident" id="4671336">value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4671344">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4671347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4671350"><a href="/text/template/exec.go.html#4671200">s</a></span><span class="op" id="4671351">.</span><span class="ident" id="4671352">errorf</span><span class="op" id="4671358">(</span><span class="string" id="4671359">&#34;undefined&nbsp;variable:&nbsp;%s&#34;</span><span class="op" id="4671383">,</span>&nbsp;<span class="ident" id="4671385"><a href="/text/template/exec.go.html#4671219">name</a></span><span class="op" id="4671389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4671392">return</span>&nbsp;<span class="ident" id="4671399"><a href="/text/template/exec.go.html#4671411">zero</a></span><br>
<span class="lineno"></span><span class="op" id="4671404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="4671407">var</span>&nbsp;<span class="ident" id="4671411">zero</span>&nbsp;<span class="ident" id="4671416"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4671423">.</span><span class="ident" id="4671424">Value</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4671431">//&nbsp;at&nbsp;marks&nbsp;the&nbsp;state&nbsp;to&nbsp;be&nbsp;on&nbsp;node&nbsp;n,&nbsp;for&nbsp;error&nbsp;reporting.</span><br>
<span class="lineno"></span><span class="keyword" id="4671491">func</span>&nbsp;<span class="op" id="4671496">(</span><span class="ident" id="4671497">s</span>&nbsp;<span class="op" id="4671499">*</span><span class="ident" id="4671500"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4671505">)</span>&nbsp;<span class="ident" id="4671507">at</span><span class="op" id="4671509">(</span><span class="ident" id="4671510">node</span>&nbsp;<span class="ident" id="4671515"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4671520">.</span><span class="ident" id="4671521">Node</span><span class="op" id="4671525">)</span>&nbsp;<span class="op" id="4671527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4671530"><a href="/text/template/exec.go.html#4671497">s</a></span><span class="op" id="4671531">.</span><span class="ident" id="4671532">node</span>&nbsp;<span class="op" id="4671537">=</span>&nbsp;<span class="ident" id="4671539"><a href="/text/template/exec.go.html#4671510">node</a></span><br>
<span class="lineno">70</span><span class="op" id="4671544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4671547">//&nbsp;doublePercent&nbsp;returns&nbsp;the&nbsp;string&nbsp;with&nbsp;%&#39;s&nbsp;replaced&nbsp;by&nbsp;%%,&nbsp;if&nbsp;necessary,</span><br>
<span class="lineno"></span><span class="comment" id="4671622">//&nbsp;so&nbsp;it&nbsp;can&nbsp;be&nbsp;used&nbsp;safely&nbsp;inside&nbsp;a&nbsp;Printf&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4671681">func</span>&nbsp;<span class="ident" id="4671686">doublePercent</span><span class="op" id="4671699">(</span><span class="ident" id="4671700">str</span>&nbsp;<span class="builtintype" id="4671704">string</span><span class="op" id="4671710">)</span>&nbsp;<span class="builtintype" id="4671712">string</span>&nbsp;<span class="op" id="4671719">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4671722">if</span>&nbsp;<span class="ident" id="4671725"><a href="/text/template/exec.go.html#4670126">strings</a></span><span class="op" id="4671732">.</span><span class="ident" id="4671733">Contains</span><span class="op" id="4671741">(</span><span class="ident" id="4671742"><a href="/text/template/exec.go.html#4671700">str</a></span><span class="op" id="4671745">,</span>&nbsp;<span class="string" id="4671747">&#34;%&#34;</span><span class="op" id="4671750">)</span>&nbsp;<span class="op" id="4671752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4671756"><a href="/text/template/exec.go.html#4671700">str</a></span>&nbsp;<span class="op" id="4671760">=</span>&nbsp;<span class="ident" id="4671762"><a href="/text/template/exec.go.html#4670126">strings</a></span><span class="op" id="4671769">.</span><span class="ident" id="4671770">Replace</span><span class="op" id="4671777">(</span><span class="ident" id="4671778"><a href="/text/template/exec.go.html#4671700">str</a></span><span class="op" id="4671781">,</span>&nbsp;<span class="string" id="4671783">&#34;%&#34;</span><span class="op" id="4671786">,</span>&nbsp;<span class="string" id="4671788">&#34;%%&#34;</span><span class="op" id="4671792">,</span>&nbsp;<span class="op" id="4671794">-</span><span class="num" id="4671795">1</span><span class="op" id="4671796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4671799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4671802">return</span>&nbsp;<span class="ident" id="4671809"><a href="/text/template/exec.go.html#4671700">str</a></span><br>
<span class="lineno"></span><span class="op" id="4671813">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="4671816">//&nbsp;errorf&nbsp;formats&nbsp;the&nbsp;error&nbsp;and&nbsp;terminates&nbsp;processing.</span><br>
<span class="lineno"></span><span class="keyword" id="4671871">func</span>&nbsp;<span class="op" id="4671876">(</span><span class="ident" id="4671877">s</span>&nbsp;<span class="op" id="4671879">*</span><span class="ident" id="4671880"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4671885">)</span>&nbsp;<span class="ident" id="4671887">errorf</span><span class="op" id="4671893">(</span><span class="ident" id="4671894">format</span>&nbsp;<span class="builtintype" id="4671901">string</span><span class="op" id="4671907">,</span>&nbsp;<span class="ident" id="4671909">args</span>&nbsp;<span class="op" id="4671914">...</span><span class="keyword" id="4671917">interface</span><span class="op" id="4671926">{</span><span class="op" id="4671927">}</span><span class="op" id="4671928">)</span>&nbsp;<span class="op" id="4671930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4671933">name</span>&nbsp;<span class="op" id="4671938">:=</span>&nbsp;<span class="ident" id="4671941"><a href="/text/template/exec.go.html#4671686">doublePercent</a></span><span class="op" id="4671954">(</span><span class="ident" id="4671955"><a href="/text/template/exec.go.html#4671877">s</a></span><span class="op" id="4671956">.</span><span class="ident" id="4671957">tmpl</span><span class="op" id="4671961">.</span><span class="ident" id="4671962">Name</span><span class="op" id="4671966">(</span><span class="op" id="4671967">)</span><span class="op" id="4671968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4671971">if</span>&nbsp;<span class="ident" id="4671974"><a href="/text/template/exec.go.html#4671877">s</a></span><span class="op" id="4671975">.</span><span class="ident" id="4671976">node</span>&nbsp;<span class="op" id="4671981">==</span>&nbsp;<span class="ident" id="4671984">nil</span>&nbsp;<span class="op" id="4671988">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4671992"><a href="/text/template/exec.go.html#4671894">format</a></span>&nbsp;<span class="op" id="4671999">=</span>&nbsp;<span class="ident" id="4672001"><a href="/text/template/exec.go.html#4670083">fmt</a></span><span class="op" id="4672004">.</span><span class="ident" id="4672005">Sprintf</span><span class="op" id="4672012">(</span><span class="string" id="4672013">&#34;template:&nbsp;%s:&nbsp;%s&#34;</span><span class="op" id="4672031">,</span>&nbsp;<span class="ident" id="4672033"><a href="/text/template/exec.go.html#4671933">name</a></span><span class="op" id="4672037">,</span>&nbsp;<span class="ident" id="4672039"><a href="/text/template/exec.go.html#4671894">format</a></span><span class="op" id="4672045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4672048">}</span>&nbsp;<span class="keyword" id="4672050">else</span>&nbsp;<span class="op" id="4672055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4672059">location</span><span class="op" id="4672067">,</span>&nbsp;<span class="ident" id="4672069">context</span>&nbsp;<span class="op" id="4672077">:=</span>&nbsp;<span class="ident" id="4672080"><a href="/text/template/exec.go.html#4671877">s</a></span><span class="op" id="4672081">.</span><span class="ident" id="4672082">tmpl</span><span class="op" id="4672086">.</span><span class="ident" id="4672087">ErrorContext</span><span class="op" id="4672099">(</span><span class="ident" id="4672100"><a href="/text/template/exec.go.html#4671877">s</a></span><span class="op" id="4672101">.</span><span class="ident" id="4672102">node</span><span class="op" id="4672106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4672110"><a href="/text/template/exec.go.html#4671894">format</a></span>&nbsp;<span class="op" id="4672117">=</span>&nbsp;<span class="ident" id="4672119"><a href="/text/template/exec.go.html#4670083">fmt</a></span><span class="op" id="4672122">.</span><span class="ident" id="4672123">Sprintf</span><span class="op" id="4672130">(</span><span class="string" id="4672131">&#34;template:&nbsp;%s:&nbsp;executing&nbsp;%q&nbsp;at&nbsp;&lt;%s&gt;:&nbsp;%s&#34;</span><span class="op" id="4672171">,</span>&nbsp;<span class="ident" id="4672173"><a href="/text/template/exec.go.html#4672059">location</a></span><span class="op" id="4672181">,</span>&nbsp;<span class="ident" id="4672183"><a href="/text/template/exec.go.html#4671933">name</a></span><span class="op" id="4672187">,</span>&nbsp;<span class="ident" id="4672189"><a href="/text/template/exec.go.html#4671686">doublePercent</a></span><span class="op" id="4672202">(</span><span class="ident" id="4672203"><a href="/text/template/exec.go.html#4672069">context</a></span><span class="op" id="4672210">)</span><span class="op" id="4672211">,</span>&nbsp;<span class="ident" id="4672213"><a href="/text/template/exec.go.html#4671894">format</a></span><span class="op" id="4672219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4672222">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4672225">panic</span><span class="op" id="4672230">(</span><span class="ident" id="4672231"><a href="/text/template/exec.go.html#4670083">fmt</a></span><span class="op" id="4672234">.</span><span class="ident" id="4672235">Errorf</span><span class="op" id="4672241">(</span><span class="ident" id="4672242"><a href="/text/template/exec.go.html#4671894">format</a></span><span class="op" id="4672248">,</span>&nbsp;<span class="ident" id="4672250"><a href="/text/template/exec.go.html#4671909">args</a></span><span class="op" id="4672254">...</span><span class="op" id="4672257">)</span><span class="op" id="4672258">)</span><br>
<span class="lineno"></span><span class="op" id="4672260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4672263">//&nbsp;errRecover&nbsp;is&nbsp;the&nbsp;handler&nbsp;that&nbsp;turns&nbsp;panics&nbsp;into&nbsp;returns&nbsp;from&nbsp;the&nbsp;top</span><br>
<span class="lineno"></span><span class="comment" id="4672336">//&nbsp;level&nbsp;of&nbsp;Parse.</span><br>
<span class="lineno">95</span><span class="keyword" id="4672355">func</span>&nbsp;<span class="ident" id="4672360">errRecover</span><span class="op" id="4672370">(</span><span class="ident" id="4672371">errp</span>&nbsp;<span class="op" id="4672376">*</span><span class="builtintype" id="4672377">error</span><span class="op" id="4672382">)</span>&nbsp;<span class="op" id="4672384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4672387">e</span>&nbsp;<span class="op" id="4672389">:=</span>&nbsp;<span class="builtinfunc" id="4672392">recover</span><span class="op" id="4672399">(</span><span class="op" id="4672400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4672403">if</span>&nbsp;<span class="ident" id="4672406"><a href="/text/template/exec.go.html#4672387">e</a></span>&nbsp;<span class="op" id="4672408">!=</span>&nbsp;<span class="ident" id="4672411">nil</span>&nbsp;<span class="op" id="4672415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4672419">switch</span>&nbsp;<span class="ident" id="4672426">err</span>&nbsp;<span class="op" id="4672430">:=</span>&nbsp;<span class="ident" id="4672433"><a href="/text/template/exec.go.html#4672387">e</a></span><span class="op" id="4672434">.</span><span class="op" id="4672435">(</span><span class="keyword" id="4672436">type</span><span class="op" id="4672440">)</span>&nbsp;<span class="op" id="4672442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4672446">case</span>&nbsp;<span class="ident" id="4672451"><a href="/text/template/exec.go.html#4670107">runtime</a></span><span class="op" id="4672458">.</span><span class="ident" id="4672459">Error</span><span class="op" id="4672464">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4672469">panic</span><span class="op" id="4672474">(</span><span class="ident" id="4672475"><a href="/text/template/exec.go.html#4672387">e</a></span><span class="op" id="4672476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4672480">case</span>&nbsp;<span class="builtintype" id="4672485">error</span><span class="op" id="4672490">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4672495">*</span><span class="ident" id="4672496"><a href="/text/template/exec.go.html#4672371">errp</a></span>&nbsp;<span class="op" id="4672501">=</span>&nbsp;<span class="ident" id="4672503"><a href="/text/template/exec.go.html#4672426">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4672509">default</span><span class="op" id="4672516">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4672521">panic</span><span class="op" id="4672526">(</span><span class="ident" id="4672527"><a href="/text/template/exec.go.html#4672387">e</a></span><span class="op" id="4672528">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4672532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4672535">}</span><br>
<span class="lineno"></span><span class="op" id="4672537">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4672540">//&nbsp;ExecuteTemplate&nbsp;applies&nbsp;the&nbsp;template&nbsp;associated&nbsp;with&nbsp;t&nbsp;that&nbsp;has&nbsp;the&nbsp;given&nbsp;name</span><br>
<span class="lineno">110</span><span class="comment" id="4672622">//&nbsp;to&nbsp;the&nbsp;specified&nbsp;data&nbsp;object&nbsp;and&nbsp;writes&nbsp;the&nbsp;output&nbsp;to&nbsp;wr.</span><br>
<span class="lineno"></span><span class="comment" id="4672683">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs&nbsp;executing&nbsp;the&nbsp;template&nbsp;or&nbsp;writing&nbsp;its&nbsp;output,</span><br>
<span class="lineno"></span><span class="comment" id="4672751">//&nbsp;execution&nbsp;stops,&nbsp;but&nbsp;partial&nbsp;results&nbsp;may&nbsp;already&nbsp;have&nbsp;been&nbsp;written&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4672824">//&nbsp;the&nbsp;output&nbsp;writer.</span><br>
<span class="lineno"></span><span class="comment" id="4672846">//&nbsp;A&nbsp;template&nbsp;may&nbsp;be&nbsp;executed&nbsp;safely&nbsp;in&nbsp;parallel.</span><br>
<span class="lineno">115</span><span class="keyword" id="4672896">func</span>&nbsp;<span class="op" id="4672901">(</span><span class="ident" id="4672902">t</span>&nbsp;<span class="op" id="4672904">*</span><span class="ident" id="4672905"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4672913">)</span>&nbsp;<span class="ident" id="4672915">ExecuteTemplate</span><span class="op" id="4672930">(</span><span class="ident" id="4672931">wr</span>&nbsp;<span class="ident" id="4672934"><a href="/text/template/exec.go.html#4670090">io</a></span><span class="op" id="4672936">.</span><span class="ident" id="4672937">Writer</span><span class="op" id="4672943">,</span>&nbsp;<span class="ident" id="4672945">name</span>&nbsp;<span class="builtintype" id="4672950">string</span><span class="op" id="4672956">,</span>&nbsp;<span class="ident" id="4672958">data</span>&nbsp;<span class="keyword" id="4672963">interface</span><span class="op" id="4672972">{</span><span class="op" id="4672973">}</span><span class="op" id="4672974">)</span>&nbsp;<span class="builtintype" id="4672976">error</span>&nbsp;<span class="op" id="4672982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4672985">tmpl</span>&nbsp;<span class="op" id="4672990">:=</span>&nbsp;<span class="ident" id="4672993"><a href="/text/template/exec.go.html#4672902">t</a></span><span class="op" id="4672994">.</span><span class="ident" id="4672995">tmpl</span><span class="op" id="4672999">[</span><span class="ident" id="4673000"><a href="/text/template/exec.go.html#4672945">name</a></span><span class="op" id="4673004">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4673007">if</span>&nbsp;<span class="ident" id="4673010"><a href="/text/template/exec.go.html#4672985">tmpl</a></span>&nbsp;<span class="op" id="4673015">==</span>&nbsp;<span class="ident" id="4673018">nil</span>&nbsp;<span class="op" id="4673022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4673026">return</span>&nbsp;<span class="ident" id="4673033"><a href="/text/template/exec.go.html#4670083">fmt</a></span><span class="op" id="4673036">.</span><span class="ident" id="4673037">Errorf</span><span class="op" id="4673043">(</span><span class="string" id="4673044">&#34;template:&nbsp;no&nbsp;template&nbsp;%q&nbsp;associated&nbsp;with&nbsp;template&nbsp;%q&#34;</span><span class="op" id="4673098">,</span>&nbsp;<span class="ident" id="4673100"><a href="/text/template/exec.go.html#4672945">name</a></span><span class="op" id="4673104">,</span>&nbsp;<span class="ident" id="4673106"><a href="/text/template/exec.go.html#4672902">t</a></span><span class="op" id="4673107">.</span><span class="ident" id="4673108">name</span><span class="op" id="4673112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4673115">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4673118">return</span>&nbsp;<span class="ident" id="4673125"><a href="/text/template/exec.go.html#4672985">tmpl</a></span><span class="op" id="4673129">.</span><span class="ident" id="4673130">Execute</span><span class="op" id="4673137">(</span><span class="ident" id="4673138"><a href="/text/template/exec.go.html#4672931">wr</a></span><span class="op" id="4673140">,</span>&nbsp;<span class="ident" id="4673142"><a href="/text/template/exec.go.html#4672958">data</a></span><span class="op" id="4673146">)</span><br>
<span class="lineno"></span><span class="op" id="4673148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4673151">//&nbsp;Execute&nbsp;applies&nbsp;a&nbsp;parsed&nbsp;template&nbsp;to&nbsp;the&nbsp;specified&nbsp;data&nbsp;object,</span><br>
<span class="lineno"></span><span class="comment" id="4673218">//&nbsp;and&nbsp;writes&nbsp;the&nbsp;output&nbsp;to&nbsp;wr.</span><br>
<span class="lineno">125</span><span class="comment" id="4673250">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs&nbsp;executing&nbsp;the&nbsp;template&nbsp;or&nbsp;writing&nbsp;its&nbsp;output,</span><br>
<span class="lineno"></span><span class="comment" id="4673318">//&nbsp;execution&nbsp;stops,&nbsp;but&nbsp;partial&nbsp;results&nbsp;may&nbsp;already&nbsp;have&nbsp;been&nbsp;written&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4673391">//&nbsp;the&nbsp;output&nbsp;writer.</span><br>
<span class="lineno"></span><span class="comment" id="4673413">//&nbsp;A&nbsp;template&nbsp;may&nbsp;be&nbsp;executed&nbsp;safely&nbsp;in&nbsp;parallel.</span><br>
<span class="lineno"></span><span class="keyword" id="4673463">func</span>&nbsp;<span class="op" id="4673468">(</span><span class="ident" id="4673469">t</span>&nbsp;<span class="op" id="4673471">*</span><span class="ident" id="4673472"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4673480">)</span>&nbsp;<span class="ident" id="4673482">Execute</span><span class="op" id="4673489">(</span><span class="ident" id="4673490">wr</span>&nbsp;<span class="ident" id="4673493"><a href="/text/template/exec.go.html#4670090">io</a></span><span class="op" id="4673495">.</span><span class="ident" id="4673496">Writer</span><span class="op" id="4673502">,</span>&nbsp;<span class="ident" id="4673504">data</span>&nbsp;<span class="keyword" id="4673509">interface</span><span class="op" id="4673518">{</span><span class="op" id="4673519">}</span><span class="op" id="4673520">)</span>&nbsp;<span class="op" id="4673522">(</span><span class="ident" id="4673523">err</span>&nbsp;<span class="builtintype" id="4673527">error</span><span class="op" id="4673532">)</span>&nbsp;<span class="op" id="4673534">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4673537">defer</span>&nbsp;<span class="ident" id="4673543"><a href="/text/template/exec.go.html#4672360">errRecover</a></span><span class="op" id="4673553">(</span><span class="op" id="4673554">&amp;</span><span class="ident" id="4673555"><a href="/text/template/exec.go.html#4673523">err</a></span><span class="op" id="4673558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4673561">value</span>&nbsp;<span class="op" id="4673567">:=</span>&nbsp;<span class="ident" id="4673570"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4673577">.</span><span class="ident" id="4673578">ValueOf</span><span class="op" id="4673585">(</span><span class="ident" id="4673586"><a href="/text/template/exec.go.html#4673504">data</a></span><span class="op" id="4673590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4673593">state</span>&nbsp;<span class="op" id="4673599">:=</span>&nbsp;<span class="op" id="4673602">&amp;</span><span class="ident" id="4673603"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4673608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4673612">tmpl</span><span class="op" id="4673616">:</span>&nbsp;<span class="ident" id="4673618"><a href="/text/template/exec.go.html#4673469">t</a></span><span class="op" id="4673619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4673623">wr</span><span class="op" id="4673625">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4673629"><a href="/text/template/exec.go.html#4673490">wr</a></span><span class="op" id="4673631">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4673635">vars</span><span class="op" id="4673639">:</span>&nbsp;<span class="op" id="4673641">[</span><span class="op" id="4673642">]</span><span class="ident" id="4673643"><a href="/text/template/exec.go.html#4670549">variable</a></span><span class="op" id="4673651">{</span><span class="op" id="4673652">{</span><span class="string" id="4673653">&#34;$&#34;</span><span class="op" id="4673656">,</span>&nbsp;<span class="ident" id="4673658"><a href="/text/template/exec.go.html#4673561">value</a></span><span class="op" id="4673663">}</span><span class="op" id="4673664">}</span><span class="op" id="4673665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4673668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4673671"><a href="/text/template/exec.go.html#4673469">t</a></span><span class="op" id="4673672">.</span><span class="ident" id="4673673">init</span><span class="op" id="4673677">(</span><span class="op" id="4673678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4673681">if</span>&nbsp;<span class="ident" id="4673684"><a href="/text/template/exec.go.html#4673469">t</a></span><span class="op" id="4673685">.</span><span class="ident" id="4673686">Tree</span>&nbsp;<span class="op" id="4673691">==</span>&nbsp;<span class="ident" id="4673694">nil</span>&nbsp;<span class="op" id="4673698">||</span>&nbsp;<span class="ident" id="4673701"><a href="/text/template/exec.go.html#4673469">t</a></span><span class="op" id="4673702">.</span><span class="ident" id="4673703">Root</span>&nbsp;<span class="op" id="4673708">==</span>&nbsp;<span class="ident" id="4673711">nil</span>&nbsp;<span class="op" id="4673715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4673719">var</span>&nbsp;<span class="ident" id="4673723">b</span>&nbsp;<span class="ident" id="4673725"><a href="/text/template/exec.go.html#4670074">bytes</a></span><span class="op" id="4673730">.</span><span class="ident" id="4673731">Buffer</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4673740">for</span>&nbsp;<span class="ident" id="4673744">name</span><span class="op" id="4673748">,</span>&nbsp;<span class="ident" id="4673750">tmpl</span>&nbsp;<span class="op" id="4673755">:=</span>&nbsp;<span class="keyword" id="4673758">range</span>&nbsp;<span class="ident" id="4673764"><a href="/text/template/exec.go.html#4673469">t</a></span><span class="op" id="4673765">.</span><span class="ident" id="4673766">tmpl</span>&nbsp;<span class="op" id="4673771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4673776">if</span>&nbsp;<span class="ident" id="4673779"><a href="/text/template/exec.go.html#4673750">tmpl</a></span><span class="op" id="4673783">.</span><span class="ident" id="4673784">Tree</span>&nbsp;<span class="op" id="4673789">==</span>&nbsp;<span class="ident" id="4673792">nil</span>&nbsp;<span class="op" id="4673796">||</span>&nbsp;<span class="ident" id="4673799"><a href="/text/template/exec.go.html#4673750">tmpl</a></span><span class="op" id="4673803">.</span><span class="ident" id="4673804">Root</span>&nbsp;<span class="op" id="4673809">==</span>&nbsp;<span class="ident" id="4673812">nil</span>&nbsp;<span class="op" id="4673816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4673822">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4673834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4673839">if</span>&nbsp;<span class="ident" id="4673842"><a href="/text/template/exec.go.html#4673723">b</a></span><span class="op" id="4673843">.</span><span class="ident" id="4673844">Len</span><span class="op" id="4673847">(</span><span class="op" id="4673848">)</span>&nbsp;<span class="op" id="4673850">&gt;</span>&nbsp;<span class="num" id="4673852">0</span>&nbsp;<span class="op" id="4673854">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4673860"><a href="/text/template/exec.go.html#4673723">b</a></span><span class="op" id="4673861">.</span><span class="ident" id="4673862">WriteString</span><span class="op" id="4673873">(</span><span class="string" id="4673874">&#34;,&nbsp;&#34;</span><span class="op" id="4673878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4673883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4673888"><a href="/text/template/exec.go.html#4670083">fmt</a></span><span class="op" id="4673891">.</span><span class="ident" id="4673892">Fprintf</span><span class="op" id="4673899">(</span><span class="op" id="4673900">&amp;</span><span class="ident" id="4673901"><a href="/text/template/exec.go.html#4673723">b</a></span><span class="op" id="4673902">,</span>&nbsp;<span class="string" id="4673904">&#34;%q&#34;</span><span class="op" id="4673908">,</span>&nbsp;<span class="ident" id="4673910"><a href="/text/template/exec.go.html#4673744">name</a></span><span class="op" id="4673914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4673918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4673922">var</span>&nbsp;<span class="ident" id="4673926">s</span>&nbsp;<span class="builtintype" id="4673928">string</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4673937">if</span>&nbsp;<span class="ident" id="4673940"><a href="/text/template/exec.go.html#4673723">b</a></span><span class="op" id="4673941">.</span><span class="ident" id="4673942">Len</span><span class="op" id="4673945">(</span><span class="op" id="4673946">)</span>&nbsp;<span class="op" id="4673948">&gt;</span>&nbsp;<span class="num" id="4673950">0</span>&nbsp;<span class="op" id="4673952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4673957"><a href="/text/template/exec.go.html#4673926">s</a></span>&nbsp;<span class="op" id="4673959">=</span>&nbsp;<span class="string" id="4673961">&#34;;&nbsp;defined&nbsp;templates&nbsp;are:&nbsp;&#34;</span>&nbsp;<span class="op" id="4673989">+</span>&nbsp;<span class="ident" id="4673991"><a href="/text/template/exec.go.html#4673723">b</a></span><span class="op" id="4673992">.</span><span class="ident" id="4673993">String</span><span class="op" id="4673999">(</span><span class="op" id="4674000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4674004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4674008"><a href="/text/template/exec.go.html#4673593">state</a></span><span class="op" id="4674013">.</span><span class="ident" id="4674014">errorf</span><span class="op" id="4674020">(</span><span class="string" id="4674021">&#34;%q&nbsp;is&nbsp;an&nbsp;incomplete&nbsp;or&nbsp;empty&nbsp;template%s&#34;</span><span class="op" id="4674062">,</span>&nbsp;<span class="ident" id="4674064"><a href="/text/template/exec.go.html#4673469">t</a></span><span class="op" id="4674065">.</span><span class="ident" id="4674066">Name</span><span class="op" id="4674070">(</span><span class="op" id="4674071">)</span><span class="op" id="4674072">,</span>&nbsp;<span class="ident" id="4674074"><a href="/text/template/exec.go.html#4673926">s</a></span><span class="op" id="4674075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4674078">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4674081"><a href="/text/template/exec.go.html#4673593">state</a></span><span class="op" id="4674086">.</span><span class="ident" id="4674087">walk</span><span class="op" id="4674091">(</span><span class="ident" id="4674092"><a href="/text/template/exec.go.html#4673561">value</a></span><span class="op" id="4674097">,</span>&nbsp;<span class="ident" id="4674099"><a href="/text/template/exec.go.html#4673469">t</a></span><span class="op" id="4674100">.</span><span class="ident" id="4674101">Root</span><span class="op" id="4674105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4674108">return</span><br>
<span class="lineno"></span><span class="op" id="4674115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4674118">//&nbsp;Walk&nbsp;functions&nbsp;step&nbsp;through&nbsp;the&nbsp;major&nbsp;pieces&nbsp;of&nbsp;the&nbsp;template&nbsp;structure,</span><br>
<span class="lineno">160</span><span class="comment" id="4674193">//&nbsp;generating&nbsp;output&nbsp;as&nbsp;they&nbsp;go.</span><br>
<span class="lineno"></span><span class="keyword" id="4674226">func</span>&nbsp;<span class="op" id="4674231">(</span><span class="ident" id="4674232">s</span>&nbsp;<span class="op" id="4674234">*</span><span class="ident" id="4674235"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4674240">)</span>&nbsp;<span class="ident" id="4674242">walk</span><span class="op" id="4674246">(</span><span class="ident" id="4674247">dot</span>&nbsp;<span class="ident" id="4674251"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4674258">.</span><span class="ident" id="4674259">Value</span><span class="op" id="4674264">,</span>&nbsp;<span class="ident" id="4674266">node</span>&nbsp;<span class="ident" id="4674271"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4674276">.</span><span class="ident" id="4674277">Node</span><span class="op" id="4674281">)</span>&nbsp;<span class="op" id="4674283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4674286"><a href="/text/template/exec.go.html#4674232">s</a></span><span class="op" id="4674287">.</span><span class="ident" id="4674288">at</span><span class="op" id="4674290">(</span><span class="ident" id="4674291"><a href="/text/template/exec.go.html#4674266">node</a></span><span class="op" id="4674295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4674298">switch</span>&nbsp;<span class="ident" id="4674305">node</span>&nbsp;<span class="op" id="4674310">:=</span>&nbsp;<span class="ident" id="4674313"><a href="/text/template/exec.go.html#4674266">node</a></span><span class="op" id="4674317">.</span><span class="op" id="4674318">(</span><span class="keyword" id="4674319">type</span><span class="op" id="4674323">)</span>&nbsp;<span class="op" id="4674325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4674328">case</span>&nbsp;<span class="op" id="4674333">*</span><span class="ident" id="4674334"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4674339">.</span><span class="ident" id="4674340">ActionNode</span><span class="op" id="4674350">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4674354">//&nbsp;Do&nbsp;not&nbsp;pop&nbsp;variables&nbsp;so&nbsp;they&nbsp;persist&nbsp;until&nbsp;next&nbsp;end.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4674412">//&nbsp;Also,&nbsp;if&nbsp;the&nbsp;action&nbsp;declares&nbsp;variables,&nbsp;don&#39;t&nbsp;print&nbsp;the&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4674481">val</span>&nbsp;<span class="op" id="4674485">:=</span>&nbsp;<span class="ident" id="4674488"><a href="/text/template/exec.go.html#4674232">s</a></span><span class="op" id="4674489">.</span><span class="ident" id="4674490">evalPipeline</span><span class="op" id="4674502">(</span><span class="ident" id="4674503"><a href="/text/template/exec.go.html#4674247">dot</a></span><span class="op" id="4674506">,</span>&nbsp;<span class="ident" id="4674508"><a href="/text/template/exec.go.html#4674305">node</a></span><span class="op" id="4674512">.</span><span class="ident" id="4674513">Pipe</span><span class="op" id="4674517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4674521">if</span>&nbsp;<span class="builtinfunc" id="4674524">len</span><span class="op" id="4674527">(</span><span class="ident" id="4674528"><a href="/text/template/exec.go.html#4674305">node</a></span><span class="op" id="4674532">.</span><span class="ident" id="4674533">Pipe</span><span class="op" id="4674537">.</span><span class="ident" id="4674538">Decl</span><span class="op" id="4674542">)</span>&nbsp;<span class="op" id="4674544">==</span>&nbsp;<span class="num" id="4674547">0</span>&nbsp;<span class="op" id="4674549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4674554"><a href="/text/template/exec.go.html#4674232">s</a></span><span class="op" id="4674555">.</span><span class="ident" id="4674556">printValue</span><span class="op" id="4674566">(</span><span class="ident" id="4674567"><a href="/text/template/exec.go.html#4674305">node</a></span><span class="op" id="4674571">,</span>&nbsp;<span class="ident" id="4674573"><a href="/text/template/exec.go.html#4674481">val</a></span><span class="op" id="4674576">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4674580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4674583">case</span>&nbsp;<span class="op" id="4674588">*</span><span class="ident" id="4674589"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4674594">.</span><span class="ident" id="4674595">IfNode</span><span class="op" id="4674601">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4674605"><a href="/text/template/exec.go.html#4674232">s</a></span><span class="op" id="4674606">.</span><span class="ident" id="4674607">walkIfOrWith</span><span class="op" id="4674619">(</span><span class="ident" id="4674620"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4674625">.</span><span class="ident" id="4674626">NodeIf</span><span class="op" id="4674632">,</span>&nbsp;<span class="ident" id="4674634"><a href="/text/template/exec.go.html#4674247">dot</a></span><span class="op" id="4674637">,</span>&nbsp;<span class="ident" id="4674639"><a href="/text/template/exec.go.html#4674305">node</a></span><span class="op" id="4674643">.</span><span class="ident" id="4674644">Pipe</span><span class="op" id="4674648">,</span>&nbsp;<span class="ident" id="4674650"><a href="/text/template/exec.go.html#4674305">node</a></span><span class="op" id="4674654">.</span><span class="ident" id="4674655">List</span><span class="op" id="4674659">,</span>&nbsp;<span class="ident" id="4674661"><a href="/text/template/exec.go.html#4674305">node</a></span><span class="op" id="4674665">.</span><span class="ident" id="4674666">ElseList</span><span class="op" id="4674674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4674677">case</span>&nbsp;<span class="op" id="4674682">*</span><span class="ident" id="4674683"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4674688">.</span><span class="ident" id="4674689">ListNode</span><span class="op" id="4674697">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4674701">for</span>&nbsp;<span class="ident" id="4674705">_</span><span class="op" id="4674706">,</span>&nbsp;<span class="ident" id="4674708">node</span>&nbsp;<span class="op" id="4674713">:=</span>&nbsp;<span class="keyword" id="4674716">range</span>&nbsp;<span class="ident" id="4674722"><a href="/text/template/exec.go.html#4674305">node</a></span><span class="op" id="4674726">.</span><span class="ident" id="4674727">Nodes</span>&nbsp;<span class="op" id="4674733">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4674738"><a href="/text/template/exec.go.html#4674232">s</a></span><span class="op" id="4674739">.</span><span class="ident" id="4674740">walk</span><span class="op" id="4674744">(</span><span class="ident" id="4674745"><a href="/text/template/exec.go.html#4674247">dot</a></span><span class="op" id="4674748">,</span>&nbsp;<span class="ident" id="4674750"><a href="/text/template/exec.go.html#4674708">node</a></span><span class="op" id="4674754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4674758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4674761">case</span>&nbsp;<span class="op" id="4674766">*</span><span class="ident" id="4674767"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4674772">.</span><span class="ident" id="4674773">RangeNode</span><span class="op" id="4674782">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4674786"><a href="/text/template/exec.go.html#4674232">s</a></span><span class="op" id="4674787">.</span><span class="ident" id="4674788">walkRange</span><span class="op" id="4674797">(</span><span class="ident" id="4674798"><a href="/text/template/exec.go.html#4674247">dot</a></span><span class="op" id="4674801">,</span>&nbsp;<span class="ident" id="4674803"><a href="/text/template/exec.go.html#4674305">node</a></span><span class="op" id="4674807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4674810">case</span>&nbsp;<span class="op" id="4674815">*</span><span class="ident" id="4674816"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4674821">.</span><span class="ident" id="4674822">TemplateNode</span><span class="op" id="4674834">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4674838"><a href="/text/template/exec.go.html#4674232">s</a></span><span class="op" id="4674839">.</span><span class="ident" id="4674840">walkTemplate</span><span class="op" id="4674852">(</span><span class="ident" id="4674853"><a href="/text/template/exec.go.html#4674247">dot</a></span><span class="op" id="4674856">,</span>&nbsp;<span class="ident" id="4674858"><a href="/text/template/exec.go.html#4674305">node</a></span><span class="op" id="4674862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4674865">case</span>&nbsp;<span class="op" id="4674870">*</span><span class="ident" id="4674871"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4674876">.</span><span class="ident" id="4674877">TextNode</span><span class="op" id="4674885">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4674889">if</span>&nbsp;<span class="ident" id="4674892">_</span><span class="op" id="4674893">,</span>&nbsp;<span class="ident" id="4674895">err</span>&nbsp;<span class="op" id="4674899">:=</span>&nbsp;<span class="ident" id="4674902"><a href="/text/template/exec.go.html#4674232">s</a></span><span class="op" id="4674903">.</span><span class="ident" id="4674904">wr</span><span class="op" id="4674906">.</span><span class="ident" id="4674907">Write</span><span class="op" id="4674912">(</span><span class="ident" id="4674913"><a href="/text/template/exec.go.html#4674305">node</a></span><span class="op" id="4674917">.</span><span class="ident" id="4674918">Text</span><span class="op" id="4674922">)</span><span class="op" id="4674923">;</span>&nbsp;<span class="ident" id="4674925"><a href="/text/template/exec.go.html#4674895">err</a></span>&nbsp;<span class="op" id="4674929">!=</span>&nbsp;<span class="ident" id="4674932">nil</span>&nbsp;<span class="op" id="4674936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4674941"><a href="/text/template/exec.go.html#4674232">s</a></span><span class="op" id="4674942">.</span><span class="ident" id="4674943">errorf</span><span class="op" id="4674949">(</span><span class="string" id="4674950">&#34;%s&#34;</span><span class="op" id="4674954">,</span>&nbsp;<span class="ident" id="4674956"><a href="/text/template/exec.go.html#4674895">err</a></span><span class="op" id="4674959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4674963">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4674966">case</span>&nbsp;<span class="op" id="4674971">*</span><span class="ident" id="4674972"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4674977">.</span><span class="ident" id="4674978">WithNode</span><span class="op" id="4674986">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4674990"><a href="/text/template/exec.go.html#4674232">s</a></span><span class="op" id="4674991">.</span><span class="ident" id="4674992">walkIfOrWith</span><span class="op" id="4675004">(</span><span class="ident" id="4675005"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4675010">.</span><span class="ident" id="4675011">NodeWith</span><span class="op" id="4675019">,</span>&nbsp;<span class="ident" id="4675021"><a href="/text/template/exec.go.html#4674247">dot</a></span><span class="op" id="4675024">,</span>&nbsp;<span class="ident" id="4675026"><a href="/text/template/exec.go.html#4674305">node</a></span><span class="op" id="4675030">.</span><span class="ident" id="4675031">Pipe</span><span class="op" id="4675035">,</span>&nbsp;<span class="ident" id="4675037"><a href="/text/template/exec.go.html#4674305">node</a></span><span class="op" id="4675041">.</span><span class="ident" id="4675042">List</span><span class="op" id="4675046">,</span>&nbsp;<span class="ident" id="4675048"><a href="/text/template/exec.go.html#4674305">node</a></span><span class="op" id="4675052">.</span><span class="ident" id="4675053">ElseList</span><span class="op" id="4675061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4675064">default</span><span class="op" id="4675071">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4675075"><a href="/text/template/exec.go.html#4674232">s</a></span><span class="op" id="4675076">.</span><span class="ident" id="4675077">errorf</span><span class="op" id="4675083">(</span><span class="string" id="4675084">&#34;unknown&nbsp;node:&nbsp;%s&#34;</span><span class="op" id="4675102">,</span>&nbsp;<span class="ident" id="4675104"><a href="/text/template/exec.go.html#4674305">node</a></span><span class="op" id="4675108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4675111">}</span><br>
<span class="lineno">190</span><span class="op" id="4675113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4675116">//&nbsp;walkIfOrWith&nbsp;walks&nbsp;an&nbsp;&#39;if&#39;&nbsp;or&nbsp;&#39;with&#39;&nbsp;node.&nbsp;The&nbsp;two&nbsp;control&nbsp;structures</span><br>
<span class="lineno"></span><span class="comment" id="4675189">//&nbsp;are&nbsp;identical&nbsp;in&nbsp;behavior&nbsp;except&nbsp;that&nbsp;&#39;with&#39;&nbsp;sets&nbsp;dot.</span><br>
<span class="lineno"></span><span class="keyword" id="4675247">func</span>&nbsp;<span class="op" id="4675252">(</span><span class="ident" id="4675253">s</span>&nbsp;<span class="op" id="4675255">*</span><span class="ident" id="4675256"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4675261">)</span>&nbsp;<span class="ident" id="4675263">walkIfOrWith</span><span class="op" id="4675275">(</span><span class="ident" id="4675276">typ</span>&nbsp;<span class="ident" id="4675280"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4675285">.</span><span class="ident" id="4675286">NodeType</span><span class="op" id="4675294">,</span>&nbsp;<span class="ident" id="4675296">dot</span>&nbsp;<span class="ident" id="4675300"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4675307">.</span><span class="ident" id="4675308">Value</span><span class="op" id="4675313">,</span>&nbsp;<span class="ident" id="4675315">pipe</span>&nbsp;<span class="op" id="4675320">*</span><span class="ident" id="4675321"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4675326">.</span><span class="ident" id="4675327">PipeNode</span><span class="op" id="4675335">,</span>&nbsp;<span class="ident" id="4675337">list</span><span class="op" id="4675341">,</span>&nbsp;<span class="ident" id="4675343">elseList</span>&nbsp;<span class="op" id="4675352">*</span><span class="ident" id="4675353"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4675358">.</span><span class="ident" id="4675359">ListNode</span><span class="op" id="4675367">)</span>&nbsp;<span class="op" id="4675369">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4675372">defer</span>&nbsp;<span class="ident" id="4675378"><a href="/text/template/exec.go.html#4675253">s</a></span><span class="op" id="4675379">.</span><span class="ident" id="4675380">pop</span><span class="op" id="4675383">(</span><span class="ident" id="4675384"><a href="/text/template/exec.go.html#4675253">s</a></span><span class="op" id="4675385">.</span><span class="ident" id="4675386">mark</span><span class="op" id="4675390">(</span><span class="op" id="4675391">)</span><span class="op" id="4675392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4675395">val</span>&nbsp;<span class="op" id="4675399">:=</span>&nbsp;<span class="ident" id="4675402"><a href="/text/template/exec.go.html#4675253">s</a></span><span class="op" id="4675403">.</span><span class="ident" id="4675404">evalPipeline</span><span class="op" id="4675416">(</span><span class="ident" id="4675417"><a href="/text/template/exec.go.html#4675296">dot</a></span><span class="op" id="4675420">,</span>&nbsp;<span class="ident" id="4675422"><a href="/text/template/exec.go.html#4675315">pipe</a></span><span class="op" id="4675426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4675429">truth</span><span class="op" id="4675434">,</span>&nbsp;<span class="ident" id="4675436">ok</span>&nbsp;<span class="op" id="4675439">:=</span>&nbsp;<span class="ident" id="4675442"><a href="/text/template/exec.go.html#4675813">isTrue</a></span><span class="op" id="4675448">(</span><span class="ident" id="4675449"><a href="/text/template/exec.go.html#4675395">val</a></span><span class="op" id="4675452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4675455">if</span>&nbsp;<span class="op" id="4675458">!</span><span class="ident" id="4675459"><a href="/text/template/exec.go.html#4675436">ok</a></span>&nbsp;<span class="op" id="4675462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4675466"><a href="/text/template/exec.go.html#4675253">s</a></span><span class="op" id="4675467">.</span><span class="ident" id="4675468">errorf</span><span class="op" id="4675474">(</span><span class="string" id="4675475">&#34;if/with&nbsp;can&#39;t&nbsp;use&nbsp;%v&#34;</span><span class="op" id="4675497">,</span>&nbsp;<span class="ident" id="4675499"><a href="/text/template/exec.go.html#4675395">val</a></span><span class="op" id="4675502">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4675505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4675508">if</span>&nbsp;<span class="ident" id="4675511"><a href="/text/template/exec.go.html#4675429">truth</a></span>&nbsp;<span class="op" id="4675517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4675521">if</span>&nbsp;<span class="ident" id="4675524"><a href="/text/template/exec.go.html#4675276">typ</a></span>&nbsp;<span class="op" id="4675528">==</span>&nbsp;<span class="ident" id="4675531"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4675536">.</span><span class="ident" id="4675537">NodeWith</span>&nbsp;<span class="op" id="4675546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4675551"><a href="/text/template/exec.go.html#4675253">s</a></span><span class="op" id="4675552">.</span><span class="ident" id="4675553">walk</span><span class="op" id="4675557">(</span><span class="ident" id="4675558"><a href="/text/template/exec.go.html#4675395">val</a></span><span class="op" id="4675561">,</span>&nbsp;<span class="ident" id="4675563"><a href="/text/template/exec.go.html#4675337">list</a></span><span class="op" id="4675567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4675571">}</span>&nbsp;<span class="keyword" id="4675573">else</span>&nbsp;<span class="op" id="4675578">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4675583"><a href="/text/template/exec.go.html#4675253">s</a></span><span class="op" id="4675584">.</span><span class="ident" id="4675585">walk</span><span class="op" id="4675589">(</span><span class="ident" id="4675590"><a href="/text/template/exec.go.html#4675296">dot</a></span><span class="op" id="4675593">,</span>&nbsp;<span class="ident" id="4675595"><a href="/text/template/exec.go.html#4675337">list</a></span><span class="op" id="4675599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4675603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4675606">}</span>&nbsp;<span class="keyword" id="4675608">else</span>&nbsp;<span class="keyword" id="4675613">if</span>&nbsp;<span class="ident" id="4675616"><a href="/text/template/exec.go.html#4675343">elseList</a></span>&nbsp;<span class="op" id="4675625">!=</span>&nbsp;<span class="ident" id="4675628">nil</span>&nbsp;<span class="op" id="4675632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4675636"><a href="/text/template/exec.go.html#4675253">s</a></span><span class="op" id="4675637">.</span><span class="ident" id="4675638">walk</span><span class="op" id="4675642">(</span><span class="ident" id="4675643"><a href="/text/template/exec.go.html#4675296">dot</a></span><span class="op" id="4675646">,</span>&nbsp;<span class="ident" id="4675648"><a href="/text/template/exec.go.html#4675343">elseList</a></span><span class="op" id="4675656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4675659">}</span><br>
<span class="lineno">210</span><span class="op" id="4675661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4675664">//&nbsp;isTrue&nbsp;reports&nbsp;whether&nbsp;the&nbsp;value&nbsp;is&nbsp;&#39;true&#39;,&nbsp;in&nbsp;the&nbsp;sense&nbsp;of&nbsp;not&nbsp;the&nbsp;zero&nbsp;of&nbsp;its&nbsp;type,</span><br>
<span class="lineno"></span><span class="comment" id="4675753">//&nbsp;and&nbsp;whether&nbsp;the&nbsp;value&nbsp;has&nbsp;a&nbsp;meaningful&nbsp;truth&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="4675808">func</span>&nbsp;<span class="ident" id="4675813">isTrue</span><span class="op" id="4675819">(</span><span class="ident" id="4675820">val</span>&nbsp;<span class="ident" id="4675824"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4675831">.</span><span class="ident" id="4675832">Value</span><span class="op" id="4675837">)</span>&nbsp;<span class="op" id="4675839">(</span><span class="ident" id="4675840">truth</span><span class="op" id="4675845">,</span>&nbsp;<span class="ident" id="4675847">ok</span>&nbsp;<span class="builtintype" id="4675850">bool</span><span class="op" id="4675854">)</span>&nbsp;<span class="op" id="4675856">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4675859">if</span>&nbsp;<span class="op" id="4675862">!</span><span class="ident" id="4675863"><a href="/text/template/exec.go.html#4675820">val</a></span><span class="op" id="4675866">.</span><span class="ident" id="4675867">IsValid</span><span class="op" id="4675874">(</span><span class="op" id="4675875">)</span>&nbsp;<span class="op" id="4675877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4675881">//&nbsp;Something&nbsp;like&nbsp;var&nbsp;x&nbsp;interface{},&nbsp;never&nbsp;set.&nbsp;It&#39;s&nbsp;a&nbsp;form&nbsp;of&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4675951">return</span>&nbsp;<span class="builtintype" id="4675958">false</span><span class="op" id="4675963">,</span>&nbsp;<span class="builtintype" id="4675965">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4675971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4675974">switch</span>&nbsp;<span class="ident" id="4675981"><a href="/text/template/exec.go.html#4675820">val</a></span><span class="op" id="4675984">.</span><span class="ident" id="4675985">Kind</span><span class="op" id="4675989">(</span><span class="op" id="4675990">)</span>&nbsp;<span class="op" id="4675992">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4675995">case</span>&nbsp;<span class="ident" id="4676000"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676007">.</span><span class="ident" id="4676008">Array</span><span class="op" id="4676013">,</span>&nbsp;<span class="ident" id="4676015"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676022">.</span><span class="ident" id="4676023">Map</span><span class="op" id="4676026">,</span>&nbsp;<span class="ident" id="4676028"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676035">.</span><span class="ident" id="4676036">Slice</span><span class="op" id="4676041">,</span>&nbsp;<span class="ident" id="4676043"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676050">.</span><span class="ident" id="4676051">String</span><span class="op" id="4676057">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4676061"><a href="/text/template/exec.go.html#4675840">truth</a></span>&nbsp;<span class="op" id="4676067">=</span>&nbsp;<span class="ident" id="4676069"><a href="/text/template/exec.go.html#4675820">val</a></span><span class="op" id="4676072">.</span><span class="ident" id="4676073">Len</span><span class="op" id="4676076">(</span><span class="op" id="4676077">)</span>&nbsp;<span class="op" id="4676079">&gt;</span>&nbsp;<span class="num" id="4676081">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4676084">case</span>&nbsp;<span class="ident" id="4676089"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676096">.</span><span class="ident" id="4676097">Bool</span><span class="op" id="4676101">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4676105"><a href="/text/template/exec.go.html#4675840">truth</a></span>&nbsp;<span class="op" id="4676111">=</span>&nbsp;<span class="ident" id="4676113"><a href="/text/template/exec.go.html#4675820">val</a></span><span class="op" id="4676116">.</span><span class="ident" id="4676117">Bool</span><span class="op" id="4676121">(</span><span class="op" id="4676122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4676125">case</span>&nbsp;<span class="ident" id="4676130"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676137">.</span><span class="ident" id="4676138">Complex64</span><span class="op" id="4676147">,</span>&nbsp;<span class="ident" id="4676149"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676156">.</span><span class="ident" id="4676157">Complex128</span><span class="op" id="4676167">:</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4676171"><a href="/text/template/exec.go.html#4675840">truth</a></span>&nbsp;<span class="op" id="4676177">=</span>&nbsp;<span class="ident" id="4676179"><a href="/text/template/exec.go.html#4675820">val</a></span><span class="op" id="4676182">.</span><span class="ident" id="4676183">Complex</span><span class="op" id="4676190">(</span><span class="op" id="4676191">)</span>&nbsp;<span class="op" id="4676193">!=</span>&nbsp;<span class="num" id="4676196">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4676199">case</span>&nbsp;<span class="ident" id="4676204"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676211">.</span><span class="ident" id="4676212">Chan</span><span class="op" id="4676216">,</span>&nbsp;<span class="ident" id="4676218"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676225">.</span><span class="ident" id="4676226">Func</span><span class="op" id="4676230">,</span>&nbsp;<span class="ident" id="4676232"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676239">.</span><span class="ident" id="4676240">Ptr</span><span class="op" id="4676243">,</span>&nbsp;<span class="ident" id="4676245"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676252">.</span><span class="ident" id="4676253">Interface</span><span class="op" id="4676262">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4676266"><a href="/text/template/exec.go.html#4675840">truth</a></span>&nbsp;<span class="op" id="4676272">=</span>&nbsp;<span class="op" id="4676274">!</span><span class="ident" id="4676275"><a href="/text/template/exec.go.html#4675820">val</a></span><span class="op" id="4676278">.</span><span class="ident" id="4676279">IsNil</span><span class="op" id="4676284">(</span><span class="op" id="4676285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4676288">case</span>&nbsp;<span class="ident" id="4676293"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676300">.</span><span class="ident" id="4676301">Int</span><span class="op" id="4676304">,</span>&nbsp;<span class="ident" id="4676306"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676313">.</span><span class="ident" id="4676314">Int8</span><span class="op" id="4676318">,</span>&nbsp;<span class="ident" id="4676320"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676327">.</span><span class="ident" id="4676328">Int16</span><span class="op" id="4676333">,</span>&nbsp;<span class="ident" id="4676335"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676342">.</span><span class="ident" id="4676343">Int32</span><span class="op" id="4676348">,</span>&nbsp;<span class="ident" id="4676350"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676357">.</span><span class="ident" id="4676358">Int64</span><span class="op" id="4676363">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4676367"><a href="/text/template/exec.go.html#4675840">truth</a></span>&nbsp;<span class="op" id="4676373">=</span>&nbsp;<span class="ident" id="4676375"><a href="/text/template/exec.go.html#4675820">val</a></span><span class="op" id="4676378">.</span><span class="ident" id="4676379">Int</span><span class="op" id="4676382">(</span><span class="op" id="4676383">)</span>&nbsp;<span class="op" id="4676385">!=</span>&nbsp;<span class="num" id="4676388">0</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4676391">case</span>&nbsp;<span class="ident" id="4676396"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676403">.</span><span class="ident" id="4676404">Float32</span><span class="op" id="4676411">,</span>&nbsp;<span class="ident" id="4676413"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676420">.</span><span class="ident" id="4676421">Float64</span><span class="op" id="4676428">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4676432"><a href="/text/template/exec.go.html#4675840">truth</a></span>&nbsp;<span class="op" id="4676438">=</span>&nbsp;<span class="ident" id="4676440"><a href="/text/template/exec.go.html#4675820">val</a></span><span class="op" id="4676443">.</span><span class="ident" id="4676444">Float</span><span class="op" id="4676449">(</span><span class="op" id="4676450">)</span>&nbsp;<span class="op" id="4676452">!=</span>&nbsp;<span class="num" id="4676455">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4676458">case</span>&nbsp;<span class="ident" id="4676463"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676470">.</span><span class="ident" id="4676471">Uint</span><span class="op" id="4676475">,</span>&nbsp;<span class="ident" id="4676477"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676484">.</span><span class="ident" id="4676485">Uint8</span><span class="op" id="4676490">,</span>&nbsp;<span class="ident" id="4676492"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676499">.</span><span class="ident" id="4676500">Uint16</span><span class="op" id="4676506">,</span>&nbsp;<span class="ident" id="4676508"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676515">.</span><span class="ident" id="4676516">Uint32</span><span class="op" id="4676522">,</span>&nbsp;<span class="ident" id="4676524"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676531">.</span><span class="ident" id="4676532">Uint64</span><span class="op" id="4676538">,</span>&nbsp;<span class="ident" id="4676540"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676547">.</span><span class="ident" id="4676548">Uintptr</span><span class="op" id="4676555">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4676559"><a href="/text/template/exec.go.html#4675840">truth</a></span>&nbsp;<span class="op" id="4676565">=</span>&nbsp;<span class="ident" id="4676567"><a href="/text/template/exec.go.html#4675820">val</a></span><span class="op" id="4676570">.</span><span class="ident" id="4676571">Uint</span><span class="op" id="4676575">(</span><span class="op" id="4676576">)</span>&nbsp;<span class="op" id="4676578">!=</span>&nbsp;<span class="num" id="4676581">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4676584">case</span>&nbsp;<span class="ident" id="4676589"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676596">.</span><span class="ident" id="4676597">Struct</span><span class="op" id="4676603">:</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4676607"><a href="/text/template/exec.go.html#4675840">truth</a></span>&nbsp;<span class="op" id="4676613">=</span>&nbsp;<span class="builtintype" id="4676615">true</span>&nbsp;<span class="comment" id="4676620">//&nbsp;Struct&nbsp;values&nbsp;are&nbsp;always&nbsp;true.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4676655">default</span><span class="op" id="4676662">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4676666">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4676674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4676677">return</span>&nbsp;<span class="ident" id="4676684"><a href="/text/template/exec.go.html#4675840">truth</a></span><span class="op" id="4676689">,</span>&nbsp;<span class="builtintype" id="4676691">true</span><br>
<span class="lineno">240</span><span class="op" id="4676696">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4676699">func</span>&nbsp;<span class="op" id="4676704">(</span><span class="ident" id="4676705">s</span>&nbsp;<span class="op" id="4676707">*</span><span class="ident" id="4676708"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4676713">)</span>&nbsp;<span class="ident" id="4676715">walkRange</span><span class="op" id="4676724">(</span><span class="ident" id="4676725">dot</span>&nbsp;<span class="ident" id="4676729"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676736">.</span><span class="ident" id="4676737">Value</span><span class="op" id="4676742">,</span>&nbsp;<span class="ident" id="4676744">r</span>&nbsp;<span class="op" id="4676746">*</span><span class="ident" id="4676747"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4676752">.</span><span class="ident" id="4676753">RangeNode</span><span class="op" id="4676762">)</span>&nbsp;<span class="op" id="4676764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4676767"><a href="/text/template/exec.go.html#4676705">s</a></span><span class="op" id="4676768">.</span><span class="ident" id="4676769">at</span><span class="op" id="4676771">(</span><span class="ident" id="4676772"><a href="/text/template/exec.go.html#4676744">r</a></span><span class="op" id="4676773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4676776">defer</span>&nbsp;<span class="ident" id="4676782"><a href="/text/template/exec.go.html#4676705">s</a></span><span class="op" id="4676783">.</span><span class="ident" id="4676784">pop</span><span class="op" id="4676787">(</span><span class="ident" id="4676788"><a href="/text/template/exec.go.html#4676705">s</a></span><span class="op" id="4676789">.</span><span class="ident" id="4676790">mark</span><span class="op" id="4676794">(</span><span class="op" id="4676795">)</span><span class="op" id="4676796">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4676799">val</span><span class="op" id="4676802">,</span>&nbsp;<span class="ident" id="4676804">_</span>&nbsp;<span class="op" id="4676806">:=</span>&nbsp;<span class="ident" id="4676809"><a href="/text/template/exec.go.html#4693816">indirect</a></span><span class="op" id="4676817">(</span><span class="ident" id="4676818"><a href="/text/template/exec.go.html#4676705">s</a></span><span class="op" id="4676819">.</span><span class="ident" id="4676820">evalPipeline</span><span class="op" id="4676832">(</span><span class="ident" id="4676833"><a href="/text/template/exec.go.html#4676725">dot</a></span><span class="op" id="4676836">,</span>&nbsp;<span class="ident" id="4676838"><a href="/text/template/exec.go.html#4676744">r</a></span><span class="op" id="4676839">.</span><span class="ident" id="4676840">Pipe</span><span class="op" id="4676844">)</span><span class="op" id="4676845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4676848">//&nbsp;mark&nbsp;top&nbsp;of&nbsp;stack&nbsp;before&nbsp;any&nbsp;variables&nbsp;in&nbsp;the&nbsp;body&nbsp;are&nbsp;pushed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4676915">mark</span>&nbsp;<span class="op" id="4676920">:=</span>&nbsp;<span class="ident" id="4676923"><a href="/text/template/exec.go.html#4676705">s</a></span><span class="op" id="4676924">.</span><span class="ident" id="4676925">mark</span><span class="op" id="4676929">(</span><span class="op" id="4676930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4676933">oneIteration</span>&nbsp;<span class="op" id="4676946">:=</span>&nbsp;<span class="keyword" id="4676949">func</span><span class="op" id="4676953">(</span><span class="ident" id="4676954">index</span><span class="op" id="4676959">,</span>&nbsp;<span class="ident" id="4676961">elem</span>&nbsp;<span class="ident" id="4676966"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4676973">.</span><span class="ident" id="4676974">Value</span><span class="op" id="4676979">)</span>&nbsp;<span class="op" id="4676981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4676985">//&nbsp;Set&nbsp;top&nbsp;var&nbsp;(lexically&nbsp;the&nbsp;second&nbsp;if&nbsp;there&nbsp;are&nbsp;two)&nbsp;to&nbsp;the&nbsp;element.</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677058">if</span>&nbsp;<span class="builtinfunc" id="4677061">len</span><span class="op" id="4677064">(</span><span class="ident" id="4677065"><a href="/text/template/exec.go.html#4676744">r</a></span><span class="op" id="4677066">.</span><span class="ident" id="4677067">Pipe</span><span class="op" id="4677071">.</span><span class="ident" id="4677072">Decl</span><span class="op" id="4677076">)</span>&nbsp;<span class="op" id="4677078">&gt;</span>&nbsp;<span class="num" id="4677080">0</span>&nbsp;<span class="op" id="4677082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4677087"><a href="/text/template/exec.go.html#4676705">s</a></span><span class="op" id="4677088">.</span><span class="ident" id="4677089">setVar</span><span class="op" id="4677095">(</span><span class="num" id="4677096">1</span><span class="op" id="4677097">,</span>&nbsp;<span class="ident" id="4677099"><a href="/text/template/exec.go.html#4676961">elem</a></span><span class="op" id="4677103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4677107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4677111">//&nbsp;Set&nbsp;next&nbsp;var&nbsp;(lexically&nbsp;the&nbsp;first&nbsp;if&nbsp;there&nbsp;are&nbsp;two)&nbsp;to&nbsp;the&nbsp;index.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677182">if</span>&nbsp;<span class="builtinfunc" id="4677185">len</span><span class="op" id="4677188">(</span><span class="ident" id="4677189"><a href="/text/template/exec.go.html#4676744">r</a></span><span class="op" id="4677190">.</span><span class="ident" id="4677191">Pipe</span><span class="op" id="4677195">.</span><span class="ident" id="4677196">Decl</span><span class="op" id="4677200">)</span>&nbsp;<span class="op" id="4677202">&gt;</span>&nbsp;<span class="num" id="4677204">1</span>&nbsp;<span class="op" id="4677206">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4677211"><a href="/text/template/exec.go.html#4676705">s</a></span><span class="op" id="4677212">.</span><span class="ident" id="4677213">setVar</span><span class="op" id="4677219">(</span><span class="num" id="4677220">2</span><span class="op" id="4677221">,</span>&nbsp;<span class="ident" id="4677223"><a href="/text/template/exec.go.html#4676954">index</a></span><span class="op" id="4677228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4677232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4677236"><a href="/text/template/exec.go.html#4676705">s</a></span><span class="op" id="4677237">.</span><span class="ident" id="4677238">walk</span><span class="op" id="4677242">(</span><span class="ident" id="4677243"><a href="/text/template/exec.go.html#4676961">elem</a></span><span class="op" id="4677247">,</span>&nbsp;<span class="ident" id="4677249"><a href="/text/template/exec.go.html#4676744">r</a></span><span class="op" id="4677250">.</span><span class="ident" id="4677251">List</span><span class="op" id="4677255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4677259"><a href="/text/template/exec.go.html#4676705">s</a></span><span class="op" id="4677260">.</span><span class="ident" id="4677261">pop</span><span class="op" id="4677264">(</span><span class="ident" id="4677265"><a href="/text/template/exec.go.html#4676915">mark</a></span><span class="op" id="4677269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4677272">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677275">switch</span>&nbsp;<span class="ident" id="4677282"><a href="/text/template/exec.go.html#4676799">val</a></span><span class="op" id="4677285">.</span><span class="ident" id="4677286">Kind</span><span class="op" id="4677290">(</span><span class="op" id="4677291">)</span>&nbsp;<span class="op" id="4677293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677296">case</span>&nbsp;<span class="ident" id="4677301"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4677308">.</span><span class="ident" id="4677309">Array</span><span class="op" id="4677314">,</span>&nbsp;<span class="ident" id="4677316"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4677323">.</span><span class="ident" id="4677324">Slice</span><span class="op" id="4677329">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677333">if</span>&nbsp;<span class="ident" id="4677336"><a href="/text/template/exec.go.html#4676799">val</a></span><span class="op" id="4677339">.</span><span class="ident" id="4677340">Len</span><span class="op" id="4677343">(</span><span class="op" id="4677344">)</span>&nbsp;<span class="op" id="4677346">==</span>&nbsp;<span class="num" id="4677349">0</span>&nbsp;<span class="op" id="4677351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677356">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4677364">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677368">for</span>&nbsp;<span class="ident" id="4677372">i</span>&nbsp;<span class="op" id="4677374">:=</span>&nbsp;<span class="num" id="4677377">0</span><span class="op" id="4677378">;</span>&nbsp;<span class="ident" id="4677380"><a href="/text/template/exec.go.html#4677372">i</a></span>&nbsp;<span class="op" id="4677382">&lt;</span>&nbsp;<span class="ident" id="4677384"><a href="/text/template/exec.go.html#4676799">val</a></span><span class="op" id="4677387">.</span><span class="ident" id="4677388">Len</span><span class="op" id="4677391">(</span><span class="op" id="4677392">)</span><span class="op" id="4677393">;</span>&nbsp;<span class="ident" id="4677395"><a href="/text/template/exec.go.html#4677372">i</a></span><span class="op" id="4677396">++</span>&nbsp;<span class="op" id="4677399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4677404"><a href="/text/template/exec.go.html#4676933">oneIteration</a></span><span class="op" id="4677416">(</span><span class="ident" id="4677417"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4677424">.</span><span class="ident" id="4677425">ValueOf</span><span class="op" id="4677432">(</span><span class="ident" id="4677433"><a href="/text/template/exec.go.html#4677372">i</a></span><span class="op" id="4677434">)</span><span class="op" id="4677435">,</span>&nbsp;<span class="ident" id="4677437"><a href="/text/template/exec.go.html#4676799">val</a></span><span class="op" id="4677440">.</span><span class="ident" id="4677441">Index</span><span class="op" id="4677446">(</span><span class="ident" id="4677447"><a href="/text/template/exec.go.html#4677372">i</a></span><span class="op" id="4677448">)</span><span class="op" id="4677449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4677453">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677457">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677465">case</span>&nbsp;<span class="ident" id="4677470"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4677477">.</span><span class="ident" id="4677478">Map</span><span class="op" id="4677481">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677485">if</span>&nbsp;<span class="ident" id="4677488"><a href="/text/template/exec.go.html#4676799">val</a></span><span class="op" id="4677491">.</span><span class="ident" id="4677492">Len</span><span class="op" id="4677495">(</span><span class="op" id="4677496">)</span>&nbsp;<span class="op" id="4677498">==</span>&nbsp;<span class="num" id="4677501">0</span>&nbsp;<span class="op" id="4677503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677508">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4677516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677520">for</span>&nbsp;<span class="ident" id="4677524">_</span><span class="op" id="4677525">,</span>&nbsp;<span class="ident" id="4677527">key</span>&nbsp;<span class="op" id="4677531">:=</span>&nbsp;<span class="keyword" id="4677534">range</span>&nbsp;<span class="ident" id="4677540"><a href="/text/template/exec.go.html#4695789">sortKeys</a></span><span class="op" id="4677548">(</span><span class="ident" id="4677549"><a href="/text/template/exec.go.html#4676799">val</a></span><span class="op" id="4677552">.</span><span class="ident" id="4677553">MapKeys</span><span class="op" id="4677560">(</span><span class="op" id="4677561">)</span><span class="op" id="4677562">)</span>&nbsp;<span class="op" id="4677564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4677569"><a href="/text/template/exec.go.html#4676933">oneIteration</a></span><span class="op" id="4677581">(</span><span class="ident" id="4677582"><a href="/text/template/exec.go.html#4677527">key</a></span><span class="op" id="4677585">,</span>&nbsp;<span class="ident" id="4677587"><a href="/text/template/exec.go.html#4676799">val</a></span><span class="op" id="4677590">.</span><span class="ident" id="4677591">MapIndex</span><span class="op" id="4677599">(</span><span class="ident" id="4677600"><a href="/text/template/exec.go.html#4677527">key</a></span><span class="op" id="4677603">)</span><span class="op" id="4677604">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4677608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677612">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677620">case</span>&nbsp;<span class="ident" id="4677625"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4677632">.</span><span class="ident" id="4677633">Chan</span><span class="op" id="4677637">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677641">if</span>&nbsp;<span class="ident" id="4677644"><a href="/text/template/exec.go.html#4676799">val</a></span><span class="op" id="4677647">.</span><span class="ident" id="4677648">IsNil</span><span class="op" id="4677653">(</span><span class="op" id="4677654">)</span>&nbsp;<span class="op" id="4677656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677661">break</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4677669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4677673">i</span>&nbsp;<span class="op" id="4677675">:=</span>&nbsp;<span class="num" id="4677678">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677682">for</span>&nbsp;<span class="op" id="4677686">;</span>&nbsp;<span class="op" id="4677688">;</span>&nbsp;<span class="ident" id="4677690"><a href="/text/template/exec.go.html#4677673">i</a></span><span class="op" id="4677691">++</span>&nbsp;<span class="op" id="4677694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4677699">elem</span><span class="op" id="4677703">,</span>&nbsp;<span class="ident" id="4677705">ok</span>&nbsp;<span class="op" id="4677708">:=</span>&nbsp;<span class="ident" id="4677711"><a href="/text/template/exec.go.html#4676799">val</a></span><span class="op" id="4677714">.</span><span class="ident" id="4677715">Recv</span><span class="op" id="4677719">(</span><span class="op" id="4677720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677725">if</span>&nbsp;<span class="op" id="4677728">!</span><span class="ident" id="4677729"><a href="/text/template/exec.go.html#4677705">ok</a></span>&nbsp;<span class="op" id="4677732">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677738">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4677747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4677752"><a href="/text/template/exec.go.html#4676933">oneIteration</a></span><span class="op" id="4677764">(</span><span class="ident" id="4677765"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4677772">.</span><span class="ident" id="4677773">ValueOf</span><span class="op" id="4677780">(</span><span class="ident" id="4677781"><a href="/text/template/exec.go.html#4677673">i</a></span><span class="op" id="4677782">)</span><span class="op" id="4677783">,</span>&nbsp;<span class="ident" id="4677785"><a href="/text/template/exec.go.html#4677699">elem</a></span><span class="op" id="4677789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4677793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677797">if</span>&nbsp;<span class="ident" id="4677800"><a href="/text/template/exec.go.html#4677673">i</a></span>&nbsp;<span class="op" id="4677802">==</span>&nbsp;<span class="num" id="4677805">0</span>&nbsp;<span class="op" id="4677807">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677812">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4677820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677824">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677832">case</span>&nbsp;<span class="ident" id="4677837"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4677844">.</span><span class="ident" id="4677845">Invalid</span><span class="op" id="4677852">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677856">break</span>&nbsp;<span class="comment" id="4677862">//&nbsp;An&nbsp;invalid&nbsp;value&nbsp;is&nbsp;likely&nbsp;a&nbsp;nil&nbsp;map,&nbsp;etc.&nbsp;and&nbsp;acts&nbsp;like&nbsp;an&nbsp;empty&nbsp;map.</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677937">default</span><span class="op" id="4677944">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4677948"><a href="/text/template/exec.go.html#4676705">s</a></span><span class="op" id="4677949">.</span><span class="ident" id="4677950">errorf</span><span class="op" id="4677956">(</span><span class="string" id="4677957">&#34;range&nbsp;can&#39;t&nbsp;iterate&nbsp;over&nbsp;%v&#34;</span><span class="op" id="4677986">,</span>&nbsp;<span class="ident" id="4677988"><a href="/text/template/exec.go.html#4676799">val</a></span><span class="op" id="4677991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4677994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4677997">if</span>&nbsp;<span class="ident" id="4678000"><a href="/text/template/exec.go.html#4676744">r</a></span><span class="op" id="4678001">.</span><span class="ident" id="4678002">ElseList</span>&nbsp;<span class="op" id="4678011">!=</span>&nbsp;<span class="ident" id="4678014">nil</span>&nbsp;<span class="op" id="4678018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4678022"><a href="/text/template/exec.go.html#4676705">s</a></span><span class="op" id="4678023">.</span><span class="ident" id="4678024">walk</span><span class="op" id="4678028">(</span><span class="ident" id="4678029"><a href="/text/template/exec.go.html#4676725">dot</a></span><span class="op" id="4678032">,</span>&nbsp;<span class="ident" id="4678034"><a href="/text/template/exec.go.html#4676744">r</a></span><span class="op" id="4678035">.</span><span class="ident" id="4678036">ElseList</span><span class="op" id="4678044">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4678047">}</span><br>
<span class="lineno"></span><span class="op" id="4678049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4678052">func</span>&nbsp;<span class="op" id="4678057">(</span><span class="ident" id="4678058">s</span>&nbsp;<span class="op" id="4678060">*</span><span class="ident" id="4678061"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4678066">)</span>&nbsp;<span class="ident" id="4678068">walkTemplate</span><span class="op" id="4678080">(</span><span class="ident" id="4678081">dot</span>&nbsp;<span class="ident" id="4678085"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4678092">.</span><span class="ident" id="4678093">Value</span><span class="op" id="4678098">,</span>&nbsp;<span class="ident" id="4678100">t</span>&nbsp;<span class="op" id="4678102">*</span><span class="ident" id="4678103"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4678108">.</span><span class="ident" id="4678109">TemplateNode</span><span class="op" id="4678121">)</span>&nbsp;<span class="op" id="4678123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4678126"><a href="/text/template/exec.go.html#4678058">s</a></span><span class="op" id="4678127">.</span><span class="ident" id="4678128">at</span><span class="op" id="4678130">(</span><span class="ident" id="4678131"><a href="/text/template/exec.go.html#4678100">t</a></span><span class="op" id="4678132">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4678135">tmpl</span>&nbsp;<span class="op" id="4678140">:=</span>&nbsp;<span class="ident" id="4678143"><a href="/text/template/exec.go.html#4678058">s</a></span><span class="op" id="4678144">.</span><span class="ident" id="4678145">tmpl</span><span class="op" id="4678149">.</span><span class="ident" id="4678150">tmpl</span><span class="op" id="4678154">[</span><span class="ident" id="4678155"><a href="/text/template/exec.go.html#4678100">t</a></span><span class="op" id="4678156">.</span><span class="ident" id="4678157">Name</span><span class="op" id="4678161">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4678164">if</span>&nbsp;<span class="ident" id="4678167"><a href="/text/template/exec.go.html#4678135">tmpl</a></span>&nbsp;<span class="op" id="4678172">==</span>&nbsp;<span class="ident" id="4678175">nil</span>&nbsp;<span class="op" id="4678179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4678183"><a href="/text/template/exec.go.html#4678058">s</a></span><span class="op" id="4678184">.</span><span class="ident" id="4678185">errorf</span><span class="op" id="4678191">(</span><span class="string" id="4678192">&#34;template&nbsp;%q&nbsp;not&nbsp;defined&#34;</span><span class="op" id="4678217">,</span>&nbsp;<span class="ident" id="4678219"><a href="/text/template/exec.go.html#4678100">t</a></span><span class="op" id="4678220">.</span><span class="ident" id="4678221">Name</span><span class="op" id="4678225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4678228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4678231">//&nbsp;Variables&nbsp;declared&nbsp;by&nbsp;the&nbsp;pipeline&nbsp;persist.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4678279"><a href="/text/template/exec.go.html#4678081">dot</a></span>&nbsp;<span class="op" id="4678283">=</span>&nbsp;<span class="ident" id="4678285"><a href="/text/template/exec.go.html#4678058">s</a></span><span class="op" id="4678286">.</span><span class="ident" id="4678287">evalPipeline</span><span class="op" id="4678299">(</span><span class="ident" id="4678300"><a href="/text/template/exec.go.html#4678081">dot</a></span><span class="op" id="4678303">,</span>&nbsp;<span class="ident" id="4678305"><a href="/text/template/exec.go.html#4678100">t</a></span><span class="op" id="4678306">.</span><span class="ident" id="4678307">Pipe</span><span class="op" id="4678311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4678314">newState</span>&nbsp;<span class="op" id="4678323">:=</span>&nbsp;<span class="op" id="4678326">*</span><span class="ident" id="4678327"><a href="/text/template/exec.go.html#4678058">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4678330"><a href="/text/template/exec.go.html#4678314">newState</a></span><span class="op" id="4678338">.</span><span class="ident" id="4678339">tmpl</span>&nbsp;<span class="op" id="4678344">=</span>&nbsp;<span class="ident" id="4678346"><a href="/text/template/exec.go.html#4678135">tmpl</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4678352">//&nbsp;No&nbsp;dynamic&nbsp;scoping:&nbsp;template&nbsp;invocations&nbsp;inherit&nbsp;no&nbsp;variables.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4678419"><a href="/text/template/exec.go.html#4678314">newState</a></span><span class="op" id="4678427">.</span><span class="ident" id="4678428">vars</span>&nbsp;<span class="op" id="4678433">=</span>&nbsp;<span class="op" id="4678435">[</span><span class="op" id="4678436">]</span><span class="ident" id="4678437"><a href="/text/template/exec.go.html#4670549">variable</a></span><span class="op" id="4678445">{</span><span class="op" id="4678446">{</span><span class="string" id="4678447">&#34;$&#34;</span><span class="op" id="4678450">,</span>&nbsp;<span class="ident" id="4678452"><a href="/text/template/exec.go.html#4678081">dot</a></span><span class="op" id="4678455">}</span><span class="op" id="4678456">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4678459"><a href="/text/template/exec.go.html#4678314">newState</a></span><span class="op" id="4678467">.</span><span class="ident" id="4678468">walk</span><span class="op" id="4678472">(</span><span class="ident" id="4678473"><a href="/text/template/exec.go.html#4678081">dot</a></span><span class="op" id="4678476">,</span>&nbsp;<span class="ident" id="4678478"><a href="/text/template/exec.go.html#4678135">tmpl</a></span><span class="op" id="4678482">.</span><span class="ident" id="4678483">Root</span><span class="op" id="4678487">)</span><br>
<span class="lineno"></span><span class="op" id="4678489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4678492">//&nbsp;Eval&nbsp;functions&nbsp;evaluate&nbsp;pipelines,&nbsp;commands,&nbsp;and&nbsp;their&nbsp;elements&nbsp;and&nbsp;extract</span><br>
<span class="lineno"></span><span class="comment" id="4678571">//&nbsp;values&nbsp;from&nbsp;the&nbsp;data&nbsp;structure&nbsp;by&nbsp;examining&nbsp;fields,&nbsp;calling&nbsp;methods,&nbsp;and&nbsp;so&nbsp;on.</span><br>
<span class="lineno">320</span><span class="comment" id="4678654">//&nbsp;The&nbsp;printing&nbsp;of&nbsp;those&nbsp;values&nbsp;happens&nbsp;only&nbsp;through&nbsp;walk&nbsp;functions.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4678724">//&nbsp;evalPipeline&nbsp;returns&nbsp;the&nbsp;value&nbsp;acquired&nbsp;by&nbsp;evaluating&nbsp;a&nbsp;pipeline.&nbsp;If&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4678800">//&nbsp;pipeline&nbsp;has&nbsp;a&nbsp;variable&nbsp;declaration,&nbsp;the&nbsp;variable&nbsp;will&nbsp;be&nbsp;pushed&nbsp;on&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4678875">//&nbsp;stack.&nbsp;Callers&nbsp;should&nbsp;therefore&nbsp;pop&nbsp;the&nbsp;stack&nbsp;after&nbsp;they&nbsp;are&nbsp;finished</span><br>
<span class="lineno">325</span><span class="comment" id="4678948">//&nbsp;executing&nbsp;commands&nbsp;depending&nbsp;on&nbsp;the&nbsp;pipeline&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="4679003">func</span>&nbsp;<span class="op" id="4679008">(</span><span class="ident" id="4679009">s</span>&nbsp;<span class="op" id="4679011">*</span><span class="ident" id="4679012"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4679017">)</span>&nbsp;<span class="ident" id="4679019">evalPipeline</span><span class="op" id="4679031">(</span><span class="ident" id="4679032">dot</span>&nbsp;<span class="ident" id="4679036"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4679043">.</span><span class="ident" id="4679044">Value</span><span class="op" id="4679049">,</span>&nbsp;<span class="ident" id="4679051">pipe</span>&nbsp;<span class="op" id="4679056">*</span><span class="ident" id="4679057"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4679062">.</span><span class="ident" id="4679063">PipeNode</span><span class="op" id="4679071">)</span>&nbsp;<span class="op" id="4679073">(</span><span class="ident" id="4679074">value</span>&nbsp;<span class="ident" id="4679080"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4679087">.</span><span class="ident" id="4679088">Value</span><span class="op" id="4679093">)</span>&nbsp;<span class="op" id="4679095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4679098">if</span>&nbsp;<span class="ident" id="4679101"><a href="/text/template/exec.go.html#4679051">pipe</a></span>&nbsp;<span class="op" id="4679106">==</span>&nbsp;<span class="ident" id="4679109">nil</span>&nbsp;<span class="op" id="4679113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4679117">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4679125">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4679128"><a href="/text/template/exec.go.html#4679009">s</a></span><span class="op" id="4679129">.</span><span class="ident" id="4679130">at</span><span class="op" id="4679132">(</span><span class="ident" id="4679133"><a href="/text/template/exec.go.html#4679051">pipe</a></span><span class="op" id="4679137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4679140">for</span>&nbsp;<span class="ident" id="4679144">_</span><span class="op" id="4679145">,</span>&nbsp;<span class="ident" id="4679147">cmd</span>&nbsp;<span class="op" id="4679151">:=</span>&nbsp;<span class="keyword" id="4679154">range</span>&nbsp;<span class="ident" id="4679160"><a href="/text/template/exec.go.html#4679051">pipe</a></span><span class="op" id="4679164">.</span><span class="ident" id="4679165">Cmds</span>&nbsp;<span class="op" id="4679170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4679174"><a href="/text/template/exec.go.html#4679074">value</a></span>&nbsp;<span class="op" id="4679180">=</span>&nbsp;<span class="ident" id="4679182"><a href="/text/template/exec.go.html#4679009">s</a></span><span class="op" id="4679183">.</span><span class="ident" id="4679184">evalCommand</span><span class="op" id="4679195">(</span><span class="ident" id="4679196"><a href="/text/template/exec.go.html#4679032">dot</a></span><span class="op" id="4679199">,</span>&nbsp;<span class="ident" id="4679201"><a href="/text/template/exec.go.html#4679147">cmd</a></span><span class="op" id="4679204">,</span>&nbsp;<span class="ident" id="4679206"><a href="/text/template/exec.go.html#4679074">value</a></span><span class="op" id="4679211">)</span>&nbsp;<span class="comment" id="4679213">//&nbsp;previous&nbsp;value&nbsp;is&nbsp;this&nbsp;one&#39;s&nbsp;final&nbsp;arg.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4679258">//&nbsp;If&nbsp;the&nbsp;object&nbsp;has&nbsp;type&nbsp;interface{},&nbsp;dig&nbsp;down&nbsp;one&nbsp;level&nbsp;to&nbsp;the&nbsp;thing&nbsp;inside.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4679339">if</span>&nbsp;<span class="ident" id="4679342"><a href="/text/template/exec.go.html#4679074">value</a></span><span class="op" id="4679347">.</span><span class="ident" id="4679348">Kind</span><span class="op" id="4679352">(</span><span class="op" id="4679353">)</span>&nbsp;<span class="op" id="4679355">==</span>&nbsp;<span class="ident" id="4679358"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4679365">.</span><span class="ident" id="4679366">Interface</span>&nbsp;<span class="op" id="4679376">&amp;&amp;</span>&nbsp;<span class="ident" id="4679379"><a href="/text/template/exec.go.html#4679074">value</a></span><span class="op" id="4679384">.</span><span class="ident" id="4679385">Type</span><span class="op" id="4679389">(</span><span class="op" id="4679390">)</span><span class="op" id="4679391">.</span><span class="ident" id="4679392">NumMethod</span><span class="op" id="4679401">(</span><span class="op" id="4679402">)</span>&nbsp;<span class="op" id="4679404">==</span>&nbsp;<span class="num" id="4679407">0</span>&nbsp;<span class="op" id="4679409">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4679414"><a href="/text/template/exec.go.html#4679074">value</a></span>&nbsp;<span class="op" id="4679420">=</span>&nbsp;<span class="ident" id="4679422"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4679429">.</span><span class="ident" id="4679430">ValueOf</span><span class="op" id="4679437">(</span><span class="ident" id="4679438"><a href="/text/template/exec.go.html#4679074">value</a></span><span class="op" id="4679443">.</span><span class="ident" id="4679444">Interface</span><span class="op" id="4679453">(</span><span class="op" id="4679454">)</span><span class="op" id="4679455">)</span>&nbsp;<span class="comment" id="4679457">//&nbsp;lovely!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4679470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4679473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4679476">for</span>&nbsp;<span class="ident" id="4679480">_</span><span class="op" id="4679481">,</span>&nbsp;<span class="ident" id="4679483">variable</span>&nbsp;<span class="op" id="4679492">:=</span>&nbsp;<span class="keyword" id="4679495">range</span>&nbsp;<span class="ident" id="4679501"><a href="/text/template/exec.go.html#4679051">pipe</a></span><span class="op" id="4679505">.</span><span class="ident" id="4679506">Decl</span>&nbsp;<span class="op" id="4679511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4679515"><a href="/text/template/exec.go.html#4679009">s</a></span><span class="op" id="4679516">.</span><span class="ident" id="4679517">push</span><span class="op" id="4679521">(</span><span class="ident" id="4679522"><a href="/text/template/exec.go.html#4679483">variable</a></span><span class="op" id="4679530">.</span><span class="ident" id="4679531">Ident</span><span class="op" id="4679536">[</span><span class="num" id="4679537">0</span><span class="op" id="4679538">]</span><span class="op" id="4679539">,</span>&nbsp;<span class="ident" id="4679541"><a href="/text/template/exec.go.html#4679074">value</a></span><span class="op" id="4679546">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4679549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4679552">return</span>&nbsp;<span class="ident" id="4679559"><a href="/text/template/exec.go.html#4679074">value</a></span><br>
<span class="lineno"></span><span class="op" id="4679565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4679568">func</span>&nbsp;<span class="op" id="4679573">(</span><span class="ident" id="4679574">s</span>&nbsp;<span class="op" id="4679576">*</span><span class="ident" id="4679577"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4679582">)</span>&nbsp;<span class="ident" id="4679584">notAFunction</span><span class="op" id="4679596">(</span><span class="ident" id="4679597">args</span>&nbsp;<span class="op" id="4679602">[</span><span class="op" id="4679603">]</span><span class="ident" id="4679604"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4679609">.</span><span class="ident" id="4679610">Node</span><span class="op" id="4679614">,</span>&nbsp;<span class="ident" id="4679616">final</span>&nbsp;<span class="ident" id="4679622"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4679629">.</span><span class="ident" id="4679630">Value</span><span class="op" id="4679635">)</span>&nbsp;<span class="op" id="4679637">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4679640">if</span>&nbsp;<span class="builtinfunc" id="4679643">len</span><span class="op" id="4679646">(</span><span class="ident" id="4679647"><a href="/text/template/exec.go.html#4679597">args</a></span><span class="op" id="4679651">)</span>&nbsp;<span class="op" id="4679653">&gt;</span>&nbsp;<span class="num" id="4679655">1</span>&nbsp;<span class="op" id="4679657">||</span>&nbsp;<span class="ident" id="4679660"><a href="/text/template/exec.go.html#4679616">final</a></span><span class="op" id="4679665">.</span><span class="ident" id="4679666">IsValid</span><span class="op" id="4679673">(</span><span class="op" id="4679674">)</span>&nbsp;<span class="op" id="4679676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4679680"><a href="/text/template/exec.go.html#4679574">s</a></span><span class="op" id="4679681">.</span><span class="ident" id="4679682">errorf</span><span class="op" id="4679688">(</span><span class="string" id="4679689">&#34;can&#39;t&nbsp;give&nbsp;argument&nbsp;to&nbsp;non-function&nbsp;%s&#34;</span><span class="op" id="4679729">,</span>&nbsp;<span class="ident" id="4679731"><a href="/text/template/exec.go.html#4679597">args</a></span><span class="op" id="4679735">[</span><span class="num" id="4679736">0</span><span class="op" id="4679737">]</span><span class="op" id="4679738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4679741">}</span><br>
<span class="lineno"></span><span class="op" id="4679743">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="4679746">func</span>&nbsp;<span class="op" id="4679751">(</span><span class="ident" id="4679752">s</span>&nbsp;<span class="op" id="4679754">*</span><span class="ident" id="4679755"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4679760">)</span>&nbsp;<span class="ident" id="4679762">evalCommand</span><span class="op" id="4679773">(</span><span class="ident" id="4679774">dot</span>&nbsp;<span class="ident" id="4679778"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4679785">.</span><span class="ident" id="4679786">Value</span><span class="op" id="4679791">,</span>&nbsp;<span class="ident" id="4679793">cmd</span>&nbsp;<span class="op" id="4679797">*</span><span class="ident" id="4679798"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4679803">.</span><span class="ident" id="4679804">CommandNode</span><span class="op" id="4679815">,</span>&nbsp;<span class="ident" id="4679817">final</span>&nbsp;<span class="ident" id="4679823"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4679830">.</span><span class="ident" id="4679831">Value</span><span class="op" id="4679836">)</span>&nbsp;<span class="ident" id="4679838"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4679845">.</span><span class="ident" id="4679846">Value</span>&nbsp;<span class="op" id="4679852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4679855">firstWord</span>&nbsp;<span class="op" id="4679865">:=</span>&nbsp;<span class="ident" id="4679868"><a href="/text/template/exec.go.html#4679793">cmd</a></span><span class="op" id="4679871">.</span><span class="ident" id="4679872">Args</span><span class="op" id="4679876">[</span><span class="num" id="4679877">0</span><span class="op" id="4679878">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4679881">switch</span>&nbsp;<span class="ident" id="4679888">n</span>&nbsp;<span class="op" id="4679890">:=</span>&nbsp;<span class="ident" id="4679893"><a href="/text/template/exec.go.html#4679855">firstWord</a></span><span class="op" id="4679902">.</span><span class="op" id="4679903">(</span><span class="keyword" id="4679904">type</span><span class="op" id="4679908">)</span>&nbsp;<span class="op" id="4679910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4679913">case</span>&nbsp;<span class="op" id="4679918">*</span><span class="ident" id="4679919"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4679924">.</span><span class="ident" id="4679925">FieldNode</span><span class="op" id="4679934">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4679938">return</span>&nbsp;<span class="ident" id="4679945"><a href="/text/template/exec.go.html#4679752">s</a></span><span class="op" id="4679946">.</span><span class="ident" id="4679947">evalFieldNode</span><span class="op" id="4679960">(</span><span class="ident" id="4679961"><a href="/text/template/exec.go.html#4679774">dot</a></span><span class="op" id="4679964">,</span>&nbsp;<span class="ident" id="4679966"><a href="/text/template/exec.go.html#4679888">n</a></span><span class="op" id="4679967">,</span>&nbsp;<span class="ident" id="4679969"><a href="/text/template/exec.go.html#4679793">cmd</a></span><span class="op" id="4679972">.</span><span class="ident" id="4679973">Args</span><span class="op" id="4679977">,</span>&nbsp;<span class="ident" id="4679979"><a href="/text/template/exec.go.html#4679817">final</a></span><span class="op" id="4679984">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4679987">case</span>&nbsp;<span class="op" id="4679992">*</span><span class="ident" id="4679993"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4679998">.</span><span class="ident" id="4679999">ChainNode</span><span class="op" id="4680008">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680012">return</span>&nbsp;<span class="ident" id="4680019"><a href="/text/template/exec.go.html#4679752">s</a></span><span class="op" id="4680020">.</span><span class="ident" id="4680021">evalChainNode</span><span class="op" id="4680034">(</span><span class="ident" id="4680035"><a href="/text/template/exec.go.html#4679774">dot</a></span><span class="op" id="4680038">,</span>&nbsp;<span class="ident" id="4680040"><a href="/text/template/exec.go.html#4679888">n</a></span><span class="op" id="4680041">,</span>&nbsp;<span class="ident" id="4680043"><a href="/text/template/exec.go.html#4679793">cmd</a></span><span class="op" id="4680046">.</span><span class="ident" id="4680047">Args</span><span class="op" id="4680051">,</span>&nbsp;<span class="ident" id="4680053"><a href="/text/template/exec.go.html#4679817">final</a></span><span class="op" id="4680058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680061">case</span>&nbsp;<span class="op" id="4680066">*</span><span class="ident" id="4680067"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4680072">.</span><span class="ident" id="4680073">IdentifierNode</span><span class="op" id="4680087">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4680091">//&nbsp;Must&nbsp;be&nbsp;a&nbsp;function.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680116">return</span>&nbsp;<span class="ident" id="4680123"><a href="/text/template/exec.go.html#4679752">s</a></span><span class="op" id="4680124">.</span><span class="ident" id="4680125">evalFunction</span><span class="op" id="4680137">(</span><span class="ident" id="4680138"><a href="/text/template/exec.go.html#4679774">dot</a></span><span class="op" id="4680141">,</span>&nbsp;<span class="ident" id="4680143"><a href="/text/template/exec.go.html#4679888">n</a></span><span class="op" id="4680144">,</span>&nbsp;<span class="ident" id="4680146"><a href="/text/template/exec.go.html#4679793">cmd</a></span><span class="op" id="4680149">,</span>&nbsp;<span class="ident" id="4680151"><a href="/text/template/exec.go.html#4679793">cmd</a></span><span class="op" id="4680154">.</span><span class="ident" id="4680155">Args</span><span class="op" id="4680159">,</span>&nbsp;<span class="ident" id="4680161"><a href="/text/template/exec.go.html#4679817">final</a></span><span class="op" id="4680166">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680169">case</span>&nbsp;<span class="op" id="4680174">*</span><span class="ident" id="4680175"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4680180">.</span><span class="ident" id="4680181">PipeNode</span><span class="op" id="4680189">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4680193">//&nbsp;Parenthesized&nbsp;pipeline.&nbsp;The&nbsp;arguments&nbsp;are&nbsp;all&nbsp;inside&nbsp;the&nbsp;pipeline;&nbsp;final&nbsp;is&nbsp;ignored.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680283">return</span>&nbsp;<span class="ident" id="4680290"><a href="/text/template/exec.go.html#4679752">s</a></span><span class="op" id="4680291">.</span><span class="ident" id="4680292">evalPipeline</span><span class="op" id="4680304">(</span><span class="ident" id="4680305"><a href="/text/template/exec.go.html#4679774">dot</a></span><span class="op" id="4680308">,</span>&nbsp;<span class="ident" id="4680310"><a href="/text/template/exec.go.html#4679888">n</a></span><span class="op" id="4680311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680314">case</span>&nbsp;<span class="op" id="4680319">*</span><span class="ident" id="4680320"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4680325">.</span><span class="ident" id="4680326">VariableNode</span><span class="op" id="4680338">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680342">return</span>&nbsp;<span class="ident" id="4680349"><a href="/text/template/exec.go.html#4679752">s</a></span><span class="op" id="4680350">.</span><span class="ident" id="4680351">evalVariableNode</span><span class="op" id="4680367">(</span><span class="ident" id="4680368"><a href="/text/template/exec.go.html#4679774">dot</a></span><span class="op" id="4680371">,</span>&nbsp;<span class="ident" id="4680373"><a href="/text/template/exec.go.html#4679888">n</a></span><span class="op" id="4680374">,</span>&nbsp;<span class="ident" id="4680376"><a href="/text/template/exec.go.html#4679793">cmd</a></span><span class="op" id="4680379">.</span><span class="ident" id="4680380">Args</span><span class="op" id="4680384">,</span>&nbsp;<span class="ident" id="4680386"><a href="/text/template/exec.go.html#4679817">final</a></span><span class="op" id="4680391">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4680394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4680397"><a href="/text/template/exec.go.html#4679752">s</a></span><span class="op" id="4680398">.</span><span class="ident" id="4680399">at</span><span class="op" id="4680401">(</span><span class="ident" id="4680402"><a href="/text/template/exec.go.html#4679855">firstWord</a></span><span class="op" id="4680411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4680414"><a href="/text/template/exec.go.html#4679752">s</a></span><span class="op" id="4680415">.</span><span class="ident" id="4680416">notAFunction</span><span class="op" id="4680428">(</span><span class="ident" id="4680429"><a href="/text/template/exec.go.html#4679793">cmd</a></span><span class="op" id="4680432">.</span><span class="ident" id="4680433">Args</span><span class="op" id="4680437">,</span>&nbsp;<span class="ident" id="4680439"><a href="/text/template/exec.go.html#4679817">final</a></span><span class="op" id="4680444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680447">switch</span>&nbsp;<span class="ident" id="4680454">word</span>&nbsp;<span class="op" id="4680459">:=</span>&nbsp;<span class="ident" id="4680462"><a href="/text/template/exec.go.html#4679855">firstWord</a></span><span class="op" id="4680471">.</span><span class="op" id="4680472">(</span><span class="keyword" id="4680473">type</span><span class="op" id="4680477">)</span>&nbsp;<span class="op" id="4680479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680482">case</span>&nbsp;<span class="op" id="4680487">*</span><span class="ident" id="4680488"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4680493">.</span><span class="ident" id="4680494">BoolNode</span><span class="op" id="4680502">:</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680506">return</span>&nbsp;<span class="ident" id="4680513"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4680520">.</span><span class="ident" id="4680521">ValueOf</span><span class="op" id="4680528">(</span><span class="ident" id="4680529"><a href="/text/template/exec.go.html#4680454">word</a></span><span class="op" id="4680533">.</span><span class="ident" id="4680534">True</span><span class="op" id="4680538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680541">case</span>&nbsp;<span class="op" id="4680546">*</span><span class="ident" id="4680547"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4680552">.</span><span class="ident" id="4680553">DotNode</span><span class="op" id="4680560">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680564">return</span>&nbsp;<span class="ident" id="4680571"><a href="/text/template/exec.go.html#4679774">dot</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680576">case</span>&nbsp;<span class="op" id="4680581">*</span><span class="ident" id="4680582"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4680587">.</span><span class="ident" id="4680588">NilNode</span><span class="op" id="4680595">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4680599"><a href="/text/template/exec.go.html#4679752">s</a></span><span class="op" id="4680600">.</span><span class="ident" id="4680601">errorf</span><span class="op" id="4680607">(</span><span class="string" id="4680608">&#34;nil&nbsp;is&nbsp;not&nbsp;a&nbsp;command&#34;</span><span class="op" id="4680630">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680633">case</span>&nbsp;<span class="op" id="4680638">*</span><span class="ident" id="4680639"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4680644">.</span><span class="ident" id="4680645">NumberNode</span><span class="op" id="4680655">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680659">return</span>&nbsp;<span class="ident" id="4680666"><a href="/text/template/exec.go.html#4679752">s</a></span><span class="op" id="4680667">.</span><span class="ident" id="4680668">idealConstant</span><span class="op" id="4680681">(</span><span class="ident" id="4680682"><a href="/text/template/exec.go.html#4680454">word</a></span><span class="op" id="4680686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680689">case</span>&nbsp;<span class="op" id="4680694">*</span><span class="ident" id="4680695"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4680700">.</span><span class="ident" id="4680701">StringNode</span><span class="op" id="4680711">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4680715">return</span>&nbsp;<span class="ident" id="4680722"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4680729">.</span><span class="ident" id="4680730">ValueOf</span><span class="op" id="4680737">(</span><span class="ident" id="4680738"><a href="/text/template/exec.go.html#4680454">word</a></span><span class="op" id="4680742">.</span><span class="ident" id="4680743">Text</span><span class="op" id="4680747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4680750">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4680753"><a href="/text/template/exec.go.html#4679752">s</a></span><span class="op" id="4680754">.</span><span class="ident" id="4680755">errorf</span><span class="op" id="4680761">(</span><span class="string" id="4680762">&#34;can&#39;t&nbsp;evaluate&nbsp;command&nbsp;%q&#34;</span><span class="op" id="4680789">,</span>&nbsp;<span class="ident" id="4680791"><a href="/text/template/exec.go.html#4679855">firstWord</a></span><span class="op" id="4680800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4680803">panic</span><span class="op" id="4680808">(</span><span class="string" id="4680809">&#34;not&nbsp;reached&#34;</span><span class="op" id="4680822">)</span><br>
<span class="lineno"></span><span class="op" id="4680824">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4680827">//&nbsp;idealConstant&nbsp;is&nbsp;called&nbsp;to&nbsp;return&nbsp;the&nbsp;value&nbsp;of&nbsp;a&nbsp;number&nbsp;in&nbsp;a&nbsp;context&nbsp;where</span><br>
<span class="lineno">385</span><span class="comment" id="4680905">//&nbsp;we&nbsp;don&#39;t&nbsp;know&nbsp;the&nbsp;type.&nbsp;In&nbsp;that&nbsp;case,&nbsp;the&nbsp;syntax&nbsp;of&nbsp;the&nbsp;number&nbsp;tells&nbsp;us</span><br>
<span class="lineno"></span><span class="comment" id="4680980">//&nbsp;its&nbsp;type,&nbsp;and&nbsp;we&nbsp;use&nbsp;Go&nbsp;rules&nbsp;to&nbsp;resolve.&nbsp;&nbsp;Note&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;thing&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="4681057">//&nbsp;a&nbsp;uint&nbsp;ideal&nbsp;constant&nbsp;in&nbsp;this&nbsp;situation&nbsp;-&nbsp;the&nbsp;value&nbsp;must&nbsp;be&nbsp;of&nbsp;int&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4681133">func</span>&nbsp;<span class="op" id="4681138">(</span><span class="ident" id="4681139">s</span>&nbsp;<span class="op" id="4681141">*</span><span class="ident" id="4681142"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4681147">)</span>&nbsp;<span class="ident" id="4681149">idealConstant</span><span class="op" id="4681162">(</span><span class="ident" id="4681163">constant</span>&nbsp;<span class="op" id="4681172">*</span><span class="ident" id="4681173"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4681178">.</span><span class="ident" id="4681179">NumberNode</span><span class="op" id="4681189">)</span>&nbsp;<span class="ident" id="4681191"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4681198">.</span><span class="ident" id="4681199">Value</span>&nbsp;<span class="op" id="4681205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4681208">//&nbsp;These&nbsp;are&nbsp;ideal&nbsp;constants&nbsp;but&nbsp;we&nbsp;don&#39;t&nbsp;know&nbsp;the&nbsp;type</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4681265">//&nbsp;and&nbsp;we&nbsp;have&nbsp;no&nbsp;context.&nbsp;&nbsp;(If&nbsp;it&nbsp;was&nbsp;a&nbsp;method&nbsp;argument,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4681324">//&nbsp;we&#39;d&nbsp;know&nbsp;what&nbsp;we&nbsp;need.)&nbsp;The&nbsp;syntax&nbsp;guides&nbsp;us&nbsp;to&nbsp;some&nbsp;extent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4681390"><a href="/text/template/exec.go.html#4681139">s</a></span><span class="op" id="4681391">.</span><span class="ident" id="4681392">at</span><span class="op" id="4681394">(</span><span class="ident" id="4681395"><a href="/text/template/exec.go.html#4681163">constant</a></span><span class="op" id="4681403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4681406">switch</span>&nbsp;<span class="op" id="4681413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4681416">case</span>&nbsp;<span class="ident" id="4681421"><a href="/text/template/exec.go.html#4681163">constant</a></span><span class="op" id="4681429">.</span><span class="ident" id="4681430">IsComplex</span><span class="op" id="4681439">:</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4681443">return</span>&nbsp;<span class="ident" id="4681450"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4681457">.</span><span class="ident" id="4681458">ValueOf</span><span class="op" id="4681465">(</span><span class="ident" id="4681466"><a href="/text/template/exec.go.html#4681163">constant</a></span><span class="op" id="4681474">.</span><span class="ident" id="4681475">Complex128</span><span class="op" id="4681485">)</span>&nbsp;<span class="comment" id="4681487">//&nbsp;incontrovertible.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4681509">case</span>&nbsp;<span class="ident" id="4681514"><a href="/text/template/exec.go.html#4681163">constant</a></span><span class="op" id="4681522">.</span><span class="ident" id="4681523">IsFloat</span>&nbsp;<span class="op" id="4681531">&amp;&amp;</span>&nbsp;<span class="op" id="4681534">!</span><span class="ident" id="4681535"><a href="/text/template/exec.go.html#4681910">isHexConstant</a></span><span class="op" id="4681548">(</span><span class="ident" id="4681549"><a href="/text/template/exec.go.html#4681163">constant</a></span><span class="op" id="4681557">.</span><span class="ident" id="4681558">Text</span><span class="op" id="4681562">)</span>&nbsp;<span class="op" id="4681564">&amp;&amp;</span>&nbsp;<span class="ident" id="4681567"><a href="/text/template/exec.go.html#4670126">strings</a></span><span class="op" id="4681574">.</span><span class="ident" id="4681575">IndexAny</span><span class="op" id="4681583">(</span><span class="ident" id="4681584"><a href="/text/template/exec.go.html#4681163">constant</a></span><span class="op" id="4681592">.</span><span class="ident" id="4681593">Text</span><span class="op" id="4681597">,</span>&nbsp;<span class="string" id="4681599">&#34;.eE&#34;</span><span class="op" id="4681604">)</span>&nbsp;<span class="op" id="4681606">&gt;=</span>&nbsp;<span class="num" id="4681609">0</span><span class="op" id="4681610">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4681614">return</span>&nbsp;<span class="ident" id="4681621"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4681628">.</span><span class="ident" id="4681629">ValueOf</span><span class="op" id="4681636">(</span><span class="ident" id="4681637"><a href="/text/template/exec.go.html#4681163">constant</a></span><span class="op" id="4681645">.</span><span class="ident" id="4681646">Float64</span><span class="op" id="4681653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4681656">case</span>&nbsp;<span class="ident" id="4681661"><a href="/text/template/exec.go.html#4681163">constant</a></span><span class="op" id="4681669">.</span><span class="ident" id="4681670">IsInt</span><span class="op" id="4681675">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4681679">n</span>&nbsp;<span class="op" id="4681681">:=</span>&nbsp;<span class="builtintype" id="4681684">int</span><span class="op" id="4681687">(</span><span class="ident" id="4681688"><a href="/text/template/exec.go.html#4681163">constant</a></span><span class="op" id="4681696">.</span><span class="ident" id="4681697">Int64</span><span class="op" id="4681702">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4681706">if</span>&nbsp;<span class="ident" id="4681709">int64</span><span class="op" id="4681714">(</span><span class="ident" id="4681715"><a href="/text/template/exec.go.html#4681679">n</a></span><span class="op" id="4681716">)</span>&nbsp;<span class="op" id="4681718">!=</span>&nbsp;<span class="ident" id="4681721"><a href="/text/template/exec.go.html#4681163">constant</a></span><span class="op" id="4681729">.</span><span class="ident" id="4681730">Int64</span>&nbsp;<span class="op" id="4681736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4681741"><a href="/text/template/exec.go.html#4681139">s</a></span><span class="op" id="4681742">.</span><span class="ident" id="4681743">errorf</span><span class="op" id="4681749">(</span><span class="string" id="4681750">&#34;%s&nbsp;overflows&nbsp;int&#34;</span><span class="op" id="4681768">,</span>&nbsp;<span class="ident" id="4681770"><a href="/text/template/exec.go.html#4681163">constant</a></span><span class="op" id="4681778">.</span><span class="ident" id="4681779">Text</span><span class="op" id="4681783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4681787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4681791">return</span>&nbsp;<span class="ident" id="4681798"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4681805">.</span><span class="ident" id="4681806">ValueOf</span><span class="op" id="4681813">(</span><span class="ident" id="4681814"><a href="/text/template/exec.go.html#4681679">n</a></span><span class="op" id="4681815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4681818">case</span>&nbsp;<span class="ident" id="4681823"><a href="/text/template/exec.go.html#4681163">constant</a></span><span class="op" id="4681831">.</span><span class="ident" id="4681832">IsUint</span><span class="op" id="4681838">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4681842"><a href="/text/template/exec.go.html#4681139">s</a></span><span class="op" id="4681843">.</span><span class="ident" id="4681844">errorf</span><span class="op" id="4681850">(</span><span class="string" id="4681851">&#34;%s&nbsp;overflows&nbsp;int&#34;</span><span class="op" id="4681869">,</span>&nbsp;<span class="ident" id="4681871"><a href="/text/template/exec.go.html#4681163">constant</a></span><span class="op" id="4681879">.</span><span class="ident" id="4681880">Text</span><span class="op" id="4681884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4681887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4681890">return</span>&nbsp;<span class="ident" id="4681897"><a href="/text/template/exec.go.html#4671411">zero</a></span><br>
<span class="lineno"></span><span class="op" id="4681902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="4681905">func</span>&nbsp;<span class="ident" id="4681910">isHexConstant</span><span class="op" id="4681923">(</span><span class="ident" id="4681924">s</span>&nbsp;<span class="builtintype" id="4681926">string</span><span class="op" id="4681932">)</span>&nbsp;<span class="builtintype" id="4681934">bool</span>&nbsp;<span class="op" id="4681939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4681942">return</span>&nbsp;<span class="builtinfunc" id="4681949">len</span><span class="op" id="4681952">(</span><span class="ident" id="4681953"><a href="/text/template/exec.go.html#4681924">s</a></span><span class="op" id="4681954">)</span>&nbsp;<span class="op" id="4681956">&gt;</span>&nbsp;<span class="num" id="4681958">2</span>&nbsp;<span class="op" id="4681960">&amp;&amp;</span>&nbsp;<span class="ident" id="4681963"><a href="/text/template/exec.go.html#4681924">s</a></span><span class="op" id="4681964">[</span><span class="num" id="4681965">0</span><span class="op" id="4681966">]</span>&nbsp;<span class="op" id="4681968">==</span>&nbsp;<span class="string" id="4681971">&#39;0&#39;</span>&nbsp;<span class="op" id="4681975">&amp;&amp;</span>&nbsp;<span class="op" id="4681978">(</span><span class="ident" id="4681979"><a href="/text/template/exec.go.html#4681924">s</a></span><span class="op" id="4681980">[</span><span class="num" id="4681981">1</span><span class="op" id="4681982">]</span>&nbsp;<span class="op" id="4681984">==</span>&nbsp;<span class="string" id="4681987">&#39;x&#39;</span>&nbsp;<span class="op" id="4681991">||</span>&nbsp;<span class="ident" id="4681994"><a href="/text/template/exec.go.html#4681924">s</a></span><span class="op" id="4681995">[</span><span class="num" id="4681996">1</span><span class="op" id="4681997">]</span>&nbsp;<span class="op" id="4681999">==</span>&nbsp;<span class="string" id="4682002">&#39;X&#39;</span><span class="op" id="4682005">)</span><br>
<span class="lineno"></span><span class="op" id="4682007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4682010">func</span>&nbsp;<span class="op" id="4682015">(</span><span class="ident" id="4682016">s</span>&nbsp;<span class="op" id="4682018">*</span><span class="ident" id="4682019"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4682024">)</span>&nbsp;<span class="ident" id="4682026">evalFieldNode</span><span class="op" id="4682039">(</span><span class="ident" id="4682040">dot</span>&nbsp;<span class="ident" id="4682044"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4682051">.</span><span class="ident" id="4682052">Value</span><span class="op" id="4682057">,</span>&nbsp;<span class="ident" id="4682059">field</span>&nbsp;<span class="op" id="4682065">*</span><span class="ident" id="4682066"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4682071">.</span><span class="ident" id="4682072">FieldNode</span><span class="op" id="4682081">,</span>&nbsp;<span class="ident" id="4682083">args</span>&nbsp;<span class="op" id="4682088">[</span><span class="op" id="4682089">]</span><span class="ident" id="4682090"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4682095">.</span><span class="ident" id="4682096">Node</span><span class="op" id="4682100">,</span>&nbsp;<span class="ident" id="4682102">final</span>&nbsp;<span class="ident" id="4682108"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4682115">.</span><span class="ident" id="4682116">Value</span><span class="op" id="4682121">)</span>&nbsp;<span class="ident" id="4682123"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4682130">.</span><span class="ident" id="4682131">Value</span>&nbsp;<span class="op" id="4682137">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4682140"><a href="/text/template/exec.go.html#4682016">s</a></span><span class="op" id="4682141">.</span><span class="ident" id="4682142">at</span><span class="op" id="4682144">(</span><span class="ident" id="4682145"><a href="/text/template/exec.go.html#4682059">field</a></span><span class="op" id="4682150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4682153">return</span>&nbsp;<span class="ident" id="4682160"><a href="/text/template/exec.go.html#4682016">s</a></span><span class="op" id="4682161">.</span><span class="ident" id="4682162">evalFieldChain</span><span class="op" id="4682176">(</span><span class="ident" id="4682177"><a href="/text/template/exec.go.html#4682040">dot</a></span><span class="op" id="4682180">,</span>&nbsp;<span class="ident" id="4682182"><a href="/text/template/exec.go.html#4682040">dot</a></span><span class="op" id="4682185">,</span>&nbsp;<span class="ident" id="4682187"><a href="/text/template/exec.go.html#4682059">field</a></span><span class="op" id="4682192">,</span>&nbsp;<span class="ident" id="4682194"><a href="/text/template/exec.go.html#4682059">field</a></span><span class="op" id="4682199">.</span><span class="ident" id="4682200">Ident</span><span class="op" id="4682205">,</span>&nbsp;<span class="ident" id="4682207"><a href="/text/template/exec.go.html#4682083">args</a></span><span class="op" id="4682211">,</span>&nbsp;<span class="ident" id="4682213"><a href="/text/template/exec.go.html#4682102">final</a></span><span class="op" id="4682218">)</span><br>
<span class="lineno"></span><span class="op" id="4682220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4682223">func</span>&nbsp;<span class="op" id="4682228">(</span><span class="ident" id="4682229">s</span>&nbsp;<span class="op" id="4682231">*</span><span class="ident" id="4682232"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4682237">)</span>&nbsp;<span class="ident" id="4682239">evalChainNode</span><span class="op" id="4682252">(</span><span class="ident" id="4682253">dot</span>&nbsp;<span class="ident" id="4682257"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4682264">.</span><span class="ident" id="4682265">Value</span><span class="op" id="4682270">,</span>&nbsp;<span class="ident" id="4682272">chain</span>&nbsp;<span class="op" id="4682278">*</span><span class="ident" id="4682279"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4682284">.</span><span class="ident" id="4682285">ChainNode</span><span class="op" id="4682294">,</span>&nbsp;<span class="ident" id="4682296">args</span>&nbsp;<span class="op" id="4682301">[</span><span class="op" id="4682302">]</span><span class="ident" id="4682303"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4682308">.</span><span class="ident" id="4682309">Node</span><span class="op" id="4682313">,</span>&nbsp;<span class="ident" id="4682315">final</span>&nbsp;<span class="ident" id="4682321"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4682328">.</span><span class="ident" id="4682329">Value</span><span class="op" id="4682334">)</span>&nbsp;<span class="ident" id="4682336"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4682343">.</span><span class="ident" id="4682344">Value</span>&nbsp;<span class="op" id="4682350">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4682353"><a href="/text/template/exec.go.html#4682229">s</a></span><span class="op" id="4682354">.</span><span class="ident" id="4682355">at</span><span class="op" id="4682357">(</span><span class="ident" id="4682358"><a href="/text/template/exec.go.html#4682272">chain</a></span><span class="op" id="4682363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4682366">//&nbsp;(pipe).Field1.Field2&nbsp;has&nbsp;pipe&nbsp;as&nbsp;.Node,&nbsp;fields&nbsp;as&nbsp;.Field.&nbsp;Eval&nbsp;the&nbsp;pipeline,&nbsp;then&nbsp;the&nbsp;fields.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4682464">pipe</span>&nbsp;<span class="op" id="4682469">:=</span>&nbsp;<span class="ident" id="4682472"><a href="/text/template/exec.go.html#4682229">s</a></span><span class="op" id="4682473">.</span><span class="ident" id="4682474">evalArg</span><span class="op" id="4682481">(</span><span class="ident" id="4682482"><a href="/text/template/exec.go.html#4682253">dot</a></span><span class="op" id="4682485">,</span>&nbsp;<span class="ident" id="4682487">nil</span><span class="op" id="4682490">,</span>&nbsp;<span class="ident" id="4682492"><a href="/text/template/exec.go.html#4682272">chain</a></span><span class="op" id="4682497">.</span><span class="ident" id="4682498">Node</span><span class="op" id="4682502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4682505">if</span>&nbsp;<span class="builtinfunc" id="4682508">len</span><span class="op" id="4682511">(</span><span class="ident" id="4682512"><a href="/text/template/exec.go.html#4682272">chain</a></span><span class="op" id="4682517">.</span><span class="ident" id="4682518">Field</span><span class="op" id="4682523">)</span>&nbsp;<span class="op" id="4682525">==</span>&nbsp;<span class="num" id="4682528">0</span>&nbsp;<span class="op" id="4682530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4682534"><a href="/text/template/exec.go.html#4682229">s</a></span><span class="op" id="4682535">.</span><span class="ident" id="4682536">errorf</span><span class="op" id="4682542">(</span><span class="string" id="4682543">&#34;internal&nbsp;error:&nbsp;no&nbsp;fields&nbsp;in&nbsp;evalChainNode&#34;</span><span class="op" id="4682587">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4682590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4682593">return</span>&nbsp;<span class="ident" id="4682600"><a href="/text/template/exec.go.html#4682229">s</a></span><span class="op" id="4682601">.</span><span class="ident" id="4682602">evalFieldChain</span><span class="op" id="4682616">(</span><span class="ident" id="4682617"><a href="/text/template/exec.go.html#4682253">dot</a></span><span class="op" id="4682620">,</span>&nbsp;<span class="ident" id="4682622"><a href="/text/template/exec.go.html#4682464">pipe</a></span><span class="op" id="4682626">,</span>&nbsp;<span class="ident" id="4682628"><a href="/text/template/exec.go.html#4682272">chain</a></span><span class="op" id="4682633">,</span>&nbsp;<span class="ident" id="4682635"><a href="/text/template/exec.go.html#4682272">chain</a></span><span class="op" id="4682640">.</span><span class="ident" id="4682641">Field</span><span class="op" id="4682646">,</span>&nbsp;<span class="ident" id="4682648"><a href="/text/template/exec.go.html#4682296">args</a></span><span class="op" id="4682652">,</span>&nbsp;<span class="ident" id="4682654"><a href="/text/template/exec.go.html#4682315">final</a></span><span class="op" id="4682659">)</span><br>
<span class="lineno"></span><span class="op" id="4682661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4682664">func</span>&nbsp;<span class="op" id="4682669">(</span><span class="ident" id="4682670">s</span>&nbsp;<span class="op" id="4682672">*</span><span class="ident" id="4682673"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4682678">)</span>&nbsp;<span class="ident" id="4682680">evalVariableNode</span><span class="op" id="4682696">(</span><span class="ident" id="4682697">dot</span>&nbsp;<span class="ident" id="4682701"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4682708">.</span><span class="ident" id="4682709">Value</span><span class="op" id="4682714">,</span>&nbsp;<span class="ident" id="4682716">variable</span>&nbsp;<span class="op" id="4682725">*</span><span class="ident" id="4682726"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4682731">.</span><span class="ident" id="4682732">VariableNode</span><span class="op" id="4682744">,</span>&nbsp;<span class="ident" id="4682746">args</span>&nbsp;<span class="op" id="4682751">[</span><span class="op" id="4682752">]</span><span class="ident" id="4682753"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4682758">.</span><span class="ident" id="4682759">Node</span><span class="op" id="4682763">,</span>&nbsp;<span class="ident" id="4682765">final</span>&nbsp;<span class="ident" id="4682771"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4682778">.</span><span class="ident" id="4682779">Value</span><span class="op" id="4682784">)</span>&nbsp;<span class="ident" id="4682786"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4682793">.</span><span class="ident" id="4682794">Value</span>&nbsp;<span class="op" id="4682800">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4682803">//&nbsp;$x.Field&nbsp;has&nbsp;$x&nbsp;as&nbsp;the&nbsp;first&nbsp;ident,&nbsp;Field&nbsp;as&nbsp;the&nbsp;second.&nbsp;Eval&nbsp;the&nbsp;var,&nbsp;then&nbsp;the&nbsp;fields.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4682895"><a href="/text/template/exec.go.html#4682670">s</a></span><span class="op" id="4682896">.</span><span class="ident" id="4682897">at</span><span class="op" id="4682899">(</span><span class="ident" id="4682900"><a href="/text/template/exec.go.html#4682716">variable</a></span><span class="op" id="4682908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4682911">value</span>&nbsp;<span class="op" id="4682917">:=</span>&nbsp;<span class="ident" id="4682920"><a href="/text/template/exec.go.html#4682670">s</a></span><span class="op" id="4682921">.</span><span class="ident" id="4682922">varValue</span><span class="op" id="4682930">(</span><span class="ident" id="4682931"><a href="/text/template/exec.go.html#4682716">variable</a></span><span class="op" id="4682939">.</span><span class="ident" id="4682940">Ident</span><span class="op" id="4682945">[</span><span class="num" id="4682946">0</span><span class="op" id="4682947">]</span><span class="op" id="4682948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4682951">if</span>&nbsp;<span class="builtinfunc" id="4682954">len</span><span class="op" id="4682957">(</span><span class="ident" id="4682958"><a href="/text/template/exec.go.html#4682716">variable</a></span><span class="op" id="4682966">.</span><span class="ident" id="4682967">Ident</span><span class="op" id="4682972">)</span>&nbsp;<span class="op" id="4682974">==</span>&nbsp;<span class="num" id="4682977">1</span>&nbsp;<span class="op" id="4682979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4682983"><a href="/text/template/exec.go.html#4682670">s</a></span><span class="op" id="4682984">.</span><span class="ident" id="4682985">notAFunction</span><span class="op" id="4682997">(</span><span class="ident" id="4682998"><a href="/text/template/exec.go.html#4682746">args</a></span><span class="op" id="4683002">,</span>&nbsp;<span class="ident" id="4683004"><a href="/text/template/exec.go.html#4682765">final</a></span><span class="op" id="4683009">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4683013">return</span>&nbsp;<span class="ident" id="4683020"><a href="/text/template/exec.go.html#4682911">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4683027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4683030">return</span>&nbsp;<span class="ident" id="4683037"><a href="/text/template/exec.go.html#4682670">s</a></span><span class="op" id="4683038">.</span><span class="ident" id="4683039">evalFieldChain</span><span class="op" id="4683053">(</span><span class="ident" id="4683054"><a href="/text/template/exec.go.html#4682697">dot</a></span><span class="op" id="4683057">,</span>&nbsp;<span class="ident" id="4683059"><a href="/text/template/exec.go.html#4682911">value</a></span><span class="op" id="4683064">,</span>&nbsp;<span class="ident" id="4683066"><a href="/text/template/exec.go.html#4682716">variable</a></span><span class="op" id="4683074">,</span>&nbsp;<span class="ident" id="4683076"><a href="/text/template/exec.go.html#4682716">variable</a></span><span class="op" id="4683084">.</span><span class="ident" id="4683085">Ident</span><span class="op" id="4683090">[</span><span class="num" id="4683091">1</span><span class="op" id="4683092">:</span><span class="op" id="4683093">]</span><span class="op" id="4683094">,</span>&nbsp;<span class="ident" id="4683096"><a href="/text/template/exec.go.html#4682746">args</a></span><span class="op" id="4683100">,</span>&nbsp;<span class="ident" id="4683102"><a href="/text/template/exec.go.html#4682765">final</a></span><span class="op" id="4683107">)</span><br>
<span class="lineno"></span><span class="op" id="4683109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">440</span><span class="comment" id="4683112">//&nbsp;evalFieldChain&nbsp;evaluates&nbsp;.X.Y.Z&nbsp;possibly&nbsp;followed&nbsp;by&nbsp;arguments.</span><br>
<span class="lineno"></span><span class="comment" id="4683179">//&nbsp;dot&nbsp;is&nbsp;the&nbsp;environment&nbsp;in&nbsp;which&nbsp;to&nbsp;evaluate&nbsp;arguments,&nbsp;while</span><br>
<span class="lineno"></span><span class="comment" id="4683243">//&nbsp;receiver&nbsp;is&nbsp;the&nbsp;value&nbsp;being&nbsp;walked&nbsp;along&nbsp;the&nbsp;chain.</span><br>
<span class="lineno"></span><span class="keyword" id="4683298">func</span>&nbsp;<span class="op" id="4683303">(</span><span class="ident" id="4683304">s</span>&nbsp;<span class="op" id="4683306">*</span><span class="ident" id="4683307"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4683312">)</span>&nbsp;<span class="ident" id="4683314">evalFieldChain</span><span class="op" id="4683328">(</span><span class="ident" id="4683329">dot</span><span class="op" id="4683332">,</span>&nbsp;<span class="ident" id="4683334">receiver</span>&nbsp;<span class="ident" id="4683343"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4683350">.</span><span class="ident" id="4683351">Value</span><span class="op" id="4683356">,</span>&nbsp;<span class="ident" id="4683358">node</span>&nbsp;<span class="ident" id="4683363"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4683368">.</span><span class="ident" id="4683369">Node</span><span class="op" id="4683373">,</span>&nbsp;<span class="ident" id="4683375">ident</span>&nbsp;<span class="op" id="4683381">[</span><span class="op" id="4683382">]</span><span class="builtintype" id="4683383">string</span><span class="op" id="4683389">,</span>&nbsp;<span class="ident" id="4683391">args</span>&nbsp;<span class="op" id="4683396">[</span><span class="op" id="4683397">]</span><span class="ident" id="4683398"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4683403">.</span><span class="ident" id="4683404">Node</span><span class="op" id="4683408">,</span>&nbsp;<span class="ident" id="4683410">final</span>&nbsp;<span class="ident" id="4683416"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4683423">.</span><span class="ident" id="4683424">Value</span><span class="op" id="4683429">)</span>&nbsp;<span class="ident" id="4683431"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4683438">.</span><span class="ident" id="4683439">Value</span>&nbsp;<span class="op" id="4683445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4683448">n</span>&nbsp;<span class="op" id="4683450">:=</span>&nbsp;<span class="builtinfunc" id="4683453">len</span><span class="op" id="4683456">(</span><span class="ident" id="4683457"><a href="/text/template/exec.go.html#4683375">ident</a></span><span class="op" id="4683462">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4683465">for</span>&nbsp;<span class="ident" id="4683469">i</span>&nbsp;<span class="op" id="4683471">:=</span>&nbsp;<span class="num" id="4683474">0</span><span class="op" id="4683475">;</span>&nbsp;<span class="ident" id="4683477"><a href="/text/template/exec.go.html#4683469">i</a></span>&nbsp;<span class="op" id="4683479">&lt;</span>&nbsp;<span class="ident" id="4683481"><a href="/text/template/exec.go.html#4683448">n</a></span><span class="op" id="4683482">-</span><span class="num" id="4683483">1</span><span class="op" id="4683484">;</span>&nbsp;<span class="ident" id="4683486"><a href="/text/template/exec.go.html#4683469">i</a></span><span class="op" id="4683487">++</span>&nbsp;<span class="op" id="4683490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4683494"><a href="/text/template/exec.go.html#4683334">receiver</a></span>&nbsp;<span class="op" id="4683503">=</span>&nbsp;<span class="ident" id="4683505"><a href="/text/template/exec.go.html#4683304">s</a></span><span class="op" id="4683506">.</span><span class="ident" id="4683507">evalField</span><span class="op" id="4683516">(</span><span class="ident" id="4683517"><a href="/text/template/exec.go.html#4683329">dot</a></span><span class="op" id="4683520">,</span>&nbsp;<span class="ident" id="4683522"><a href="/text/template/exec.go.html#4683375">ident</a></span><span class="op" id="4683527">[</span><span class="ident" id="4683528"><a href="/text/template/exec.go.html#4683469">i</a></span><span class="op" id="4683529">]</span><span class="op" id="4683530">,</span>&nbsp;<span class="ident" id="4683532"><a href="/text/template/exec.go.html#4683358">node</a></span><span class="op" id="4683536">,</span>&nbsp;<span class="ident" id="4683538">nil</span><span class="op" id="4683541">,</span>&nbsp;<span class="ident" id="4683543"><a href="/text/template/exec.go.html#4671411">zero</a></span><span class="op" id="4683547">,</span>&nbsp;<span class="ident" id="4683549"><a href="/text/template/exec.go.html#4683334">receiver</a></span><span class="op" id="4683557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4683560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4683563">//&nbsp;Now&nbsp;if&nbsp;it&#39;s&nbsp;a&nbsp;method,&nbsp;it&nbsp;gets&nbsp;the&nbsp;arguments.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4683612">return</span>&nbsp;<span class="ident" id="4683619"><a href="/text/template/exec.go.html#4683304">s</a></span><span class="op" id="4683620">.</span><span class="ident" id="4683621">evalField</span><span class="op" id="4683630">(</span><span class="ident" id="4683631"><a href="/text/template/exec.go.html#4683329">dot</a></span><span class="op" id="4683634">,</span>&nbsp;<span class="ident" id="4683636"><a href="/text/template/exec.go.html#4683375">ident</a></span><span class="op" id="4683641">[</span><span class="ident" id="4683642"><a href="/text/template/exec.go.html#4683448">n</a></span><span class="op" id="4683643">-</span><span class="num" id="4683644">1</span><span class="op" id="4683645">]</span><span class="op" id="4683646">,</span>&nbsp;<span class="ident" id="4683648"><a href="/text/template/exec.go.html#4683358">node</a></span><span class="op" id="4683652">,</span>&nbsp;<span class="ident" id="4683654"><a href="/text/template/exec.go.html#4683391">args</a></span><span class="op" id="4683658">,</span>&nbsp;<span class="ident" id="4683660"><a href="/text/template/exec.go.html#4683410">final</a></span><span class="op" id="4683665">,</span>&nbsp;<span class="ident" id="4683667"><a href="/text/template/exec.go.html#4683334">receiver</a></span><span class="op" id="4683675">)</span><br>
<span class="lineno">450</span><span class="op" id="4683677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4683680">func</span>&nbsp;<span class="op" id="4683685">(</span><span class="ident" id="4683686">s</span>&nbsp;<span class="op" id="4683688">*</span><span class="ident" id="4683689"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4683694">)</span>&nbsp;<span class="ident" id="4683696">evalFunction</span><span class="op" id="4683708">(</span><span class="ident" id="4683709">dot</span>&nbsp;<span class="ident" id="4683713"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4683720">.</span><span class="ident" id="4683721">Value</span><span class="op" id="4683726">,</span>&nbsp;<span class="ident" id="4683728">node</span>&nbsp;<span class="op" id="4683733">*</span><span class="ident" id="4683734"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4683739">.</span><span class="ident" id="4683740">IdentifierNode</span><span class="op" id="4683754">,</span>&nbsp;<span class="ident" id="4683756">cmd</span>&nbsp;<span class="ident" id="4683760"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4683765">.</span><span class="ident" id="4683766">Node</span><span class="op" id="4683770">,</span>&nbsp;<span class="ident" id="4683772">args</span>&nbsp;<span class="op" id="4683777">[</span><span class="op" id="4683778">]</span><span class="ident" id="4683779"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4683784">.</span><span class="ident" id="4683785">Node</span><span class="op" id="4683789">,</span>&nbsp;<span class="ident" id="4683791">final</span>&nbsp;<span class="ident" id="4683797"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4683804">.</span><span class="ident" id="4683805">Value</span><span class="op" id="4683810">)</span>&nbsp;<span class="ident" id="4683812"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4683819">.</span><span class="ident" id="4683820">Value</span>&nbsp;<span class="op" id="4683826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4683829"><a href="/text/template/exec.go.html#4683686">s</a></span><span class="op" id="4683830">.</span><span class="ident" id="4683831">at</span><span class="op" id="4683833">(</span><span class="ident" id="4683834"><a href="/text/template/exec.go.html#4683728">node</a></span><span class="op" id="4683838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4683841">name</span>&nbsp;<span class="op" id="4683846">:=</span>&nbsp;<span class="ident" id="4683849"><a href="/text/template/exec.go.html#4683728">node</a></span><span class="op" id="4683853">.</span><span class="ident" id="4683854">Ident</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4683861">function</span><span class="op" id="4683869">,</span>&nbsp;<span class="ident" id="4683871">ok</span>&nbsp;<span class="op" id="4683874">:=</span>&nbsp;<span class="ident" id="4683877"><a href="/text/template/funcs.go.html#4698632">findFunction</a></span><span class="op" id="4683889">(</span><span class="ident" id="4683890"><a href="/text/template/exec.go.html#4683841">name</a></span><span class="op" id="4683894">,</span>&nbsp;<span class="ident" id="4683896"><a href="/text/template/exec.go.html#4683686">s</a></span><span class="op" id="4683897">.</span><span class="ident" id="4683898">tmpl</span><span class="op" id="4683902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4683905">if</span>&nbsp;<span class="op" id="4683908">!</span><span class="ident" id="4683909"><a href="/text/template/exec.go.html#4683871">ok</a></span>&nbsp;<span class="op" id="4683912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4683916"><a href="/text/template/exec.go.html#4683686">s</a></span><span class="op" id="4683917">.</span><span class="ident" id="4683918">errorf</span><span class="op" id="4683924">(</span><span class="string" id="4683925">&#34;%q&nbsp;is&nbsp;not&nbsp;a&nbsp;defined&nbsp;function&#34;</span><span class="op" id="4683955">,</span>&nbsp;<span class="ident" id="4683957"><a href="/text/template/exec.go.html#4683841">name</a></span><span class="op" id="4683961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4683964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4683967">return</span>&nbsp;<span class="ident" id="4683974"><a href="/text/template/exec.go.html#4683686">s</a></span><span class="op" id="4683975">.</span><span class="ident" id="4683976">evalCall</span><span class="op" id="4683984">(</span><span class="ident" id="4683985"><a href="/text/template/exec.go.html#4683709">dot</a></span><span class="op" id="4683988">,</span>&nbsp;<span class="ident" id="4683990"><a href="/text/template/exec.go.html#4683861">function</a></span><span class="op" id="4683998">,</span>&nbsp;<span class="ident" id="4684000"><a href="/text/template/exec.go.html#4683756">cmd</a></span><span class="op" id="4684003">,</span>&nbsp;<span class="ident" id="4684005"><a href="/text/template/exec.go.html#4683841">name</a></span><span class="op" id="4684009">,</span>&nbsp;<span class="ident" id="4684011"><a href="/text/template/exec.go.html#4683772">args</a></span><span class="op" id="4684015">,</span>&nbsp;<span class="ident" id="4684017"><a href="/text/template/exec.go.html#4683791">final</a></span><span class="op" id="4684022">)</span><br>
<span class="lineno">460</span><span class="op" id="4684024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4684027">//&nbsp;evalField&nbsp;evaluates&nbsp;an&nbsp;expression&nbsp;like&nbsp;(.Field)&nbsp;or&nbsp;(.Field&nbsp;arg1&nbsp;arg2).</span><br>
<span class="lineno"></span><span class="comment" id="4684101">//&nbsp;The&nbsp;&#39;final&#39;&nbsp;argument&nbsp;represents&nbsp;the&nbsp;return&nbsp;value&nbsp;from&nbsp;the&nbsp;preceding</span><br>
<span class="lineno"></span><span class="comment" id="4684172">//&nbsp;value&nbsp;of&nbsp;the&nbsp;pipeline,&nbsp;if&nbsp;any.</span><br>
<span class="lineno">465</span><span class="keyword" id="4684206">func</span>&nbsp;<span class="op" id="4684211">(</span><span class="ident" id="4684212">s</span>&nbsp;<span class="op" id="4684214">*</span><span class="ident" id="4684215"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4684220">)</span>&nbsp;<span class="ident" id="4684222">evalField</span><span class="op" id="4684231">(</span><span class="ident" id="4684232">dot</span>&nbsp;<span class="ident" id="4684236"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4684243">.</span><span class="ident" id="4684244">Value</span><span class="op" id="4684249">,</span>&nbsp;<span class="ident" id="4684251">fieldName</span>&nbsp;<span class="builtintype" id="4684261">string</span><span class="op" id="4684267">,</span>&nbsp;<span class="ident" id="4684269">node</span>&nbsp;<span class="ident" id="4684274"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4684279">.</span><span class="ident" id="4684280">Node</span><span class="op" id="4684284">,</span>&nbsp;<span class="ident" id="4684286">args</span>&nbsp;<span class="op" id="4684291">[</span><span class="op" id="4684292">]</span><span class="ident" id="4684293"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4684298">.</span><span class="ident" id="4684299">Node</span><span class="op" id="4684303">,</span>&nbsp;<span class="ident" id="4684305">final</span><span class="op" id="4684310">,</span>&nbsp;<span class="ident" id="4684312">receiver</span>&nbsp;<span class="ident" id="4684321"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4684328">.</span><span class="ident" id="4684329">Value</span><span class="op" id="4684334">)</span>&nbsp;<span class="ident" id="4684336"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4684343">.</span><span class="ident" id="4684344">Value</span>&nbsp;<span class="op" id="4684350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4684353">if</span>&nbsp;<span class="op" id="4684356">!</span><span class="ident" id="4684357"><a href="/text/template/exec.go.html#4684312">receiver</a></span><span class="op" id="4684365">.</span><span class="ident" id="4684366">IsValid</span><span class="op" id="4684373">(</span><span class="op" id="4684374">)</span>&nbsp;<span class="op" id="4684376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4684380">return</span>&nbsp;<span class="ident" id="4684387"><a href="/text/template/exec.go.html#4671411">zero</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4684393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4684396">typ</span>&nbsp;<span class="op" id="4684400">:=</span>&nbsp;<span class="ident" id="4684403"><a href="/text/template/exec.go.html#4684312">receiver</a></span><span class="op" id="4684411">.</span><span class="ident" id="4684412">Type</span><span class="op" id="4684416">(</span><span class="op" id="4684417">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4684420"><a href="/text/template/exec.go.html#4684312">receiver</a></span><span class="op" id="4684428">,</span>&nbsp;<span class="ident" id="4684430">_</span>&nbsp;<span class="op" id="4684432">=</span>&nbsp;<span class="ident" id="4684434"><a href="/text/template/exec.go.html#4693816">indirect</a></span><span class="op" id="4684442">(</span><span class="ident" id="4684443"><a href="/text/template/exec.go.html#4684312">receiver</a></span><span class="op" id="4684451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4684454">//&nbsp;Unless&nbsp;it&#39;s&nbsp;an&nbsp;interface,&nbsp;need&nbsp;to&nbsp;get&nbsp;to&nbsp;a&nbsp;value&nbsp;of&nbsp;type&nbsp;*T&nbsp;to&nbsp;guarantee</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4684531">//&nbsp;we&nbsp;see&nbsp;all&nbsp;methods&nbsp;of&nbsp;T&nbsp;and&nbsp;*T.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4684567">ptr</span>&nbsp;<span class="op" id="4684571">:=</span>&nbsp;<span class="ident" id="4684574"><a href="/text/template/exec.go.html#4684312">receiver</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4684584">if</span>&nbsp;<span class="ident" id="4684587"><a href="/text/template/exec.go.html#4684567">ptr</a></span><span class="op" id="4684590">.</span><span class="ident" id="4684591">Kind</span><span class="op" id="4684595">(</span><span class="op" id="4684596">)</span>&nbsp;<span class="op" id="4684598">!=</span>&nbsp;<span class="ident" id="4684601"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4684608">.</span><span class="ident" id="4684609">Interface</span>&nbsp;<span class="op" id="4684619">&amp;&amp;</span>&nbsp;<span class="ident" id="4684622"><a href="/text/template/exec.go.html#4684567">ptr</a></span><span class="op" id="4684625">.</span><span class="ident" id="4684626">CanAddr</span><span class="op" id="4684633">(</span><span class="op" id="4684634">)</span>&nbsp;<span class="op" id="4684636">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4684640"><a href="/text/template/exec.go.html#4684567">ptr</a></span>&nbsp;<span class="op" id="4684644">=</span>&nbsp;<span class="ident" id="4684646"><a href="/text/template/exec.go.html#4684567">ptr</a></span><span class="op" id="4684649">.</span><span class="ident" id="4684650">Addr</span><span class="op" id="4684654">(</span><span class="op" id="4684655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4684658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4684661">if</span>&nbsp;<span class="ident" id="4684664">method</span>&nbsp;<span class="op" id="4684671">:=</span>&nbsp;<span class="ident" id="4684674"><a href="/text/template/exec.go.html#4684567">ptr</a></span><span class="op" id="4684677">.</span><span class="ident" id="4684678">MethodByName</span><span class="op" id="4684690">(</span><span class="ident" id="4684691"><a href="/text/template/exec.go.html#4684251">fieldName</a></span><span class="op" id="4684700">)</span><span class="op" id="4684701">;</span>&nbsp;<span class="ident" id="4684703"><a href="/text/template/exec.go.html#4684664">method</a></span><span class="op" id="4684709">.</span><span class="ident" id="4684710">IsValid</span><span class="op" id="4684717">(</span><span class="op" id="4684718">)</span>&nbsp;<span class="op" id="4684720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4684724">return</span>&nbsp;<span class="ident" id="4684731"><a href="/text/template/exec.go.html#4684212">s</a></span><span class="op" id="4684732">.</span><span class="ident" id="4684733">evalCall</span><span class="op" id="4684741">(</span><span class="ident" id="4684742"><a href="/text/template/exec.go.html#4684232">dot</a></span><span class="op" id="4684745">,</span>&nbsp;<span class="ident" id="4684747"><a href="/text/template/exec.go.html#4684664">method</a></span><span class="op" id="4684753">,</span>&nbsp;<span class="ident" id="4684755"><a href="/text/template/exec.go.html#4684269">node</a></span><span class="op" id="4684759">,</span>&nbsp;<span class="ident" id="4684761"><a href="/text/template/exec.go.html#4684251">fieldName</a></span><span class="op" id="4684770">,</span>&nbsp;<span class="ident" id="4684772"><a href="/text/template/exec.go.html#4684286">args</a></span><span class="op" id="4684776">,</span>&nbsp;<span class="ident" id="4684778"><a href="/text/template/exec.go.html#4684305">final</a></span><span class="op" id="4684783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4684786">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4684789">hasArgs</span>&nbsp;<span class="op" id="4684797">:=</span>&nbsp;<span class="builtinfunc" id="4684800">len</span><span class="op" id="4684803">(</span><span class="ident" id="4684804"><a href="/text/template/exec.go.html#4684286">args</a></span><span class="op" id="4684808">)</span>&nbsp;<span class="op" id="4684810">&gt;</span>&nbsp;<span class="num" id="4684812">1</span>&nbsp;<span class="op" id="4684814">||</span>&nbsp;<span class="ident" id="4684817"><a href="/text/template/exec.go.html#4684305">final</a></span><span class="op" id="4684822">.</span><span class="ident" id="4684823">IsValid</span><span class="op" id="4684830">(</span><span class="op" id="4684831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4684834">//&nbsp;It&#39;s&nbsp;not&nbsp;a&nbsp;method;&nbsp;must&nbsp;be&nbsp;a&nbsp;field&nbsp;of&nbsp;a&nbsp;struct&nbsp;or&nbsp;an&nbsp;element&nbsp;of&nbsp;a&nbsp;map.&nbsp;The&nbsp;receiver&nbsp;must&nbsp;not&nbsp;be&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4684939"><a href="/text/template/exec.go.html#4684312">receiver</a></span><span class="op" id="4684947">,</span>&nbsp;<span class="ident" id="4684949">isNil</span>&nbsp;<span class="op" id="4684955">:=</span>&nbsp;<span class="ident" id="4684958"><a href="/text/template/exec.go.html#4693816">indirect</a></span><span class="op" id="4684966">(</span><span class="ident" id="4684967"><a href="/text/template/exec.go.html#4684312">receiver</a></span><span class="op" id="4684975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4684978">if</span>&nbsp;<span class="ident" id="4684981"><a href="/text/template/exec.go.html#4684949">isNil</a></span>&nbsp;<span class="op" id="4684987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4684991"><a href="/text/template/exec.go.html#4684212">s</a></span><span class="op" id="4684992">.</span><span class="ident" id="4684993">errorf</span><span class="op" id="4684999">(</span><span class="string" id="4685000">&#34;nil&nbsp;pointer&nbsp;evaluating&nbsp;%s.%s&#34;</span><span class="op" id="4685030">,</span>&nbsp;<span class="ident" id="4685032"><a href="/text/template/exec.go.html#4684396">typ</a></span><span class="op" id="4685035">,</span>&nbsp;<span class="ident" id="4685037"><a href="/text/template/exec.go.html#4684251">fieldName</a></span><span class="op" id="4685046">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4685049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4685052">switch</span>&nbsp;<span class="ident" id="4685059"><a href="/text/template/exec.go.html#4684312">receiver</a></span><span class="op" id="4685067">.</span><span class="ident" id="4685068">Kind</span><span class="op" id="4685072">(</span><span class="op" id="4685073">)</span>&nbsp;<span class="op" id="4685075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4685078">case</span>&nbsp;<span class="ident" id="4685083"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4685090">.</span><span class="ident" id="4685091">Struct</span><span class="op" id="4685097">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4685101">tField</span><span class="op" id="4685107">,</span>&nbsp;<span class="ident" id="4685109">ok</span>&nbsp;<span class="op" id="4685112">:=</span>&nbsp;<span class="ident" id="4685115"><a href="/text/template/exec.go.html#4684312">receiver</a></span><span class="op" id="4685123">.</span><span class="ident" id="4685124">Type</span><span class="op" id="4685128">(</span><span class="op" id="4685129">)</span><span class="op" id="4685130">.</span><span class="ident" id="4685131">FieldByName</span><span class="op" id="4685142">(</span><span class="ident" id="4685143"><a href="/text/template/exec.go.html#4684251">fieldName</a></span><span class="op" id="4685152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4685156">if</span>&nbsp;<span class="ident" id="4685159"><a href="/text/template/exec.go.html#4685109">ok</a></span>&nbsp;<span class="op" id="4685162">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4685167">field</span>&nbsp;<span class="op" id="4685173">:=</span>&nbsp;<span class="ident" id="4685176"><a href="/text/template/exec.go.html#4684312">receiver</a></span><span class="op" id="4685184">.</span><span class="ident" id="4685185">FieldByIndex</span><span class="op" id="4685197">(</span><span class="ident" id="4685198"><a href="/text/template/exec.go.html#4685101">tField</a></span><span class="op" id="4685204">.</span><span class="ident" id="4685205">Index</span><span class="op" id="4685210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4685215">if</span>&nbsp;<span class="ident" id="4685218"><a href="/text/template/exec.go.html#4685101">tField</a></span><span class="op" id="4685224">.</span><span class="ident" id="4685225">PkgPath</span>&nbsp;<span class="op" id="4685233">!=</span>&nbsp;<span class="string" id="4685236">&#34;&#34;</span>&nbsp;<span class="op" id="4685239">{</span>&nbsp;<span class="comment" id="4685241">//&nbsp;field&nbsp;is&nbsp;unexported</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4685268"><a href="/text/template/exec.go.html#4684212">s</a></span><span class="op" id="4685269">.</span><span class="ident" id="4685270">errorf</span><span class="op" id="4685276">(</span><span class="string" id="4685277">&#34;%s&nbsp;is&nbsp;an&nbsp;unexported&nbsp;field&nbsp;of&nbsp;struct&nbsp;type&nbsp;%s&#34;</span><span class="op" id="4685322">,</span>&nbsp;<span class="ident" id="4685324"><a href="/text/template/exec.go.html#4684251">fieldName</a></span><span class="op" id="4685333">,</span>&nbsp;<span class="ident" id="4685335"><a href="/text/template/exec.go.html#4684396">typ</a></span><span class="op" id="4685338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4685343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4685348">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;function,&nbsp;we&nbsp;must&nbsp;call&nbsp;it.</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4685391">if</span>&nbsp;<span class="ident" id="4685394"><a href="/text/template/exec.go.html#4684789">hasArgs</a></span>&nbsp;<span class="op" id="4685402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4685408"><a href="/text/template/exec.go.html#4684212">s</a></span><span class="op" id="4685409">.</span><span class="ident" id="4685410">errorf</span><span class="op" id="4685416">(</span><span class="string" id="4685417">&#34;%s&nbsp;has&nbsp;arguments&nbsp;but&nbsp;cannot&nbsp;be&nbsp;invoked&nbsp;as&nbsp;function&#34;</span><span class="op" id="4685469">,</span>&nbsp;<span class="ident" id="4685471"><a href="/text/template/exec.go.html#4684251">fieldName</a></span><span class="op" id="4685480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4685485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4685490">return</span>&nbsp;<span class="ident" id="4685497"><a href="/text/template/exec.go.html#4685167">field</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4685505">}</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4685509"><a href="/text/template/exec.go.html#4684212">s</a></span><span class="op" id="4685510">.</span><span class="ident" id="4685511">errorf</span><span class="op" id="4685517">(</span><span class="string" id="4685518">&#34;%s&nbsp;is&nbsp;not&nbsp;a&nbsp;field&nbsp;of&nbsp;struct&nbsp;type&nbsp;%s&#34;</span><span class="op" id="4685555">,</span>&nbsp;<span class="ident" id="4685557"><a href="/text/template/exec.go.html#4684251">fieldName</a></span><span class="op" id="4685566">,</span>&nbsp;<span class="ident" id="4685568"><a href="/text/template/exec.go.html#4684396">typ</a></span><span class="op" id="4685571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4685574">case</span>&nbsp;<span class="ident" id="4685579"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4685586">.</span><span class="ident" id="4685587">Map</span><span class="op" id="4685590">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4685594">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;map,&nbsp;attempt&nbsp;to&nbsp;use&nbsp;the&nbsp;field&nbsp;name&nbsp;as&nbsp;a&nbsp;key.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4685654">nameVal</span>&nbsp;<span class="op" id="4685662">:=</span>&nbsp;<span class="ident" id="4685665"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4685672">.</span><span class="ident" id="4685673">ValueOf</span><span class="op" id="4685680">(</span><span class="ident" id="4685681"><a href="/text/template/exec.go.html#4684251">fieldName</a></span><span class="op" id="4685690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4685694">if</span>&nbsp;<span class="ident" id="4685697"><a href="/text/template/exec.go.html#4685654">nameVal</a></span><span class="op" id="4685704">.</span><span class="ident" id="4685705">Type</span><span class="op" id="4685709">(</span><span class="op" id="4685710">)</span><span class="op" id="4685711">.</span><span class="ident" id="4685712">AssignableTo</span><span class="op" id="4685724">(</span><span class="ident" id="4685725"><a href="/text/template/exec.go.html#4684312">receiver</a></span><span class="op" id="4685733">.</span><span class="ident" id="4685734">Type</span><span class="op" id="4685738">(</span><span class="op" id="4685739">)</span><span class="op" id="4685740">.</span><span class="ident" id="4685741">Key</span><span class="op" id="4685744">(</span><span class="op" id="4685745">)</span><span class="op" id="4685746">)</span>&nbsp;<span class="op" id="4685748">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4685753">if</span>&nbsp;<span class="ident" id="4685756"><a href="/text/template/exec.go.html#4684789">hasArgs</a></span>&nbsp;<span class="op" id="4685764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4685770"><a href="/text/template/exec.go.html#4684212">s</a></span><span class="op" id="4685771">.</span><span class="ident" id="4685772">errorf</span><span class="op" id="4685778">(</span><span class="string" id="4685779">&#34;%s&nbsp;is&nbsp;not&nbsp;a&nbsp;method&nbsp;but&nbsp;has&nbsp;arguments&#34;</span><span class="op" id="4685817">,</span>&nbsp;<span class="ident" id="4685819"><a href="/text/template/exec.go.html#4684251">fieldName</a></span><span class="op" id="4685828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4685833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4685838">return</span>&nbsp;<span class="ident" id="4685845"><a href="/text/template/exec.go.html#4684312">receiver</a></span><span class="op" id="4685853">.</span><span class="ident" id="4685854">MapIndex</span><span class="op" id="4685862">(</span><span class="ident" id="4685863"><a href="/text/template/exec.go.html#4685654">nameVal</a></span><span class="op" id="4685870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4685874">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4685877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4685880"><a href="/text/template/exec.go.html#4684212">s</a></span><span class="op" id="4685881">.</span><span class="ident" id="4685882">errorf</span><span class="op" id="4685888">(</span><span class="string" id="4685889">&#34;can&#39;t&nbsp;evaluate&nbsp;field&nbsp;%s&nbsp;in&nbsp;type&nbsp;%s&#34;</span><span class="op" id="4685925">,</span>&nbsp;<span class="ident" id="4685927"><a href="/text/template/exec.go.html#4684251">fieldName</a></span><span class="op" id="4685936">,</span>&nbsp;<span class="ident" id="4685938"><a href="/text/template/exec.go.html#4684396">typ</a></span><span class="op" id="4685941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4685944">panic</span><span class="op" id="4685949">(</span><span class="string" id="4685950">&#34;not&nbsp;reached&#34;</span><span class="op" id="4685963">)</span><br>
<span class="lineno"></span><span class="op" id="4685965">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="keyword" id="4685968">var</span>&nbsp;<span class="op" id="4685972">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4685975">errorType</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4685991">=</span>&nbsp;<span class="ident" id="4685993"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4686000">.</span><span class="ident" id="4686001">TypeOf</span><span class="op" id="4686007">(</span><span class="op" id="4686008">(</span><span class="op" id="4686009">*</span><span class="builtintype" id="4686010">error</span><span class="op" id="4686015">)</span><span class="op" id="4686016">(</span><span class="ident" id="4686017">nil</span><span class="op" id="4686020">)</span><span class="op" id="4686021">)</span><span class="op" id="4686022">.</span><span class="ident" id="4686023">Elem</span><span class="op" id="4686027">(</span><span class="op" id="4686028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4686031">fmtStringerType</span>&nbsp;<span class="op" id="4686047">=</span>&nbsp;<span class="ident" id="4686049"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4686056">.</span><span class="ident" id="4686057">TypeOf</span><span class="op" id="4686063">(</span><span class="op" id="4686064">(</span><span class="op" id="4686065">*</span><span class="ident" id="4686066"><a href="/text/template/exec.go.html#4670083">fmt</a></span><span class="op" id="4686069">.</span><span class="ident" id="4686070">Stringer</span><span class="op" id="4686078">)</span><span class="op" id="4686079">(</span><span class="ident" id="4686080">nil</span><span class="op" id="4686083">)</span><span class="op" id="4686084">)</span><span class="op" id="4686085">.</span><span class="ident" id="4686086">Elem</span><span class="op" id="4686090">(</span><span class="op" id="4686091">)</span><br>
<span class="lineno"></span><span class="op" id="4686093">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">520</span><span class="comment" id="4686096">//&nbsp;evalCall&nbsp;executes&nbsp;a&nbsp;function&nbsp;or&nbsp;method&nbsp;call.&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;method,&nbsp;fun&nbsp;already&nbsp;has&nbsp;the&nbsp;receiver&nbsp;bound,&nbsp;so</span><br>
<span class="lineno"></span><span class="comment" id="4686201">//&nbsp;it&nbsp;looks&nbsp;just&nbsp;like&nbsp;a&nbsp;function&nbsp;call.&nbsp;&nbsp;The&nbsp;arg&nbsp;list,&nbsp;if&nbsp;non-nil,&nbsp;includes&nbsp;(in&nbsp;the&nbsp;manner&nbsp;of&nbsp;the&nbsp;shell),&nbsp;arg[0]</span><br>
<span class="lineno"></span><span class="comment" id="4686313">//&nbsp;as&nbsp;the&nbsp;function&nbsp;itself.</span><br>
<span class="lineno"></span><span class="keyword" id="4686340">func</span>&nbsp;<span class="op" id="4686345">(</span><span class="ident" id="4686346">s</span>&nbsp;<span class="op" id="4686348">*</span><span class="ident" id="4686349"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4686354">)</span>&nbsp;<span class="ident" id="4686356">evalCall</span><span class="op" id="4686364">(</span><span class="ident" id="4686365">dot</span><span class="op" id="4686368">,</span>&nbsp;<span class="ident" id="4686370">fun</span>&nbsp;<span class="ident" id="4686374"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4686381">.</span><span class="ident" id="4686382">Value</span><span class="op" id="4686387">,</span>&nbsp;<span class="ident" id="4686389">node</span>&nbsp;<span class="ident" id="4686394"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4686399">.</span><span class="ident" id="4686400">Node</span><span class="op" id="4686404">,</span>&nbsp;<span class="ident" id="4686406">name</span>&nbsp;<span class="builtintype" id="4686411">string</span><span class="op" id="4686417">,</span>&nbsp;<span class="ident" id="4686419">args</span>&nbsp;<span class="op" id="4686424">[</span><span class="op" id="4686425">]</span><span class="ident" id="4686426"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4686431">.</span><span class="ident" id="4686432">Node</span><span class="op" id="4686436">,</span>&nbsp;<span class="ident" id="4686438">final</span>&nbsp;<span class="ident" id="4686444"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4686451">.</span><span class="ident" id="4686452">Value</span><span class="op" id="4686457">)</span>&nbsp;<span class="ident" id="4686459"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4686466">.</span><span class="ident" id="4686467">Value</span>&nbsp;<span class="op" id="4686473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4686476">if</span>&nbsp;<span class="ident" id="4686479"><a href="/text/template/exec.go.html#4686419">args</a></span>&nbsp;<span class="op" id="4686484">!=</span>&nbsp;<span class="ident" id="4686487">nil</span>&nbsp;<span class="op" id="4686491">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4686495"><a href="/text/template/exec.go.html#4686419">args</a></span>&nbsp;<span class="op" id="4686500">=</span>&nbsp;<span class="ident" id="4686502"><a href="/text/template/exec.go.html#4686419">args</a></span><span class="op" id="4686506">[</span><span class="num" id="4686507">1</span><span class="op" id="4686508">:</span><span class="op" id="4686509">]</span>&nbsp;<span class="comment" id="4686511">//&nbsp;Zeroth&nbsp;arg&nbsp;is&nbsp;function&nbsp;name/node;&nbsp;not&nbsp;passed&nbsp;to&nbsp;function.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4686573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4686576">typ</span>&nbsp;<span class="op" id="4686580">:=</span>&nbsp;<span class="ident" id="4686583"><a href="/text/template/exec.go.html#4686370">fun</a></span><span class="op" id="4686586">.</span><span class="ident" id="4686587">Type</span><span class="op" id="4686591">(</span><span class="op" id="4686592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4686595">numIn</span>&nbsp;<span class="op" id="4686601">:=</span>&nbsp;<span class="builtinfunc" id="4686604">len</span><span class="op" id="4686607">(</span><span class="ident" id="4686608"><a href="/text/template/exec.go.html#4686419">args</a></span><span class="op" id="4686612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4686615">if</span>&nbsp;<span class="ident" id="4686618"><a href="/text/template/exec.go.html#4686438">final</a></span><span class="op" id="4686623">.</span><span class="ident" id="4686624">IsValid</span><span class="op" id="4686631">(</span><span class="op" id="4686632">)</span>&nbsp;<span class="op" id="4686634">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4686638"><a href="/text/template/exec.go.html#4686595">numIn</a></span><span class="op" id="4686643">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4686647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4686650">numFixed</span>&nbsp;<span class="op" id="4686659">:=</span>&nbsp;<span class="builtinfunc" id="4686662">len</span><span class="op" id="4686665">(</span><span class="ident" id="4686666"><a href="/text/template/exec.go.html#4686419">args</a></span><span class="op" id="4686670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4686673">if</span>&nbsp;<span class="ident" id="4686676"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4686679">.</span><span class="ident" id="4686680">IsVariadic</span><span class="op" id="4686690">(</span><span class="op" id="4686691">)</span>&nbsp;<span class="op" id="4686693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4686697"><a href="/text/template/exec.go.html#4686650">numFixed</a></span>&nbsp;<span class="op" id="4686706">=</span>&nbsp;<span class="ident" id="4686708"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4686711">.</span><span class="ident" id="4686712">NumIn</span><span class="op" id="4686717">(</span><span class="op" id="4686718">)</span>&nbsp;<span class="op" id="4686720">-</span>&nbsp;<span class="num" id="4686722">1</span>&nbsp;<span class="comment" id="4686724">//&nbsp;last&nbsp;arg&nbsp;is&nbsp;the&nbsp;variadic&nbsp;one.</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4686759">if</span>&nbsp;<span class="ident" id="4686762"><a href="/text/template/exec.go.html#4686595">numIn</a></span>&nbsp;<span class="op" id="4686768">&lt;</span>&nbsp;<span class="ident" id="4686770"><a href="/text/template/exec.go.html#4686650">numFixed</a></span>&nbsp;<span class="op" id="4686779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4686784"><a href="/text/template/exec.go.html#4686346">s</a></span><span class="op" id="4686785">.</span><span class="ident" id="4686786">errorf</span><span class="op" id="4686792">(</span><span class="string" id="4686793">&#34;wrong&nbsp;number&nbsp;of&nbsp;args&nbsp;for&nbsp;%s:&nbsp;want&nbsp;at&nbsp;least&nbsp;%d&nbsp;got&nbsp;%d&#34;</span><span class="op" id="4686847">,</span>&nbsp;<span class="ident" id="4686849"><a href="/text/template/exec.go.html#4686406">name</a></span><span class="op" id="4686853">,</span>&nbsp;<span class="ident" id="4686855"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4686858">.</span><span class="ident" id="4686859">NumIn</span><span class="op" id="4686864">(</span><span class="op" id="4686865">)</span><span class="op" id="4686866">-</span><span class="num" id="4686867">1</span><span class="op" id="4686868">,</span>&nbsp;<span class="builtinfunc" id="4686870">len</span><span class="op" id="4686873">(</span><span class="ident" id="4686874"><a href="/text/template/exec.go.html#4686419">args</a></span><span class="op" id="4686878">)</span><span class="op" id="4686879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4686883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4686886">}</span>&nbsp;<span class="keyword" id="4686888">else</span>&nbsp;<span class="keyword" id="4686893">if</span>&nbsp;<span class="ident" id="4686896"><a href="/text/template/exec.go.html#4686595">numIn</a></span>&nbsp;<span class="op" id="4686902">&lt;</span>&nbsp;<span class="ident" id="4686904"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4686907">.</span><span class="ident" id="4686908">NumIn</span><span class="op" id="4686913">(</span><span class="op" id="4686914">)</span><span class="op" id="4686915">-</span><span class="num" id="4686916">1</span>&nbsp;<span class="op" id="4686918">||</span>&nbsp;<span class="op" id="4686921">!</span><span class="ident" id="4686922"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4686925">.</span><span class="ident" id="4686926">IsVariadic</span><span class="op" id="4686936">(</span><span class="op" id="4686937">)</span>&nbsp;<span class="op" id="4686939">&amp;&amp;</span>&nbsp;<span class="ident" id="4686942"><a href="/text/template/exec.go.html#4686595">numIn</a></span>&nbsp;<span class="op" id="4686948">!=</span>&nbsp;<span class="ident" id="4686951"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4686954">.</span><span class="ident" id="4686955">NumIn</span><span class="op" id="4686960">(</span><span class="op" id="4686961">)</span>&nbsp;<span class="op" id="4686963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4686967"><a href="/text/template/exec.go.html#4686346">s</a></span><span class="op" id="4686968">.</span><span class="ident" id="4686969">errorf</span><span class="op" id="4686975">(</span><span class="string" id="4686976">&#34;wrong&nbsp;number&nbsp;of&nbsp;args&nbsp;for&nbsp;%s:&nbsp;want&nbsp;%d&nbsp;got&nbsp;%d&#34;</span><span class="op" id="4687021">,</span>&nbsp;<span class="ident" id="4687023"><a href="/text/template/exec.go.html#4686406">name</a></span><span class="op" id="4687027">,</span>&nbsp;<span class="ident" id="4687029"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4687032">.</span><span class="ident" id="4687033">NumIn</span><span class="op" id="4687038">(</span><span class="op" id="4687039">)</span><span class="op" id="4687040">,</span>&nbsp;<span class="builtinfunc" id="4687042">len</span><span class="op" id="4687045">(</span><span class="ident" id="4687046"><a href="/text/template/exec.go.html#4686419">args</a></span><span class="op" id="4687050">)</span><span class="op" id="4687051">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4687054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4687057">if</span>&nbsp;<span class="op" id="4687060">!</span><span class="ident" id="4687061"><a href="/text/template/funcs.go.html#4698308">goodFunc</a></span><span class="op" id="4687069">(</span><span class="ident" id="4687070"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4687073">)</span>&nbsp;<span class="op" id="4687075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4687079">//&nbsp;TODO:&nbsp;This&nbsp;could&nbsp;still&nbsp;be&nbsp;a&nbsp;confusing&nbsp;error;&nbsp;maybe&nbsp;goodFunc&nbsp;should&nbsp;provide&nbsp;info.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4687165"><a href="/text/template/exec.go.html#4686346">s</a></span><span class="op" id="4687166">.</span><span class="ident" id="4687167">errorf</span><span class="op" id="4687173">(</span><span class="string" id="4687174">&#34;can&#39;t&nbsp;call&nbsp;method/function&nbsp;%q&nbsp;with&nbsp;%d&nbsp;results&#34;</span><span class="op" id="4687221">,</span>&nbsp;<span class="ident" id="4687223"><a href="/text/template/exec.go.html#4686406">name</a></span><span class="op" id="4687227">,</span>&nbsp;<span class="ident" id="4687229"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4687232">.</span><span class="ident" id="4687233">NumOut</span><span class="op" id="4687239">(</span><span class="op" id="4687240">)</span><span class="op" id="4687241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4687244">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4687247">//&nbsp;Build&nbsp;the&nbsp;arg&nbsp;list.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4687271">argv</span>&nbsp;<span class="op" id="4687276">:=</span>&nbsp;<span class="builtinfunc" id="4687279">make</span><span class="op" id="4687283">(</span><span class="op" id="4687284">[</span><span class="op" id="4687285">]</span><span class="ident" id="4687286"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4687293">.</span><span class="ident" id="4687294">Value</span><span class="op" id="4687299">,</span>&nbsp;<span class="ident" id="4687301"><a href="/text/template/exec.go.html#4686595">numIn</a></span><span class="op" id="4687306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4687309">//&nbsp;Args&nbsp;must&nbsp;be&nbsp;evaluated.&nbsp;Fixed&nbsp;args&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4687355">i</span>&nbsp;<span class="op" id="4687357">:=</span>&nbsp;<span class="num" id="4687360">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4687363">for</span>&nbsp;<span class="op" id="4687367">;</span>&nbsp;<span class="ident" id="4687369"><a href="/text/template/exec.go.html#4687355">i</a></span>&nbsp;<span class="op" id="4687371">&lt;</span>&nbsp;<span class="ident" id="4687373"><a href="/text/template/exec.go.html#4686650">numFixed</a></span>&nbsp;<span class="op" id="4687382">&amp;&amp;</span>&nbsp;<span class="ident" id="4687385"><a href="/text/template/exec.go.html#4687355">i</a></span>&nbsp;<span class="op" id="4687387">&lt;</span>&nbsp;<span class="builtinfunc" id="4687389">len</span><span class="op" id="4687392">(</span><span class="ident" id="4687393"><a href="/text/template/exec.go.html#4686419">args</a></span><span class="op" id="4687397">)</span><span class="op" id="4687398">;</span>&nbsp;<span class="ident" id="4687400"><a href="/text/template/exec.go.html#4687355">i</a></span><span class="op" id="4687401">++</span>&nbsp;<span class="op" id="4687404">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4687408"><a href="/text/template/exec.go.html#4687271">argv</a></span><span class="op" id="4687412">[</span><span class="ident" id="4687413"><a href="/text/template/exec.go.html#4687355">i</a></span><span class="op" id="4687414">]</span>&nbsp;<span class="op" id="4687416">=</span>&nbsp;<span class="ident" id="4687418"><a href="/text/template/exec.go.html#4686346">s</a></span><span class="op" id="4687419">.</span><span class="ident" id="4687420">evalArg</span><span class="op" id="4687427">(</span><span class="ident" id="4687428"><a href="/text/template/exec.go.html#4686365">dot</a></span><span class="op" id="4687431">,</span>&nbsp;<span class="ident" id="4687433"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4687436">.</span><span class="ident" id="4687437">In</span><span class="op" id="4687439">(</span><span class="ident" id="4687440"><a href="/text/template/exec.go.html#4687355">i</a></span><span class="op" id="4687441">)</span><span class="op" id="4687442">,</span>&nbsp;<span class="ident" id="4687444"><a href="/text/template/exec.go.html#4686419">args</a></span><span class="op" id="4687448">[</span><span class="ident" id="4687449"><a href="/text/template/exec.go.html#4687355">i</a></span><span class="op" id="4687450">]</span><span class="op" id="4687451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4687454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4687457">//&nbsp;Now&nbsp;the&nbsp;...&nbsp;args.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4687479">if</span>&nbsp;<span class="ident" id="4687482"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4687485">.</span><span class="ident" id="4687486">IsVariadic</span><span class="op" id="4687496">(</span><span class="op" id="4687497">)</span>&nbsp;<span class="op" id="4687499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4687503">argType</span>&nbsp;<span class="op" id="4687511">:=</span>&nbsp;<span class="ident" id="4687514"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4687517">.</span><span class="ident" id="4687518">In</span><span class="op" id="4687520">(</span><span class="ident" id="4687521"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4687524">.</span><span class="ident" id="4687525">NumIn</span><span class="op" id="4687530">(</span><span class="op" id="4687531">)</span>&nbsp;<span class="op" id="4687533">-</span>&nbsp;<span class="num" id="4687535">1</span><span class="op" id="4687536">)</span><span class="op" id="4687537">.</span><span class="ident" id="4687538">Elem</span><span class="op" id="4687542">(</span><span class="op" id="4687543">)</span>&nbsp;<span class="comment" id="4687545">//&nbsp;Argument&nbsp;is&nbsp;a&nbsp;slice.</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4687571">for</span>&nbsp;<span class="op" id="4687575">;</span>&nbsp;<span class="ident" id="4687577"><a href="/text/template/exec.go.html#4687355">i</a></span>&nbsp;<span class="op" id="4687579">&lt;</span>&nbsp;<span class="builtinfunc" id="4687581">len</span><span class="op" id="4687584">(</span><span class="ident" id="4687585"><a href="/text/template/exec.go.html#4686419">args</a></span><span class="op" id="4687589">)</span><span class="op" id="4687590">;</span>&nbsp;<span class="ident" id="4687592"><a href="/text/template/exec.go.html#4687355">i</a></span><span class="op" id="4687593">++</span>&nbsp;<span class="op" id="4687596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4687601"><a href="/text/template/exec.go.html#4687271">argv</a></span><span class="op" id="4687605">[</span><span class="ident" id="4687606"><a href="/text/template/exec.go.html#4687355">i</a></span><span class="op" id="4687607">]</span>&nbsp;<span class="op" id="4687609">=</span>&nbsp;<span class="ident" id="4687611"><a href="/text/template/exec.go.html#4686346">s</a></span><span class="op" id="4687612">.</span><span class="ident" id="4687613">evalArg</span><span class="op" id="4687620">(</span><span class="ident" id="4687621"><a href="/text/template/exec.go.html#4686365">dot</a></span><span class="op" id="4687624">,</span>&nbsp;<span class="ident" id="4687626"><a href="/text/template/exec.go.html#4687503">argType</a></span><span class="op" id="4687633">,</span>&nbsp;<span class="ident" id="4687635"><a href="/text/template/exec.go.html#4686419">args</a></span><span class="op" id="4687639">[</span><span class="ident" id="4687640"><a href="/text/template/exec.go.html#4687355">i</a></span><span class="op" id="4687641">]</span><span class="op" id="4687642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4687646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4687649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4687652">//&nbsp;Add&nbsp;final&nbsp;value&nbsp;if&nbsp;necessary.</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4687686">if</span>&nbsp;<span class="ident" id="4687689"><a href="/text/template/exec.go.html#4686438">final</a></span><span class="op" id="4687694">.</span><span class="ident" id="4687695">IsValid</span><span class="op" id="4687702">(</span><span class="op" id="4687703">)</span>&nbsp;<span class="op" id="4687705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4687709">t</span>&nbsp;<span class="op" id="4687711">:=</span>&nbsp;<span class="ident" id="4687714"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4687717">.</span><span class="ident" id="4687718">In</span><span class="op" id="4687720">(</span><span class="ident" id="4687721"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4687724">.</span><span class="ident" id="4687725">NumIn</span><span class="op" id="4687730">(</span><span class="op" id="4687731">)</span>&nbsp;<span class="op" id="4687733">-</span>&nbsp;<span class="num" id="4687735">1</span><span class="op" id="4687736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4687740">if</span>&nbsp;<span class="ident" id="4687743"><a href="/text/template/exec.go.html#4686576">typ</a></span><span class="op" id="4687746">.</span><span class="ident" id="4687747">IsVariadic</span><span class="op" id="4687757">(</span><span class="op" id="4687758">)</span>&nbsp;<span class="op" id="4687760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4687765"><a href="/text/template/exec.go.html#4687709">t</a></span>&nbsp;<span class="op" id="4687767">=</span>&nbsp;<span class="ident" id="4687769"><a href="/text/template/exec.go.html#4687709">t</a></span><span class="op" id="4687770">.</span><span class="ident" id="4687771">Elem</span><span class="op" id="4687775">(</span><span class="op" id="4687776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4687780">}</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4687784"><a href="/text/template/exec.go.html#4687271">argv</a></span><span class="op" id="4687788">[</span><span class="ident" id="4687789"><a href="/text/template/exec.go.html#4687355">i</a></span><span class="op" id="4687790">]</span>&nbsp;<span class="op" id="4687792">=</span>&nbsp;<span class="ident" id="4687794"><a href="/text/template/exec.go.html#4686346">s</a></span><span class="op" id="4687795">.</span><span class="ident" id="4687796">validateType</span><span class="op" id="4687808">(</span><span class="ident" id="4687809"><a href="/text/template/exec.go.html#4686438">final</a></span><span class="op" id="4687814">,</span>&nbsp;<span class="ident" id="4687816"><a href="/text/template/exec.go.html#4687709">t</a></span><span class="op" id="4687817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4687820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4687823">result</span>&nbsp;<span class="op" id="4687830">:=</span>&nbsp;<span class="ident" id="4687833"><a href="/text/template/exec.go.html#4686370">fun</a></span><span class="op" id="4687836">.</span><span class="ident" id="4687837">Call</span><span class="op" id="4687841">(</span><span class="ident" id="4687842"><a href="/text/template/exec.go.html#4687271">argv</a></span><span class="op" id="4687846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4687849">//&nbsp;If&nbsp;we&nbsp;have&nbsp;an&nbsp;error&nbsp;that&nbsp;is&nbsp;not&nbsp;nil,&nbsp;stop&nbsp;execution&nbsp;and&nbsp;return&nbsp;that&nbsp;error&nbsp;to&nbsp;the&nbsp;caller.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4687942">if</span>&nbsp;<span class="builtinfunc" id="4687945">len</span><span class="op" id="4687948">(</span><span class="ident" id="4687949"><a href="/text/template/exec.go.html#4687823">result</a></span><span class="op" id="4687955">)</span>&nbsp;<span class="op" id="4687957">==</span>&nbsp;<span class="num" id="4687960">2</span>&nbsp;<span class="op" id="4687962">&amp;&amp;</span>&nbsp;<span class="op" id="4687965">!</span><span class="ident" id="4687966"><a href="/text/template/exec.go.html#4687823">result</a></span><span class="op" id="4687972">[</span><span class="num" id="4687973">1</span><span class="op" id="4687974">]</span><span class="op" id="4687975">.</span><span class="ident" id="4687976">IsNil</span><span class="op" id="4687981">(</span><span class="op" id="4687982">)</span>&nbsp;<span class="op" id="4687984">{</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4687988"><a href="/text/template/exec.go.html#4686346">s</a></span><span class="op" id="4687989">.</span><span class="ident" id="4687990">at</span><span class="op" id="4687992">(</span><span class="ident" id="4687993"><a href="/text/template/exec.go.html#4686389">node</a></span><span class="op" id="4687997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4688001"><a href="/text/template/exec.go.html#4686346">s</a></span><span class="op" id="4688002">.</span><span class="ident" id="4688003">errorf</span><span class="op" id="4688009">(</span><span class="string" id="4688010">&#34;error&nbsp;calling&nbsp;%s:&nbsp;%s&#34;</span><span class="op" id="4688032">,</span>&nbsp;<span class="ident" id="4688034"><a href="/text/template/exec.go.html#4686406">name</a></span><span class="op" id="4688038">,</span>&nbsp;<span class="ident" id="4688040"><a href="/text/template/exec.go.html#4687823">result</a></span><span class="op" id="4688046">[</span><span class="num" id="4688047">1</span><span class="op" id="4688048">]</span><span class="op" id="4688049">.</span><span class="ident" id="4688050">Interface</span><span class="op" id="4688059">(</span><span class="op" id="4688060">)</span><span class="op" id="4688061">.</span><span class="op" id="4688062">(</span><span class="builtintype" id="4688063">error</span><span class="op" id="4688068">)</span><span class="op" id="4688069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4688072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4688075">return</span>&nbsp;<span class="ident" id="4688082"><a href="/text/template/exec.go.html#4687823">result</a></span><span class="op" id="4688088">[</span><span class="num" id="4688089">0</span><span class="op" id="4688090">]</span><br>
<span class="lineno"></span><span class="op" id="4688092">}</span><br>
<span class="lineno">575</span><br>
<span class="lineno"></span><span class="comment" id="4688095">//&nbsp;canBeNil&nbsp;reports&nbsp;whether&nbsp;an&nbsp;untyped&nbsp;nil&nbsp;can&nbsp;be&nbsp;assigned&nbsp;to&nbsp;the&nbsp;type.&nbsp;See&nbsp;reflect.Zero.</span><br>
<span class="lineno"></span><span class="keyword" id="4688185">func</span>&nbsp;<span class="ident" id="4688190">canBeNil</span><span class="op" id="4688198">(</span><span class="ident" id="4688199">typ</span>&nbsp;<span class="ident" id="4688203"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4688210">.</span><span class="ident" id="4688211">Type</span><span class="op" id="4688215">)</span>&nbsp;<span class="builtintype" id="4688217">bool</span>&nbsp;<span class="op" id="4688222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4688225">switch</span>&nbsp;<span class="ident" id="4688232"><a href="/text/template/exec.go.html#4688199">typ</a></span><span class="op" id="4688235">.</span><span class="ident" id="4688236">Kind</span><span class="op" id="4688240">(</span><span class="op" id="4688241">)</span>&nbsp;<span class="op" id="4688243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4688246">case</span>&nbsp;<span class="ident" id="4688251"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4688258">.</span><span class="ident" id="4688259">Chan</span><span class="op" id="4688263">,</span>&nbsp;<span class="ident" id="4688265"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4688272">.</span><span class="ident" id="4688273">Func</span><span class="op" id="4688277">,</span>&nbsp;<span class="ident" id="4688279"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4688286">.</span><span class="ident" id="4688287">Interface</span><span class="op" id="4688296">,</span>&nbsp;<span class="ident" id="4688298"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4688305">.</span><span class="ident" id="4688306">Map</span><span class="op" id="4688309">,</span>&nbsp;<span class="ident" id="4688311"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4688318">.</span><span class="ident" id="4688319">Ptr</span><span class="op" id="4688322">,</span>&nbsp;<span class="ident" id="4688324"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4688331">.</span><span class="ident" id="4688332">Slice</span><span class="op" id="4688337">:</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4688341">return</span>&nbsp;<span class="builtintype" id="4688348">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4688354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4688357">return</span>&nbsp;<span class="builtintype" id="4688364">false</span><br>
<span class="lineno"></span><span class="op" id="4688370">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="comment" id="4688373">//&nbsp;validateType&nbsp;guarantees&nbsp;that&nbsp;the&nbsp;value&nbsp;is&nbsp;valid&nbsp;and&nbsp;assignable&nbsp;to&nbsp;the&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4688452">func</span>&nbsp;<span class="op" id="4688457">(</span><span class="ident" id="4688458">s</span>&nbsp;<span class="op" id="4688460">*</span><span class="ident" id="4688461"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4688466">)</span>&nbsp;<span class="ident" id="4688468">validateType</span><span class="op" id="4688480">(</span><span class="ident" id="4688481">value</span>&nbsp;<span class="ident" id="4688487"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4688494">.</span><span class="ident" id="4688495">Value</span><span class="op" id="4688500">,</span>&nbsp;<span class="ident" id="4688502">typ</span>&nbsp;<span class="ident" id="4688506"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4688513">.</span><span class="ident" id="4688514">Type</span><span class="op" id="4688518">)</span>&nbsp;<span class="ident" id="4688520"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4688527">.</span><span class="ident" id="4688528">Value</span>&nbsp;<span class="op" id="4688534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4688537">if</span>&nbsp;<span class="op" id="4688540">!</span><span class="ident" id="4688541"><a href="/text/template/exec.go.html#4688481">value</a></span><span class="op" id="4688546">.</span><span class="ident" id="4688547">IsValid</span><span class="op" id="4688554">(</span><span class="op" id="4688555">)</span>&nbsp;<span class="op" id="4688557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4688561">if</span>&nbsp;<span class="ident" id="4688564"><a href="/text/template/exec.go.html#4688502">typ</a></span>&nbsp;<span class="op" id="4688568">==</span>&nbsp;<span class="ident" id="4688571">nil</span>&nbsp;<span class="op" id="4688575">||</span>&nbsp;<span class="ident" id="4688578"><a href="/text/template/exec.go.html#4688190">canBeNil</a></span><span class="op" id="4688586">(</span><span class="ident" id="4688587"><a href="/text/template/exec.go.html#4688502">typ</a></span><span class="op" id="4688590">)</span>&nbsp;<span class="op" id="4688592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4688597">//&nbsp;An&nbsp;untyped&nbsp;nil&nbsp;interface{}.&nbsp;Accept&nbsp;as&nbsp;a&nbsp;proper&nbsp;nil&nbsp;value.</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4688661">return</span>&nbsp;<span class="ident" id="4688668"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4688675">.</span><span class="ident" id="4688676">Zero</span><span class="op" id="4688680">(</span><span class="ident" id="4688681"><a href="/text/template/exec.go.html#4688502">typ</a></span><span class="op" id="4688684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4688688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4688692"><a href="/text/template/exec.go.html#4688458">s</a></span><span class="op" id="4688693">.</span><span class="ident" id="4688694">errorf</span><span class="op" id="4688700">(</span><span class="string" id="4688701">&#34;invalid&nbsp;value;&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="4688729">,</span>&nbsp;<span class="ident" id="4688731"><a href="/text/template/exec.go.html#4688502">typ</a></span><span class="op" id="4688734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4688737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4688740">if</span>&nbsp;<span class="ident" id="4688743"><a href="/text/template/exec.go.html#4688502">typ</a></span>&nbsp;<span class="op" id="4688747">!=</span>&nbsp;<span class="ident" id="4688750">nil</span>&nbsp;<span class="op" id="4688754">&amp;&amp;</span>&nbsp;<span class="op" id="4688757">!</span><span class="ident" id="4688758"><a href="/text/template/exec.go.html#4688481">value</a></span><span class="op" id="4688763">.</span><span class="ident" id="4688764">Type</span><span class="op" id="4688768">(</span><span class="op" id="4688769">)</span><span class="op" id="4688770">.</span><span class="ident" id="4688771">AssignableTo</span><span class="op" id="4688783">(</span><span class="ident" id="4688784"><a href="/text/template/exec.go.html#4688502">typ</a></span><span class="op" id="4688787">)</span>&nbsp;<span class="op" id="4688789">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4688793">if</span>&nbsp;<span class="ident" id="4688796"><a href="/text/template/exec.go.html#4688481">value</a></span><span class="op" id="4688801">.</span><span class="ident" id="4688802">Kind</span><span class="op" id="4688806">(</span><span class="op" id="4688807">)</span>&nbsp;<span class="op" id="4688809">==</span>&nbsp;<span class="ident" id="4688812"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4688819">.</span><span class="ident" id="4688820">Interface</span>&nbsp;<span class="op" id="4688830">&amp;&amp;</span>&nbsp;<span class="op" id="4688833">!</span><span class="ident" id="4688834"><a href="/text/template/exec.go.html#4688481">value</a></span><span class="op" id="4688839">.</span><span class="ident" id="4688840">IsNil</span><span class="op" id="4688845">(</span><span class="op" id="4688846">)</span>&nbsp;<span class="op" id="4688848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4688853"><a href="/text/template/exec.go.html#4688481">value</a></span>&nbsp;<span class="op" id="4688859">=</span>&nbsp;<span class="ident" id="4688861"><a href="/text/template/exec.go.html#4688481">value</a></span><span class="op" id="4688866">.</span><span class="ident" id="4688867">Elem</span><span class="op" id="4688871">(</span><span class="op" id="4688872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4688877">if</span>&nbsp;<span class="ident" id="4688880"><a href="/text/template/exec.go.html#4688481">value</a></span><span class="op" id="4688885">.</span><span class="ident" id="4688886">Type</span><span class="op" id="4688890">(</span><span class="op" id="4688891">)</span><span class="op" id="4688892">.</span><span class="ident" id="4688893">AssignableTo</span><span class="op" id="4688905">(</span><span class="ident" id="4688906"><a href="/text/template/exec.go.html#4688502">typ</a></span><span class="op" id="4688909">)</span>&nbsp;<span class="op" id="4688911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4688917">return</span>&nbsp;<span class="ident" id="4688924"><a href="/text/template/exec.go.html#4688481">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4688933">}</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4688938">//&nbsp;fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4688955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4688959">//&nbsp;Does&nbsp;one&nbsp;dereference&nbsp;or&nbsp;indirection&nbsp;work?&nbsp;We&nbsp;could&nbsp;do&nbsp;more,&nbsp;as&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4689030">//&nbsp;do&nbsp;with&nbsp;method&nbsp;receivers,&nbsp;but&nbsp;that&nbsp;gets&nbsp;messy&nbsp;and&nbsp;method&nbsp;receivers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4689102">//&nbsp;are&nbsp;much&nbsp;more&nbsp;constrained,&nbsp;so&nbsp;it&nbsp;makes&nbsp;more&nbsp;sense&nbsp;there&nbsp;than&nbsp;here.</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4689174">//&nbsp;Besides,&nbsp;one&nbsp;is&nbsp;almost&nbsp;always&nbsp;all&nbsp;you&nbsp;need.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4689223">switch</span>&nbsp;<span class="op" id="4689230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4689234">case</span>&nbsp;<span class="ident" id="4689239"><a href="/text/template/exec.go.html#4688481">value</a></span><span class="op" id="4689244">.</span><span class="ident" id="4689245">Kind</span><span class="op" id="4689249">(</span><span class="op" id="4689250">)</span>&nbsp;<span class="op" id="4689252">==</span>&nbsp;<span class="ident" id="4689255"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4689262">.</span><span class="ident" id="4689263">Ptr</span>&nbsp;<span class="op" id="4689267">&amp;&amp;</span>&nbsp;<span class="ident" id="4689270"><a href="/text/template/exec.go.html#4688481">value</a></span><span class="op" id="4689275">.</span><span class="ident" id="4689276">Type</span><span class="op" id="4689280">(</span><span class="op" id="4689281">)</span><span class="op" id="4689282">.</span><span class="ident" id="4689283">Elem</span><span class="op" id="4689287">(</span><span class="op" id="4689288">)</span><span class="op" id="4689289">.</span><span class="ident" id="4689290">AssignableTo</span><span class="op" id="4689302">(</span><span class="ident" id="4689303"><a href="/text/template/exec.go.html#4688502">typ</a></span><span class="op" id="4689306">)</span><span class="op" id="4689307">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4689312"><a href="/text/template/exec.go.html#4688481">value</a></span>&nbsp;<span class="op" id="4689318">=</span>&nbsp;<span class="ident" id="4689320"><a href="/text/template/exec.go.html#4688481">value</a></span><span class="op" id="4689325">.</span><span class="ident" id="4689326">Elem</span><span class="op" id="4689330">(</span><span class="op" id="4689331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4689336">if</span>&nbsp;<span class="op" id="4689339">!</span><span class="ident" id="4689340"><a href="/text/template/exec.go.html#4688481">value</a></span><span class="op" id="4689345">.</span><span class="ident" id="4689346">IsValid</span><span class="op" id="4689353">(</span><span class="op" id="4689354">)</span>&nbsp;<span class="op" id="4689356">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4689362"><a href="/text/template/exec.go.html#4688458">s</a></span><span class="op" id="4689363">.</span><span class="ident" id="4689364">errorf</span><span class="op" id="4689370">(</span><span class="string" id="4689371">&#34;dereference&nbsp;of&nbsp;nil&nbsp;pointer&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="4689410">,</span>&nbsp;<span class="ident" id="4689412"><a href="/text/template/exec.go.html#4688502">typ</a></span><span class="op" id="4689415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4689420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4689424">case</span>&nbsp;<span class="ident" id="4689429"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4689436">.</span><span class="ident" id="4689437">PtrTo</span><span class="op" id="4689442">(</span><span class="ident" id="4689443"><a href="/text/template/exec.go.html#4688481">value</a></span><span class="op" id="4689448">.</span><span class="ident" id="4689449">Type</span><span class="op" id="4689453">(</span><span class="op" id="4689454">)</span><span class="op" id="4689455">)</span><span class="op" id="4689456">.</span><span class="ident" id="4689457">AssignableTo</span><span class="op" id="4689469">(</span><span class="ident" id="4689470"><a href="/text/template/exec.go.html#4688502">typ</a></span><span class="op" id="4689473">)</span>&nbsp;<span class="op" id="4689475">&amp;&amp;</span>&nbsp;<span class="ident" id="4689478"><a href="/text/template/exec.go.html#4688481">value</a></span><span class="op" id="4689483">.</span><span class="ident" id="4689484">CanAddr</span><span class="op" id="4689491">(</span><span class="op" id="4689492">)</span><span class="op" id="4689493">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4689498"><a href="/text/template/exec.go.html#4688481">value</a></span>&nbsp;<span class="op" id="4689504">=</span>&nbsp;<span class="ident" id="4689506"><a href="/text/template/exec.go.html#4688481">value</a></span><span class="op" id="4689511">.</span><span class="ident" id="4689512">Addr</span><span class="op" id="4689516">(</span><span class="op" id="4689517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4689521">default</span><span class="op" id="4689528">:</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4689533"><a href="/text/template/exec.go.html#4688458">s</a></span><span class="op" id="4689534">.</span><span class="ident" id="4689535">errorf</span><span class="op" id="4689541">(</span><span class="string" id="4689542">&#34;wrong&nbsp;type&nbsp;for&nbsp;value;&nbsp;expected&nbsp;%s;&nbsp;got&nbsp;%s&#34;</span><span class="op" id="4689585">,</span>&nbsp;<span class="ident" id="4689587"><a href="/text/template/exec.go.html#4688502">typ</a></span><span class="op" id="4689590">,</span>&nbsp;<span class="ident" id="4689592"><a href="/text/template/exec.go.html#4688481">value</a></span><span class="op" id="4689597">.</span><span class="ident" id="4689598">Type</span><span class="op" id="4689602">(</span><span class="op" id="4689603">)</span><span class="op" id="4689604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4689608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4689611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4689614">return</span>&nbsp;<span class="ident" id="4689621"><a href="/text/template/exec.go.html#4688481">value</a></span><br>
<span class="lineno"></span><span class="op" id="4689627">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span><span class="keyword" id="4689630">func</span>&nbsp;<span class="op" id="4689635">(</span><span class="ident" id="4689636">s</span>&nbsp;<span class="op" id="4689638">*</span><span class="ident" id="4689639"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4689644">)</span>&nbsp;<span class="ident" id="4689646">evalArg</span><span class="op" id="4689653">(</span><span class="ident" id="4689654">dot</span>&nbsp;<span class="ident" id="4689658"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4689665">.</span><span class="ident" id="4689666">Value</span><span class="op" id="4689671">,</span>&nbsp;<span class="ident" id="4689673">typ</span>&nbsp;<span class="ident" id="4689677"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4689684">.</span><span class="ident" id="4689685">Type</span><span class="op" id="4689689">,</span>&nbsp;<span class="ident" id="4689691">n</span>&nbsp;<span class="ident" id="4689693"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4689698">.</span><span class="ident" id="4689699">Node</span><span class="op" id="4689703">)</span>&nbsp;<span class="ident" id="4689705"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4689712">.</span><span class="ident" id="4689713">Value</span>&nbsp;<span class="op" id="4689719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4689722"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4689723">.</span><span class="ident" id="4689724">at</span><span class="op" id="4689726">(</span><span class="ident" id="4689727"><a href="/text/template/exec.go.html#4689691">n</a></span><span class="op" id="4689728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4689731">switch</span>&nbsp;<span class="ident" id="4689738">arg</span>&nbsp;<span class="op" id="4689742">:=</span>&nbsp;<span class="ident" id="4689745"><a href="/text/template/exec.go.html#4689691">n</a></span><span class="op" id="4689746">.</span><span class="op" id="4689747">(</span><span class="keyword" id="4689748">type</span><span class="op" id="4689752">)</span>&nbsp;<span class="op" id="4689754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4689757">case</span>&nbsp;<span class="op" id="4689762">*</span><span class="ident" id="4689763"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4689768">.</span><span class="ident" id="4689769">DotNode</span><span class="op" id="4689776">:</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4689780">return</span>&nbsp;<span class="ident" id="4689787"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4689788">.</span><span class="ident" id="4689789">validateType</span><span class="op" id="4689801">(</span><span class="ident" id="4689802"><a href="/text/template/exec.go.html#4689654">dot</a></span><span class="op" id="4689805">,</span>&nbsp;<span class="ident" id="4689807"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4689810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4689813">case</span>&nbsp;<span class="op" id="4689818">*</span><span class="ident" id="4689819"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4689824">.</span><span class="ident" id="4689825">NilNode</span><span class="op" id="4689832">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4689836">if</span>&nbsp;<span class="ident" id="4689839"><a href="/text/template/exec.go.html#4688190">canBeNil</a></span><span class="op" id="4689847">(</span><span class="ident" id="4689848"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4689851">)</span>&nbsp;<span class="op" id="4689853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4689858">return</span>&nbsp;<span class="ident" id="4689865"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4689872">.</span><span class="ident" id="4689873">Zero</span><span class="op" id="4689877">(</span><span class="ident" id="4689878"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4689881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4689885">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4689889"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4689890">.</span><span class="ident" id="4689891">errorf</span><span class="op" id="4689897">(</span><span class="string" id="4689898">&#34;cannot&nbsp;assign&nbsp;nil&nbsp;to&nbsp;%s&#34;</span><span class="op" id="4689923">,</span>&nbsp;<span class="ident" id="4689925"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4689928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4689931">case</span>&nbsp;<span class="op" id="4689936">*</span><span class="ident" id="4689937"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4689942">.</span><span class="ident" id="4689943">FieldNode</span><span class="op" id="4689952">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4689956">return</span>&nbsp;<span class="ident" id="4689963"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4689964">.</span><span class="ident" id="4689965">validateType</span><span class="op" id="4689977">(</span><span class="ident" id="4689978"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4689979">.</span><span class="ident" id="4689980">evalFieldNode</span><span class="op" id="4689993">(</span><span class="ident" id="4689994"><a href="/text/template/exec.go.html#4689654">dot</a></span><span class="op" id="4689997">,</span>&nbsp;<span class="ident" id="4689999"><a href="/text/template/exec.go.html#4689738">arg</a></span><span class="op" id="4690002">,</span>&nbsp;<span class="op" id="4690004">[</span><span class="op" id="4690005">]</span><span class="ident" id="4690006"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4690011">.</span><span class="ident" id="4690012">Node</span><span class="op" id="4690016">{</span><span class="ident" id="4690017"><a href="/text/template/exec.go.html#4689691">n</a></span><span class="op" id="4690018">}</span><span class="op" id="4690019">,</span>&nbsp;<span class="ident" id="4690021"><a href="/text/template/exec.go.html#4671411">zero</a></span><span class="op" id="4690025">)</span><span class="op" id="4690026">,</span>&nbsp;<span class="ident" id="4690028"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4690031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690034">case</span>&nbsp;<span class="op" id="4690039">*</span><span class="ident" id="4690040"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4690045">.</span><span class="ident" id="4690046">VariableNode</span><span class="op" id="4690058">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690062">return</span>&nbsp;<span class="ident" id="4690069"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4690070">.</span><span class="ident" id="4690071">validateType</span><span class="op" id="4690083">(</span><span class="ident" id="4690084"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4690085">.</span><span class="ident" id="4690086">evalVariableNode</span><span class="op" id="4690102">(</span><span class="ident" id="4690103"><a href="/text/template/exec.go.html#4689654">dot</a></span><span class="op" id="4690106">,</span>&nbsp;<span class="ident" id="4690108"><a href="/text/template/exec.go.html#4689738">arg</a></span><span class="op" id="4690111">,</span>&nbsp;<span class="ident" id="4690113">nil</span><span class="op" id="4690116">,</span>&nbsp;<span class="ident" id="4690118"><a href="/text/template/exec.go.html#4671411">zero</a></span><span class="op" id="4690122">)</span><span class="op" id="4690123">,</span>&nbsp;<span class="ident" id="4690125"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4690128">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690131">case</span>&nbsp;<span class="op" id="4690136">*</span><span class="ident" id="4690137"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4690142">.</span><span class="ident" id="4690143">PipeNode</span><span class="op" id="4690151">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690155">return</span>&nbsp;<span class="ident" id="4690162"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4690163">.</span><span class="ident" id="4690164">validateType</span><span class="op" id="4690176">(</span><span class="ident" id="4690177"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4690178">.</span><span class="ident" id="4690179">evalPipeline</span><span class="op" id="4690191">(</span><span class="ident" id="4690192"><a href="/text/template/exec.go.html#4689654">dot</a></span><span class="op" id="4690195">,</span>&nbsp;<span class="ident" id="4690197"><a href="/text/template/exec.go.html#4689738">arg</a></span><span class="op" id="4690200">)</span><span class="op" id="4690201">,</span>&nbsp;<span class="ident" id="4690203"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4690206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690209">case</span>&nbsp;<span class="op" id="4690214">*</span><span class="ident" id="4690215"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4690220">.</span><span class="ident" id="4690221">IdentifierNode</span><span class="op" id="4690235">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690239">return</span>&nbsp;<span class="ident" id="4690246"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4690247">.</span><span class="ident" id="4690248">evalFunction</span><span class="op" id="4690260">(</span><span class="ident" id="4690261"><a href="/text/template/exec.go.html#4689654">dot</a></span><span class="op" id="4690264">,</span>&nbsp;<span class="ident" id="4690266"><a href="/text/template/exec.go.html#4689738">arg</a></span><span class="op" id="4690269">,</span>&nbsp;<span class="ident" id="4690271"><a href="/text/template/exec.go.html#4689738">arg</a></span><span class="op" id="4690274">,</span>&nbsp;<span class="ident" id="4690276">nil</span><span class="op" id="4690279">,</span>&nbsp;<span class="ident" id="4690281"><a href="/text/template/exec.go.html#4671411">zero</a></span><span class="op" id="4690285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690288">case</span>&nbsp;<span class="op" id="4690293">*</span><span class="ident" id="4690294"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4690299">.</span><span class="ident" id="4690300">ChainNode</span><span class="op" id="4690309">:</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690313">return</span>&nbsp;<span class="ident" id="4690320"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4690321">.</span><span class="ident" id="4690322">validateType</span><span class="op" id="4690334">(</span><span class="ident" id="4690335"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4690336">.</span><span class="ident" id="4690337">evalChainNode</span><span class="op" id="4690350">(</span><span class="ident" id="4690351"><a href="/text/template/exec.go.html#4689654">dot</a></span><span class="op" id="4690354">,</span>&nbsp;<span class="ident" id="4690356"><a href="/text/template/exec.go.html#4689738">arg</a></span><span class="op" id="4690359">,</span>&nbsp;<span class="ident" id="4690361">nil</span><span class="op" id="4690364">,</span>&nbsp;<span class="ident" id="4690366"><a href="/text/template/exec.go.html#4671411">zero</a></span><span class="op" id="4690370">)</span><span class="op" id="4690371">,</span>&nbsp;<span class="ident" id="4690373"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4690376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4690379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690382">switch</span>&nbsp;<span class="ident" id="4690389"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4690392">.</span><span class="ident" id="4690393">Kind</span><span class="op" id="4690397">(</span><span class="op" id="4690398">)</span>&nbsp;<span class="op" id="4690400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690403">case</span>&nbsp;<span class="ident" id="4690408"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690415">.</span><span class="ident" id="4690416">Bool</span><span class="op" id="4690420">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690424">return</span>&nbsp;<span class="ident" id="4690431"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4690432">.</span><span class="ident" id="4690433">evalBool</span><span class="op" id="4690441">(</span><span class="ident" id="4690442"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4690445">,</span>&nbsp;<span class="ident" id="4690447"><a href="/text/template/exec.go.html#4689691">n</a></span><span class="op" id="4690448">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690451">case</span>&nbsp;<span class="ident" id="4690456"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690463">.</span><span class="ident" id="4690464">Complex64</span><span class="op" id="4690473">,</span>&nbsp;<span class="ident" id="4690475"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690482">.</span><span class="ident" id="4690483">Complex128</span><span class="op" id="4690493">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690497">return</span>&nbsp;<span class="ident" id="4690504"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4690505">.</span><span class="ident" id="4690506">evalComplex</span><span class="op" id="4690517">(</span><span class="ident" id="4690518"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4690521">,</span>&nbsp;<span class="ident" id="4690523"><a href="/text/template/exec.go.html#4689691">n</a></span><span class="op" id="4690524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690527">case</span>&nbsp;<span class="ident" id="4690532"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690539">.</span><span class="ident" id="4690540">Float32</span><span class="op" id="4690547">,</span>&nbsp;<span class="ident" id="4690549"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690556">.</span><span class="ident" id="4690557">Float64</span><span class="op" id="4690564">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690568">return</span>&nbsp;<span class="ident" id="4690575"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4690576">.</span><span class="ident" id="4690577">evalFloat</span><span class="op" id="4690586">(</span><span class="ident" id="4690587"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4690590">,</span>&nbsp;<span class="ident" id="4690592"><a href="/text/template/exec.go.html#4689691">n</a></span><span class="op" id="4690593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690596">case</span>&nbsp;<span class="ident" id="4690601"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690608">.</span><span class="ident" id="4690609">Int</span><span class="op" id="4690612">,</span>&nbsp;<span class="ident" id="4690614"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690621">.</span><span class="ident" id="4690622">Int8</span><span class="op" id="4690626">,</span>&nbsp;<span class="ident" id="4690628"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690635">.</span><span class="ident" id="4690636">Int16</span><span class="op" id="4690641">,</span>&nbsp;<span class="ident" id="4690643"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690650">.</span><span class="ident" id="4690651">Int32</span><span class="op" id="4690656">,</span>&nbsp;<span class="ident" id="4690658"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690665">.</span><span class="ident" id="4690666">Int64</span><span class="op" id="4690671">:</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690675">return</span>&nbsp;<span class="ident" id="4690682"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4690683">.</span><span class="ident" id="4690684">evalInteger</span><span class="op" id="4690695">(</span><span class="ident" id="4690696"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4690699">,</span>&nbsp;<span class="ident" id="4690701"><a href="/text/template/exec.go.html#4689691">n</a></span><span class="op" id="4690702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690705">case</span>&nbsp;<span class="ident" id="4690710"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690717">.</span><span class="ident" id="4690718">Interface</span><span class="op" id="4690727">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690731">if</span>&nbsp;<span class="ident" id="4690734"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4690737">.</span><span class="ident" id="4690738">NumMethod</span><span class="op" id="4690747">(</span><span class="op" id="4690748">)</span>&nbsp;<span class="op" id="4690750">==</span>&nbsp;<span class="num" id="4690753">0</span>&nbsp;<span class="op" id="4690755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690760">return</span>&nbsp;<span class="ident" id="4690767"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4690768">.</span><span class="ident" id="4690769">evalEmptyInterface</span><span class="op" id="4690787">(</span><span class="ident" id="4690788"><a href="/text/template/exec.go.html#4689654">dot</a></span><span class="op" id="4690791">,</span>&nbsp;<span class="ident" id="4690793"><a href="/text/template/exec.go.html#4689691">n</a></span><span class="op" id="4690794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4690798">}</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690801">case</span>&nbsp;<span class="ident" id="4690806"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690813">.</span><span class="ident" id="4690814">String</span><span class="op" id="4690820">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690824">return</span>&nbsp;<span class="ident" id="4690831"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4690832">.</span><span class="ident" id="4690833">evalString</span><span class="op" id="4690843">(</span><span class="ident" id="4690844"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4690847">,</span>&nbsp;<span class="ident" id="4690849"><a href="/text/template/exec.go.html#4689691">n</a></span><span class="op" id="4690850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690853">case</span>&nbsp;<span class="ident" id="4690858"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690865">.</span><span class="ident" id="4690866">Uint</span><span class="op" id="4690870">,</span>&nbsp;<span class="ident" id="4690872"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690879">.</span><span class="ident" id="4690880">Uint8</span><span class="op" id="4690885">,</span>&nbsp;<span class="ident" id="4690887"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690894">.</span><span class="ident" id="4690895">Uint16</span><span class="op" id="4690901">,</span>&nbsp;<span class="ident" id="4690903"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690910">.</span><span class="ident" id="4690911">Uint32</span><span class="op" id="4690917">,</span>&nbsp;<span class="ident" id="4690919"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690926">.</span><span class="ident" id="4690927">Uint64</span><span class="op" id="4690933">,</span>&nbsp;<span class="ident" id="4690935"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4690942">.</span><span class="ident" id="4690943">Uintptr</span><span class="op" id="4690950">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4690954">return</span>&nbsp;<span class="ident" id="4690961"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4690962">.</span><span class="ident" id="4690963">evalUnsignedInteger</span><span class="op" id="4690982">(</span><span class="ident" id="4690983"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4690986">,</span>&nbsp;<span class="ident" id="4690988"><a href="/text/template/exec.go.html#4689691">n</a></span><span class="op" id="4690989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4690992">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4690995"><a href="/text/template/exec.go.html#4689636">s</a></span><span class="op" id="4690996">.</span><span class="ident" id="4690997">errorf</span><span class="op" id="4691003">(</span><span class="string" id="4691004">&#34;can&#39;t&nbsp;handle&nbsp;%s&nbsp;for&nbsp;arg&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="4691040">,</span>&nbsp;<span class="ident" id="4691042"><a href="/text/template/exec.go.html#4689691">n</a></span><span class="op" id="4691043">,</span>&nbsp;<span class="ident" id="4691045"><a href="/text/template/exec.go.html#4689673">typ</a></span><span class="op" id="4691048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4691051">panic</span><span class="op" id="4691056">(</span><span class="string" id="4691057">&#34;not&nbsp;reached&#34;</span><span class="op" id="4691070">)</span><br>
<span class="lineno"></span><span class="op" id="4691072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4691075">func</span>&nbsp;<span class="op" id="4691080">(</span><span class="ident" id="4691081">s</span>&nbsp;<span class="op" id="4691083">*</span><span class="ident" id="4691084"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4691089">)</span>&nbsp;<span class="ident" id="4691091">evalBool</span><span class="op" id="4691099">(</span><span class="ident" id="4691100">typ</span>&nbsp;<span class="ident" id="4691104"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4691111">.</span><span class="ident" id="4691112">Type</span><span class="op" id="4691116">,</span>&nbsp;<span class="ident" id="4691118">n</span>&nbsp;<span class="ident" id="4691120"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4691125">.</span><span class="ident" id="4691126">Node</span><span class="op" id="4691130">)</span>&nbsp;<span class="ident" id="4691132"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4691139">.</span><span class="ident" id="4691140">Value</span>&nbsp;<span class="op" id="4691146">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4691149"><a href="/text/template/exec.go.html#4691081">s</a></span><span class="op" id="4691150">.</span><span class="ident" id="4691151">at</span><span class="op" id="4691153">(</span><span class="ident" id="4691154"><a href="/text/template/exec.go.html#4691118">n</a></span><span class="op" id="4691155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4691158">if</span>&nbsp;<span class="ident" id="4691161">n</span><span class="op" id="4691162">,</span>&nbsp;<span class="ident" id="4691164">ok</span>&nbsp;<span class="op" id="4691167">:=</span>&nbsp;<span class="ident" id="4691170"><a href="/text/template/exec.go.html#4691118">n</a></span><span class="op" id="4691171">.</span><span class="op" id="4691172">(</span><span class="op" id="4691173">*</span><span class="ident" id="4691174"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4691179">.</span><span class="ident" id="4691180">BoolNode</span><span class="op" id="4691188">)</span><span class="op" id="4691189">;</span>&nbsp;<span class="ident" id="4691191"><a href="/text/template/exec.go.html#4691164">ok</a></span>&nbsp;<span class="op" id="4691194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4691198">value</span>&nbsp;<span class="op" id="4691204">:=</span>&nbsp;<span class="ident" id="4691207"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4691214">.</span><span class="ident" id="4691215">New</span><span class="op" id="4691218">(</span><span class="ident" id="4691219"><a href="/text/template/exec.go.html#4691100">typ</a></span><span class="op" id="4691222">)</span><span class="op" id="4691223">.</span><span class="ident" id="4691224">Elem</span><span class="op" id="4691228">(</span><span class="op" id="4691229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4691233"><a href="/text/template/exec.go.html#4691198">value</a></span><span class="op" id="4691238">.</span><span class="ident" id="4691239">SetBool</span><span class="op" id="4691246">(</span><span class="ident" id="4691247"><a href="/text/template/exec.go.html#4691161">n</a></span><span class="op" id="4691248">.</span><span class="ident" id="4691249">True</span><span class="op" id="4691253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4691257">return</span>&nbsp;<span class="ident" id="4691264"><a href="/text/template/exec.go.html#4691198">value</a></span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4691271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4691274"><a href="/text/template/exec.go.html#4691081">s</a></span><span class="op" id="4691275">.</span><span class="ident" id="4691276">errorf</span><span class="op" id="4691282">(</span><span class="string" id="4691283">&#34;expected&nbsp;bool;&nbsp;found&nbsp;%s&#34;</span><span class="op" id="4691308">,</span>&nbsp;<span class="ident" id="4691310"><a href="/text/template/exec.go.html#4691118">n</a></span><span class="op" id="4691311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4691314">panic</span><span class="op" id="4691319">(</span><span class="string" id="4691320">&#34;not&nbsp;reached&#34;</span><span class="op" id="4691333">)</span><br>
<span class="lineno"></span><span class="op" id="4691335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span><span class="keyword" id="4691338">func</span>&nbsp;<span class="op" id="4691343">(</span><span class="ident" id="4691344">s</span>&nbsp;<span class="op" id="4691346">*</span><span class="ident" id="4691347"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4691352">)</span>&nbsp;<span class="ident" id="4691354">evalString</span><span class="op" id="4691364">(</span><span class="ident" id="4691365">typ</span>&nbsp;<span class="ident" id="4691369"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4691376">.</span><span class="ident" id="4691377">Type</span><span class="op" id="4691381">,</span>&nbsp;<span class="ident" id="4691383">n</span>&nbsp;<span class="ident" id="4691385"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4691390">.</span><span class="ident" id="4691391">Node</span><span class="op" id="4691395">)</span>&nbsp;<span class="ident" id="4691397"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4691404">.</span><span class="ident" id="4691405">Value</span>&nbsp;<span class="op" id="4691411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4691414"><a href="/text/template/exec.go.html#4691344">s</a></span><span class="op" id="4691415">.</span><span class="ident" id="4691416">at</span><span class="op" id="4691418">(</span><span class="ident" id="4691419"><a href="/text/template/exec.go.html#4691383">n</a></span><span class="op" id="4691420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4691423">if</span>&nbsp;<span class="ident" id="4691426">n</span><span class="op" id="4691427">,</span>&nbsp;<span class="ident" id="4691429">ok</span>&nbsp;<span class="op" id="4691432">:=</span>&nbsp;<span class="ident" id="4691435"><a href="/text/template/exec.go.html#4691383">n</a></span><span class="op" id="4691436">.</span><span class="op" id="4691437">(</span><span class="op" id="4691438">*</span><span class="ident" id="4691439"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4691444">.</span><span class="ident" id="4691445">StringNode</span><span class="op" id="4691455">)</span><span class="op" id="4691456">;</span>&nbsp;<span class="ident" id="4691458"><a href="/text/template/exec.go.html#4691429">ok</a></span>&nbsp;<span class="op" id="4691461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4691465">value</span>&nbsp;<span class="op" id="4691471">:=</span>&nbsp;<span class="ident" id="4691474"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4691481">.</span><span class="ident" id="4691482">New</span><span class="op" id="4691485">(</span><span class="ident" id="4691486"><a href="/text/template/exec.go.html#4691365">typ</a></span><span class="op" id="4691489">)</span><span class="op" id="4691490">.</span><span class="ident" id="4691491">Elem</span><span class="op" id="4691495">(</span><span class="op" id="4691496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4691500"><a href="/text/template/exec.go.html#4691465">value</a></span><span class="op" id="4691505">.</span><span class="ident" id="4691506">SetString</span><span class="op" id="4691515">(</span><span class="ident" id="4691516"><a href="/text/template/exec.go.html#4691426">n</a></span><span class="op" id="4691517">.</span><span class="ident" id="4691518">Text</span><span class="op" id="4691522">)</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4691526">return</span>&nbsp;<span class="ident" id="4691533"><a href="/text/template/exec.go.html#4691465">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4691540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4691543"><a href="/text/template/exec.go.html#4691344">s</a></span><span class="op" id="4691544">.</span><span class="ident" id="4691545">errorf</span><span class="op" id="4691551">(</span><span class="string" id="4691552">&#34;expected&nbsp;string;&nbsp;found&nbsp;%s&#34;</span><span class="op" id="4691579">,</span>&nbsp;<span class="ident" id="4691581"><a href="/text/template/exec.go.html#4691383">n</a></span><span class="op" id="4691582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4691585">panic</span><span class="op" id="4691590">(</span><span class="string" id="4691591">&#34;not&nbsp;reached&#34;</span><span class="op" id="4691604">)</span><br>
<span class="lineno"></span><span class="op" id="4691606">}</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span><span class="keyword" id="4691609">func</span>&nbsp;<span class="op" id="4691614">(</span><span class="ident" id="4691615">s</span>&nbsp;<span class="op" id="4691617">*</span><span class="ident" id="4691618"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4691623">)</span>&nbsp;<span class="ident" id="4691625">evalInteger</span><span class="op" id="4691636">(</span><span class="ident" id="4691637">typ</span>&nbsp;<span class="ident" id="4691641"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4691648">.</span><span class="ident" id="4691649">Type</span><span class="op" id="4691653">,</span>&nbsp;<span class="ident" id="4691655">n</span>&nbsp;<span class="ident" id="4691657"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4691662">.</span><span class="ident" id="4691663">Node</span><span class="op" id="4691667">)</span>&nbsp;<span class="ident" id="4691669"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4691676">.</span><span class="ident" id="4691677">Value</span>&nbsp;<span class="op" id="4691683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4691686"><a href="/text/template/exec.go.html#4691615">s</a></span><span class="op" id="4691687">.</span><span class="ident" id="4691688">at</span><span class="op" id="4691690">(</span><span class="ident" id="4691691"><a href="/text/template/exec.go.html#4691655">n</a></span><span class="op" id="4691692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4691695">if</span>&nbsp;<span class="ident" id="4691698">n</span><span class="op" id="4691699">,</span>&nbsp;<span class="ident" id="4691701">ok</span>&nbsp;<span class="op" id="4691704">:=</span>&nbsp;<span class="ident" id="4691707"><a href="/text/template/exec.go.html#4691655">n</a></span><span class="op" id="4691708">.</span><span class="op" id="4691709">(</span><span class="op" id="4691710">*</span><span class="ident" id="4691711"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4691716">.</span><span class="ident" id="4691717">NumberNode</span><span class="op" id="4691727">)</span><span class="op" id="4691728">;</span>&nbsp;<span class="ident" id="4691730"><a href="/text/template/exec.go.html#4691701">ok</a></span>&nbsp;<span class="op" id="4691733">&amp;&amp;</span>&nbsp;<span class="ident" id="4691736"><a href="/text/template/exec.go.html#4691698">n</a></span><span class="op" id="4691737">.</span><span class="ident" id="4691738">IsInt</span>&nbsp;<span class="op" id="4691744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4691748">value</span>&nbsp;<span class="op" id="4691754">:=</span>&nbsp;<span class="ident" id="4691757"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4691764">.</span><span class="ident" id="4691765">New</span><span class="op" id="4691768">(</span><span class="ident" id="4691769"><a href="/text/template/exec.go.html#4691637">typ</a></span><span class="op" id="4691772">)</span><span class="op" id="4691773">.</span><span class="ident" id="4691774">Elem</span><span class="op" id="4691778">(</span><span class="op" id="4691779">)</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4691783"><a href="/text/template/exec.go.html#4691748">value</a></span><span class="op" id="4691788">.</span><span class="ident" id="4691789">SetInt</span><span class="op" id="4691795">(</span><span class="ident" id="4691796"><a href="/text/template/exec.go.html#4691698">n</a></span><span class="op" id="4691797">.</span><span class="ident" id="4691798">Int64</span><span class="op" id="4691803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4691807">return</span>&nbsp;<span class="ident" id="4691814"><a href="/text/template/exec.go.html#4691748">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4691821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4691824"><a href="/text/template/exec.go.html#4691615">s</a></span><span class="op" id="4691825">.</span><span class="ident" id="4691826">errorf</span><span class="op" id="4691832">(</span><span class="string" id="4691833">&#34;expected&nbsp;integer;&nbsp;found&nbsp;%s&#34;</span><span class="op" id="4691861">,</span>&nbsp;<span class="ident" id="4691863"><a href="/text/template/exec.go.html#4691655">n</a></span><span class="op" id="4691864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4691867">panic</span><span class="op" id="4691872">(</span><span class="string" id="4691873">&#34;not&nbsp;reached&#34;</span><span class="op" id="4691886">)</span><br>
<span class="lineno">695</span><span class="op" id="4691888">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4691891">func</span>&nbsp;<span class="op" id="4691896">(</span><span class="ident" id="4691897">s</span>&nbsp;<span class="op" id="4691899">*</span><span class="ident" id="4691900"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4691905">)</span>&nbsp;<span class="ident" id="4691907">evalUnsignedInteger</span><span class="op" id="4691926">(</span><span class="ident" id="4691927">typ</span>&nbsp;<span class="ident" id="4691931"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4691938">.</span><span class="ident" id="4691939">Type</span><span class="op" id="4691943">,</span>&nbsp;<span class="ident" id="4691945">n</span>&nbsp;<span class="ident" id="4691947"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4691952">.</span><span class="ident" id="4691953">Node</span><span class="op" id="4691957">)</span>&nbsp;<span class="ident" id="4691959"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4691966">.</span><span class="ident" id="4691967">Value</span>&nbsp;<span class="op" id="4691973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4691976"><a href="/text/template/exec.go.html#4691897">s</a></span><span class="op" id="4691977">.</span><span class="ident" id="4691978">at</span><span class="op" id="4691980">(</span><span class="ident" id="4691981"><a href="/text/template/exec.go.html#4691945">n</a></span><span class="op" id="4691982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4691985">if</span>&nbsp;<span class="ident" id="4691988">n</span><span class="op" id="4691989">,</span>&nbsp;<span class="ident" id="4691991">ok</span>&nbsp;<span class="op" id="4691994">:=</span>&nbsp;<span class="ident" id="4691997"><a href="/text/template/exec.go.html#4691945">n</a></span><span class="op" id="4691998">.</span><span class="op" id="4691999">(</span><span class="op" id="4692000">*</span><span class="ident" id="4692001"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4692006">.</span><span class="ident" id="4692007">NumberNode</span><span class="op" id="4692017">)</span><span class="op" id="4692018">;</span>&nbsp;<span class="ident" id="4692020"><a href="/text/template/exec.go.html#4691991">ok</a></span>&nbsp;<span class="op" id="4692023">&amp;&amp;</span>&nbsp;<span class="ident" id="4692026"><a href="/text/template/exec.go.html#4691988">n</a></span><span class="op" id="4692027">.</span><span class="ident" id="4692028">IsUint</span>&nbsp;<span class="op" id="4692035">{</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4692039">value</span>&nbsp;<span class="op" id="4692045">:=</span>&nbsp;<span class="ident" id="4692048"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4692055">.</span><span class="ident" id="4692056">New</span><span class="op" id="4692059">(</span><span class="ident" id="4692060"><a href="/text/template/exec.go.html#4691927">typ</a></span><span class="op" id="4692063">)</span><span class="op" id="4692064">.</span><span class="ident" id="4692065">Elem</span><span class="op" id="4692069">(</span><span class="op" id="4692070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4692074"><a href="/text/template/exec.go.html#4692039">value</a></span><span class="op" id="4692079">.</span><span class="ident" id="4692080">SetUint</span><span class="op" id="4692087">(</span><span class="ident" id="4692088"><a href="/text/template/exec.go.html#4691988">n</a></span><span class="op" id="4692089">.</span><span class="ident" id="4692090">Uint64</span><span class="op" id="4692096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4692100">return</span>&nbsp;<span class="ident" id="4692107"><a href="/text/template/exec.go.html#4692039">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4692114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4692117"><a href="/text/template/exec.go.html#4691897">s</a></span><span class="op" id="4692118">.</span><span class="ident" id="4692119">errorf</span><span class="op" id="4692125">(</span><span class="string" id="4692126">&#34;expected&nbsp;unsigned&nbsp;integer;&nbsp;found&nbsp;%s&#34;</span><span class="op" id="4692163">,</span>&nbsp;<span class="ident" id="4692165"><a href="/text/template/exec.go.html#4691945">n</a></span><span class="op" id="4692166">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4692169">panic</span><span class="op" id="4692174">(</span><span class="string" id="4692175">&#34;not&nbsp;reached&#34;</span><span class="op" id="4692188">)</span><br>
<span class="lineno"></span><span class="op" id="4692190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4692193">func</span>&nbsp;<span class="op" id="4692198">(</span><span class="ident" id="4692199">s</span>&nbsp;<span class="op" id="4692201">*</span><span class="ident" id="4692202"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4692207">)</span>&nbsp;<span class="ident" id="4692209">evalFloat</span><span class="op" id="4692218">(</span><span class="ident" id="4692219">typ</span>&nbsp;<span class="ident" id="4692223"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4692230">.</span><span class="ident" id="4692231">Type</span><span class="op" id="4692235">,</span>&nbsp;<span class="ident" id="4692237">n</span>&nbsp;<span class="ident" id="4692239"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4692244">.</span><span class="ident" id="4692245">Node</span><span class="op" id="4692249">)</span>&nbsp;<span class="ident" id="4692251"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4692258">.</span><span class="ident" id="4692259">Value</span>&nbsp;<span class="op" id="4692265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4692268"><a href="/text/template/exec.go.html#4692199">s</a></span><span class="op" id="4692269">.</span><span class="ident" id="4692270">at</span><span class="op" id="4692272">(</span><span class="ident" id="4692273"><a href="/text/template/exec.go.html#4692237">n</a></span><span class="op" id="4692274">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4692277">if</span>&nbsp;<span class="ident" id="4692280">n</span><span class="op" id="4692281">,</span>&nbsp;<span class="ident" id="4692283">ok</span>&nbsp;<span class="op" id="4692286">:=</span>&nbsp;<span class="ident" id="4692289"><a href="/text/template/exec.go.html#4692237">n</a></span><span class="op" id="4692290">.</span><span class="op" id="4692291">(</span><span class="op" id="4692292">*</span><span class="ident" id="4692293"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4692298">.</span><span class="ident" id="4692299">NumberNode</span><span class="op" id="4692309">)</span><span class="op" id="4692310">;</span>&nbsp;<span class="ident" id="4692312"><a href="/text/template/exec.go.html#4692283">ok</a></span>&nbsp;<span class="op" id="4692315">&amp;&amp;</span>&nbsp;<span class="ident" id="4692318"><a href="/text/template/exec.go.html#4692280">n</a></span><span class="op" id="4692319">.</span><span class="ident" id="4692320">IsFloat</span>&nbsp;<span class="op" id="4692328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4692332">value</span>&nbsp;<span class="op" id="4692338">:=</span>&nbsp;<span class="ident" id="4692341"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4692348">.</span><span class="ident" id="4692349">New</span><span class="op" id="4692352">(</span><span class="ident" id="4692353"><a href="/text/template/exec.go.html#4692219">typ</a></span><span class="op" id="4692356">)</span><span class="op" id="4692357">.</span><span class="ident" id="4692358">Elem</span><span class="op" id="4692362">(</span><span class="op" id="4692363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4692367"><a href="/text/template/exec.go.html#4692332">value</a></span><span class="op" id="4692372">.</span><span class="ident" id="4692373">SetFloat</span><span class="op" id="4692381">(</span><span class="ident" id="4692382"><a href="/text/template/exec.go.html#4692280">n</a></span><span class="op" id="4692383">.</span><span class="ident" id="4692384">Float64</span><span class="op" id="4692391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4692395">return</span>&nbsp;<span class="ident" id="4692402"><a href="/text/template/exec.go.html#4692332">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4692409">}</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4692412"><a href="/text/template/exec.go.html#4692199">s</a></span><span class="op" id="4692413">.</span><span class="ident" id="4692414">errorf</span><span class="op" id="4692420">(</span><span class="string" id="4692421">&#34;expected&nbsp;float;&nbsp;found&nbsp;%s&#34;</span><span class="op" id="4692447">,</span>&nbsp;<span class="ident" id="4692449"><a href="/text/template/exec.go.html#4692237">n</a></span><span class="op" id="4692450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4692453">panic</span><span class="op" id="4692458">(</span><span class="string" id="4692459">&#34;not&nbsp;reached&#34;</span><span class="op" id="4692472">)</span><br>
<span class="lineno"></span><span class="op" id="4692474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4692477">func</span>&nbsp;<span class="op" id="4692482">(</span><span class="ident" id="4692483">s</span>&nbsp;<span class="op" id="4692485">*</span><span class="ident" id="4692486"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4692491">)</span>&nbsp;<span class="ident" id="4692493">evalComplex</span><span class="op" id="4692504">(</span><span class="ident" id="4692505">typ</span>&nbsp;<span class="ident" id="4692509"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4692516">.</span><span class="ident" id="4692517">Type</span><span class="op" id="4692521">,</span>&nbsp;<span class="ident" id="4692523">n</span>&nbsp;<span class="ident" id="4692525"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4692530">.</span><span class="ident" id="4692531">Node</span><span class="op" id="4692535">)</span>&nbsp;<span class="ident" id="4692537"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4692544">.</span><span class="ident" id="4692545">Value</span>&nbsp;<span class="op" id="4692551">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4692554">if</span>&nbsp;<span class="ident" id="4692557">n</span><span class="op" id="4692558">,</span>&nbsp;<span class="ident" id="4692560">ok</span>&nbsp;<span class="op" id="4692563">:=</span>&nbsp;<span class="ident" id="4692566"><a href="/text/template/exec.go.html#4692523">n</a></span><span class="op" id="4692567">.</span><span class="op" id="4692568">(</span><span class="op" id="4692569">*</span><span class="ident" id="4692570"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4692575">.</span><span class="ident" id="4692576">NumberNode</span><span class="op" id="4692586">)</span><span class="op" id="4692587">;</span>&nbsp;<span class="ident" id="4692589"><a href="/text/template/exec.go.html#4692560">ok</a></span>&nbsp;<span class="op" id="4692592">&amp;&amp;</span>&nbsp;<span class="ident" id="4692595"><a href="/text/template/exec.go.html#4692557">n</a></span><span class="op" id="4692596">.</span><span class="ident" id="4692597">IsComplex</span>&nbsp;<span class="op" id="4692607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4692611">value</span>&nbsp;<span class="op" id="4692617">:=</span>&nbsp;<span class="ident" id="4692620"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4692627">.</span><span class="ident" id="4692628">New</span><span class="op" id="4692631">(</span><span class="ident" id="4692632"><a href="/text/template/exec.go.html#4692505">typ</a></span><span class="op" id="4692635">)</span><span class="op" id="4692636">.</span><span class="ident" id="4692637">Elem</span><span class="op" id="4692641">(</span><span class="op" id="4692642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4692646"><a href="/text/template/exec.go.html#4692611">value</a></span><span class="op" id="4692651">.</span><span class="ident" id="4692652">SetComplex</span><span class="op" id="4692662">(</span><span class="ident" id="4692663"><a href="/text/template/exec.go.html#4692557">n</a></span><span class="op" id="4692664">.</span><span class="ident" id="4692665">Complex128</span><span class="op" id="4692675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4692679">return</span>&nbsp;<span class="ident" id="4692686"><a href="/text/template/exec.go.html#4692611">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4692693">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4692696"><a href="/text/template/exec.go.html#4692483">s</a></span><span class="op" id="4692697">.</span><span class="ident" id="4692698">errorf</span><span class="op" id="4692704">(</span><span class="string" id="4692705">&#34;expected&nbsp;complex;&nbsp;found&nbsp;%s&#34;</span><span class="op" id="4692733">,</span>&nbsp;<span class="ident" id="4692735"><a href="/text/template/exec.go.html#4692523">n</a></span><span class="op" id="4692736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4692739">panic</span><span class="op" id="4692744">(</span><span class="string" id="4692745">&#34;not&nbsp;reached&#34;</span><span class="op" id="4692758">)</span><br>
<span class="lineno"></span><span class="op" id="4692760">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4692763">func</span>&nbsp;<span class="op" id="4692768">(</span><span class="ident" id="4692769">s</span>&nbsp;<span class="op" id="4692771">*</span><span class="ident" id="4692772"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4692777">)</span>&nbsp;<span class="ident" id="4692779">evalEmptyInterface</span><span class="op" id="4692797">(</span><span class="ident" id="4692798">dot</span>&nbsp;<span class="ident" id="4692802"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4692809">.</span><span class="ident" id="4692810">Value</span><span class="op" id="4692815">,</span>&nbsp;<span class="ident" id="4692817">n</span>&nbsp;<span class="ident" id="4692819"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4692824">.</span><span class="ident" id="4692825">Node</span><span class="op" id="4692829">)</span>&nbsp;<span class="ident" id="4692831"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4692838">.</span><span class="ident" id="4692839">Value</span>&nbsp;<span class="op" id="4692845">{</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4692848"><a href="/text/template/exec.go.html#4692769">s</a></span><span class="op" id="4692849">.</span><span class="ident" id="4692850">at</span><span class="op" id="4692852">(</span><span class="ident" id="4692853"><a href="/text/template/exec.go.html#4692817">n</a></span><span class="op" id="4692854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4692857">switch</span>&nbsp;<span class="ident" id="4692864">n</span>&nbsp;<span class="op" id="4692866">:=</span>&nbsp;<span class="ident" id="4692869"><a href="/text/template/exec.go.html#4692817">n</a></span><span class="op" id="4692870">.</span><span class="op" id="4692871">(</span><span class="keyword" id="4692872">type</span><span class="op" id="4692876">)</span>&nbsp;<span class="op" id="4692878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4692881">case</span>&nbsp;<span class="op" id="4692886">*</span><span class="ident" id="4692887"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4692892">.</span><span class="ident" id="4692893">BoolNode</span><span class="op" id="4692901">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4692905">return</span>&nbsp;<span class="ident" id="4692912"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4692919">.</span><span class="ident" id="4692920">ValueOf</span><span class="op" id="4692927">(</span><span class="ident" id="4692928"><a href="/text/template/exec.go.html#4692864">n</a></span><span class="op" id="4692929">.</span><span class="ident" id="4692930">True</span><span class="op" id="4692934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4692937">case</span>&nbsp;<span class="op" id="4692942">*</span><span class="ident" id="4692943"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4692948">.</span><span class="ident" id="4692949">DotNode</span><span class="op" id="4692956">:</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4692960">return</span>&nbsp;<span class="ident" id="4692967"><a href="/text/template/exec.go.html#4692798">dot</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4692972">case</span>&nbsp;<span class="op" id="4692977">*</span><span class="ident" id="4692978"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4692983">.</span><span class="ident" id="4692984">FieldNode</span><span class="op" id="4692993">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4692997">return</span>&nbsp;<span class="ident" id="4693004"><a href="/text/template/exec.go.html#4692769">s</a></span><span class="op" id="4693005">.</span><span class="ident" id="4693006">evalFieldNode</span><span class="op" id="4693019">(</span><span class="ident" id="4693020"><a href="/text/template/exec.go.html#4692798">dot</a></span><span class="op" id="4693023">,</span>&nbsp;<span class="ident" id="4693025"><a href="/text/template/exec.go.html#4692864">n</a></span><span class="op" id="4693026">,</span>&nbsp;<span class="ident" id="4693028">nil</span><span class="op" id="4693031">,</span>&nbsp;<span class="ident" id="4693033"><a href="/text/template/exec.go.html#4671411">zero</a></span><span class="op" id="4693037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4693040">case</span>&nbsp;<span class="op" id="4693045">*</span><span class="ident" id="4693046"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4693051">.</span><span class="ident" id="4693052">IdentifierNode</span><span class="op" id="4693066">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4693070">return</span>&nbsp;<span class="ident" id="4693077"><a href="/text/template/exec.go.html#4692769">s</a></span><span class="op" id="4693078">.</span><span class="ident" id="4693079">evalFunction</span><span class="op" id="4693091">(</span><span class="ident" id="4693092"><a href="/text/template/exec.go.html#4692798">dot</a></span><span class="op" id="4693095">,</span>&nbsp;<span class="ident" id="4693097"><a href="/text/template/exec.go.html#4692864">n</a></span><span class="op" id="4693098">,</span>&nbsp;<span class="ident" id="4693100"><a href="/text/template/exec.go.html#4692864">n</a></span><span class="op" id="4693101">,</span>&nbsp;<span class="ident" id="4693103">nil</span><span class="op" id="4693106">,</span>&nbsp;<span class="ident" id="4693108"><a href="/text/template/exec.go.html#4671411">zero</a></span><span class="op" id="4693112">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4693115">case</span>&nbsp;<span class="op" id="4693120">*</span><span class="ident" id="4693121"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4693126">.</span><span class="ident" id="4693127">NilNode</span><span class="op" id="4693134">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4693138">//&nbsp;NilNode&nbsp;is&nbsp;handled&nbsp;in&nbsp;evalArg,&nbsp;the&nbsp;only&nbsp;place&nbsp;that&nbsp;calls&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4693206"><a href="/text/template/exec.go.html#4692769">s</a></span><span class="op" id="4693207">.</span><span class="ident" id="4693208">errorf</span><span class="op" id="4693214">(</span><span class="string" id="4693215">&#34;evalEmptyInterface:&nbsp;nil&nbsp;(can&#39;t&nbsp;happen)&#34;</span><span class="op" id="4693255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4693258">case</span>&nbsp;<span class="op" id="4693263">*</span><span class="ident" id="4693264"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4693269">.</span><span class="ident" id="4693270">NumberNode</span><span class="op" id="4693280">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4693284">return</span>&nbsp;<span class="ident" id="4693291"><a href="/text/template/exec.go.html#4692769">s</a></span><span class="op" id="4693292">.</span><span class="ident" id="4693293">idealConstant</span><span class="op" id="4693306">(</span><span class="ident" id="4693307"><a href="/text/template/exec.go.html#4692864">n</a></span><span class="op" id="4693308">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4693311">case</span>&nbsp;<span class="op" id="4693316">*</span><span class="ident" id="4693317"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4693322">.</span><span class="ident" id="4693323">StringNode</span><span class="op" id="4693333">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4693337">return</span>&nbsp;<span class="ident" id="4693344"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4693351">.</span><span class="ident" id="4693352">ValueOf</span><span class="op" id="4693359">(</span><span class="ident" id="4693360"><a href="/text/template/exec.go.html#4692864">n</a></span><span class="op" id="4693361">.</span><span class="ident" id="4693362">Text</span><span class="op" id="4693366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4693369">case</span>&nbsp;<span class="op" id="4693374">*</span><span class="ident" id="4693375"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4693380">.</span><span class="ident" id="4693381">VariableNode</span><span class="op" id="4693393">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4693397">return</span>&nbsp;<span class="ident" id="4693404"><a href="/text/template/exec.go.html#4692769">s</a></span><span class="op" id="4693405">.</span><span class="ident" id="4693406">evalVariableNode</span><span class="op" id="4693422">(</span><span class="ident" id="4693423"><a href="/text/template/exec.go.html#4692798">dot</a></span><span class="op" id="4693426">,</span>&nbsp;<span class="ident" id="4693428"><a href="/text/template/exec.go.html#4692864">n</a></span><span class="op" id="4693429">,</span>&nbsp;<span class="ident" id="4693431">nil</span><span class="op" id="4693434">,</span>&nbsp;<span class="ident" id="4693436"><a href="/text/template/exec.go.html#4671411">zero</a></span><span class="op" id="4693440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4693443">case</span>&nbsp;<span class="op" id="4693448">*</span><span class="ident" id="4693449"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4693454">.</span><span class="ident" id="4693455">PipeNode</span><span class="op" id="4693463">:</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4693467">return</span>&nbsp;<span class="ident" id="4693474"><a href="/text/template/exec.go.html#4692769">s</a></span><span class="op" id="4693475">.</span><span class="ident" id="4693476">evalPipeline</span><span class="op" id="4693488">(</span><span class="ident" id="4693489"><a href="/text/template/exec.go.html#4692798">dot</a></span><span class="op" id="4693492">,</span>&nbsp;<span class="ident" id="4693494"><a href="/text/template/exec.go.html#4692864">n</a></span><span class="op" id="4693495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4693498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4693501"><a href="/text/template/exec.go.html#4692769">s</a></span><span class="op" id="4693502">.</span><span class="ident" id="4693503">errorf</span><span class="op" id="4693509">(</span><span class="string" id="4693510">&#34;can&#39;t&nbsp;handle&nbsp;assignment&nbsp;of&nbsp;%s&nbsp;to&nbsp;empty&nbsp;interface&nbsp;argument&#34;</span><span class="op" id="4693569">,</span>&nbsp;<span class="ident" id="4693571"><a href="/text/template/exec.go.html#4692817">n</a></span><span class="op" id="4693572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4693575">panic</span><span class="op" id="4693580">(</span><span class="string" id="4693581">&#34;not&nbsp;reached&#34;</span><span class="op" id="4693594">)</span><br>
<span class="lineno"></span><span class="op" id="4693596">}</span><br>
<span class="lineno">755</span><br>
<span class="lineno"></span><span class="comment" id="4693599">//&nbsp;indirect&nbsp;returns&nbsp;the&nbsp;item&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;indirection,&nbsp;and&nbsp;a&nbsp;bool&nbsp;to&nbsp;indicate&nbsp;if&nbsp;it&#39;s&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="4693691">//&nbsp;We&nbsp;indirect&nbsp;through&nbsp;pointers&nbsp;and&nbsp;empty&nbsp;interfaces&nbsp;(only)&nbsp;because</span><br>
<span class="lineno"></span><span class="comment" id="4693759">//&nbsp;non-empty&nbsp;interfaces&nbsp;have&nbsp;methods&nbsp;we&nbsp;might&nbsp;need.</span><br>
<span class="lineno"></span><span class="keyword" id="4693811">func</span>&nbsp;<span class="ident" id="4693816">indirect</span><span class="op" id="4693824">(</span><span class="ident" id="4693825">v</span>&nbsp;<span class="ident" id="4693827"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4693834">.</span><span class="ident" id="4693835">Value</span><span class="op" id="4693840">)</span>&nbsp;<span class="op" id="4693842">(</span><span class="ident" id="4693843">rv</span>&nbsp;<span class="ident" id="4693846"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4693853">.</span><span class="ident" id="4693854">Value</span><span class="op" id="4693859">,</span>&nbsp;<span class="ident" id="4693861">isNil</span>&nbsp;<span class="builtintype" id="4693867">bool</span><span class="op" id="4693871">)</span>&nbsp;<span class="op" id="4693873">{</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4693876">for</span>&nbsp;<span class="op" id="4693880">;</span>&nbsp;<span class="ident" id="4693882"><a href="/text/template/exec.go.html#4693825">v</a></span><span class="op" id="4693883">.</span><span class="ident" id="4693884">Kind</span><span class="op" id="4693888">(</span><span class="op" id="4693889">)</span>&nbsp;<span class="op" id="4693891">==</span>&nbsp;<span class="ident" id="4693894"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4693901">.</span><span class="ident" id="4693902">Ptr</span>&nbsp;<span class="op" id="4693906">||</span>&nbsp;<span class="ident" id="4693909"><a href="/text/template/exec.go.html#4693825">v</a></span><span class="op" id="4693910">.</span><span class="ident" id="4693911">Kind</span><span class="op" id="4693915">(</span><span class="op" id="4693916">)</span>&nbsp;<span class="op" id="4693918">==</span>&nbsp;<span class="ident" id="4693921"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4693928">.</span><span class="ident" id="4693929">Interface</span><span class="op" id="4693938">;</span>&nbsp;<span class="ident" id="4693940"><a href="/text/template/exec.go.html#4693825">v</a></span>&nbsp;<span class="op" id="4693942">=</span>&nbsp;<span class="ident" id="4693944"><a href="/text/template/exec.go.html#4693825">v</a></span><span class="op" id="4693945">.</span><span class="ident" id="4693946">Elem</span><span class="op" id="4693950">(</span><span class="op" id="4693951">)</span>&nbsp;<span class="op" id="4693953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4693957">if</span>&nbsp;<span class="ident" id="4693960"><a href="/text/template/exec.go.html#4693825">v</a></span><span class="op" id="4693961">.</span><span class="ident" id="4693962">IsNil</span><span class="op" id="4693967">(</span><span class="op" id="4693968">)</span>&nbsp;<span class="op" id="4693970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4693975">return</span>&nbsp;<span class="ident" id="4693982"><a href="/text/template/exec.go.html#4693825">v</a></span><span class="op" id="4693983">,</span>&nbsp;<span class="builtintype" id="4693985">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4693992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4693996">if</span>&nbsp;<span class="ident" id="4693999"><a href="/text/template/exec.go.html#4693825">v</a></span><span class="op" id="4694000">.</span><span class="ident" id="4694001">Kind</span><span class="op" id="4694005">(</span><span class="op" id="4694006">)</span>&nbsp;<span class="op" id="4694008">==</span>&nbsp;<span class="ident" id="4694011"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4694018">.</span><span class="ident" id="4694019">Interface</span>&nbsp;<span class="op" id="4694029">&amp;&amp;</span>&nbsp;<span class="ident" id="4694032"><a href="/text/template/exec.go.html#4693825">v</a></span><span class="op" id="4694033">.</span><span class="ident" id="4694034">NumMethod</span><span class="op" id="4694043">(</span><span class="op" id="4694044">)</span>&nbsp;<span class="op" id="4694046">&gt;</span>&nbsp;<span class="num" id="4694048">0</span>&nbsp;<span class="op" id="4694050">{</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4694055">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4694063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4694066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4694069">return</span>&nbsp;<span class="ident" id="4694076"><a href="/text/template/exec.go.html#4693825">v</a></span><span class="op" id="4694077">,</span>&nbsp;<span class="builtintype" id="4694079">false</span><br>
<span class="lineno"></span><span class="op" id="4694085">}</span><br>
<span class="lineno">770</span><br>
<span class="lineno"></span><span class="comment" id="4694088">//&nbsp;printValue&nbsp;writes&nbsp;the&nbsp;textual&nbsp;representation&nbsp;of&nbsp;the&nbsp;value&nbsp;to&nbsp;the&nbsp;output&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="4694166">//&nbsp;the&nbsp;template.</span><br>
<span class="lineno"></span><span class="keyword" id="4694183">func</span>&nbsp;<span class="op" id="4694188">(</span><span class="ident" id="4694189">s</span>&nbsp;<span class="op" id="4694191">*</span><span class="ident" id="4694192"><a href="/text/template/exec.go.html#4670324">state</a></span><span class="op" id="4694197">)</span>&nbsp;<span class="ident" id="4694199">printValue</span><span class="op" id="4694209">(</span><span class="ident" id="4694210">n</span>&nbsp;<span class="ident" id="4694212"><a href="/text/template/exec.go.html#4670137">parse</a></span><span class="op" id="4694217">.</span><span class="ident" id="4694218">Node</span><span class="op" id="4694222">,</span>&nbsp;<span class="ident" id="4694224">v</span>&nbsp;<span class="ident" id="4694226"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4694233">.</span><span class="ident" id="4694234">Value</span><span class="op" id="4694239">)</span>&nbsp;<span class="op" id="4694241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4694244"><a href="/text/template/exec.go.html#4694189">s</a></span><span class="op" id="4694245">.</span><span class="ident" id="4694246">at</span><span class="op" id="4694248">(</span><span class="ident" id="4694249"><a href="/text/template/exec.go.html#4694210">n</a></span><span class="op" id="4694250">)</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4694253">iface</span><span class="op" id="4694258">,</span>&nbsp;<span class="ident" id="4694260">ok</span>&nbsp;<span class="op" id="4694263">:=</span>&nbsp;<span class="ident" id="4694266"><a href="/text/template/exec.go.html#4694509">printableValue</a></span><span class="op" id="4694280">(</span><span class="ident" id="4694281"><a href="/text/template/exec.go.html#4694224">v</a></span><span class="op" id="4694282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4694285">if</span>&nbsp;<span class="op" id="4694288">!</span><span class="ident" id="4694289"><a href="/text/template/exec.go.html#4694260">ok</a></span>&nbsp;<span class="op" id="4694292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4694296"><a href="/text/template/exec.go.html#4694189">s</a></span><span class="op" id="4694297">.</span><span class="ident" id="4694298">errorf</span><span class="op" id="4694304">(</span><span class="string" id="4694305">&#34;can&#39;t&nbsp;print&nbsp;%s&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="4694332">,</span>&nbsp;<span class="ident" id="4694334"><a href="/text/template/exec.go.html#4694210">n</a></span><span class="op" id="4694335">,</span>&nbsp;<span class="ident" id="4694337"><a href="/text/template/exec.go.html#4694224">v</a></span><span class="op" id="4694338">.</span><span class="ident" id="4694339">Type</span><span class="op" id="4694343">(</span><span class="op" id="4694344">)</span><span class="op" id="4694345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4694348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4694351"><a href="/text/template/exec.go.html#4670083">fmt</a></span><span class="op" id="4694354">.</span><span class="ident" id="4694355">Fprint</span><span class="op" id="4694361">(</span><span class="ident" id="4694362"><a href="/text/template/exec.go.html#4694189">s</a></span><span class="op" id="4694363">.</span><span class="ident" id="4694364">wr</span><span class="op" id="4694366">,</span>&nbsp;<span class="ident" id="4694368"><a href="/text/template/exec.go.html#4694253">iface</a></span><span class="op" id="4694373">)</span><br>
<span class="lineno">780</span><span class="op" id="4694375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4694378">//&nbsp;printableValue&nbsp;returns&nbsp;the,&nbsp;possibly&nbsp;indirected,&nbsp;interface&nbsp;value&nbsp;inside&nbsp;v&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="4694460">//&nbsp;is&nbsp;best&nbsp;for&nbsp;a&nbsp;call&nbsp;to&nbsp;formatted&nbsp;printer.</span><br>
<span class="lineno"></span><span class="keyword" id="4694504">func</span>&nbsp;<span class="ident" id="4694509">printableValue</span><span class="op" id="4694523">(</span><span class="ident" id="4694524">v</span>&nbsp;<span class="ident" id="4694526"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4694533">.</span><span class="ident" id="4694534">Value</span><span class="op" id="4694539">)</span>&nbsp;<span class="op" id="4694541">(</span><span class="keyword" id="4694542">interface</span><span class="op" id="4694551">{</span><span class="op" id="4694552">}</span><span class="op" id="4694553">,</span>&nbsp;<span class="builtintype" id="4694555">bool</span><span class="op" id="4694559">)</span>&nbsp;<span class="op" id="4694561">{</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4694564">if</span>&nbsp;<span class="ident" id="4694567"><a href="/text/template/exec.go.html#4694524">v</a></span><span class="op" id="4694568">.</span><span class="ident" id="4694569">Kind</span><span class="op" id="4694573">(</span><span class="op" id="4694574">)</span>&nbsp;<span class="op" id="4694576">==</span>&nbsp;<span class="ident" id="4694579"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4694586">.</span><span class="ident" id="4694587">Ptr</span>&nbsp;<span class="op" id="4694591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4694595"><a href="/text/template/exec.go.html#4694524">v</a></span><span class="op" id="4694596">,</span>&nbsp;<span class="ident" id="4694598">_</span>&nbsp;<span class="op" id="4694600">=</span>&nbsp;<span class="ident" id="4694602"><a href="/text/template/exec.go.html#4693816">indirect</a></span><span class="op" id="4694610">(</span><span class="ident" id="4694611"><a href="/text/template/exec.go.html#4694524">v</a></span><span class="op" id="4694612">)</span>&nbsp;<span class="comment" id="4694614">//&nbsp;fmt.Fprint&nbsp;handles&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4694642">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4694645">if</span>&nbsp;<span class="op" id="4694648">!</span><span class="ident" id="4694649"><a href="/text/template/exec.go.html#4694524">v</a></span><span class="op" id="4694650">.</span><span class="ident" id="4694651">IsValid</span><span class="op" id="4694658">(</span><span class="op" id="4694659">)</span>&nbsp;<span class="op" id="4694661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4694665">return</span>&nbsp;<span class="string" id="4694672">&#34;&lt;no&nbsp;value&gt;&#34;</span><span class="op" id="4694684">,</span>&nbsp;<span class="builtintype" id="4694686">true</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4694692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4694696">if</span>&nbsp;<span class="op" id="4694699">!</span><span class="ident" id="4694700"><a href="/text/template/exec.go.html#4694524">v</a></span><span class="op" id="4694701">.</span><span class="ident" id="4694702">Type</span><span class="op" id="4694706">(</span><span class="op" id="4694707">)</span><span class="op" id="4694708">.</span><span class="ident" id="4694709">Implements</span><span class="op" id="4694719">(</span><span class="ident" id="4694720"><a href="/text/template/exec.go.html#4685975">errorType</a></span><span class="op" id="4694729">)</span>&nbsp;<span class="op" id="4694731">&amp;&amp;</span>&nbsp;<span class="op" id="4694734">!</span><span class="ident" id="4694735"><a href="/text/template/exec.go.html#4694524">v</a></span><span class="op" id="4694736">.</span><span class="ident" id="4694737">Type</span><span class="op" id="4694741">(</span><span class="op" id="4694742">)</span><span class="op" id="4694743">.</span><span class="ident" id="4694744">Implements</span><span class="op" id="4694754">(</span><span class="ident" id="4694755"><a href="/text/template/exec.go.html#4686031">fmtStringerType</a></span><span class="op" id="4694770">)</span>&nbsp;<span class="op" id="4694772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4694776">if</span>&nbsp;<span class="ident" id="4694779"><a href="/text/template/exec.go.html#4694524">v</a></span><span class="op" id="4694780">.</span><span class="ident" id="4694781">CanAddr</span><span class="op" id="4694788">(</span><span class="op" id="4694789">)</span>&nbsp;<span class="op" id="4694791">&amp;&amp;</span>&nbsp;<span class="op" id="4694794">(</span><span class="ident" id="4694795"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4694802">.</span><span class="ident" id="4694803">PtrTo</span><span class="op" id="4694808">(</span><span class="ident" id="4694809"><a href="/text/template/exec.go.html#4694524">v</a></span><span class="op" id="4694810">.</span><span class="ident" id="4694811">Type</span><span class="op" id="4694815">(</span><span class="op" id="4694816">)</span><span class="op" id="4694817">)</span><span class="op" id="4694818">.</span><span class="ident" id="4694819">Implements</span><span class="op" id="4694829">(</span><span class="ident" id="4694830"><a href="/text/template/exec.go.html#4685975">errorType</a></span><span class="op" id="4694839">)</span>&nbsp;<span class="op" id="4694841">||</span>&nbsp;<span class="ident" id="4694844"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4694851">.</span><span class="ident" id="4694852">PtrTo</span><span class="op" id="4694857">(</span><span class="ident" id="4694858"><a href="/text/template/exec.go.html#4694524">v</a></span><span class="op" id="4694859">.</span><span class="ident" id="4694860">Type</span><span class="op" id="4694864">(</span><span class="op" id="4694865">)</span><span class="op" id="4694866">)</span><span class="op" id="4694867">.</span><span class="ident" id="4694868">Implements</span><span class="op" id="4694878">(</span><span class="ident" id="4694879"><a href="/text/template/exec.go.html#4686031">fmtStringerType</a></span><span class="op" id="4694894">)</span><span class="op" id="4694895">)</span>&nbsp;<span class="op" id="4694897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4694902"><a href="/text/template/exec.go.html#4694524">v</a></span>&nbsp;<span class="op" id="4694904">=</span>&nbsp;<span class="ident" id="4694906"><a href="/text/template/exec.go.html#4694524">v</a></span><span class="op" id="4694907">.</span><span class="ident" id="4694908">Addr</span><span class="op" id="4694912">(</span><span class="op" id="4694913">)</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4694917">}</span>&nbsp;<span class="keyword" id="4694919">else</span>&nbsp;<span class="op" id="4694924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4694929">switch</span>&nbsp;<span class="ident" id="4694936"><a href="/text/template/exec.go.html#4694524">v</a></span><span class="op" id="4694937">.</span><span class="ident" id="4694938">Kind</span><span class="op" id="4694942">(</span><span class="op" id="4694943">)</span>&nbsp;<span class="op" id="4694945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4694950">case</span>&nbsp;<span class="ident" id="4694955"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4694962">.</span><span class="ident" id="4694963">Chan</span><span class="op" id="4694967">,</span>&nbsp;<span class="ident" id="4694969"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4694976">.</span><span class="ident" id="4694977">Func</span><span class="op" id="4694981">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4694987">return</span>&nbsp;<span class="ident" id="4694994">nil</span><span class="op" id="4694997">,</span>&nbsp;<span class="builtintype" id="4694999">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4695008">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4695012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4695015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4695018">return</span>&nbsp;<span class="ident" id="4695025"><a href="/text/template/exec.go.html#4694524">v</a></span><span class="op" id="4695026">.</span><span class="ident" id="4695027">Interface</span><span class="op" id="4695036">(</span><span class="op" id="4695037">)</span><span class="op" id="4695038">,</span>&nbsp;<span class="builtintype" id="4695040">true</span><br>
<span class="lineno"></span><span class="op" id="4695045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">805</span><span class="comment" id="4695048">//&nbsp;Types&nbsp;to&nbsp;help&nbsp;sort&nbsp;the&nbsp;keys&nbsp;in&nbsp;a&nbsp;map&nbsp;for&nbsp;reproducible&nbsp;output.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4695114">type</span>&nbsp;<span class="ident" id="4695119">rvs</span>&nbsp;<span class="op" id="4695123">[</span><span class="op" id="4695124">]</span><span class="ident" id="4695125"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4695132">.</span><span class="ident" id="4695133">Value</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4695140">func</span>&nbsp;<span class="op" id="4695145">(</span><span class="ident" id="4695146">x</span>&nbsp;<span class="ident" id="4695148"><a href="/text/template/exec.go.html#4695119">rvs</a></span><span class="op" id="4695151">)</span>&nbsp;<span class="ident" id="4695153">Len</span><span class="op" id="4695156">(</span><span class="op" id="4695157">)</span>&nbsp;<span class="builtintype" id="4695159">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4695168">{</span>&nbsp;<span class="keyword" id="4695170">return</span>&nbsp;<span class="builtinfunc" id="4695177">len</span><span class="op" id="4695180">(</span><span class="ident" id="4695181"><a href="/text/template/exec.go.html#4695146">x</a></span><span class="op" id="4695182">)</span>&nbsp;<span class="op" id="4695184">}</span><br>
<span class="lineno">810</span><span class="keyword" id="4695186">func</span>&nbsp;<span class="op" id="4695191">(</span><span class="ident" id="4695192">x</span>&nbsp;<span class="ident" id="4695194"><a href="/text/template/exec.go.html#4695119">rvs</a></span><span class="op" id="4695197">)</span>&nbsp;<span class="ident" id="4695199">Swap</span><span class="op" id="4695203">(</span><span class="ident" id="4695204">i</span><span class="op" id="4695205">,</span>&nbsp;<span class="ident" id="4695207">j</span>&nbsp;<span class="builtintype" id="4695209">int</span><span class="op" id="4695212">)</span>&nbsp;<span class="op" id="4695214">{</span>&nbsp;<span class="ident" id="4695216"><a href="/text/template/exec.go.html#4695192">x</a></span><span class="op" id="4695217">[</span><span class="ident" id="4695218"><a href="/text/template/exec.go.html#4695204">i</a></span><span class="op" id="4695219">]</span><span class="op" id="4695220">,</span>&nbsp;<span class="ident" id="4695222"><a href="/text/template/exec.go.html#4695192">x</a></span><span class="op" id="4695223">[</span><span class="ident" id="4695224"><a href="/text/template/exec.go.html#4695207">j</a></span><span class="op" id="4695225">]</span>&nbsp;<span class="op" id="4695227">=</span>&nbsp;<span class="ident" id="4695229"><a href="/text/template/exec.go.html#4695192">x</a></span><span class="op" id="4695230">[</span><span class="ident" id="4695231"><a href="/text/template/exec.go.html#4695207">j</a></span><span class="op" id="4695232">]</span><span class="op" id="4695233">,</span>&nbsp;<span class="ident" id="4695235"><a href="/text/template/exec.go.html#4695192">x</a></span><span class="op" id="4695236">[</span><span class="ident" id="4695237"><a href="/text/template/exec.go.html#4695204">i</a></span><span class="op" id="4695238">]</span>&nbsp;<span class="op" id="4695240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4695243">type</span>&nbsp;<span class="ident" id="4695248">rvInts</span>&nbsp;<span class="keyword" id="4695255">struct</span><span class="op" id="4695261">{</span>&nbsp;<span class="ident" id="4695263"><a href="/text/template/exec.go.html#4695119">rvs</a></span>&nbsp;<span class="op" id="4695267">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4695270">func</span>&nbsp;<span class="op" id="4695275">(</span><span class="ident" id="4695276">x</span>&nbsp;<span class="ident" id="4695278"><a href="/text/template/exec.go.html#4695248">rvInts</a></span><span class="op" id="4695284">)</span>&nbsp;<span class="ident" id="4695286">Less</span><span class="op" id="4695290">(</span><span class="ident" id="4695291">i</span><span class="op" id="4695292">,</span>&nbsp;<span class="ident" id="4695294">j</span>&nbsp;<span class="builtintype" id="4695296">int</span><span class="op" id="4695299">)</span>&nbsp;<span class="builtintype" id="4695301">bool</span>&nbsp;<span class="op" id="4695306">{</span>&nbsp;<span class="keyword" id="4695308">return</span>&nbsp;<span class="ident" id="4695315"><a href="/text/template/exec.go.html#4695276">x</a></span><span class="op" id="4695316">.</span><span class="ident" id="4695317">rvs</span><span class="op" id="4695320">[</span><span class="ident" id="4695321"><a href="/text/template/exec.go.html#4695291">i</a></span><span class="op" id="4695322">]</span><span class="op" id="4695323">.</span><span class="ident" id="4695324">Int</span><span class="op" id="4695327">(</span><span class="op" id="4695328">)</span>&nbsp;<span class="op" id="4695330">&lt;</span>&nbsp;<span class="ident" id="4695332"><a href="/text/template/exec.go.html#4695276">x</a></span><span class="op" id="4695333">.</span><span class="ident" id="4695334">rvs</span><span class="op" id="4695337">[</span><span class="ident" id="4695338"><a href="/text/template/exec.go.html#4695294">j</a></span><span class="op" id="4695339">]</span><span class="op" id="4695340">.</span><span class="ident" id="4695341">Int</span><span class="op" id="4695344">(</span><span class="op" id="4695345">)</span>&nbsp;<span class="op" id="4695347">}</span><br>
<span class="lineno">815</span><br>
<span class="lineno"></span><span class="keyword" id="4695350">type</span>&nbsp;<span class="ident" id="4695355">rvUints</span>&nbsp;<span class="keyword" id="4695363">struct</span><span class="op" id="4695369">{</span>&nbsp;<span class="ident" id="4695371"><a href="/text/template/exec.go.html#4695119">rvs</a></span>&nbsp;<span class="op" id="4695375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4695378">func</span>&nbsp;<span class="op" id="4695383">(</span><span class="ident" id="4695384">x</span>&nbsp;<span class="ident" id="4695386"><a href="/text/template/exec.go.html#4695355">rvUints</a></span><span class="op" id="4695393">)</span>&nbsp;<span class="ident" id="4695395">Less</span><span class="op" id="4695399">(</span><span class="ident" id="4695400">i</span><span class="op" id="4695401">,</span>&nbsp;<span class="ident" id="4695403">j</span>&nbsp;<span class="builtintype" id="4695405">int</span><span class="op" id="4695408">)</span>&nbsp;<span class="builtintype" id="4695410">bool</span>&nbsp;<span class="op" id="4695415">{</span>&nbsp;<span class="keyword" id="4695417">return</span>&nbsp;<span class="ident" id="4695424"><a href="/text/template/exec.go.html#4695384">x</a></span><span class="op" id="4695425">.</span><span class="ident" id="4695426">rvs</span><span class="op" id="4695429">[</span><span class="ident" id="4695430"><a href="/text/template/exec.go.html#4695400">i</a></span><span class="op" id="4695431">]</span><span class="op" id="4695432">.</span><span class="ident" id="4695433">Uint</span><span class="op" id="4695437">(</span><span class="op" id="4695438">)</span>&nbsp;<span class="op" id="4695440">&lt;</span>&nbsp;<span class="ident" id="4695442"><a href="/text/template/exec.go.html#4695384">x</a></span><span class="op" id="4695443">.</span><span class="ident" id="4695444">rvs</span><span class="op" id="4695447">[</span><span class="ident" id="4695448"><a href="/text/template/exec.go.html#4695403">j</a></span><span class="op" id="4695449">]</span><span class="op" id="4695450">.</span><span class="ident" id="4695451">Uint</span><span class="op" id="4695455">(</span><span class="op" id="4695456">)</span>&nbsp;<span class="op" id="4695458">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">820</span><span class="keyword" id="4695461">type</span>&nbsp;<span class="ident" id="4695466">rvFloats</span>&nbsp;<span class="keyword" id="4695475">struct</span><span class="op" id="4695481">{</span>&nbsp;<span class="ident" id="4695483"><a href="/text/template/exec.go.html#4695119">rvs</a></span>&nbsp;<span class="op" id="4695487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4695490">func</span>&nbsp;<span class="op" id="4695495">(</span><span class="ident" id="4695496">x</span>&nbsp;<span class="ident" id="4695498"><a href="/text/template/exec.go.html#4695466">rvFloats</a></span><span class="op" id="4695506">)</span>&nbsp;<span class="ident" id="4695508">Less</span><span class="op" id="4695512">(</span><span class="ident" id="4695513">i</span><span class="op" id="4695514">,</span>&nbsp;<span class="ident" id="4695516">j</span>&nbsp;<span class="builtintype" id="4695518">int</span><span class="op" id="4695521">)</span>&nbsp;<span class="builtintype" id="4695523">bool</span>&nbsp;<span class="op" id="4695528">{</span>&nbsp;<span class="keyword" id="4695530">return</span>&nbsp;<span class="ident" id="4695537"><a href="/text/template/exec.go.html#4695496">x</a></span><span class="op" id="4695538">.</span><span class="ident" id="4695539">rvs</span><span class="op" id="4695542">[</span><span class="ident" id="4695543"><a href="/text/template/exec.go.html#4695513">i</a></span><span class="op" id="4695544">]</span><span class="op" id="4695545">.</span><span class="ident" id="4695546">Float</span><span class="op" id="4695551">(</span><span class="op" id="4695552">)</span>&nbsp;<span class="op" id="4695554">&lt;</span>&nbsp;<span class="ident" id="4695556"><a href="/text/template/exec.go.html#4695496">x</a></span><span class="op" id="4695557">.</span><span class="ident" id="4695558">rvs</span><span class="op" id="4695561">[</span><span class="ident" id="4695562"><a href="/text/template/exec.go.html#4695516">j</a></span><span class="op" id="4695563">]</span><span class="op" id="4695564">.</span><span class="ident" id="4695565">Float</span><span class="op" id="4695570">(</span><span class="op" id="4695571">)</span>&nbsp;<span class="op" id="4695573">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4695576">type</span>&nbsp;<span class="ident" id="4695581">rvStrings</span>&nbsp;<span class="keyword" id="4695591">struct</span><span class="op" id="4695597">{</span>&nbsp;<span class="ident" id="4695599"><a href="/text/template/exec.go.html#4695119">rvs</a></span>&nbsp;<span class="op" id="4695603">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span><span class="keyword" id="4695606">func</span>&nbsp;<span class="op" id="4695611">(</span><span class="ident" id="4695612">x</span>&nbsp;<span class="ident" id="4695614"><a href="/text/template/exec.go.html#4695581">rvStrings</a></span><span class="op" id="4695623">)</span>&nbsp;<span class="ident" id="4695625">Less</span><span class="op" id="4695629">(</span><span class="ident" id="4695630">i</span><span class="op" id="4695631">,</span>&nbsp;<span class="ident" id="4695633">j</span>&nbsp;<span class="builtintype" id="4695635">int</span><span class="op" id="4695638">)</span>&nbsp;<span class="builtintype" id="4695640">bool</span>&nbsp;<span class="op" id="4695645">{</span>&nbsp;<span class="keyword" id="4695647">return</span>&nbsp;<span class="ident" id="4695654"><a href="/text/template/exec.go.html#4695612">x</a></span><span class="op" id="4695655">.</span><span class="ident" id="4695656">rvs</span><span class="op" id="4695659">[</span><span class="ident" id="4695660"><a href="/text/template/exec.go.html#4695630">i</a></span><span class="op" id="4695661">]</span><span class="op" id="4695662">.</span><span class="ident" id="4695663">String</span><span class="op" id="4695669">(</span><span class="op" id="4695670">)</span>&nbsp;<span class="op" id="4695672">&lt;</span>&nbsp;<span class="ident" id="4695674"><a href="/text/template/exec.go.html#4695612">x</a></span><span class="op" id="4695675">.</span><span class="ident" id="4695676">rvs</span><span class="op" id="4695679">[</span><span class="ident" id="4695680"><a href="/text/template/exec.go.html#4695633">j</a></span><span class="op" id="4695681">]</span><span class="op" id="4695682">.</span><span class="ident" id="4695683">String</span><span class="op" id="4695689">(</span><span class="op" id="4695690">)</span>&nbsp;<span class="op" id="4695692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4695695">//&nbsp;sortKeys&nbsp;sorts&nbsp;(if&nbsp;it&nbsp;can)&nbsp;the&nbsp;slice&nbsp;of&nbsp;reflect.Values,&nbsp;which&nbsp;is&nbsp;a&nbsp;slice&nbsp;of&nbsp;map&nbsp;keys.</span><br>
<span class="lineno"></span><span class="keyword" id="4695784">func</span>&nbsp;<span class="ident" id="4695789">sortKeys</span><span class="op" id="4695797">(</span><span class="ident" id="4695798">v</span>&nbsp;<span class="op" id="4695800">[</span><span class="op" id="4695801">]</span><span class="ident" id="4695802"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4695809">.</span><span class="ident" id="4695810">Value</span><span class="op" id="4695815">)</span>&nbsp;<span class="op" id="4695817">[</span><span class="op" id="4695818">]</span><span class="ident" id="4695819"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4695826">.</span><span class="ident" id="4695827">Value</span>&nbsp;<span class="op" id="4695833">{</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4695836">if</span>&nbsp;<span class="builtinfunc" id="4695839">len</span><span class="op" id="4695842">(</span><span class="ident" id="4695843"><a href="/text/template/exec.go.html#4695798">v</a></span><span class="op" id="4695844">)</span>&nbsp;<span class="op" id="4695846">&lt;=</span>&nbsp;<span class="num" id="4695849">1</span>&nbsp;<span class="op" id="4695851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4695855">return</span>&nbsp;<span class="ident" id="4695862"><a href="/text/template/exec.go.html#4695798">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4695865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4695868">switch</span>&nbsp;<span class="ident" id="4695875"><a href="/text/template/exec.go.html#4695798">v</a></span><span class="op" id="4695876">[</span><span class="num" id="4695877">0</span><span class="op" id="4695878">]</span><span class="op" id="4695879">.</span><span class="ident" id="4695880">Kind</span><span class="op" id="4695884">(</span><span class="op" id="4695885">)</span>&nbsp;<span class="op" id="4695887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4695890">case</span>&nbsp;<span class="ident" id="4695895"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4695902">.</span><span class="ident" id="4695903">Float32</span><span class="op" id="4695910">,</span>&nbsp;<span class="ident" id="4695912"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4695919">.</span><span class="ident" id="4695920">Float64</span><span class="op" id="4695927">:</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4695931"><a href="/text/template/exec.go.html#4670118">sort</a></span><span class="op" id="4695935">.</span><span class="ident" id="4695936">Sort</span><span class="op" id="4695940">(</span><span class="ident" id="4695941"><a href="/text/template/exec.go.html#4695466">rvFloats</a></span><span class="op" id="4695949">{</span><span class="ident" id="4695950"><a href="/text/template/exec.go.html#4695798">v</a></span><span class="op" id="4695951">}</span><span class="op" id="4695952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4695955">case</span>&nbsp;<span class="ident" id="4695960"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4695967">.</span><span class="ident" id="4695968">Int</span><span class="op" id="4695971">,</span>&nbsp;<span class="ident" id="4695973"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4695980">.</span><span class="ident" id="4695981">Int8</span><span class="op" id="4695985">,</span>&nbsp;<span class="ident" id="4695987"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4695994">.</span><span class="ident" id="4695995">Int16</span><span class="op" id="4696000">,</span>&nbsp;<span class="ident" id="4696002"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4696009">.</span><span class="ident" id="4696010">Int32</span><span class="op" id="4696015">,</span>&nbsp;<span class="ident" id="4696017"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4696024">.</span><span class="ident" id="4696025">Int64</span><span class="op" id="4696030">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4696034"><a href="/text/template/exec.go.html#4670118">sort</a></span><span class="op" id="4696038">.</span><span class="ident" id="4696039">Sort</span><span class="op" id="4696043">(</span><span class="ident" id="4696044"><a href="/text/template/exec.go.html#4695248">rvInts</a></span><span class="op" id="4696050">{</span><span class="ident" id="4696051"><a href="/text/template/exec.go.html#4695798">v</a></span><span class="op" id="4696052">}</span><span class="op" id="4696053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4696056">case</span>&nbsp;<span class="ident" id="4696061"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4696068">.</span><span class="ident" id="4696069">String</span><span class="op" id="4696075">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4696079"><a href="/text/template/exec.go.html#4670118">sort</a></span><span class="op" id="4696083">.</span><span class="ident" id="4696084">Sort</span><span class="op" id="4696088">(</span><span class="ident" id="4696089"><a href="/text/template/exec.go.html#4695581">rvStrings</a></span><span class="op" id="4696098">{</span><span class="ident" id="4696099"><a href="/text/template/exec.go.html#4695798">v</a></span><span class="op" id="4696100">}</span><span class="op" id="4696101">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4696104">case</span>&nbsp;<span class="ident" id="4696109"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4696116">.</span><span class="ident" id="4696117">Uint</span><span class="op" id="4696121">,</span>&nbsp;<span class="ident" id="4696123"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4696130">.</span><span class="ident" id="4696131">Uint8</span><span class="op" id="4696136">,</span>&nbsp;<span class="ident" id="4696138"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4696145">.</span><span class="ident" id="4696146">Uint16</span><span class="op" id="4696152">,</span>&nbsp;<span class="ident" id="4696154"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4696161">.</span><span class="ident" id="4696162">Uint32</span><span class="op" id="4696168">,</span>&nbsp;<span class="ident" id="4696170"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4696177">.</span><span class="ident" id="4696178">Uint64</span><span class="op" id="4696184">,</span>&nbsp;<span class="ident" id="4696186"><a href="/text/template/exec.go.html#4670096">reflect</a></span><span class="op" id="4696193">.</span><span class="ident" id="4696194">Uintptr</span><span class="op" id="4696201">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4696205"><a href="/text/template/exec.go.html#4670118">sort</a></span><span class="op" id="4696209">.</span><span class="ident" id="4696210">Sort</span><span class="op" id="4696214">(</span><span class="ident" id="4696215"><a href="/text/template/exec.go.html#4695355">rvUints</a></span><span class="op" id="4696222">{</span><span class="ident" id="4696223"><a href="/text/template/exec.go.html#4695798">v</a></span><span class="op" id="4696224">}</span><span class="op" id="4696225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4696228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4696231">return</span>&nbsp;<span class="ident" id="4696238"><a href="/text/template/exec.go.html#4695798">v</a></span><br>
<span class="lineno"></span><span class="op" id="4696240">}</span>
</div>
</body>
</html>
