<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html" class="current">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7825780">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7825836">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7825890">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7825941">package</span>&nbsp;<span class="ident" id="7825949">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7825957">import</span>&nbsp;<span class="op" id="7825964">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7825967">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7825976">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7825983">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7825994">&#34;unicode&#34;</span><br>
<span class="lineno"></span><span class="op" id="7826004">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7826007">type</span>&nbsp;<span class="ident" id="7826012">parseTest</span>&nbsp;<span class="keyword" id="7826022">struct</span>&nbsp;<span class="op" id="7826029">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7826032">Regexp</span>&nbsp;<span class="builtintype" id="7826039">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7826047">Dump</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7826054">string</span><br>
<span class="lineno"></span><span class="op" id="7826061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7826064">var</span>&nbsp;<span class="ident" id="7826068">parseTests</span>&nbsp;<span class="op" id="7826079">=</span>&nbsp;<span class="op" id="7826081">[</span><span class="op" id="7826082">]</span><span class="ident" id="7826083">parseTest</span><span class="op" id="7826092">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7826095">//&nbsp;Base&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826110">{</span><span class="string" id="7826111">`a`</span><span class="op" id="7826114">,</span>&nbsp;<span class="string" id="7826116">`lit{a}`</span><span class="op" id="7826124">}</span><span class="op" id="7826125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826128">{</span><span class="string" id="7826129">`a.`</span><span class="op" id="7826133">,</span>&nbsp;<span class="string" id="7826135">`cat{lit{a}dot{}}`</span><span class="op" id="7826153">}</span><span class="op" id="7826154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826157">{</span><span class="string" id="7826158">`a.b`</span><span class="op" id="7826163">,</span>&nbsp;<span class="string" id="7826165">`cat{lit{a}dot{}lit{b}}`</span><span class="op" id="7826189">}</span><span class="op" id="7826190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826193">{</span><span class="string" id="7826194">`ab`</span><span class="op" id="7826198">,</span>&nbsp;<span class="string" id="7826200">`str{ab}`</span><span class="op" id="7826209">}</span><span class="op" id="7826210">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826213">{</span><span class="string" id="7826214">`a.b.c`</span><span class="op" id="7826221">,</span>&nbsp;<span class="string" id="7826223">`cat{lit{a}dot{}lit{b}dot{}lit{c}}`</span><span class="op" id="7826258">}</span><span class="op" id="7826259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826262">{</span><span class="string" id="7826263">`abc`</span><span class="op" id="7826268">,</span>&nbsp;<span class="string" id="7826270">`str{abc}`</span><span class="op" id="7826280">}</span><span class="op" id="7826281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826284">{</span><span class="string" id="7826285">`a|^`</span><span class="op" id="7826290">,</span>&nbsp;<span class="string" id="7826292">`alt{lit{a}bol{}}`</span><span class="op" id="7826310">}</span><span class="op" id="7826311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826314">{</span><span class="string" id="7826315">`a|b`</span><span class="op" id="7826320">,</span>&nbsp;<span class="string" id="7826322">`cc{0x61-0x62}`</span><span class="op" id="7826337">}</span><span class="op" id="7826338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826341">{</span><span class="string" id="7826342">`(a)`</span><span class="op" id="7826347">,</span>&nbsp;<span class="string" id="7826349">`cap{lit{a}}`</span><span class="op" id="7826362">}</span><span class="op" id="7826363">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826366">{</span><span class="string" id="7826367">`(a)|b`</span><span class="op" id="7826374">,</span>&nbsp;<span class="string" id="7826376">`alt{cap{lit{a}}lit{b}}`</span><span class="op" id="7826400">}</span><span class="op" id="7826401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826404">{</span><span class="string" id="7826405">`a*`</span><span class="op" id="7826409">,</span>&nbsp;<span class="string" id="7826411">`star{lit{a}}`</span><span class="op" id="7826425">}</span><span class="op" id="7826426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826429">{</span><span class="string" id="7826430">`a+`</span><span class="op" id="7826434">,</span>&nbsp;<span class="string" id="7826436">`plus{lit{a}}`</span><span class="op" id="7826450">}</span><span class="op" id="7826451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826454">{</span><span class="string" id="7826455">`a?`</span><span class="op" id="7826459">,</span>&nbsp;<span class="string" id="7826461">`que{lit{a}}`</span><span class="op" id="7826474">}</span><span class="op" id="7826475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826478">{</span><span class="string" id="7826479">`a{2}`</span><span class="op" id="7826485">,</span>&nbsp;<span class="string" id="7826487">`rep{2,2&nbsp;lit{a}}`</span><span class="op" id="7826504">}</span><span class="op" id="7826505">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826508">{</span><span class="string" id="7826509">`a{2,3}`</span><span class="op" id="7826517">,</span>&nbsp;<span class="string" id="7826519">`rep{2,3&nbsp;lit{a}}`</span><span class="op" id="7826536">}</span><span class="op" id="7826537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826540">{</span><span class="string" id="7826541">`a{2,}`</span><span class="op" id="7826548">,</span>&nbsp;<span class="string" id="7826550">`rep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7826568">}</span><span class="op" id="7826569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826572">{</span><span class="string" id="7826573">`a*?`</span><span class="op" id="7826578">,</span>&nbsp;<span class="string" id="7826580">`nstar{lit{a}}`</span><span class="op" id="7826595">}</span><span class="op" id="7826596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826599">{</span><span class="string" id="7826600">`a+?`</span><span class="op" id="7826605">,</span>&nbsp;<span class="string" id="7826607">`nplus{lit{a}}`</span><span class="op" id="7826622">}</span><span class="op" id="7826623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826626">{</span><span class="string" id="7826627">`a??`</span><span class="op" id="7826632">,</span>&nbsp;<span class="string" id="7826634">`nque{lit{a}}`</span><span class="op" id="7826648">}</span><span class="op" id="7826649">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826652">{</span><span class="string" id="7826653">`a{2}?`</span><span class="op" id="7826660">,</span>&nbsp;<span class="string" id="7826662">`nrep{2,2&nbsp;lit{a}}`</span><span class="op" id="7826680">}</span><span class="op" id="7826681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826684">{</span><span class="string" id="7826685">`a{2,3}?`</span><span class="op" id="7826694">,</span>&nbsp;<span class="string" id="7826696">`nrep{2,3&nbsp;lit{a}}`</span><span class="op" id="7826714">}</span><span class="op" id="7826715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826718">{</span><span class="string" id="7826719">`a{2,}?`</span><span class="op" id="7826727">,</span>&nbsp;<span class="string" id="7826729">`nrep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7826748">}</span><span class="op" id="7826749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7826752">//&nbsp;Malformed&nbsp;{&nbsp;}&nbsp;are&nbsp;treated&nbsp;as&nbsp;literals.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826795">{</span><span class="string" id="7826796">`x{1001`</span><span class="op" id="7826804">,</span>&nbsp;<span class="string" id="7826806">`str{x{1001}`</span><span class="op" id="7826819">}</span><span class="op" id="7826820">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826823">{</span><span class="string" id="7826824">`x{9876543210`</span><span class="op" id="7826838">,</span>&nbsp;<span class="string" id="7826840">`str{x{9876543210}`</span><span class="op" id="7826859">}</span><span class="op" id="7826860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826863">{</span><span class="string" id="7826864">`x{9876543210,`</span><span class="op" id="7826879">,</span>&nbsp;<span class="string" id="7826881">`str{x{9876543210,}`</span><span class="op" id="7826901">}</span><span class="op" id="7826902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826905">{</span><span class="string" id="7826906">`x{2,1`</span><span class="op" id="7826913">,</span>&nbsp;<span class="string" id="7826915">`str{x{2,1}`</span><span class="op" id="7826927">}</span><span class="op" id="7826928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826931">{</span><span class="string" id="7826932">`x{1,9876543210`</span><span class="op" id="7826948">,</span>&nbsp;<span class="string" id="7826950">`str{x{1,9876543210}`</span><span class="op" id="7826971">}</span><span class="op" id="7826972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826975">{</span><span class="string" id="7826976">``</span><span class="op" id="7826978">,</span>&nbsp;<span class="string" id="7826980">`emp{}`</span><span class="op" id="7826987">}</span><span class="op" id="7826988">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7826991">{</span><span class="string" id="7826992">`|`</span><span class="op" id="7826995">,</span>&nbsp;<span class="string" id="7826997">`emp{}`</span><span class="op" id="7827004">}</span><span class="op" id="7827005">,</span>&nbsp;<span class="comment" id="7827007">//&nbsp;alt{emp{}emp{}}&nbsp;but&nbsp;got&nbsp;factored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827044">{</span><span class="string" id="7827045">`|x|`</span><span class="op" id="7827050">,</span>&nbsp;<span class="string" id="7827052">`alt{emp{}lit{x}emp{}}`</span><span class="op" id="7827075">}</span><span class="op" id="7827076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827079">{</span><span class="string" id="7827080">`.`</span><span class="op" id="7827083">,</span>&nbsp;<span class="string" id="7827085">`dot{}`</span><span class="op" id="7827092">}</span><span class="op" id="7827093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827096">{</span><span class="string" id="7827097">`^`</span><span class="op" id="7827100">,</span>&nbsp;<span class="string" id="7827102">`bol{}`</span><span class="op" id="7827109">}</span><span class="op" id="7827110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827113">{</span><span class="string" id="7827114">`$`</span><span class="op" id="7827117">,</span>&nbsp;<span class="string" id="7827119">`eol{}`</span><span class="op" id="7827126">}</span><span class="op" id="7827127">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827130">{</span><span class="string" id="7827131">`\|`</span><span class="op" id="7827135">,</span>&nbsp;<span class="string" id="7827137">`lit{|}`</span><span class="op" id="7827145">}</span><span class="op" id="7827146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827149">{</span><span class="string" id="7827150">`\(`</span><span class="op" id="7827154">,</span>&nbsp;<span class="string" id="7827156">`lit{(}`</span><span class="op" id="7827164">}</span><span class="op" id="7827165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827168">{</span><span class="string" id="7827169">`\)`</span><span class="op" id="7827173">,</span>&nbsp;<span class="string" id="7827175">`lit{)}`</span><span class="op" id="7827183">}</span><span class="op" id="7827184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827187">{</span><span class="string" id="7827188">`\*`</span><span class="op" id="7827192">,</span>&nbsp;<span class="string" id="7827194">`lit{*}`</span><span class="op" id="7827202">}</span><span class="op" id="7827203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827206">{</span><span class="string" id="7827207">`\+`</span><span class="op" id="7827211">,</span>&nbsp;<span class="string" id="7827213">`lit{+}`</span><span class="op" id="7827221">}</span><span class="op" id="7827222">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827225">{</span><span class="string" id="7827226">`\?`</span><span class="op" id="7827230">,</span>&nbsp;<span class="string" id="7827232">`lit{?}`</span><span class="op" id="7827240">}</span><span class="op" id="7827241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827244">{</span><span class="string" id="7827245">`{`</span><span class="op" id="7827248">,</span>&nbsp;<span class="string" id="7827250">`lit{{}`</span><span class="op" id="7827258">}</span><span class="op" id="7827259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827262">{</span><span class="string" id="7827263">`}`</span><span class="op" id="7827266">,</span>&nbsp;<span class="string" id="7827268">`lit{}}`</span><span class="op" id="7827276">}</span><span class="op" id="7827277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827280">{</span><span class="string" id="7827281">`\.`</span><span class="op" id="7827285">,</span>&nbsp;<span class="string" id="7827287">`lit{.}`</span><span class="op" id="7827295">}</span><span class="op" id="7827296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827299">{</span><span class="string" id="7827300">`\^`</span><span class="op" id="7827304">,</span>&nbsp;<span class="string" id="7827306">`lit{^}`</span><span class="op" id="7827314">}</span><span class="op" id="7827315">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827318">{</span><span class="string" id="7827319">`\$`</span><span class="op" id="7827323">,</span>&nbsp;<span class="string" id="7827325">`lit{$}`</span><span class="op" id="7827333">}</span><span class="op" id="7827334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827337">{</span><span class="string" id="7827338">`\\`</span><span class="op" id="7827342">,</span>&nbsp;<span class="string" id="7827344">`lit{\}`</span><span class="op" id="7827352">}</span><span class="op" id="7827353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827356">{</span><span class="string" id="7827357">`[ace]`</span><span class="op" id="7827364">,</span>&nbsp;<span class="string" id="7827366">`cc{0x61&nbsp;0x63&nbsp;0x65}`</span><span class="op" id="7827386">}</span><span class="op" id="7827387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827390">{</span><span class="string" id="7827391">`[abc]`</span><span class="op" id="7827398">,</span>&nbsp;<span class="string" id="7827400">`cc{0x61-0x63}`</span><span class="op" id="7827415">}</span><span class="op" id="7827416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827419">{</span><span class="string" id="7827420">`[a-z]`</span><span class="op" id="7827427">,</span>&nbsp;<span class="string" id="7827429">`cc{0x61-0x7a}`</span><span class="op" id="7827444">}</span><span class="op" id="7827445">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827448">{</span><span class="string" id="7827449">`[a]`</span><span class="op" id="7827454">,</span>&nbsp;<span class="string" id="7827456">`lit{a}`</span><span class="op" id="7827464">}</span><span class="op" id="7827465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827468">{</span><span class="string" id="7827469">`\-`</span><span class="op" id="7827473">,</span>&nbsp;<span class="string" id="7827475">`lit{-}`</span><span class="op" id="7827483">}</span><span class="op" id="7827484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827487">{</span><span class="string" id="7827488">`-`</span><span class="op" id="7827491">,</span>&nbsp;<span class="string" id="7827493">`lit{-}`</span><span class="op" id="7827501">}</span><span class="op" id="7827502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827505">{</span><span class="string" id="7827506">`\_`</span><span class="op" id="7827510">,</span>&nbsp;<span class="string" id="7827512">`lit{_}`</span><span class="op" id="7827520">}</span><span class="op" id="7827521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827524">{</span><span class="string" id="7827525">`abc`</span><span class="op" id="7827530">,</span>&nbsp;<span class="string" id="7827532">`str{abc}`</span><span class="op" id="7827542">}</span><span class="op" id="7827543">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827546">{</span><span class="string" id="7827547">`abc|def`</span><span class="op" id="7827556">,</span>&nbsp;<span class="string" id="7827558">`alt{str{abc}str{def}}`</span><span class="op" id="7827581">}</span><span class="op" id="7827582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827585">{</span><span class="string" id="7827586">`abc|def|ghi`</span><span class="op" id="7827599">,</span>&nbsp;<span class="string" id="7827601">`alt{str{abc}str{def}str{ghi}}`</span><span class="op" id="7827632">}</span><span class="op" id="7827633">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7827637">//&nbsp;Posix&nbsp;and&nbsp;Perl&nbsp;extensions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827667">{</span><span class="string" id="7827668">`[[:lower:]]`</span><span class="op" id="7827681">,</span>&nbsp;<span class="string" id="7827683">`cc{0x61-0x7a}`</span><span class="op" id="7827698">}</span><span class="op" id="7827699">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827702">{</span><span class="string" id="7827703">`[a-z]`</span><span class="op" id="7827710">,</span>&nbsp;<span class="string" id="7827712">`cc{0x61-0x7a}`</span><span class="op" id="7827727">}</span><span class="op" id="7827728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827731">{</span><span class="string" id="7827732">`[^[:lower:]]`</span><span class="op" id="7827746">,</span>&nbsp;<span class="string" id="7827748">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7827776">}</span><span class="op" id="7827777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827780">{</span><span class="string" id="7827781">`[[:^lower:]]`</span><span class="op" id="7827795">,</span>&nbsp;<span class="string" id="7827797">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7827825">}</span><span class="op" id="7827826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827829">{</span><span class="string" id="7827830">`(?i)[[:lower:]]`</span><span class="op" id="7827847">,</span>&nbsp;<span class="string" id="7827849">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7827887">}</span><span class="op" id="7827888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827891">{</span><span class="string" id="7827892">`(?i)[a-z]`</span><span class="op" id="7827903">,</span>&nbsp;<span class="string" id="7827905">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7827943">}</span><span class="op" id="7827944">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7827947">{</span><span class="string" id="7827948">`(?i)[^[:lower:]]`</span><span class="op" id="7827966">,</span>&nbsp;<span class="string" id="7827968">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7828032">}</span><span class="op" id="7828033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828036">{</span><span class="string" id="7828037">`(?i)[[:^lower:]]`</span><span class="op" id="7828055">,</span>&nbsp;<span class="string" id="7828057">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7828121">}</span><span class="op" id="7828122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828125">{</span><span class="string" id="7828126">`\d`</span><span class="op" id="7828130">,</span>&nbsp;<span class="string" id="7828132">`cc{0x30-0x39}`</span><span class="op" id="7828147">}</span><span class="op" id="7828148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828151">{</span><span class="string" id="7828152">`\D`</span><span class="op" id="7828156">,</span>&nbsp;<span class="string" id="7828158">`cc{0x0-0x2f&nbsp;0x3a-0x10ffff}`</span><span class="op" id="7828186">}</span><span class="op" id="7828187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828190">{</span><span class="string" id="7828191">`\s`</span><span class="op" id="7828195">,</span>&nbsp;<span class="string" id="7828197">`cc{0x9-0xa&nbsp;0xc-0xd&nbsp;0x20}`</span><span class="op" id="7828223">}</span><span class="op" id="7828224">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828227">{</span><span class="string" id="7828228">`\S`</span><span class="op" id="7828232">,</span>&nbsp;<span class="string" id="7828234">`cc{0x0-0x8&nbsp;0xb&nbsp;0xe-0x1f&nbsp;0x21-0x10ffff}`</span><span class="op" id="7828274">}</span><span class="op" id="7828275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828278">{</span><span class="string" id="7828279">`\w`</span><span class="op" id="7828283">,</span>&nbsp;<span class="string" id="7828285">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a}`</span><span class="op" id="7828325">}</span><span class="op" id="7828326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828329">{</span><span class="string" id="7828330">`\W`</span><span class="op" id="7828334">,</span>&nbsp;<span class="string" id="7828336">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7828389">}</span><span class="op" id="7828390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828393">{</span><span class="string" id="7828394">`(?i)\w`</span><span class="op" id="7828402">,</span>&nbsp;<span class="string" id="7828404">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7828457">}</span><span class="op" id="7828458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828461">{</span><span class="string" id="7828462">`(?i)\W`</span><span class="op" id="7828470">,</span>&nbsp;<span class="string" id="7828472">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7828551">}</span><span class="op" id="7828552">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828555">{</span><span class="string" id="7828556">`[^\\]`</span><span class="op" id="7828563">,</span>&nbsp;<span class="string" id="7828565">`cc{0x0-0x5b&nbsp;0x5d-0x10ffff}`</span><span class="op" id="7828593">}</span><span class="op" id="7828594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7828597">//&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;`\C`,&nbsp;`byte{}`&nbsp;},&nbsp;&nbsp;//&nbsp;probably&nbsp;never</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7828641">//&nbsp;Unicode,&nbsp;negatives,&nbsp;and&nbsp;a&nbsp;double&nbsp;negative.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828688">{</span><span class="string" id="7828689">`\p{Braille}`</span><span class="op" id="7828702">,</span>&nbsp;<span class="string" id="7828704">`cc{0x2800-0x28ff}`</span><span class="op" id="7828723">}</span><span class="op" id="7828724">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828727">{</span><span class="string" id="7828728">`\P{Braille}`</span><span class="op" id="7828741">,</span>&nbsp;<span class="string" id="7828743">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7828775">}</span><span class="op" id="7828776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828779">{</span><span class="string" id="7828780">`\p{^Braille}`</span><span class="op" id="7828794">,</span>&nbsp;<span class="string" id="7828796">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7828828">}</span><span class="op" id="7828829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828832">{</span><span class="string" id="7828833">`\P{^Braille}`</span><span class="op" id="7828847">,</span>&nbsp;<span class="string" id="7828849">`cc{0x2800-0x28ff}`</span><span class="op" id="7828868">}</span><span class="op" id="7828869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828872">{</span><span class="string" id="7828873">`\pZ`</span><span class="op" id="7828878">,</span>&nbsp;<span class="string" id="7828880">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7828951">}</span><span class="op" id="7828952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828955">{</span><span class="string" id="7828956">`[\p{Braille}]`</span><span class="op" id="7828971">,</span>&nbsp;<span class="string" id="7828973">`cc{0x2800-0x28ff}`</span><span class="op" id="7828992">}</span><span class="op" id="7828993">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7828996">{</span><span class="string" id="7828997">`[\P{Braille}]`</span><span class="op" id="7829012">,</span>&nbsp;<span class="string" id="7829014">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7829046">}</span><span class="op" id="7829047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829050">{</span><span class="string" id="7829051">`[\p{^Braille}]`</span><span class="op" id="7829067">,</span>&nbsp;<span class="string" id="7829069">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7829101">}</span><span class="op" id="7829102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829105">{</span><span class="string" id="7829106">`[\P{^Braille}]`</span><span class="op" id="7829122">,</span>&nbsp;<span class="string" id="7829124">`cc{0x2800-0x28ff}`</span><span class="op" id="7829143">}</span><span class="op" id="7829144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829147">{</span><span class="string" id="7829148">`[\pZ]`</span><span class="op" id="7829155">,</span>&nbsp;<span class="string" id="7829157">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7829228">}</span><span class="op" id="7829229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829232">{</span><span class="string" id="7829233">`\p{Lu}`</span><span class="op" id="7829241">,</span>&nbsp;<span class="ident" id="7829243">mkCharClass</span><span class="op" id="7829254">(</span><span class="ident" id="7829255">unicode</span><span class="op" id="7829262">.</span><span class="ident" id="7829263">IsUpper</span><span class="op" id="7829270">)</span><span class="op" id="7829271">}</span><span class="op" id="7829272">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829275">{</span><span class="string" id="7829276">`[\p{Lu}]`</span><span class="op" id="7829286">,</span>&nbsp;<span class="ident" id="7829288">mkCharClass</span><span class="op" id="7829299">(</span><span class="ident" id="7829300">unicode</span><span class="op" id="7829307">.</span><span class="ident" id="7829308">IsUpper</span><span class="op" id="7829315">)</span><span class="op" id="7829316">}</span><span class="op" id="7829317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829320">{</span><span class="string" id="7829321">`(?i)[\p{Lu}]`</span><span class="op" id="7829335">,</span>&nbsp;<span class="ident" id="7829337">mkCharClass</span><span class="op" id="7829348">(</span><span class="ident" id="7829349">isUpperFold</span><span class="op" id="7829360">)</span><span class="op" id="7829361">}</span><span class="op" id="7829362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829365">{</span><span class="string" id="7829366">`\p{Any}`</span><span class="op" id="7829375">,</span>&nbsp;<span class="string" id="7829377">`dot{}`</span><span class="op" id="7829384">}</span><span class="op" id="7829385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829388">{</span><span class="string" id="7829389">`\p{^Any}`</span><span class="op" id="7829399">,</span>&nbsp;<span class="string" id="7829401">`cc{}`</span><span class="op" id="7829407">}</span><span class="op" id="7829408">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7829412">//&nbsp;Hex,&nbsp;octal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829428">{</span><span class="string" id="7829429">`[\012-\234]\141`</span><span class="op" id="7829446">,</span>&nbsp;<span class="string" id="7829448">`cat{cc{0xa-0x9c}lit{a}}`</span><span class="op" id="7829473">}</span><span class="op" id="7829474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829477">{</span><span class="string" id="7829478">`[\x{41}-\x7a]\x61`</span><span class="op" id="7829497">,</span>&nbsp;<span class="string" id="7829499">`cat{cc{0x41-0x7a}lit{a}}`</span><span class="op" id="7829525">}</span><span class="op" id="7829526">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7829530">//&nbsp;More&nbsp;interesting&nbsp;regular&nbsp;expressions.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829572">{</span><span class="string" id="7829573">`a{,2}`</span><span class="op" id="7829580">,</span>&nbsp;<span class="string" id="7829582">`str{a{,2}}`</span><span class="op" id="7829594">}</span><span class="op" id="7829595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829598">{</span><span class="string" id="7829599">`\.\^\$\\`</span><span class="op" id="7829609">,</span>&nbsp;<span class="string" id="7829611">`str{.^$\}`</span><span class="op" id="7829622">}</span><span class="op" id="7829623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829626">{</span><span class="string" id="7829627">`[a-zABC]`</span><span class="op" id="7829637">,</span>&nbsp;<span class="string" id="7829639">`cc{0x41-0x43&nbsp;0x61-0x7a}`</span><span class="op" id="7829664">}</span><span class="op" id="7829665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829668">{</span><span class="string" id="7829669">`[^a]`</span><span class="op" id="7829675">,</span>&nbsp;<span class="string" id="7829677">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7829705">}</span><span class="op" id="7829706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829709">{</span><span class="string" id="7829710">`[α-ε☺]`</span><span class="op" id="7829722">,</span>&nbsp;<span class="string" id="7829724">`cc{0x3b1-0x3b5&nbsp;0x263a}`</span><span class="op" id="7829748">}</span><span class="op" id="7829749">,</span>&nbsp;<span class="comment" id="7829751">//&nbsp;utf-8</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829761">{</span><span class="string" id="7829762">`a*{`</span><span class="op" id="7829767">,</span>&nbsp;<span class="string" id="7829769">`cat{star{lit{a}}lit{{}}`</span><span class="op" id="7829794">}</span><span class="op" id="7829795">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7829799">//&nbsp;Test&nbsp;precedences</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829820">{</span><span class="string" id="7829821">`(?:ab)*`</span><span class="op" id="7829830">,</span>&nbsp;<span class="string" id="7829832">`star{str{ab}}`</span><span class="op" id="7829847">}</span><span class="op" id="7829848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829851">{</span><span class="string" id="7829852">`(ab)*`</span><span class="op" id="7829859">,</span>&nbsp;<span class="string" id="7829861">`star{cap{str{ab}}}`</span><span class="op" id="7829881">}</span><span class="op" id="7829882">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829885">{</span><span class="string" id="7829886">`ab|cd`</span><span class="op" id="7829893">,</span>&nbsp;<span class="string" id="7829895">`alt{str{ab}str{cd}}`</span><span class="op" id="7829916">}</span><span class="op" id="7829917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829920">{</span><span class="string" id="7829921">`a(b|c)d`</span><span class="op" id="7829930">,</span>&nbsp;<span class="string" id="7829932">`cat{lit{a}cap{cc{0x62-0x63}}lit{d}}`</span><span class="op" id="7829969">}</span><span class="op" id="7829970">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7829974">//&nbsp;Test&nbsp;flattening.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7829995">{</span><span class="string" id="7829996">`(?:a)`</span><span class="op" id="7830003">,</span>&nbsp;<span class="string" id="7830005">`lit{a}`</span><span class="op" id="7830013">}</span><span class="op" id="7830014">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830017">{</span><span class="string" id="7830018">`(?:ab)(?:cd)`</span><span class="op" id="7830032">,</span>&nbsp;<span class="string" id="7830034">`str{abcd}`</span><span class="op" id="7830045">}</span><span class="op" id="7830046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830049">{</span><span class="string" id="7830050">`(?:a+b+)(?:c+d+)`</span><span class="op" id="7830068">,</span>&nbsp;<span class="string" id="7830070">`cat{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7830125">}</span><span class="op" id="7830126">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830129">{</span><span class="string" id="7830130">`(?:a+|b+)|(?:c+|d+)`</span><span class="op" id="7830151">,</span>&nbsp;<span class="string" id="7830153">`alt{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7830208">}</span><span class="op" id="7830209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830212">{</span><span class="string" id="7830213">`(?:a|b)|(?:c|d)`</span><span class="op" id="7830230">,</span>&nbsp;<span class="string" id="7830232">`cc{0x61-0x64}`</span><span class="op" id="7830247">}</span><span class="op" id="7830248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830251">{</span><span class="string" id="7830252">`a|.`</span><span class="op" id="7830257">,</span>&nbsp;<span class="string" id="7830259">`dot{}`</span><span class="op" id="7830266">}</span><span class="op" id="7830267">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830270">{</span><span class="string" id="7830271">`.|a`</span><span class="op" id="7830276">,</span>&nbsp;<span class="string" id="7830278">`dot{}`</span><span class="op" id="7830285">}</span><span class="op" id="7830286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830289">{</span><span class="string" id="7830290">`(?:[abc]|A|Z|hello|world)`</span><span class="op" id="7830317">,</span>&nbsp;<span class="string" id="7830319">`alt{cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}str{hello}str{world}}`</span><span class="op" id="7830369">}</span><span class="op" id="7830370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830373">{</span><span class="string" id="7830374">`(?:[abc]|A|Z)`</span><span class="op" id="7830389">,</span>&nbsp;<span class="string" id="7830391">`cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}`</span><span class="op" id="7830416">}</span><span class="op" id="7830417">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7830421">//&nbsp;Test&nbsp;Perl&nbsp;quoted&nbsp;literals</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830451">{</span><span class="string" id="7830452">`\Q+|*?{[\E`</span><span class="op" id="7830464">,</span>&nbsp;<span class="string" id="7830466">`str{+|*?{[}`</span><span class="op" id="7830479">}</span><span class="op" id="7830480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830483">{</span><span class="string" id="7830484">`\Q+\E+`</span><span class="op" id="7830492">,</span>&nbsp;<span class="string" id="7830494">`plus{lit{+}}`</span><span class="op" id="7830508">}</span><span class="op" id="7830509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830512">{</span><span class="string" id="7830513">`\Q\\E`</span><span class="op" id="7830520">,</span>&nbsp;<span class="string" id="7830522">`lit{\}`</span><span class="op" id="7830530">}</span><span class="op" id="7830531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830534">{</span><span class="string" id="7830535">`\Q\\\E`</span><span class="op" id="7830543">,</span>&nbsp;<span class="string" id="7830545">`str{\\}`</span><span class="op" id="7830554">}</span><span class="op" id="7830555">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7830559">//&nbsp;Test&nbsp;Perl&nbsp;\A&nbsp;and&nbsp;\z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830583">{</span><span class="string" id="7830584">`(?m)^`</span><span class="op" id="7830591">,</span>&nbsp;<span class="string" id="7830593">`bol{}`</span><span class="op" id="7830600">}</span><span class="op" id="7830601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830604">{</span><span class="string" id="7830605">`(?m)$`</span><span class="op" id="7830612">,</span>&nbsp;<span class="string" id="7830614">`eol{}`</span><span class="op" id="7830621">}</span><span class="op" id="7830622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830625">{</span><span class="string" id="7830626">`(?-m)^`</span><span class="op" id="7830634">,</span>&nbsp;<span class="string" id="7830636">`bot{}`</span><span class="op" id="7830643">}</span><span class="op" id="7830644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830647">{</span><span class="string" id="7830648">`(?-m)$`</span><span class="op" id="7830656">,</span>&nbsp;<span class="string" id="7830658">`eot{}`</span><span class="op" id="7830665">}</span><span class="op" id="7830666">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830669">{</span><span class="string" id="7830670">`(?m)\A`</span><span class="op" id="7830678">,</span>&nbsp;<span class="string" id="7830680">`bot{}`</span><span class="op" id="7830687">}</span><span class="op" id="7830688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830691">{</span><span class="string" id="7830692">`(?m)\z`</span><span class="op" id="7830700">,</span>&nbsp;<span class="string" id="7830702">`eot{\z}`</span><span class="op" id="7830711">}</span><span class="op" id="7830712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830715">{</span><span class="string" id="7830716">`(?-m)\A`</span><span class="op" id="7830725">,</span>&nbsp;<span class="string" id="7830727">`bot{}`</span><span class="op" id="7830734">}</span><span class="op" id="7830735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830738">{</span><span class="string" id="7830739">`(?-m)\z`</span><span class="op" id="7830748">,</span>&nbsp;<span class="string" id="7830750">`eot{\z}`</span><span class="op" id="7830759">}</span><span class="op" id="7830760">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7830764">//&nbsp;Test&nbsp;named&nbsp;captures</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830788">{</span><span class="string" id="7830789">`(?P&lt;name&gt;a)`</span><span class="op" id="7830802">,</span>&nbsp;<span class="string" id="7830804">`cap{name:lit{a}}`</span><span class="op" id="7830822">}</span><span class="op" id="7830823">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7830827">//&nbsp;Case-folded&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830852">{</span><span class="string" id="7830853">`[Aa]`</span><span class="op" id="7830859">,</span>&nbsp;<span class="string" id="7830861">`litfold{A}`</span><span class="op" id="7830873">}</span><span class="op" id="7830874">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830877">{</span><span class="string" id="7830878">`[\x{100}\x{101}]`</span><span class="op" id="7830896">,</span>&nbsp;<span class="string" id="7830898">`litfold{Ā}`</span><span class="op" id="7830911">}</span><span class="op" id="7830912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830915">{</span><span class="string" id="7830916">`[Δδ]`</span><span class="op" id="7830924">,</span>&nbsp;<span class="string" id="7830926">`litfold{Δ}`</span><span class="op" id="7830939">}</span><span class="op" id="7830940">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7830944">//&nbsp;Strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830956">{</span><span class="string" id="7830957">`abcde`</span><span class="op" id="7830964">,</span>&nbsp;<span class="string" id="7830966">`str{abcde}`</span><span class="op" id="7830978">}</span><span class="op" id="7830979">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7830982">{</span><span class="string" id="7830983">`[Aa][Bb]cd`</span><span class="op" id="7830995">,</span>&nbsp;<span class="string" id="7830997">`cat{strfold{AB}str{cd}}`</span><span class="op" id="7831022">}</span><span class="op" id="7831023">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7831027">//&nbsp;Factoring.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831042">{</span><span class="string" id="7831043">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7831064">,</span>&nbsp;<span class="string" id="7831066">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7831145">}</span><span class="op" id="7831146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831149">{</span><span class="string" id="7831150">`ax+y|ax+z|ay+w`</span><span class="op" id="7831166">,</span>&nbsp;<span class="string" id="7831168">`cat{lit{a}alt{cat{plus{lit{x}}cc{0x79-0x7a}}cat{plus{lit{y}}lit{w}}}}`</span><span class="op" id="7831239">}</span><span class="op" id="7831240">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7831244">//&nbsp;Bug&nbsp;fixes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831259">{</span><span class="string" id="7831260">`(?:.)`</span><span class="op" id="7831267">,</span>&nbsp;<span class="string" id="7831269">`dot{}`</span><span class="op" id="7831276">}</span><span class="op" id="7831277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831280">{</span><span class="string" id="7831281">`(?:x|(?:xa))`</span><span class="op" id="7831295">,</span>&nbsp;<span class="string" id="7831297">`cat{lit{x}alt{emp{}lit{a}}}`</span><span class="op" id="7831326">}</span><span class="op" id="7831327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831330">{</span><span class="string" id="7831331">`(?:.|(?:.a))`</span><span class="op" id="7831345">,</span>&nbsp;<span class="string" id="7831347">`cat{dot{}alt{emp{}lit{a}}}`</span><span class="op" id="7831375">}</span><span class="op" id="7831376">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831379">{</span><span class="string" id="7831380">`(?:A(?:A|a))`</span><span class="op" id="7831394">,</span>&nbsp;<span class="string" id="7831396">`cat{lit{A}litfold{A}}`</span><span class="op" id="7831419">}</span><span class="op" id="7831420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831423">{</span><span class="string" id="7831424">`(?:A|a)`</span><span class="op" id="7831433">,</span>&nbsp;<span class="string" id="7831435">`litfold{A}`</span><span class="op" id="7831447">}</span><span class="op" id="7831448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831451">{</span><span class="string" id="7831452">`A|(?:A|a)`</span><span class="op" id="7831463">,</span>&nbsp;<span class="string" id="7831465">`litfold{A}`</span><span class="op" id="7831477">}</span><span class="op" id="7831478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831481">{</span><span class="string" id="7831482">`(?s).`</span><span class="op" id="7831489">,</span>&nbsp;<span class="string" id="7831491">`dot{}`</span><span class="op" id="7831498">}</span><span class="op" id="7831499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831502">{</span><span class="string" id="7831503">`(?-s).`</span><span class="op" id="7831511">,</span>&nbsp;<span class="string" id="7831513">`dnl{}`</span><span class="op" id="7831520">}</span><span class="op" id="7831521">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831524">{</span><span class="string" id="7831525">`(?:(?:^).)`</span><span class="op" id="7831537">,</span>&nbsp;<span class="string" id="7831539">`cat{bol{}dot{}}`</span><span class="op" id="7831556">}</span><span class="op" id="7831557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831560">{</span><span class="string" id="7831561">`(?-s)(?:(?:^).)`</span><span class="op" id="7831578">,</span>&nbsp;<span class="string" id="7831580">`cat{bol{}dnl{}}`</span><span class="op" id="7831597">}</span><span class="op" id="7831598">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7831602">//&nbsp;RE2&nbsp;prefix_tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831623">{</span><span class="string" id="7831624">`abc|abd`</span><span class="op" id="7831633">,</span>&nbsp;<span class="string" id="7831635">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7831662">}</span><span class="op" id="7831663">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831666">{</span><span class="string" id="7831667">`a(?:b)c|abd`</span><span class="op" id="7831680">,</span>&nbsp;<span class="string" id="7831682">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7831709">}</span><span class="op" id="7831710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831713">{</span><span class="string" id="7831714">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7831735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7831739">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}`</span>&nbsp;<span class="op" id="7831793">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7831798">`cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7831826">}</span><span class="op" id="7831827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831830">{</span><span class="string" id="7831831">`abc|x|abd`</span><span class="op" id="7831842">,</span>&nbsp;<span class="string" id="7831844">`alt{str{abc}lit{x}str{abd}}`</span><span class="op" id="7831873">}</span><span class="op" id="7831874">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831877">{</span><span class="string" id="7831878">`(?i)abc|ABD`</span><span class="op" id="7831891">,</span>&nbsp;<span class="string" id="7831893">`cat{strfold{AB}cc{0x43-0x44&nbsp;0x63-0x64}}`</span><span class="op" id="7831934">}</span><span class="op" id="7831935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831938">{</span><span class="string" id="7831939">`[ab]c|[ab]d`</span><span class="op" id="7831952">,</span>&nbsp;<span class="string" id="7831954">`cat{cc{0x61-0x62}cc{0x63-0x64}}`</span><span class="op" id="7831987">}</span><span class="op" id="7831988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7831991">{</span><span class="string" id="7831992">`(?:xx|yy)c|(?:xx|yy)d`</span><span class="op" id="7832015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7832019">`cat{alt{str{xx}str{yy}}cc{0x63-0x64}}`</span><span class="op" id="7832058">}</span><span class="op" id="7832059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7832062">{</span><span class="string" id="7832063">`x{2}|x{2}[0-9]`</span><span class="op" id="7832079">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7832083">`cat{rep{2,2&nbsp;lit{x}}alt{emp{}cc{0x30-0x39}}}`</span><span class="op" id="7832128">}</span><span class="op" id="7832129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7832132">{</span><span class="string" id="7832133">`x{2}y|x{2}[0-9]y`</span><span class="op" id="7832151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7832155">`cat{rep{2,2&nbsp;lit{x}}alt{lit{y}cat{cc{0x30-0x39}lit{y}}}}`</span><span class="op" id="7832212">}</span><span class="op" id="7832213">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7832217">//&nbsp;Valid&nbsp;repetitions.</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7832240">{</span><span class="string" id="7832241">`((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}))`</span><span class="op" id="7832291">,</span>&nbsp;<span class="string" id="7832293">``</span><span class="op" id="7832295">}</span><span class="op" id="7832296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7832299">{</span><span class="string" id="7832300">`((((((((((x{1}){2}){2}){2}){2}){2}){2}){2}){2}){2})`</span><span class="op" id="7832353">,</span>&nbsp;<span class="string" id="7832355">``</span><span class="op" id="7832357">}</span><span class="op" id="7832358">,</span><br>
<span class="lineno"></span><span class="op" id="7832360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7832363">const</span>&nbsp;<span class="ident" id="7832369">testFlags</span>&nbsp;<span class="op" id="7832379">=</span>&nbsp;<span class="ident" id="7832381">MatchNL</span>&nbsp;<span class="op" id="7832389">|</span>&nbsp;<span class="ident" id="7832391">PerlX</span>&nbsp;<span class="op" id="7832397">|</span>&nbsp;<span class="ident" id="7832399">UnicodeGroups</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="7832414">func</span>&nbsp;<span class="ident" id="7832419">TestParseSimple</span><span class="op" id="7832434">(</span><span class="ident" id="7832435">t</span>&nbsp;<span class="op" id="7832437">*</span><span class="ident" id="7832438">testing</span><span class="op" id="7832445">.</span><span class="ident" id="7832446">T</span><span class="op" id="7832447">)</span>&nbsp;<span class="op" id="7832449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7832452">testParseDump</span><span class="op" id="7832465">(</span><span class="ident" id="7832466">t</span><span class="op" id="7832467">,</span>&nbsp;<span class="ident" id="7832469">parseTests</span><span class="op" id="7832479">,</span>&nbsp;<span class="ident" id="7832481">testFlags</span><span class="op" id="7832490">)</span><br>
<span class="lineno"></span><span class="op" id="7832492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="7832495">var</span>&nbsp;<span class="ident" id="7832499">foldcaseTests</span>&nbsp;<span class="op" id="7832513">=</span>&nbsp;<span class="op" id="7832515">[</span><span class="op" id="7832516">]</span><span class="ident" id="7832517">parseTest</span><span class="op" id="7832526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7832529">{</span><span class="string" id="7832530">`AbCdE`</span><span class="op" id="7832537">,</span>&nbsp;<span class="string" id="7832539">`strfold{ABCDE}`</span><span class="op" id="7832555">}</span><span class="op" id="7832556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7832559">{</span><span class="string" id="7832560">`[Aa]`</span><span class="op" id="7832566">,</span>&nbsp;<span class="string" id="7832568">`litfold{A}`</span><span class="op" id="7832580">}</span><span class="op" id="7832581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7832584">{</span><span class="string" id="7832585">`a`</span><span class="op" id="7832588">,</span>&nbsp;<span class="string" id="7832590">`litfold{A}`</span><span class="op" id="7832602">}</span><span class="op" id="7832603">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7832607">//&nbsp;0x17F&nbsp;is&nbsp;an&nbsp;old&nbsp;English&nbsp;long&nbsp;s&nbsp;(looks&nbsp;like&nbsp;an&nbsp;f)&nbsp;and&nbsp;folds&nbsp;to&nbsp;s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7832676">//&nbsp;0x212A&nbsp;is&nbsp;the&nbsp;Kelvin&nbsp;symbol&nbsp;and&nbsp;folds&nbsp;to&nbsp;k.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7832724">{</span><span class="string" id="7832725">`A[F-g]`</span><span class="op" id="7832733">,</span>&nbsp;<span class="string" id="7832735">`cat{litfold{A}cc{0x41-0x7a&nbsp;0x17f&nbsp;0x212a}}`</span><span class="op" id="7832778">}</span><span class="op" id="7832779">,</span>&nbsp;<span class="comment" id="7832781">//&nbsp;[Aa][A-z...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7832798">{</span><span class="string" id="7832799">`[[:upper:]]`</span><span class="op" id="7832812">,</span>&nbsp;<span class="string" id="7832814">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7832852">}</span><span class="op" id="7832853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7832856">{</span><span class="string" id="7832857">`[[:lower:]]`</span><span class="op" id="7832870">,</span>&nbsp;<span class="string" id="7832872">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7832910">}</span><span class="op" id="7832911">,</span><br>
<span class="lineno">225</span><span class="op" id="7832913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7832916">func</span>&nbsp;<span class="ident" id="7832921">TestParseFoldCase</span><span class="op" id="7832938">(</span><span class="ident" id="7832939">t</span>&nbsp;<span class="op" id="7832941">*</span><span class="ident" id="7832942">testing</span><span class="op" id="7832949">.</span><span class="ident" id="7832950">T</span><span class="op" id="7832951">)</span>&nbsp;<span class="op" id="7832953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7832956">testParseDump</span><span class="op" id="7832969">(</span><span class="ident" id="7832970">t</span><span class="op" id="7832971">,</span>&nbsp;<span class="ident" id="7832973">foldcaseTests</span><span class="op" id="7832986">,</span>&nbsp;<span class="ident" id="7832988">FoldCase</span><span class="op" id="7832996">)</span><br>
<span class="lineno"></span><span class="op" id="7832998">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="7833001">var</span>&nbsp;<span class="ident" id="7833005">literalTests</span>&nbsp;<span class="op" id="7833018">=</span>&nbsp;<span class="op" id="7833020">[</span><span class="op" id="7833021">]</span><span class="ident" id="7833022">parseTest</span><span class="op" id="7833031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7833034">{</span><span class="string" id="7833035">&#34;(|)^$.[*+?]{5,10},\\&#34;</span><span class="op" id="7833057">,</span>&nbsp;<span class="string" id="7833059">&#34;str{(|)^$.[*+?]{5,10},\\}&#34;</span><span class="op" id="7833086">}</span><span class="op" id="7833087">,</span><br>
<span class="lineno"></span><span class="op" id="7833089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="7833092">func</span>&nbsp;<span class="ident" id="7833097">TestParseLiteral</span><span class="op" id="7833113">(</span><span class="ident" id="7833114">t</span>&nbsp;<span class="op" id="7833116">*</span><span class="ident" id="7833117">testing</span><span class="op" id="7833124">.</span><span class="ident" id="7833125">T</span><span class="op" id="7833126">)</span>&nbsp;<span class="op" id="7833128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7833131">testParseDump</span><span class="op" id="7833144">(</span><span class="ident" id="7833145">t</span><span class="op" id="7833146">,</span>&nbsp;<span class="ident" id="7833148">literalTests</span><span class="op" id="7833160">,</span>&nbsp;<span class="ident" id="7833162">Literal</span><span class="op" id="7833169">)</span><br>
<span class="lineno"></span><span class="op" id="7833171">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7833174">var</span>&nbsp;<span class="ident" id="7833178">matchnlTests</span>&nbsp;<span class="op" id="7833191">=</span>&nbsp;<span class="op" id="7833193">[</span><span class="op" id="7833194">]</span><span class="ident" id="7833195">parseTest</span><span class="op" id="7833204">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7833207">{</span><span class="string" id="7833208">`.`</span><span class="op" id="7833211">,</span>&nbsp;<span class="string" id="7833213">`dot{}`</span><span class="op" id="7833220">}</span><span class="op" id="7833221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7833224">{</span><span class="string" id="7833225">&#34;\n&#34;</span><span class="op" id="7833229">,</span>&nbsp;<span class="string" id="7833231">&#34;lit{\n}&#34;</span><span class="op" id="7833240">}</span><span class="op" id="7833241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7833244">{</span><span class="string" id="7833245">`[^a]`</span><span class="op" id="7833251">,</span>&nbsp;<span class="string" id="7833253">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7833281">}</span><span class="op" id="7833282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7833285">{</span><span class="string" id="7833286">`[a\n]`</span><span class="op" id="7833293">,</span>&nbsp;<span class="string" id="7833295">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7833309">}</span><span class="op" id="7833310">,</span><br>
<span class="lineno"></span><span class="op" id="7833312">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="keyword" id="7833315">func</span>&nbsp;<span class="ident" id="7833320">TestParseMatchNL</span><span class="op" id="7833336">(</span><span class="ident" id="7833337">t</span>&nbsp;<span class="op" id="7833339">*</span><span class="ident" id="7833340">testing</span><span class="op" id="7833347">.</span><span class="ident" id="7833348">T</span><span class="op" id="7833349">)</span>&nbsp;<span class="op" id="7833351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7833354">testParseDump</span><span class="op" id="7833367">(</span><span class="ident" id="7833368">t</span><span class="op" id="7833369">,</span>&nbsp;<span class="ident" id="7833371">matchnlTests</span><span class="op" id="7833383">,</span>&nbsp;<span class="ident" id="7833385">MatchNL</span><span class="op" id="7833392">)</span><br>
<span class="lineno"></span><span class="op" id="7833394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="7833397">var</span>&nbsp;<span class="ident" id="7833401">nomatchnlTests</span>&nbsp;<span class="op" id="7833416">=</span>&nbsp;<span class="op" id="7833418">[</span><span class="op" id="7833419">]</span><span class="ident" id="7833420">parseTest</span><span class="op" id="7833429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7833432">{</span><span class="string" id="7833433">`.`</span><span class="op" id="7833436">,</span>&nbsp;<span class="string" id="7833438">`dnl{}`</span><span class="op" id="7833445">}</span><span class="op" id="7833446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7833449">{</span><span class="string" id="7833450">&#34;\n&#34;</span><span class="op" id="7833454">,</span>&nbsp;<span class="string" id="7833456">&#34;lit{\n}&#34;</span><span class="op" id="7833465">}</span><span class="op" id="7833466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7833469">{</span><span class="string" id="7833470">`[^a]`</span><span class="op" id="7833476">,</span>&nbsp;<span class="string" id="7833478">`cc{0x0-0x9&nbsp;0xb-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7833514">}</span><span class="op" id="7833515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7833518">{</span><span class="string" id="7833519">`[a\n]`</span><span class="op" id="7833526">,</span>&nbsp;<span class="string" id="7833528">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7833542">}</span><span class="op" id="7833543">,</span><br>
<span class="lineno">255</span><span class="op" id="7833545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7833548">func</span>&nbsp;<span class="ident" id="7833553">TestParseNoMatchNL</span><span class="op" id="7833571">(</span><span class="ident" id="7833572">t</span>&nbsp;<span class="op" id="7833574">*</span><span class="ident" id="7833575">testing</span><span class="op" id="7833582">.</span><span class="ident" id="7833583">T</span><span class="op" id="7833584">)</span>&nbsp;<span class="op" id="7833586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7833589">testParseDump</span><span class="op" id="7833602">(</span><span class="ident" id="7833603">t</span><span class="op" id="7833604">,</span>&nbsp;<span class="ident" id="7833606">nomatchnlTests</span><span class="op" id="7833620">,</span>&nbsp;<span class="num" id="7833622">0</span><span class="op" id="7833623">)</span><br>
<span class="lineno"></span><span class="op" id="7833625">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="7833628">//&nbsp;Test&nbsp;Parse&nbsp;-&gt;&nbsp;Dump.</span><br>
<span class="lineno"></span><span class="keyword" id="7833651">func</span>&nbsp;<span class="ident" id="7833656">testParseDump</span><span class="op" id="7833669">(</span><span class="ident" id="7833670">t</span>&nbsp;<span class="op" id="7833672">*</span><span class="ident" id="7833673">testing</span><span class="op" id="7833680">.</span><span class="ident" id="7833681">T</span><span class="op" id="7833682">,</span>&nbsp;<span class="ident" id="7833684">tests</span>&nbsp;<span class="op" id="7833690">[</span><span class="op" id="7833691">]</span><span class="ident" id="7833692">parseTest</span><span class="op" id="7833701">,</span>&nbsp;<span class="ident" id="7833703">flags</span>&nbsp;<span class="ident" id="7833709">Flags</span><span class="op" id="7833714">)</span>&nbsp;<span class="op" id="7833716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7833719">for</span>&nbsp;<span class="ident" id="7833723">_</span><span class="op" id="7833724">,</span>&nbsp;<span class="ident" id="7833726">tt</span>&nbsp;<span class="op" id="7833729">:=</span>&nbsp;<span class="keyword" id="7833732">range</span>&nbsp;<span class="ident" id="7833738">tests</span>&nbsp;<span class="op" id="7833744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7833748">re</span><span class="op" id="7833750">,</span>&nbsp;<span class="ident" id="7833752">err</span>&nbsp;<span class="op" id="7833756">:=</span>&nbsp;<span class="ident" id="7833759">Parse</span><span class="op" id="7833764">(</span><span class="ident" id="7833765">tt</span><span class="op" id="7833767">.</span><span class="ident" id="7833768">Regexp</span><span class="op" id="7833774">,</span>&nbsp;<span class="ident" id="7833776">flags</span><span class="op" id="7833781">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7833785">if</span>&nbsp;<span class="ident" id="7833788">err</span>&nbsp;<span class="op" id="7833792">!=</span>&nbsp;<span class="builtintype" id="7833795">nil</span>&nbsp;<span class="op" id="7833799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7833804">t</span><span class="op" id="7833805">.</span><span class="ident" id="7833806">Errorf</span><span class="op" id="7833812">(</span><span class="string" id="7833813">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7833829">,</span>&nbsp;<span class="ident" id="7833831">tt</span><span class="op" id="7833833">.</span><span class="ident" id="7833834">Regexp</span><span class="op" id="7833840">,</span>&nbsp;<span class="ident" id="7833842">err</span><span class="op" id="7833845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7833850">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7833861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7833865">if</span>&nbsp;<span class="ident" id="7833868">tt</span><span class="op" id="7833870">.</span><span class="ident" id="7833871">Dump</span>&nbsp;<span class="op" id="7833876">==</span>&nbsp;<span class="string" id="7833879">&#34;&#34;</span>&nbsp;<span class="op" id="7833882">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7833887">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7833930">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7833941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7833945">d</span>&nbsp;<span class="op" id="7833947">:=</span>&nbsp;<span class="ident" id="7833950">dump</span><span class="op" id="7833954">(</span><span class="ident" id="7833955">re</span><span class="op" id="7833957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7833961">if</span>&nbsp;<span class="ident" id="7833964">d</span>&nbsp;<span class="op" id="7833966">!=</span>&nbsp;<span class="ident" id="7833969">tt</span><span class="op" id="7833971">.</span><span class="ident" id="7833972">Dump</span>&nbsp;<span class="op" id="7833977">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7833982">t</span><span class="op" id="7833983">.</span><span class="ident" id="7833984">Errorf</span><span class="op" id="7833990">(</span><span class="string" id="7833991">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7834025">,</span>&nbsp;<span class="ident" id="7834027">tt</span><span class="op" id="7834029">.</span><span class="ident" id="7834030">Regexp</span><span class="op" id="7834036">,</span>&nbsp;<span class="ident" id="7834038">d</span><span class="op" id="7834039">,</span>&nbsp;<span class="ident" id="7834041">tt</span><span class="op" id="7834043">.</span><span class="ident" id="7834044">Dump</span><span class="op" id="7834048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7834052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7834055">}</span><br>
<span class="lineno"></span><span class="op" id="7834057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="comment" id="7834060">//&nbsp;dump&nbsp;prints&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;regexp&nbsp;showing</span><br>
<span class="lineno"></span><span class="comment" id="7834121">//&nbsp;the&nbsp;structure&nbsp;explicitly.</span><br>
<span class="lineno"></span><span class="keyword" id="7834150">func</span>&nbsp;<span class="ident" id="7834155">dump</span><span class="op" id="7834159">(</span><span class="ident" id="7834160">re</span>&nbsp;<span class="op" id="7834163">*</span><span class="ident" id="7834164">Regexp</span><span class="op" id="7834170">)</span>&nbsp;<span class="builtintype" id="7834172">string</span>&nbsp;<span class="op" id="7834179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7834182">var</span>&nbsp;<span class="ident" id="7834186">b</span>&nbsp;<span class="ident" id="7834188">bytes</span><span class="op" id="7834193">.</span><span class="ident" id="7834194">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834202">dumpRegexp</span><span class="op" id="7834212">(</span><span class="op" id="7834213">&amp;</span><span class="ident" id="7834214">b</span><span class="op" id="7834215">,</span>&nbsp;<span class="ident" id="7834217">re</span><span class="op" id="7834219">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7834222">return</span>&nbsp;<span class="ident" id="7834229">b</span><span class="op" id="7834230">.</span><span class="ident" id="7834231">String</span><span class="op" id="7834237">(</span><span class="op" id="7834238">)</span><br>
<span class="lineno"></span><span class="op" id="7834240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7834243">var</span>&nbsp;<span class="ident" id="7834247">opNames</span>&nbsp;<span class="op" id="7834255">=</span>&nbsp;<span class="op" id="7834257">[</span><span class="op" id="7834258">]</span><span class="builtintype" id="7834259">string</span><span class="op" id="7834265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834268">OpNoMatch</span><span class="op" id="7834277">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834286">&#34;no&#34;</span><span class="op" id="7834290">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834293">OpEmptyMatch</span><span class="op" id="7834305">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834311">&#34;emp&#34;</span><span class="op" id="7834316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834319">OpLiteral</span><span class="op" id="7834328">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834337">&#34;lit&#34;</span><span class="op" id="7834342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834345">OpCharClass</span><span class="op" id="7834356">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834363">&#34;cc&#34;</span><span class="op" id="7834367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834370">OpAnyCharNotNL</span><span class="op" id="7834384">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7834388">&#34;dnl&#34;</span><span class="op" id="7834393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834396">OpAnyChar</span><span class="op" id="7834405">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834414">&#34;dot&#34;</span><span class="op" id="7834419">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834422">OpBeginLine</span><span class="op" id="7834433">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834440">&#34;bol&#34;</span><span class="op" id="7834445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834448">OpEndLine</span><span class="op" id="7834457">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834466">&#34;eol&#34;</span><span class="op" id="7834471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834474">OpBeginText</span><span class="op" id="7834485">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834492">&#34;bot&#34;</span><span class="op" id="7834497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834500">OpEndText</span><span class="op" id="7834509">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834518">&#34;eot&#34;</span><span class="op" id="7834523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834526">OpWordBoundary</span><span class="op" id="7834540">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7834544">&#34;wb&#34;</span><span class="op" id="7834548">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834551">OpNoWordBoundary</span><span class="op" id="7834567">:</span>&nbsp;<span class="string" id="7834569">&#34;nwb&#34;</span><span class="op" id="7834574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834577">OpCapture</span><span class="op" id="7834586">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834595">&#34;cap&#34;</span><span class="op" id="7834600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834603">OpStar</span><span class="op" id="7834609">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834621">&#34;star&#34;</span><span class="op" id="7834627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834630">OpPlus</span><span class="op" id="7834636">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834648">&#34;plus&#34;</span><span class="op" id="7834654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834657">OpQuest</span><span class="op" id="7834664">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834675">&#34;que&#34;</span><span class="op" id="7834680">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834683">OpRepeat</span><span class="op" id="7834691">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834701">&#34;rep&#34;</span><span class="op" id="7834706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834709">OpConcat</span><span class="op" id="7834717">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834727">&#34;cat&#34;</span><span class="op" id="7834732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7834735">OpAlternate</span><span class="op" id="7834746">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7834753">&#34;alt&#34;</span><span class="op" id="7834758">,</span><br>
<span class="lineno"></span><span class="op" id="7834760">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="comment" id="7834763">//&nbsp;dumpRegexp&nbsp;writes&nbsp;an&nbsp;encoding&nbsp;of&nbsp;the&nbsp;syntax&nbsp;tree&nbsp;for&nbsp;the&nbsp;regexp&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno"></span><span class="comment" id="7834839">//&nbsp;It&nbsp;is&nbsp;used&nbsp;during&nbsp;testing&nbsp;to&nbsp;distinguish&nbsp;between&nbsp;parses&nbsp;that&nbsp;might&nbsp;print</span><br>
<span class="lineno"></span><span class="comment" id="7834915">//&nbsp;the&nbsp;same&nbsp;using&nbsp;re&#39;s&nbsp;String&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="7834953">func</span>&nbsp;<span class="ident" id="7834958">dumpRegexp</span><span class="op" id="7834968">(</span><span class="ident" id="7834969">b</span>&nbsp;<span class="op" id="7834971">*</span><span class="ident" id="7834972">bytes</span><span class="op" id="7834977">.</span><span class="ident" id="7834978">Buffer</span><span class="op" id="7834984">,</span>&nbsp;<span class="ident" id="7834986">re</span>&nbsp;<span class="op" id="7834989">*</span><span class="ident" id="7834990">Regexp</span><span class="op" id="7834996">)</span>&nbsp;<span class="op" id="7834998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835001">if</span>&nbsp;<span class="builtintype" id="7835004">int</span><span class="op" id="7835007">(</span><span class="ident" id="7835008">re</span><span class="op" id="7835010">.</span><span class="ident" id="7835011">Op</span><span class="op" id="7835013">)</span>&nbsp;<span class="op" id="7835015">&gt;=</span>&nbsp;<span class="builtinfunc" id="7835018">len</span><span class="op" id="7835021">(</span><span class="ident" id="7835022">opNames</span><span class="op" id="7835029">)</span>&nbsp;<span class="op" id="7835031">||</span>&nbsp;<span class="ident" id="7835034">opNames</span><span class="op" id="7835041">[</span><span class="ident" id="7835042">re</span><span class="op" id="7835044">.</span><span class="ident" id="7835045">Op</span><span class="op" id="7835047">]</span>&nbsp;<span class="op" id="7835049">==</span>&nbsp;<span class="string" id="7835052">&#34;&#34;</span>&nbsp;<span class="op" id="7835055">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7835059">fmt</span><span class="op" id="7835062">.</span><span class="ident" id="7835063">Fprintf</span><span class="op" id="7835070">(</span><span class="ident" id="7835071">b</span><span class="op" id="7835072">,</span>&nbsp;<span class="string" id="7835074">&#34;op%d&#34;</span><span class="op" id="7835080">,</span>&nbsp;<span class="ident" id="7835082">re</span><span class="op" id="7835084">.</span><span class="ident" id="7835085">Op</span><span class="op" id="7835087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7835090">}</span>&nbsp;<span class="keyword" id="7835092">else</span>&nbsp;<span class="op" id="7835097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835101">switch</span>&nbsp;<span class="ident" id="7835108">re</span><span class="op" id="7835110">.</span><span class="ident" id="7835111">Op</span>&nbsp;<span class="op" id="7835114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835118">default</span><span class="op" id="7835125">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7835130">b</span><span class="op" id="7835131">.</span><span class="ident" id="7835132">WriteString</span><span class="op" id="7835143">(</span><span class="ident" id="7835144">opNames</span><span class="op" id="7835151">[</span><span class="ident" id="7835152">re</span><span class="op" id="7835154">.</span><span class="ident" id="7835155">Op</span><span class="op" id="7835157">]</span><span class="op" id="7835158">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835162">case</span>&nbsp;<span class="ident" id="7835167">OpStar</span><span class="op" id="7835173">,</span>&nbsp;<span class="ident" id="7835175">OpPlus</span><span class="op" id="7835181">,</span>&nbsp;<span class="ident" id="7835183">OpQuest</span><span class="op" id="7835190">,</span>&nbsp;<span class="ident" id="7835192">OpRepeat</span><span class="op" id="7835200">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835205">if</span>&nbsp;<span class="ident" id="7835208">re</span><span class="op" id="7835210">.</span><span class="ident" id="7835211">Flags</span><span class="op" id="7835216">&amp;</span><span class="ident" id="7835217">NonGreedy</span>&nbsp;<span class="op" id="7835227">!=</span>&nbsp;<span class="num" id="7835230">0</span>&nbsp;<span class="op" id="7835232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7835238">b</span><span class="op" id="7835239">.</span><span class="ident" id="7835240">WriteByte</span><span class="op" id="7835249">(</span><span class="string" id="7835250">&#39;n&#39;</span><span class="op" id="7835253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7835258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7835263">b</span><span class="op" id="7835264">.</span><span class="ident" id="7835265">WriteString</span><span class="op" id="7835276">(</span><span class="ident" id="7835277">opNames</span><span class="op" id="7835284">[</span><span class="ident" id="7835285">re</span><span class="op" id="7835287">.</span><span class="ident" id="7835288">Op</span><span class="op" id="7835290">]</span><span class="op" id="7835291">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835295">case</span>&nbsp;<span class="ident" id="7835300">OpLiteral</span><span class="op" id="7835309">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835314">if</span>&nbsp;<span class="builtinfunc" id="7835317">len</span><span class="op" id="7835320">(</span><span class="ident" id="7835321">re</span><span class="op" id="7835323">.</span><span class="ident" id="7835324">Rune</span><span class="op" id="7835328">)</span>&nbsp;<span class="op" id="7835330">&gt;</span>&nbsp;<span class="num" id="7835332">1</span>&nbsp;<span class="op" id="7835334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7835340">b</span><span class="op" id="7835341">.</span><span class="ident" id="7835342">WriteString</span><span class="op" id="7835353">(</span><span class="string" id="7835354">&#34;str&#34;</span><span class="op" id="7835359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7835364">}</span>&nbsp;<span class="keyword" id="7835366">else</span>&nbsp;<span class="op" id="7835371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7835377">b</span><span class="op" id="7835378">.</span><span class="ident" id="7835379">WriteString</span><span class="op" id="7835390">(</span><span class="string" id="7835391">&#34;lit&#34;</span><span class="op" id="7835396">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7835401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835406">if</span>&nbsp;<span class="ident" id="7835409">re</span><span class="op" id="7835411">.</span><span class="ident" id="7835412">Flags</span><span class="op" id="7835417">&amp;</span><span class="ident" id="7835418">FoldCase</span>&nbsp;<span class="op" id="7835427">!=</span>&nbsp;<span class="num" id="7835430">0</span>&nbsp;<span class="op" id="7835432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835438">for</span>&nbsp;<span class="ident" id="7835442">_</span><span class="op" id="7835443">,</span>&nbsp;<span class="ident" id="7835445">r</span>&nbsp;<span class="op" id="7835447">:=</span>&nbsp;<span class="keyword" id="7835450">range</span>&nbsp;<span class="ident" id="7835456">re</span><span class="op" id="7835458">.</span><span class="ident" id="7835459">Rune</span>&nbsp;<span class="op" id="7835464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835471">if</span>&nbsp;<span class="ident" id="7835474">unicode</span><span class="op" id="7835481">.</span><span class="ident" id="7835482">SimpleFold</span><span class="op" id="7835492">(</span><span class="ident" id="7835493">r</span><span class="op" id="7835494">)</span>&nbsp;<span class="op" id="7835496">!=</span>&nbsp;<span class="ident" id="7835499">r</span>&nbsp;<span class="op" id="7835501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7835509">b</span><span class="op" id="7835510">.</span><span class="ident" id="7835511">WriteString</span><span class="op" id="7835522">(</span><span class="string" id="7835523">&#34;fold&#34;</span><span class="op" id="7835529">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835537">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7835548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7835554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7835559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7835563">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7835566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7835569">b</span><span class="op" id="7835570">.</span><span class="ident" id="7835571">WriteByte</span><span class="op" id="7835580">(</span><span class="string" id="7835581">&#39;{&#39;</span><span class="op" id="7835584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835587">switch</span>&nbsp;<span class="ident" id="7835594">re</span><span class="op" id="7835596">.</span><span class="ident" id="7835597">Op</span>&nbsp;<span class="op" id="7835600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835603">case</span>&nbsp;<span class="ident" id="7835608">OpEndText</span><span class="op" id="7835617">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835621">if</span>&nbsp;<span class="ident" id="7835624">re</span><span class="op" id="7835626">.</span><span class="ident" id="7835627">Flags</span><span class="op" id="7835632">&amp;</span><span class="ident" id="7835633">WasDollar</span>&nbsp;<span class="op" id="7835643">==</span>&nbsp;<span class="num" id="7835646">0</span>&nbsp;<span class="op" id="7835648">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7835653">b</span><span class="op" id="7835654">.</span><span class="ident" id="7835655">WriteString</span><span class="op" id="7835666">(</span><span class="string" id="7835667">`\z`</span><span class="op" id="7835671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7835675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835678">case</span>&nbsp;<span class="ident" id="7835683">OpLiteral</span><span class="op" id="7835692">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835696">for</span>&nbsp;<span class="ident" id="7835700">_</span><span class="op" id="7835701">,</span>&nbsp;<span class="ident" id="7835703">r</span>&nbsp;<span class="op" id="7835705">:=</span>&nbsp;<span class="keyword" id="7835708">range</span>&nbsp;<span class="ident" id="7835714">re</span><span class="op" id="7835716">.</span><span class="ident" id="7835717">Rune</span>&nbsp;<span class="op" id="7835722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7835727">b</span><span class="op" id="7835728">.</span><span class="ident" id="7835729">WriteRune</span><span class="op" id="7835738">(</span><span class="ident" id="7835739">r</span><span class="op" id="7835740">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7835744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835747">case</span>&nbsp;<span class="ident" id="7835752">OpConcat</span><span class="op" id="7835760">,</span>&nbsp;<span class="ident" id="7835762">OpAlternate</span><span class="op" id="7835773">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835777">for</span>&nbsp;<span class="ident" id="7835781">_</span><span class="op" id="7835782">,</span>&nbsp;<span class="ident" id="7835784">sub</span>&nbsp;<span class="op" id="7835788">:=</span>&nbsp;<span class="keyword" id="7835791">range</span>&nbsp;<span class="ident" id="7835797">re</span><span class="op" id="7835799">.</span><span class="ident" id="7835800">Sub</span>&nbsp;<span class="op" id="7835804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7835809">dumpRegexp</span><span class="op" id="7835819">(</span><span class="ident" id="7835820">b</span><span class="op" id="7835821">,</span>&nbsp;<span class="ident" id="7835823">sub</span><span class="op" id="7835826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7835830">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835833">case</span>&nbsp;<span class="ident" id="7835838">OpStar</span><span class="op" id="7835844">,</span>&nbsp;<span class="ident" id="7835846">OpPlus</span><span class="op" id="7835852">,</span>&nbsp;<span class="ident" id="7835854">OpQuest</span><span class="op" id="7835861">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7835865">dumpRegexp</span><span class="op" id="7835875">(</span><span class="ident" id="7835876">b</span><span class="op" id="7835877">,</span>&nbsp;<span class="ident" id="7835879">re</span><span class="op" id="7835881">.</span><span class="ident" id="7835882">Sub</span><span class="op" id="7835885">[</span><span class="num" id="7835886">0</span><span class="op" id="7835887">]</span><span class="op" id="7835888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835891">case</span>&nbsp;<span class="ident" id="7835896">OpRepeat</span><span class="op" id="7835904">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7835908">fmt</span><span class="op" id="7835911">.</span><span class="ident" id="7835912">Fprintf</span><span class="op" id="7835919">(</span><span class="ident" id="7835920">b</span><span class="op" id="7835921">,</span>&nbsp;<span class="string" id="7835923">&#34;%d,%d&nbsp;&#34;</span><span class="op" id="7835931">,</span>&nbsp;<span class="ident" id="7835933">re</span><span class="op" id="7835935">.</span><span class="ident" id="7835936">Min</span><span class="op" id="7835939">,</span>&nbsp;<span class="ident" id="7835941">re</span><span class="op" id="7835943">.</span><span class="ident" id="7835944">Max</span><span class="op" id="7835947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7835951">dumpRegexp</span><span class="op" id="7835961">(</span><span class="ident" id="7835962">b</span><span class="op" id="7835963">,</span>&nbsp;<span class="ident" id="7835965">re</span><span class="op" id="7835967">.</span><span class="ident" id="7835968">Sub</span><span class="op" id="7835971">[</span><span class="num" id="7835972">0</span><span class="op" id="7835973">]</span><span class="op" id="7835974">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835977">case</span>&nbsp;<span class="ident" id="7835982">OpCapture</span><span class="op" id="7835991">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7835995">if</span>&nbsp;<span class="ident" id="7835998">re</span><span class="op" id="7836000">.</span><span class="ident" id="7836001">Name</span>&nbsp;<span class="op" id="7836006">!=</span>&nbsp;<span class="string" id="7836009">&#34;&#34;</span>&nbsp;<span class="op" id="7836012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836017">b</span><span class="op" id="7836018">.</span><span class="ident" id="7836019">WriteString</span><span class="op" id="7836030">(</span><span class="ident" id="7836031">re</span><span class="op" id="7836033">.</span><span class="ident" id="7836034">Name</span><span class="op" id="7836038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836043">b</span><span class="op" id="7836044">.</span><span class="ident" id="7836045">WriteByte</span><span class="op" id="7836054">(</span><span class="string" id="7836055">&#39;:&#39;</span><span class="op" id="7836058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7836062">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836066">dumpRegexp</span><span class="op" id="7836076">(</span><span class="ident" id="7836077">b</span><span class="op" id="7836078">,</span>&nbsp;<span class="ident" id="7836080">re</span><span class="op" id="7836082">.</span><span class="ident" id="7836083">Sub</span><span class="op" id="7836086">[</span><span class="num" id="7836087">0</span><span class="op" id="7836088">]</span><span class="op" id="7836089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836092">case</span>&nbsp;<span class="ident" id="7836097">OpCharClass</span><span class="op" id="7836108">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836112">sep</span>&nbsp;<span class="op" id="7836116">:=</span>&nbsp;<span class="string" id="7836119">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836124">for</span>&nbsp;<span class="ident" id="7836128">i</span>&nbsp;<span class="op" id="7836130">:=</span>&nbsp;<span class="num" id="7836133">0</span><span class="op" id="7836134">;</span>&nbsp;<span class="ident" id="7836136">i</span>&nbsp;<span class="op" id="7836138">&lt;</span>&nbsp;<span class="builtinfunc" id="7836140">len</span><span class="op" id="7836143">(</span><span class="ident" id="7836144">re</span><span class="op" id="7836146">.</span><span class="ident" id="7836147">Rune</span><span class="op" id="7836151">)</span><span class="op" id="7836152">;</span>&nbsp;<span class="ident" id="7836154">i</span>&nbsp;<span class="op" id="7836156">+=</span>&nbsp;<span class="num" id="7836159">2</span>&nbsp;<span class="op" id="7836161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836166">b</span><span class="op" id="7836167">.</span><span class="ident" id="7836168">WriteString</span><span class="op" id="7836179">(</span><span class="ident" id="7836180">sep</span><span class="op" id="7836183">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836188">sep</span>&nbsp;<span class="op" id="7836192">=</span>&nbsp;<span class="string" id="7836194">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836201">lo</span><span class="op" id="7836203">,</span>&nbsp;<span class="ident" id="7836205">hi</span>&nbsp;<span class="op" id="7836208">:=</span>&nbsp;<span class="ident" id="7836211">re</span><span class="op" id="7836213">.</span><span class="ident" id="7836214">Rune</span><span class="op" id="7836218">[</span><span class="ident" id="7836219">i</span><span class="op" id="7836220">]</span><span class="op" id="7836221">,</span>&nbsp;<span class="ident" id="7836223">re</span><span class="op" id="7836225">.</span><span class="ident" id="7836226">Rune</span><span class="op" id="7836230">[</span><span class="ident" id="7836231">i</span><span class="op" id="7836232">+</span><span class="num" id="7836233">1</span><span class="op" id="7836234">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836239">if</span>&nbsp;<span class="ident" id="7836242">lo</span>&nbsp;<span class="op" id="7836245">==</span>&nbsp;<span class="ident" id="7836248">hi</span>&nbsp;<span class="op" id="7836251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836257">fmt</span><span class="op" id="7836260">.</span><span class="ident" id="7836261">Fprintf</span><span class="op" id="7836268">(</span><span class="ident" id="7836269">b</span><span class="op" id="7836270">,</span>&nbsp;<span class="string" id="7836272">&#34;%#x&#34;</span><span class="op" id="7836277">,</span>&nbsp;<span class="ident" id="7836279">lo</span><span class="op" id="7836281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7836286">}</span>&nbsp;<span class="keyword" id="7836288">else</span>&nbsp;<span class="op" id="7836293">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836299">fmt</span><span class="op" id="7836302">.</span><span class="ident" id="7836303">Fprintf</span><span class="op" id="7836310">(</span><span class="ident" id="7836311">b</span><span class="op" id="7836312">,</span>&nbsp;<span class="string" id="7836314">&#34;%#x-%#x&#34;</span><span class="op" id="7836323">,</span>&nbsp;<span class="ident" id="7836325">lo</span><span class="op" id="7836327">,</span>&nbsp;<span class="ident" id="7836329">hi</span><span class="op" id="7836331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7836336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7836340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7836343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836346">b</span><span class="op" id="7836347">.</span><span class="ident" id="7836348">WriteByte</span><span class="op" id="7836357">(</span><span class="string" id="7836358">&#39;}&#39;</span><span class="op" id="7836361">)</span><br>
<span class="lineno">380</span><span class="op" id="7836363">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7836366">func</span>&nbsp;<span class="ident" id="7836371">mkCharClass</span><span class="op" id="7836382">(</span><span class="ident" id="7836383">f</span>&nbsp;<span class="keyword" id="7836385">func</span><span class="op" id="7836389">(</span><span class="builtintype" id="7836390">rune</span><span class="op" id="7836394">)</span>&nbsp;<span class="builtintype" id="7836396">bool</span><span class="op" id="7836400">)</span>&nbsp;<span class="builtintype" id="7836402">string</span>&nbsp;<span class="op" id="7836409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836412">re</span>&nbsp;<span class="op" id="7836415">:=</span>&nbsp;<span class="op" id="7836418">&amp;</span><span class="ident" id="7836419">Regexp</span><span class="op" id="7836425">{</span><span class="ident" id="7836426">Op</span><span class="op" id="7836428">:</span>&nbsp;<span class="ident" id="7836430">OpCharClass</span><span class="op" id="7836441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836444">lo</span>&nbsp;<span class="op" id="7836447">:=</span>&nbsp;<span class="builtintype" id="7836450">rune</span><span class="op" id="7836454">(</span><span class="op" id="7836455">-</span><span class="num" id="7836456">1</span><span class="op" id="7836457">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836460">for</span>&nbsp;<span class="ident" id="7836464">i</span>&nbsp;<span class="op" id="7836466">:=</span>&nbsp;<span class="builtintype" id="7836469">rune</span><span class="op" id="7836473">(</span><span class="num" id="7836474">0</span><span class="op" id="7836475">)</span><span class="op" id="7836476">;</span>&nbsp;<span class="ident" id="7836478">i</span>&nbsp;<span class="op" id="7836480">&lt;=</span>&nbsp;<span class="ident" id="7836483">unicode</span><span class="op" id="7836490">.</span><span class="ident" id="7836491">MaxRune</span><span class="op" id="7836498">;</span>&nbsp;<span class="ident" id="7836500">i</span><span class="op" id="7836501">++</span>&nbsp;<span class="op" id="7836504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836508">if</span>&nbsp;<span class="ident" id="7836511">f</span><span class="op" id="7836512">(</span><span class="ident" id="7836513">i</span><span class="op" id="7836514">)</span>&nbsp;<span class="op" id="7836516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836521">if</span>&nbsp;<span class="ident" id="7836524">lo</span>&nbsp;<span class="op" id="7836527">&lt;</span>&nbsp;<span class="num" id="7836529">0</span>&nbsp;<span class="op" id="7836531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836537">lo</span>&nbsp;<span class="op" id="7836540">=</span>&nbsp;<span class="ident" id="7836542">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7836547">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7836551">}</span>&nbsp;<span class="keyword" id="7836553">else</span>&nbsp;<span class="op" id="7836558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836563">if</span>&nbsp;<span class="ident" id="7836566">lo</span>&nbsp;<span class="op" id="7836569">&gt;=</span>&nbsp;<span class="num" id="7836572">0</span>&nbsp;<span class="op" id="7836574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836580">re</span><span class="op" id="7836582">.</span><span class="ident" id="7836583">Rune</span>&nbsp;<span class="op" id="7836588">=</span>&nbsp;<span class="builtinfunc" id="7836590">append</span><span class="op" id="7836596">(</span><span class="ident" id="7836597">re</span><span class="op" id="7836599">.</span><span class="ident" id="7836600">Rune</span><span class="op" id="7836604">,</span>&nbsp;<span class="ident" id="7836606">lo</span><span class="op" id="7836608">,</span>&nbsp;<span class="ident" id="7836610">i</span><span class="op" id="7836611">-</span><span class="num" id="7836612">1</span><span class="op" id="7836613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836619">lo</span>&nbsp;<span class="op" id="7836622">=</span>&nbsp;<span class="op" id="7836624">-</span><span class="num" id="7836625">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7836630">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7836634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7836637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836640">if</span>&nbsp;<span class="ident" id="7836643">lo</span>&nbsp;<span class="op" id="7836646">&gt;=</span>&nbsp;<span class="num" id="7836649">0</span>&nbsp;<span class="op" id="7836651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836655">re</span><span class="op" id="7836657">.</span><span class="ident" id="7836658">Rune</span>&nbsp;<span class="op" id="7836663">=</span>&nbsp;<span class="builtinfunc" id="7836665">append</span><span class="op" id="7836671">(</span><span class="ident" id="7836672">re</span><span class="op" id="7836674">.</span><span class="ident" id="7836675">Rune</span><span class="op" id="7836679">,</span>&nbsp;<span class="ident" id="7836681">lo</span><span class="op" id="7836683">,</span>&nbsp;<span class="ident" id="7836685">unicode</span><span class="op" id="7836692">.</span><span class="ident" id="7836693">MaxRune</span><span class="op" id="7836700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7836703">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836706">return</span>&nbsp;<span class="ident" id="7836713">dump</span><span class="op" id="7836717">(</span><span class="ident" id="7836718">re</span><span class="op" id="7836720">)</span><br>
<span class="lineno"></span><span class="op" id="7836722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7836725">func</span>&nbsp;<span class="ident" id="7836730">isUpperFold</span><span class="op" id="7836741">(</span><span class="ident" id="7836742">r</span>&nbsp;<span class="builtintype" id="7836744">rune</span><span class="op" id="7836748">)</span>&nbsp;<span class="builtintype" id="7836750">bool</span>&nbsp;<span class="op" id="7836755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836758">if</span>&nbsp;<span class="ident" id="7836761">unicode</span><span class="op" id="7836768">.</span><span class="ident" id="7836769">IsUpper</span><span class="op" id="7836776">(</span><span class="ident" id="7836777">r</span><span class="op" id="7836778">)</span>&nbsp;<span class="op" id="7836780">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836784">return</span>&nbsp;<span class="builtintype" id="7836791">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7836797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836800">c</span>&nbsp;<span class="op" id="7836802">:=</span>&nbsp;<span class="ident" id="7836805">unicode</span><span class="op" id="7836812">.</span><span class="ident" id="7836813">SimpleFold</span><span class="op" id="7836823">(</span><span class="ident" id="7836824">r</span><span class="op" id="7836825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836828">for</span>&nbsp;<span class="ident" id="7836832">c</span>&nbsp;<span class="op" id="7836834">!=</span>&nbsp;<span class="ident" id="7836837">r</span>&nbsp;<span class="op" id="7836839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836843">if</span>&nbsp;<span class="ident" id="7836846">unicode</span><span class="op" id="7836853">.</span><span class="ident" id="7836854">IsUpper</span><span class="op" id="7836861">(</span><span class="ident" id="7836862">c</span><span class="op" id="7836863">)</span>&nbsp;<span class="op" id="7836865">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836870">return</span>&nbsp;<span class="builtintype" id="7836877">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7836884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836888">c</span>&nbsp;<span class="op" id="7836890">=</span>&nbsp;<span class="ident" id="7836892">unicode</span><span class="op" id="7836899">.</span><span class="ident" id="7836900">SimpleFold</span><span class="op" id="7836910">(</span><span class="ident" id="7836911">c</span><span class="op" id="7836912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7836915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836918">return</span>&nbsp;<span class="builtintype" id="7836925">false</span><br>
<span class="lineno">415</span><span class="op" id="7836931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7836934">func</span>&nbsp;<span class="ident" id="7836939">TestFoldConstants</span><span class="op" id="7836956">(</span><span class="ident" id="7836957">t</span>&nbsp;<span class="op" id="7836959">*</span><span class="ident" id="7836960">testing</span><span class="op" id="7836967">.</span><span class="ident" id="7836968">T</span><span class="op" id="7836969">)</span>&nbsp;<span class="op" id="7836971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7836974">last</span>&nbsp;<span class="op" id="7836979">:=</span>&nbsp;<span class="builtintype" id="7836982">rune</span><span class="op" id="7836986">(</span><span class="op" id="7836987">-</span><span class="num" id="7836988">1</span><span class="op" id="7836989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7836992">for</span>&nbsp;<span class="ident" id="7836996">i</span>&nbsp;<span class="op" id="7836998">:=</span>&nbsp;<span class="builtintype" id="7837001">rune</span><span class="op" id="7837005">(</span><span class="num" id="7837006">0</span><span class="op" id="7837007">)</span><span class="op" id="7837008">;</span>&nbsp;<span class="ident" id="7837010">i</span>&nbsp;<span class="op" id="7837012">&lt;=</span>&nbsp;<span class="ident" id="7837015">unicode</span><span class="op" id="7837022">.</span><span class="ident" id="7837023">MaxRune</span><span class="op" id="7837030">;</span>&nbsp;<span class="ident" id="7837032">i</span><span class="op" id="7837033">++</span>&nbsp;<span class="op" id="7837036">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7837040">if</span>&nbsp;<span class="ident" id="7837043">unicode</span><span class="op" id="7837050">.</span><span class="ident" id="7837051">SimpleFold</span><span class="op" id="7837061">(</span><span class="ident" id="7837062">i</span><span class="op" id="7837063">)</span>&nbsp;<span class="op" id="7837065">==</span>&nbsp;<span class="ident" id="7837068">i</span>&nbsp;<span class="op" id="7837070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7837075">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7837086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7837090">if</span>&nbsp;<span class="ident" id="7837093">last</span>&nbsp;<span class="op" id="7837098">==</span>&nbsp;<span class="op" id="7837101">-</span><span class="num" id="7837102">1</span>&nbsp;<span class="op" id="7837104">&amp;&amp;</span>&nbsp;<span class="ident" id="7837107">minFold</span>&nbsp;<span class="op" id="7837115">!=</span>&nbsp;<span class="ident" id="7837118">i</span>&nbsp;<span class="op" id="7837120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7837125">t</span><span class="op" id="7837126">.</span><span class="ident" id="7837127">Errorf</span><span class="op" id="7837133">(</span><span class="string" id="7837134">&#34;minFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7837161">,</span>&nbsp;<span class="ident" id="7837163">minFold</span><span class="op" id="7837170">,</span>&nbsp;<span class="ident" id="7837172">i</span><span class="op" id="7837173">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7837177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7837181">last</span>&nbsp;<span class="op" id="7837186">=</span>&nbsp;<span class="ident" id="7837188">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7837191">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7837194">if</span>&nbsp;<span class="ident" id="7837197">maxFold</span>&nbsp;<span class="op" id="7837205">!=</span>&nbsp;<span class="ident" id="7837208">last</span>&nbsp;<span class="op" id="7837213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7837217">t</span><span class="op" id="7837218">.</span><span class="ident" id="7837219">Errorf</span><span class="op" id="7837225">(</span><span class="string" id="7837226">&#34;maxFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7837253">,</span>&nbsp;<span class="ident" id="7837255">maxFold</span><span class="op" id="7837262">,</span>&nbsp;<span class="ident" id="7837264">last</span><span class="op" id="7837268">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7837271">}</span><br>
<span class="lineno"></span><span class="op" id="7837273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7837276">func</span>&nbsp;<span class="ident" id="7837281">TestAppendRangeCollapse</span><span class="op" id="7837304">(</span><span class="ident" id="7837305">t</span>&nbsp;<span class="op" id="7837307">*</span><span class="ident" id="7837308">testing</span><span class="op" id="7837315">.</span><span class="ident" id="7837316">T</span><span class="op" id="7837317">)</span>&nbsp;<span class="op" id="7837319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7837322">//&nbsp;AppendRange&nbsp;should&nbsp;collapse&nbsp;each&nbsp;of&nbsp;the&nbsp;new&nbsp;ranges</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7837377">//&nbsp;into&nbsp;the&nbsp;earlier&nbsp;ones&nbsp;(it&nbsp;looks&nbsp;back&nbsp;two&nbsp;ranges),&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7837439">//&nbsp;the&nbsp;slice&nbsp;never&nbsp;grows&nbsp;very&nbsp;large.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7837477">//&nbsp;Note&nbsp;that&nbsp;we&nbsp;are&nbsp;not&nbsp;calling&nbsp;cleanClass.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7837522">var</span>&nbsp;<span class="ident" id="7837526">r</span>&nbsp;<span class="op" id="7837528">[</span><span class="op" id="7837529">]</span><span class="builtintype" id="7837530">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7837536">for</span>&nbsp;<span class="ident" id="7837540">i</span>&nbsp;<span class="op" id="7837542">:=</span>&nbsp;<span class="builtintype" id="7837545">rune</span><span class="op" id="7837549">(</span><span class="string" id="7837550">&#39;A&#39;</span><span class="op" id="7837553">)</span><span class="op" id="7837554">;</span>&nbsp;<span class="ident" id="7837556">i</span>&nbsp;<span class="op" id="7837558">&lt;=</span>&nbsp;<span class="string" id="7837561">&#39;Z&#39;</span><span class="op" id="7837564">;</span>&nbsp;<span class="ident" id="7837566">i</span><span class="op" id="7837567">++</span>&nbsp;<span class="op" id="7837570">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7837574">r</span>&nbsp;<span class="op" id="7837576">=</span>&nbsp;<span class="ident" id="7837578">appendRange</span><span class="op" id="7837589">(</span><span class="ident" id="7837590">r</span><span class="op" id="7837591">,</span>&nbsp;<span class="ident" id="7837593">i</span><span class="op" id="7837594">,</span>&nbsp;<span class="ident" id="7837596">i</span><span class="op" id="7837597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7837601">r</span>&nbsp;<span class="op" id="7837603">=</span>&nbsp;<span class="ident" id="7837605">appendRange</span><span class="op" id="7837616">(</span><span class="ident" id="7837617">r</span><span class="op" id="7837618">,</span>&nbsp;<span class="ident" id="7837620">i</span><span class="op" id="7837621">+</span><span class="string" id="7837622">&#39;a&#39;</span><span class="op" id="7837625">-</span><span class="string" id="7837626">&#39;A&#39;</span><span class="op" id="7837629">,</span>&nbsp;<span class="ident" id="7837631">i</span><span class="op" id="7837632">+</span><span class="string" id="7837633">&#39;a&#39;</span><span class="op" id="7837636">-</span><span class="string" id="7837637">&#39;A&#39;</span><span class="op" id="7837640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7837643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7837646">if</span>&nbsp;<span class="builtintype" id="7837649">string</span><span class="op" id="7837655">(</span><span class="ident" id="7837656">r</span><span class="op" id="7837657">)</span>&nbsp;<span class="op" id="7837659">!=</span>&nbsp;<span class="string" id="7837662">&#34;AZaz&#34;</span>&nbsp;<span class="op" id="7837669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7837673">t</span><span class="op" id="7837674">.</span><span class="ident" id="7837675">Errorf</span><span class="op" id="7837681">(</span><span class="string" id="7837682">&#34;appendRange&nbsp;interlaced&nbsp;A-Z&nbsp;a-z&nbsp;=&nbsp;%s,&nbsp;want&nbsp;AZaz&#34;</span><span class="op" id="7837730">,</span>&nbsp;<span class="builtintype" id="7837732">string</span><span class="op" id="7837738">(</span><span class="ident" id="7837739">r</span><span class="op" id="7837740">)</span><span class="op" id="7837741">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7837744">}</span><br>
<span class="lineno"></span><span class="op" id="7837746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7837749">var</span>&nbsp;<span class="ident" id="7837753">invalidRegexps</span>&nbsp;<span class="op" id="7837768">=</span>&nbsp;<span class="op" id="7837770">[</span><span class="op" id="7837771">]</span><span class="builtintype" id="7837772">string</span><span class="op" id="7837778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837781">`(`</span><span class="op" id="7837784">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837787">`)`</span><span class="op" id="7837790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837793">`(a`</span><span class="op" id="7837797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837800">`a)`</span><span class="op" id="7837804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837807">`(a))`</span><span class="op" id="7837813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837816">`(a|b|`</span><span class="op" id="7837823">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837826">`a|b|)`</span><span class="op" id="7837833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837836">`(a|b|))`</span><span class="op" id="7837845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837848">`(a|b`</span><span class="op" id="7837854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837857">`a|b)`</span><span class="op" id="7837863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837866">`(a|b))`</span><span class="op" id="7837874">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837877">`[a-z`</span><span class="op" id="7837883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837886">`([a-z)`</span><span class="op" id="7837894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837897">`[a-z)`</span><span class="op" id="7837904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837907">`([a-z]))`</span><span class="op" id="7837917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837920">`x{1001}`</span><span class="op" id="7837929">,</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837932">`x{9876543210}`</span><span class="op" id="7837947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837950">`x{2,1}`</span><span class="op" id="7837958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837961">`x{1,9876543210}`</span><span class="op" id="7837978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7837981">&#34;\xff&#34;</span><span class="op" id="7837987">,</span>&nbsp;<span class="comment" id="7837989">//&nbsp;Invalid&nbsp;UTF-8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838007">&#34;[\xff]&#34;</span><span class="op" id="7838015">,</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838018">&#34;[\\\xff]&#34;</span><span class="op" id="7838028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838031">&#34;\\\xff&#34;</span><span class="op" id="7838039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838042">`(?P&lt;name&gt;a`</span><span class="op" id="7838054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838057">`(?P&lt;name&gt;`</span><span class="op" id="7838068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838071">`(?P&lt;name`</span><span class="op" id="7838081">,</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838084">`(?P&lt;x&nbsp;y&gt;a)`</span><span class="op" id="7838096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838099">`(?P&lt;&gt;a)`</span><span class="op" id="7838108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838111">`[a-Z]`</span><span class="op" id="7838118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838121">`(?i)[a-Z]`</span><span class="op" id="7838132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838135">`a{100000}`</span><span class="op" id="7838146">,</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838149">`a{100000,}`</span><span class="op" id="7838161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838164">&#34;((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}){2})&#34;</span><span class="op" id="7838217">,</span><br>
<span class="lineno"></span><span class="op" id="7838219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7838222">var</span>&nbsp;<span class="ident" id="7838226">onlyPerl</span>&nbsp;<span class="op" id="7838235">=</span>&nbsp;<span class="op" id="7838237">[</span><span class="op" id="7838238">]</span><span class="builtintype" id="7838239">string</span><span class="op" id="7838245">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838248">`[a-b-c]`</span><span class="op" id="7838257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838260">`\Qabc\E`</span><span class="op" id="7838269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838272">`\Q*+?{[\E`</span><span class="op" id="7838283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838286">`\Q\\E`</span><span class="op" id="7838293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838296">`\Q\\\E`</span><span class="op" id="7838304">,</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838307">`\Q\\\\E`</span><span class="op" id="7838316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838319">`\Q\\\\\E`</span><span class="op" id="7838329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838332">`(?:a)`</span><span class="op" id="7838339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838342">`(?P&lt;name&gt;a)`</span><span class="op" id="7838355">,</span><br>
<span class="lineno"></span><span class="op" id="7838357">}</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span><span class="keyword" id="7838360">var</span>&nbsp;<span class="ident" id="7838364">onlyPOSIX</span>&nbsp;<span class="op" id="7838374">=</span>&nbsp;<span class="op" id="7838376">[</span><span class="op" id="7838377">]</span><span class="builtintype" id="7838378">string</span><span class="op" id="7838384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838387">&#34;a++&#34;</span><span class="op" id="7838392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838395">&#34;a**&#34;</span><span class="op" id="7838400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838403">&#34;a?*&#34;</span><span class="op" id="7838408">,</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838411">&#34;a+*&#34;</span><span class="op" id="7838416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838419">&#34;a{1}*&#34;</span><span class="op" id="7838426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7838429">&#34;.{1}{2}.{3}&#34;</span><span class="op" id="7838442">,</span><br>
<span class="lineno"></span><span class="op" id="7838444">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="keyword" id="7838447">func</span>&nbsp;<span class="ident" id="7838452">TestParseInvalidRegexps</span><span class="op" id="7838475">(</span><span class="ident" id="7838476">t</span>&nbsp;<span class="op" id="7838478">*</span><span class="ident" id="7838479">testing</span><span class="op" id="7838486">.</span><span class="ident" id="7838487">T</span><span class="op" id="7838488">)</span>&nbsp;<span class="op" id="7838490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7838493">for</span>&nbsp;<span class="ident" id="7838497">_</span><span class="op" id="7838498">,</span>&nbsp;<span class="ident" id="7838500">regexp</span>&nbsp;<span class="op" id="7838507">:=</span>&nbsp;<span class="keyword" id="7838510">range</span>&nbsp;<span class="ident" id="7838516">invalidRegexps</span>&nbsp;<span class="op" id="7838531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7838535">if</span>&nbsp;<span class="ident" id="7838538">re</span><span class="op" id="7838540">,</span>&nbsp;<span class="ident" id="7838542">err</span>&nbsp;<span class="op" id="7838546">:=</span>&nbsp;<span class="ident" id="7838549">Parse</span><span class="op" id="7838554">(</span><span class="ident" id="7838555">regexp</span><span class="op" id="7838561">,</span>&nbsp;<span class="ident" id="7838563">Perl</span><span class="op" id="7838567">)</span><span class="op" id="7838568">;</span>&nbsp;<span class="ident" id="7838570">err</span>&nbsp;<span class="op" id="7838574">==</span>&nbsp;<span class="builtintype" id="7838577">nil</span>&nbsp;<span class="op" id="7838581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7838586">t</span><span class="op" id="7838587">.</span><span class="ident" id="7838588">Errorf</span><span class="op" id="7838594">(</span><span class="string" id="7838595">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7838638">,</span>&nbsp;<span class="ident" id="7838640">regexp</span><span class="op" id="7838646">,</span>&nbsp;<span class="ident" id="7838648">dump</span><span class="op" id="7838652">(</span><span class="ident" id="7838653">re</span><span class="op" id="7838655">)</span><span class="op" id="7838656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7838660">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7838664">if</span>&nbsp;<span class="ident" id="7838667">re</span><span class="op" id="7838669">,</span>&nbsp;<span class="ident" id="7838671">err</span>&nbsp;<span class="op" id="7838675">:=</span>&nbsp;<span class="ident" id="7838678">Parse</span><span class="op" id="7838683">(</span><span class="ident" id="7838684">regexp</span><span class="op" id="7838690">,</span>&nbsp;<span class="ident" id="7838692">POSIX</span><span class="op" id="7838697">)</span><span class="op" id="7838698">;</span>&nbsp;<span class="ident" id="7838700">err</span>&nbsp;<span class="op" id="7838704">==</span>&nbsp;<span class="builtintype" id="7838707">nil</span>&nbsp;<span class="op" id="7838711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7838716">t</span><span class="op" id="7838717">.</span><span class="ident" id="7838718">Errorf</span><span class="op" id="7838724">(</span><span class="string" id="7838725">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7838769">,</span>&nbsp;<span class="ident" id="7838771">regexp</span><span class="op" id="7838777">,</span>&nbsp;<span class="ident" id="7838779">dump</span><span class="op" id="7838783">(</span><span class="ident" id="7838784">re</span><span class="op" id="7838786">)</span><span class="op" id="7838787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7838791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7838794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7838797">for</span>&nbsp;<span class="ident" id="7838801">_</span><span class="op" id="7838802">,</span>&nbsp;<span class="ident" id="7838804">regexp</span>&nbsp;<span class="op" id="7838811">:=</span>&nbsp;<span class="keyword" id="7838814">range</span>&nbsp;<span class="ident" id="7838820">onlyPerl</span>&nbsp;<span class="op" id="7838829">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7838833">if</span>&nbsp;<span class="ident" id="7838836">_</span><span class="op" id="7838837">,</span>&nbsp;<span class="ident" id="7838839">err</span>&nbsp;<span class="op" id="7838843">:=</span>&nbsp;<span class="ident" id="7838846">Parse</span><span class="op" id="7838851">(</span><span class="ident" id="7838852">regexp</span><span class="op" id="7838858">,</span>&nbsp;<span class="ident" id="7838860">Perl</span><span class="op" id="7838864">)</span><span class="op" id="7838865">;</span>&nbsp;<span class="ident" id="7838867">err</span>&nbsp;<span class="op" id="7838871">!=</span>&nbsp;<span class="builtintype" id="7838874">nil</span>&nbsp;<span class="op" id="7838878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7838883">t</span><span class="op" id="7838884">.</span><span class="ident" id="7838885">Errorf</span><span class="op" id="7838891">(</span><span class="string" id="7838892">&#34;Parse(%#q,&nbsp;Perl):&nbsp;%v&#34;</span><span class="op" id="7838914">,</span>&nbsp;<span class="ident" id="7838916">regexp</span><span class="op" id="7838922">,</span>&nbsp;<span class="ident" id="7838924">err</span><span class="op" id="7838927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7838931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7838935">if</span>&nbsp;<span class="ident" id="7838938">re</span><span class="op" id="7838940">,</span>&nbsp;<span class="ident" id="7838942">err</span>&nbsp;<span class="op" id="7838946">:=</span>&nbsp;<span class="ident" id="7838949">Parse</span><span class="op" id="7838954">(</span><span class="ident" id="7838955">regexp</span><span class="op" id="7838961">,</span>&nbsp;<span class="ident" id="7838963">POSIX</span><span class="op" id="7838968">)</span><span class="op" id="7838969">;</span>&nbsp;<span class="ident" id="7838971">err</span>&nbsp;<span class="op" id="7838975">==</span>&nbsp;<span class="builtintype" id="7838978">nil</span>&nbsp;<span class="op" id="7838982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7838987">t</span><span class="op" id="7838988">.</span><span class="ident" id="7838989">Errorf</span><span class="op" id="7838995">(</span><span class="string" id="7838996">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7839040">,</span>&nbsp;<span class="ident" id="7839042">regexp</span><span class="op" id="7839048">,</span>&nbsp;<span class="ident" id="7839050">dump</span><span class="op" id="7839054">(</span><span class="ident" id="7839055">re</span><span class="op" id="7839057">)</span><span class="op" id="7839058">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7839062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7839065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7839068">for</span>&nbsp;<span class="ident" id="7839072">_</span><span class="op" id="7839073">,</span>&nbsp;<span class="ident" id="7839075">regexp</span>&nbsp;<span class="op" id="7839082">:=</span>&nbsp;<span class="keyword" id="7839085">range</span>&nbsp;<span class="ident" id="7839091">onlyPOSIX</span>&nbsp;<span class="op" id="7839101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7839105">if</span>&nbsp;<span class="ident" id="7839108">re</span><span class="op" id="7839110">,</span>&nbsp;<span class="ident" id="7839112">err</span>&nbsp;<span class="op" id="7839116">:=</span>&nbsp;<span class="ident" id="7839119">Parse</span><span class="op" id="7839124">(</span><span class="ident" id="7839125">regexp</span><span class="op" id="7839131">,</span>&nbsp;<span class="ident" id="7839133">Perl</span><span class="op" id="7839137">)</span><span class="op" id="7839138">;</span>&nbsp;<span class="ident" id="7839140">err</span>&nbsp;<span class="op" id="7839144">==</span>&nbsp;<span class="builtintype" id="7839147">nil</span>&nbsp;<span class="op" id="7839151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7839156">t</span><span class="op" id="7839157">.</span><span class="ident" id="7839158">Errorf</span><span class="op" id="7839164">(</span><span class="string" id="7839165">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7839208">,</span>&nbsp;<span class="ident" id="7839210">regexp</span><span class="op" id="7839216">,</span>&nbsp;<span class="ident" id="7839218">dump</span><span class="op" id="7839222">(</span><span class="ident" id="7839223">re</span><span class="op" id="7839225">)</span><span class="op" id="7839226">)</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7839230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7839234">if</span>&nbsp;<span class="ident" id="7839237">_</span><span class="op" id="7839238">,</span>&nbsp;<span class="ident" id="7839240">err</span>&nbsp;<span class="op" id="7839244">:=</span>&nbsp;<span class="ident" id="7839247">Parse</span><span class="op" id="7839252">(</span><span class="ident" id="7839253">regexp</span><span class="op" id="7839259">,</span>&nbsp;<span class="ident" id="7839261">POSIX</span><span class="op" id="7839266">)</span><span class="op" id="7839267">;</span>&nbsp;<span class="ident" id="7839269">err</span>&nbsp;<span class="op" id="7839273">!=</span>&nbsp;<span class="builtintype" id="7839276">nil</span>&nbsp;<span class="op" id="7839280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7839285">t</span><span class="op" id="7839286">.</span><span class="ident" id="7839287">Errorf</span><span class="op" id="7839293">(</span><span class="string" id="7839294">&#34;Parse(%#q,&nbsp;POSIX):&nbsp;%v&#34;</span><span class="op" id="7839317">,</span>&nbsp;<span class="ident" id="7839319">regexp</span><span class="op" id="7839325">,</span>&nbsp;<span class="ident" id="7839327">err</span><span class="op" id="7839330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7839334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7839337">}</span><br>
<span class="lineno">530</span><span class="op" id="7839339">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7839342">func</span>&nbsp;<span class="ident" id="7839347">TestToStringEquivalentParse</span><span class="op" id="7839374">(</span><span class="ident" id="7839375">t</span>&nbsp;<span class="op" id="7839377">*</span><span class="ident" id="7839378">testing</span><span class="op" id="7839385">.</span><span class="ident" id="7839386">T</span><span class="op" id="7839387">)</span>&nbsp;<span class="op" id="7839389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7839392">for</span>&nbsp;<span class="ident" id="7839396">_</span><span class="op" id="7839397">,</span>&nbsp;<span class="ident" id="7839399">tt</span>&nbsp;<span class="op" id="7839402">:=</span>&nbsp;<span class="keyword" id="7839405">range</span>&nbsp;<span class="ident" id="7839411">parseTests</span>&nbsp;<span class="op" id="7839422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7839426">re</span><span class="op" id="7839428">,</span>&nbsp;<span class="ident" id="7839430">err</span>&nbsp;<span class="op" id="7839434">:=</span>&nbsp;<span class="ident" id="7839437">Parse</span><span class="op" id="7839442">(</span><span class="ident" id="7839443">tt</span><span class="op" id="7839445">.</span><span class="ident" id="7839446">Regexp</span><span class="op" id="7839452">,</span>&nbsp;<span class="ident" id="7839454">testFlags</span><span class="op" id="7839463">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7839467">if</span>&nbsp;<span class="ident" id="7839470">err</span>&nbsp;<span class="op" id="7839474">!=</span>&nbsp;<span class="builtintype" id="7839477">nil</span>&nbsp;<span class="op" id="7839481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7839486">t</span><span class="op" id="7839487">.</span><span class="ident" id="7839488">Errorf</span><span class="op" id="7839494">(</span><span class="string" id="7839495">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7839511">,</span>&nbsp;<span class="ident" id="7839513">tt</span><span class="op" id="7839515">.</span><span class="ident" id="7839516">Regexp</span><span class="op" id="7839522">,</span>&nbsp;<span class="ident" id="7839524">err</span><span class="op" id="7839527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7839532">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7839543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7839547">if</span>&nbsp;<span class="ident" id="7839550">tt</span><span class="op" id="7839552">.</span><span class="ident" id="7839553">Dump</span>&nbsp;<span class="op" id="7839558">==</span>&nbsp;<span class="string" id="7839561">&#34;&#34;</span>&nbsp;<span class="op" id="7839564">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7839569">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7839612">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7839623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7839627">d</span>&nbsp;<span class="op" id="7839629">:=</span>&nbsp;<span class="ident" id="7839632">dump</span><span class="op" id="7839636">(</span><span class="ident" id="7839637">re</span><span class="op" id="7839639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7839643">if</span>&nbsp;<span class="ident" id="7839646">d</span>&nbsp;<span class="op" id="7839648">!=</span>&nbsp;<span class="ident" id="7839651">tt</span><span class="op" id="7839653">.</span><span class="ident" id="7839654">Dump</span>&nbsp;<span class="op" id="7839659">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7839664">t</span><span class="op" id="7839665">.</span><span class="ident" id="7839666">Errorf</span><span class="op" id="7839672">(</span><span class="string" id="7839673">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7839707">,</span>&nbsp;<span class="ident" id="7839709">tt</span><span class="op" id="7839711">.</span><span class="ident" id="7839712">Regexp</span><span class="op" id="7839718">,</span>&nbsp;<span class="ident" id="7839720">d</span><span class="op" id="7839721">,</span>&nbsp;<span class="ident" id="7839723">tt</span><span class="op" id="7839725">.</span><span class="ident" id="7839726">Dump</span><span class="op" id="7839730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7839735">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7839746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7839751">s</span>&nbsp;<span class="op" id="7839753">:=</span>&nbsp;<span class="ident" id="7839756">re</span><span class="op" id="7839758">.</span><span class="ident" id="7839759">String</span><span class="op" id="7839765">(</span><span class="op" id="7839766">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7839770">if</span>&nbsp;<span class="ident" id="7839773">s</span>&nbsp;<span class="op" id="7839775">!=</span>&nbsp;<span class="ident" id="7839778">tt</span><span class="op" id="7839780">.</span><span class="ident" id="7839781">Regexp</span>&nbsp;<span class="op" id="7839788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7839793">//&nbsp;If&nbsp;ToString&nbsp;didn&#39;t&nbsp;return&nbsp;the&nbsp;original&nbsp;regexp,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7839846">//&nbsp;it&nbsp;must&nbsp;have&nbsp;found&nbsp;one&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7839894">//&nbsp;Unfortunately&nbsp;we&nbsp;can&#39;t&nbsp;check&nbsp;the&nbsp;length&nbsp;here,&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7839954">//&nbsp;ToString&nbsp;produces&nbsp;&#34;\\{&#34;&nbsp;for&nbsp;a&nbsp;literal&nbsp;brace,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7840005">//&nbsp;but&nbsp;&#34;{&#34;&nbsp;is&nbsp;a&nbsp;shorter&nbsp;equivalent&nbsp;in&nbsp;some&nbsp;contexts.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7840061">nre</span><span class="op" id="7840064">,</span>&nbsp;<span class="ident" id="7840066">err</span>&nbsp;<span class="op" id="7840070">:=</span>&nbsp;<span class="ident" id="7840073">Parse</span><span class="op" id="7840078">(</span><span class="ident" id="7840079">s</span><span class="op" id="7840080">,</span>&nbsp;<span class="ident" id="7840082">testFlags</span><span class="op" id="7840091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7840096">if</span>&nbsp;<span class="ident" id="7840099">err</span>&nbsp;<span class="op" id="7840103">!=</span>&nbsp;<span class="builtintype" id="7840106">nil</span>&nbsp;<span class="op" id="7840110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7840116">t</span><span class="op" id="7840117">.</span><span class="ident" id="7840118">Errorf</span><span class="op" id="7840124">(</span><span class="string" id="7840125">&#34;Parse(%#q.String()&nbsp;=&nbsp;%#q):&nbsp;%v&#34;</span><span class="op" id="7840156">,</span>&nbsp;<span class="ident" id="7840158">tt</span><span class="op" id="7840160">.</span><span class="ident" id="7840161">Regexp</span><span class="op" id="7840167">,</span>&nbsp;<span class="ident" id="7840169">s</span><span class="op" id="7840170">,</span>&nbsp;<span class="ident" id="7840172">err</span><span class="op" id="7840175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7840181">continue</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7840193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7840198">nd</span>&nbsp;<span class="op" id="7840201">:=</span>&nbsp;<span class="ident" id="7840204">dump</span><span class="op" id="7840208">(</span><span class="ident" id="7840209">nre</span><span class="op" id="7840212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7840217">if</span>&nbsp;<span class="ident" id="7840220">d</span>&nbsp;<span class="op" id="7840222">!=</span>&nbsp;<span class="ident" id="7840225">nd</span>&nbsp;<span class="op" id="7840228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7840234">t</span><span class="op" id="7840235">.</span><span class="ident" id="7840236">Errorf</span><span class="op" id="7840242">(</span><span class="string" id="7840243">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q;&nbsp;%#q&nbsp;vs&nbsp;%#q&#34;</span><span class="op" id="7840274">,</span>&nbsp;<span class="ident" id="7840276">tt</span><span class="op" id="7840278">.</span><span class="ident" id="7840279">Regexp</span><span class="op" id="7840285">,</span>&nbsp;<span class="ident" id="7840287">s</span><span class="op" id="7840288">,</span>&nbsp;<span class="ident" id="7840290">d</span><span class="op" id="7840291">,</span>&nbsp;<span class="ident" id="7840293">nd</span><span class="op" id="7840295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7840300">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7840306">ns</span>&nbsp;<span class="op" id="7840309">:=</span>&nbsp;<span class="ident" id="7840312">nre</span><span class="op" id="7840315">.</span><span class="ident" id="7840316">String</span><span class="op" id="7840322">(</span><span class="op" id="7840323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7840328">if</span>&nbsp;<span class="ident" id="7840331">s</span>&nbsp;<span class="op" id="7840333">!=</span>&nbsp;<span class="ident" id="7840336">ns</span>&nbsp;<span class="op" id="7840339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7840345">t</span><span class="op" id="7840346">.</span><span class="ident" id="7840347">Errorf</span><span class="op" id="7840353">(</span><span class="string" id="7840354">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q&nbsp;-&gt;&nbsp;%#q&#34;</span><span class="op" id="7840380">,</span>&nbsp;<span class="ident" id="7840382">tt</span><span class="op" id="7840384">.</span><span class="ident" id="7840385">Regexp</span><span class="op" id="7840391">,</span>&nbsp;<span class="ident" id="7840393">s</span><span class="op" id="7840394">,</span>&nbsp;<span class="ident" id="7840396">ns</span><span class="op" id="7840398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7840403">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7840407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7840410">}</span><br>
<span class="lineno"></span><span class="op" id="7840412">}</span>
</div>
</body>
</html>
